function i6e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function L9(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var xD={exports:{}},fx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9=Symbol.for("react.transitional.element"),F9=Symbol.for("react.fragment");function yD(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:z9,type:t,key:i,ref:e!==void 0?e:null,props:n}}fx.Fragment=F9;fx.jsx=yD;fx.jsxs=yD;xD.exports=fx;var S=xD.exports,vD={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=Symbol.for("react.transitional.element"),P9=Symbol.for("react.portal"),B9=Symbol.for("react.fragment"),M9=Symbol.for("react.strict_mode"),j9=Symbol.for("react.profiler"),U9=Symbol.for("react.consumer"),V9=Symbol.for("react.context"),H9=Symbol.for("react.forward_ref"),W9=Symbol.for("react.suspense"),G9=Symbol.for("react.memo"),wD=Symbol.for("react.lazy"),a3=Symbol.iterator;function q9(t){return t===null||typeof t!="object"?null:(t=a3&&t[a3]||t["@@iterator"],typeof t=="function"?t:null)}var kD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SD=Object.assign,CD={};function oh(t,e,n){this.props=t,this.context=e,this.refs=CD,this.updater=n||kD}oh.prototype.isReactComponent={};oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ED(){}ED.prototype=oh.prototype;function _S(t,e,n){this.props=t,this.context=e,this.refs=CD,this.updater=n||kD}var AS=_S.prototype=new ED;AS.constructor=_S;SD(AS,oh.prototype);AS.isPureReactComponent=!0;var l3=Array.isArray,ln={H:null,A:null,T:null,S:null},TD=Object.prototype.hasOwnProperty;function NS(t,e,n,i,s,o){return n=o.ref,{$$typeof:$S,type:t,key:e,ref:n!==void 0?n:null,props:o}}function K9(t,e){return NS(t.type,e,void 0,void 0,void 0,t.props)}function DS(t){return typeof t=="object"&&t!==null&&t.$$typeof===$S}function X9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c3=/\/+/g;function w1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?X9(""+t.key):e.toString(36)}function u3(){}function Y9(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(u3,u3):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Pu(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case $S:case P9:r=!0;break;case wD:return r=t._init,Pu(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+w1(t,0):i,l3(s)?(n="",r!=null&&(n=r.replace(c3,"$&/")+"/"),Pu(s,e,n,"",function(c){return c})):s!=null&&(DS(s)&&(s=K9(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(c3,"$&/")+"/")+r)),e.push(s)),1;r=0;var a=i===""?".":i+":";if(l3(t))for(var l=0;l<t.length;l++)i=t[l],o=a+w1(i,l),r+=Pu(i,e,n,o,s);else if(l=q9(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,o=a+w1(i,l++),r+=Pu(i,e,n,o,s);else if(o==="object"){if(typeof t.then=="function")return Pu(Y9(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Cg(t,e,n){if(t==null)return t;var i=[],s=0;return Pu(t,i,"","",function(o){return e.call(n,o,s++)}),i}function Z9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var d3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function J9(){}lt.Children={map:Cg,forEach:function(t,e,n){Cg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cg(t,function(){e++}),e},toArray:function(t){return Cg(t,function(e){return e})||[]},only:function(t){if(!DS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=oh;lt.Fragment=B9;lt.Profiler=j9;lt.PureComponent=_S;lt.StrictMode=M9;lt.Suspense=W9;lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ln;lt.act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.cache=function(t){return function(){return t.apply(null,arguments)}};lt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=SD({},t.props),s=t.key,o=void 0;if(e!=null)for(r in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(s=""+e.key),e)!TD.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];i.children=a}return NS(t.type,s,void 0,void 0,o,i)};lt.createContext=function(t){return t={$$typeof:V9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:U9,_context:t},t};lt.createElement=function(t,e,n){var i,s={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)TD.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];s.children=a}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return NS(t,o,void 0,void 0,null,s)};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:H9,render:t}};lt.isValidElement=DS;lt.lazy=function(t){return{$$typeof:wD,_payload:{_status:-1,_result:t},_init:Z9}};lt.memo=function(t,e){return{$$typeof:G9,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=ln.T,n={};ln.T=n;try{var i=t(),s=ln.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(J9,d3)}catch(o){d3(o)}finally{ln.T=e}};lt.unstable_useCacheRefresh=function(){return ln.H.useCacheRefresh()};lt.use=function(t){return ln.H.use(t)};lt.useActionState=function(t,e,n){return ln.H.useActionState(t,e,n)};lt.useCallback=function(t,e){return ln.H.useCallback(t,e)};lt.useContext=function(t){return ln.H.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t,e){return ln.H.useDeferredValue(t,e)};lt.useEffect=function(t,e){return ln.H.useEffect(t,e)};lt.useId=function(){return ln.H.useId()};lt.useImperativeHandle=function(t,e,n){return ln.H.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return ln.H.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return ln.H.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return ln.H.useMemo(t,e)};lt.useOptimistic=function(t,e){return ln.H.useOptimistic(t,e)};lt.useReducer=function(t,e,n){return ln.H.useReducer(t,e,n)};lt.useRef=function(t){return ln.H.useRef(t)};lt.useState=function(t){return ln.H.useState(t)};lt.useSyncExternalStore=function(t,e,n){return ln.H.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return ln.H.useTransition()};lt.version="19.0.0";vD.exports=lt;var te=vD.exports;const xe=ga(te);var ID={exports:{}},mx={},$D={exports:{}},_D={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var H=F.length;F.push(j);e:for(;0<H;){var M=H-1>>>1,U=F[M];if(0<s(U,j))F[M]=j,F[H]=U,H=M;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var j=F[0],H=F.pop();if(H!==j){F[0]=H;e:for(var M=0,U=F.length,B=U>>>1;M<B;){var V=2*(M+1)-1,ee=F[V],J=V+1,Z=F[J];if(0>s(ee,H))J<U&&0>s(Z,ee)?(F[M]=Z,F[J]=H,M=J):(F[M]=ee,F[V]=H,M=V);else if(J<U&&0>s(Z,H))F[M]=Z,F[J]=H,M=J;else break e}}return j}function s(F,j){var H=F.sortIndex-j.sortIndex;return H!==0?H:F.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,a=r.now();t.unstable_now=function(){return r.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function y(F){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=F)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function v(F){if(m=!1,y(F),!f)if(n(l)!==null)f=!0,I();else{var j=n(c);j!==null&&L(v,j.startTime-F)}}var w=!1,C=-1,k=5,E=-1;function T(){return!(t.unstable_now()-E<k)}function _(){if(w){var F=t.unstable_now();E=F;var j=!0;try{e:{f=!1,m&&(m=!1,g(C),C=-1),p=!0;var H=h;try{t:{for(y(F),d=n(l);d!==null&&!(d.expirationTime>F&&T());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var U=M(d.expirationTime<=F);if(F=t.unstable_now(),typeof U=="function"){d.callback=U,y(F),j=!0;break t}d===n(l)&&i(l),y(F)}else i(l);d=n(l)}if(d!==null)j=!0;else{var B=n(c);B!==null&&L(v,B.startTime-F),j=!1}}break e}finally{d=null,h=H,p=!1}j=void 0}}finally{j?z():w=!1}}}var z;if(typeof x=="function")z=function(){x(_)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,O=N.port2;N.port1.onmessage=_,z=function(){O.postMessage(null)}}else z=function(){b(_,0)};function I(){w||(w=!0,z())}function L(F,j){C=b(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,I())},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var H=h;h=j;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return j()}finally{h=H}},t.unstable_scheduleCallback=function(F,j,H){var M=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?M+H:M):H=M,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,F={id:u++,callback:j,priorityLevel:F,startTime:H,expirationTime:U,sortIndex:-1},H>M?(F.sortIndex=H,e(c,F),n(l)===null&&F===n(c)&&(m?(g(C),C=-1):m=!0,L(v,H-M))):(F.sortIndex=U,e(l,F),f||p||(f=!0,I())),F},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(F){var j=h;return function(){var H=h;h=j;try{return F.apply(this,arguments)}finally{h=H}}}})(_D);$D.exports=_D;var Q9=$D.exports,AD={exports:{}},Yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej=te;function ND(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ca(){}var Hi={d:{f:Ca,r:function(){throw Error(ND(522))},D:Ca,C:Ca,L:Ca,m:Ca,X:Ca,S:Ca,M:Ca},p:0,findDOMNode:null},tj=Symbol.for("react.portal");function nj(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tj,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var bp=ej.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gx(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Hi;Yi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ND(299));return nj(t,e,null,n)};Yi.flushSync=function(t){var e=bp.T,n=Hi.p;try{if(bp.T=null,Hi.p=2,t)return t()}finally{bp.T=e,Hi.p=n,Hi.d.f()}};Yi.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Hi.d.C(t,e))};Yi.prefetchDNS=function(t){typeof t=="string"&&Hi.d.D(t)};Yi.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=gx(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Hi.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:o}):n==="script"&&Hi.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Yi.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=gx(e.as,e.crossOrigin);Hi.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Hi.d.M(t)};Yi.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=gx(n,e.crossOrigin);Hi.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Yi.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=gx(e.as,e.crossOrigin);Hi.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Hi.d.m(t)};Yi.requestFormReset=function(t){Hi.d.r(t)};Yi.unstable_batchedUpdates=function(t,e){return t(e)};Yi.useFormState=function(t,e,n){return bp.H.useFormState(t,e,n)};Yi.useFormStatus=function(){return bp.H.useHostTransitionStatus()};Yi.version="19.0.0";function DD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DD)}catch(t){console.error(t)}}DD(),AD.exports=Yi;var OS=AD.exports;const ij=ga(OS);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Q9,OD=te,sj=OS;function me(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function RD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var oj=Symbol.for("react.element"),Eg=Symbol.for("react.transitional.element"),sp=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),LD=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),rj=Symbol.for("react.provider"),zD=Symbol.for("react.consumer"),Yr=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),Jw=Symbol.for("react.suspense_list"),LS=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),FD=Symbol.for("react.offscreen"),aj=Symbol.for("react.memo_cache_sentinel"),h3=Symbol.iterator;function Mh(t){return t===null||typeof t!="object"?null:(t=h3&&t[h3]||t["@@iterator"],typeof t=="function"?t:null)}var lj=Symbol.for("react.client.reference");function Qw(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===lj?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qu:return"Fragment";case sp:return"Portal";case Yw:return"Profiler";case LD:return"StrictMode";case Zw:return"Suspense";case Jw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yr:return(t.displayName||"Context")+".Provider";case zD:return(t._context.displayName||"Context")+".Consumer";case RS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LS:return e=t.displayName||null,e!==null?e:Qw(t.type)||"Memo";case La:e=t._payload,t=t._init;try{return Qw(t(e))}catch(n){}}return null}var tt=OD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zt=Object.assign,k1,p3;function op(t){if(k1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);k1=e&&e[1]||"",p3=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+k1+t+p3}var S1=!1;function C1(t,e){if(!t||S1)return"";S1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var h=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){h=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){h=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],a=o[1];if(r&&a){var l=r.split("\n"),c=a.split("\n");for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=s);break}}}finally{S1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?op(n):""}function cj(t){switch(t.tag){case 26:case 27:case 5:return op(t.type);case 16:return op("Lazy");case 13:return op("Suspense");case 19:return op("SuspenseList");case 0:case 15:return t=C1(t.type,!1),t;case 11:return t=C1(t.type.render,!1),t;case 1:return t=C1(t.type,!0),t;default:return""}}function f3(t){try{var e="";do e+=cj(t),t=t.return;while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function rh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m3(t){if(rh(t)!==t)throw Error(me(188))}function uj(t){var e=t.alternate;if(!e){if(e=rh(t),e===null)throw Error(me(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return m3(s),t;if(o===i)return m3(s),e;o=o.sibling}throw Error(me(188))}if(n.return!==i.return)n=s,i=o;else{for(var r=!1,a=s.child;a;){if(a===n){r=!0,n=s,i=o;break}if(a===i){r=!0,i=s,n=o;break}a=a.sibling}if(!r){for(a=o.child;a;){if(a===n){r=!0,n=o,i=s;break}if(a===i){r=!0,i=o,n=s;break}a=a.sibling}if(!r)throw Error(me(189))}}if(n.alternate!==i)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?t:e}function BD(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=BD(t),e!==null)return e;t=t.sibling}return null}var rp=Array.isArray,Xt=sj.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vc={pending:!1,data:null,method:null,action:null},ek=[],ed=-1;function _r(t){return{current:t}}function ai(t){0>ed||(t.current=ek[ed],ek[ed]=null,ed--)}function en(t,e){ed++,ek[ed]=t.current,t.current=e}var mr=_r(null),Pp=_r(null),Za=_r(null),Bb=_r(null);function Mb(t,e){switch(en(Za,e),en(Pp,t),en(mr,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=g_(t),e=Z5(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ai(mr),en(mr,e)}function Nd(){ai(mr),ai(Pp),ai(Za)}function tk(t){t.memoizedState!==null&&en(Bb,t);var e=mr.current,n=Z5(e,t.type);e!==n&&(en(Pp,t),en(mr,n))}function jb(t){Pp.current===t&&(ai(mr),ai(Pp)),Bb.current===t&&(ai(Bb),Xp._currentValue=vc)}var nk=Object.prototype.hasOwnProperty,zS=Kn.unstable_scheduleCallback,E1=Kn.unstable_cancelCallback,dj=Kn.unstable_shouldYield,hj=Kn.unstable_requestPaint,gr=Kn.unstable_now,pj=Kn.unstable_getCurrentPriorityLevel,MD=Kn.unstable_ImmediatePriority,jD=Kn.unstable_UserBlockingPriority,Ub=Kn.unstable_NormalPriority,fj=Kn.unstable_LowPriority,UD=Kn.unstable_IdlePriority,mj=Kn.log,gj=Kn.unstable_setDisableYieldValue,If=null,_s=null;function bj(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(If,t,void 0,(t.current.flags&128)===128)}catch(e){}}function Ga(t){if(typeof mj=="function"&&gj(t),_s&&typeof _s.setStrictMode=="function")try{_s.setStrictMode(If,t)}catch(e){}}var As=Math.clz32?Math.clz32:vj,xj=Math.log,yj=Math.LN2;function vj(t){return t>>>=0,t===0?32:31-(xj(t)/yj|0)|0}var Tg=128,Ig=4194304;function Ql(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bx(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,r=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~s,n!==0?i=Ql(n):(o&=a,o!==0?i=Ql(o):t||(r=a&~r,r!==0&&(i=Ql(r))))):(a=n&~s,a!==0?i=Ql(a):o!==0?i=Ql(o):t||(r=n&~r,r!==0&&(i=Ql(r)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===32&&(r&4194176)!==0)?e:i}function $f(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function wj(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VD(){var t=Tg;return Tg<<=1,!(Tg&4194176)&&(Tg=128),t}function HD(){var t=Ig;return Ig<<=1,!(Ig&62914560)&&(Ig=4194304),t}function T1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _f(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kj(t,e,n,i,s,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var u=31-As(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];p!==null&&(p.lane&=-536870913)}n&=~d}i!==0&&WD(t,i,0),o!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function WD(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-As(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function GD(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-As(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function qD(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function KD(){var t=Xt.p;return t!==0?t:(t=window.event,t===void 0?32:aR(t.type))}function Sj(t,e){var n=Xt.p;try{return Xt.p=t,e()}finally{Xt.p=n}}var Tl=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Tl,ls="__reactProps$"+Tl,ah="__reactContainer$"+Tl,ik="__reactEvents$"+Tl,Cj="__reactListeners$"+Tl,Ej="__reactHandles$"+Tl,g3="__reactResources$"+Tl,Bp="__reactMarker$"+Tl;function FS(t){delete t[Ai],delete t[ls],delete t[ik],delete t[Cj],delete t[Ej]}function dc(t){var e=t[Ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ah]||n[Ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=x_(t);t!==null;){if(n=t[Ai])return n;t=x_(t)}return e}t=n,n=t.parentNode}return null}function lh(t){if(t=t[Ai]||t[ah]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ap(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(me(33))}function pd(t){var e=t[g3];return e||(e=t[g3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ni(t){t[Bp]=!0}var XD=new Set,YD={};function su(t,e){Dd(t,e),Dd(t+"Capture",e)}function Dd(t,e){for(YD[t]=e,t=0;t<e.length;t++)XD.add(e[t])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b3={},x3={};function Ij(t){return nk.call(x3,t)?!0:nk.call(b3,t)?!1:Tj.test(t)?x3[t]=!0:(b3[t]=!0,!1)}function bb(t,e,n){if(Ij(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function $g(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Rr(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Zs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $j(t){var e=ZD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){i=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vb(t){t._valueTracker||(t._valueTracker=$j(t))}function JD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ZD(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var _j=/[\n"\\]/g;function eo(t){return t.replace(_j,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function sk(t,e,n,i,s,o,r,a){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Zs(e)):t.value!==""+Zs(e)&&(t.value=""+Zs(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?ok(t,r,Zs(e)):n!=null?ok(t,r,Zs(n)):i!=null&&t.removeAttribute("value"),s==null&&o!=null&&(t.defaultChecked=!!o),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+Zs(a):t.removeAttribute("name")}function QD(t,e,n,i,s,o,r,a){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+Zs(n):"",e=e!=null?""+Zs(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i!=null?i:s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function ok(t,e,n){e==="number"&&Hb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function fd(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function eO(t,e,n){if(e!=null&&(e=""+Zs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Zs(n):""}function tO(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(me(92));if(rp(i)){if(1<i.length)throw Error(me(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Zs(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Od(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Aj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y3(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Aj.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function nO(t,e,n){if(e!=null&&typeof e!="object")throw Error(me(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&y3(t,s,i)}else for(var o in e)e.hasOwnProperty(o)&&y3(t,o,e[o])}function PS(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xb(t){return Dj.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rk=null;function BS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var td=null,md=null;function v3(t){var e=lh(t);if(e&&(t=e.stateNode)){var n=t[ls]||null;e:switch(t=e.stateNode,e.type){case"input":if(sk(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+eo(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[ls]||null;if(!s)throw Error(me(90));sk(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&JD(i)}break e;case"textarea":eO(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&fd(t,!!n.multiple,e,!1)}}}var I1=!1;function iO(t,e,n){if(I1)return t(e,n);I1=!0;try{var i=t(e);return i}finally{if(I1=!1,(td!==null||md!==null)&&(Ix(),td&&(e=td,t=md,md=td=null,v3(e),t)))for(e=0;e<t.length;e++)v3(t[e])}}function Mp(t,e){var n=t.stateNode;if(n===null)return null;var i=n[ls]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(me(231,e,typeof n));return n}var ak=!1;if(la)try{var jh={};Object.defineProperty(jh,"passive",{get:function(){ak=!0}}),window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch(t){ak=!1}var qa=null,MS=null,yb=null;function sO(){if(yb)return yb;var t,e=MS,n=e.length,i,s="value"in qa?qa.value:qa.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[o-i];i++);return yb=s.slice(t,1<i?1-i:void 0)}function vb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _g(){return!0}function w3(){return!1}function bs(t){function e(n,i,s,o,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_g:w3,this.isPropagationStopped=w3,this}return Zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_g)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_g)},persist:function(){},isPersistent:_g}),e}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xx=bs(ou),Af=Zt({},ou,{view:0,detail:0}),Oj=bs(Af),$1,_1,Uh,yx=Zt({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uh&&(Uh&&t.type==="mousemove"?($1=t.screenX-Uh.screenX,_1=t.screenY-Uh.screenY):_1=$1=0,Uh=t),$1)},movementY:function(t){return"movementY"in t?t.movementY:_1}}),k3=bs(yx),Rj=Zt({},yx,{dataTransfer:0}),Lj=bs(Rj),zj=Zt({},Af,{relatedTarget:0}),A1=bs(zj),Fj=Zt({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),Pj=bs(Fj),Bj=Zt({},ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mj=bs(Bj),jj=Zt({},ou,{data:0}),S3=bs(jj),Uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hj[t])?!!e[t]:!1}function jS(){return Wj}var Gj=Zt({},Af,{key:function(t){if(t.key){var e=Uj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jS,charCode:function(t){return t.type==="keypress"?vb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qj=bs(Gj),Kj=Zt({},yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C3=bs(Kj),Xj=Zt({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jS}),Yj=bs(Xj),Zj=Zt({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jj=bs(Zj),Qj=Zt({},yx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eU=bs(Qj),tU=Zt({},ou,{newState:0,oldState:0}),nU=bs(tU),iU=[9,13,27,32],US=la&&"CompositionEvent"in window,xp=null;la&&"documentMode"in document&&(xp=document.documentMode);var sU=la&&"TextEvent"in window&&!xp,oO=la&&(!US||xp&&8<xp&&11>=xp),E3=" ",T3=!1;function rO(t,e){switch(t){case"keyup":return iU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nd=!1;function oU(t,e){switch(t){case"compositionend":return aO(e);case"keypress":return e.which!==32?null:(T3=!0,E3);case"textInput":return t=e.data,t===E3&&T3?null:t;default:return null}}function rU(t,e){if(nd)return t==="compositionend"||!US&&rO(t,e)?(t=sO(),yb=MS=qa=null,nd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oO&&e.locale!=="ko"?null:e.data;default:return null}}var aU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aU[t.type]:e==="textarea"}function lO(t,e,n,i){td?md?md.push(i):md=[i]:td=i,e=r0(e,"onChange"),0<e.length&&(n=new xx("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var yp=null,jp=null;function lU(t){K5(t,0)}function vx(t){var e=ap(t);if(JD(e))return t}function $3(t,e){if(t==="change")return e}var cO=!1;if(la){var N1;if(la){var D1="oninput"in document;if(!D1){var _3=document.createElement("div");_3.setAttribute("oninput","return;"),D1=typeof _3.oninput=="function"}N1=D1}else N1=!1;cO=N1&&(!document.documentMode||9<document.documentMode)}function A3(){yp&&(yp.detachEvent("onpropertychange",uO),jp=yp=null)}function uO(t){if(t.propertyName==="value"&&vx(jp)){var e=[];lO(e,jp,t,BS(t)),iO(lU,e)}}function cU(t,e,n){t==="focusin"?(A3(),yp=e,jp=n,yp.attachEvent("onpropertychange",uO)):t==="focusout"&&A3()}function uU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vx(jp)}function dU(t,e){if(t==="click")return vx(e)}function hU(t,e){if(t==="input"||t==="change")return vx(e)}function pU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:pU;function Up(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!nk.call(e,s)||!Ls(t[s],e[s]))return!1}return!0}function N3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D3(t,e){var n=N3(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N3(n)}}function dO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hO(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Hb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Hb(t.document)}return e}function VS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fU(t,e){var n=hO(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&dO(e.ownerDocument.documentElement,e)){if(i!==null&&VS(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=D3(e,o);var r=D3(e,i);s&&r&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==r.node||n.focusOffset!==r.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(t),n.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mU=la&&"documentMode"in document&&11>=document.documentMode,id=null,lk=null,vp=null,ck=!1;function O3(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ck||id==null||id!==Hb(i)||(i=id,"selectionStart"in i&&VS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vp&&Up(vp,i)||(vp=i,i=r0(lk,"onSelect"),0<i.length&&(e=new xx("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=id)))}function ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sd={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},O1={},pO={};la&&(pO=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function ru(t){if(O1[t])return O1[t];if(!sd[t])return t;var e=sd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pO)return O1[t]=e[n];return t}var fO=ru("animationend"),mO=ru("animationiteration"),gO=ru("animationstart"),gU=ru("transitionrun"),bU=ru("transitionstart"),xU=ru("transitioncancel"),bO=ru("transitionend"),xO=new Map,R3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qo(t,e){xO.set(t,e),su(e,[t])}var Xs=[],od=0,HS=0;function wx(){for(var t=od,e=HS=od=0;e<t;){var n=Xs[e];Xs[e++]=null;var i=Xs[e];Xs[e++]=null;var s=Xs[e];Xs[e++]=null;var o=Xs[e];if(Xs[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}o!==0&&yO(n,s,o)}}function kx(t,e,n,i){Xs[od++]=t,Xs[od++]=e,Xs[od++]=n,Xs[od++]=i,HS|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function WS(t,e,n,i){return kx(t,e,n,i),Wb(t)}function dl(t,e){return kx(t,null,null,e),Wb(t)}function yO(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(s=!0)),t=o,o=o.return;s&&e!==null&&t.tag===3&&(o=t.stateNode,s=31-As(n),o=o.hiddenUpdates,t=o[s],t===null?o[s]=[e]:t.push(e),e.lane=n|536870912)}function Wb(t){if(50<Dp)throw Dp=0,Nk=null,Error(me(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var rd={},L3=new WeakMap;function to(t,e){if(typeof t=="object"&&t!==null){var n=L3.get(t);return n!==void 0?n:(e={value:t,source:e,stack:f3(e)},L3.set(t,e),e)}return{value:t,source:e,stack:f3(e)}}var ad=[],ld=0,Gb=null,qb=0,Js=[],Qs=0,wc=null,Zr=1,Jr="";function ec(t,e){ad[ld++]=qb,ad[ld++]=Gb,Gb=t,qb=e}function vO(t,e,n){Js[Qs++]=Zr,Js[Qs++]=Jr,Js[Qs++]=wc,wc=t;var i=Zr;t=Jr;var s=32-As(i)-1;i&=~(1<<s),n+=1;var o=32-As(e)+s;if(30<o){var r=s-s%5;o=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Zr=1<<32-As(e)+s|n<<s|i,Jr=o+t}else Zr=1<<o|n<<s|i,Jr=t}function GS(t){t.return!==null&&(ec(t,1),vO(t,1,0))}function qS(t){for(;t===Gb;)Gb=ad[--ld],ad[ld]=null,qb=ad[--ld],ad[ld]=null;for(;t===wc;)wc=Js[--Qs],Js[Qs]=null,Jr=Js[--Qs],Js[Qs]=null,Zr=Js[--Qs],Js[Qs]=null}var Mi=null,bi=null,Ct=!1,zo=null,hr=!1,uk=Error(me(519));function Nc(t){var e=Error(me(418,""));throw Vp(to(e,t)),uk}function z3(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ai]=t,e[ls]=i,n){case"dialog":vt("cancel",e),vt("close",e);break;case"iframe":case"object":case"embed":vt("load",e);break;case"video":case"audio":for(n=0;n<Gp.length;n++)vt(Gp[n],e);break;case"source":vt("error",e);break;case"img":case"image":case"link":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"input":vt("invalid",e),QD(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Vb(e);break;case"select":vt("invalid",e);break;case"textarea":vt("invalid",e),tO(e,i.value,i.defaultValue,i.children),Vb(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Y5(e.textContent,n)?(i.popover!=null&&(vt("beforetoggle",e),vt("toggle",e)),i.onScroll!=null&&vt("scroll",e),i.onScrollEnd!=null&&vt("scrollend",e),i.onClick!=null&&(e.onclick=_x),e=!0):e=!1,e||Nc(t)}function F3(t){for(Mi=t.return;Mi;)switch(Mi.tag){case 3:case 27:hr=!0;return;case 5:case 13:hr=!1;return;default:Mi=Mi.return}}function Vh(t){if(t!==Mi)return!1;if(!Ct)return F3(t),Ct=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Pk(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&bi&&Nc(t),F3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){bi=jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}bi=null}}else bi=Mi?jo(t.stateNode.nextSibling):null;return!0}function Nf(){bi=Mi=null,Ct=!1}function Vp(t){zo===null?zo=[t]:zo.push(t)}var wp=Error(me(460)),wO=Error(me(474)),dk={then:function(){}};function P3(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ag(){}function kO(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ag,Ag),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===wp?Error(me(483)):t;default:if(typeof e.status=="string")e.then(Ag,Ag);else{if(t=Ht,t!==null&&100<t.shellSuspendCounter)throw Error(me(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===wp?Error(me(483)):t}throw kp=e,wp}}var kp=null;function B3(){if(kp===null)throw Error(me(459));var t=kp;return kp=null,t}var gd=null,Hp=0;function Ng(t){var e=Hp;return Hp+=1,gd===null&&(gd=[]),kO(gd,t,e)}function Hh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Dg(t,e){throw e.$$typeof===oj?Error(me(525)):(t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function M3(t){var e=t._init;return e(t._payload)}function SO(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(g,x){return g=el(g,x),g.index=0,g.sibling=null,g}function o(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=33554434,x):y):(g.flags|=33554434,x)):(g.flags|=1048576,x)}function r(g){return t&&g.alternate===null&&(g.flags|=33554434),g}function a(g,x,y,v){return x===null||x.tag!==6?(x=W1(y,g.mode,v),x.return=g,x):(x=s(x,y),x.return=g,x)}function l(g,x,y,v){var w=y.type;return w===Qu?u(g,x,y.props.children,v,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===La&&M3(w)===x.type)?(x=s(x,y.props),Hh(x,y),x.return=g,x):(x=Eb(y.type,y.key,y.props,null,g.mode,v),Hh(x,y),x.return=g,x)}function c(g,x,y,v){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=G1(y,g.mode,v),x.return=g,x):(x=s(x,y.children||[]),x.return=g,x)}function u(g,x,y,v,w){return x===null||x.tag!==7?(x=Sc(y,g.mode,v,w),x.return=g,x):(x=s(x,y),x.return=g,x)}function d(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=W1(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eg:return y=Eb(x.type,x.key,x.props,null,g.mode,y),Hh(y,x),y.return=g,y;case sp:return x=G1(x,g.mode,y),x.return=g,x;case La:var v=x._init;return x=v(x._payload),d(g,x,y)}if(rp(x)||Mh(x))return x=Sc(x,g.mode,y,null),x.return=g,x;if(typeof x.then=="function")return d(g,Ng(x),y);if(x.$$typeof===Yr)return d(g,Og(g,x),y);Dg(g,x)}return null}function h(g,x,y,v){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:a(g,x,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eg:return y.key===w?l(g,x,y,v):null;case sp:return y.key===w?c(g,x,y,v):null;case La:return w=y._init,y=w(y._payload),h(g,x,y,v)}if(rp(y)||Mh(y))return w!==null?null:u(g,x,y,v,null);if(typeof y.then=="function")return h(g,x,Ng(y),v);if(y.$$typeof===Yr)return h(g,x,Og(g,y),v);Dg(g,y)}return null}function p(g,x,y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(y)||null,a(x,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Eg:return g=g.get(v.key===null?y:v.key)||null,l(x,g,v,w);case sp:return g=g.get(v.key===null?y:v.key)||null,c(x,g,v,w);case La:var C=v._init;return v=C(v._payload),p(g,x,y,v,w)}if(rp(v)||Mh(v))return g=g.get(y)||null,u(x,g,v,w,null);if(typeof v.then=="function")return p(g,x,y,Ng(v),w);if(v.$$typeof===Yr)return p(g,x,y,Og(x,v),w);Dg(x,v)}return null}function f(g,x,y,v){for(var w=null,C=null,k=x,E=x=0,T=null;k!==null&&E<y.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var _=h(g,k,y[E],v);if(_===null){k===null&&(k=T);break}t&&k&&_.alternate===null&&e(g,k),x=o(_,x,E),C===null?w=_:C.sibling=_,C=_,k=T}if(E===y.length)return n(g,k),Ct&&ec(g,E),w;if(k===null){for(;E<y.length;E++)k=d(g,y[E],v),k!==null&&(x=o(k,x,E),C===null?w=k:C.sibling=k,C=k);return Ct&&ec(g,E),w}for(k=i(k);E<y.length;E++)T=p(k,g,E,y[E],v),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),x=o(T,x,E),C===null?w=T:C.sibling=T,C=T);return t&&k.forEach(function(z){return e(g,z)}),Ct&&ec(g,E),w}function m(g,x,y,v){if(y==null)throw Error(me(151));for(var w=null,C=null,k=x,E=x=0,T=null,_=y.next();k!==null&&!_.done;E++,_=y.next()){k.index>E?(T=k,k=null):T=k.sibling;var z=h(g,k,_.value,v);if(z===null){k===null&&(k=T);break}t&&k&&z.alternate===null&&e(g,k),x=o(z,x,E),C===null?w=z:C.sibling=z,C=z,k=T}if(_.done)return n(g,k),Ct&&ec(g,E),w;if(k===null){for(;!_.done;E++,_=y.next())_=d(g,_.value,v),_!==null&&(x=o(_,x,E),C===null?w=_:C.sibling=_,C=_);return Ct&&ec(g,E),w}for(k=i(k);!_.done;E++,_=y.next())_=p(k,g,E,_.value,v),_!==null&&(t&&_.alternate!==null&&k.delete(_.key===null?E:_.key),x=o(_,x,E),C===null?w=_:C.sibling=_,C=_);return t&&k.forEach(function(N){return e(g,N)}),Ct&&ec(g,E),w}function b(g,x,y,v){if(typeof y=="object"&&y!==null&&y.type===Qu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Eg:e:{for(var w=y.key;x!==null;){if(x.key===w){if(w=y.type,w===Qu){if(x.tag===7){n(g,x.sibling),v=s(x,y.props.children),v.return=g,g=v;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===La&&M3(w)===x.type){n(g,x.sibling),v=s(x,y.props),Hh(v,y),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===Qu?(v=Sc(y.props.children,g.mode,v,y.key),v.return=g,g=v):(v=Eb(y.type,y.key,y.props,null,g.mode,v),Hh(v,y),v.return=g,g=v)}return r(g);case sp:e:{for(w=y.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),v=s(x,y.children||[]),v.return=g,g=v;break e}else{n(g,x);break}else e(g,x);x=x.sibling}v=G1(y,g.mode,v),v.return=g,g=v}return r(g);case La:return w=y._init,y=w(y._payload),b(g,x,y,v)}if(rp(y))return f(g,x,y,v);if(Mh(y)){if(w=Mh(y),typeof w!="function")throw Error(me(150));return y=w.call(y),m(g,x,y,v)}if(typeof y.then=="function")return b(g,x,Ng(y),v);if(y.$$typeof===Yr)return b(g,x,Og(g,y),v);Dg(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),v=s(x,y),v.return=g,g=v):(n(g,x),v=W1(y,g.mode,v),v.return=g,g=v),r(g)):n(g,x)}return function(g,x,y,v){try{Hp=0;var w=b(g,x,y,v);return gd=null,w}catch(k){if(k===wp)throw k;var C=io(29,k,null,g.mode);return C.lanes=v,C.return=g,C}finally{}}}var Dc=SO(!0),CO=SO(!1),Rd=_r(null),Kb=_r(0);function j3(t,e){t=da,en(Kb,t),en(Rd,e),da=t|e.baseLanes}function hk(){en(Kb,da),en(Rd,Rd.current)}function KS(){da=Kb.current,ai(Rd),ai(Kb)}var bo=_r(null),br=null;function Ma(t){var e=t.alternate;en(Un,Un.current&1),en(bo,t),br===null&&(e===null||Rd.current!==null||e.memoizedState!==null)&&(br=t)}function EO(t){if(t.tag===22){if(en(Un,Un.current),en(bo,t),br===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(br=t)}}else ja()}function ja(){en(Un,Un.current),en(bo,bo.current)}function Qr(t){ai(bo),br===t&&(br=null),ai(Un)}var Un=_r(0);function Xb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yU=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},vU=Kn.unstable_scheduleCallback,wU=Kn.unstable_NormalPriority,Bn={$$typeof:Yr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function XS(){return{controller:new yU,data:new Map,refCount:0}}function Df(t){t.refCount--,t.refCount===0&&vU(wU,function(){t.controller.abort()})}var Sp=null,pk=0,Ld=0,bd=null;function kU(t,e){if(Sp===null){var n=Sp=[];pk=0,Ld=xC(),bd={status:"pending",value:void 0,then:function(i){n.push(i)}}}return pk++,e.then(U3,U3),e}function U3(){if(--pk===0&&Sp!==null){bd!==null&&(bd.status="fulfilled");var t=Sp;Sp=null,Ld=0,bd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function SU(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var V3=tt.S;tt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&kU(t,e),V3!==null&&V3(t,e)};var kc=_r(null);function YS(){var t=kc.current;return t!==null?t:Ht.pooledCache}function wb(t,e){e===null?en(kc,kc.current):en(kc,e.pool)}function TO(){var t=YS();return t===null?null:{parent:Bn._currentValue,pool:t}}var hl=0,ht=null,Ot=null,Tn=null,Yb=!1,xd=!1,Oc=!1,Zb=0,Wp=0,yd=null,CU=0;function Sn(){throw Error(me(321))}function ZS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function JS(t,e,n,i,s,o){return hl=o,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tt.H=t===null||t.memoizedState===null?au:Il,Oc=!1,o=n(i,s),Oc=!1,xd&&(o=$O(e,n,i,s)),IO(t),o}function IO(t){tt.H=Cr;var e=Ot!==null&&Ot.next!==null;if(hl=0,Tn=Ot=ht=null,Yb=!1,Wp=0,yd=null,e)throw Error(me(300));t===null||ri||(t=t.dependencies,t!==null&&e0(t)&&(ri=!0))}function $O(t,e,n,i){ht=t;var s=0;do{if(xd&&(yd=null),Wp=0,xd=!1,25<=s)throw Error(me(301));if(s+=1,Tn=Ot=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}tt.H=lu,o=e(n,i)}while(xd);return o}function EU(){var t=tt.H,e=t.useState()[0];return e=typeof e.then=="function"?Of(e):e,t=t.useState()[0],(Ot!==null?Ot.memoizedState:null)!==t&&(ht.flags|=1024),e}function QS(){var t=Zb!==0;return Zb=0,t}function eC(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function tC(t){if(Yb){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Yb=!1}hl=0,Tn=Ot=ht=null,xd=!1,Wp=Zb=0,yd=null}function es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?ht.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function Dn(){if(Ot===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Tn===null?ht.memoizedState:Tn.next;if(e!==null)Tn=e,Ot=t;else{if(t===null)throw ht.alternate===null?Error(me(467)):Error(me(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Tn===null?ht.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}var Sx;Sx=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Of(t){var e=Wp;return Wp+=1,yd===null&&(yd=[]),t=kO(yd,t,e),e=ht,(Tn===null?e.memoizedState:Tn.next)===null&&(e=e.alternate,tt.H=e===null||e.memoizedState===null?au:Il),t}function Cx(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Of(t);if(t.$$typeof===Yr)return Ni(t)}throw Error(me(438,String(t)))}function nC(t){var e=null,n=ht.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ht.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Sx(),ht.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=aj;return e.index++,n}function ca(t,e){return typeof e=="function"?e(t):e}function kb(t){var e=Dn();return iC(e,Ot,t)}function iC(t,e,n){var i=t.queue;if(i===null)throw Error(me(311));i.lastRenderedReducer=n;var s=t.baseQueue,o=i.pending;if(o!==null){if(s!==null){var r=s.next;s.next=o.next,o.next=r}e.baseQueue=s=o,i.pending=null}if(o=t.baseState,s===null)t.memoizedState=o;else{e=s.next;var a=r=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(kt&d)===d:(hl&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ld&&(u=!0);else if((hl&h)===h){c=c.next,h===Ld&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,r=o):l=l.next=d,ht.lanes|=h,fl|=h;d=c.action,Oc&&n(o,d),o=c.hasEagerState?c.eagerState:n(o,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,r=o):l=l.next=h,ht.lanes|=d,fl|=d;c=c.next}while(c!==null&&c!==e);if(l===null?r=o:l.next=a,!Ls(o,t.memoizedState)&&(ri=!0,u&&(n=bd,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=l,i.lastRenderedState=o}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function R1(t){var e=Dn(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do o=t(o,r.action),r=r.next;while(r!==s);Ls(o,e.memoizedState)||(ri=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function _O(t,e,n){var i=ht,s=Dn(),o=Ct;if(o){if(n===void 0)throw Error(me(407));n=n()}else n=e();var r=!Ls((Ot||s).memoizedState,n);if(r&&(s.memoizedState=n,ri=!0),s=s.queue,sC(DO.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Tn!==null&&Tn.memoizedState.tag&1){if(i.flags|=2048,zd(9,NO.bind(null,i,s,n,e),{destroy:void 0},null),Ht===null)throw Error(me(349));o||hl&60||AO(i,e,n)}return n}function AO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e=Sx(),ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NO(t,e,n,i){e.value=n,e.getSnapshot=i,OO(e)&&RO(t)}function DO(t,e,n){return n(function(){OO(e)&&RO(t)})}function OO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch(i){return!0}}function RO(t){var e=dl(t,2);e!==null&&Wi(e,t,2)}function fk(t){var e=es();if(typeof t=="function"){var n=t;if(t=n(),Oc){Ga(!0);try{n()}finally{Ga(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},e}function LO(t,e,n,i){return t.baseState=n,iC(t,Ot,typeof i=="function"?i:ca)}function TU(t,e,n,i,s){if(Tx(t))throw Error(me(485));if(t=e.action,t!==null){var o={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};tt.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,zO(e,o)):(o.next=n.next,e.pending=n.next=o)}}function zO(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var o=tt.T,r={};tt.T=r;try{var a=n(s,i),l=tt.S;l!==null&&l(r,a),H3(t,e,a)}catch(c){mk(t,e,c)}finally{tt.T=o}}else try{o=n(s,i),H3(t,e,o)}catch(c){mk(t,e,c)}}function H3(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){W3(t,e,i)},function(i){return mk(t,e,i)}):W3(t,e,n)}function W3(t,e,n){e.status="fulfilled",e.value=n,FO(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,zO(t,n)))}function mk(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,FO(e),e=e.next;while(e!==i)}t.action=null}function FO(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function PO(t,e){return e}function BO(t,e){if(Ct){var n=Ht.formState;if(n!==null){e:{var i=ht;if(Ct){if(bi){t:{for(var s=bi,o=hr;s.nodeType!==8;){if(!o){s=null;break t}if(s=jo(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){bi=jo(s.nextSibling),i=s.data==="F!";break e}}Nc(i)}i=!1}i&&(e=n[0])}}return n=es(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PO,lastRenderedState:e},n.queue=i,n=n5.bind(null,ht,i),i.dispatch=n,i=fk(!1),o=lC.bind(null,ht,!1,i.queue),i=es(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=TU.bind(null,ht,s,o,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function MO(t){var e=Dn();return jO(e,Ot,t)}function jO(t,e,n){e=iC(t,e,PO)[0],t=kb(ca)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Of(e):e;var i=Dn(),s=i.queue,o=s.dispatch;return n!==i.memoizedState&&(ht.flags|=2048,zd(9,IU.bind(null,s,n),{destroy:void 0},null)),[e,o,t]}function IU(t,e){t.action=e}function UO(t){var e=Dn(),n=Ot;if(n!==null)return jO(e,n,t);Dn(),e=e.memoizedState,n=Dn();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function zd(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=ht.updateQueue,e===null&&(e=Sx(),ht.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function VO(){return Dn().memoizedState}function Sb(t,e,n,i){var s=es();ht.flags|=t,s.memoizedState=zd(1|e,n,{destroy:void 0},i===void 0?null:i)}function Ex(t,e,n,i){var s=Dn();i=i===void 0?null:i;var o=s.memoizedState.inst;Ot!==null&&i!==null&&ZS(i,Ot.memoizedState.deps)?s.memoizedState=zd(e,n,o,i):(ht.flags|=t,s.memoizedState=zd(1|e,n,o,i))}function G3(t,e){Sb(8390656,8,t,e)}function sC(t,e){Ex(2048,8,t,e)}function HO(t,e){return Ex(4,2,t,e)}function WO(t,e){return Ex(4,4,t,e)}function GO(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qO(t,e,n){n=n!=null?n.concat([t]):null,Ex(4,4,GO.bind(null,e,t),n)}function oC(){}function KO(t,e){var n=Dn();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&ZS(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function XO(t,e){var n=Dn();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&ZS(e,i[1]))return i[0];if(i=t(),Oc){Ga(!0);try{t()}finally{Ga(!1)}}return n.memoizedState=[i,e],i}function rC(t,e,n){return n===void 0||hl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=F5(),ht.lanes|=t,fl|=t,n)}function YO(t,e,n,i){return Ls(n,e)?n:Rd.current!==null?(t=rC(t,n,i),Ls(t,e)||(ri=!0),t):hl&42?(t=F5(),ht.lanes|=t,fl|=t,e):(ri=!0,t.memoizedState=n)}function ZO(t,e,n,i,s){var o=Xt.p;Xt.p=o!==0&&8>o?o:8;var r=tt.T,a={};tt.T=a,lC(t,!1,e,n);try{var l=s(),c=tt.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=SU(l,i);Cp(t,e,u,Ns(t))}else Cp(t,e,i,Ns(t))}catch(d){Cp(t,e,{then:function(){},status:"rejected",reason:d},Ns())}finally{Xt.p=o,tt.T=r}}function $U(){}function gk(t,e,n,i){if(t.tag!==5)throw Error(me(476));var s=JO(t).queue;ZO(t,s,e,vc,n===null?$U:function(){return QO(t),n(i)})}function JO(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:vc,baseState:vc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:vc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function QO(t){var e=JO(t).next.queue;Cp(t,e,{},Ns())}function aC(){return Ni(Xp)}function e5(){return Dn().memoizedState}function t5(){return Dn().memoizedState}function _U(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ns();t=Ja(n);var i=Qa(e,t,n);i!==null&&(Wi(i,e,n),Tp(i,e,n)),e={cache:XS()},t.payload=e;return}e=e.return}}function AU(t,e,n){var i=Ns();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Tx(t)?i5(e,n):(n=WS(t,e,n,i),n!==null&&(Wi(n,t,i),s5(n,e,i)))}function n5(t,e,n){var i=Ns();Cp(t,e,n,i)}function Cp(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tx(t))i5(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,a=o(r,n);if(s.hasEagerState=!0,s.eagerState=a,Ls(a,r))return kx(t,e,s,0),Ht===null&&wx(),!1}catch(l){}finally{}if(n=WS(t,e,s,i),n!==null)return Wi(n,t,i),s5(n,e,i),!0}return!1}function lC(t,e,n,i){if(i={lane:2,revertLane:xC(),action:i,hasEagerState:!1,eagerState:null,next:null},Tx(t)){if(e)throw Error(me(479))}else e=WS(t,n,i,2),e!==null&&Wi(e,t,2)}function Tx(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function i5(t,e){xd=Yb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s5(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,GD(t,n)}}var Cr={readContext:Ni,use:Cx,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn};Cr.useCacheRefresh=Sn;Cr.useMemoCache=Sn;Cr.useHostTransitionStatus=Sn;Cr.useFormState=Sn;Cr.useActionState=Sn;Cr.useOptimistic=Sn;var au={readContext:Ni,use:Cx,useCallback:function(t,e){return es().memoizedState=[t,e===void 0?null:e],t},useContext:Ni,useEffect:G3,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Sb(4194308,4,GO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sb(4194308,4,t,e)},useInsertionEffect:function(t,e){Sb(4,2,t,e)},useMemo:function(t,e){var n=es();e=e===void 0?null:e;var i=t();if(Oc){Ga(!0);try{t()}finally{Ga(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=es();if(n!==void 0){var s=n(e);if(Oc){Ga(!0);try{n(e)}finally{Ga(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=AU.bind(null,ht,t),[i.memoizedState,t]},useRef:function(t){var e=es();return t={current:t},e.memoizedState=t},useState:function(t){t=fk(t);var e=t.queue,n=n5.bind(null,ht,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:oC,useDeferredValue:function(t,e){var n=es();return rC(n,t,e)},useTransition:function(){var t=fk(!1);return t=ZO.bind(null,ht,t.queue,!0,!1),es().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ht,s=es();if(Ct){if(n===void 0)throw Error(me(407));n=n()}else{if(n=e(),Ht===null)throw Error(me(349));kt&60||AO(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,G3(DO.bind(null,i,o,t),[t]),i.flags|=2048,zd(9,NO.bind(null,i,o,n,e),{destroy:void 0},null),n},useId:function(){var t=es(),e=Ht.identifierPrefix;if(Ct){var n=Jr,i=Zr;n=(i&~(1<<32-As(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return es().memoizedState=_U.bind(null,ht)}};au.useMemoCache=nC;au.useHostTransitionStatus=aC;au.useFormState=BO;au.useActionState=BO;au.useOptimistic=function(t){var e=es();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=lC.bind(null,ht,!0,n),n.dispatch=e,[t,e]};var Il={readContext:Ni,use:Cx,useCallback:KO,useContext:Ni,useEffect:sC,useImperativeHandle:qO,useInsertionEffect:HO,useLayoutEffect:WO,useMemo:XO,useReducer:kb,useRef:VO,useState:function(){return kb(ca)},useDebugValue:oC,useDeferredValue:function(t,e){var n=Dn();return YO(n,Ot.memoizedState,t,e)},useTransition:function(){var t=kb(ca)[0],e=Dn().memoizedState;return[typeof t=="boolean"?t:Of(t),e]},useSyncExternalStore:_O,useId:e5};Il.useCacheRefresh=t5;Il.useMemoCache=nC;Il.useHostTransitionStatus=aC;Il.useFormState=MO;Il.useActionState=MO;Il.useOptimistic=function(t,e){var n=Dn();return LO(n,Ot,t,e)};var lu={readContext:Ni,use:Cx,useCallback:KO,useContext:Ni,useEffect:sC,useImperativeHandle:qO,useInsertionEffect:HO,useLayoutEffect:WO,useMemo:XO,useReducer:R1,useRef:VO,useState:function(){return R1(ca)},useDebugValue:oC,useDeferredValue:function(t,e){var n=Dn();return Ot===null?rC(n,t,e):YO(n,Ot.memoizedState,t,e)},useTransition:function(){var t=R1(ca)[0],e=Dn().memoizedState;return[typeof t=="boolean"?t:Of(t),e]},useSyncExternalStore:_O,useId:e5};lu.useCacheRefresh=t5;lu.useMemoCache=nC;lu.useHostTransitionStatus=aC;lu.useFormState=UO;lu.useActionState=UO;lu.useOptimistic=function(t,e){var n=Dn();return Ot!==null?LO(n,Ot,t,e):(n.baseState=t,[t,n.queue.dispatch])};function L1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bk={isMounted:function(t){return(t=t._reactInternals)?rh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ns(),s=Ja(i);s.payload=e,n!=null&&(s.callback=n),e=Qa(t,s,i),e!==null&&(Wi(e,t,i),Tp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ns(),s=Ja(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qa(t,s,i),e!==null&&(Wi(e,t,i),Tp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ns(),i=Ja(n);i.tag=2,e!=null&&(i.callback=e),e=Qa(t,i,n),e!==null&&(Wi(e,t,n),Tp(e,t,n))}};function q3(t,e,n,i,s,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!Up(n,i)||!Up(s,o):!0}function K3(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&bk.enqueueReplaceState(e,e.state,null)}function Rc(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Zt({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var Jb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function o5(t){Jb(t)}function r5(t){console.error(t)}function a5(t){Jb(t)}function Qb(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function X3(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function xk(t,e,n){return n=Ja(n),n.tag=3,n.payload={element:null},n.callback=function(){Qb(t,e)},n}function l5(t){return t=Ja(t),t.tag=3,t}function c5(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=i.value;t.payload=function(){return s(o)},t.callback=function(){X3(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){X3(e,n,i),typeof s!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function NU(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Rf(e,n,s,!0),n=bo.current,n!==null){switch(n.tag){case 13:return br===null?Ok():n.alternate===null&&fn===0&&(fn=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===dk?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),K1(t,i,s)),!1;case 22:return n.flags|=65536,i===dk?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),K1(t,i,s)),!1}throw Error(me(435,n.tag))}return K1(t,i,s),Ok(),!1}if(Ct)return e=bo.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==uk&&(t=Error(me(422),{cause:i}),Vp(to(t,n)))):(i!==uk&&(e=Error(me(423),{cause:i}),Vp(to(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=to(i,n),s=xk(t.stateNode,i,s),j1(t,s),fn!==4&&(fn=2)),!1;var o=Error(me(520),{cause:i});if(o=to(o,n),Ap===null?Ap=[o]:Ap.push(o),fn!==4&&(fn=2),e===null)return!0;i=to(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=xk(n.stateNode,i,t),j1(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(tl===null||!tl.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=l5(s),c5(s,t,n,i),j1(n,s),!1}n=n.return}while(n!==null);return!1}var u5=Error(me(461)),ri=!1;function gi(t,e,n,i){e.child=t===null?CO(e,null,n,i):Dc(e,t.child,n,i)}function Y3(t,e,n,i,s){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}else r=i;return Lc(e),i=JS(t,e,n,r,o,s),a=QS(),t!==null&&!ri?(eC(t,e,s),ua(t,e,s)):(Ct&&a&&GS(e),e.flags|=1,gi(t,e,i,s),e.child)}function Z3(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!pC(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,d5(t,e,o,i,s)):(t=Eb(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!cC(t,s)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(r,i)&&t.ref===e.ref)return ua(t,e,s)}return e.flags|=1,t=el(o,i),t.ref=e.ref,t.return=e,e.child=t}function d5(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(Up(o,i)&&t.ref===e.ref)if(ri=!1,e.pendingProps=i=o,cC(t,s))t.flags&131072&&(ri=!0);else return e.lanes=t.lanes,ua(t,e,s)}return yk(t,e,n,i,s)}function h5(t,e,n){var i=e.pendingProps,s=i.children,o=(e.stateNode._pendingVisibility&2)!==0,r=t!==null?t.memoizedState:null;if(Ep(t,e),i.mode==="hidden"||o){if(e.flags&128){if(i=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return J3(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&wb(e,r!==null?r.cachePool:null),r!==null?j3(e,r):hk(),EO(e);else return e.lanes=e.childLanes=536870912,J3(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(wb(e,r.cachePool),j3(e,r),ja(),e.memoizedState=null):(t!==null&&wb(e,null),hk(),ja());return gi(t,e,s,n),e.child}function J3(t,e,n,i){var s=YS();return s=s===null?null:{parent:Bn._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&wb(e,null),hk(),EO(e),t!==null&&Rf(t,e,i,!0),null}function Ep(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(me(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function yk(t,e,n,i,s){return Lc(e),n=JS(t,e,n,i,void 0,s),i=QS(),t!==null&&!ri?(eC(t,e,s),ua(t,e,s)):(Ct&&i&&GS(e),e.flags|=1,gi(t,e,n,s),e.child)}function Q3(t,e,n,i,s,o){return Lc(e),e.updateQueue=null,n=$O(e,i,n,s),IO(t),i=QS(),t!==null&&!ri?(eC(t,e,o),ua(t,e,o)):(Ct&&i&&GS(e),e.flags|=1,gi(t,e,n,o),e.child)}function e_(t,e,n,i,s){if(Lc(e),e.stateNode===null){var o=rd,r=n.contextType;typeof r=="object"&&r!==null&&(o=Ni(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bk,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},uC(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?Ni(r):rd,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(L1(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&bk.enqueueReplaceState(o,o.state,null),$p(e,i,o,s),Ip(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var a=e.memoizedProps,l=Rc(n,a);o.props=l;var c=o.context,u=n.contextType;r=rd,typeof u=="object"&&u!==null&&(r=Ni(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a||c!==r)&&K3(e,o,i,r),za=!1;var h=e.memoizedState;o.state=h,$p(e,i,o,s),Ip(),c=e.memoizedState,a||h!==c||za?(typeof d=="function"&&(L1(e,n,d,i),c=e.memoizedState),(l=za||q3(e,n,l,i,h,c,r))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=r,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ek(t,e),r=e.memoizedProps,u=Rc(n,r),o.props=u,d=e.pendingProps,h=o.context,c=n.contextType,l=rd,typeof c=="object"&&c!==null&&(l=Ni(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==d||h!==l)&&K3(e,o,i,l),za=!1,h=e.memoizedState,o.state=h,$p(e,i,o,s),Ip();var p=e.memoizedState;r!==d||h!==p||za||t!==null&&t.dependencies!==null&&e0(t.dependencies)?(typeof a=="function"&&(L1(e,n,a,i),p=e.memoizedState),(u=za||q3(e,n,u,i,h,p,l)||t!==null&&t.dependencies!==null&&e0(t.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,Ep(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Dc(e,t.child,null,s),e.child=Dc(e,null,n,s)):gi(t,e,n,s),e.memoizedState=o.state,t=e.child):t=ua(t,e,s),t}function t_(t,e,n,i){return Nf(),e.flags|=256,gi(t,e,n,i),e.child}var z1={dehydrated:null,treeContext:null,retryLane:0};function F1(t){return{baseLanes:t,cachePool:TO()}}function P1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=so),t}function p5(t,e,n){var i=e.pendingProps,s=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(Un.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ct){if(s?Ma(e):ja(),Ct){var a=bi,l;if(l=a){e:{for(l=a,a=hr;l.nodeType!==8;){if(!a){a=null;break e}if(l=jo(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:wc!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912},l=io(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,Mi=e,bi=null,l=!0):l=!1}l||Nc(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Qr(e)}return a=i.children,i=i.fallback,s?(ja(),s=e.mode,a=wk({mode:"hidden",children:a},s),i=Sc(i,s,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,s=e.child,s.memoizedState=F1(n),s.childLanes=P1(t,r,n),e.memoizedState=z1,i):(Ma(e),vk(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(o)e.flags&256?(Ma(e),e.flags&=-257,e=B1(t,e,n)):e.memoizedState!==null?(ja(),e.child=t.child,e.flags|=128,e=null):(ja(),s=i.fallback,a=e.mode,i=wk({mode:"visible",children:i.children},a),s=Sc(s,a,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,Dc(e,t.child,null,n),i=e.child,i.memoizedState=F1(n),i.childLanes=P1(t,r,n),e.memoizedState=z1,e=s);else if(Ma(e),a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(me(419)),i.stack="",i.digest=r,Vp({value:i,source:null,stack:null}),e=B1(t,e,n)}else if(ri||Rf(t,e,n,!1),r=(n&t.childLanes)!==0,ri||r){if(r=Ht,r!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,dl(t,i),Wi(r,t,i),u5}a.data==="$?"||Ok(),e=B1(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=GU.bind(null,t),a._reactRetry=e,e=null):(t=l.treeContext,bi=jo(a.nextSibling),Mi=e,Ct=!0,zo=null,hr=!1,t!==null&&(Js[Qs++]=Zr,Js[Qs++]=Jr,Js[Qs++]=wc,Zr=t.id,Jr=t.overflow,wc=e),e=vk(e,i.children),e.flags|=4096);return e}return s?(ja(),s=i.fallback,a=e.mode,l=t.child,c=l.sibling,i=el(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?s=el(c,s):(s=Sc(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a===null?a=F1(n):(l=a.cachePool,l!==null?(c=Bn._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=TO(),a={baseLanes:a.baseLanes|n,cachePool:l}),s.memoizedState=a,s.childLanes=P1(t,r,n),e.memoizedState=z1,i):(Ma(e),n=t.child,t=n.sibling,n=el(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function vk(t,e){return e=wk({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function wk(t,e){return L5(t,e,0,null)}function B1(t,e,n){return Dc(e,t.child,null,n),t=vk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Sk(t.return,e,n)}function M1(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function f5(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(gi(t,e,i.children,n),i=Un.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(en(Un,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xb(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),M1(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xb(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}M1(e,!0,n,null,o);break;case"together":M1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Rf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,n=el(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=el(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cC(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&e0(t)))}function DU(t,e,n){switch(e.tag){case 3:Mb(e,e.stateNode.containerInfo),Ua(e,Bn,t.memoizedState.cache),Nf();break;case 27:case 5:tk(e);break;case 4:Mb(e,e.stateNode.containerInfo);break;case 10:Ua(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ma(e),e.flags|=128,null):n&e.child.childLanes?p5(t,e,n):(Ma(e),t=ua(t,e,n),t!==null?t.sibling:null);Ma(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Rf(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return f5(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),en(Un,Un.current),i)break;return null;case 22:case 23:return e.lanes=0,h5(t,e,n);case 24:Ua(e,Bn,t.memoizedState.cache)}return ua(t,e,n)}function m5(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ri=!0;else{if(!cC(t,n)&&!(e.flags&128))return ri=!1,DU(t,e,n);ri=!!(t.flags&131072)}else ri=!1,Ct&&e.flags&1048576&&vO(e,qb,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")pC(i)?(t=Rc(i,t),e.tag=1,e=e_(null,e,i,t,n)):(e.tag=0,e=yk(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===RS){e.tag=11,e=Y3(null,e,i,t,n);break e}else if(s===LS){e.tag=14,e=Z3(null,e,i,t,n);break e}}throw e=Qw(i)||i,Error(me(306,e,""))}}return e;case 0:return yk(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Rc(i,e.pendingProps),e_(t,e,i,s,n);case 3:e:{if(Mb(e,e.stateNode.containerInfo),t===null)throw Error(me(387));var o=e.pendingProps;s=e.memoizedState,i=s.element,Ek(t,e),$p(e,o,null,n);var r=e.memoizedState;if(o=r.cache,Ua(e,Bn,o),o!==s.cache&&Ck(e,[Bn],n,!0),Ip(),o=r.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=t_(t,e,o,n);break e}else if(o!==i){i=to(Error(me(424)),e),Vp(i),e=t_(t,e,o,n);break e}else for(bi=jo(e.stateNode.containerInfo.firstChild),Mi=e,Ct=!0,zo=null,hr=!0,n=CO(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nf(),o===i){e=ua(t,e,n);break e}gi(t,e,o,n)}e=e.child}return e;case 26:return Ep(t,e),t===null?(n=v_(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ct||(n=e.type,t=e.pendingProps,i=a0(Za.current).createElement(n),i[Ai]=e,i[ls]=t,yi(i,n,t),ni(i),e.stateNode=i):e.memoizedState=v_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return tk(e),t===null&&Ct&&(i=e.stateNode=Q5(e.type,e.pendingProps,Za.current),Mi=e,hr=!0,bi=jo(i.firstChild)),i=e.pendingProps.children,t!==null||Ct?gi(t,e,i,n):e.child=Dc(e,null,i,n),Ep(t,e),e.child;case 5:return t===null&&Ct&&((s=i=bi)&&(i=lV(i,e.type,e.pendingProps,hr),i!==null?(e.stateNode=i,Mi=e,bi=jo(i.firstChild),hr=!1,s=!0):s=!1),s||Nc(e)),tk(e),s=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,Pk(s,o)?i=null:r!==null&&Pk(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=JS(t,e,EU,null,null,n),Xp._currentValue=s),Ep(t,e),gi(t,e,i,n),e.child;case 6:return t===null&&Ct&&((t=n=bi)&&(n=cV(n,e.pendingProps,hr),n!==null?(e.stateNode=n,Mi=e,bi=null,t=!0):t=!1),t||Nc(e)),null;case 13:return p5(t,e,n);case 4:return Mb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Dc(e,null,i,n):gi(t,e,i,n),e.child;case 11:return Y3(t,e,e.type,e.pendingProps,n);case 7:return gi(t,e,e.pendingProps,n),e.child;case 8:return gi(t,e,e.pendingProps.children,n),e.child;case 12:return gi(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ua(e,e.type,i.value),gi(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Lc(e),s=Ni(s),i=i(s),e.flags|=1,gi(t,e,i,n),e.child;case 14:return Z3(t,e,e.type,e.pendingProps,n);case 15:return d5(t,e,e.type,e.pendingProps,n);case 19:return f5(t,e,n);case 22:return h5(t,e,n);case 24:return Lc(e),i=Ni(Bn),t===null?(s=YS(),s===null&&(s=Ht,o=XS(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),e.memoizedState={parent:i,cache:s},uC(e),Ua(e,Bn,s)):(t.lanes&n&&(Ek(t,e),$p(e,null,null,n),Ip()),s=t.memoizedState,o=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Ua(e,Bn,i)):(i=o.cache,Ua(e,Bn,i),i!==s.cache&&Ck(e,[Bn],n,!0))),gi(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(me(156,e.tag))}var kk=_r(null),cu=null,ea=null;function Ua(t,e,n){en(kk,e._currentValue),e._currentValue=n}function na(t){t._currentValue=kk.current,ai(kk)}function Sk(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ck(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){var r=s.child;o=o.firstContext;e:for(;o!==null;){var a=o;o=s;for(var l=0;l<e.length;l++)if(a.context===e[l]){o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sk(o.return,n,t),i||(r=null);break e}o=a.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(me(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Sk(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Rf(t,e,n,i){t=null;for(var s=e,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(me(387));if(r=r.memoizedProps,r!==null){var a=s.type;Ls(s.pendingProps.value,r.value)||(t!==null?t.push(a):t=[a])}}else if(s===Bb.current){if(r=s.alternate,r===null)throw Error(me(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Xp):t=[Xp])}s=s.return}t!==null&&Ck(e,t,n,i),e.flags|=262144}function e0(t){for(t=t.firstContext;t!==null;){if(!Ls(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lc(t){cu=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ni(t){return g5(cu,t)}function Og(t,e){return cu===null&&Lc(t),g5(t,e)}function g5(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ea===null){if(t===null)throw Error(me(308));ea=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ea=ea.next=e;return n}var za=!1;function uC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ek(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,cn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Wb(t),yO(t,null,n),e}return kx(t,i,e,n),Wb(t)}function Tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,GD(t,n)}}function j1(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Tk=!1;function Ip(){if(Tk){var t=bd;if(t!==null)throw t}}function $p(t,e,n,i){Tk=!1;var s=t.updateQueue;za=!1;var o=s.firstBaseUpdate,r=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,r===null?o=c:r.next=c,r=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==r&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;r=0,u=c=l=null,a=o;do{var h=a.lane&-536870913,p=h!==a.lane;if(p?(kt&h)===h:(i&h)===h){h!==0&&h===Ld&&(Tk=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=t,m=a;h=e;var b=n;switch(m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(b,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(b,d,h):f,h==null)break e;d=Zt({},d,h);break e;case 2:za=!0}}h=a.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,r|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,o===null&&(s.shared.lanes=0),fl|=r,t.lanes=r,t.memoizedState=d}}function b5(t,e){if(typeof t!="function")throw Error(me(191,t));t.call(e)}function x5(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)b5(n[t],e)}function Lf(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==s)}}catch(a){Bt(e,e.return,a)}}function pl(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&t)===t){var r=i.inst,a=r.destroy;if(a!==void 0){r.destroy=void 0,s=e;var l=n;try{a()}catch(c){Bt(s,l,c)}}}i=i.next}while(i!==o)}}catch(c){Bt(e,e.return,c)}}function y5(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{x5(e,n)}catch(i){Bt(t,t.return,i)}}}function v5(t,e,n){n.props=Rc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Bt(t,e,i)}}function hc(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var s=i;break;default:s=i}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(o){Bt(t,e,o)}}function Ts(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Bt(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Bt(t,e,s)}else n.current=null}function w5(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Bt(t,t.return,s)}}function i_(t,e,n){try{var i=t.stateNode;iV(i,t.type,n,e),i[ls]=e}catch(s){Bt(t,t.return,s)}}function k5(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function U1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ik(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_x));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(Ik(t,e,n),t=t.sibling;t!==null;)Ik(t,e,n),t=t.sibling}function t0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}var Wr=!1,pn=!1,V1=!1,s_=typeof WeakSet=="function"?WeakSet:Set,ti=null,o_=!1;function OU(t,e){if(t=t.containerInfo,zk=d0,t=hO(t),VS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var r=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=r+s),d!==o||i!==0&&d.nodeType!==3||(l=r+i),d.nodeType===3&&(r+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=r),h===o&&++u===i&&(l=r),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fk={focusedElem:t,selectionRange:n},d0=!1,ti=e;ti!==null;)if(e=ti,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ti=t;else for(;ti!==null;){switch(e=ti,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,s=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var f=Rc(n.type,s,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(f,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(m){Bt(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Bk(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bk(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(me(163))}if(t=e.sibling,t!==null){t.return=e.return,ti=t;break}ti=e.return}return f=o_,o_=!1,f}function S5(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:zr(t,n),i&4&&Lf(5,n);break;case 1:if(zr(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Bt(n,n.return,a)}else{var s=Rc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Bt(n,n.return,a)}}i&64&&y5(n),i&512&&hc(n,n.return);break;case 3:if(zr(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{x5(i,t)}catch(a){Bt(n,n.return,a)}}break;case 26:zr(t,n),i&512&&hc(n,n.return);break;case 27:case 5:zr(t,n),e===null&&i&4&&w5(n),i&512&&hc(n,n.return);break;case 12:zr(t,n);break;case 13:zr(t,n),i&4&&T5(t,n);break;case 22:if(s=n.memoizedState!==null||Wr,!s){e=e!==null&&e.memoizedState!==null||pn;var o=Wr,r=pn;Wr=s,(pn=e)&&!r?Da(t,n,(n.subtreeFlags&8772)!==0):zr(t,n),Wr=o,pn=r}i&512&&(n.memoizedProps.mode==="manual"?hc(n,n.return):Ts(n,n.return));break;default:zr(t,n)}}function C5(t){var e=t.alternate;e!==null&&(t.alternate=null,C5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&FS(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var En=null,Ss=!1;function Lr(t,e,n){for(n=n.child;n!==null;)E5(t,e,n),n=n.sibling}function E5(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(If,n)}catch(r){}switch(n.tag){case 26:pn||Ts(n,e),Lr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pn||Ts(n,e);var i=En,s=Ss;for(En=n.stateNode,Lr(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);FS(n),En=i,Ss=s;break;case 5:pn||Ts(n,e);case 6:s=En;var o=Ss;if(En=null,Lr(t,e,n),En=s,Ss=o,En!==null)if(Ss)try{t=En,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(r){Bt(n,e,r)}else try{En.removeChild(n.stateNode)}catch(r){Bt(n,e,r)}break;case 18:En!==null&&(Ss?(e=En,n=n.stateNode,e.nodeType===8?tw(e.parentNode,n):e.nodeType===1&&tw(e,n),Jp(e)):tw(En,n.stateNode));break;case 4:i=En,s=Ss,En=n.stateNode.containerInfo,Ss=!0,Lr(t,e,n),En=i,Ss=s;break;case 0:case 11:case 14:case 15:pn||pl(2,n,e),pn||pl(4,n,e),Lr(t,e,n);break;case 1:pn||(Ts(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&v5(n,e,i)),Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:pn||Ts(n,e),pn=(i=pn)||n.memoizedState!==null,Lr(t,e,n),pn=i;break;default:Lr(t,e,n)}}function T5(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jp(t)}catch(n){Bt(e,e.return,n)}}function RU(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new s_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new s_),e;default:throw Error(me(435,t.tag))}}function H1(t,e){var n=RU(t);e.forEach(function(i){var s=qU.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function Vs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],o=t,r=e,a=r;e:for(;a!==null;){switch(a.tag){case 27:case 5:En=a.stateNode,Ss=!1;break e;case 3:En=a.stateNode.containerInfo,Ss=!0;break e;case 4:En=a.stateNode.containerInfo,Ss=!0;break e}a=a.return}if(En===null)throw Error(me(160));E5(o,r,s),En=null,Ss=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)I5(e,t),e=e.sibling}var Oo=null;function I5(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vs(e,t),Hs(t),i&4&&(pl(3,t,t.return),Lf(3,t),pl(5,t,t.return));break;case 1:Vs(e,t),Hs(t),i&512&&(pn||n===null||Ts(n,n.return)),i&64&&Wr&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Oo;if(Vs(e,t),Hs(t),i&512&&(pn||n===null||Ts(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":o=s.getElementsByTagName("title")[0],(!o||o[Bp]||o[Ai]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(i),s.head.insertBefore(o,s.querySelector("head > title"))),yi(o,i,n),o[Ai]=t,ni(o),i=o;break e;case"link":var r=k_("link","href",s).get(i+(n.href||""));if(r){for(var a=0;a<r.length;a++)if(o=r[a],o.getAttribute("href")===(n.href==null?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(a,1);break t}}o=s.createElement(i),yi(o,i,n),s.head.appendChild(o);break;case"meta":if(r=k_("meta","content",s).get(i+(n.content||""))){for(a=0;a<r.length;a++)if(o=r[a],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(a,1);break t}}o=s.createElement(i),yi(o,i,n),s.head.appendChild(o);break;default:throw Error(me(468,i))}o[Ai]=t,ni(o),i=o}t.stateNode=i}else S_(s,t.type,t.stateNode);else t.stateNode=w_(s,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?S_(s,t.type,t.stateNode):w_(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&i_(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){s=t.stateNode,o=t.memoizedProps;try{for(var l=s.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[Bp]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||s.removeChild(l),l=c}for(var d=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);yi(s,d,o),s[Ai]=t,s[ls]=o}catch(f){Bt(t,t.return,f)}}case 5:if(Vs(e,t),Hs(t),i&512&&(pn||n===null||Ts(n,n.return)),t.flags&32){s=t.stateNode;try{Od(s,"")}catch(f){Bt(t,t.return,f)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,i_(t,s,n!==null?n.memoizedProps:s)),i&1024&&(V1=!0);break;case 6:if(Vs(e,t),Hs(t),i&4){if(t.stateNode===null)throw Error(me(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(f){Bt(t,t.return,f)}}break;case 3:if(Ib=null,s=Oo,Oo=l0(e.containerInfo),Vs(e,t),Oo=s,Hs(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Jp(e.containerInfo)}catch(f){Bt(t,t.return,f)}V1&&(V1=!1,$5(t));break;case 4:i=Oo,Oo=l0(t.stateNode.containerInfo),Vs(e,t),Hs(t),Oo=i;break;case 12:Vs(e,t),Hs(t);break;case 13:Vs(e,t),Hs(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gC=gr()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,H1(t,i)));break;case 22:if(i&512&&(pn||n===null||Ts(n,n.return)),l=t.memoizedState!==null,c=n!==null&&n.memoizedState!==null,u=Wr,d=pn,Wr=u||l,pn=d||c,Vs(e,t),pn=d,Wr=u,Hs(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=Wr||pn,n===null||c||e||Bu(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){c=n=e;try{if(s=c.stateNode,l)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{r=c.stateNode,a=c.memoizedProps.style;var p=a!=null&&a.hasOwnProperty("display")?a.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(f){Bt(c,c.return,f)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(f){Bt(c,c.return,f)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,H1(t,n))));break;case 19:Vs(e,t),Hs(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,H1(t,i)));break;case 21:break;default:Vs(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(k5(n)){var i=n;break e}n=n.return}throw Error(me(160))}switch(i.tag){case 27:var s=i.stateNode,o=U1(t);t0(t,o,s);break;case 5:var r=i.stateNode;i.flags&32&&(Od(r,""),i.flags&=-33);var a=U1(t);t0(t,a,r);break;case 3:case 4:var l=i.stateNode.containerInfo,c=U1(t);Ik(t,c,l);break;default:throw Error(me(161))}}}catch(u){Bt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $5(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$5(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function zr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)S5(t,e.alternate,e),e=e.sibling}function Bu(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:pl(4,e,e.return),Bu(e);break;case 1:Ts(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&v5(e,e.return,n),Bu(e);break;case 26:case 27:case 5:Ts(e,e.return),Bu(e);break;case 22:Ts(e,e.return),e.memoizedState===null&&Bu(e);break;default:Bu(e)}t=t.sibling}}function Da(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:Da(s,o,n),Lf(4,o);break;case 1:if(Da(s,o,n),i=o,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Bt(i,i.return,c)}if(i=o,s=i.updateQueue,s!==null){var a=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)b5(l[s],a)}catch(c){Bt(i,i.return,c)}}n&&r&64&&y5(o),hc(o,o.return);break;case 26:case 27:case 5:Da(s,o,n),n&&i===null&&r&4&&w5(o),hc(o,o.return);break;case 12:Da(s,o,n);break;case 13:Da(s,o,n),n&&r&4&&T5(s,o);break;case 22:o.memoizedState===null&&Da(s,o,n),hc(o,o.return);break;default:Da(s,o,n)}e=e.sibling}}function dC(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Df(n))}function hC(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Df(t))}function Ea(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_5(t,e,n,i),e=e.sibling}function _5(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Ea(t,e,n,i),s&2048&&Lf(9,e);break;case 3:Ea(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Df(t)));break;case 12:if(s&2048){Ea(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,a=o.onPostCommit;typeof a=="function"&&a(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Bt(e,e.return,l)}}else Ea(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,e.memoizedState!==null?o._visibility&4?Ea(t,e,n,i):_p(t,e):o._visibility&4?Ea(t,e,n,i):(o._visibility|=4,Mu(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&dC(e.alternate,e);break;case 24:Ea(t,e,n,i),s&2048&&hC(e.alternate,e);break;default:Ea(t,e,n,i)}}function Mu(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,r=e,a=n,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:Mu(o,r,a,l,s),Lf(8,r);break;case 23:break;case 22:var u=r.stateNode;r.memoizedState!==null?u._visibility&4?Mu(o,r,a,l,s):_p(o,r):(u._visibility|=4,Mu(o,r,a,l,s)),s&&c&2048&&dC(r.alternate,r);break;case 24:Mu(o,r,a,l,s),s&&c&2048&&hC(r.alternate,r);break;default:Mu(o,r,a,l,s)}e=e.sibling}}function _p(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:_p(n,i),s&2048&&dC(i.alternate,i);break;case 24:_p(n,i),s&2048&&hC(i.alternate,i);break;default:_p(n,i)}e=e.sibling}}var lp=8192;function $u(t){if(t.subtreeFlags&lp)for(t=t.child;t!==null;)A5(t),t=t.sibling}function A5(t){switch(t.tag){case 26:$u(t),t.flags&lp&&t.memoizedState!==null&&kV(Oo,t.memoizedState,t.memoizedProps);break;case 5:$u(t);break;case 3:case 4:var e=Oo;Oo=l0(t.stateNode.containerInfo),$u(t),Oo=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=lp,lp=16777216,$u(t),lp=e):$u(t));break;default:$u(t)}}function N5(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Wh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ti=i,O5(i,t)}N5(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D5(t),t=t.sibling}function D5(t){switch(t.tag){case 0:case 11:case 15:Wh(t),t.flags&2048&&pl(9,t,t.return);break;case 3:Wh(t);break;case 12:Wh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Cb(t)):Wh(t);break;default:Wh(t)}}function Cb(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ti=i,O5(i,t)}N5(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:pl(8,e,e.return),Cb(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,Cb(e));break;default:Cb(e)}t=t.sibling}}function O5(t,e){for(;ti!==null;){var n=ti;switch(n.tag){case 0:case 11:case 15:pl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Df(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ti=i;else e:for(n=t;ti!==null;){i=ti;var s=i.sibling,o=i.return;if(C5(i),i===n){ti=null;break e}if(s!==null){s.return=o,ti=s;break e}ti=o}}}function LU(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,i){return new LU(t,e,n,i)}function pC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function el(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function R5(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Eb(t,e,n,i,s,o){var r=0;if(i=t,typeof t=="function")pC(t)&&(r=1);else if(typeof t=="string")r=vV(t,n,mr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Qu:return Sc(n.children,s,o,e);case LD:r=8,s|=24;break;case Yw:return t=io(12,n,e,s|2),t.elementType=Yw,t.lanes=o,t;case Zw:return t=io(13,n,e,s),t.elementType=Zw,t.lanes=o,t;case Jw:return t=io(19,n,e,s),t.elementType=Jw,t.lanes=o,t;case FD:return L5(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rj:case Yr:r=10;break e;case zD:r=9;break e;case RS:r=11;break e;case LS:r=14;break e;case La:r=16,i=null;break e}r=29,n=Error(me(130,t===null?"null":typeof t,"")),i=null}return e=io(r,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Sc(t,e,n,i){return t=io(7,t,i,e),t.lanes=n,t}function L5(t,e,n,i){t=io(22,t,i,e),t.elementType=FD,t.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var o=s._current;if(o===null)throw Error(me(456));if(!(s._pendingVisibility&2)){var r=dl(o,2);r!==null&&(s._pendingVisibility|=2,Wi(r,o,2))}},attach:function(){var o=s._current;if(o===null)throw Error(me(456));if(s._pendingVisibility&2){var r=dl(o,2);r!==null&&(s._pendingVisibility&=-3,Wi(r,o,2))}}};return t.stateNode=s,t}function W1(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function G1(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fr(t){t.flags|=4}function r_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!nR(e)){if(e=bo.current,e!==null&&((kt&4194176)===kt?br!==null:(kt&62914560)!==kt&&!(kt&536870912)||e!==br))throw kp=dk,wO;t.flags|=8192}}function Rg(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?HD():536870912,t.lanes|=e,Fd|=e)}function Gh(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&31457280,i|=s.flags&31457280,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function zU(t,e,n){var i=e.pendingProps;switch(qS(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return rn(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),na(Bn),Nd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vh(e)?Fr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zo!==null&&(Dk(zo),zo=null))),rn(e),null;case 26:return n=e.memoizedState,t===null?(Fr(e),n!==null?(rn(e),r_(e,n)):(rn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Fr(e),rn(e),r_(e,n)):(rn(e),e.flags&=-16777217):(t.memoizedProps!==i&&Fr(e),rn(e),e.flags&=-16777217),null;case 27:jb(e),n=Za.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Fr(e);else{if(!i){if(e.stateNode===null)throw Error(me(166));return rn(e),null}t=mr.current,Vh(e)?z3(e):(t=Q5(s,i,n),e.stateNode=t,Fr(e))}return rn(e),null;case 5:if(jb(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Fr(e);else{if(!i){if(e.stateNode===null)throw Error(me(166));return rn(e),null}if(t=mr.current,Vh(e))z3(e);else{switch(s=a0(Za.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}t[Ai]=e,t[ls]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(yi(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fr(e)}}return rn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Fr(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(me(166));if(t=Za.current,Vh(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Mi,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Ai]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Y5(t.nodeValue,n)),t||Nc(e)}else t=a0(t).createTextNode(i),t[Ai]=e,e.stateNode=t}return rn(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Vh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Ai]=e}else Nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),s=!1}else zo!==null&&(Dk(zo),zo=null),s=!0;if(!s)return e.flags&256?(Qr(e),e):(Qr(e),null)}if(Qr(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Rg(e,e.updateQueue),rn(e),null;case 4:return Nd(),t===null&&yC(e.stateNode.containerInfo),rn(e),null;case 10:return na(e.type),rn(e),null;case 19:if(ai(Un),s=e.memoizedState,s===null)return rn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Gh(s,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xb(t),o!==null){for(e.flags|=128,Gh(s,!1),t=o.updateQueue,e.updateQueue=t,Rg(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)R5(n,t),n=n.sibling;return en(Un,Un.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>n0&&(e.flags|=128,i=!0,Gh(s,!1),e.lanes=4194304)}else{if(!i)if(t=Xb(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Rg(e,t),Gh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ct)return rn(e),null}else 2*gr()-s.renderingStartTime>n0&&n!==536870912&&(e.flags|=128,i=!0,Gh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,t=Un.current,en(Un,i?t&1|2:t&1),e):(rn(e),null);case 22:case 23:return Qr(e),KS(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),n=e.updateQueue,n!==null&&Rg(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ai(kc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),na(Bn),rn(e),null;case 25:return null}throw Error(me(156,e.tag))}function FU(t,e){switch(qS(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(Bn),Nd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return jb(e),null;case 13:if(Qr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Nf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ai(Un),null;case 4:return Nd(),null;case 10:return na(e.type),null;case 22:case 23:return Qr(e),KS(),t!==null&&ai(kc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return na(Bn),null;case 25:return null;default:return null}}function z5(t,e){switch(qS(e),e.tag){case 3:na(Bn),Nd();break;case 26:case 27:case 5:jb(e);break;case 4:Nd();break;case 13:Qr(e);break;case 19:ai(Un);break;case 10:na(e.type);break;case 22:case 23:Qr(e),KS(),t!==null&&ai(kc);break;case 24:na(Bn)}}var PU={getCacheForType:function(t){var e=Ni(Bn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},BU=typeof WeakMap=="function"?WeakMap:Map,cn=0,Ht=null,mt=null,kt=0,Ut=0,Cs=null,Gr=!1,ch=!1,fC=!1,da=0,fn=0,fl=0,Cc=0,mC=0,so=0,Fd=0,Ap=null,pr=null,$k=!1,gC=0,n0=1/0,i0=null,tl=null,Lg=!1,sc=null,Np=0,_k=0,Ak=null,Dp=0,Nk=null;function Ns(){if(cn&2&&kt!==0)return kt&-kt;if(tt.T!==null){var t=Ld;return t!==0?t:xC()}return KD()}function F5(){so===0&&(so=!(kt&536870912)||Ct?VD():536870912);var t=bo.current;return t!==null&&(t.flags|=32),so}function Wi(t,e,n){(t===Ht&&Ut===2||t.cancelPendingCommit!==null)&&(Pd(t,0),qr(t,kt,so,!1)),_f(t,n),(!(cn&2)||t!==Ht)&&(t===Ht&&(!(cn&2)&&(Cc|=n),fn===4&&qr(t,kt,so,!1)),Ar(t))}function P5(t,e,n){if(cn&6)throw Error(me(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||$f(t,e),s=i?UU(t,e):q1(t,e,!0),o=i;do{if(s===0){ch&&!i&&qr(t,e,0,!1);break}else if(s===6)qr(t,e,0,!Gr);else{if(n=t.current.alternate,o&&!MU(n)){s=q1(t,e,!1),o=!1;continue}if(s===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var a=t;s=Ap;var l=a.current.memoizedState.isDehydrated;if(l&&(Pd(a,r).flags|=256),r=q1(a,r,!1),r!==2){if(fC&&!l){a.errorRecoveryDisabledLanes|=o,Cc|=o,s=4;break e}o=pr,pr=s,o!==null&&Dk(o)}s=r}if(o=!1,s!==2)continue}}if(s===1){Pd(t,0),qr(t,e,0,!0);break}e:{switch(i=t,s){case 0:case 1:throw Error(me(345));case 4:if((e&4194176)===e){qr(i,e,so,!Gr);break e}break;case 2:pr=null;break;case 3:case 5:break;default:throw Error(me(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(o=gC+300-gr(),10<o)){if(qr(i,e,so,!Gr),bx(i,0)!==0)break e;i.timeoutHandle=J5(a_.bind(null,i,n,pr,i0,$k,e,so,Cc,Fd,Gr,2,-0,0),o);break e}a_(i,n,pr,i0,$k,e,so,Cc,Fd,Gr,0,-0,0)}}break}while(!0);Ar(t)}function Dk(t){pr===null?pr=t:pr.push.apply(pr,t)}function a_(t,e,n,i,s,o,r,a,l,c,u,d,h){var p=e.subtreeFlags;if((p&8192||(p&16785408)===16785408)&&(Kp={stylesheets:null,count:0,unsuspend:wV},A5(e),e=SV(),e!==null)){t.cancelPendingCommit=e(c_.bind(null,t,n,i,s,r,a,l,1,d,h)),qr(t,o,r,!c);return}c_(t,n,i,s,r,a,l,u,d,h)}function MU(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!Ls(o(),s))return!1}catch(r){return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e,n,i){e&=~mC,e&=~Cc,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var o=31-As(s),r=1<<o;i[o]=-1,s&=~r}n!==0&&WD(t,n,e)}function Ix(){return cn&6?!0:(zf(0),!1)}function bC(){if(mt!==null){if(Ut===0)var t=mt.return;else t=mt,ea=cu=null,tC(t),gd=null,Hp=0,t=mt;for(;t!==null;)z5(t.alternate,t),t=t.return;mt=null}}function Pd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,oV(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),bC(),Ht=t,mt=n=el(t.current,null),kt=e,Ut=0,Cs=null,Gr=!1,ch=$f(t,e),fC=!1,Fd=so=mC=Cc=fl=fn=0,pr=Ap=null,$k=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-As(i),o=1<<s;e|=t[s],i&=~o}return da=e,wx(),n}function B5(t,e){ht=null,tt.H=Cr,e===wp?(e=B3(),Ut=3):e===wO?(e=B3(),Ut=4):Ut=e===u5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Cs=e,mt===null&&(fn=1,Qb(t,to(e,t.current)))}function M5(){var t=tt.H;return tt.H=Cr,t===null?Cr:t}function j5(){var t=tt.A;return tt.A=PU,t}function Ok(){fn=4,Gr||(kt&4194176)!==kt&&bo.current!==null||(ch=!0),!(fl&134217727)&&!(Cc&134217727)||Ht===null||qr(Ht,kt,so,!1)}function q1(t,e,n){var i=cn;cn|=2;var s=M5(),o=j5();(Ht!==t||kt!==e)&&(i0=null,Pd(t,e)),e=!1;var r=fn;e:do try{if(Ut!==0&&mt!==null){var a=mt,l=Cs;switch(Ut){case 8:bC(),r=6;break e;case 3:case 2:case 6:bo.current===null&&(e=!0);var c=Ut;if(Ut=0,Cs=null,cd(t,a,l,c),n&&ch){r=0;break e}break;default:c=Ut,Ut=0,Cs=null,cd(t,a,l,c)}}jU(),r=fn;break}catch(u){B5(t,u)}while(!0);return e&&t.shellSuspendCounter++,ea=cu=null,cn=i,tt.H=s,tt.A=o,mt===null&&(Ht=null,kt=0,wx()),r}function jU(){for(;mt!==null;)U5(mt)}function UU(t,e){var n=cn;cn|=2;var i=M5(),s=j5();Ht!==t||kt!==e?(i0=null,n0=gr()+500,Pd(t,e)):ch=$f(t,e);e:do try{if(Ut!==0&&mt!==null){e=mt;var o=Cs;t:switch(Ut){case 1:Ut=0,Cs=null,cd(t,e,o,1);break;case 2:if(P3(o)){Ut=0,Cs=null,l_(e);break}e=function(){Ut===2&&Ht===t&&(Ut=7),Ar(t)},o.then(e,e);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:P3(o)?(Ut=0,Cs=null,l_(e)):(Ut=0,Cs=null,cd(t,e,o,7));break;case 5:var r=null;switch(mt.tag){case 26:r=mt.memoizedState;case 5:case 27:var a=mt;if(!r||nR(r)){Ut=0,Cs=null;var l=a.sibling;if(l!==null)mt=l;else{var c=a.return;c!==null?(mt=c,$x(c)):mt=null}break t}}Ut=0,Cs=null,cd(t,e,o,5);break;case 6:Ut=0,Cs=null,cd(t,e,o,6);break;case 8:bC(),fn=6;break e;default:throw Error(me(462))}}VU();break}catch(u){B5(t,u)}while(!0);return ea=cu=null,tt.H=i,tt.A=s,cn=n,mt!==null?0:(Ht=null,kt=0,wx(),fn)}function VU(){for(;mt!==null&&!dj();)U5(mt)}function U5(t){var e=m5(t.alternate,t,da);t.memoizedProps=t.pendingProps,e===null?$x(t):mt=e}function l_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Q3(n,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=Q3(n,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:tC(e);default:z5(n,e),e=mt=R5(e,da),e=m5(n,e,da)}t.memoizedProps=t.pendingProps,e===null?$x(t):mt=e}function cd(t,e,n,i){ea=cu=null,tC(e),gd=null,Hp=0;var s=e.return;try{if(NU(t,s,e,n,kt)){fn=1,Qb(t,to(n,t.current)),mt=null;return}}catch(o){if(s!==null)throw mt=s,o;fn=1,Qb(t,to(n,t.current)),mt=null;return}e.flags&32768?(Ct||i===1?t=!0:ch||kt&536870912?t=!1:(Gr=t=!0,(i===2||i===3||i===6)&&(i=bo.current,i!==null&&i.tag===13&&(i.flags|=16384))),V5(e,t)):$x(e)}function $x(t){var e=t;do{if(e.flags&32768){V5(e,Gr);return}t=e.return;var n=zU(e.alternate,e,da);if(n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);fn===0&&(fn=5)}function V5(t,e){do{var n=FU(t.alternate,t);if(n!==null){n.flags&=32767,mt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){mt=t;return}mt=t=n}while(t!==null);fn=6,mt=null}function c_(t,e,n,i,s,o,r,a,l,c){var u=tt.T,d=Xt.p;try{Xt.p=2,tt.T=null,HU(t,e,n,i,d,s,o,r,a,l,c)}finally{tt.T=u,Xt.p=d}}function HU(t,e,n,i,s,o,r,a){do vd();while(sc!==null);if(cn&6)throw Error(me(327));var l=t.finishedWork;if(i=t.finishedLanes,l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=HS,kj(t,i,c,o,r,a),t===Ht&&(mt=Ht=null,kt=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||Lg||(Lg=!0,_k=c,Ak=n,KU(Ub,function(){return vd(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=tt.T,tt.T=null,o=Xt.p,Xt.p=2,r=cn,cn|=4,OU(t,l),I5(l,t),fU(Fk,t.containerInfo),d0=!!zk,Fk=zk=null,t.current=l,S5(t,l.alternate,l),hj(),cn=r,Xt.p=o,tt.T=n):t.current=l,Lg?(Lg=!1,sc=t,Np=i):H5(t,c),c=t.pendingLanes,c===0&&(tl=null),bj(l.stateNode),Ar(t),e!==null)for(s=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],s(c.value,{componentStack:c.stack});return Np&3&&vd(),c=t.pendingLanes,i&4194218&&c&42?t===Nk?Dp++:(Dp=0,Nk=t):Dp=0,zf(0),null}function H5(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Df(e)))}function vd(){if(sc!==null){var t=sc,e=_k;_k=0;var n=qD(Np),i=tt.T,s=Xt.p;try{if(Xt.p=32>n?32:n,tt.T=null,sc===null)var o=!1;else{n=Ak,Ak=null;var r=sc,a=Np;if(sc=null,Np=0,cn&6)throw Error(me(331));var l=cn;if(cn|=4,D5(r.current),_5(r,r.current,a,n),cn=l,zf(0,!1),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(If,r)}catch(c){}o=!0}return o}finally{Xt.p=s,tt.T=i,H5(t,e)}}return!1}function u_(t,e,n){e=to(n,e),e=xk(t.stateNode,e,2),t=Qa(t,e,2),t!==null&&(_f(t,2),Ar(t))}function Bt(t,e,n){if(t.tag===3)u_(t,t,n);else for(;e!==null;){if(e.tag===3){u_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))){t=to(n,t),n=l5(2),i=Qa(e,n,2),i!==null&&(c5(n,i,e,t),_f(i,2),Ar(i));break}}e=e.return}}function K1(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new BU;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(fC=!0,s.add(n),t=WU.bind(null,t,e,n),e.then(t,t))}function WU(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ht===t&&(kt&n)===n&&(fn===4||fn===3&&(kt&62914560)===kt&&300>gr()-gC?!(cn&2)&&Pd(t,0):mC|=n,Fd===kt&&(Fd=0)),Ar(t)}function W5(t,e){e===0&&(e=HD()),t=dl(t,e),t!==null&&(_f(t,e),Ar(t))}function GU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W5(t,n)}function qU(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(me(314))}i!==null&&i.delete(e),W5(t,n)}function KU(t,e){return zS(t,e)}var s0=null,ju=null,Rk=!1,o0=!1,X1=!1,Ec=0;function Ar(t){t!==ju&&t.next===null&&(ju===null?s0=ju=t:ju=ju.next=t),o0=!0,Rk||(Rk=!0,YU(XU))}function zf(t,e){if(!X1&&o0){X1=!0;do for(var n=!1,i=s0;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var o=0;else{var r=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-As(42|t)+1)-1,o&=s&~(r&~a),o=o&201326677?o&201326677|1:o?o|2:0}o!==0&&(n=!0,d_(i,o))}else o=kt,o=bx(i,i===Ht?o:0),!(o&3)||$f(i,o)||(n=!0,d_(i,o));i=i.next}while(n);X1=!1}}function XU(){o0=Rk=!1;var t=0;Ec!==0&&(sV()&&(t=Ec),Ec=0);for(var e=gr(),n=null,i=s0;i!==null;){var s=i.next,o=G5(i,e);o===0?(i.next=null,n===null?s0=s:n.next=s,s===null&&(ju=n)):(n=i,(t!==0||o&3)&&(o0=!0)),i=s}zf(t)}function G5(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-As(o),a=1<<r,l=s[r];l===-1?(!(a&n)||a&i)&&(s[r]=wj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}if(e=Ht,n=kt,n=bx(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&Ut===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&E1(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||$f(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&E1(i),qD(n)){case 2:case 8:n=jD;break;case 32:n=Ub;break;case 268435456:n=UD;break;default:n=Ub}return i=q5.bind(null,t),n=zS(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&E1(i),t.callbackPriority=2,t.callbackNode=null,2}function q5(t,e){var n=t.callbackNode;if(vd()&&t.callbackNode!==n)return null;var i=kt;return i=bx(t,t===Ht?i:0),i===0?null:(P5(t,i,e),G5(t,gr()),t.callbackNode!=null&&t.callbackNode===n?q5.bind(null,t):null)}function d_(t,e){if(vd())return null;P5(t,e,!0)}function YU(t){rV(function(){cn&6?zS(MD,t):t()})}function xC(){return Ec===0&&(Ec=VD()),Ec}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xb(""+t)}function p_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ZU(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var o=h_((s[ls]||null).action),r=i.submitter;r&&(e=(e=r[ls]||null)?h_(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var a=new xx("action","action",null,i,s);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ec!==0){var l=r?p_(s,r):new FormData(s);gk(n,{pending:!0,data:l,method:s.method,action:o},null,l)}}else typeof o=="function"&&(a.preventDefault(),l=r?p_(s,r):new FormData(s),gk(n,{pending:!0,data:l,method:s.method,action:o},o,l))},currentTarget:s}]})}}for(var Y1=0;Y1<R3.length;Y1++){var Z1=R3[Y1],JU=Z1.toLowerCase(),QU=Z1[0].toUpperCase()+Z1.slice(1);Qo(JU,"on"+QU)}Qo(fO,"onAnimationEnd");Qo(mO,"onAnimationIteration");Qo(gO,"onAnimationStart");Qo("dblclick","onDoubleClick");Qo("focusin","onFocus");Qo("focusout","onBlur");Qo(gU,"onTransitionRun");Qo(bU,"onTransitionStart");Qo(xU,"onTransitionCancel");Qo(bO,"onTransitionEnd");Dd("onMouseEnter",["mouseout","mouseover"]);Dd("onMouseLeave",["mouseout","mouseover"]);Dd("onPointerEnter",["pointerout","pointerover"]);Dd("onPointerLeave",["pointerout","pointerover"]);su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));su("onBeforeInput",["compositionend","keypress","textInput","paste"]);su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gp));function K5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var a=i[r],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){Jb(u)}s.currentTarget=null,o=l}else for(r=0;r<i.length;r++){if(a=i[r],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){Jb(u)}s.currentTarget=null,o=l}}}}function vt(t,e){var n=e[ik];n===void 0&&(n=e[ik]=new Set);var i=t+"__bubble";n.has(i)||(X5(e,t,2,!1),n.add(i))}function J1(t,e,n){var i=0;e&&(i|=4),X5(n,t,i,e)}var zg="_reactListening"+Math.random().toString(36).slice(2);function yC(t){if(!t[zg]){t[zg]=!0,XD.forEach(function(n){n!=="selectionchange"&&(eV.has(n)||J1(n,!1,t),J1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zg]||(e[zg]=!0,J1("selectionchange",!1,e))}}function X5(t,e,n,i){switch(aR(e)){case 2:var s=TV;break;case 8:s=IV;break;default:s=SC}n=s.bind(null,e,n,t),s=void 0,!ak||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Q1(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&(l=r.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;r=r.return}for(;a!==null;){if(r=dc(a),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=o=r;continue e}a=a.parentNode}}i=i.return}iO(function(){var c=o,u=BS(n),d=[];e:{var h=xO.get(t);if(h!==void 0){var p=xx,f=t;switch(t){case"keypress":if(vb(n)===0)break e;case"keydown":case"keyup":p=qj;break;case"focusin":f="focus",p=A1;break;case"focusout":f="blur",p=A1;break;case"beforeblur":case"afterblur":p=A1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=k3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Yj;break;case fO:case mO:case gO:p=Pj;break;case bO:p=Jj;break;case"scroll":case"scrollend":p=Oj;break;case"wheel":p=eU;break;case"copy":case"cut":case"paste":p=Mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=C3;break;case"toggle":case"beforetoggle":p=nU}var m=(e&4)!==0,b=!m&&(t==="scroll"||t==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,y;x!==null;){var v=x;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||g===null||(v=Mp(x,g),v!=null&&m.push(qp(x,v,y))),b)break;x=x.return}0<m.length&&(h=new p(h,f,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==rk&&(f=n.relatedTarget||n.fromElement)&&(dc(f)||f[ah]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=c,f=f?dc(f):null,f!==null&&(b=rh(f),m=f.tag,f!==b||m!==5&&m!==27&&m!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=k3,v="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=C3,v="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?h:ap(p),y=f==null?h:ap(f),h=new m(v,x+"leave",p,n,u),h.target=b,h.relatedTarget=y,v=null,dc(u)===c&&(m=new m(g,x+"enter",f,n,u),m.target=y,m.relatedTarget=b,v=m),b=v,p&&f)t:{for(m=p,g=f,x=0,y=m;y;y=_u(y))x++;for(y=0,v=g;v;v=_u(v))y++;for(;0<x-y;)m=_u(m),x--;for(;0<y-x;)g=_u(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=_u(m),g=_u(g)}m=null}else m=null;p!==null&&f_(d,h,p,m,!1),f!==null&&b!==null&&f_(d,b,f,m,!0)}}e:{if(h=c?ap(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=$3;else if(I3(h))if(cO)w=hU;else{w=uU;var C=cU}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&PS(c.elementType)&&(w=$3):w=dU;if(w&&(w=w(t,c))){lO(d,w,n,u);break e}C&&C(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&ok(h,"number",h.value)}switch(C=c?ap(c):window,t){case"focusin":(I3(C)||C.contentEditable==="true")&&(id=C,lk=c,vp=null);break;case"focusout":vp=lk=id=null;break;case"mousedown":ck=!0;break;case"contextmenu":case"mouseup":case"dragend":ck=!1,O3(d,n,u);break;case"selectionchange":if(mU)break;case"keydown":case"keyup":O3(d,n,u)}var k;if(US)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else nd?rO(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(oO&&n.locale!=="ko"&&(nd||E!=="onCompositionStart"?E==="onCompositionEnd"&&nd&&(k=sO()):(qa=u,MS="value"in qa?qa.value:qa.textContent,nd=!0)),C=r0(c,E),0<C.length&&(E=new S3(E,t,null,n,u),d.push({event:E,listeners:C}),k?E.data=k:(k=aO(n),k!==null&&(E.data=k)))),(k=sU?oU(t,n):rU(t,n))&&(E=r0(c,"onBeforeInput"),0<E.length&&(C=new S3("onBeforeInput","beforeinput",null,n,u),d.push({event:C,listeners:E}),C.data=k)),ZU(d,t,c,n,u)}K5(d,e)})}function qp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function r0(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=Mp(t,n),s!=null&&i.unshift(qp(t,s,o)),s=Mp(t,e),s!=null&&i.push(qp(t,s,o))),t=t.return}return i}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f_(t,e,n,i,s){for(var o=e._reactName,r=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===i)break;a!==5&&a!==26&&a!==27||c===null||(l=c,s?(c=Mp(n,o),c!=null&&r.unshift(qp(n,c,l))):s||(c=Mp(n,o),c!=null&&r.push(qp(n,c,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var tV=/\r\n?/g,nV=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(tV,"\n").replace(nV,"")}function Y5(t,e){return e=m_(e),m_(t)===e}function _x(){}function Dt(t,e,n,i,s,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Od(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Od(t,""+i);break;case"className":$g(t,"class",i);break;case"tabIndex":$g(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":$g(t,n,i);break;case"style":nO(t,i,o);break;case"data":if(e!=="object"){$g(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=xb(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&Dt(t,e,"name",s.name,s,null),Dt(t,e,"formEncType",s.formEncType,s,null),Dt(t,e,"formMethod",s.formMethod,s,null),Dt(t,e,"formTarget",s.formTarget,s,null)):(Dt(t,e,"encType",s.encType,s,null),Dt(t,e,"method",s.method,s,null),Dt(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=xb(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=_x);break;case"onScroll":i!=null&&vt("scroll",t);break;case"onScrollEnd":i!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(me(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(me(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=xb(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":vt("beforetoggle",t),vt("toggle",t),bb(t,"popover",i);break;case"xlinkActuate":Rr(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rr(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rr(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rr(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rr(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":bb(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Nj.get(n)||n,bb(t,n,i))}}function Lk(t,e,n,i,s,o){switch(n){case"style":nO(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(me(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(me(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Od(t,i):(typeof i=="number"||typeof i=="bigint")&&Od(t,""+i);break;case"onScroll":i!=null&&vt("scroll",t);break;case"onScrollEnd":i!=null&&vt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=_x);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!YD.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),o=t[ls]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,s),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):bb(t,n,i)}}}function yi(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var i=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(me(137,e));default:Dt(t,e,o,r,n,null)}}s&&Dt(t,e,"srcSet",n.srcSet,n,null),i&&Dt(t,e,"src",n.src,n,null);return;case"input":vt("invalid",t);var a=o=r=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"name":s=u;break;case"type":r=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":o=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(me(137,e));break;default:Dt(t,e,i,u,n,null)}}QD(t,o,a,l,c,r,s,!1),Vb(t);return;case"select":vt("invalid",t),i=r=o=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":o=a;break;case"defaultValue":r=a;break;case"multiple":i=a;default:Dt(t,e,s,a,n,null)}e=o,n=r,t.multiple=!!i,e!=null?fd(t,!!i,e,!1):n!=null&&fd(t,!!i,n,!0);return;case"textarea":vt("invalid",t),o=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(a=n[r],a!=null))switch(r){case"value":i=a;break;case"defaultValue":s=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(me(91));break;default:Dt(t,e,r,a,n,null)}tO(t,i,s,o),Vb(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Dt(t,e,l,i,n,null)}return;case"dialog":vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(i=0;i<Gp.length;i++)vt(Gp[i],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(me(137,e));default:Dt(t,e,c,i,n,null)}return;default:if(PS(e)){for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!==void 0&&Lk(t,e,u,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&Dt(t,e,a,i,n,null))}function iV(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,r=null,a=null,l=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||Dt(t,e,p,null,i,d)}}for(var h in i){var p=i[h];if(d=n[h],i.hasOwnProperty(h)&&(p!=null||d!=null))switch(h){case"type":o=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":r=p;break;case"defaultValue":a=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(me(137,e));break;default:p!==d&&Dt(t,e,h,p,i,d)}}sk(t,r,a,l,c,u,o,s);return;case"select":p=r=a=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(o)||Dt(t,e,o,null,i,l)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":h=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:o!==l&&Dt(t,e,s,o,i,l)}e=a,n=r,i=p,h!=null?fd(t,!!n,h,!1):!!i!=!!n&&(e!=null?fd(t,!!n,e,!0):fd(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(a in n)if(s=n[a],n.hasOwnProperty(a)&&s!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Dt(t,e,a,null,i,s)}for(r in i)if(s=i[r],o=n[r],i.hasOwnProperty(r)&&(s!=null||o!=null))switch(r){case"value":h=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(me(91));break;default:s!==o&&Dt(t,e,r,s,i,o)}eO(t,h,p);return;case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&h!=null&&!i.hasOwnProperty(f))switch(f){case"selected":t.selected=!1;break;default:Dt(t,e,f,null,i,h)}for(l in i)if(h=i[l],p=n[l],i.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Dt(t,e,l,h,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&h!=null&&!i.hasOwnProperty(m)&&Dt(t,e,m,null,i,h);for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(me(137,e));break;default:Dt(t,e,c,h,i,p)}return;default:if(PS(e)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!i.hasOwnProperty(b)&&Lk(t,e,b,void 0,i,h);for(u in i)h=i[u],p=n[u],!i.hasOwnProperty(u)||h===p||h===void 0&&p===void 0||Lk(t,e,u,h,i,p);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&Dt(t,e,g,null,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||h==null&&p==null||Dt(t,e,d,h,i,p)}var zk=null,Fk=null;function a0(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z5(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Pk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ew=null;function sV(){var t=window.event;return t&&t.type==="popstate"?t===ew?!1:(ew=t,!0):(ew=null,!1)}var J5=typeof setTimeout=="function"?setTimeout:void 0,oV=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,rV=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(aV)}:J5;function aV(t){setTimeout(function(){throw t})}function tw(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Jp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Jp(e)}function Bk(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bk(n),FS(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function lV(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Bp])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==s.rel||t.getAttribute("href")!==(s.href==null?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=jo(t.nextSibling),t===null)break}return null}function cV(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jo(t.nextSibling),t===null))return null;return t}function jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function x_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Q5(t,e,n){switch(e=a0(n),t){case"html":if(t=e.documentElement,!t)throw Error(me(452));return t;case"head":if(t=e.head,!t)throw Error(me(453));return t;case"body":if(t=e.body,!t)throw Error(me(454));return t;default:throw Error(me(451))}}var xo=new Map,y_=new Set;function l0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ba=Xt.d;Xt.d={f:uV,r:dV,D:hV,C:pV,L:fV,m:mV,X:bV,S:gV,M:xV};function uV(){var t=ba.f(),e=Ix();return t||e}function dV(t){var e=lh(t);e!==null&&e.tag===5&&e.type==="form"?QO(e):ba.r(t)}var uh=typeof document>"u"?null:document;function eR(t,e,n){var i=uh;if(i&&typeof e=="string"&&e){var s=eo(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),y_.has(s)||(y_.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),yi(e,"link",t),ni(e),i.head.appendChild(e)))}}function hV(t){ba.D(t),eR("dns-prefetch",t,null)}function pV(t,e){ba.C(t,e),eR("preconnect",t,e)}function fV(t,e,n){ba.L(t,e,n);var i=uh;if(i&&t&&e){var s='link[rel="preload"][as="'+eo(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+eo(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+eo(n.imageSizes)+'"]')):s+='[href="'+eo(t)+'"]';var o=s;switch(e){case"style":o=Bd(t);break;case"script":o=dh(t)}xo.has(o)||(t=Zt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),xo.set(o,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Ff(o))||e==="script"&&i.querySelector(Pf(o))||(e=i.createElement("link"),yi(e,"link",t),ni(e),i.head.appendChild(e)))}}function mV(t,e){ba.m(t,e);var n=uh;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+eo(i)+'"][href="'+eo(t)+'"]',o=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=dh(t)}if(!xo.has(o)&&(t=Zt({rel:"modulepreload",href:t},e),xo.set(o,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pf(o)))return}i=n.createElement("link"),yi(i,"link",t),ni(i),n.head.appendChild(i)}}}function gV(t,e,n){ba.S(t,e,n);var i=uh;if(i&&t){var s=pd(i).hoistableStyles,o=Bd(t);e=e||"default";var r=s.get(o);if(!r){var a={loading:0,preload:null};if(r=i.querySelector(Ff(o)))a.loading=5;else{t=Zt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=xo.get(o))&&vC(t,n);var l=r=i.createElement("link");ni(l),yi(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Tb(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:a},s.set(o,r)}}}function bV(t,e){ba.X(t,e);var n=uh;if(n&&t){var i=pd(n).hoistableScripts,s=dh(t),o=i.get(s);o||(o=n.querySelector(Pf(s)),o||(t=Zt({src:t,async:!0},e),(e=xo.get(s))&&wC(t,e),o=n.createElement("script"),ni(o),yi(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function xV(t,e){ba.M(t,e);var n=uh;if(n&&t){var i=pd(n).hoistableScripts,s=dh(t),o=i.get(s);o||(o=n.querySelector(Pf(s)),o||(t=Zt({src:t,async:!0,type:"module"},e),(e=xo.get(s))&&wC(t,e),o=n.createElement("script"),ni(o),yi(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function v_(t,e,n,i){var s=(s=Za.current)?l0(s):null;if(!s)throw Error(me(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Bd(n.href),n=pd(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Bd(n.href);var o=pd(s).hoistableStyles,r=o.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=s.querySelector(Ff(t)))&&!o._p&&(r.instance=o,r.state.loading=5),xo.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xo.set(t,n),o||yV(s,t,n,r.state))),e&&i===null)throw Error(me(528,""));return r}if(e&&i!==null)throw Error(me(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=dh(n),n=pd(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(me(444,t))}}function Bd(t){return'href="'+eo(t)+'"'}function Ff(t){return'link[rel="stylesheet"]['+t+"]"}function tR(t){return Zt({},t,{"data-precedence":t.precedence,precedence:null})}function yV(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),yi(e,"link",n),ni(e),t.head.appendChild(e))}function dh(t){return'[src="'+eo(t)+'"]'}function Pf(t){return"script[async]"+t}function w_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+eo(n.href)+'"]');if(i)return e.instance=i,ni(i),i;var s=Zt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ni(i),yi(i,"style",s),Tb(i,n.precedence,t),e.instance=i;case"stylesheet":s=Bd(n.href);var o=t.querySelector(Ff(s));if(o)return e.state.loading|=4,e.instance=o,ni(o),o;i=tR(n),(s=xo.get(s))&&vC(i,s),o=(t.ownerDocument||t).createElement("link"),ni(o);var r=o;return r._p=new Promise(function(a,l){r.onload=a,r.onerror=l}),yi(o,"link",i),e.state.loading|=4,Tb(o,n.precedence,t),e.instance=o;case"script":return o=dh(n.src),(s=t.querySelector(Pf(o)))?(e.instance=s,ni(s),s):(i=n,(s=xo.get(o))&&(i=Zt({},n),wC(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ni(s),yi(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(me(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Tb(i,n.precedence,t));return e.instance}function Tb(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,o=s,r=0;r<i.length;r++){var a=i[r];if(a.dataset.precedence===e)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function vC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function wC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ib=null;function k_(t,e,n){if(Ib===null){var i=new Map,s=Ib=new Map;s.set(n,i)}else s=Ib,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var o=n[s];if(!(o[Bp]||o[Ai]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var a=i.get(r);a?a.push(o):i.set(r,[o])}}return i}function S_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function vV(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function nR(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Kp=null;function wV(){}function kV(t,e,n){if(Kp===null)throw Error(me(475));var i=Kp;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=Bd(n.href),o=t.querySelector(Ff(s));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=c0.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,ni(o);return}o=t.ownerDocument||t,n=tR(n),(s=xo.get(s))&&vC(n,s),o=o.createElement("link"),ni(o);var r=o;r._p=new Promise(function(a,l){r.onload=a,r.onerror=l}),yi(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=c0.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function SV(){if(Kp===null)throw Error(me(475));var t=Kp;return t.stylesheets&&t.count===0&&Mk(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Mk(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function c0(){if(this.count--,this.count===0){if(this.stylesheets)Mk(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var u0=null;function Mk(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,u0=new Map,e.forEach(CV,t),u0=null,c0.call(t))}function CV(t,e){if(!(e.state.loading&4)){var n=u0.get(t);if(n)var i=n.get(null);else{n=new Map,u0.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var r=s[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,s),n.set(r,s),this.count++,i=c0.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),o?o.parentNode.insertBefore(s,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Xp={$$typeof:Yr,Provider:null,Consumer:null,_currentValue:vc,_currentValue2:vc,_threadCount:0};function EV(t,e,n,i,s,o,r,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=T1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T1(0),this.hiddenUpdates=T1(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function iR(t,e,n,i,s,o,r,a,l,c,u,d){return t=new EV(t,e,n,r,a,l,c,d),e=1,o===!0&&(e|=24),o=io(3,null,null,e),t.current=o,o.stateNode=t,e=XS(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},uC(o),t}function sR(t){return t?(t=rd,t):rd}function oR(t,e,n,i,s,o){s=sR(s),i.context===null?i.context=s:i.pendingContext=s,i=Ja(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Qa(t,i,e),n!==null&&(Wi(n,t,e),Tp(n,t,e))}function C_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kC(t,e){C_(t,e),(t=t.alternate)&&C_(t,e)}function rR(t){if(t.tag===13){var e=dl(t,67108864);e!==null&&Wi(e,t,67108864),kC(t,67108864)}}var d0=!0;function TV(t,e,n,i){var s=tt.T;tt.T=null;var o=Xt.p;try{Xt.p=2,SC(t,e,n,i)}finally{Xt.p=o,tt.T=s}}function IV(t,e,n,i){var s=tt.T;tt.T=null;var o=Xt.p;try{Xt.p=8,SC(t,e,n,i)}finally{Xt.p=o,tt.T=s}}function SC(t,e,n,i){if(d0){var s=jk(i);if(s===null)Q1(t,e,i,h0,n),E_(t,i);else if(_V(s,t,e,n,i))i.stopPropagation();else if(E_(t,i),e&4&&-1<$V.indexOf(t)){for(;s!==null;){var o=lh(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=Ql(o.pendingLanes);if(r!==0){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;r;){var l=1<<31-As(r);a.entanglements[1]|=l,r&=~l}Ar(o),!(cn&6)&&(n0=gr()+500,zf(0))}}break;case 13:a=dl(o,2),a!==null&&Wi(a,o,2),Ix(),kC(o,2)}if(o=jk(i),o===null&&Q1(t,e,i,h0,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else Q1(t,e,i,null,n)}}function jk(t){return t=BS(t),CC(t)}var h0=null;function CC(t){if(h0=null,t=dc(t),t!==null){var e=rh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=PD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return h0=t,null}function aR(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pj()){case MD:return 2;case jD:return 8;case Ub:case fj:return 32;case UD:return 268435456;default:return 32}default:return 32}}var Uk=!1,nl=null,il=null,sl=null,Yp=new Map,Zp=new Map,Va=[],$V="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":Yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zp.delete(e.pointerId)}}function qh(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=lh(e),e!==null&&rR(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _V(t,e,n,i,s){switch(e){case"focusin":return nl=qh(nl,t,e,n,i,s),!0;case"dragenter":return il=qh(il,t,e,n,i,s),!0;case"mouseover":return sl=qh(sl,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return Yp.set(o,qh(Yp.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Zp.set(o,qh(Zp.get(o)||null,t,e,n,i,s)),!0}return!1}function lR(t){var e=dc(t.target);if(e!==null){var n=rh(e);if(n!==null){if(e=n.tag,e===13){if(e=PD(n),e!==null){t.blockedOn=e,Sj(t.priority,function(){if(n.tag===13){var i=Ns(),s=dl(n,i);s!==null&&Wi(s,n,i),kC(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $b(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jk(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);rk=i,n.target.dispatchEvent(i),rk=null}else return e=lh(n),e!==null&&rR(e),t.blockedOn=n,!1;e.shift()}return!0}function T_(t,e,n){$b(t)&&n.delete(e)}function AV(){Uk=!1,nl!==null&&$b(nl)&&(nl=null),il!==null&&$b(il)&&(il=null),sl!==null&&$b(sl)&&(sl=null),Yp.forEach(T_),Zp.forEach(T_)}function Fg(t,e){t.blockedOn===e&&(t.blockedOn=null,Uk||(Uk=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,AV)))}var Pg=null;function I_(t){Pg!==t&&(Pg=t,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,function(){Pg===t&&(Pg=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(CC(i||n)===null)continue;break}var o=lh(n);o!==null&&(t.splice(e,3),e-=3,gk(o,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Jp(t){function e(l){return Fg(l,t)}nl!==null&&Fg(nl,t),il!==null&&Fg(il,t),sl!==null&&Fg(sl,t),Yp.forEach(e),Zp.forEach(e);for(var n=0;n<Va.length;n++){var i=Va[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)lR(n),n.blockedOn===null&&Va.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],o=n[i+1],r=s[ls]||null;if(typeof o=="function")r||I_(n);else if(r){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,r=o[ls]||null)a=r.formAction;else if(CC(s)!==null)continue}else a=r.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),I_(n)}}}function EC(t){this._internalRoot=t}Ax.prototype.render=EC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));var n=e.current,i=Ns();oR(n,i,t,e,null,null)};Ax.prototype.unmount=EC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&vd(),oR(t.current,2,null,t,null,null),Ix(),e[ah]=null}};function Ax(t){this._internalRoot=t}Ax.prototype.unstable_scheduleHydration=function(t){if(t){var e=KD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Va.length&&e!==0&&e<Va[n].priority;n++);Va.splice(n,0,t),n===0&&lR(t)}};var $_=OD.version;if($_!=="19.0.0")throw Error(me(527,$_,"19.0.0"));Xt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=uj(e),t=t!==null?BD(t):null,t=t===null?null:t.stateNode,t};var NV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,findFiberByHostInstance:dc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bg.isDisabled&&Bg.supportsFiber)try{If=Bg.inject(NV),_s=Bg}catch(t){}}mx.createRoot=function(t,e){if(!RD(t))throw Error(me(299));var n=!1,i="",s=o5,o=r5,r=a5,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=iR(t,1,!1,null,null,n,i,s,o,r,a,null),t[ah]=e.current,yC(t.nodeType===8?t.parentNode:t),new EC(e)};mx.hydrateRoot=function(t,e,n){if(!RD(t))throw Error(me(299));var i=!1,s="",o=o5,r=r5,a=a5,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=iR(t,1,!0,e,n!=null?n:null,i,s,o,r,a,l,c),e.context=sR(null),n=e.current,i=Ns(),s=Ja(i),s.callback=null,Qa(n,s,i),e.current.lanes=i,_f(e,i),Ar(e),t[ah]=e.current,yC(t),new Ax(e)};mx.version="19.0.0";function cR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cR)}catch(t){console.error(t)}}cR(),ID.exports=mx;var DV=ID.exports;const OV="modulepreload",RV=function(t){return"/Cephaline-Supabase/"+t},__={},Mn=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),r=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=RV(a),a in __)return;__[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":OV,l||(u.as="script",u.crossOrigin=""),u.href=a,r&&u.setAttribute("nonce",r),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(a))))})}))}return s.then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};var Bo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},LV=Object.defineProperty,zV=(t,e)=>{for(var n in e)LV(t,n,{get:e[n],enumerable:!0})},FV={isBrowser:!0},uR=new WeakMap,$l=t=>uR.get(t),PV=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return uR.set(t,n)},A_=(t,e)=>e in t,Bf=(t,e)=>(0,console.error)(t,e),p0=new Map,dR=[],BV="slot-fb{display:contents}slot-fb[hidden]{display:none}",N_="http://www.w3.org/1999/xlink",Mf=typeof window<"u"?window:{},Uo=Mf.document||{head:{}},je=Mf.HTMLElement||class{},Si={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},MV=(()=>{let t=!1;try{Uo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),jV=t=>Promise.resolve(t),UV=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Vk=!1,Hk=[],hR=[],pR=(t,e)=>n=>{t.push(n),Vk||(Vk=!0,e&&Si.$flags$&4?VV(Wk):Si.raf(Wk))},D_=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Bf(n)}t.length=0},Wk=()=>{D_(Hk),D_(hR),(Vk=Hk.length>0)&&Si.raf(Wk)},VV=t=>jV().then(t),zc=pR(Hk,!1),cs=pR(hR,!0),fR=t=>{const e=new URL(t,Si.$resourcesUrl$);return e.origin!==Mf.location.origin?e.href:e.pathname},O_={},HV="http://www.w3.org/2000/svg",WV="http://www.w3.org/1999/xhtml",GV=t=>t!=null,TC=t=>(t=typeof t,t==="object"||t==="function");function qV(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var KV={};zV(KV,{err:()=>mR,map:()=>XV,ok:()=>Gk,unwrap:()=>YV,unwrapErr:()=>ZV});var Gk=t=>({isOk:!0,isErr:!1,value:t}),mR=t=>({isOk:!1,isErr:!0,value:t});function XV(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>Gk(i)):Gk(n)}if(t.isErr){const n=t.value;return mR(n)}throw"should never get here"}var YV=t=>{if(t.isOk)return t.value;throw t.value},ZV=t=>{if(t.isErr)return t.value;throw t.value},Fc=(t,e="")=>()=>{},D=(t,e,...n)=>{let i=null,s=null,o=null,r=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((r=typeof t!="function"&&!TC(i))&&(i=String(i)),r&&a?l[l.length-1].$text$+=i:l.push(r?f0(null,i):i),a=r)};if(c(n),e){e.key&&(s=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,QV);const u=f0(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=s,u.$name$=o,u},f0=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Ve={},JV=t=>t&&t.$tag$===Ve,QV={forEach:(t,e)=>t.map(R_).forEach(e),map:(t,e)=>t.map(R_).map(e).map(eH)},R_=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),eH=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),D(t.vtag,n,...t.vchildren||[])}const e=f0(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},tH=t=>dR.map(e=>e(t)).find(e=>!!e),nH=t=>dR.push(t),iH=t=>$l(t).$modeName$,sH=(t,e)=>t!=null&&!TC(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,oH=t=>t,he=(t,e,n)=>{const i=oH(t);return{emit:s=>rH(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:s})}},rH=(t,e,n)=>{const i=Si.ce(e,n);return t.dispatchEvent(i),i},L_=new WeakMap,aH=(t,e,n)=>{let i=p0.get(t);UV&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,p0.set(t,i)},lH=(t,e,n)=>{var i;const s=gR(e,n),o=p0.get(s);if(t=t.nodeType===11?t:Uo,o)if(typeof o=="string"){t=t.head||t;let r=L_.get(t),a;if(r||L_.set(t,r=new Set),!r.has(s)){{a=Uo.createElement("style"),a.innerHTML=o;const l=(i=Si.$nonce$)!=null?i:qV(Uo);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=BV),r&&r.add(s)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return s},cH=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,s=Fc("attachStyles",e.$tagName$),o=lH(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&i&2&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),s()},gR=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),z_=(t,e,n,i,s,o)=>{if(n!==i){let r=A_(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=F_(n),u=F_(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):A_(Mf,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(bR);e=e.replace(dH,""),n&&Si.rel(t,e,n,l),i&&Si.ael(t,e,i,l)}}else{const l=TC(i);if((r||l&&i!==null)&&!s)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?r=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(N_,e):t.removeAttribute(e)):(!r||o&4||s)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(N_,e,i):t.setAttribute(e,i))}}},uH=/\s/,F_=t=>t?t.split(uH):[],bR="Capture",dH=new RegExp(bR+"$"),xR=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||O_,o=e.$attrs$||O_;for(const r of P_(Object.keys(s)))r in o||z_(i,r,s[r],void 0,n,e.$flags$);for(const r of P_(Object.keys(o)))z_(i,r,s[r],o[r],n,e.$flags$)};function P_(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Uu,qk,Qp,m0=!1,g0=!1,IC=!1,Es=!1,b0=(t,e,n,i)=>{var s;const o=e.$children$[n];let r=0,a,l,c;if(m0||(IC=!0,o.$tag$==="slot"&&(Uu&&i.classList.add(Uu+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)a=o.$elm$=Uo.createTextNode(o.$text$);else if(o.$flags$&1)a=o.$elm$=Uo.createTextNode("");else{if(Es||(Es=o.$tag$==="svg"),a=o.$elm$=Uo.createElementNS(Es?HV:WV,!m0&&Bo.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),Es&&o.$tag$==="foreignObject"&&(Es=!1),xR(null,o,Es),!!a.getRootNode().querySelector("body")&&Bo.scoped&&GV(Uu)&&a["s-si"]!==Uu&&a.classList.add(a["s-si"]=Uu),_C(a,i),o.$children$)for(r=0;r<o.$children$.length;++r)l=b0(t,o,r,a),l&&a.appendChild(l);o.$tag$==="svg"?Es=!1:a.tagName==="foreignObject"&&(Es=!0)}return a["s-hn"]=Qp,o.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=qk,a["s-sn"]=o.$name$||"",a["s-rf"]=(s=o.$attrs$)==null?void 0:s.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===o.$tag$&&t.$elm$&&ef(t.$elm$,!1)),a},ef=(t,e)=>{Si.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&Bo.experimentalSlotFixes;for(let i=n.length-1;i>=0;i--){const s=n[i];s["s-hn"]!==Qp&&s["s-ol"]&&(ol(wR(s),s,$C(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,IC=!0),e&&ef(s,e)}Si.$flags$&=-2},yR=(t,e,n,i,s,o)=>{let r=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(r.shadowRoot&&r.tagName===Qp&&(r=r.shadowRoot);s<=o;++s)i[s]&&(a=b0(null,n,s,t),a&&(i[s].$elm$=a,ol(r,a,$C(e))))},vR=(t,e,n)=>{for(let i=e;i<=n;++i){const s=t[i];if(s){const o=s.$elm$;CR(s),o&&(g0=!0,o["s-ol"]?o["s-ol"].remove():ef(o,!0),o.remove())}}},hH=(t,e,n,i,s=!1)=>{let o=0,r=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=i.length-1,p=i[0],f=i[h],m,b;for(;o<=c&&r<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(p==null)p=i[++r];else if(f==null)f=i[--h];else if(Mg(u,p,s))Vu(u,p,s),u=e[++o],p=i[++r];else if(Mg(d,f,s))Vu(d,f,s),d=e[--c],f=i[--h];else if(Mg(u,f,s))(u.$tag$==="slot"||f.$tag$==="slot")&&ef(u.$elm$.parentNode,!1),Vu(u,f,s),ol(t,u.$elm$,d.$elm$.nextSibling),u=e[++o],f=i[--h];else if(Mg(d,p,s))(u.$tag$==="slot"||f.$tag$==="slot")&&ef(d.$elm$.parentNode,!1),Vu(d,p,s),ol(t,d.$elm$,u.$elm$),d=e[--c],p=i[++r];else{for(a=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===p.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==p.$tag$?m=b0(e&&e[r],n,a,t):(Vu(b,p,s),e[a]=void 0,m=b.$elm$),p=i[++r]):(m=b0(e&&e[r],n,r,t),p=i[++r]),m&&ol(wR(u.$elm$),m,$C(u.$elm$))}o>c?yR(t,i[h+1]==null?null:i[h+1].$elm$,n,i,r,h):r>h&&vR(e,o,c)},Mg=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,$C=t=>t&&t["s-ol"]||t,wR=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Vu=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,s=t.$children$,o=e.$children$,r=e.$tag$,a=e.$text$;let l;a===null?(Es=r==="svg"?!0:r==="foreignObject"?!1:Es,r==="slot"&&!m0||xR(t,e,Es),s!==null&&o!==null?hH(i,s,e,o,n):o!==null?(t.$text$!==null&&(i.textContent=""),yR(i,null,e,o,0,o.length-1)):!n&&Bo.updatable&&s!==null&&vR(s,0,s.length-1),Es&&r==="svg"&&(Es=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},kR=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const s of e)if(s!==n){if(s["s-hn"]!==n["s-hn"]||i!==""){if(s.nodeType===1&&(i===s.getAttribute("slot")||i===s["s-sn"])||s.nodeType===3&&i===s["s-sn"]){n.hidden=!0;break}}else if(s.nodeType===1||s.nodeType===3&&s.textContent.trim()!==""){n.hidden=!0;break}}}kR(n)}},Mr=[],SR=t=>{let e,n,i;for(const s of t.childNodes){if(s["s-sr"]&&(e=s["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const o=s["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==s["s-hn"])if(B_(e,o)){let r=Mr.find(a=>a.$nodeToRelocate$===e);g0=!0,e["s-sn"]=e["s-sn"]||o,r?(r.$nodeToRelocate$["s-sh"]=s["s-hn"],r.$slotRefNode$=s):(e["s-sh"]=s["s-hn"],Mr.push({$slotRefNode$:s,$nodeToRelocate$:e})),e["s-sr"]&&Mr.map(a=>{B_(a.$nodeToRelocate$,e["s-sn"])&&(r=Mr.find(l=>l.$nodeToRelocate$===e),r&&!a.$slotRefNode$&&(a.$slotRefNode$=r.$slotRefNode$))})}else Mr.some(r=>r.$nodeToRelocate$===e)||Mr.push({$nodeToRelocate$:e})}s.nodeType===1&&SR(s)}},B_=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",CR=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(CR)},ol=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return _C(e,t),i},ER=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...ER(t.parentElement)),e},_C=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const s=new Set(ER(e).filter(Boolean));if(s.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...s]),t["s-ol"]||n))for(const o of Array.from(t.childNodes))_C(o,t,!0)}},pH=(t,e,n=!1)=>{var i,s,o,r,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||f0(null,null),d=JV(e)?e:D(null,null,e);if(Qp=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,p])=>d.$attrs$[p]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Uu=l["s-sc"],m0=(c.$flags$&1)!==0,qk=l["s-cr"],g0=!1,Vu(u,d,n);{if(Si.$flags$|=1,IC){SR(d.$elm$);for(const h of Mr){const p=h.$nodeToRelocate$;if(!p["s-ol"]){const f=Uo.createTextNode("");f["s-nr"]=p,ol(p.parentNode,p["s-ol"]=f,p)}}for(const h of Mr){const p=h.$nodeToRelocate$,f=h.$slotRefNode$;if(f){const m=f.parentNode;let b=f.nextSibling;{let g=(i=p["s-ol"])==null?void 0:i.previousSibling;for(;g;){let x=(s=g["s-nr"])!=null?s:null;if(x&&x["s-sn"]===p["s-sn"]&&m===x.parentNode){for(x=x.nextSibling;x===p||x!=null&&x["s-sr"];)x=x==null?void 0:x.nextSibling;if(!x||!x["s-nr"]){b=x;break}}g=g.previousSibling}}(!b&&m!==p.parentNode||p.nextSibling!==b)&&p!==b&&(!p["s-hn"]&&p["s-ol"]&&(p["s-hn"]=p["s-ol"].parentNode.nodeName),ol(m,p,b),p.nodeType===1&&(p.hidden=(o=p["s-ih"])!=null?o:!1)),p&&typeof f["s-rf"]=="function"&&f["s-rf"](p)}else p.nodeType===1&&(n&&(p["s-ih"]=(r=p.hidden)!=null?r:!1),p.hidden=!0)}}g0&&kR(d.$elm$),Si.$flags$&=-2,Mr.length=0}if(Bo.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==Qp&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!=null?a:!1),h.hidden=!0);qk=void 0},fH=(t,e)=>{},AC=(t,e)=>(t.$flags$|=16,fH(t,t.$ancestorComponent$),cs(()=>mH(t,e))),mH=(t,e)=>{const n=t.$hostElement$,i=Fc("scheduleUpdate",t.$cmpMeta$.$tagName$),s=n;if(!s)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let o;return e?o=wd(s,"componentWillLoad"):o=wd(s,"componentWillUpdate"),o=M_(o,()=>wd(s,"componentWillRender")),i(),M_(o,()=>bH(t,s,e))},M_=(t,e)=>gH(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),gH=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",bH=async(t,e,n)=>{const i=t.$hostElement$,s=Fc("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&cH(t);const o=Fc("render",t.$cmpMeta$.$tagName$);xH(t,e,i,n),o(),s(),yH(t)},j_=null,xH=(t,e,n,i)=>{try{j_=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Bo.hasRenderFn||Bo.reflect)&&(Bo.vdomRender||Bo.reflect)&&(Bo.hydrateServerSide||pH(t,e,i))}catch(l){Bf(l,t.$hostElement$)}return j_=null,null},yH=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Fc("postUpdate",e),s=n;t.$ancestorComponent$,wd(s,"componentDidRender"),t.$flags$&64?(wd(s,"componentDidUpdate"),i()):(t.$flags$|=64,wd(s,"componentDidLoad"),i())},vi=t=>{{const e=$l(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&AC(e,!1),n}},wd=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Bf(i)}},vH=(t,e)=>$l(t).$instanceValues$.get(e),wH=(t,e,n,i)=>{const s=$l(t),o=t,r=s.$instanceValues$.get(e),a=s.$flags$,l=o;n=sH(n,i.$members$[e][0]);const c=Number.isNaN(r)&&Number.isNaN(n);if(n!==r&&!c){s.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,r,e)}catch(p){Bf(p,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,r,e)===!1)return;AC(s,!1)}}}},kH=(t,e,n)=>{var i,s;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const r=Object.entries((i=e.$members$)!=null?i:{});r.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(o,a,{get(){return vH(this,a)},set(c){wH(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;o.attributeChangedCallback=function(l,c,u){Si.jmp(()=>{var d;const h=a.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const p=$l(this),f=p==null?void 0:p.$flags$;if(f&&!(f&8)&&f&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(x=>{b[x]!=null&&b[x].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((s=e.$watchers$)!=null?s:{}),...r.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},SH=async(t,e,n,i)=>{let s;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{s=t.constructor;const r=t.localName;customElements.whenDefined(r).then(()=>e.$flags$|=128)}if(s&&s.style){let r;typeof s.style=="string"?r=s.style:typeof s.style!="string"&&(e.$modeName$=tH(t),e.$modeName$&&(r=s.style[e.$modeName$]));const a=gR(n,e.$modeName$);if(!p0.has(a)){const l=Fc("registerStyles",n.$tagName$);aH(a,r,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,AC(e,!0)},U_=t=>{},CH=t=>{if(!(Si.$flags$&1)){const e=$l(t),n=e.$cmpMeta$,i=Fc("connectedCallback",n.$tagName$);e.$flags$&1?(TR(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?U_(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>U_(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&EH(t),n.$members$&&Object.entries(n.$members$).map(([s,[o]])=>{if(o&31&&t.hasOwnProperty(s)){const r=t[s];delete t[s],t[s]=r}}),SH(t,e,n)),i()}},EH=t=>{const e=t["s-cr"]=Uo.createComment("");e["s-cn"]=!0,ol(t,e,t.firstChild)},TH=async t=>{if(!(Si.$flags$&1)){const e=$l(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},Ue=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,s=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){PV(this,n)},connectedCallback(){const o=$l(this);TR(this,o,n.$listeners$),CH(this),i&&i.call(this)},disconnectedCallback(){TH(this),s&&s.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,kH(t,n)},TR=(t,e,n,i)=>{n&&n.map(([s,o,r])=>{const a=$H(t,s),l=IH(e,r),c=_H(s);Si.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Si.rel(a,o,l,c))})},IH=(t,e)=>n=>{var i;try{Bo.lazyLoad||t.$hostElement$[e](n)}catch(s){Bf(s)}},$H=(t,e)=>e&4?Uo:e&8?Mf:e&16?Uo.body:t,_H=t=>MV?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class AH{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const Ke=new AH,NH=t=>{try{const e=t.sessionStorage.getItem(IR);return e!==null?JSON.parse(e):{}}catch(e){return{}}},DH=(t,e)=>{try{t.sessionStorage.setItem(IR,JSON.stringify(e))}catch(n){return}},OH=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>{try{return[decodeURIComponent(n),decodeURIComponent(i)]}catch(s){return["",""]}}).filter(([n])=>RH(n,V_)).map(([n,i])=>[n.slice(V_.length),i]).forEach(([n,i])=>{e[n]=i}),e},RH=(t,e)=>t.substr(0,e.length)===e,V_="ionic:",IR="ionic-persist-config";var Tc;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(Tc||(Tc={}));const Vt=(t,...e)=>{const n=Ke.get("logLevel",Tc.WARN);if([Tc.WARN].includes(n))return console.warn("[Ionic Warning]: ".concat(t),...e)},yo=(t,...e)=>{const n=Ke.get("logLevel",Tc.ERROR);if([Tc.ERROR,Tc.WARN].includes(n))return console.error("[Ionic Error]: ".concat(t),...e)},LH=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _t=typeof window<"u"?window:void 0,Ds=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let nw;const zH=t=>{if(nw===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;nw=!e&&n?"-webkit-":""}return nw},iw=(t,e,n)=>{const i=e.startsWith("animation")?zH(t):"";t.style.setProperty(i+e,n)},jg=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Ee=t=>{let e,n,i,s,o,r,a=[],l=[],c=[],u=!1,d,h={},p=[],f=[],m={},b=0,g=!1,x=!1,y,v,w,C=!0,k=!1,E=!0,T,_=!1;const z=t,N=[],O=[],I=[],L=[],F=[],j=[],H=[],M=[],U=[],B=[],V=[],ee=typeof AnimationEffect=="function"||_t!==void 0&&typeof _t.AnimationEffect=="function",J=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ee,Z=()=>V,pe=ue=>(F.forEach(Pe=>{Pe.destroy(ue)}),ve(ue),L.length=0,F.length=0,a.length=0,st(),u=!1,E=!0,T),ve=ue=>{A(),ue&&le()},ye=()=>{g=!1,x=!1,E=!0,y=void 0,v=void 0,w=void 0,b=0,k=!1,C=!0,_=!1},Ce=()=>b!==0&&!_,Fe=(ue,Pe)=>{const pt=Pe.findIndex(kn=>kn.c===ue);pt>-1&&Pe.splice(pt,1)},Re=(ue,Pe)=>(I.push({c:ue,o:Pe}),T),Ze=(ue,Pe)=>((Pe!=null&&Pe.oneTimeCallback?O:N).push({c:ue,o:Pe}),T),st=()=>(N.length=0,O.length=0,T),A=()=>{J&&(V.forEach(ue=>{ue.cancel()}),V.length=0)},le=()=>{j.forEach(ue=>{ue!=null&&ue.parentNode&&ue.parentNode.removeChild(ue)}),j.length=0},oe=ue=>(H.push(ue),T),G=ue=>(M.push(ue),T),W=ue=>(U.push(ue),T),ne=ue=>(B.push(ue),T),de=ue=>(l=jg(l,ue),T),ge=ue=>(c=jg(c,ue),T),se=(ue={})=>(h=ue,T),we=(ue=[])=>{for(const Pe of ue)h[Pe]="";return T},$e=ue=>(p=jg(p,ue),T),ke=ue=>(f=jg(f,ue),T),Me=(ue={})=>(m=ue,T),ft=(ue=[])=>{for(const Pe of ue)m[Pe]="";return T},Ye=()=>o!==void 0?o:d?d.getFill():"both",on=()=>y!==void 0?y:r!==void 0?r:d?d.getDirection():"normal",ws=()=>g?"linear":i!==void 0?i:d?d.getEasing():"linear",wn=()=>x?0:v!==void 0?v:n!==void 0?n:d?d.getDuration():0,_o=()=>s!==void 0?s:d?d.getIterations():1,Et=()=>w!==void 0?w:e!==void 0?e:d?d.getDelay():0,Sa=()=>a,Hl=ue=>(r=ue,Us(!0),T),Ao=ue=>(o=ue,Us(!0),T),wg=ue=>(e=ue,Us(!0),T),x1=ue=>(i=ue,Us(!0),T),y1=ue=>(!J&&ue===0&&(ue=1),n=ue,Us(!0),T),v1=ue=>(s=ue,Us(!0),T),kg=ue=>(d=ue,T),Wl=ue=>{if(ue!=null)if(ue.nodeType===1)L.push(ue);else if(ue.length>=0)for(let Pe=0;Pe<ue.length;Pe++)L.push(ue[Pe]);else yo("createAnimation - Invalid addElement value.");return T},Iu=ue=>{if(ue!=null)if(Array.isArray(ue))for(const Pe of ue)Pe.parent(T),F.push(Pe);else ue.parent(T),F.push(ue);return T},k9=ue=>{const Pe=a!==ue;return a=ue,Pe&&S9(a),T},S9=ue=>{J&&Z().forEach(Pe=>{const pt=Pe.effect;if(pt.setKeyframes)pt.setKeyframes(ue);else{const kn=new KeyframeEffect(pt.target,ue,pt.getTiming());Pe.effect=kn}})},C9=()=>{H.forEach(kn=>kn()),M.forEach(kn=>kn());const ue=l,Pe=c,pt=h;L.forEach(kn=>{const Fi=kn.classList;ue.forEach(or=>Fi.add(or)),Pe.forEach(or=>Fi.remove(or));for(const or in pt)pt.hasOwnProperty(or)&&iw(kn,or,pt[or])})},E9=()=>{U.forEach(Fi=>Fi()),B.forEach(Fi=>Fi());const ue=C?1:0,Pe=p,pt=f,kn=m;L.forEach(Fi=>{const or=Fi.classList;Pe.forEach(Gl=>or.add(Gl)),pt.forEach(Gl=>or.remove(Gl));for(const Gl in kn)kn.hasOwnProperty(Gl)&&iw(Fi,Gl,kn[Gl])}),v=void 0,y=void 0,w=void 0,N.forEach(Fi=>Fi.c(ue,T)),O.forEach(Fi=>Fi.c(ue,T)),O.length=0,E=!0,C&&(k=!0),C=!0},Sg=()=>{b!==0&&(b--,b===0&&(E9(),d&&d.animationFinish()))},T9=()=>{L.forEach(ue=>{const Pe=ue.animate(a,{id:z,delay:Et(),duration:wn(),easing:ws(),iterations:_o(),fill:Ye(),direction:on()});Pe.pause(),V.push(Pe)}),V.length>0&&(V[0].onfinish=()=>{Sg()})},n3=()=>{C9(),a.length>0&&J&&T9(),u=!0},Bh=ue=>{ue=Math.min(Math.max(ue,0),.9999),J&&V.forEach(Pe=>{Pe.currentTime=Pe.effect.getComputedTiming().delay+wn()*ue,Pe.pause()})},i3=ue=>{V.forEach(Pe=>{Pe.effect.updateTiming({delay:Et(),duration:wn(),easing:ws(),iterations:_o(),fill:Ye(),direction:on()})}),ue!==void 0&&Bh(ue)},Us=(ue=!1,Pe=!0,pt)=>(ue&&F.forEach(kn=>{kn.update(ue,Pe,pt)}),J&&i3(pt),T),I9=(ue=!1,Pe)=>(F.forEach(pt=>{pt.progressStart(ue,Pe)}),s3(),g=ue,u||n3(),Us(!1,!0,Pe),T),$9=ue=>(F.forEach(Pe=>{Pe.progressStep(ue)}),Bh(ue),T),_9=(ue,Pe,pt)=>(g=!1,F.forEach(kn=>{kn.progressEnd(ue,Pe,pt)}),pt!==void 0&&(v=pt),k=!1,C=!0,ue===0?(y=on()==="reverse"?"normal":"reverse",y==="reverse"&&(C=!1),J?(Us(),Bh(1-Pe)):(w=(1-Pe)*wn()*-1,Us(!1,!1))):ue===1&&(J?(Us(),Bh(Pe)):(w=Pe*wn()*-1,Us(!1,!1))),ue!==void 0&&!d&&o3(),T),s3=()=>{u&&(J?V.forEach(ue=>{ue.pause()}):L.forEach(ue=>{iw(ue,"animation-play-state","paused")}),_=!0)},A9=()=>(F.forEach(ue=>{ue.pause()}),s3(),T),N9=()=>{Sg()},D9=()=>{V.forEach(ue=>{ue.play()}),(a.length===0||L.length===0)&&Sg()},O9=()=>{J&&(Bh(0),i3())},o3=ue=>new Promise(Pe=>{ue!=null&&ue.sync&&(x=!0,Ze(()=>x=!1,{oneTimeCallback:!0})),u||n3(),k&&(O9(),k=!1),E&&(b=F.length+1,E=!1);const pt=()=>{Fe(kn,O),Pe()},kn=()=>{Fe(pt,I),Pe()};Ze(kn,{oneTimeCallback:!0}),Re(pt,{oneTimeCallback:!0}),F.forEach(Fi=>{Fi.play()}),J?D9():N9(),_=!1}),R9=()=>{F.forEach(ue=>{ue.stop()}),u&&(A(),u=!1),ye(),I.forEach(ue=>ue.c(0,T)),I.length=0},r3=(ue,Pe)=>{const pt=a[0];return pt!==void 0&&(pt.offset===void 0||pt.offset===0)?pt[ue]=Pe:a=[{offset:0,[ue]:Pe},...a],T};return T={parentAnimation:d,elements:L,childAnimations:F,id:z,animationFinish:Sg,from:r3,to:(ue,Pe)=>{const pt=a[a.length-1];return pt!==void 0&&(pt.offset===void 0||pt.offset===1)?pt[ue]=Pe:a=[...a,{offset:1,[ue]:Pe}],T},fromTo:(ue,Pe,pt)=>r3(ue,Pe).to(ue,pt),parent:kg,play:o3,pause:A9,stop:R9,destroy:pe,keyframes:k9,addAnimation:Iu,addElement:Wl,update:Us,fill:Ao,direction:Hl,iterations:v1,duration:y1,easing:x1,delay:wg,getWebAnimations:Z,getKeyframes:Sa,getFill:Ye,getDirection:on,getDelay:Et,getIterations:_o,getEasing:ws,getDuration:wn,afterAddRead:W,afterAddWrite:ne,afterClearStyles:ft,afterStyles:Me,afterRemoveClass:ke,afterAddClass:$e,beforeAddRead:oe,beforeAddWrite:G,beforeClearStyles:we,beforeStyles:se,beforeRemoveClass:ge,beforeAddClass:de,onFinish:Ze,isRunning:Ce,progressStart:I9,progressStep:$9,progressEnd:_9}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ko=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Xn(()=>e(t))},tf=t=>t.componentOnReady!==void 0,Nr=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},FH=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],er=(t,e)=>Nr(t,FH),NC=(t,e,n,i)=>t.addEventListener(e,n,i),$R=(t,e,n,i)=>t.removeEventListener(e,n,i),gn=(t,e=t)=>t.shadowRoot||e,Xn=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),PH=t=>!!t.shadowRoot&&!!t.attachShadow,x0=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},jf=(t,e,n,i,s)=>{{let o=e.querySelector("input.aux-input");o||(o=e.ownerDocument.createElement("input"),o.type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=s,o.name=n,o.value=i||""}},ji=(t,e,n)=>Math.max(t,Math.min(e,n)),Qn=(t,e)=>{if(!t){const n="ASSERT: "+e;yo(n);debugger;throw new Error(n)}},s6e=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},H_=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},Nx=(t,e)=>{const n=t._original||t;return{_original:t,emit:BH(n.emit.bind(n),e)}},BH=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},_R=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0},Fa=t=>typeof t=="number"&&!isNaN(t)&&isFinite(t),MH="ionViewWillEnter",jH="ionViewDidEnter",AR="ionViewWillLeave",NR="ionViewDidLeave",sw="ionViewWillUnload",Kh=t=>{t.tabIndex=-1,t.focus()},Ug=t=>t.offsetParent!==null,UH=()=>({saveViewFocus:n=>{if(Ke.get("focusManagerPriority",!1)){const s=document.activeElement;s!==null&&(n!=null&&n.contains(s))&&s.setAttribute(W_,"true")}},setViewFocus:n=>{const i=Ke.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const s=n.querySelector("[".concat(W_,"]"));if(s&&Ug(s)){Kh(s);return}for(const o of i)switch(o){case"content":const r=n.querySelector('main, [role="main"]');if(r&&Ug(r)){Kh(r);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&Ug(a)){Kh(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&Ug(l)){Kh(l);return}break;default:Vt("Unrecognized focus manager priority value ".concat(o));break}Kh(n)}}}),W_="ion-last-focus",VH=()=>Mn(()=>import("./ios.transition-CT_vsJ1C.js"),[]),HH=()=>Mn(()=>import("./md.transition-CSH7b4_q.js"),[]),DR=UH(),OR=t=>new Promise((e,n)=>{cs(()=>{WH(t),GH(t).then(i=>{i.animation&&i.animation.destroy(),G_(t),e(i)},i=>{G_(t),n(i)})})}),WH=t=>{const e=t.enteringEl,n=t.leavingEl;DR.saveViewFocus(n),JH(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Kk(e,!1),e.style.setProperty("pointer-events","none"),n&&(Kk(n,!1),n.style.setProperty("pointer-events","none"))},GH=async t=>{const e=await qH(t);return e&&FV.isBrowser?KH(e,t):XH(t)},G_=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),DR.setViewFocus(e)},qH=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await VH()).iosTransitionAnimation:(await HH()).mdTransitionAnimation,KH=async(t,e)=>{await RR(e,!0);const n=t(e.baseEl,e);LR(e.enteringEl,e.leavingEl);const i=await ZH(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&zR(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},XH=async t=>{const e=t.enteringEl,n=t.leavingEl,i=Ke.get("focusManagerPriority",!1);return await RR(t,i),LR(e,n),zR(e,n),{hasCompleted:!0}},RR=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([nf(t.enteringEl),nf(t.leavingEl)]),await YH(t.viewIsReady,t.enteringEl)},YH=async(t,e)=>{t&&await t(e)},ZH=(t,e)=>{const n=e.progressCallback,i=new Promise(s=>{t.onFinish(o=>s(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},LR=(t,e)=>{Kr(e,AR),Kr(t,MH)},zR=(t,e)=>{Kr(t,jH),Kr(e,NR)},Kr=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},FR=()=>new Promise(t=>Xn(()=>Xn(()=>t()))),nf=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Xn(i));return}await Promise.all(Array.from(e.children).map(nf))}},Kk=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},JH=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},o6e=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pc=(t,e,n,i,s)=>eW(t[1],e[1],n[1],i[1],s).map(o=>QH(t[0],e[0],n[0],i[0],o)),QH=(t,e,n,i,s)=>{const o=3*e*Math.pow(s-1,2),r=-3*n*s+3*n+i*s,a=t*Math.pow(s-1,3);return s*(o+s*r)-a},eW=(t,e,n,i,s)=>(t-=s,e-=s,n-=s,i-=s,nW(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(r=>r>=0&&r<=1)),tW=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},nW=(t,e,n,i)=>{if(t===0)return tW(e,n,i);e/=t,n/=t,i/=t;const s=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*i)/27;if(s===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-s),-Math.sqrt(-s)];const r=Math.pow(o/2,2)+Math.pow(s/3,3);if(r===0)return[Math.pow(o/2,1/2)-e/3];if(r>0)return[Math.pow(-(o/2)+Math.sqrt(r),1/3)-Math.pow(o/2+Math.sqrt(r),1/3)-e/3];const a=Math.sqrt(Math.pow(-(s/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(s/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class iW{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new sW(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new oW(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const s=this.requestedStart;let o=-1e4;if(s.forEach(r=>{o=Math.max(o,r)}),o===i){this.capturedId=n,s.clear();const r=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(r),!0}return s.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(y0)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(y0)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class sW{constructor(e,n,i,s,o){this.id=n,this.name=i,this.disableScroll=o,this.priority=s*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class oW{constructor(e,n,i,s){this.id=n,this.disable=i,this.disableScroll=s,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const y0="backdrop-no-scroll",DC=new iW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kl=(t,e,n,i)=>{const s=rW(t)?{capture:!1,passive:!!i.passive}:!1;let o,r;return t.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",r="__zone_symbol__removeEventListener"):(o="addEventListener",r="removeEventListener"),t[o](e,n,s),()=>{t[r](e,n,s)}},rW=t=>{if(Vg===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{Vg=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){Vg=!1}return!!Vg};let Vg;const aW=2e3,lW=(t,e,n,i,s)=>{let o,r,a,l,c,u,d,h=0;const p=C=>{h=Date.now()+aW,e(C)&&(!r&&n&&(r=Kl(t,"touchmove",n,s)),a||(a=Kl(C.target,"touchend",m,s)),l||(l=Kl(C.target,"touchcancel",m,s)))},f=C=>{h>Date.now()||e(C)&&(!u&&n&&(u=Kl(q_(t),"mousemove",n,s)),d||(d=Kl(q_(t),"mouseup",b,s)))},m=C=>{g(),i&&i(C)},b=C=>{x(),i&&i(C)},g=()=>{r&&r(),a&&a(),l&&l(),r=a=l=void 0},x=()=>{u&&u(),d&&d(),u=d=void 0},y=()=>{g(),x()},v=(C=!0)=>{C?(o||(o=Kl(t,"touchstart",p,s)),c||(c=Kl(t,"mousedown",f,s))):(o&&o(),c&&c(),o=c=void 0,y())};return{enable:v,stop:y,destroy:()=>{v(!1),i=n=e=void 0}}},q_=t=>t instanceof Document?t:t.ownerDocument,cW=(t,e,n)=>{const i=n*(Math.PI/180),s=t==="x",o=Math.cos(i),r=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const p=d-a,f=h-l,m=p*p+f*f;if(m<r)return!1;const b=Math.sqrt(m),g=(s?p:f)/b;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Uf=t=>{let e=!1,n=!1,i=!0,s=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),r=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,p=o.passive,f=o.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=cW(o.direction,o.threshold,o.maxAngle),g=DC.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),x=N=>{const O=BR(N);return n||!i||(PR(N,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=O,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=N,r&&r(m)===!1)||(g.release(),!g.start())?!1:(n=!0,h===0?w():(b.start(m.startX,m.startY),!0))},y=N=>{if(e){!s&&i&&(s=!0,ow(m,N),requestAnimationFrame(v));return}ow(m,N),b.detect(m.currentX,m.currentY)&&(!b.isGesture()||!w())&&z()},v=()=>{e&&(s=!1,d&&d(m))},w=()=>g.capture()?(e=!0,i=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,a?a(m).then(k):k(),!0):!1,C=()=>{if(typeof document<"u"){const N=document.activeElement;N!=null&&N.blur&&N.blur()}},k=()=>{f&&C(),l&&l(m),i=!0},E=()=>{e=!1,n=!1,s=!1,i=!0,g.release()},T=N=>{const O=e,I=i;if(E(),!!I){if(ow(m,N),O){c&&c(m);return}u&&u(m)}},_=lW(o.el,x,y,T,{passive:p}),z=()=>{E(),_.stop(),u&&u(m)};return{enable(N=!0){N||(e&&T(void 0),E()),_.enable(N)},destroy(){g.destroy(),_.destroy()}}},ow=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,s=t.currentTime;PR(e,t);const o=t.currentX,r=t.currentY,l=(t.currentTime=BR(e))-s;if(l>0&&l<100){const c=(o-n)/l,u=(r-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=o-t.startX,t.deltaY=r-t.startY,t.event=e},PR=(t,e)=>{let n=0,i=0;if(t){const s=t.changedTouches;if(s&&s.length>0){const o=s[0];n=o.clientX,i=o.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},BR=t=>t.timeStamp||Date.now(),OC=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:DC,createGesture:Uf},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uW=t=>MR(t),oo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),uW(t).includes(e)),MR=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=dW(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},dW=t=>{const e=Ke.get("platform");return Object.keys(K_).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):K_[n](t)})},hW=t=>Dx(t)&&!UR(t),RC=t=>!!(Bc(t,/iPad/i)||Bc(t,/Macintosh/i)&&Dx(t)),pW=t=>Bc(t,/iPhone/i),fW=t=>Bc(t,/iPhone|iPod/i)||RC(t),jR=t=>Bc(t,/android|sink/i),mW=t=>jR(t)&&!Bc(t,/mobile/i),gW=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),s=Math.max(e,n);return i>390&&i<520&&s>620&&s<800},bW=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),s=Math.max(e,n);return RC(t)||mW(t)||i>460&&i<820&&s>780&&s<1400},Dx=t=>wW(t,"(any-pointer:coarse)"),xW=t=>!Dx(t),UR=t=>VR(t)||HR(t),VR=t=>!!(t.cordova||t.phonegap||t.PhoneGap),HR=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},yW=t=>Bc(t,/electron/i),vW=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},Bc=(t,e)=>e.test(t.navigator.userAgent),wW=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},K_={ipad:RC,iphone:pW,ios:fW,android:jR,phablet:gW,tablet:bW,cordova:VR,capacitor:HR,electron:yW,pwa:vW,mobile:Dx,mobileweb:hW,desktop:xW,hybrid:UR};let Hu;const Se=t=>t&&iH(t)||Hu,kW=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NH(n)),{persistConfig:!1}),i.config),OH(n)),t);Ke.reset(s),Ke.getBoolean("persistConfig")&&DH(n,s),MR(n),i.config=Ke,i.mode=Hu=Ke.get("mode",e.documentElement.getAttribute("mode")||(oo(n,"ios")?"ios":"md")),Ke.set("mode",Hu),e.documentElement.setAttribute("mode",Hu),e.documentElement.classList.add(Hu),Ke.getBoolean("_testing")&&Ke.set("animated",!1);const o=a=>{var l;return(l=a.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},r=a=>["ios","md"].includes(a);nH(a=>{for(;a;){const l=a.mode||a.getAttribute("mode");if(l){if(r(l))return l;o(a)&&Vt('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}a=a.parentElement}return Hu})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LC=t=>{try{if(t instanceof TW)return t.value;if(!SW()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,EW.forEach(r=>{const a=e.querySelectorAll(r);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Yk(c);for(let d=0;d<u.length;d++)Xk(u[d])}});const i=Yk(e);for(let r=0;r<i.length;r++)Xk(i[r]);const s=document.createElement("div");s.appendChild(e);const o=s.querySelector("div");return o!==null?o.innerHTML:s.innerHTML}catch(e){return yo("sanitizeDOMString",e),""}},Xk=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),s=i.name;if(!CW.includes(s.toLowerCase())){t.removeAttribute(s);continue}const o=i.value,r=t[s];(o!=null&&o.toLowerCase().includes("javascript:")||r!=null&&r.toLowerCase().includes("javascript:"))&&t.removeAttribute(s)}const e=Yk(t);for(let n=0;n<e.length;n++)Xk(e[n])},Yk=t=>t.children!=null?t.children:t.childNodes,SW=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},CW=["class","id","href","src","name","slot"],EW=["script","style","iframe","meta","link","object","embed"];class TW{constructor(e){this.value=e}}const zC=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const un=(t,e)=>e.closest(t)!==null,zt=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,IW=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],Di=t=>{const e={};return IW(t).forEach(n=>e[n]=!0),e},$W=/^[a-z][a-z0-9+\-.]*:/,Ox=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!$W.test(t)){const s=document.querySelector("ion-router");if(s)return e!=null&&e.preventDefault(),s.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Md=()=>Ke.get("experimentalCloseWatcher",!1)&&_t!==void 0&&"CloseWatcher"in _t,_W=()=>{document.addEventListener("backbutton",()=>{})},AW=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,s=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){s.push({priority:l,handler:c,id:i++})}}});t.dispatchEvent(o);const r=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){yo("[ion-app] - Exception in startHardwareBackButton:",c)}},a=()=>{if(s.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,s=s.filter(c=>c.id!==l.id),r(l).then(()=>e=!1)}};a()};if(Md()){let i;const s=()=>{i==null||i.destroy(),i=new _t.CloseWatcher,i.onclose=()=>{n(),s()}};s()}else t.addEventListener("backbutton",n)},WR=100,GR=99,NW=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:GR,OVERLAY_BACK_BUTTON_PRIORITY:WR,blockHardwareBackButton:_W,shouldUseCloseWatcher:Md,startHardwareBackButton:AW},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FC=t=>Ee().duration(t?400:300),DW=t=>{let e,n;const i=t.width+8,s=Ee(),o=Ee();t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),s.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));const a=Se(t)==="ios",l=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,l),FC(a).addAnimation([s,o])},OW=t=>{let e,n;const i=Se(t),s=t.width;t.isEndSide?(e=-s+"px",n=s+"px"):(e=s+"px",n=-s+"px");const o=Ee().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),r=Ee().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=Ee().addElement(t.backdropEl).fromTo("opacity",.01,.32);return FC(i==="ios").addAnimation([o,r,a])},RW=t=>{const e=Se(t),n=t.width*(t.isEndSide?-1:1)+"px",i=Ee().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return FC(e==="ios").addAnimation(i)},LW=()=>{const t=new Map,e=[],n=async k=>{const E=await c(k,!0);return E?E.open():!1},i=async k=>{const E=await(k!==void 0?c(k,!0):u());return E!==void 0?E.close():!1},s=async k=>{const E=await c(k,!0);return E?E.toggle():!1},o=async(k,E)=>{const T=await c(E);return T&&(T.disabled=!k),T},r=async(k,E)=>{const T=await c(E);return T&&(T.swipeGesture=k),T},a=async k=>{if(k!=null){const E=await c(k);return E!==void 0&&E.isOpen()}else return await u()!==void 0},l=async k=>{const E=await c(k);return E?!E.disabled:!1},c=async(k,E=!1)=>{if(await C(),k==="start"||k==="end"){const _=e.filter(N=>N.side===k&&!N.disabled);if(_.length>=1)return _.length>1&&E&&Vt('menuController queried for a menu on the "'.concat(k,'" side, but ').concat(_.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),_.map(N=>N.el)),_[0].el;const z=e.filter(N=>N.side===k);if(z.length>=1)return z.length>1&&E&&Vt('menuController queried for a menu on the "'.concat(k,'" side, but ').concat(z.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),z.map(N=>N.el)),z[0].el}else if(k!=null)return w(_=>_.menuId===k);const T=w(_=>!_.disabled);return T||(e.length>0?e[0].el:void 0)},u=async()=>(await C(),x()),d=async()=>(await C(),y()),h=async()=>(await C(),v()),p=(k,E)=>{t.set(k,E)},f=k=>{e.indexOf(k)<0&&e.push(k)},m=k=>{const E=e.indexOf(k);E>-1&&e.splice(E,1)},b=async(k,E,T,_)=>{if(v())return!1;if(E){const z=await u();z&&k.el!==z&&await z.setOpen(!1,!1)}return k._setOpen(E,T,_)},g=(k,E)=>{const T=t.get(k);if(!T)throw new Error("animation not registered");return T(E)},x=()=>w(k=>k._isOpen),y=()=>e.map(k=>k.el),v=()=>e.some(k=>k.isAnimating),w=k=>{const E=e.find(k);if(E!==void 0)return E.el},C=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(k=>new Promise(E=>Ko(k,E))));return p("reveal",RW),p("push",OW),p("overlay",DW),Ds==null||Ds.addEventListener("ionBackButton",k=>{const E=x();E&&k.detail.register(GR,()=>E.close())}),{registerAnimation:p,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:r,isAnimating:h,isOpen:a,enable:o,toggle:s,close:i,open:n,_getOpenSync:x,_createAnimation:g,_register:f,_unregister:m,_setOpen:b}},Ha=LW();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vf=async(t,e,n,i,s,o)=>{var r;if(t)return t.attachViewToDom(e,n,s,i);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(r=e.ownerDocument)===null||r===void 0?void 0:r.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),s&&Object.assign(a,s),e.appendChild(a),await new Promise(l=>Ko(a,l)),a},PC=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},BC=()=>{let t,e;return{attachViewToDom:async(s,o,r={},a=[])=>{var l,c;t=s;let u;if(o){const h=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(p=>h.classList.add(p)),Object.assign(h,r),t.appendChild(h),u=h,await new Promise(p=>Ko(h,p))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const p=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");p.classList.add("ion-delegate-host"),a.forEach(f=>p.classList.add(f)),p.append(...t.children),t.appendChild(p),u=p}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hf='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',v0=(t,e)=>{const n=t.querySelector(Hf);qR(n,e!=null?e:t)},Zk=(t,e)=>{const n=Array.from(t.querySelectorAll(Hf)),i=n.length>0?n[n.length-1]:null;qR(i,e!=null?e:t)},qR=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;if(i&&(n=i.querySelector(Hf)||t),n){const s=n.closest("ion-radio-group");s?s.setFocus():x0(n)}else e.focus()};let Jk=0,zW=0;const w0=new WeakMap,Wf=t=>({create(e){return UW(t,e)},dismiss(e,n,i){return GW(document,e,n,t,i)},async getTop(){return jd(document,t)}}),FW=Wf("ion-alert"),PW=Wf("ion-action-sheet"),BW=Wf("ion-modal"),MW=Wf("ion-popover"),jW=Wf("ion-toast"),hh=t=>{typeof document<"u"&&WW(document);const e=Jk++;t.overlayIndex=e},ph=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++zW)),t.id),UW=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),XR(document).appendChild(n),new Promise(i=>Ko(n,i))}):Promise.resolve(),VW=t=>t.classList.contains("overlay-hidden"),X_=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(Hf)||t),n?x0(n):e.focus()},HW=(t,e)=>{const n=jd(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=t.target;if(!n||!i||n.classList.contains(sf))return;const s=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")X_(n.lastFocus,n);else{const r=gn(n);if(!r.contains(i))return;const a=r.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===r.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;v0(a,n),l===e.activeElement&&Zk(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")X_(n.lastFocus,n);else{const r=n.lastFocus;v0(n),r===e.activeElement&&Zk(n),n.lastFocus=e.activeElement}};n.shadowRoot?o():s()},WW=t=>{Jk===0&&(Jk=1,t.addEventListener("focus",e=>{HW(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=jd(t);n!=null&&n.backdropDismiss&&e.detail.register(WR,()=>{n.dismiss(void 0,Er)})}),Md()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=jd(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Er)}}))},GW=(t,e,n,i,s)=>{const o=jd(t,i,s);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},qW=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Rx=(t,e)=>qW(t,e).filter(n=>!VW(n)),jd=(t,e,n)=>{const i=Rx(t,e);return n===void 0?i[i.length-1]:i.find(s=>s.id===n)},KR=(t=!1)=>{const n=XR(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},fh=async(t,e,n,i,s)=>{var o,r;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&(KR(!0),document.body.classList.add(y0)),ZW(t.el),JR(t.el),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=Se(t),l=t.enterAnimation?t.enterAnimation:Ke.get(e,a==="ios"?n:i);await YR(t,l,t.el,s)&&(t.didPresent.emit(),(r=t.didPresentShorthand)===null||r===void 0||r.emit()),t.el.tagName!=="ION-TOAST"&&KW(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},KW=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(Hf)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},mh=async(t,e,n,i,s,o,r)=>{var a,l;if(!t.presented)return!1;const u=(Ds!==void 0?Rx(Ds):[]).filter(h=>h.tagName!=="ION-TOAST");u.length===1&&u[0].id===t.el.id&&(KR(!1),document.body.classList.remove(y0)),t.presented=!1;try{JR(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const h=Se(t),p=t.leaveAnimation?t.leaveAnimation:Ke.get(i,h==="ios"?s:o);n!==ia&&await YR(t,p,t.el,r),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(w0.get(t)||[]).forEach(m=>m.destroy()),w0.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(h){yo("[".concat(t.el.tagName.toLowerCase(),"] - "),h)}return t.el.remove(),JW(),!0},XR=t=>t.querySelector("ion-app")||t.body,YR=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const s=t.el,o=e(s,i);(!t.animated||!Ke.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const r=w0.get(t)||[];return w0.set(t,[...r,o]),await o.play(),!0},vo=(t,e)=>{let n;const i=new Promise(s=>n=s);return XW(t,e,s=>{n(s.detail)}),i},XW=(t,e,n)=>{const i=s=>{$R(t,e,i),n(s)};NC(t,e,i)},Mc=t=>t==="cancel"||t===Er,YW=t=>t(),Ic=(t,e)=>{if(typeof t=="function")return Ke.get("_zoneGate",YW)(()=>{try{return t(e)}catch(i){throw i}})},Er="backdrop",ia="gesture",ZR=39,Lx=t=>{let e=!1,n;const i=BC(),s=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=s(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=s();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Gf=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,s)=>{e();const o=s!==void 0?document.getElementById(s):null;if(!o){Vt("[".concat(i.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(s,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,i)},removeClickListener:e}},JR=t=>{Ds!==void 0&&oo("android")&&t.setAttribute("aria-hidden","true")},ZW=t=>{var e;if(Ds===void 0)return;const n=Rx(Ds);for(let i=n.length-1;i>=0;i--){const s=n[i],o=(e=n[i+1])!==null&&e!==void 0?e:t;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&s.setAttribute("aria-hidden","true")}},JW=()=>{if(Ds===void 0)return;const t=Rx(Ds);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},sf="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QR="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",QW="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",eG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",tG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",nG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",Y_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",e6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",t6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",iG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",sG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",oG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",rG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",aG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",Z_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",cG="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let rw;const uG=()=>{if(typeof window>"u")return new Map;if(!rw){const t=window;t.Ionicons=t.Ionicons||{},rw=t.Ionicons.map=t.Ionicons.map||new Map}return rw},dG=t=>{let e=aw(t.src);return e||(e=n6(t.name,t.icon,t.mode,t.ios,t.md),e?hG(e,t):t.icon&&(e=aw(t.icon),e||(e=aw(t.icon[t.mode]),e))?e:null)},hG=(t,e)=>{const n=uG().get(t);if(n)return n;try{return fR("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},n6=(t,e,n,i,s)=>(n=(n&&Hg(n))==="ios"?"ios":"md",i&&n==="ios"?t=Hg(i):s&&n==="md"?t=Hg(s):(!t&&e&&!i6(e)&&(t=e),k0(t)&&(t=Hg(t))),!k0(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),aw=t=>k0(t)&&(t=t.trim(),i6(t))?t:null,i6=t=>t.length>0&&/(\/|\.)/.test(t),k0=t=>typeof t=="string",Hg=t=>t.toLowerCase(),pG=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},fG=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",mG=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),s6(n))return e.innerHTML}return""},s6=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(k0(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!s6(t.childNodes[e]))return!1}return!0},gG=t=>t.startsWith("data:image/svg+xml"),bG=t=>t.indexOf(";utf8,")!==-1,pc=new Map,J_=new Map;let lw;const xG=(t,e)=>{let n=J_.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(gG(t)&&bG(t)){lw||(lw=new DOMParser);const s=lw.parseFromString(t,"text/html").querySelector("svg");return s&&pc.set(t,s.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(s=>{s&&e!==!1&&(s=mG(s)),pc.set(t,s||"")});pc.set(t,"")}),J_.set(t,n);else return pc.set(t,""),Promise.resolve();return n},yG=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",vG=yG,wG=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=kG(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=pG(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const s=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(s.disconnect(),this.io=void 0,i())},{rootMargin:n});s.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=dG(this);e&&(pc.has(e)?this.svgContent=pc.get(e):xG(e,this.sanitize).then(()=>this.svgContent=pc.get(e)),this.didLoadIcon=!0)}this.iconName=n6(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:s}=this,o=this.mode||"md",r=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||r;return D(Ve,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},SG(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&fG(s)})},i),this.svgContent?D("div",{class:"icon-inner",innerHTML:this.svgContent}):D("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return vG}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),kG=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",SG=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function Co(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,wG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CG=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",EG=CG,TG=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",IG=TG,$G=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Ve,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:Se(this)},D("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:EG,md:IG}}},[33,"ion-avatar"]);function _G(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,$G);break}})}const AG=_G;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NG=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",DG=NG,OG=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",RG=OG,LG=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=he(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Se(this);return D(Ve,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:DG,md:RG}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function uu(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,LG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zG=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",FG=zG,PG=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",BG=PG,MG=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Se(this);return D(Ve,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:zt(this.color,{[e]:!0})},D("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:FG,md:BG}}},[33,"ion-badge",{color:[513]}]);function jG(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,MG);break}})}const UG=jG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VG=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",HG=VG,WG=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",GG=WG,qG=Ue(class extends je{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=Se(this);return D(Ve,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},D("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:HG,md:GG}}},[38,"ion-buttons",{collapse:[4]}]);function MC(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,qG);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KG=MC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XG="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",YG=XG,ZG="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",JG=ZG,QG=Ue(class extends je{constructor(){super(),this.__registerHost()}render(){const e=Se(this);return D(Ve,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:YG,md:JG}}},[32,"ion-card-content"]);function eq(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,QG);break}})}const tq=eq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nq=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",iq=nq,sq=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",oq=sq,rq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=Se(this);return D(Ve,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:zt(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:iq,md:oq}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function aq(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,rq);break}})}const lq=aq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cq=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",uq=cq,dq=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",hq=dq,pq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Se(this);return D(Ve,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:zt(this.color,{"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:uq,md:hq}}},[33,"ion-card-subtitle",{color:[513]}]);function fq(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,pq);break}})}const mq=fq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gq=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",bq=gq,xq=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",yq=xq,vq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Se(this);return D(Ve,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:zt(this.color,{"ion-inherit-color":!0,[e]:!0})},D("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:bq,md:yq}}},[33,"ion-card-title",{color:[513]}]);function wq(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,vq);break}})}const kq=wq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sq=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",Cq=Sq,Eq=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",Tq=Eq,Iq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=he(this,"ionChange",7),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.inputId="ion-cb-".concat($q++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.setChecked=e=>{const n=this.checked=e;this.ionChange.emit({checked:n,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked(e))},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}componentWillLoad(){this.inheritedAttributes=Object.assign({},er(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;if(e||n)return D("div",{class:"checkbox-bottom"},D("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:s,class:"error-text",part:"supporting-text error-text"},n))}render(){const{color:e,checked:n,disabled:i,el:s,getSVGPath:o,indeterminate:r,inheritedAttributes:a,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:p,required:f}=this,m=Se(this),b=o(m,r),g=s.textContent!=="";return jf(!0,s,d,n?h:"",i),D(Ve,{key:"90bb17a4fae17088524555968a002327400807cf",role:"checkbox","aria-checked":r?"mixed":"".concat(n),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-labelledby":g?this.inputLabelId:null,"aria-label":a["aria-label"]||null,"aria-disabled":i?"true":null,tabindex:i?void 0:0,onKeyDown:this.onKeyDown,class:zt(e,{[m]:!0,"in-item":un("ion-item",s),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":r,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(p)]:p!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},D("label",{key:"58b5762aa358dff81910874631e06620a2ae1561",class:"checkbox-wrapper",htmlFor:l},D("input",Object.assign({key:"6abe299d690c345d36d6fd76ab113fdccfbbac52",type:"checkbox",checked:n?!0:void 0,disabled:i,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:x=>this.focusEl=x,required:f},a)),D("div",{key:"2654168e45ccfdbcfe13af8c97e0e21d61ba0150",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!g},part:"label",id:this.inputLabelId},D("slot",{key:"a91f3f67d9ddd6b616e48799aba11cae3564d1ab"}),this.renderHintText()),D("div",{key:"d5a9170b084d09df6b02f416e744085b5bcf0dde",class:"native-wrapper"},D("svg",{key:"b1968ce4aa9d652a9f2bdc427ea3a65e6c04df51",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},b))))}getSVGPath(e,n){let i=n?D("path",{d:"M6 12L18 12",part:"mark"}):D("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(i=n?D("path",{d:"M2 12H22",part:"mark"}):D("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get style(){return{ios:Cq,md:Tq}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],setFocus:[64]}]);let $q=0;function jC(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,Iq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _q=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",Aq=_q,Nq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{zc(()=>{const s=this.el.getBoundingClientRect(),o=s.width,r=s.height,a=Math.sqrt(o*o+r*r),l=Math.max(r,o),c=this.unbounded?l:a+Oq,u=Math.floor(l*Rq),d=c/u;let h=e-s.left,p=n-s.top;this.unbounded&&(h=o*.5,p=r*.5);const f=h-u*.5,m=p-u*.5,b=o*.5-h,g=r*.5-p;cs(()=>{const x=document.createElement("div");x.classList.add("ripple-effect");const y=x.style;y.top=m+"px",y.left=f+"px",y.width=y.height=u+"px",y.setProperty("--final-scale","".concat(d)),y.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(x),setTimeout(()=>{i(()=>{Dq(x)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Se(this);return D(Ve,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return Aq}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Dq=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},Oq=10,Rq=.5;function Eo(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,Nq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Lq={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},zq=t=>{if(t===void 0||t==="")return!0;if(window.matchMedia){const e=Lq[t];return window.matchMedia(e).matches}return!1},Fq=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",Pq=Fq,Wg=typeof window<"u"?window:void 0,Q_=Wg&&!!(Wg.CSS&&Wg.CSS.supports&&Wg.CSS.supports("--a: 0")),Bq=["","xs","sm","md","lg","xl"],Mq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){vi(this)}getColumns(e){let n;for(const i of Bq){const s=zq(i),o=this[e+i.charAt(0).toUpperCase()+i.slice(1)];s&&o!==void 0&&(n=o)}return n}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const n=e==="auto"?"auto":Q_?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(n),width:"".concat(n),"max-width":"".concat(n)}}calculatePosition(e,n){const i=this.getColumns(e);if(!i)return;const s=Q_?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[n]:s}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",n=Se(this);return D(Ve,{key:"32ed75d81dd09d9bc8999f6d42e5b3cb99c84d91",class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},D("slot",{key:"38f8d0440c20cc6d1b1d6a654d07f16de61d8134"}))}static get style(){return Pq}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function jq(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,Mq);break}})}const Uq=jq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sa=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vq=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',Hq=Vq,Wq=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=he(this,"ionScrollStart",7),this.ionScroll=he(this,"ionScroll",7),this.ionScrollEnd=he(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=er(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,tf(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),tf(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=Se(this);return e===void 0?n==="ios"&&oo("ios"):e}resize(){this.fullscreen?zc(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,vi(this))}readDimensions(){const e=qq(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,vi(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,zc(s=>{this.queued=!1,this.detail.event=e,Kq(this.detail,this.scrollEl,s,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ko(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ko(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const s=await this.getScrollElement();return this.scrollToPoint(e+s.scrollLeft,n+s.scrollTop,i)}async scrollToPoint(e,n,i=0){const s=await this.getScrollElement();if(i<32){n!=null&&(s.scrollTop=n),e!=null&&(s.scrollLeft=e);return}let o,r=0;const a=new Promise(p=>o=p),l=s.scrollTop,c=s.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=p=>{const f=Math.min(1,(p-r)/i)-1,m=Math.pow(f,3)+1;u!==0&&(s.scrollTop=Math.floor(m*u+l)),d!==0&&(s.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(p=>{r=p,h(p)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:i,scrollX:s,scrollY:o,el:r}=this,a=sa(r)?"rtl":"ltr",l=Se(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),D(Ve,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:i?"main":void 0,class:zt(this.color,{[l]:!0,"content-sizing":un("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),D("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?D("slot",{name:"fixed"}):null,D("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":s,"scroll-y":o,overscroll:(s||o)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},D("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?D("div",{class:"transition-effect"},D("div",{class:"transition-cover"}),D("div",{class:"transition-shadow"})):null,e==="after"?D("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return Hq}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),Gq=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},qq=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||Gq(t)},Kq=(t,e,n,i)=>{const s=t.currentX,o=t.currentY,r=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-r;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-s)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function UC(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,Wq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xq=UC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yq=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',Zq=Yq,Jq=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',Qq=Jq,o6=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?Ox(this.href,e,this.routerDirection,this.routerAnimation):PH(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=er(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(Vt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(Vt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(Vt('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=Se(this),{buttonType:n,type:i,disabled:s,rel:o,target:r,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:p,inheritedAttributes:f}=this,m=a===void 0&&this.inItem?"small":a,b=l===void 0?"button":"a",g=b==="button"?{type:i}:{download:this.download,href:l,rel:o,target:r};let x=this.fill;return x==null&&(x=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),D(Ve,{key:"e213b0bb76b3f90f883b1a0ea463bb86c2df69c3",onClick:this.handleClick,"aria-disabled":s?"true":null,class:zt(c,{[e]:!0,[n]:!0,["".concat(n,"-").concat(u)]:u!==void 0,["".concat(n,"-").concat(m)]:m!==void 0,["".concat(n,"-").concat(h)]:h!==void 0,["".concat(n,"-").concat(x)]:!0,["".concat(n,"-strong")]:p,"in-toolbar":un("ion-toolbar",this.el),"in-toolbar-color":un("ion-toolbar[color]",this.el),"in-buttons":un("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":s,"ion-activatable":!0,"ion-focusable":!0})},D(b,Object.assign({key:"b7c2a46fb994024841219316f4089335fa463d84"},g,{class:"button-native",part:"native",disabled:s,onFocus:this.onFocus,onBlur:this.onBlur},f),D("span",{key:"3e07a5c9f86836f9fbaefc6c617bdde6eb6f70cd",class:"button-inner"},D("slot",{key:"41c08ae09aed16faaa57707d229ff75d97f0731c",name:"icon-only",onSlotchange:this.slotChanged}),D("slot",{key:"ab8b749e4572884cc04970a7594466b4a24c886e",name:"start"}),D("slot",{key:"397f7ff48ea45e82029414be95d29ae86e12c3a9"}),D("slot",{key:"9a5627713002e8be3738d392b616f6e951b70e12",name:"end"})),e==="md"&&D("ion-ripple-effect",{key:"105566543ceda102474edab7ca8a44c7e71af589",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:Zq,md:Qq}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function VC(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,o6);break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const S0=()=>{if(_t!==void 0)return _t.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Qk;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(Qk||(Qk={}));var eA;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(eA||(eA={}));const qf={getEngine(){const t=S0();if(t!=null&&t.isPluginAvailable("Haptics"))return t.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=S0();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(t){const e=this.getEngine();e&&e.impact({style:t.style})},notification(t){const e=this.getEngine();e&&e.notification({type:t.type})},selection(){this.impact({style:Qk.Light})},selectionStart(){const t=this.getEngine();t&&t.selectionStart()},selectionChanged(){const t=this.getEngine();t&&t.selectionChanged()},selectionEnd(){const t=this.getEngine();t&&t.selectionEnd()}},zx=()=>qf.available(),eK=()=>{zx()&&qf.selection()},tK=()=>{zx()&&qf.selectionStart()},nK=()=>{zx()&&qf.selectionChanged()},iK=()=>{zx()&&qf.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const du=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(s=>i=s),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sK=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},r6=(t,e,n)=>{const i=e.getBoundingClientRect(),s=i.height;let o=i.width;return t==="cover"&&n&&(o=n.getBoundingClientRect().width),{contentWidth:o,contentHeight:s}},oK=(t,e,n,i)=>{let s=[];const r=gn(i).querySelector(".popover-content");switch(e){case"hover":s=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:s=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return s.forEach(({eventName:a,callback:l})=>r.addEventListener(a,l)),()=>{s.forEach(({eventName:a,callback:l})=>r.removeEventListener(a,l))}},rK=(t,e,n)=>{let i=[];switch(e){case"hover":let s;i=[{eventName:"mouseenter",callback:async o=>{o.stopPropagation(),s&&clearTimeout(s),s=setTimeout(()=>{Xn(()=>{n.presentFromTrigger(o),s=void 0})},100)}},{eventName:"mouseleave",callback:o=>{s&&clearTimeout(s);const r=o.relatedTarget;r&&r.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),n.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"click":default:i=[{eventName:"click",callback:o=>n.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break}return i.forEach(({eventName:s,callback:o})=>t.addEventListener(s,o)),t.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach(({eventName:s,callback:o})=>t.removeEventListener(s,o)),t.removeAttribute("data-ion-popover-trigger")}},a6=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),aK=(t,e)=>{const n=a6(t,e);return t[n+1]},lK=(t,e)=>{const n=a6(t,e);return t[n-1]},Gg=t=>{const n=gn(t).querySelector("button");n&&Xn(()=>n.focus())},cK=t=>t.hasAttribute("data-ion-popover-trigger"),uK=t=>{const e=async n=>{var i;const s=document.activeElement;let o=[];const r=(i=n.target)===null||i===void 0?void 0:i.tagName;if(!(r!=="ION-POPOVER"&&r!=="ION-ITEM")){try{o=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(a){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const l=aK(o,s);l!==void 0&&Gg(l);break;case"ArrowUp":n.preventDefault();const c=lK(o,s);c!==void 0&&Gg(c);break;case"Home":n.preventDefault();const u=o[0];u!==void 0&&Gg(u);break;case"End":n.preventDefault();const d=o[o.length-1];d!==void 0&&Gg(d);break;case"ArrowRight":case" ":case"Enter":if(s&&cK(s)){const h=new CustomEvent("ionPopoverActivateTrigger");s.dispatchEvent(h)}break}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},l6=(t,e,n,i,s,o,r,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(o){case"event":if(!u)return l;const w=u;h={top:w.clientY,left:w.clientX,width:1,height:1};break;case"trigger":default:const C=u,k=c||((d=C==null?void 0:C.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(C==null?void 0:C.target);if(!k)return l;const E=k.getBoundingClientRect();h={top:E.top,left:E.left,width:E.width,height:E.height};break}const p=pK(r,h,e,n,i,s,t),f=fK(a,r,h,e,n),m=p.top+f.top,b=p.left+f.left,{arrowTop:g,arrowLeft:x}=hK(r,i,s,m,b,e,n,t),{originX:y,originY:v}=dK(r,a,t);return{top:m,left:b,referenceCoordinates:h,arrowTop:g,arrowLeft:x,originX:y,originY:v}},dK=(t,e,n)=>{switch(t){case"top":return{originX:tA(e),originY:"bottom"};case"bottom":return{originX:tA(e),originY:"top"};case"left":return{originX:"right",originY:qg(e)};case"right":return{originX:"left",originY:qg(e)};case"start":return{originX:n?"left":"right",originY:qg(e)};case"end":return{originX:n?"right":"left",originY:qg(e)}}},tA=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},qg=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},hK=(t,e,n,i,s,o,r,a)=>{const l={arrowTop:i+r/2-e/2,arrowLeft:s+o-e/2},c={arrowTop:i+r/2-e/2,arrowLeft:s-e*1.5};switch(t){case"top":return{arrowTop:i+r,arrowLeft:s+o/2-e/2};case"bottom":return{arrowTop:i-n,arrowLeft:s+o/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},pK=(t,e,n,i,s,o,r)=>{const a={top:e.top,left:e.left-n-s},l={top:e.top,left:e.left+e.width+s};switch(t){case"top":return{top:e.top-i-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return a;case"start":return r?l:a;case"end":return r?a:l}},fK=(t,e,n,i,s)=>{switch(t){case"center":return gK(e,n,i,s);case"end":return mK(e,n,i,s);case"start":default:return{top:0,left:0}}},mK=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},gK=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},c6=(t,e,n,i,s,o,r,a,l,c,u,d,h=0,p=0,f=0)=>{let m=h;const b=p;let g=n,x=e,y,v=c,w=u,C=!1,k=!1;const E=d?d.top+d.height:o/2-a/2,T=d?d.height:0;let _=!1;return g<i+l?(g=i,C=!0,v="left"):r+i+g+l>s&&(k=!0,g=s-r-i,v="right"),E+T+a>o&&(t==="top"||t==="bottom")&&(E-a>0?(x=Math.max(12,E-a-T-(f-1)),m=x+a,w="bottom",_=!0):y=i),{top:x,left:g,bottom:y,originX:v,originY:w,checkSafeAreaLeft:C,checkSafeAreaRight:k,arrowTop:m,arrowLeft:b,addPopoverBottomClass:_}},bK=(t,e=!1,n,i)=>!(!n&&!i||t!=="top"&&t!=="bottom"&&e),xK=5,yK=(t,e)=>{var n;const{event:i,size:s,trigger:o,reference:r,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=gn(t),f=p.querySelector(".popover-content"),m=p.querySelector(".popover-arrow"),b=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:g,contentHeight:x}=r6(s,f,b),{arrowWidth:y,arrowHeight:v}=sK(m),w={top:h/2-x/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},C=l6(u,g,x,y,v,r,a,l,w,o,i),k=s==="cover"?0:xK,E=s==="cover"?0:25,{originX:T,originY:_,top:z,left:N,bottom:O,checkSafeAreaLeft:I,checkSafeAreaRight:L,arrowTop:F,arrowLeft:j,addPopoverBottomClass:H}=c6(a,C.top,C.left,k,d,h,g,x,E,C.originX,C.originY,C.referenceCoordinates,C.arrowTop,C.arrowLeft,v),M=Ee(),U=Ee(),B=Ee();return U.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),B.addElement(p.querySelector(".popover-arrow")).addElement(p.querySelector(".popover-content")).fromTo("opacity",.01,1),M.easing("ease").duration(100).beforeAddWrite(()=>{s==="cover"&&t.style.setProperty("--width","".concat(g,"px")),H&&t.classList.add("popover-bottom"),O!==void 0&&f.style.setProperty("bottom","".concat(O,"px"));const V=" + var(--ion-safe-area-left, 0)",ee=" - var(--ion-safe-area-right, 0)";let J="".concat(N,"px");if(I&&(J="".concat(N,"px").concat(V)),L&&(J="".concat(N,"px").concat(ee)),f.style.setProperty("top","calc(".concat(z,"px + var(--offset-y, 0))")),f.style.setProperty("left","calc(".concat(J," + var(--offset-x, 0))")),f.style.setProperty("transform-origin","".concat(_," ").concat(T)),m!==null){const Z=C.top!==z||C.left!==N;bK(a,Z,i,o)?(m.style.setProperty("top","calc(".concat(F,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(j,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}}).addAnimation([U,B])},vK=t=>{const e=gn(t),n=e.querySelector(".popover-content"),i=e.querySelector(".popover-arrow"),s=Ee(),o=Ee(),r=Ee();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),s.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))}).duration(300).addAnimation([o,r])},wK=12,kK=(t,e)=>{var n;const{event:i,size:s,trigger:o,reference:r,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=gn(t),f=p.querySelector(".popover-content"),m=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:b,contentHeight:g}=r6(s,f,m),x={top:h/2-g/2,left:d/2-b/2,originX:u?"right":"left",originY:"top"},y=l6(u,b,g,0,0,r,a,l,x,o,i),v=s==="cover"?0:wK,{originX:w,originY:C,top:k,left:E,bottom:T}=c6(a,y.top,y.left,v,d,h,b,g,0,y.originX,y.originY,y.referenceCoordinates),_=Ee(),z=Ee(),N=Ee(),O=Ee(),I=Ee();return z.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),N.addElement(p.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),O.addElement(f).beforeStyles({top:"calc(".concat(k,"px + var(--offset-y, 0px))"),left:"calc(".concat(E,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(C," ").concat(w)}).beforeAddWrite(()=>{T!==void 0&&f.style.setProperty("bottom","".concat(T,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),I.addElement(p.querySelector(".popover-viewport")).fromTo("opacity",.01,1),_.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{s==="cover"&&t.style.setProperty("--width","".concat(b,"px")),C==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([z,N,O,I])},SK=t=>{const e=gn(t),n=e.querySelector(".popover-content"),i=Ee(),s=Ee(),o=Ee();return s.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([s,o])},CK=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',EK=CK,TK=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",IK=TK,$K=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=he(this,"ionPopoverDidPresent",7),this.willPresent=he(this,"ionPopoverWillPresent",7),this.willDismiss=he(this,"ionPopoverWillDismiss",7),this.didDismiss=he(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.ionMount=he(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=BC(),this.lockController=du(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Er)},this.onLifecycle=e=>{const n=this.usersElement,i=_K[e.type];if(n&&i){const s=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(s)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:n,el:i,destroyTriggerInteraction:s}=this;if(s&&s(),e===void 0)return;const o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){Vt('[ion-popover] - A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=rK(o,n,i)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=uK(n)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:n,triggerAction:i,triggerEl:s,el:o}=this;!n||!s||(e&&e(),this.destroyDismissInteraction=oK(s,i,o,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:n}=this;hh(n),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,n;const{el:i}=this,s=(n=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:ph(i);this.parentPopover=i.closest("ion-popover:not(#".concat(s,")")),this.alignment===void 0&&(this.alignment=Se(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:n}=this;n===!0&&Xn(()=>this.present()),e&&NC(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,n=!1){this.focusDescendantOnPresent=n,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,s=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:s}}async present(e){const n=await this.lockController.lock();if(this.presented){n();return}const{el:i}=this,{inline:s,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Vf(o,i,this.component,["popover-viewport"],this.componentProps,s),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),tf(i)?await nf(this.usersElement):this.keepContentsMounted||await FR(),await fh(this,"popoverEnter",yK,kK,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&v0(i),n()}async dismiss(e,n,i=!0){const s=await this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:r}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,n,i);const a=await mh(this,e,n,"popoverLeave",vK,SK,this.event);if(a){o&&(o(),this.destroyKeyboardInteraction=void 0),r&&(r(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await PC(l,this.usersElement)}return s(),a}async getParentPopover(){return this.parentPopover}onDidDismiss(){return vo(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return vo(this.el,"ionPopoverWillDismiss")}render(){const e=Se(this),{onLifecycle:n,parentPopover:i,dismissOnSelect:s,side:o,arrow:r,htmlAttributes:a,focusTrap:l}=this,c=oo("desktop"),u=r&&!i;return D(Ve,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},Di(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(o)]:!0,[sf]:l===!1,"popover-nested":!!i}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!i&&D("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),D("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:s?()=>this.dismiss():void 0},u&&D("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),D("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},D("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:EK,md:IK}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),_K={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function AK(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,$K);break;case"ion-backdrop":customElements.get(e)||uu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NK="ION-CONTENT",u6="ion-content",d6=".ion-content-scroll-host",h6="".concat(u6,", ").concat(d6),xr=t=>t.tagName===NK,e2=async t=>xr(t)?(await new Promise(e=>Ko(t,e)),t.getScrollElement()):t,C0=t=>{const e=t.querySelector(d6);return e||t.querySelector(h6)},E0=t=>t.closest(h6),w6e=(t,e)=>xr(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),k6e=(t,e,n,i)=>xr(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),T0=t=>LH(t,u6),t2=t=>{if(xr(t)){const e=t,n=e.scrollY;return e.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},p6=(t,e)=>{xr(t)?t.scrollY=e:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var n2;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(n2||(n2={}));var i2;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(i2||(i2={}));const f6={getEngine(){const t=S0();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==n2.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m6=t=>{if(Ds===void 0||t===i2.None||t===void 0)return null;const e=Ds.querySelector("ion-app");return e!=null?e:Ds.body},nA=t=>{const e=m6(t);return e===null?0:e.clientHeight},g6=async t=>{let e,n,i,s;const o=async()=>{const u=await f6.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{s===void 0&&(s=nA(d)),i=!0,r(i,d)},n=()=>{i=!1,r(i,d)},_t==null||_t.addEventListener("keyboardWillShow",e),_t==null||_t.addEventListener("keyboardWillHide",n)},r=(u,d)=>{t&&t(u,a(d))},a=u=>{if(s===0||s===nA(u))return;const d=m6(u);if(d!==null)return new Promise(h=>{const p=()=>{d.clientHeight===s&&(f.disconnect(),h())},f=new ResizeObserver(p);f.observe(d)})},l=()=>{_t==null||_t.removeEventListener("keyboardWillShow",e),_t==null||_t.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iA=(t,e)=>{zc(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,s=10,o=i-s,r=n-o,a=ji(0,1-r/s,1);cs(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},DK="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",OK=DK,RK="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",LK=RK,zK=Ue(class extends je{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(Se(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?C0(s):null;if(!o){T0(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await e2(e);this.contentScrollCallback=()=>{iA(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),iA(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await g6(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=Se(this),s=this.el.closest("ion-tabs"),o=s==null?void 0:s.querySelector(":scope > ion-tab-bar");return D(Ve,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":e,["footer-translucent-".concat(i)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!o||o.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&e&&D("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),D("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:OK,md:LK}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function FK(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,zK);break}})}const PK=FK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BK=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",MK=BK,jK=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=Se(this);return D(Ve,{key:"617127ecfabf9bf615bef1dda1be3fed5a065949",class:{[e]:!0,"grid-fixed":this.fixed}},D("slot",{key:"c781fff853b093d8f44bdb7943bbc4f17c903803"}))}static get style(){return MK}},[1,"ion-grid",{fixed:[4]}]);function UK(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,jK);break}})}const VK=UK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HK="all 0.2s ease-in-out",sA=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},oA=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},WK=(t,e,n)=>{zc(()=>{const i=t.scrollTop,s=ji(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&cs(()=>{KK(e.toolbars,s)})})},HC=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},GK=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;HC(e.el,i===1?void 0:i)},qK=(t,e,n,i)=>{cs(()=>{const s=i.scrollTop;GK(t,e,s);const o=t[0],r=o.intersectionRect,a=r.width*r.height,l=o.rootBounds.width*o.rootBounds.height,c=a===0&&l===0,u=Math.abs(r.left-o.boundingClientRect.left),d=Math.abs(r.right-o.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(cp(e,!1),cp(n)):(r.x===0&&r.y===0||r.width!==0&&r.height!==0)&&s>0&&(cp(e),cp(n,!1),HC(e.el)))})},cp=(t,e=!0)=>{const n=t.el,s=t.toolbars.map(o=>o.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),s.forEach(o=>{o&&o.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),s.forEach(o=>{o&&o.setAttribute("aria-hidden","true")}))},KK=(t=[],e=1,n=!1)=>{t.forEach(i=>{const s=i.ionTitleEl,o=i.innerTitleEl;!s||s.size!=="large"||(o.style.transition=n?HK:"",o.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},rA=(t,e,n)=>{zc(()=>{const i=t.scrollTop,s=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&i<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(s,"px 0px 0px 0px)"));return}const r=i-o,l=ji(0,r/10,1);cs(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},XK="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",YK=XK,ZK="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",JK=ZK,QK=Ue(class extends je{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await e2(e);this.contentScrollCallback=()=>{rA(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),rA(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=er(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Se(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",s=n==="fade";if(this.destroyCollapsibleHeader(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),r=o?C0(o):null;cs(()=>{const a=sA("ion-title");a.size="large",sA("ion-back-button")}),await this.setupCondenseHeader(r,o)}else if(s){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),r=o?C0(o):null;if(!r){T0(this.el);return}const a=r.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(r,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){T0(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await e2(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const s=oA(this.collapsibleMainHeader),o=oA(this.el);if(!s||!o)return;cp(s,!1),HC(s.el,0);const r=a=>{qK(a,s,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(r,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{WK(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),cs(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=Se(this),s=this.collapse||"none",o=un("ion-menu",this.el)?"none":"banner";return D(Ve,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(s)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&D("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),D("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:YK,md:JK}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function WC(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,QK);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eX=WC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tX=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",nX=tX,iX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=he(this,"ionImgWillLoad",7),this.ionImgDidLoad=he(this,"ionImgDidLoad",7),this.ionError=he(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=Nr(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:s,inheritedAttributes:o}=this,{draggable:r}=o;return D(Ve,{key:"da600442894427dee1974a28e545613afac69fca",class:Se(this)},D("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:n,onLoad:i,onError:s,part:"image",draggable:sX(r)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return nX}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),sX=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function oX(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,iX);break}})}const rX=oX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aX={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i="".concat(t*e/n-t,"ms"),s=2*Math.PI*e/n;return{r:5,style:{top:"".concat(32*Math.sin(s),"%"),left:"".concat(32*Math.cos(s),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,s="".concat(t*i-t,"ms"),o=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":s}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),s="".concat(t*e/n-t,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":s}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),s="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":s}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),s="".concat(t*e/n-t,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":s}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),s="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":s}}}}},aA=aX,lX=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",cX=lX,uX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||Ke.get("spinner"),n=Se(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=Se(n),s=n.getName(),o=(e=aA[s])!==null&&e!==void 0?e:aA.lines,r=typeof n.duration=="number"&&n.duration>10?n.duration:o.dur,a=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)a.push(dX(o,r,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)a.push(hX(o,r,l,o.lines));return D(Ve,{key:"e0dfa8a3ee2a0469eb31323f506750bd77d65797",class:zt(n.color,{[i]:!0,["spinner-".concat(s)]:!0,"spinner-paused":n.paused||Ke.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:r+"ms"}:{}},a)}static get style(){return cX}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),dX=(t,e,n,i)=>{const s=t.fn(e,n,i);return s.style["animation-duration"]=e+"ms",D("svg",{viewBox:s.viewBox||"0 0 64 64",style:s.style},D("circle",{transform:s.transform||"translate(32,32)",cx:s.cx,cy:s.cy,r:s.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},hX=(t,e,n,i)=>{const s=t.fn(e,n,i);return s.style["animation-duration"]=e+"ms",D("svg",{viewBox:s.viewBox||"0 0 64 64",style:s.style},D("line",{transform:"translate(32,32)",y1:s.y1,y2:s.y2}))};function b6(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,uX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GC=(t,e,n)=>{let i;const s=()=>!(e()===void 0||t.label!==void 0||n()===null),o=()=>{s()&&Xn(()=>{r()})},r=()=>{const l=e();if(l===void 0)return;if(!s()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&_t!==void 0&&"IntersectionObserver"in _t){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(r(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:o,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const x6=(t,e,n)=>{let i,s;if(_t!==void 0&&"MutationObserver"in _t){const l=Array.isArray(e)?e:[e];i=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){n(),Xn(()=>o(d));return}}),i.observe(t,{childList:!0,subtree:!0})}const o=l=>{var c;s&&(s.disconnect(),s=void 0),s=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),s.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},r=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{s&&(s.disconnect(),s=void 0)};return{destroy:r}},y6=(t,e,n)=>{const i=t==null?0:t.toString().length,s=pX(i,e);if(n===void 0)return s;try{return n(i,e)}catch(o){return yo("[ion-input] - Exception in provided `counterFormatter`:",o),s}},pX=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fX=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",mX=fX,gX=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",bX=gX,xX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.ionInput=he(this,"ionInput",7),this.ionChange=he(this,"ionChange",7),this.ionBlur=he(this,"ionBlur",7),this.ionFocus=he(this,"ionFocus",7),this.inputId="ion-input-".concat(yX++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:Nx(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),vi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},er(this.el)),Nr(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=x6(e,["label","start","end"],()=>vi(this)),this.notchController=GC(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ko(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;return[D("div",{id:i,class:"helper-text"},e),D("div",{id:s,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:s}=this;if(!(e!==!0||n===void 0))return D("div",{class:"counter"},y6(s,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:s}=this;if(!(!(n||i)&&!(e===!0&&s!==void 0)))return D("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Se(this)==="md"&&this.fill==="outline"?[D("div",{class:"input-outline-container"},D("div",{class:"input-outline-start"}),D("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),D("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:i,shape:s,inputId:o,labelPlacement:r,el:a,hasFocus:l,clearInputIcon:c}=this,u=Se(this),d=this.getValue(),h=un("ion-item",this.el),p=u==="md"&&n!=="outline"&&!h,f=u==="ios"?e6:t6,m=c!=null?c:f,b=this.hasValue(),g=a.querySelector('[slot="start"], [slot="end"]')!==null,x=r==="stacked"||r==="floating"&&(b||l||g);return D(Ve,{key:"1094be43093d71694bf0e503d3015401b8cd9574",class:zt(this.color,{[u]:!0,"has-value":b,"has-focus":l,"label-floating":x,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(s)]:s!==void 0,["input-label-placement-".concat(r)]:!0,"in-item":h,"in-item-color":un("ion-item.ion-color",this.el),"input-disabled":e})},D("label",{key:"697c6decb1fb8403777db7a37f54853863421ad9",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),D("div",{key:"d35f44c3afcf8e075f7f845416cb8500606d3546",class:"native-wrapper"},D("slot",{key:"41ef868873ffd8262d53fd1a5e506c62030dc3f1",name:"start"}),D("input",Object.assign({key:"d98e0aaa285b5424e9589ce36ed4f9910a6859cd",class:"native-input",ref:y=>this.nativeInput=y,id:o,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!i&&!e&&D("button",{key:"367d1a1c2eb69d4887fe29ab96ead3230d7dd513","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:y=>{y.preventDefault()},onFocusin:y=>{y.stopPropagation()},onClick:this.clearTextInput},D("ion-icon",{key:"69afc5c7ea6bfa1bff301635281b536e84277965","aria-hidden":"true",icon:m})),D("slot",{key:"6f770a0ab703b4d19e936a0e1955274bc9f3e941",name:"end"})),p&&D("div",{key:"a048e240432c4d5e11b2c92fa99a0cff07f9a778",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:mX,md:bX}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let yX=0;function vX(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,xX);break;case"ion-icon":customElements.get(e)||Co();break}})}const wX=vX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kX="",SX=kX,CX="",EX=CX,TX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type=e.type==="text"?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){if(e!=="text"&&e!=="password"){Vt('[ion-input-password-toggle] - Only inputs of type "text" or "password" are supported. Input of type "'.concat(e,'" is not compatible.'),this.el);return}}connectedCallback(){const{el:e}=this,n=this.inputElRef=e.closest("ion-input");if(!n){Vt("[ion-input-password-toggle] - No ancestor ion-input found. This component must be slotted inside of an ion-input.",e);return}this.type=n.type}disconnectedCallback(){this.inputElRef=null}render(){var e,n;const{color:i,type:s}=this,o=Se(this),r=(e=this.showIcon)!==null&&e!==void 0?e:sG,a=(n=this.hideIcon)!==null&&n!==void 0?n:oG,l=s==="text";return D(Ve,{key:"1a28e078c83e74c72d8bb8189ece93ec2e3fa3d0",class:zt(i,{[o]:!0})},D("ion-button",{key:"039d1bab764093bb6fe4a34299b0872abda087fd",mode:o,color:i,fill:"clear",shape:"round","aria-checked":l?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:c=>{c.preventDefault()},onClick:this.togglePasswordVisibility},D("ion-icon",{key:"26477ee97b808c3d79944bf5e33d4e05f1ae0b3f",slot:"icon-only","aria-hidden":"true",icon:l?a:r})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:SX,md:EX}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);function IX(){if(typeof customElements>"u")return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,TX);break;case"ion-button":customElements.get(e)||VC();break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}const $X=IX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _X=(t,e,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(s=>{n(AX(s,e))});return i.observe(t,{childList:!0,subtree:!0}),i},AX=(t,e)=>{let n;return t.forEach(i=>{for(let s=0;s<i.addedNodes.length;s++)n=NX(i.addedNodes[s],e)||n}),n},NX=(t,e)=>{if(t.nodeType!==1)return;const n=t;return(n.tagName===e.toUpperCase()?[n]:Array.from(n.querySelectorAll(e))).find(s=>s.value===n.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DX=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",OX=DX,RX=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",LX=RX,zX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.ionColor=he(this,"ionColor",7),this.ionStyle=he(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=Se(this);return D(Ve,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:zt(this.color,{[n]:!0,"in-item-color":un("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},D("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:OX,md:LX}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function qC(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,zX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FX=qC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PX="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",BX=PX,MX="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",jX=MX,UX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=Se(this),{lines:n,inset:i}=this;return D(Ve,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(n)]:n!==void 0,["list-".concat(e,"-lines-").concat(n)]:n!==void 0}})}get el(){return this}static get style(){return{ios:BX,md:jX}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function Fx(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,UX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VX=Fx;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HX=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",WX=HX,GX=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",qX=GX,KX=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=Se(this);return D(Ve,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:zt(this.color,{[n]:!0,["list-header-lines-".concat(e)]:e!==void 0})},D("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},D("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:WX,md:qX}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function v6(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,KX);break}})}const XX=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",YX=XX,ZX=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",JX=ZX,QX="cubic-bezier(0.32,0.72,0,1)",eY="cubic-bezier(0.0,0.0,0.2,1)",tY="cubic-bezier(1, 0, 0.68, 0.28)",nY="cubic-bezier(0.4, 0, 0.6, 1)",iY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=he(this,"ionWillOpen",7),this.ionWillClose=he(this,"ionWillClose",7),this.ionDidOpen=he(this,"ionDidOpen",7),this.ionDidClose=he(this,"ionDidClose",7),this.ionMenuChange=he(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=DC.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=jd(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const i=this.contentEl;i&&(n!==void 0&&i.classList.remove("menu-content-".concat(n)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=H_(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=Ke.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){yo('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&yo('[ion-menu] - The "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Ha._register(this),this.menuChanged(),this.gesture=(await Mn(()=>Promise.resolve().then(()=>OC),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=er(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Ha._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,Er))}onKeydown(e){e.key==="Escape"&&this.close(void 0,Er)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,i){return Ha._setOpen(this,e,n,i)}trapKeyboardFocus(e,n){const i=e.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:s}=this;v0(s),this.lastFocus===n.activeElement&&Zk(s)}}async _setOpen(e,n=!0,i){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,i),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,i),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=H_(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await Ha._createAnimation(this.type,this);Ke.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,n){const i=!e,s=Se(this),o=s==="ios"?QX:eY,r=s==="ios"?tY:nY,a=this.animation.direction(i?"reverse":"normal").easing(i?r:o);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Ha._getOpenSync()?!1:sY(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,ia),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Qn(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Qn(!1,"isAnimating has to be true");return}const i=lA(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){Qn(!1,"isAnimating has to be true");return}const n=this._isOpen,i=this.isEndSide,s=lA(e.deltaX,n,i),o=this.width,r=s/o,a=e.velocityX,l=o/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=n?i?c:u:i?u:c;let h=!n&&d;n&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let p=d?.001:-.001;const f=r<0?.01:r;p+=Pc([0,0],[.4,0],[.6,1],[1,1],ji(0,f,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h,ia),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-p:p,300)}beforeAnimation(e,n){Qn(!this.isAnimating,"_before() should not be called while animating"),oo("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(cA),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(uA),this.contentEl&&(this.contentEl.classList.add(dA),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var i;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(oo("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((i=document.activeElement)===null||i===void 0?void 0:i.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(cA),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(dA),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(uA),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,ia))}render(){const{type:e,disabled:n,el:i,isPaneVisible:s,inheritedAttributes:o,side:r}=this,a=Se(this);return D(Ve,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:Md()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[a]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!n,["menu-side-".concat(r)]:!0,"menu-pane-visible":s,"split-pane-side":un("ion-split-pane",i)}},D("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},D("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),D("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:YX,md:JX}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),lA=(t,e,n)=>Math.max(0,e!==n?-t:t),sY=(t,e,n,i)=>n?e>=t.innerWidth-i:e<=i,cA="show-menu",uA="show-backdrop",dA="menu-content-open";function oY(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,iY);break;case"ion-backdrop":customElements.get(e)||uu();break}})}const rY=oY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w6=async t=>{const e=await Ha.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aY=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',lY=aY,cY=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',uY=cY,dY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>Ha.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=er(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await w6(this.menu)}render(){const{color:e,disabled:n,inheritedAttributes:i}=this,s=Se(this),o=Ke.get("menuIcon",s==="ios"?rG:aG),r=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return D(Ve,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":n?"true":null,"aria-hidden":r?"true":null,class:zt(e,{[s]:!0,button:!0,"menu-button-hidden":r,"menu-button-disabled":n,"in-toolbar":un("ion-toolbar",this.el),"in-toolbar-color":un("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},D("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},a,{disabled:n,class:"button-native",part:"native","aria-label":l}),D("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},D("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},D("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:o,mode:s,lazy:!1,"aria-hidden":"true"}))),s==="md"&&D("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:lY,md:uY}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function hY(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,dY);break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}const pY=hY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fY=":host(.menu-toggle-hidden){display:none}",mY=fY,gY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Ha.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await w6(this.menu)}render(){const e=Se(this),n=this.autoHide&&!this.visible;return D(Ve,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":n?"true":null,class:{[e]:!0,"menu-toggle-hidden":n}},D("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return mY}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function bY(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,gY);break}})}const xY=bY,k6=1,S6=2,I0=3;class s2{constructor(e,n){this.component=e,this.params=n,this.state=k6}async init(e){if(this.state=S6,!this.element){const n=this.component;this.element=await Vf(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Qn(this.state!==I0,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=I0}}const hA=(t,e,n)=>!t||t.component!==e?!1:_R(t.params,n),pA=(t,e)=>t?t instanceof s2?t:new s2(t,e):null,yY=t=>t.map(e=>e instanceof s2?e:"component"in e?pA(e.component,e.componentProps===null?void 0:e.componentProps):pA(e,void 0)).filter(e=>e!==null),vY=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",wY=vY,kY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=he(this,"ionNavWillLoad",7),this.ionNavWillChange=he(this,"ionNavWillChange",3),this.ionNavDidChange=he(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Se(this);this.swipeGesture=Ke.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Mn(()=>import("./swipe-back-Deb6-vKG.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Kr(e.element,sw),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,s){return this.insert(-1,e,n,i,s)}insert(e,n,i,s,o){return this.insertPages(e,[{component:n,componentProps:i}],s,o)}insertPages(e,n,i,s){return this.queueTrns({insertStart:e,insertViews:n,opts:i},s)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const s={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(s.removeView=e,s.removeStart=1):typeof e=="number"&&(s.removeStart=e+1),this.queueTrns(s,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,s){return this.queueTrns({removeStart:e,removeCount:n,opts:i},s)}setRoot(e,n,i,s){return this.setPages([{component:e,componentProps:n}],i,s)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,s){const o=this.getActiveSync();if(hA(o,e,n))return Promise.resolve({changed:!1,element:o.element});let r;const a=new Promise(u=>r=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(p=>d=p);return r({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>hA(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:s})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:s})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:s})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,s;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const o=new Promise((r,a)=>{e.resolve=r,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const a=await r.canTransition();if(a===!1)return!1;if(typeof a=="string")return r.push(a,e.opts.direction||"back"),!1}}return((s=e.insertViews)===null||s===void 0?void 0:s.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const s=e.direction==="back"?"back":"forward";i.navChanged(s)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===k6&&await i.init(this.el),this.postViewInit(i,n,e);const s=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;s&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;s?o=await this.transition(i,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,s;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(s=e.opts).delegate)!==null&&i!==void 0||(s.delegate=this.delegate),e.removeView!==void 0){Qn(e.removeStart!==void 0,"removeView needs removeStart"),Qn(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const r=e.insertViews;if(!r)return;Qn(r.length>0,"length can not be zero");const a=yY(r);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===I0)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const s=e.removeStart;if(s!==void 0){const o=this.views,r=s+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<s||a>=r)&&l!==n)return l}}}postViewInit(e,n,i){var s,o,r;Qn(n||e,"Both leavingView and enteringView are null"),Qn(i.resolve,"resolve must be valid"),Qn(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){Qn(c>=0,"removeStart can not be negative"),Qn(u>=0,"removeCount can not be negative"),d=[];for(let p=c;p<c+u;p++){const f=this.views[p];f!==void 0&&f!==e&&f!==n&&d.push(f)}(s=a.direction)!==null&&s!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(Qn(h>=0,"final balance can not be negative"),h===0)throw Vt("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let p=i.insertStart;for(const f of l)this.insertViewAt(f,p),p++;i.enteringRequiresTransition&&((r=a.direction)!==null&&r!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const p of d)Kr(p.element,AR),Kr(p.element,NR),Kr(p.element,sw);for(const p of d)this.destroyView(p)}}async transition(e,n,i){const s=i.opts,o=s.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,r=Se(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:r,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&Ke.getBoolean("animated",!0),enteringEl:a,leavingEl:l},s),{animationBuilder:s.animationBuilder||this.animation||Ke.get("navAnimation")}),{hasCompleted:u}=await OR(c);return this.transitionFinish(u,e,n,s)}transitionFinish(e,n,i,s){const o=e?n:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:s.direction}}insertViewAt(e,n){const i=this.views,s=i.indexOf(e);s>-1?(Qn(e.nav===this,"view is not part of the nav"),i.splice(s,1),i.splice(n,0,e)):(Qn(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){Qn(e.state===S6||e.state===I0,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);Qn(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let s=n.length-1;s>=0;s--){const o=n[s],r=o.element;r&&(s>i?(Kr(r,sw),this.destroyView(o)):s<i&&Kk(r,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let s=e?-.001:.001;e?s+=Pc([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Pc([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}render(){return D("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return wY}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function SY(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,kY);break}})}const CY=SY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EY=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",TY=EY,IY=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",$Y=IY,_Y=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Se(this);return D(Ve,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:zt(this.color,{[e]:!0})},D("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:TY,md:$Y}}},[33,"ion-note",{color:[513]}]);function AY(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,_Y);break}})}const NY=AY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const o2=(t,e,n)=>typeof n=="function"?n(t,e):typeof n=="string"?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e,_b=(t,e,n)=>t===void 0?!1:Array.isArray(t)?t.some(i=>o2(i,e,n)):o2(t,e,n),DY=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',OY=DY,RY=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',LY=RY,zY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.inputId="ion-rb-".concat(FY++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:n}=this.radioGroup;this.checked=_b(n,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:n,disabled:i}=this;i||(n&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),NC(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&($R(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return D("div",{class:"radio-icon",part:"container"},D("div",{class:"radio-inner",part:"mark"}),D("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:n,color:i,el:s,justify:o,labelPlacement:r,hasLabel:a,buttonTabindex:l,alignment:c}=this,u=Se(this),d=un("ion-item",s);return D(Ve,{key:"8badd4aec277addc0793e14df21f73bb345e99b7",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:zt(i,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":n,["radio-justify-".concat(o)]:o!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(r)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":n?"true":null,tabindex:l},D("label",{key:"8765b847edc93a1b5a16506e155ed03da807bb10",class:"radio-wrapper"},D("div",{key:"3d568a0192a32d4f0b8a920019c79ff02639b5c9",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!a},part:"label"},D("slot",{key:"331f3dc2ce5f6ed8f124fc4560f92e0f7c668a85"})),D("div",{key:"473bd4aaf448753e385f2dda3fddc9f56379aa19",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:OY,md:LY}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let FY=0;function KC(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,zY);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PY="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",BY=PY,MY="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",jY=MY,UY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.ionChange=he(this,"ionChange",7),this.ionValueChange=he(this,"ionValueChange",7),this.inputId="ion-rg-".concat(VY++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const n=this.getRadios(),i=n.find(r=>!r.disabled),s=n.find(r=>r.value===e&&!r.disabled);if(!i&&!s)return;const o=s||i;for(const r of n){const a=r===o?0:-1;r.setButtonTabindex(a)}},this.onClick=e=>{e.preventDefault();const n=e.target&&e.target.closest("ion-radio");if(n&&!n.disabled){const i=this.value,s=n.value;s!==i?(this.value=s,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0,this.helperText=void 0,this.errorText=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const n=this.label=e.querySelector("ion-label");n&&(this.labelId=n.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:n}=this;this.ionChange.emit({value:n,event:e})}onKeydown(e){const n=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter(s=>!s.disabled);if(e.target&&i.includes(e.target)){const s=i.findIndex(a=>a===e.target),o=i[s];let r;if(["ArrowDown","ArrowRight"].includes(e.key)&&(r=s===i.length-1?i[0]:i[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(r=s===0?i[i.length-1]:i[s-1]),r&&i.includes(r)&&(r.setFocus(e),n||(this.value=r.value,this.emitValueChange(e))),[" "].includes(e.key)){const a=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:o.value,(a!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(n=>n.tabIndex!==-1);e==null||e.setFocus()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;if(e||n)return D("div",{class:"radio-group-top"},D("div",{id:i,class:"helper-text"},e),D("div",{id:s,class:"error-text"},n))}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}render(){const{label:e,labelId:n,el:i,name:s,value:o}=this,r=Se(this);return jf(!0,i,s,o,!1),D(Ve,{key:"cac92777297029d7fd1b6af264d92850e35dfbba",role:"radiogroup","aria-labelledby":e?n:null,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,onClick:this.onClick,class:r},this.renderHintText(),D("div",{key:"6b5c634dba30d54eedc031b077863f3d6a9d9e9b",class:"radio-group-wrapper"},D("slot",{key:"443edb3ff6f4c59d4c4324c8a19f2d6def47a322"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:BY,md:jY}}},[36,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],helperText:[1,"helper-text"],errorText:[1,"error-text"],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let VY=0;function XC(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,UY);break}})}function HY(t){return!Fa(t)||t%1===0?0:t.toString().split(".")[1].length}function WY(t,...e){if(!Fa(t))return 0;const n=Math.max(...e.map(i=>HY(i)));return Number(t.toFixed(n))}const GY=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:2px;--height:42px}:host(.range-item-start-adjustment){-webkit-padding-start:24px;padding-inline-start:24px}:host(.range-item-end-adjustment){-webkit-padding-end:24px;padding-inline-end:24px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:calc(8px + 0.75rem)}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:calc(8px + 0.75rem)}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  100%,  0) scale(0.01);transform:translate3d(0,  100%,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:0.75rem;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 11px), 0) scale(1);transform:translate3d(0, calc(-100% + 11px), 0) scale(1)}:host(.range-disabled){opacity:0.3}",qY=GY,KY=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.26);--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #0054e9);--pin-color:var(--ion-color-primary-contrast, #fff)}::slotted(:not(ion-icon)[slot=start]),::slotted(:not(ion-icon)[slot=end]),.native-wrapper{font-size:0.75rem}:host(.range-item-start-adjustment){-webkit-padding-start:18px;padding-inline-start:18px}:host(.range-item-end-adjustment){-webkit-padding-end:18px;padding-inline-end:18px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:1.75rem}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:1.75rem}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}.range-knob::before{inset-inline-start:0}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.75rem;height:1.75rem;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color)}.range-pin::before{bottom:-1px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}.range-pin::before{inset-inline-start:50%}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 4px), 0) scale(1);transform:translate3d(0, calc(-100% + 4px), 0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',XY=KY,YY=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=he(this,"ionChange",7),this.ionInput=he(this,"ionInput",7),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.ionKnobMoveStart=he(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=he(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(ZY++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.compareValues=(e,n)=>typeof e=="object"&&typeof n=="object"?e.lower!==n.lower||e.upper!==n.upper:e!==n,this.clampBounds=e=>ji(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await Mn(()=>Promise.resolve().then(()=>OC),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:10,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,n)=>{const{ensureValueInBounds:i}=this;let s=this.step;s=s>0?s:1,s=s/(this.max-this.min),n||(s*=-1),e==="A"?this.ratioA=ji(0,this.ratioA+s,1):this.ratioB=ji(0,this.ratioB+s,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start"}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:Nx(e,n)}minChanged(e){Fa(e)||(this.min=0),this.noUpdate||this.updateRatio()}maxChanged(e){Fa(e)||(this.max=100),this.noUpdate||this.updateRatio()}stepChanged(e){Fa(e)||(this.step=1)}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(Vt("[ion-range] - The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(Vt("[ion-range] - The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}valueChanged(e,n){this.compareValues(e,n)&&this.ionInput.emit({value:this.value}),this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=er(this.el),this.min=Fa(this.min)?this.min:0,this.max=Fa(this.max)?this.max:100,this.step=Fa(this.step)?this.step:1}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.updateRatio(),this.didLoad=!0}connectedCallback(){var e;this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture();const n=E0(this.el);this.contentEl=(e=n==null?void 0:n.querySelector(".ion-content-scroll-host"))!==null&&e!==void 0?e:n}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const n=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof n=="object"?n:{lower:0,upper:n}:typeof n=="object"?n.upper:n}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(){this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){const{contentEl:n,pressedKnob:i}=this,s=e.currentX;n&&this.pressedKnob===void 0&&(this.initialContentScrollY=t2(n)),i===void 0&&this.setPressedKnob(s),this.update(s)}onEnd(e){var n;const{contentEl:i,initialContentScrollY:s}=this,o=(n=e.currentX)!==null&&n!==void 0?n:e.clientX;this.pressedKnob===void 0&&this.setPressedKnob(o),i&&this.pressedKnob!==void 0&&p6(i,s),this.update(o),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const n=this.rect;let i=ji(0,(e-n.left)/n.width,1);sa(this.el)&&(i=1-i),this.snaps&&(i=Au(cw(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}setPressedKnob(e){const n=this.rect=this.rangeSlider.getBoundingClientRect();let i=ji(0,(e-n.left)/n.width,1);sa(this.el)&&(i=1-i),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-i)<Math.abs(this.ratioB-i)?"A":"B",this.setFocus(this.pressedKnob)}get valA(){return cw(this.ratioA,this.min,this.max,this.step)}get valB(){return cw(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:Au(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:n,max:i}=this;this.dualKnobs?(this.ratioA=Au(e.lower,n,i),this.ratioB=Au(e.upper,n,i)):this.ratioA=Au(e,n,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:n}=this;this.value=this.dualKnobs?{lower:Math.min(e,n),upper:Math.max(e,n)}:e,this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const n=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");n&&n.focus()}}get hasStartSlotContent(){return this.el.querySelector('[slot="start"]')!==null}get hasEndSlotContent(){return this.el.querySelector('[slot="end"]')!==null}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:n,max:i,step:s,handleKeyboard:o,pressedKnob:r,disabled:a,pin:l,ratioLower:c,ratioUpper:u,pinFormatter:d,inheritedAttributes:h}=this;let p="".concat(c*100,"%"),f="".concat(100-u*100,"%");const m=sa(this.el),b=m?"right":"left",g=m?"left":"right",x=w=>({[b]:w[b]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(p="".concat(u*100,"%"),f="".concat(100-c*100,"%")):(p="".concat(c*100,"%"),f="".concat(100-u*100,"%")));const y={[b]:p,[g]:f},v=[];if(this.snaps&&this.ticks)for(let w=n;w<=i;w+=s){const C=Au(w,n,i),k=Math.min(c,u),E=Math.max(c,u),T={ratio:C,active:C>=k&&C<=E};T[b]="".concat(C*100,"%"),v.push(T)}return D("div",{class:"range-slider",ref:w=>this.rangeSlider=w,onPointerUp:w=>{this.pressedKnob===void 0&&(this.onStart(),this.onEnd(w))}},v.map(w=>D("div",{style:x(w),role:"presentation",class:{"range-tick":!0,"range-tick-active":w.active},part:w.active?"tick-active":"tick"})),D("div",{class:"range-bar-container"},D("div",{class:"range-bar",role:"presentation",part:"bar"}),D("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":v.length>0},role:"presentation",style:y,part:"bar-active"})),fA(m,{knob:"A",pressed:r==="A",value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:d,disabled:a,handleKeyboard:o,min:n,max:i,inheritedAttributes:h}),this.dualKnobs&&fA(m,{knob:"B",pressed:r==="B",value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:d,disabled:a,handleKeyboard:o,min:n,max:i,inheritedAttributes:h}))}render(){const{disabled:e,el:n,hasLabel:i,rangeId:s,pin:o,pressedKnob:r,labelPlacement:a,label:l}=this,c=un("ion-item",n),u=i&&(a==="start"||a==="fixed")||this.hasStartSlotContent,d=c&&!u,h=i&&a==="end"||this.hasEndSlotContent,p=c&&!h,f=Se(this);return jf(!0,n,this.name,JSON.stringify(this.getValue()),e),D(Ve,{key:"3e065039ee048f1f70d97dba5dae98fa1315d867",onFocusin:this.onFocus,onFocusout:this.onBlur,id:s,class:zt(this.color,{[f]:!0,"in-item":c,"range-disabled":e,"range-pressed":r!==void 0,"range-has-pin":o,["range-label-placement-".concat(a)]:!0,"range-item-start-adjustment":d,"range-item-end-adjustment":p})},D("label",{key:"27ff22842c9ea79a1b9495302b926f70c9080a95",class:"range-wrapper",id:"range-label"},D("div",{key:"da1f9784be02dfe87d2fef34931d8b7f2148189e",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!i},part:"label"},l!==void 0?D("div",{class:"label-text"},l):D("slot",{name:"label"})),D("div",{key:"4389bf30b08214f5b5917fc30976b38f7bcdd29b",class:"native-wrapper"},D("slot",{key:"ad1b2745f8b061ee189617bb5c567e4f1d02250c",name:"start"}),this.renderRangeSlider(),D("slot",{key:"c6dec9e843e232af2a5f16a0f8ee56439c545d7a",name:"end"}))))}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:qY,md:XY}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],ratioA:[32],ratioB:[32],pressedKnob:[32]},void 0,{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}]),fA=(t,{knob:e,value:n,ratio:i,min:s,max:o,disabled:r,pressed:a,pin:l,handleKeyboard:c,pinFormatter:u,inheritedAttributes:d})=>{const h=t?"right":"left",p=()=>{const m={};return m[h]="".concat(i*100,"%"),m},f=d["aria-label"];return D("div",{onKeyDown:m=>{const b=m.key;b==="ArrowLeft"||b==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(b==="ArrowRight"||b==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":n===s,"range-knob-max":n===o,"ion-activatable":!0,"ion-focusable":!0},style:p(),role:"slider",tabindex:r?-1:0,"aria-label":f!==void 0?f:null,"aria-labelledby":f===void 0?"range-label":null,"aria-valuemin":s,"aria-valuemax":o,"aria-disabled":r?"true":null,"aria-valuenow":n},l&&D("div",{class:"range-pin",role:"presentation",part:"pin"},u(n)),D("div",{class:"range-knob",role:"presentation",part:"knob"}))},cw=(t,e,n,i)=>{let s=(n-e)*t;i>0&&(s=Math.round(s/i)*i+e);const o=ji(e,s,n);return WY(o,e,n,i)},Au=(t,e,n)=>ji(0,(t-e)/(n-e),1);let ZY=0;function JY(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,YY);break}})}const QY=JY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eZ=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",tZ=eZ,nZ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Ve,{key:"a690022e2abdce6946d24264574e4aa0886a8ea5",class:Se(this)},D("slot",{key:"d1a0e831dd1dbfe7877d3ad01d0a3045a5fb29e3"}))}static get style(){return tZ}},[1,"ion-row"]);function iZ(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,nZ);break}})}const sZ=iZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oZ=".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",rZ=oZ,aZ=".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}",lZ=aZ,cZ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.ionInput=he(this,"ionInput",7),this.ionChange=he(this,"ionChange",7),this.ionCancel=he(this,"ionCancel",7),this.ionClear=he(this,"ionClear",7),this.ionBlur=he(this,"ionBlur",7),this.ionFocus=he(this,"ionFocus",7),this.ionStyle=he(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-".concat(uZ++),this.inheritedAttributes={},this.onClearInput=async e=>(this.ionClear.emit(),new Promise(n=>{setTimeout(()=>{const i=this.getValue();i!==""&&(this.value="",this.emitInputChange(),e&&!this.focused&&(this.setFocus(),this.focusedValue=i)),n()},16*4)})),this.onCancelSearchbar=async e=>{e&&(e.preventDefault(),e.stopPropagation()),this.ionCancel.emit();const n=this.getValue(),i=this.focused;await this.onClearInput(),n&&!i&&this.emitValueChange(e),this.nativeInput&&this.nativeInput.blur()},this.onInput=e=>{const n=e.target;n&&(this.value=n.value),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(e),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=Ke.get("backButtonIcon",QR),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:e}),vi(this)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),vi(this)}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:Nx(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n)}showCancelButtonChanged(){requestAnimationFrame(()=>{this.positionElements(),vi(this)})}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},Nr(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout(()=>{this.noAnimate=!1},300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ko(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}positionElements(){const e=this.getValue(),n=this.shouldAlignLeft,i=Se(this),s=!this.animated||e.trim()!==""||!!this.focused;this.shouldAlignLeft=s,i==="ios"&&(n!==s&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const e=this.nativeInput;if(!e)return;const n=sa(this.el),i=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)e.removeAttribute("style"),i.removeAttribute("style");else{const s=document,o=s.createElement("span");o.innerText=this.placeholder||"",s.body.appendChild(o),Xn(()=>{const r=o.offsetWidth;o.remove();const a="calc(50% - "+r/2+"px)",l="calc(50% - "+(r/2+i.clientWidth+8)+"px)";n?(e.style.paddingRight=a,i.style.marginRight=l):(e.style.paddingLeft=a,i.style.marginLeft=l)})}}positionCancelButton(){const e=sa(this.el),n=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),i=this.shouldShowCancelButton();if(n!==null&&i!==this.isCancelVisible){const s=n.style;if(this.isCancelVisible=i,i)e?s.marginLeft="0":s.marginRight="0";else{const o=n.offsetWidth;o>0&&(e?s.marginLeft=-o+"px":s.marginRight=-o+"px")}}}getValue(){return this.value||""}hasValue(){return this.getValue()!==""}shouldShowCancelButton(){return!(this.showCancelButton==="never"||this.showCancelButton==="focus"&&!this.focused)}shouldShowClearButton(){return!(this.showClearButton==="never"||this.showClearButton==="focus"&&!this.focused)}render(){const{cancelButtonText:e,autocapitalize:n}=this,i=this.animated&&Ke.getBoolean("animated",!0),s=Se(this),o=this.clearIcon||(s==="ios"?e6:t6),r=this.searchIcon||(s==="ios"?lG:cG),a=this.shouldShowCancelButton(),l=this.showCancelButton!=="never"&&D("button",{key:"989f3e84c472ada6e66dd9b249d0d268bf17ce26","aria-label":e,"aria-hidden":a?void 0:"true",type:"button",tabIndex:s==="ios"&&!a?-1:void 0,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},D("div",{key:"7d335d4fde33822dc79d26b748ba2e98db7494bb","aria-hidden":"true"},s==="md"?D("ion-icon",{"aria-hidden":"true",mode:s,icon:this.cancelButtonIcon,lazy:!1}):e));return D(Ve,{key:"d1a1972725e949fb102c91487aaa7b9d10c2d718",role:"search","aria-disabled":this.disabled?"true":null,class:zt(this.color,{[s]:!0,"searchbar-animated":i,"searchbar-disabled":this.disabled,"searchbar-no-animate":i&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},D("div",{key:"add53640b2994cb6b2bf02792dafe51aba6b1684",class:"searchbar-input-container"},D("input",Object.assign({key:"160cc36459a4a652e7f41ccd14dcdc782278779e","aria-label":"search text",disabled:this.disabled,ref:c=>this.nativeInput=c,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:n==="default"?void 0:n,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),s==="md"&&l,D("ion-icon",{key:"8825fd13af0d2dea451ccc0e00ae7b5021dc01c4","aria-hidden":"true",mode:s,icon:r,lazy:!1,class:"searchbar-search-icon"}),D("button",{key:"8a7b56da278b9ca5c4f5a4ee9c01924fd5ae29d8","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:c=>{c.preventDefault()},onClick:()=>this.onClearInput(!0)},D("ion-icon",{key:"24c55274516ab012d8c25f03525c6cdb9409e52f","aria-hidden":"true",mode:s,icon:o,lazy:!1,class:"searchbar-clear-icon"}))),s==="ios"&&l)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:rZ,md:lZ}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);let uZ=0;function dZ(){if(typeof customElements>"u")return;["ion-searchbar","ion-icon"].forEach(e=>{switch(e){case"ion-searchbar":customElements.get(e)||customElements.define(e,cZ);break;case"ion-icon":customElements.get(e)||Co();break}})}const hZ=dZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const C6=(t,e)=>{let n,i;const s=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)||u.disabled){r();return}u!==n&&(r(),o(u,c))},o=(a,l)=>{n=a,i||(i=n);const c=n;cs(()=>c.classList.add("ion-activated")),l()},r=(a=!1)=>{if(!n)return;const l=n;cs(()=>l.classList.remove("ion-activated")),a&&i!==n&&n.click(),n=void 0};return Uf({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>s(a.currentX,a.currentY,tK),onMove:a=>s(a.currentX,a.currentY,nK),onEnd:()=>{r(!0),iK(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},fZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},mZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},gZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},bZ='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',xZ=bZ,yZ='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',vZ=yZ,wZ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.didPresent=he(this,"ionActionSheetDidPresent",7),this.willPresent=he(this,"ionActionSheetWillPresent",7),this.willDismiss=he(this,"ionActionSheetWillDismiss",7),this.didDismiss=he(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.delegateController=Lx(this),this.lockController=du(),this.triggerController=Gf(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Er)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Mc(n)){const i=this.getButtons().find(s=>s.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await fh(this,"actionSheetEnter",pZ,mZ),e()}async dismiss(e,n){const i=await this.lockController.lock(),s=await mh(this,e,n,"actionSheetLeave",fZ,gZ);return s&&this.delegateController.removeViewFromDom(),i(),s}onDidDismiss(){return vo(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return vo(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const n=e.role;return Mc(n)?this.dismiss(e.data,n):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await Ic(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){hh(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||ph(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:n}=this;!this.gesture&&Se(this)==="ios"&&n&&e&&zc(()=>{e.scrollHeight>e.clientHeight||(this.gesture=C6(n,s=>s.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&Xn(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:n,overlayIndex:i}=this,s=Se(this),o=this.getButtons(),r=o.find(c=>c.role==="cancel"),a=o.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(i,"-header");return D(Ve,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},n,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[s]:!0},Di(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),D("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),D("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),D("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},D("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},D("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&D("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&D("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),a.map(c=>D("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:mA(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),D("span",{class:"action-sheet-button-inner"},c.icon&&D("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),s==="md"&&D("ion-ripple-effect",null)))),r&&D("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},D("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},r.htmlAttributes,{type:"button",class:mA(r),onClick:()=>this.buttonClick(r)}),D("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},r.icon&&D("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:r.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),r.text),s==="md"&&D("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),D("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:xZ,md:vZ}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mA=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!t.disabled,"ion-focusable":!t.disabled,["action-sheet-".concat(t.role)]:t.role!==void 0},Di(t.cssClass));function E6(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,wZ);break;case"ion-backdrop":customElements.get(e)||uu();break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},SZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},CZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},EZ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},TZ=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",IZ=TZ,$Z=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",_Z=$Z,AZ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.didPresent=he(this,"ionAlertDidPresent",7),this.willPresent=he(this,"ionAlertWillPresent",7),this.willDismiss=he(this,"ionAlertWillDismiss",7),this.didDismiss=he(this,"ionAlertDidDismiss",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.delegateController=Lx(this),this.lockController=du(),this.triggerController=Gf(),this.customHTMLEnabled=Ke.get("innerHTMLTemplatesEnabled",zC),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Er)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Mc(n)){const i=this.processedButtons.find(s=>s.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}onKeydown(e){var n;const i=new Set(this.processedInputs.map(l=>l.type));if(i.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(e.target.classList.contains("alert-wrapper")&&e.key==="Tab"&&e.shiftKey){e.preventDefault(),((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button:last-child")).focus();return}if(!i.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const s=this.el.querySelectorAll(".alert-radio"),o=Array.from(s).filter(l=>!l.disabled),r=o.findIndex(l=>l.id===e.target.id);let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=r===o.length-1?o[0]:o[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=r===0?o[o.length-1]:o[r-1]),a&&o.includes(a)){const l=this.processedInputs.find(c=>c.id===(a==null?void 0:a.id));l&&(this.rbClick(l),a.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(n=>typeof n=="string"?{text:n,role:n.toLowerCase()==="cancel"?"cancel":void 0}:n)}inputsChanged(){const e=this.inputs,n=e.find(r=>!r.disabled),s=e.find(r=>r.checked&&!r.disabled)||n,o=new Set(e.map(r=>r.type));o.has("checkbox")&&o.has("radio")&&Vt("[ion-alert] - Alert cannot mix input types: ".concat(Array.from(o.values()).join("/"),". Please see alert docs for more info.")),this.inputType=o.values().next().value,this.processedInputs=e.map((r,a)=>{var l;return{type:r.type||"text",name:r.name||"".concat(a),placeholder:r.placeholder||"",value:r.value,label:r.label,checked:!!r.checked,disabled:!!r.disabled,id:r.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:r.handler,min:r.min,max:r.max,cssClass:(l=r.cssClass)!==null&&l!==void 0?l:"",attributes:r.attributes||{},tabindex:r.type==="radio"&&r!==s?-1:0}})}connectedCallback(){hh(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||ph(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&Se(this)==="ios"&&this.wrapperEl&&(this.gesture=C6(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&Xn(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await fh(this,"alertEnter",kZ,CZ).then(()=>{var n,i;this.buttons.length===1&&this.inputs.length===0?((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button")).focus():(i=this.wrapperEl)===null||i===void 0||i.focus()}),e()}async dismiss(e,n){const i=await this.lockController.lock(),s=await mh(this,e,n,"alertLeave",SZ,EZ);return s&&this.delegateController.removeViewFromDom(),i(),s}onDidDismiss(){return vo(this.el,"ionAlertDidDismiss")}onWillDismiss(){return vo(this.el,"ionAlertWillDismiss")}rbClick(e){for(const n of this.processedInputs)n.checked=n===e,n.tabindex=n===e?0:-1;this.activeId=e.id,Ic(e.handler,e),vi(this)}cbClick(e){e.checked=!e.checked,Ic(e.handler,e),vi(this)}async buttonClick(e){const n=e.role,i=this.getValues();if(Mc(n))return this.dismiss({values:i},n);const s=await this.callButtonHandler(e,i);return s!==!1?this.dismiss(Object.assign({values:i},s),e.role):!1}async callButtonHandler(e,n){if(e!=null&&e.handler){const i=await Ic(e.handler,n);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const n=this.processedInputs.find(i=>!!i.checked);return n?n.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(n=>n.checked).map(n=>n.value);const e={};return this.processedInputs.forEach(n=>{e[n.name]=n.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,n=Se(this);return e.length===0?null:D("div",{class:"alert-checkbox-group"},e.map(i=>D("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Di(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},D("div",{class:"alert-button-inner"},D("div",{class:"alert-checkbox-icon"},D("div",{class:"alert-checkbox-inner"})),D("div",{class:"alert-checkbox-label"},i.label)),n==="md"&&D("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:D("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(n=>D("button",{type:"button",onClick:()=>this.rbClick(n),"aria-checked":"".concat(n.checked),disabled:n.disabled,id:n.id,tabIndex:n.tabindex,class:Object.assign(Object.assign({},Di(n.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":n.disabled||!1}),role:"radio"},D("div",{class:"alert-button-inner"},D("div",{class:"alert-radio-icon"},D("div",{class:"alert-radio-inner"})),D("div",{class:"alert-radio-label"},n.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:D("div",{class:"alert-input-group"},e.map(n=>{var i,s,o,r;return n.type==="textarea"?D("div",{class:"alert-input-wrapper"},D("textarea",Object.assign({placeholder:n.placeholder,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(s=(i=n.attributes)===null||i===void 0?void 0:i.disabled)!==null&&s!==void 0?s:n.disabled,class:gA(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}}))):D("div",{class:"alert-input-wrapper"},D("input",Object.assign({placeholder:n.placeholder,type:n.type,min:n.min,max:n.max,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(r=(o=n.attributes)===null||o===void 0?void 0:o.disabled)!==null&&r!==void 0?r:n.disabled,class:gA(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,n=Se(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return D("div",{class:i},e.map(s=>D("button",Object.assign({},s.htmlAttributes,{type:"button",id:s.id,class:NZ(s),tabIndex:0,onClick:()=>this.buttonClick(s)}),D("span",{class:"alert-button-inner"},s.text),n==="md"&&D("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?D("div",{id:e,class:"alert-message",innerHTML:LC(i)}):D("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:n,subHeader:i,message:s,htmlAttributes:o}=this,r=Se(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-msg"),c="alert-".concat(e,"-sub-hdr"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=n&&i?"".concat(a," ").concat(c):n?a:i?c:null;return D(Ve,{key:"f8ee04fe6a97a2585b302c8e1a9eea3b122e3479",tabindex:"-1",style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},Di(this.cssClass)),{[r]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap},D("ion-backdrop",{key:"e9592e879f51c27ef20016beec12c986be632cf3",tappable:this.backdropDismiss}),D("div",{key:"5e9425c3c8acdea6f8006389689c73220e2ce423",tabindex:"0","aria-hidden":"true"}),D("div",Object.assign({key:"615465703e357619681fc36ed7276591a6fe3787",class:"alert-wrapper ion-overlay-wrapper",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":s!==void 0?l:null,tabindex:"0",ref:h=>this.wrapperEl=h},o),D("div",{key:"934eba3759456cd4660e10f274edc7859f908461",class:"alert-head"},n&&D("h2",{key:"7d5d98d71f81f59a2cba227121b6fa01e6cc53b6",id:a,class:"alert-title"},n),i&&!n&&D("h2",{key:"e5f5d35748c58a98ee933eb15cb1dcaf8113e9a7",id:c,class:"alert-sub-title"},i),i&&n&&D("h3",{key:"a5cb89ca02bfa9c4828e694cb0835493a9088b05",id:c,class:"alert-sub-title"},i)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),D("div",{key:"cacffc31c911882df73e6845d15c8bb2d4acab56",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:IZ,md:_Z}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),gA=t=>{var e,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((n=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&n!==void 0?n:t.disabled)||!1},Di(t.cssClass)),Di(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))},NZ=t=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(t.role)]:t.role!==void 0},Di(t.cssClass));function T6(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,AZ);break;case"ion-backdrop":customElements.get(e)||uu();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DZ=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',OZ=DZ,RZ=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',LZ=RZ,I6=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Y_,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,s={},o=this.itemStyles.get(n)||{};let r=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);o[l]||(r=!0),s[l]=!0}}),!r&&Object.keys(s).length!==Object.keys(o).length&&(r=!0),r&&(this.itemStyles.set(n,s),vi(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Nr(this.el,["aria-label"])}componentDidLoad(){Xn(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:i,labelColorStyles:s,lines:o,disabled:r,href:a,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:p}=this,f={},m=Se(this),b=this.isClickable(),g=this.canActivate(),x=b?a===void 0?"button":"a":"div",y=x==="button"?{type:this.type}:{download:i,href:a,rel:l,target:c};let v={};const w=this.getFirstInteractive();(b||w!==void 0&&!p)&&(v={onClick:_=>{if(b&&Ox(a,_,d,u),w!==void 0&&!p){const N=_.composedPath()[0];_.isTrusted&&this.el.shadowRoot.contains(N)&&((w.tagName==="ION-INPUT"||w.tagName==="ION-TEXTAREA")&&w.setFocus(),w.click(),_.stopImmediatePropagation())}}});const C=e!==void 0?e:m==="ios"&&b;this.itemStyles.forEach(_=>{Object.assign(f,_)});const k=r||f["item-interactive-disabled"]?"true":null,E=un("ion-list",this.el)&&!un("ion-radio-group",this.el),T=w!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return D(Ve,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":k,class:Object.assign(Object.assign(Object.assign({},f),s),zt(this.color,{item:!0,[m]:!0,"item-lines-default":o===void 0,["item-lines-".concat(o)]:o!==void 0,"item-control-needs-pointer-cursor":T,"item-disabled":r,"in-list":E,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:E?"listitem":null},D(x,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},y,h,{class:"item-native",part:"native",disabled:r},v),D("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),D("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},D("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},D("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),D("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),C&&D("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===Y_})),g&&m==="md"&&D("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:OZ,md:LZ}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function YC(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,I6);break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $0="ionKeyboardDidShow",$6="ionKeyboardDidHide",zZ=150;let _0={},oa={},gh=!1;const FZ=()=>{_0={},oa={},gh=!1},PZ=t=>{if(f6.getEngine())BZ(t);else{if(!t.visualViewport)return;oa=eE(t.visualViewport),t.visualViewport.onresize=()=>{N6(t),_6()||A6(t)?ZC(t):QC(t)&&JC(t)}}},BZ=t=>{t.addEventListener("keyboardDidShow",e=>ZC(t,e)),t.addEventListener("keyboardDidHide",()=>JC(t))},ZC=(t,e)=>{MZ(t,e),gh=!0},JC=t=>{jZ(t),gh=!1},_6=()=>{const t=(_0.height-oa.height)*oa.scale;return!gh&&_0.width===oa.width&&t>zZ},A6=t=>gh&&!QC(t),QC=t=>gh&&oa.height===t.innerHeight,MZ=(t,e)=>{const n=e?e.keyboardHeight:t.innerHeight-oa.height,i=new CustomEvent($0,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},jZ=t=>{const e=new CustomEvent($6);t.dispatchEvent(e)},N6=t=>{_0=Object.assign({},oa),oa=eE(t.visualViewport)},eE=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),UZ=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:$6,KEYBOARD_DID_OPEN:$0,copyVisualViewport:eE,keyboardDidClose:QC,keyboardDidOpen:_6,keyboardDidResize:A6,resetKeyboardAssist:FZ,setKeyboardClose:JC,setKeyboardOpen:ZC,startKeyboardAssist:PZ,trackViewportChanges:N6},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ud;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Ud||(Ud={}));const tE={getEngine(){const t=S0();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return Ud.Default;const{style:e}=await t.getInfo();return e}},r2=(t,e)=>{if(e===1)return 0;const n=1/(1-e),i=-(e*n);return t*n+i},D6=()=>{!_t||_t.innerWidth>=768||tE.setStyle({style:Ud.Dark})},a2=(t=Ud.Default)=>{!_t||_t.innerWidth>=768||tE.setStyle({style:t})},O6=async(t,e)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,ia)||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},l2=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,A0={MIN_PRESENTING_SCALE:.915},VZ=(t,e,n,i)=>{const o=t.offsetHeight;let r=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const p=()=>l&&xr(l)?l.scrollY:!0,x=Uf({el:t,gestureName:"modalSwipeToClose",gesturePriority:ZR,direction:"y",threshold:10,canStart:y=>{const v=y.event.target;return v===null||!v.closest?!0:(l=E0(v),l?(xr(l)?c=gn(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):v.closest("ion-footer")===null)},onStart:y=>{const{deltaY:v}=y;d=p(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,v>0&&l&&t2(l),e.progressStart(!0,r?1:0)},onMove:y=>{const{deltaY:v}=y;v>0&&l&&t2(l);const w=y.deltaY/o,C=w>=0&&a,k=C?u:.9999,E=C?l2(w/k):w,T=ji(1e-4,E,k);e.progressStep(T),T>=.5&&h<.5?a2(n):T<.5&&h>=.5&&D6(),h=T},onEnd:y=>{const v=y.velocityY,w=y.deltaY/o,C=w>=0&&a,k=C?u:.9999,E=C?l2(w/k):w,T=ji(1e-4,E,k),_=(y.deltaY+v*1e3)/o,z=!C&&_>=.5;let N=z?-.001:.001;z?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),N+=Pc([0,0],[.32,.72],[0,1],[1,1],T)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),N+=Pc([0,0],[1,0],[.68,.28],[1,1],T)[0]);const O=bA(z?w*o:(1-T)*o,v);r=z,x.enable(!1),l&&p6(l,d),e.onFinish(()=>{z||x.enable(!0)}).progressEnd(z?1:0,N,O),C&&T>k/4?O6(t,e):z&&i()}});return x},bA=(t,e)=>ji(400,t/Math.abs(e*1.1),500),R6=t=>{const{currentBreakpoint:e,backdropBreakpoint:n,expandToScroll:i}=t,s=n===void 0||n<e,o=s?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",r=Ee("backdropAnimation").fromTo("opacity",0,o);s&&r.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const a=Ee("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),l=i?void 0:Ee("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-e)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(e*100,"%")}]);return{wrapperAnimation:a,backdropAnimation:r,contentAnimation:l}},L6=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i="calc(var(--backdrop-opacity) * ".concat(r2(e,n),")"),s=[{offset:0,opacity:i},{offset:1,opacity:0}],o=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],r=Ee("backdropAnimation").keyframes(n!==0?o:s);return{wrapperAnimation:Ee("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:r}},HZ=()=>{const t=Ee().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Ee().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},xA=(t,e)=>{const{presentingEl:n,currentBreakpoint:i,expandToScroll:s}=e,o=gn(t),{wrapperAnimation:r,backdropAnimation:a,contentAnimation:l}=i!==void 0?R6(e):HZ();a.addElement(o.querySelector("ion-backdrop")),r.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!s&&(l==null||l.addElement(t.querySelector(".ion-page")));const c=Ee("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([r]).beforeAddWrite(()=>{if(s)return;const u=t.querySelector("ion-footer"),d=t.shadowRoot.querySelector("ion-footer");if(u&&!d){const h=u.clientHeight,p=u.cloneNode(!0);t.shadowRoot.appendChild(p),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(h,"px"))}});if(l&&c.addAnimation(l),n){const u=window.innerWidth<768,d=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,h=gn(n),p=Ee().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),f=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=A0.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");p.afterStyles({transform:x}).beforeAddWrite(()=>f.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"}]),c.addAnimation(p)}else if(c.addAnimation(a),!d)r.fromTo("opacity","0","1");else{const m=d?A0.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");p.afterStyles({transform:b}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=Ee().afterStyles({transform:b}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);c.addAnimation([p,g])}}else c.addAnimation(a);return c},WZ=()=>{const t=Ee().fromTo("opacity","var(--backdrop-opacity)",0),e=Ee().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},yA=(t,e,n=500)=>{const{presentingEl:i,currentBreakpoint:s,expandToScroll:o}=e,r=gn(t),{wrapperAnimation:a,backdropAnimation:l}=s!==void 0?L6(e):WZ();l.addElement(r.querySelector("ion-backdrop")),a.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const c=Ee("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(a).beforeAddWrite(()=>{if(o)return;const u=t.querySelector("ion-footer");if(u){const d=t.shadowRoot.querySelector("ion-footer");u.style.removeProperty("display"),u.removeAttribute("aria-hidden"),d.style.setProperty("display","none"),d.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(i){const u=window.innerWidth<768,d=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,h=gn(i),p=Ee().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(m=>{if(m!==1)return;i.style.setProperty("overflow",""),Array.from(f.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(g=>g.presentingElement!==void 0).length<=1&&f.style.setProperty("background-color","")}),f=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=A0.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");p.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(p)}else if(c.addAnimation(l),!d)a.fromTo("opacity","1","0");else{const m=d?A0.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");p.addElement(h.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:b},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const g=Ee().addElement(h.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:b},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([p,g])}}else c.addAnimation(l);return c},GZ=()=>{const t=Ee().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Ee().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},qZ=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,s=gn(t),{wrapperAnimation:o,backdropAnimation:r,contentAnimation:a}=n!==void 0?R6(e):GZ();r.addElement(s.querySelector("ion-backdrop")),o.addElement(s.querySelector(".modal-wrapper")),i&&(a==null||a.addElement(t.querySelector(".ion-page")));const l=Ee().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([r,o]).beforeAddWrite(()=>{if(i)return;const c=t.querySelector("ion-footer"),u=t.shadowRoot.querySelector("ion-footer");if(c&&!u){const d=c.clientHeight,h=c.cloneNode(!0);t.shadowRoot.appendChild(h),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(d,"px"))}});return a&&l.addAnimation(a),l},KZ=()=>{const t=Ee().fromTo("opacity","var(--backdrop-opacity)",0),e=Ee().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},XZ=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,s=gn(t),{wrapperAnimation:o,backdropAnimation:r}=n!==void 0?L6(e):KZ();return r.addElement(s.querySelector("ion-backdrop")),o.addElement(s.querySelector(".modal-wrapper")),Ee().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([r,o]).beforeAddWrite(()=>{if(i)return;const l=t.querySelector("ion-footer");if(l){const c=t.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},YZ=(t,e,n,i,s,o,r=[],a,l,c,u)=>{const d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-s,opacity:0},{offset:1,opacity:0}],p={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:s!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},f=t.querySelector("ion-content"),m=n.clientHeight;let b=i,g=0,x=!1,y=null;const v=.95,w=r[r.length-1],C=r[0],k=o.childAnimations.find(M=>M.id==="wrapperAnimation"),E=o.childAnimations.find(M=>M.id==="backdropAnimation"),T=o.childAnimations.find(M=>M.id==="contentAnimation"),_=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(sf)},z=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(sf)},N=M=>{const U=t.querySelector("ion-footer");if(!U)return;const B=n.nextElementSibling,V=M==="original"?B:U,ee=M==="original"?U:B;ee.style.removeProperty("display"),ee.removeAttribute("aria-hidden");const J=t.querySelector(".ion-page");if(M==="original")J.style.removeProperty("padding-bottom");else{const Z=ee.clientHeight;J.style.setProperty("padding-bottom","".concat(Z,"px"))}V.style.setProperty("display","none"),V.setAttribute("aria-hidden","true")};k&&E&&(k.keyframes([...p.WRAPPER_KEYFRAMES]),E.keyframes([...p.BACKDROP_KEYFRAMES]),T==null||T.keyframes([...p.CONTENT_KEYFRAMES]),o.progressStart(!0,1-b),b>s?_():z()),f&&b!==w&&a&&(f.scrollY=!1);const O=M=>{const U=E0(M.event.target);if(b=l(),!a&&U)return(xr(U)?gn(U).querySelector(".inner-scroll"):U).scrollTop===0;if(b===1&&U){const B=xr(U)?gn(U).querySelector(".inner-scroll"):U;return!!!U.querySelector("ion-refresher")&&B.scrollTop===0}return!0},I=M=>{if(x=t.canDismiss!==void 0&&t.canDismiss!==!0&&C===0,!a){const U=E0(M.event.target);y=U&&xr(U)?gn(U).querySelector(".inner-scroll"):U}a||N("original"),M.deltaY>0&&f&&(f.scrollY=!1),Xn(()=>{t.focus()}),o.progressStart(!0,1-b)},L=M=>{if(!a&&M.deltaY<=0&&y)return;M.deltaY>0&&f&&(f.scrollY=!1);const U=1-b,B=r.length>1?1-r[1]:void 0,V=U+M.deltaY/m,ee=B!==void 0&&V>=B&&x,J=ee?v:.9999,Z=ee&&B!==void 0?B+l2((V-B)/(J-B)):V;g=ji(1e-4,Z,J),o.progressStep(g)},F=M=>{if(!a&&M.deltaY<=0&&y&&y.scrollTop>0)return;const U=M.velocityY,B=(M.deltaY+U*350)/m,V=b-B,ee=r.reduce((J,Z)=>Math.abs(Z-V)<Math.abs(J-V)?Z:J);j({breakpoint:ee,breakpointOffset:g,canDismiss:x,animated:!0})},j=M=>{const{breakpoint:U,canDismiss:B,breakpointOffset:V,animated:ee}=M,J=B&&U===0,Z=J?b:U,pe=Z!==0;return b=0,k&&E&&(k.keyframes([{offset:0,transform:"translateY(".concat(V*100,"%)")},{offset:1,transform:"translateY(".concat((1-Z)*100,"%)")}]),E.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(r2(1-V,s),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(r2(Z,s),")")}]),T&&T.keyframes([{offset:0,maxHeight:"".concat((1-V)*100,"%")},{offset:1,maxHeight:"".concat(Z*100,"%")}]),o.progressStep(0)),H.enable(!1),!a&&pe&&N("cloned"),J?O6(t,o):pe||c(),f&&(Z===r[r.length-1]||!a)&&(f.scrollY=!0),new Promise(ve=>{o.onFinish(()=>{pe?k&&E?Xn(()=>{k.keyframes([...p.WRAPPER_KEYFRAMES]),E.keyframes([...p.BACKDROP_KEYFRAMES]),T==null||T.keyframes([...p.CONTENT_KEYFRAMES]),o.progressStart(!0,1-Z),b=Z,u(b),b>s?_():z(),H.enable(!0),ve()}):(H.enable(!0),ve()):ve()},{oneTimeCallback:!0}).progressEnd(1,0,ee?500:0)})},H=Uf({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:O,onStart:I,onMove:L,onEnd:F});return{gesture:H,moveSheetToBreakpoint:j}},ZZ=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',JZ=ZZ,QZ=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',eJ=QZ,tJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=he(this,"ionModalDidPresent",7),this.willPresent=he(this,"ionModalWillPresent",7),this.willDismiss=he(this,"ionModalWillDismiss",7),this.didDismiss=he(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=he(this,"ionBreakpointDidChange",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.ionMount=he(this,"ionMount",7),this.lockController=du(),this.triggerController=Gf(),this.coreDelegate=BC(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,Er)},this.onLifecycle=e=>{const n=this.usersElement,i=nJ[e.type];if(n&&i){const s=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(s)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,i)=>n-i))}connectedCallback(){const{el:e}=this;hh(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:n,initialBreakpoint:i,el:s,htmlAttributes:o}=this,r=this.isSheetModal=n!==void 0&&i!==void 0,a=["aria-label","role"];this.inheritedAttributes=Nr(s,a),o!==void 0&&a.forEach(l=>{o[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:o[l]}),delete o[l])}),r&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&i!==void 0&&!n.includes(i)&&Vt("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||ph(this.el)}componentDidLoad(){this.isOpen===!0&&Xn(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,s=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:s}}async checkCanDismiss(e,n){const{canDismiss:i}=this;return typeof i=="function"?i(e,n):i}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:n,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:s,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Vf(o,i,this.component,["ion-page"],this.componentProps,s),tf(i)?await nf(this.usersElement):this.keepContentsMounted||await FR(),cs(()=>this.el.classList.add("show-modal"));const r=n!==void 0;r&&Se(this)==="ios"&&(this.statusBarStyle=await tE.getStyle(),D6()),await fh(this,"modalEnter",xA,qZ,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Xn(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener($0,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():r&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(Se(this)!=="ios")return;const{el:n}=this,i=this.leaveAnimation||Ke.get("modalLeave",yA),s=this.animation=i(n,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!C0(n)){T0(n);return}const r=(e=this.statusBarStyle)!==null&&e!==void 0?e:Ud.Default;this.gesture=VZ(n,s,r,()=>{this.gestureAnimationDismissing=!0,a2(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,ia),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:i}=this;if(!e||n===void 0)return;const s=this.enterAnimation||Ke.get("modalEnter",xA),o=this.animation=s(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:i,expandToScroll:this.expandToScroll});o.progressStart(!0,1);const{gesture:r,moveSheetToBreakpoint:a}=YZ(this.el,this.backdropEl,e,n,i,o,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=r,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,ia),this.gestureAnimationDismissing=!1})}async dismiss(e,n){var i;if(this.gestureAnimationDismissing&&n!==ia)return!1;const s=await this.lockController.lock();if(n!=="handler"&&!await this.checkCanDismiss(e,n))return s(),!1;const{presentingElement:o}=this;o!==void 0&&Se(this)==="ios"&&a2(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener($0,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const a=await mh(this,e,n,"modalLeave",yA,XZ,{presentingEl:o,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(a){const{delegate:l}=this.getDelegate();await PC(l,this.usersElement),cs(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,s(),a}onDidDismiss(){return vo(this.el,"ionModalDidDismiss")}onWillDismiss(){return vo(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){Vt("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){Vt("[ion-modal] - Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:i,canDismiss:s,breakpoints:o,animated:r}=this;n!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-n,canDismiss:s!==void 0&&s!==!0&&o[0]===0,animated:r}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;const i=e.filter(a=>a!==0),o=(i.indexOf(n)+1)%i.length,r=i[o];return await this.setCurrentBreakpoint(r),!0}render(){const{handle:e,isSheetModal:n,presentingElement:i,htmlAttributes:s,handleBehavior:o,inheritedAttributes:r,focusTrap:a,expandToScroll:l}=this,c=e!==!1&&n,u=Se(this),d=i!==void 0&&u==="ios",h=o==="cycle";return D(Ve,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[u]:!0,"modal-default":!d&&!n,"modal-card":d,"modal-sheet":n,"modal-no-expand-scroll":n&&!l,"overlay-hidden":!0,[sf]:a===!1},Di(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),D("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:p=>this.backdropEl=p,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&D("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),D("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},r,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:p=>this.wrapperEl=p}),c&&D("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),D("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:JZ,md:eJ}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),nJ={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function z6(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,tJ);break;case"ion-backdrop":customElements.get(e)||uu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iJ=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",sJ=iJ,oJ=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",rJ=oJ,aJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=he(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=Se(this),n=this.getSize();return D(Ve,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:zt(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},D("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},D("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:sJ,md:rJ}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function nE(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,aJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lJ=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",cJ=lJ,uJ=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",dJ=uJ,hJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),s=i.find(o=>o.slot==="end")||i.find(o=>o.slot==="primary")||i.find(o=>o.slot==="secondary");s&&s.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,s={},o=this.childrenStyles.get(n)||{};let r=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==o[l]&&(r=!0),c&&(s[l]=!0)}),r&&(this.childrenStyles.set(n,s),vi(this))}render(){const e=Se(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),D(Ve,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),zt(this.color,{[e]:!0,"in-toolbar":un("ion-toolbar",this.el)}))},D("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),D("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},D("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),D("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),D("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},D("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),D("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),D("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:cJ,md:dJ}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function iE(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,hJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pJ=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",fJ=pJ,mJ='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',gJ=mJ,bJ=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",xJ=bJ,yJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(o=>o.checked).map(o=>o.value);const s=e?this.findOptionFromEvent(e):null;return s?s.value:void 0}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&Ic(n.handler,i)}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(n=>n.checked).map(n=>n.value)[0];return D("ion-radio-group",{value:e,onIonChange:n=>this.callOptionHandler(n)},this.options.map(n=>D("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":n.value===e},Di(n.cssClass))},D("ion-radio",{value:n.value,disabled:n.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:i=>{i.key===" "&&this.closeModal()}},n.text))))}renderCheckboxOptions(){return this.options.map(e=>D("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},Di(e.cssClass))},D("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:n=>{this.setChecked(n),this.callOptionHandler(n),vi(this)}},e.text)))}render(){return D(Ve,{key:"885198a9f21884e3bfb9bf0af53e0ee3ae37b231",class:Se(this)},D("ion-header",{key:"d8b63726869747ac711e4fda78a50ce46f72970c"},D("ion-toolbar",{key:"9ab2a4c1480dd74eeae38d7b580a2e87fb71270e"},this.header!==void 0&&D("ion-title",{key:"87a7034385ef57f55cefdd0371dbb66a64827290"},this.header),D("ion-buttons",{key:"0a35424ea13ca002abc9a43b6138730254f187d0",slot:"end"},D("ion-button",{key:"238bf40b47128d9aa995d14d9ff9ebcae4f79492",onClick:()=>this.closeModal()},"Close")))),D("ion-content",{key:"4a256f3381f8cabbc7194337b8ae4aa1c3ab1066"},D("ion-list",{key:"acd38fc52024632176467ed6a84106a454021544"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:fJ,ios:gJ,md:xJ}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function vJ(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,yJ);break;case"ion-button":customElements.get(e)||VC();break;case"ion-buttons":customElements.get(e)||MC();break;case"ion-checkbox":customElements.get(e)||jC();break;case"ion-content":customElements.get(e)||UC();break;case"ion-header":customElements.get(e)||WC();break;case"ion-icon":customElements.get(e)||Co();break;case"ion-item":customElements.get(e)||YC();break;case"ion-list":customElements.get(e)||Fx();break;case"ion-radio":customElements.get(e)||KC();break;case"ion-radio-group":customElements.get(e)||XC();break;case"ion-ripple-effect":customElements.get(e)||Eo();break;case"ion-title":customElements.get(e)||nE();break;case"ion-toolbar":customElements.get(e)||iE();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wJ=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",kJ=wJ,SJ=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",CJ=SJ,EJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&Ic(n.handler,i)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(o=>o.checked).map(o=>o.value);const s=this.findOptionFromEvent(e);return s?s.value:void 0}renderOptions(e){const{multiple:n}=this;switch(n){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(n=>D("ion-item",{class:Object.assign({"item-checkbox-checked":n.checked},Di(n.cssClass))},D("ion-checkbox",{value:n.value,disabled:n.disabled,checked:n.checked,justify:"start",labelPlacement:"end",onIonChange:i=>{this.setChecked(i),this.callOptionHandler(i),vi(this)}},n.text)))}renderRadioOptions(e){const n=e.filter(i=>i.checked).map(i=>i.value)[0];return D("ion-radio-group",{value:n,onIonChange:i=>this.callOptionHandler(i)},e.map(i=>D("ion-item",{class:Object.assign({"item-radio-checked":i.value===n},Di(i.cssClass))},D("ion-radio",{value:i.value,disabled:i.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:s=>{s.key===" "&&this.dismissParentPopover()}},i.text))))}render(){const{header:e,message:n,options:i,subHeader:s}=this,o=s!==void 0||n!==void 0;return D(Ve,{key:"542367ab8fb72bfebf7e65630b91017d68827fd6",class:Se(this)},D("ion-list",{key:"f2f0f37e1365cd7780b02de1a1698700d0df48a7"},e!==void 0&&D("ion-list-header",{key:"4b8800a68e800f19277a44b7074ca24b70218daf"},e),o&&D("ion-item",{key:"932b7903daf97d5a57d289b7ee49e868bb9b0cf5"},D("ion-label",{key:"fc3f1b69aa2a0bc6125d35692dcad3a8a99fd160",class:"ion-text-wrap"},s!==void 0&&D("h3",{key:"eceab2f47afa95f04b138342b0bdbfa1f50919a8"},s),n!==void 0&&D("p",{key:"70f4e27ad1316318efd0c17efce31e5e45c8fa02"},n))),this.renderOptions(i)))}get el(){return this}static get style(){return{ios:kJ,md:CJ}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function TJ(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,EJ);break;case"ion-checkbox":customElements.get(e)||jC();break;case"ion-icon":customElements.get(e)||Co();break;case"ion-item":customElements.get(e)||YC();break;case"ion-label":customElements.get(e)||qC();break;case"ion-list":customElements.get(e)||Fx();break;case"ion-list-header":customElements.get(e)||v6();break;case"ion-radio":customElements.get(e)||KC();break;case"ion-radio-group":customElements.get(e)||XC();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IJ=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",$J=IJ,_J=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.select-expanded.select-fill-solid.ion-valid),:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.has-focus){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.in-item.select-expanded.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-solid) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.has-focus){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host(.in-item.select-expanded.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-outline) .select-wrapper .select-icon{color:var(--highlight-color)}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.has-focus) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.has-focus) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.has-focus) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.in-item.select-expanded) .select-wrapper .select-icon,:host(.in-item.has-focus) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid) .select-wrapper .select-icon{color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.has-focus) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",AJ=_J,NJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=he(this,"ionChange",7),this.ionCancel=he(this,"ionCancel",7),this.ionDismiss=he(this,"ionDismiss",7),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.ionStyle=he(this,"ionStyle",7),this.inputId="ion-sel-".concat(RJ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.onClick=e=>{const n=e.target,i=n.closest('[slot="start"], [slot="end"]');n===this.el||i===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.hasFocus=!0,this.ionFocus.emit()},this.onBlur=()=>{this.hasFocus=!1,this.ionBlur.emit()},this.isExpanded=!1,this.hasFocus=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.errorText=void 0,this.helperText=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0,this.required=!1}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=GC(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=_X(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),vi(this)})}componentWillLoad(){this.inheritedAttributes=Nr(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const n=this.overlay=await this.createOverlay(e),i=()=>{const s=this.childOpts.findIndex(o=>o.value===this.value);if(s>-1){const o=n.querySelector(".select-interface-option:nth-child(".concat(s+1,")"));if(o){const r=o.querySelector("ion-radio, ion-checkbox");r&&(o.scrollIntoView({block:"nearest"}),r.setFocus()),x0(o)}}else{const o=n.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");o&&(o.setFocus(),x0(o.closest("ion-item")))}};if(this.interface==="modal")n.addEventListener("ionModalWillPresent",i,{once:!0});else if(this.interface==="popover")n.addEventListener("ionPopoverWillPresent",i,{once:!0});else{const s=()=>{requestAnimationFrame(()=>{i()})};this.interface==="alert"?n.addEventListener("ionAlertWillPresent",s,{once:!0}):this.interface==="action-sheet"&&n.addEventListener("ionActionSheetWillPresent",s,{once:!0})}return n.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await n.present(),n}createOverlay(e){let n=this.interface;return n==="action-sheet"&&this.multiple&&(Vt('[ion-select] - Interface cannot be "'.concat(n,'" with a multi-value select. Using the "alert" interface instead.')),n="alert"),n==="popover"&&!e&&(Vt('[ion-select] - Interface cannot be a "'.concat(n,'" without passing an event. Using the "alert" interface instead.')),n="alert"),n==="action-sheet"?this.openActionSheet():n==="popover"?this.openPopover(e):n==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const n=this.childOpts,i=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(n,i);break;case"popover":const s=e.querySelector("ion-select-popover");s&&(s.options=this.createOverlaySelectOptions(n,i));break;case"modal":const o=e.querySelector("ion-select-modal");o&&(o.options=this.createOverlaySelectOptions(n,i));break;case"alert":const r=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(n,r,i);break}}createActionSheetButtons(e,n){const i=e.map(s=>{const o=Ab(s),r=Array.from(s.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(uw," ").concat(r);return{role:_b(n,o,this.compareWith)?"selected":"",text:s.textContent,cssClass:a,handler:()=>{this.setValue(o)}}});return i.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),i}createAlertInputs(e,n,i){return e.map(o=>{const r=Ab(o),a=Array.from(o.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(uw," ").concat(a);return{type:n,cssClass:l,label:o.textContent||"",value:r,checked:_b(i,r,this.compareWith),disabled:o.disabled}})}createOverlaySelectOptions(e,n){return e.map(s=>{const o=Ab(s),r=Array.from(s.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(uw," ").concat(r);return{text:s.textContent||"",cssClass:a,value:o,checked:_b(n,o,this.compareWith),disabled:s.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:n,labelPlacement:i}=this,s=this.interfaceOptions,o=Se(this),r=o!=="md",a=this.multiple,l=this.value;let c=e,u="auto";i==="floating"||i==="stacked"||o==="md"&&n!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:o,event:c,alignment:"center",size:u,showBackdrop:r},s),{component:"ion-select-popover",cssClass:["select-popover",s.cssClass],componentProps:{header:s.header,subHeader:s.subHeader,message:s.message,multiple:a,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return MW.create(h)}async openActionSheet(){const e=Se(this),n=this.interfaceOptions,i=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]});return PW.create(i)}async openAlert(){const e=this.interfaceOptions,n=this.multiple?"checkbox":"radio",i=Se(this),s=Object.assign(Object.assign({mode:i},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,n,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:o=>{this.setValue(o)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return FW.create(s)}openModal(){const{multiple:e,value:n,interfaceOptions:i}=this,s=Se(this),o=Object.assign(Object.assign({},i),{mode:s,cssClass:["select-modal",i.cssClass],component:"ion-select-modal",componentProps:{header:i.header,multiple:e,value:n,options:this.createOverlaySelectOptions(this.childOpts,n)}});return BW.create(o)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:n}=this;if(n!==null)return n.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:OJ(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,n={"interactive-disabled":e};this.ionStyle.emit(n)}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Se(this)==="md"&&this.fill==="outline"?[D("div",{class:"select-outline-container"},D("div",{class:"select-outline-start"}),D("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),D("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,n=this.getText();let i=!1,s=n;return s===""&&e!==void 0&&(s=e,i=!0),D("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":i},part:i?"placeholder":"text"},s)}renderSelectIcon(){const e=Se(this),{isExpanded:n,toggleIcon:i,expandedIcon:s}=this;let o;if(n&&s!==void 0)o=s;else{const r=e==="ios"?nG:QW;o=i!=null?i:r}return D("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:o})}get ariaLabel(){var e;const{placeholder:n,inheritedAttributes:i}=this,s=this.getText(),o=(e=i["aria-label"])!==null&&e!==void 0?e:this.labelText;let r=s;return r===""&&n!==void 0&&(r=n),o!==void 0&&(r=r===""?o:"".concat(o,", ").concat(r)),r}renderListbox(){const{disabled:e,inputId:n,isExpanded:i,required:s}=this;return D("button",{disabled:e,id:n,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-required":"".concat(s),onFocus:this.onFocus,onBlur:this.onBlur,ref:o=>this.focusEl=o})}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;return[D("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:s,class:"error-text",part:"supporting-text error-text"},n)]}renderBottomContent(){const{helperText:e,errorText:n}=this;if(e||n)return D("div",{class:"select-bottom"},this.renderHintText())}render(){const{disabled:e,el:n,isExpanded:i,expandedIcon:s,labelPlacement:o,justify:r,placeholder:a,fill:l,shape:c,name:u,value:d,hasFocus:h}=this,p=Se(this),f=o==="floating"||o==="stacked",m=!f&&r!==void 0,b=sa(n)?"rtl":"ltr",g=un("ion-item",this.el),x=p==="md"&&l!=="outline"&&!g,y=this.hasValue(),v=n.querySelector('[slot="start"], [slot="end"]')!==null;jf(!0,n,u,DJ(d),e);const w=o==="stacked"||o==="floating"&&(y||i||v);return D(Ve,{key:"e6c0498d6c275f89344f4b5146752a047058ad88",onClick:this.onClick,class:zt(this.color,{[p]:!0,"in-item":g,"in-item-color":un("ion-item.ion-color",n),"select-disabled":e,"select-expanded":i,"has-expanded-icon":s!==void 0,"has-value":y,"label-floating":w,"has-placeholder":a!==void 0,"has-focus":h,"ion-focusable":!0,["select-".concat(b)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(r)]:m,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(o)]:!0})},D("label",{key:"f030b6bd329f8014c7227f5e5f1aeb7efa0e641a",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),D("div",{key:"7480e1b40d09e53a2942295d6c9dae474c9de810",class:"select-wrapper-inner"},D("slot",{key:"250fd2ff08b3e6ed04c7062455a044863481fe1c",name:"start"}),D("div",{key:"11b73ad5b7decfe2d307f9d54293c21c0df3ddb8",class:"native-wrapper",ref:C=>this.nativeWrapperEl=C,part:"container"},this.renderSelectText(),this.renderListbox()),D("slot",{key:"ddedafc89061372567bd46354ef972f08c60e19d",name:"end"}),!f&&this.renderSelectIcon()),f&&this.renderSelectIcon(),x&&D("div",{key:"792ce27aea18a0020c17dceb0f0e293171ded3a3",class:"select-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:$J,md:AJ}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],errorText:[1,"error-text"],helperText:[1,"helper-text"],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],required:[4],isExpanded:[32],hasFocus:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),Ab=t=>{const e=t.value;return e===void 0?t.textContent||"":e},DJ=t=>{if(t!=null)return Array.isArray(t)?t.join(","):t.toString()},OJ=(t,e,n)=>e===void 0?"":Array.isArray(e)?e.map(i=>vA(t,i,n)).filter(i=>i!==null).join(", "):vA(t,e,n)||"",vA=(t,e,n)=>{const i=t.find(s=>o2(e,Ab(s),n));return i?i.textContent:null};let RJ=0;const uw="select-interface-option";function LJ(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,NJ);break;case"ion-action-sheet":customElements.get(e)||E6();break;case"ion-alert":customElements.get(e)||T6();break;case"ion-backdrop":customElements.get(e)||uu();break;case"ion-button":customElements.get(e)||VC();break;case"ion-buttons":customElements.get(e)||MC();break;case"ion-checkbox":customElements.get(e)||jC();break;case"ion-content":customElements.get(e)||UC();break;case"ion-header":customElements.get(e)||WC();break;case"ion-icon":customElements.get(e)||Co();break;case"ion-item":customElements.get(e)||YC();break;case"ion-label":customElements.get(e)||qC();break;case"ion-list":customElements.get(e)||Fx();break;case"ion-list-header":customElements.get(e)||v6();break;case"ion-modal":customElements.get(e)||z6();break;case"ion-popover":customElements.get(e)||AK();break;case"ion-radio":customElements.get(e)||KC();break;case"ion-radio-group":customElements.get(e)||XC();break;case"ion-ripple-effect":customElements.get(e)||Eo();break;case"ion-select-modal":customElements.get(e)||vJ();break;case"ion-select-popover":customElements.get(e)||TJ();break;case"ion-title":customElements.get(e)||nE();break;case"ion-toolbar":customElements.get(e)||iE();break}})}const zJ=LJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FJ=":host{display:none}",PJ=FJ,BJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat(MJ++),this.disabled=!1,this.value=void 0}render(){return D(Ve,{key:"8c96c199ce3a3065de3fe446500f567236e0610a",role:"option",id:this.inputId,class:Se(this)})}get el(){return this}static get style(){return PJ}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let MJ=0;function jJ(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,BJ);break}})}const UJ=jJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VJ=b6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HJ=":host(.tab-hidden){display:none !important}",WJ=HJ,GJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return Vf(this.delegate,this.el,this.component,["ion-page"])}catch(e){yo("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:i}=this;return D(Ve,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":i===void 0,"tab-hidden":!n}},D("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return WJ}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function qJ(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,GJ);break}})}const KJ=qJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XJ=":host(.ion-color){color:var(--ion-color-base)}",YJ=XJ,ZJ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Se(this);return D(Ve,{key:"0c2546ea3f24b0a6bfd606199441d0a4edfa4ca1",class:zt(this.color,{[e]:!0})},D("slot",{key:"b7623ccb06f9461090a1f33e9f85886c7a4d5eff"}))}static get style(){return YJ}},[1,"ion-text",{color:[513]}]);function JJ(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,ZJ);break}})}const QJ=JJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eQ='.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',tQ=eQ,nQ='.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}',iQ=nQ,sQ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.ionChange=he(this,"ionChange",7),this.ionInput=he(this,"ionInput",7),this.ionBlur=he(this,"ionBlur",7),this.ionFocus=he(this,"ionFocus",7),this.inputId="ion-textarea-".concat(oQ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:Nx(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n),this.runAutoGrow()}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),vi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}connectedCallback(){const{el:e}=this;this.slotMutationController=x6(e,["label","start","end"],()=>vi(this)),this.notchController=GC(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},er(this.el)),Nr(this.el,["data-form-type","title","tabindex","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ko(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&cs(()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=(e=this.value)!==null&&e!==void 0?e:"")})}checkClearOnEdit(e){if(!this.clearOnEdit)return;const i=["Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didTextareaClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didTextareaClearOnEdit=!0)}hasValue(){return this.getValue()!==""}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return D("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?D("slot",{name:"label"}):D("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Se(this)==="md"&&this.fill==="outline"?[D("div",{class:"textarea-outline-container"},D("div",{class:"textarea-outline-start"}),D("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},D("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),D("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;return[D("div",{id:i,class:"helper-text"},e),D("div",{id:s,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:s}=this;if(!(e!==!0||n===void 0))return D("div",{class:"counter"},y6(s,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:s}=this;if(!(!(n||i)&&!(e===!0&&s!==void 0)))return D("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:n,fill:i,shape:s,labelPlacement:o,el:r,hasFocus:a}=this,l=Se(this),c=this.getValue(),u=un("ion-item",this.el),d=l==="md"&&i!=="outline"&&!u,h=this.hasValue(),p=r.querySelector('[slot="start"], [slot="end"]')!==null,f=o==="stacked"||o==="floating"&&(h||a||p);return D(Ve,{key:"f53b9060248d885b0b8639401871e52017e497db",class:zt(this.color,{[l]:!0,"has-value":h,"has-focus":a,"label-floating":f,["textarea-fill-".concat(i)]:i!==void 0,["textarea-shape-".concat(s)]:s!==void 0,["textarea-label-placement-".concat(o)]:!0,"textarea-disabled":n})},D("label",{key:"3bc32a0799d1dd7253eb5a963877964de620ccd0",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),D("div",{key:"f5302723f4561b179b249cb28f5a31223c5c4394",class:"textarea-wrapper-inner"},D("div",{key:"75b85c5bd85af72a41da3310f10877a654397eaf",class:"start-slot-wrapper"},D("slot",{key:"7adc67b4c2917d20c35eecc11a5530e93bc581ea",name:"start"})),D("div",{key:"35cbeca046ec7a40bcbcbc4a70eb83628350ba54",class:"native-wrapper",ref:m=>this.textareaWrapper=m},D("textarea",Object.assign({key:"e3496262d163b70558a0188abdf322cbd8b44dfd",class:"native-textarea",ref:m=>this.nativeInput=m,id:e,disabled:n,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),c)),D("div",{key:"f274576d2e0bb6dace2ec36c362cb68ecfcd2c69",class:"end-slot-wrapper"},D("slot",{key:"70c881103410e74b3a3ffda4cc889be66f89bf20",name:"end"}))),d&&D("div",{key:"cf33a473dfb637d284acc2b62ca59c2839ee1104",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:tQ,md:iQ}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}]);let oQ=0;function rQ(){if(typeof customElements>"u")return;["ion-textarea"].forEach(e=>{switch(e){case"ion-textarea":customElements.get(e)||customElements.define(e,sQ);break}})}const aQ=rQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lQ=":host{--size:48px;--border-radius:0;border-radius:var(--border-radius);display:block;width:var(--size);height:var(--size)}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}",cQ=lQ,uQ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return D(Ve,{key:"7f5fd6c056da2d82feb2c3c33f3e6dec898787f5",class:Se(this)},D("slot",{key:"d15fd2b6cdc03777edc1930be95ad838e1b376c8"}))}static get style(){return cQ}},[1,"ion-thumbnail"]);function dQ(){if(typeof customElements>"u")return;["ion-thumbnail"].forEach(e=>{switch(e){case"ion-thumbnail":customElements.get(e)||customElements.define(e,uQ);break}})}const hQ=dQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pQ=nE,fQ=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--track-background-checked:var(--ion-color-primary, #0054e9);--border-radius:15.5px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 4px rgba(0, 0, 0, 0.06), 0 3px 8px rgba(0, 0, 0, 0.06);--handle-height:calc(31px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(31px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms}.native-wrapper .toggle-icon{width:51px;height:31px;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark, #222428)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}",mQ=fQ,gQ=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--track-background-checked:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #0054e9);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1)}.native-wrapper .toggle-icon{width:36px;height:14px}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}:host(.toggle-disabled){opacity:0.38}",bQ=gQ,xQ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=he(this,"ionChange",7),this.ionFocus=he(this,"ionFocus",7),this.ionBlur=he(this,"ionBlur",7),this.inputId="ion-tg-".concat(vQ++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.lastDrag=0,this.inheritedAttributes={},this.didLoad=!1,this.setupGesture=async()=>{const{toggleTrack:e}=this;e&&(this.gesture=(await Mn(()=>Promise.resolve().then(()=>OC),void 0)).createGesture({el:e,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.disabledChanged())},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked())},this.onClick=e=>{this.disabled||(e.preventDefault(),this.lastDrag+300<Date.now()&&this.toggleChecked())},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.getSwitchLabelIcon=(e,n)=>e==="md"?n?eG:Z_:n?Z_:iG,this.activated=!1,this.color=void 0,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.enableOnOffLabels=Ke.get("toggleOnOffLabels"),this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}toggleChecked(){const{checked:e,value:n}=this,i=!e;this.checked=i,this.setFocus(),this.ionChange.emit({checked:i,value:n})}async connectedCallback(){this.didLoad&&this.setupGesture()}componentDidLoad(){this.setupGesture(),this.didLoad=!0}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign({},er(this.el))}onStart(){this.activated=!0,this.setFocus()}onMove(e){yQ(sa(this.el),this.checked,e.deltaX,-10)&&(this.toggleChecked(),eK())}onEnd(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.focusEl&&this.focusEl.focus()}renderOnOffSwitchLabels(e,n){const i=this.getSwitchLabelIcon(e,n);return D("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":n},icon:i,"aria-hidden":"true"})}renderToggleControl(){const e=Se(this),{enableOnOffLabels:n,checked:i}=this;return D("div",{class:"toggle-icon",part:"track",ref:s=>this.toggleTrack=s},n&&e==="ios"&&[this.renderOnOffSwitchLabels(e,!0),this.renderOnOffSwitchLabels(e,!1)],D("div",{class:"toggle-icon-wrapper"},D("div",{class:"toggle-inner",part:"handle"},n&&e==="md"&&this.renderOnOffSwitchLabels(e,i))))}get hasLabel(){return this.el.textContent!==""}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:s,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return s}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:s}=this;if(e||n)return D("div",{class:"toggle-bottom"},D("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),D("div",{id:s,class:"error-text",part:"supporting-text error-text"},n))}render(){const{activated:e,alignment:n,checked:i,color:s,disabled:o,el:r,errorTextId:a,hasLabel:l,inheritedAttributes:c,inputId:u,inputLabelId:d,justify:h,labelPlacement:p,name:f,required:m}=this,b=Se(this),g=this.getValue(),x=sa(r)?"rtl":"ltr";return jf(!0,r,f,i?g:"",o),D(Ve,{key:"63c67d52dc47661c5758049f6278e873ab867a22",role:"switch","aria-checked":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===a,onClick:this.onClick,"aria-labelledby":l?d:null,"aria-label":c["aria-label"]||null,"aria-disabled":o?"true":null,tabindex:o?void 0:0,onKeyDown:this.onKeyDown,class:zt(s,{[b]:!0,"in-item":un("ion-item",r),"toggle-activated":e,"toggle-checked":i,"toggle-disabled":o,["toggle-justify-".concat(h)]:h!==void 0,["toggle-alignment-".concat(n)]:n!==void 0,["toggle-label-placement-".concat(p)]:!0,["toggle-".concat(x)]:!0})},D("label",{key:"723cfac071ee5ec5c75984fc64762209452e9eea",class:"toggle-wrapper",htmlFor:u},D("input",Object.assign({key:"8fa79f49348afbce5e083d454b751f7f9cc04d3f",type:"checkbox",role:"switch","aria-checked":"".concat(i),checked:i,disabled:o,id:u,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:y=>this.focusEl=y,required:m},c)),D("div",{key:"00a4415539ef677be9f6981afddcec61f7fe9487",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!l},part:"label",id:d},D("slot",{key:"7ce338bd5116337c9ea90805fdee7285ef7c5811"}),this.renderHintText()),D("div",{key:"ecb5dfd2c7b534e357cba272dd4f189728555b3a",class:"native-wrapper"},this.renderToggleControl())))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:mQ,md:bQ}}},[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],activated:[32]},void 0,{disabled:["disabledChanged"]}]),yQ=(t,e,n,i)=>e?!t&&i>n||t&&10<n:!t&&10<n||t&&i>n;let vQ=0;function wQ(){if(typeof customElements>"u")return;["ion-toggle","ion-icon"].forEach(e=>{switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,xQ);break;case"ion-icon":customElements.get(e)||Co();break}})}const kQ=wQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SQ=iE;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CQ=o6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EQ=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",TQ=EQ,IQ=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",$Q=IQ,_Q=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=Nr(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const n=this.isClickable();if(!n)return[D("slot",null)];const{href:i,routerAnimation:s,routerDirection:o,inheritedAriaAttributes:r}=this,a=n?i===void 0?"button":"a":"div",l=a==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return D(a,Object.assign({},l,r,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>Ox(i,c,o,s)}),D("slot",null),n&&e==="md"&&D("ion-ripple-effect",null))}render(){const e=Se(this);return D(Ve,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:zt(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:TQ,md:$Q}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),AQ=_Q;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NQ=I6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DQ=T6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OQ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},RQ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},LQ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},zQ=t=>{const e=Ee(),n=Ee(),i=Ee();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},FQ=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",PQ=FQ,BQ=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",MQ=BQ,jQ=Ue(class extends je{constructor(){super(),this.__registerHost(),this.didPresent=he(this,"ionLoadingDidPresent",7),this.willPresent=he(this,"ionLoadingWillPresent",7),this.willDismiss=he(this,"ionLoadingWillDismiss",7),this.didDismiss=he(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.delegateController=Lx(this),this.lockController=du(),this.triggerController=Gf(),this.customHTMLEnabled=Ke.get("innerHTMLTemplatesEnabled",zC),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Er)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){hh(this.el),this.triggerChanged()}componentWillLoad(){var e;if(this.spinner===void 0){const n=Se(this);this.spinner=Ke.get("loadingSpinner",Ke.get("spinner",n==="ios"?"lines":"crescent"))}!((e=this.htmlAttributes)===null||e===void 0)&&e.id||ph(this.el)}componentDidLoad(){this.isOpen===!0&&Xn(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await fh(this,"loadingEnter",OQ,LQ),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,n){const i=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const s=await mh(this,e,n,"loadingLeave",RQ,zQ);return s&&this.delegateController.removeViewFromDom(),i(),s}onDidDismiss(){return vo(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return vo(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?D("div",{class:"loading-content",id:e,innerHTML:LC(i)}):D("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:n,htmlAttributes:i,overlayIndex:s}=this,o=Se(this),r="loading-".concat(s,"-msg");return D(Ve,Object.assign({key:"d6066c8b56b1fe4b597a243a7dab191ef0d21286",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?r:null,tabindex:"-1"},i,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Di(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),D("ion-backdrop",{key:"2431eda00a2a3f510f5dfc39b7c7d47c056dfa3d",visible:this.showBackdrop,tappable:this.backdropDismiss}),D("div",{key:"cf210aaf5e754e4eccdb49cf7ead4647b3f9b2d1",tabindex:"0","aria-hidden":"true"}),D("div",{key:"fa9375143d391656d70e181d25b952c77c2fc6ec",class:"loading-wrapper ion-overlay-wrapper"},n&&D("div",{key:"8e4a4ed994f7f62df86b03696ac95162df41f52d",class:"loading-spinner"},D("ion-spinner",{key:"e5b323c272d365853ba92bd211e390b4fd4751d2",name:n,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(r)),D("div",{key:"cae35ec8c34800477bff3ebcec8010e632158233",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:PQ,md:MQ}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function UQ(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,jQ);break;case"ion-backdrop":customElements.get(e)||uu();break;case"ion-spinner":customElements.get(e)||b6();break}})}const VQ=UQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function HQ(t,e,n,i){let s;if(n==="md"?s=t==="top"?8:-8:s=t==="top"?10:-10,e&&_t){WQ(e,i);const o=e.getBoundingClientRect();return t==="top"?s+=o.bottom:t==="bottom"&&(s-=_t.innerHeight-o.top),{top:"".concat(s,"px"),bottom:"".concat(s,"px")}}else return{top:"calc(".concat(s,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(s,"px - var(--ion-safe-area-bottom, 0px))")}}function WQ(t,e){t.offsetParent===null&&Vt("[ion-toast] - The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const sE=(t,e)=>Math.floor(t/2-e/2),GQ=(t,e)=>{const n=Ee(),i=Ee(),{position:s,top:o,bottom:r}=e,l=gn(t).querySelector(".toast-wrapper");switch(i.addElement(l),s){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=sE(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(r,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},qQ=(t,e)=>{const n=Ee(),i=Ee(),{position:s,top:o,bottom:r}=e,l=gn(t).querySelector(".toast-wrapper");switch(i.addElement(l),s){case"top":i.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(r,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},KQ=(t,e)=>{const n=Ee(),i=Ee(),{position:s,top:o,bottom:r}=e,l=gn(t).querySelector(".toast-wrapper");switch(i.addElement(l),s){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),i.fromTo("opacity",.01,1);break;case"middle":const c=sE(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(r,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},XQ=t=>{const e=Ee(),n=Ee(),s=gn(t).querySelector(".toast-wrapper");return n.addElement(s).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},YQ=(t,e,n)=>{const i=gn(t).querySelector(".toast-wrapper"),s=t.clientHeight,o=i.getBoundingClientRect();let r=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=sE(s,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=Ee("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":r=s+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":r=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:r=s-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const p=g=>g*c/r,b=Uf({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:ZR,direction:"y",onMove:g=>{const x=l+p(g.deltaY);h.progressStep(x)},onEnd:g=>{const x=g.velocityY,y=(g.deltaY+x*1e3)/r*c;b.enable(!1);let v=!0,w=1,C=0,k=0;if(t.position==="middle"){v=y>=a/2||y<=-.5/2,w=1,C=0;const T=i.getBoundingClientRect(),_=T.top-u,z="".concat(_,"px"),N=g.deltaY<=0?-1:1,O=(u+T.height)*N,I=v?"".concat(O,"px"):"0px",L=[{offset:0,transform:"translateY(".concat(z,")")},{offset:1,transform:"translateY(".concat(I,")")}];h.keyframes(L),k=O-_}else v=y>=a,w=v?1:0,C=p(g.deltaY),k=(v?1-C:C)*r;const E=Math.min(Math.abs(k)/Math.abs(x),200);h.onFinish(()=>{v?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(w,C,E)}});return b},ZQ=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",JQ=ZQ,QQ=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",eee=QQ,tee=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=he(this,"ionToastDidPresent",7),this.willPresent=he(this,"ionToastWillPresent",7),this.willDismiss=he(this,"ionToastWillDismiss",7),this.didDismiss=he(this,"ionToastDidDismiss",7),this.didPresentShorthand=he(this,"didPresent",7),this.willPresentShorthand=he(this,"willPresent",7),this.willDismissShorthand=he(this,"willDismiss",7),this.didDismissShorthand=he(this,"didDismiss",7),this.delegateController=Lx(this),this.lockController=du(),this.triggerController=Gf(),this.customHTMLEnabled=Ke.get("innerHTMLTemplatesEnabled",zC),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(Mc(n)){const i=this.getButtons().find(s=>s.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=YQ(this.el,e,()=>{this.dismiss(void 0,ia)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=Ke.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){hh(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||ph(this.el)}componentDidLoad(){this.isOpen===!0&&Xn(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,s=this.getAnchorElement(),o=HQ(i,s,Se(this),n);this.lastPresentedPosition=o,await fh(this,"toastEnter",GQ,KQ,{position:i,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,n){var i,s;const o=await this.lockController.lock(),{durationTimeout:r,position:a,lastPresentedPosition:l}=this;r&&clearTimeout(r);const c=await mh(this,e,n,"toastLeave",qQ,XQ,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(s=l==null?void 0:l.bottom)!==null&&s!==void 0?s:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return vo(this.el,"ionToastDidDismiss")}onWillDismiss(){return vo(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){Vt('[ion-toast] - The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const s=document.getElementById(n);if(s===null){Vt('[ion-toast] - An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return s}if(n instanceof je)return n;Vt("[ion-toast] - Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return Mc(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await Ic(e.handler)===!1)return!1}catch(n){yo("[ion-toast] - Exception in callButtonHandler:",n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=Se(this),s={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return D("div",{class:s},e.map(o=>D("button",Object.assign({},o.htmlAttributes,{type:"button",class:nee(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:iee(o)}),D("div",{class:"toast-button-inner"},o.icon&&D("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),i==="md"&&D("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:s}=this;return i?D("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:LC(s)}):D("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},s)}renderHeader(e,n=null){return D("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:s,message:o}=this,r=this.getButtons(),a=r.filter(d=>d.side==="start"),l=r.filter(d=>d.side!=="start"),c=Se(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&Vt("[ion-toast] - This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),D(Ve,Object.assign({key:"a2216d860255c99337464370dcb12f6125871a50",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:zt(this.color,Object.assign(Object.assign({[c]:!0},Di(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),D("div",{key:"d5adf8bc4c6c52431600033a76c4795689f9b412",class:u},D("div",{key:"ab694497ae37ceba123217eb48800129b9bebb84",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&D("ion-icon",{key:"224854fa3989ce0eb69416cb5b0cc55fc9f131ea",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),D("div",{key:"c8e11fb5bdac202987f5c8613a0ebbd42bda946e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&s!==void 0&&this.renderHeader("oldHeader","true"),!i&&o!==void 0&&this.renderToastMessage("oldMessage","true"),i&&s!==void 0&&this.renderHeader("header"),i&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:JQ,md:eee}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),nee=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),iee=t=>Mc(t.role)?"button cancel":"button";function see(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,tee);break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}const F6=see;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oee=E6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ree=z6,aee="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",lee=aee,cee=Ue(class extends je{constructor(){super(),this.__registerHost()}componentDidLoad(){dee(async()=>{const e=oo(window,"hybrid");if(Ke.getBoolean("_testing")||Mn(()=>import("./index9-CMxD2nKe.js"),[]).then(s=>s.startTapClick(Ke)),Ke.getBoolean("statusTap",e)&&Mn(()=>import("./status-tap-BY2e1c8Q.js"),[]).then(s=>s.startStatusTap()),Ke.getBoolean("inputShims",uee())){const s=oo(window,"ios")?"ios":"android";Mn(()=>import("./input-shims-BVSiHu13.js"),[]).then(o=>o.startInputShims(Ke,s))}const n=await Mn(()=>Promise.resolve().then(()=>NW),void 0),i=e||Md();Ke.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(Md()&&Vt("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&Mn(()=>Promise.resolve().then(()=>UZ),void 0).then(s=>s.startKeyboardAssist(window)),Mn(()=>import("./focus-visible-supuXXMI.js"),[]).then(s=>this.focusVisible=s.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Se(this);return D(Ve,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Ke.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return lee}},[0,"ion-app",{setFocus:[64]}]),uee=()=>!!(oo(window,"ios")&&oo(window,"mobile")||oo(window,"android")&&oo(window,"mobileweb")),dee=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function hee(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,cee);break}})}const pee=hee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fee=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',mee=fee,gee=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',bee=gee,xee=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Ox(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=er(this.el),this.defaultHref===void 0&&(this.defaultHref=Ke.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:Se(this)==="ios"?Ke.get("backButtonIcon",tG):Ke.get("backButtonIcon",QR)}get backButtonText(){const e=Se(this)==="ios"?"Back":null;return this.text!=null?this.text:Ke.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:s,hasIconOnly:o,backButtonIcon:r,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=Se(this),h=c["aria-label"]||a||"back";return D(Ve,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:zt(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":un("ion-toolbar",this.el),"in-toolbar-color":un("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},D("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:s,disabled:i,class:"button-native",part:"native","aria-label":h},D("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},r&&D("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:r,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&D("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&D("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:mee,md:bee}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function yee(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,xee);break;case"ion-icon":customElements.get(e)||Co();break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}const vee=yee,wee=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",kee=wee,See=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=he(this,"ionNavWillLoad",7),this.ionNavWillChange=he(this,"ionNavWillChange",3),this.ionNavDidChange=he(this,"ionNavDidChange",3),this.lockController=du(),this.gestureOrAnimationInProgress=!1,this.mode=Se(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Mn(()=>import("./swipe-back-Deb6-vKG.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,s)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=Pc([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Pc([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,o,s)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const s=await this.lockController.lock();let o=!1;try{o=await this.transition(e,n,i)}catch(r){yo("[ion-router-outlet] - Exception in commit:",r)}return s(),o}async setRouteId(e,n,i,s){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:s}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&_R(n,this.activeParams))return!1;const s=this.activeEl,o=await Vf(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,s,i),await PC(this.delegate,s),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:s,mode:o}=this,r=this.animated&&Ke.getBoolean("animated",!0),a=i.animationBuilder||this.animation||Ke.get("navAnimation");return await OR(Object.assign(Object.assign({mode:o,animated:r,enteringEl:e,leavingEl:n,baseEl:s,deepWait:tf(s),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return D("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return kee}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function Cee(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,See);break}})}const Eee=Cee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tee=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Iee=Tee,$ee=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",_ee=$ee,Aee=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=he(this,"ionTabBarChanged",7),this.ionTabBarLoaded=he(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await g6(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,s=Se(this),o=i&&this.el.getAttribute("slot")!=="top";return D(Ve,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":o?"true":null,class:zt(e,{[s]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},D("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Iee,md:_ee}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function Nee(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,Aee);break}})}const Dee=Nee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oee=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',Ree=Oee,Lee=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',zee=Lee,Fee=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=he(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Nr(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Ke.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:s,rel:o,target:r,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=Se(this),h={download:this.download,href:s,rel:o,target:r};return D(Ve,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},D("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),D("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},D("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),d==="md"&&D("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:Ree,md:zee}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function Pee(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Fee);break;case"ion-ripple-effect":customElements.get(e)||Eo();break}})}const Bee=Pee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mee=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",jee=Mee,Uee=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=he(this,"ionNavWillLoad",7),this.ionTabsWillChange=he(this,"ionTabsWillChange",3),this.ionTabsDidChange=he(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:i}=e.detail;if(this.useRouter&&n!==void 0){const s=document.querySelector("ion-router");s&&s.push(n)}else this.select(i)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=dw(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return dw(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=dw(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return D(Ve,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},D("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),D("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},D("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),D("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return jee}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),dw=(t,e)=>{const n=typeof e=="string"?t.find(i=>i.tab===e):e;return n||yo('[ion-tabs] - Tab with id: "'.concat(n,'" does not exist')),n};function Vee(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,Uee);break}})}const Hee=Vee;let hw;const Wee=()=>{if(typeof window>"u")return new Map;if(!hw){const t=window;t.Ionicons=t.Ionicons||{},hw=t.Ionicons.map=t.Ionicons.map||new Map}return hw},Gee=t=>{let e=pw(t.src);return e||(e=P6(t.name,t.icon,t.mode,t.ios,t.md),e?qee(e,t):t.icon&&(e=pw(t.icon),e||(e=pw(t.icon[t.mode]),e))?e:null)},qee=(t,e)=>{const n=Wee().get(t);if(n)return n;try{return fR("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},P6=(t,e,n,i,s)=>(n=(n&&Kg(n))==="ios"?"ios":"md",i&&n==="ios"?t=Kg(i):s&&n==="md"?t=Kg(s):(!t&&e&&!B6(e)&&(t=e),N0(t)&&(t=Kg(t))),!N0(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),pw=t=>N0(t)&&(t=t.trim(),B6(t))?t:null,B6=t=>t.length>0&&/(\/|\.)/.test(t),N0=t=>typeof t=="string",Kg=t=>t.toLowerCase(),Kee=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},Xee=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",Yee=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),M6(n))return e.innerHTML}return""},M6=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(N0(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!M6(t.childNodes[e]))return!1}return!0},Zee=t=>t.startsWith("data:image/svg+xml"),Jee=t=>t.indexOf(";utf8,")!==-1,fc=new Map,wA=new Map;let fw;const Qee=(t,e)=>{let n=wA.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(Zee(t)&&Jee(t)){fw||(fw=new DOMParser);const s=fw.parseFromString(t,"text/html").querySelector("svg");return s&&fc.set(t,s.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(s=>{s&&e!==!1&&(s=Yee(s)),fc.set(t,s||"")});fc.set(t,"")}),wA.set(t,n);else return fc.set(t,""),Promise.resolve();return n},ete=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",tte=Ue(class extends je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=nte(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Kee(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const s=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(s.disconnect(),this.io=void 0,i())},{rootMargin:n});s.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=Gee(this);e&&(fc.has(e)?this.svgContent=fc.get(e):Qee(e,this.sanitize).then(()=>this.svgContent=fc.get(e)),this.didLoadIcon=!0)}this.iconName=P6(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:s}=this,o=this.mode||"md",r=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||r;return D(Ve,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},ite(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&Xee(s)})},i),this.svgContent?D("div",{class:"icon-inner",innerHTML:this.svgContent}):D("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return ete}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),nte=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",ite=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function ste(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,tte);break}})}const ote=ste,Px=xe.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),rte=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},ate=(t,e=[])=>{const n=te.useContext(Px),i=te.useRef();i.current=i.current||Math.floor(Math.random()*1e6),te.useEffect(()=>(t.id=i.current,n.onIonViewWillEnter(t),()=>{n.cleanupIonViewWillEnter(t)}),e)},tr=xe.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),oE=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Bx=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),Mx=(t,e,n={})=>{if(t instanceof Element){const i=lte(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(s=>{if(!(s==="children"||s==="style"||s==="ref"||s==="class"||s==="className"||s==="forwardedRef"))if(s.indexOf("on")===0&&s[2]===s[2].toUpperCase()){const o=s.substring(2),r=o[0].toLowerCase()+o.substring(1);Kf(r)||ute(t,r,e[s])}else t[s]=e[s],typeof e[s]==="string"&&t.setAttribute(Bx(s),e[s])})}},lte=(t,e,n)=>{const i=e.className||e.class,s=n.className||n.class,o=mw(t),r=mw(i?i.split(" "):[]),a=mw(s?s.split(" "):[]),l=[];return o.forEach(c=>{r.has(c)?(l.push(c),r.delete(c)):a.has(c)||l.push(c)}),r.forEach(c=>l.push(c)),l.join(" ")},cte=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Kf=t=>{if(typeof document>"u")return!0;{const e="on"+cte(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},ute=(t,e,n)=>{const i=t.__events||(t.__events={}),s=i[e];s&&t.removeEventListener(e,s),t.addEventListener(e,i[e]=function(r){n&&n.call(this,r)})},mw=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},dte=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},jx=(...t)=>e=>{t.forEach(n=>{dte(n,e)})},hte=(t,e)=>{const n=(i,s)=>S.jsx(t,{...i,forwardedRef:s});return n.displayName=e,xe.forwardRef(n)},pte=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},it=(t,e,n,i)=>{i!==void 0&&i();const s=oE(t),o=class extends xe.Component{constructor(r){super(r),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){Mx(this.componentEl,this.props,r)}render(){const{children:r,forwardedRef:a,style:l,className:c,ref:u,...d}=this.props,p={...Object.keys(d).reduce((f,m)=>{const b=d[m];if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const g=m.substring(2).toLowerCase();typeof document<"u"&&Kf(g)&&(f[m]=b)}else{const g=typeof b;(g==="string"||g==="boolean"||g==="number")&&(f[Bx(m)]=b)}return f},{}),ref:jx(a,this.setComponentElRef),style:l};return te.createElement(t,p,r)}static get displayName(){return s}};return hte(o,s)},j6=it("ion-avatar",void 0,void 0,AG),D0=it("ion-badge",void 0,void 0,UG),Oi=it("ion-buttons",void 0,void 0,KG),Gi=it("ion-card-content",void 0,void 0,tq),rE=it("ion-card-header",void 0,void 0,lq),gw=it("ion-card-subtitle",void 0,void 0,mq),ud=it("ion-card-title",void 0,void 0,kq),Os=it("ion-col",void 0,void 0,Uq),nn=it("ion-content",void 0,void 0,Xq),fte=it("ion-footer",void 0,void 0,PK),rl=it("ion-grid",void 0,void 0,VK),Gn=it("ion-header",void 0,void 0,eX),Ux=it("ion-img",void 0,void 0,rX),Cn=it("ion-input",void 0,void 0,wX),kd=it("ion-input-password-toggle",void 0,void 0,$X),ii=it("ion-label",void 0,void 0,FX),U6=it("ion-list",void 0,void 0,VX),mte=it("ion-menu",void 0,void 0,rY),V6=it("ion-menu-button",void 0,void 0,pY),gte=it("ion-menu-toggle",void 0,void 0,xY),bte=it("ion-note",void 0,void 0,NY),xte=it("ion-range",void 0,void 0,QY),Vo=it("ion-row",void 0,void 0,sZ),yte=it("ion-searchbar",void 0,void 0,hZ),Nb=it("ion-select",void 0,void 0,zJ),jr=it("ion-select-option",void 0,void 0,UJ),fo=it("ion-spinner",void 0,void 0,VJ),vte=it("ion-tab",void 0,void 0,KJ),_n=it("ion-text",void 0,void 0,QJ),aE=it("ion-textarea",void 0,void 0,aQ),wte=it("ion-thumbnail",void 0,void 0,hQ),wi=it("ion-title",void 0,void 0,pQ),Vx=it("ion-toggle",void 0,void 0,kQ),qn=it("ion-toolbar",void 0,void 0,SQ),hu=(t,e)=>{const n=(i,s)=>S.jsx(t,{...i,forwardedRef:s});return n.displayName=e,xe.forwardRef(n)},lE=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},cE=(t,e)=>{pte(t,e);const n=oE(t),i=class extends xe.Component{constructor(s){super(s),this.handleClick=o=>{const{routerLink:r,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;r!==void 0&&(o.preventDefault(),this.context.navigate(r,a,void 0,c,l))},this.ref=xe.createRef(),this.stableMergedRefs=jx(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){const o=this.ref.current;Mx(o,this.props,s)}render(){const{children:s,forwardedRef:o,style:r,className:a,ref:l,...c}=this.props,d={...Object.keys(c).reduce((h,p)=>{if(p.indexOf("on")===0&&p[2]===p[2].toUpperCase()){const f=p.substring(2).toLowerCase();Kf(f)&&(h[p]=c[p])}else["string","boolean","number"].includes(typeof c[p])&&(h[Bx(p)]=c[p]);return h},{}),ref:this.stableMergedRefs,style:r};if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const h=d.onClick;d.onClick=p=>{h(p),p.defaultPrevented||this.handleClick(p)}}else d.onClick=this.handleClick;return te.createElement(t,d,s)}static get displayName(){return n}static get contextType(){return tr}};return hu(i,n)},Ge=cE("ion-button",CQ),qi=cE("ion-card",AQ),Ui=cE("ion-item",NQ),kte=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),s=i[0].toLowerCase()+i.substring(1);Kf(s)||Ste(t,s)}})},Ste=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},Xf=(t,e,n)=>{e&&e();const i=oE(t),s=class extends xe.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=r=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(r)},this.handleDidDismiss=r=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(r)},this.ref=xe.createRef(),this.stableMergedRefs=jx(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=xe.createRef()}componentDidMount(){var o,r,a;this.componentDidUpdate(this.props),(o=this.ref.current)==null||o.addEventListener("ionMount",this.handleIonMount),(r=this.ref.current)==null||r.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)==null||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const r=this.ref.current,{onDidDismiss:a,onWillPresent:l,...c}=this.props;Mx(r,c,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),kte(o,this.props))}render(){const{children:o,forwardedRef:r,style:a,className:l,ref:c,...u}=this.props,h={...Object.keys(u).reduce((f,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const b=m.substring(2).toLowerCase();Kf(b)&&(f[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(f[Bx(m)]=u[m]);return f},{}),ref:this.stableMergedRefs,style:a},p=()=>n?"".concat(kA," ion-page"):kA;return te.createElement("template",{},te.createElement(t,h,this.state.isOpen||this.props.keepContentsMounted?te.createElement("div",{ref:this.wrapperRef,className:p()},o):null))}static get displayName(){return i}};return hu(s,i)},kA="ion-delegate-host",_l=Xf("ion-alert",DQ),c2=Xf("ion-loading",VQ),Al=Xf("ion-toast",F6),Cte=Xf("ion-action-sheet",oee),yr=Xf("ion-modal",ree,!0),Ete=xe.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),Tte=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=te.useState({}),s=te.useRef({});te.useEffect(()=>{t(o),e(r)},[]);const o=(l,c,u)=>{const d={...s.current};d[l]={component:c,containerElement:u},s.current=d,i(d)},r=l=>{const c={...s.current};delete c[l],s.current=c,i(c)},a=Object.keys(n);return S.jsx(S.Fragment,{children:a.map(l=>{const c=n[l];return ij.createPortal(c.component,c.containerElement,"overlay-".concat(l))})})},Ite=it("ion-tab-button",void 0,void 0,Bee),$te=it("ion-tab-bar",void 0,void 0,Dee),SA=it("ion-tabs",void 0,void 0,Hee),_te=it("ion-back-button",void 0,void 0,vee),u2=it("ion-router-outlet",void 0,void 0,Eee),Ate=it("ion-app",void 0,void 0,pee),Nte=it("ion-icon",void 0,void 0,ote);class H6 extends xe.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,i,s)=>{this.addOverlayCallback&&this.addOverlayCallback(n,i,s)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return S.jsxs(Ete.Provider,{value:this.ionContext,children:[S.jsx(Ate,{...this.props,children:this.props.children}),S.jsx(Tte,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}H6.displayName="IonApp";const uE=xe.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class dE extends xe.PureComponent{constructor(e){super(e),this.ionPageElementRef=xe.createRef(),this.stableMergedRefs=jx(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:i,forwardedRef:s,...o}=this.props;return S.jsx(Px.Consumer,{children:r=>(this.ionLifeCycleContext=r,S.jsx("div",{className:e?"".concat(e," ion-page"):"ion-page",ref:this.stableMergedRefs,...o,children:n}))})}static get contextType(){return uE}}class Dte extends xe.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:i,...s}=this.props;return this.context.hasIonicRouter()?S.jsx(dE,{className:e?"".concat(e):"",routeInfo:this.context.routeInfo,forwardedRef:i,...s,children:n}):S.jsx("div",{className:e?"ion-page ".concat(e):"ion-page",ref:i,...s,children:n})}static get displayName(){return"IonPage"}static get contextType(){return tr}}const Rs=hu(Dte,"IonPage"),CA={main:0},of=(t="main")=>{var n;const e=((n=CA[t])!=null?n:0)+1;return CA[t]=e,e.toString()},Ote=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(of());let s=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),p="".concat(i,"-").concat(s++),f=OS.createPortal(h,d,p);return n.set(d,f),t(f),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},Rte=it("ion-nav",void 0,void 0,CY),Lte=({children:t,forwardedRef:e,...n})=>{const[i,s]=te.useState([]),o=l=>s(c=>[...c,l]),r=l=>s(c=>c.filter(u=>u!==l)),a=te.useMemo(()=>Ote(o,r),[]);return S.jsx(Rte,{delegate:a,ref:e,...n,children:i})};hu(Lte,"IonNav");const W6=xe.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:xe.createRef()}}),zte=typeof HTMLElement<"u"?HTMLElement:class{};class Fte extends xe.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ko(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:i,...s}=this.props;return S.jsx(Px.Consumer,{children:o=>(this.ionLifeCycleContext=o,S.jsx(e,{routeInfo:i,children:S.jsx(u2,{setRef:r=>this.ionRouterOutlet=r,...s,children:n})}))})}static get contextType(){return uE}}class Pte extends xe.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:i,...s}=this.props;return this.context.hasIonicRouter()?s.ionPage?S.jsx(Fte,{StackManager:e,routeInfo:this.context.routeInfo,...s,children:n}):S.jsx(e,{routeInfo:this.context.routeInfo,children:S.jsx(u2,{...s,forwardedRef:i,children:n})}):S.jsx(u2,{ref:i,...this.props,children:this.props.children})}static get contextType(){return tr}}const dd=hu(Pte,"IonRouterOutlet");class Bte extends zte{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Bte));class fLe extends xe.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=xe.createRef(),this.tabBarRef=xe.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return S.jsx(SA,{...this.props,children:xe.Children.map(e,i=>xe.isValidElement(i)&&(i.type===dd||i.type.isRouterOutlet||i.type===te.Fragment&&i.props.children[0].type===dd)?n:i)})}render(){let e,n=!1;const{className:i,onIonTabsDidChange:s,onIonTabsWillChange:o,...r}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(xe.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===dd||l.type.isRouterOutlet?e=xe.cloneElement(l):l.type===te.Fragment&&l.props.children[0].type===dd?e=xe.cloneElement(l.props.children[0]):l.type===vte&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};s!==void 0&&(c={...c,onIonTabsDidChange:s}),o!==void 0&&(c={...c,onIonTabsWillChange:o}),this.ionTabContextState.tabBarProps=c}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?S.jsx(SA,{...this.props}):S.jsx(W6.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?S.jsx(dE,{className:i?"".concat(i):"",routeInfo:this.context.routeInfo,...r,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return tr}}class bw extends xe.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return S.jsx(Ite,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class Mte extends xe.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};xe.Children.forEach(e.children,i=>{var s,o,r,a;i!=null&&typeof i=="object"&&i.props&&(i.type===bw||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((s=e.routeInfo)==null?void 0:s.pathname)?(o=e.routeInfo)==null?void 0:o.routeOptions:void 0,currentRouteOptions:i.props.href===((r=e.routeInfo)==null?void 0:r.pathname)?(a=e.routeInfo)==null?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(s=>{const o=e[s].originalHref;return this.props.routeInfo.pathname.startsWith(o)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var a,l,c;const i={...n.tabs},o=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});xe.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===bw||u.type.isTabButton)){const d=i[u.props.tab];(!d||d.originalHref!==u.props.href)&&(i[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:r}=n;if(o&&r){const u=n.tabs[r].currentHref,d=n.tabs[r].currentRouteOptions;(o!==r||u!==((a=e.routeInfo)==null?void 0:a.pathname)||d!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(i[o]={originalHref:i[o].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:i[o].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&o!==r&&(i[r]={originalHref:i[r].originalHref,currentHref:i[r].originalHref,originalRouteOptions:i[r].originalRouteOptions,currentRouteOptions:i[r].currentRouteOptions}))}return o&&e.onSetCurrentTab(o,e.routeInfo),{activeTab:o,tabs:i}}onTabButtonClick(e,n){var l;const i=this.state.tabs[e.detail.tab],s=i.originalHref,o=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,r=o?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?s!==r&&this.context.resetTab(e.detail.tab,s,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,r,e.detail.routeOptions)))}renderTabButton(e){return n=>{var i,s;if(n!=null&&n.props&&(n.type===bw||n.type.isTabButton)){const o=n.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,r=n.props.tab===e?(s=this.props.routeInfo)==null?void 0:s.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return xe.cloneElement(n,{href:o,routeOptions:r,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return S.jsx($te,{...this.props,selectedTab:e,children:xe.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return tr}}const jte=xe.memo(({forwardedRef:t,...e})=>{const n=te.useContext(tr),i=te.useContext(W6),s=t||i.tabBarProps.ref,o={...i.tabBarProps,ref:s};return S.jsx(Mte,{ref:s,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...i,tabBarProps:o},children:e.children})});hu(jte,"IonTabBar");class rf extends xe.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:i}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,i)):n!==void 0&&(window.location.href=n)}}render(){return S.jsx(_te,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return tr}shouldComponentUpdate(){return!0}}class Ute extends xe.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var c,u;const{icon:e,ios:n,md:i,mode:s,...o}=this.props;let r;const a=lE(),l=s||(a==null?void 0:a.get("mode"));return n||i?l==="ios"?r=(c=n!=null?n:i)!=null?c:e:r=(u=i!=null?i:n)!=null?u:e:r=e,S.jsx(Nte,{ref:this.props.forwardedRef,icon:r,...o,children:this.props.children})}static get contextType(){return tr}}const Qe=hu(Ute,"IonIcon");class hE extends xe.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!hE?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):S.jsx(e,{...this.props})}static get contextType(){return tr}}class G6 extends xe.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!G6?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):S.jsx(e,{...this.props})}static get contextType(){return tr}}const q6=xe.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function jc(){const t=te.useContext(q6);return te.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class mLe extends xe.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Ee(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),EA(n,e),TA(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;EA(n,i,e),Vte(n,i,e),TA(n,i,e)}render(){const{children:e}=this.props;return S.jsx(S.Fragment,{children:xe.Children.map(e,(n,i)=>xe.cloneElement(n,{ref:s=>this.nodes.set(i,s)}))})}}const EA=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const s=e.from;s&&s!==n.from&&(Array.isArray(s)?s:[s]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const r=e.fromTo;r&&r!==n.fromTo&&(Array.isArray(r)?r:[r]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},Vte=(t,e={},n={})=>{var r,a,l,c,u;const{progressStart:i,progressStep:s,progressEnd:o}=e;i&&(((r=n.progressStart)==null?void 0:r.forceLinearEasing)!==(i==null?void 0:i.forceLinearEasing)||((a=n.progressStart)==null?void 0:a.step)!==(i==null?void 0:i.step))&&t.progressStart(i.forceLinearEasing,i.step),s&&((l=n.progressStep)==null?void 0:l.step)!==(s==null?void 0:s.step)&&t.progressStep(s.step),o&&(((c=n.progressEnd)==null?void 0:c.playTo)!==(o==null?void 0:o.playTo)||((u=n.progressEnd)==null?void 0:u.step)!==(o==null?void 0:o.step)||(n==null?void 0:n.dur)!==(o==null?void 0:o.dur))&&t.progressEnd(o.playTo,o.step,o.dur)},TA=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};function Hte(t,e,n){const i=te.useRef(),s=te.useMemo(()=>"on".concat(t,"DidDismiss"),[t]),o=te.useMemo(()=>"on".concat(t,"DidPresent"),[t]),r=te.useMemo(()=>"on".concat(t,"WillDismiss"),[t]),a=te.useMemo(()=>"on".concat(t,"WillPresent"),[t]);n();const l=te.useCallback(async u=>{if(i.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:p,onWillPresent:f,...m}=u,b=g=>{d&&d(g),i.current=void 0};i.current=await e.create({...m}),Mx(i.current,{[s]:b,[o]:g=>p&&p(g),[r]:g=>h&&h(g),[a]:g=>f&&f(g)}),i.current.present()},[e]),c=te.useCallback(async()=>{i.current&&await i.current.dismiss(),i.current=void 0},[]);return{present:l,dismiss:c}}function Hx(){const t=Hte("IonToast",jW,F6);return[te.useCallback((n,i)=>typeof n=="string"?t.present({message:n,duration:i}):t.present(n),[t.present]),t.dismiss]}const Wte=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),kW({...t})},K6=xe.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class IA extends xe.Component{constructor(e){super(e),this.ionLifeCycleContext=new rte,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return S.jsx(Px.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class Gte{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(s=>s.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(s=>s.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const s=i.findIndex(o=>o.id===e.id);s>-1?i.splice(s,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const s=n[i];if(s&&s.pathname===e.pushedByRoute)return s}for(let i=this.locationHistory.length-2;i>=0;i--){const s=this.locationHistory[i];if(s&&s.pathname===e.pushedByRoute)return s}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class qte extends xe.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,s,o,r)=>{this.navigate(n,i,s,r,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",s,o,r){this.props.onNavigate(e,i,n,s,o,r)}getPageManager(){return dE}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return S.jsx(tr.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:S.jsx(q6.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class Kte{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const s=i.find(o=>o.id===e.id);s&&(s.mount=!1,this.viewStacks[n]=i.filter(o=>o.id!==s.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}function af(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},us.apply(null,arguments)}function Xg(t){return t.charAt(0)==="/"}function xw(t,e){for(var n=e,i=n+1,s=t.length;i<s;n+=1,i+=1)t[n]=t[i];t.pop()}function Xte(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],s=t&&Xg(t),o=e&&Xg(e),r=s||o;if(t&&Xg(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?xw(i,u):d===".."?(xw(i,u),c++):c&&(xw(i,u),c--)}if(!r)for(;c--;c)i.unshift("..");r&&i[0]!==""&&(!i[0]||!Xg(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function $A(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Db(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(s,o){return Db(s,e[o])});if(typeof t=="object"||typeof e=="object"){var n=$A(t),i=$A(e);return n!==t||i!==e?Db(n,i):Object.keys(Object.assign({},t,e)).every(function(s){return Db(t[s],e[s])})}return!1}var Yte="Invariant failed";function pu(t,e){throw new Error(Yte)}function Op(t){return t.charAt(0)==="/"?t:"/"+t}function _A(t){return t.charAt(0)==="/"?t.substr(1):t}function Zte(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function X6(t,e){return Zte(t,e)?t.substr(e.length):t}function Y6(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Jte(t){var e=t||"/",n="",i="",s=e.indexOf("#");s!==-1&&(i=e.substr(s),e=e.substr(0,s));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function qs(t){var e=t.pathname,n=t.search,i=t.hash,s=e||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function ss(t,e,n,i){var s;typeof t=="string"?(s=Jte(t),s.state=e):(s=us({},t),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",e!==void 0&&s.state===void 0&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(s.key=n),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Xte(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function Qte(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Db(t.state,e.state)}function pE(){var t=null;function e(r){return t=r,function(){t===r&&(t=null)}}function n(r,a,l,c){if(t!=null){var u=typeof t=="function"?t(r,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function s(r){var a=!0;function l(){a&&r.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function o(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:s,notifyListeners:o}}var Z6=!!(typeof window<"u"&&window.document&&window.document.createElement);function J6(t,e){e(window.confirm(t))}function ene(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function tne(){return window.navigator.userAgent.indexOf("Trident")===-1}function nne(){return window.navigator.userAgent.indexOf("Firefox")===-1}function ine(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var AA="popstate",NA="hashchange";function DA(){try{return window.history.state||{}}catch(t){return{}}}function sne(t){t===void 0&&(t={}),Z6||pu();var e=window.history,n=ene(),i=!tne(),s=t,o=s.forceRefresh,r=o===void 0?!1:o,a=s.getUserConfirmation,l=a===void 0?J6:a,c=s.keyLength,u=c===void 0?6:c,d=t.basename?Y6(Op(t.basename)):"";function h(M){var U=M||{},B=U.key,V=U.state,ee=window.location,J=ee.pathname,Z=ee.search,pe=ee.hash,ve=J+Z+pe;return d&&(ve=X6(ve,d)),ss(ve,V,B)}function p(){return Math.random().toString(36).substr(2,u)}var f=pE();function m(M){us(H,M),H.length=e.length,f.notifyListeners(H.location,H.action)}function b(M){ine(M)||y(h(M.state))}function g(){y(h(DA()))}var x=!1;function y(M){if(x)x=!1,m();else{var U="POP";f.confirmTransitionTo(M,U,l,function(B){B?m({action:U,location:M}):v(M)})}}function v(M){var U=H.location,B=C.indexOf(U.key);B===-1&&(B=0);var V=C.indexOf(M.key);V===-1&&(V=0);var ee=B-V;ee&&(x=!0,_(ee))}var w=h(DA()),C=[w.key];function k(M){return d+qs(M)}function E(M,U){var B="PUSH",V=ss(M,U,p(),H.location);f.confirmTransitionTo(V,B,l,function(ee){if(ee){var J=k(V),Z=V.key,pe=V.state;if(n)if(e.pushState({key:Z,state:pe},null,J),r)window.location.href=J;else{var ve=C.indexOf(H.location.key),ye=C.slice(0,ve+1);ye.push(V.key),C=ye,m({action:B,location:V})}else window.location.href=J}})}function T(M,U){var B="REPLACE",V=ss(M,U,p(),H.location);f.confirmTransitionTo(V,B,l,function(ee){if(ee){var J=k(V),Z=V.key,pe=V.state;if(n)if(e.replaceState({key:Z,state:pe},null,J),r)window.location.replace(J);else{var ve=C.indexOf(H.location.key);ve!==-1&&(C[ve]=V.key),m({action:B,location:V})}else window.location.replace(J)}})}function _(M){e.go(M)}function z(){_(-1)}function N(){_(1)}var O=0;function I(M){O+=M,O===1&&M===1?(window.addEventListener(AA,b),i&&window.addEventListener(NA,g)):O===0&&(window.removeEventListener(AA,b),i&&window.removeEventListener(NA,g))}var L=!1;function F(M){M===void 0&&(M=!1);var U=f.setPrompt(M);return L||(I(1),L=!0),function(){return L&&(L=!1,I(-1)),U()}}function j(M){var U=f.appendListener(M);return I(1),function(){I(-1),U()}}var H={length:e.length,action:"POP",location:w,createHref:k,push:E,replace:T,go:_,goBack:z,goForward:N,block:F,listen:j};return H}var OA="hashchange",one={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+_A(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:_A,decodePath:Op},slash:{encodePath:Op,decodePath:Op}};function Q6(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Xh(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function rne(t){window.location.hash=t}function yw(t){window.location.replace(Q6(window.location.href)+"#"+t)}function ane(t){t===void 0&&(t={}),Z6||pu();var e=window.history;nne();var n=t,i=n.getUserConfirmation,s=i===void 0?J6:i,o=n.hashType,r=o===void 0?"slash":o,a=t.basename?Y6(Op(t.basename)):"",l=one[r],c=l.encodePath,u=l.decodePath;function d(){var U=u(Xh());return a&&(U=X6(U,a)),ss(U)}var h=pE();function p(U){us(M,U),M.length=e.length,h.notifyListeners(M.location,M.action)}var f=!1,m=null;function b(U,B){return U.pathname===B.pathname&&U.search===B.search&&U.hash===B.hash}function g(){var U=Xh(),B=c(U);if(U!==B)yw(B);else{var V=d(),ee=M.location;if(!f&&b(ee,V)||m===qs(V))return;m=null,x(V)}}function x(U){if(f)f=!1,p();else{var B="POP";h.confirmTransitionTo(U,B,s,function(V){V?p({action:B,location:U}):y(U)})}}function y(U){var B=M.location,V=k.lastIndexOf(qs(B));V===-1&&(V=0);var ee=k.lastIndexOf(qs(U));ee===-1&&(ee=0);var J=V-ee;J&&(f=!0,z(J))}var v=Xh(),w=c(v);v!==w&&yw(w);var C=d(),k=[qs(C)];function E(U){var B=document.querySelector("base"),V="";return B&&B.getAttribute("href")&&(V=Q6(window.location.href)),V+"#"+c(a+qs(U))}function T(U,B){var V="PUSH",ee=ss(U,void 0,void 0,M.location);h.confirmTransitionTo(ee,V,s,function(J){if(J){var Z=qs(ee),pe=c(a+Z),ve=Xh()!==pe;if(ve){m=Z,rne(pe);var ye=k.lastIndexOf(qs(M.location)),Ce=k.slice(0,ye+1);Ce.push(Z),k=Ce,p({action:V,location:ee})}else p()}})}function _(U,B){var V="REPLACE",ee=ss(U,void 0,void 0,M.location);h.confirmTransitionTo(ee,V,s,function(J){if(J){var Z=qs(ee),pe=c(a+Z),ve=Xh()!==pe;ve&&(m=Z,yw(pe));var ye=k.indexOf(qs(M.location));ye!==-1&&(k[ye]=Z),p({action:V,location:ee})}})}function z(U){e.go(U)}function N(){z(-1)}function O(){z(1)}var I=0;function L(U){I+=U,I===1&&U===1?window.addEventListener(OA,g):I===0&&window.removeEventListener(OA,g)}var F=!1;function j(U){U===void 0&&(U=!1);var B=h.setPrompt(U);return F||(L(1),F=!0),function(){return F&&(F=!1,L(-1)),B()}}function H(U){var B=h.appendListener(U);return L(1),function(){L(-1),B()}}var M={length:e.length,action:"POP",location:C,createHref:E,push:T,replace:_,go:z,goBack:N,goForward:O,block:j,listen:H};return M}function RA(t,e,n){return Math.min(Math.max(t,e),n)}function lne(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,s=i===void 0?["/"]:i,o=e.initialIndex,r=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=pE();function u(E){us(k,E),k.length=k.entries.length,c.notifyListeners(k.location,k.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=RA(r,0,s.length-1),p=s.map(function(E){return typeof E=="string"?ss(E,void 0,d()):ss(E,void 0,E.key||d())}),f=qs;function m(E,T){var _="PUSH",z=ss(E,T,d(),k.location);c.confirmTransitionTo(z,_,n,function(N){if(N){var O=k.index,I=O+1,L=k.entries.slice(0);L.length>I?L.splice(I,L.length-I,z):L.push(z),u({action:_,location:z,index:I,entries:L})}})}function b(E,T){var _="REPLACE",z=ss(E,T,d(),k.location);c.confirmTransitionTo(z,_,n,function(N){N&&(k.entries[k.index]=z,u({action:_,location:z}))})}function g(E){var T=RA(k.index+E,0,k.entries.length-1),_="POP",z=k.entries[T];c.confirmTransitionTo(z,_,n,function(N){N?u({action:_,location:z,index:T}):u()})}function x(){g(-1)}function y(){g(1)}function v(E){var T=k.index+E;return T>=0&&T<k.entries.length}function w(E){return E===void 0&&(E=!1),c.setPrompt(E)}function C(E){return c.appendListener(E)}var k={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:f,push:m,replace:b,go:g,goBack:x,goForward:y,canGo:v,block:w,listen:C};return k}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d2(t,e)}function ml(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d2(t,e)}var eL={exports:{}},cne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",une=cne,dne=une;function tL(){}function nL(){}nL.resetWarningCache=tL;var hne=function(){function t(i,s,o,r,a,l){if(l!==dne){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nL,resetWarningCache:tL};return n.PropTypes=n,n};eL.exports=hne();var pne=eL.exports;const LA=ga(pne);var bh={exports:{}},fne=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},O0=fne;bh.exports=oL;bh.exports.parse=fE;bh.exports.compile=bne;bh.exports.tokensToFunction=iL;bh.exports.tokensToRegExp=sL;var mne=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function fE(t,e){for(var n=[],i=0,s=0,o="",r=e&&e.delimiter||"/",a;(a=mne.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(s,u),s=u+l.length,c){o+=c[1];continue}var d=t[s],h=a[2],p=a[3],f=a[4],m=a[5],b=a[6],g=a[7];o&&(n.push(o),o="");var x=h!=null&&d!=null&&d!==h,y=b==="+"||b==="*",v=b==="?"||b==="*",w=h||r,C=f||m,k=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||i++,prefix:h||"",delimiter:w,optional:v,repeat:y,partial:x,asterisk:!!g,pattern:C?vne(C):g?".*":gne(w,k)})}return s<t.length&&(o+=t.substr(s)),o&&n.push(o),n}function gne(t,e){return!e||e.indexOf(t)>-1?"[^"+mc(t)+"]+?":mc(e)+"|(?:(?!"+mc(e)+")[^"+mc(t)+"])+?"}function bne(t,e){return iL(fE(t,e),e)}function xne(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function yne(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function iL(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",gE(e)));return function(s,o){for(var r="",a=s||{},l=o||{},c=l.pretty?xne:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){r+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(r+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(O0(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=c(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");r+=(f===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?yne(h):c(h),!n[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');r+=d.prefix+p}return r}}function mc(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function vne(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function mE(t,e){return t.keys=e,t}function gE(t){return t&&t.sensitive?"":"i"}function wne(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return mE(t,e)}function kne(t,e,n){for(var i=[],s=0;s<t.length;s++)i.push(oL(t[s],e,n).source);var o=new RegExp("(?:"+i.join("|")+")",gE(n));return mE(o,e)}function Sne(t,e,n){return sL(fE(t,n),e,n)}function sL(t,e,n){O0(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,s=n.end!==!1,o="",r=0;r<t.length;r++){var a=t[r];if(typeof a=="string")o+=mc(a);else{var l=mc(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=mc(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),s?o+="$":o+=i&&d?"":"(?="+u+"|$)",mE(new RegExp("^"+o,gE(n)),e)}function oL(t,e,n){return O0(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?wne(t,e):O0(t)?kne(t,e,n):Sne(t,e,n)}var Cne=bh.exports;const rL=ga(Cne);var Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=typeof Symbol=="function"&&Symbol.for,bE=ui?Symbol.for("react.element"):60103,xE=ui?Symbol.for("react.portal"):60106,Wx=ui?Symbol.for("react.fragment"):60107,Gx=ui?Symbol.for("react.strict_mode"):60108,qx=ui?Symbol.for("react.profiler"):60114,Kx=ui?Symbol.for("react.provider"):60109,Xx=ui?Symbol.for("react.context"):60110,yE=ui?Symbol.for("react.async_mode"):60111,Yx=ui?Symbol.for("react.concurrent_mode"):60111,Zx=ui?Symbol.for("react.forward_ref"):60112,Jx=ui?Symbol.for("react.suspense"):60113,Ene=ui?Symbol.for("react.suspense_list"):60120,Qx=ui?Symbol.for("react.memo"):60115,ey=ui?Symbol.for("react.lazy"):60116,Tne=ui?Symbol.for("react.block"):60121,Ine=ui?Symbol.for("react.fundamental"):60117,$ne=ui?Symbol.for("react.responder"):60118,_ne=ui?Symbol.for("react.scope"):60119;function Ps(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bE:switch(t=t.type,t){case yE:case Yx:case Wx:case qx:case Gx:case Jx:return t;default:switch(t=t&&t.$$typeof,t){case Xx:case Zx:case ey:case Qx:case Kx:return t;default:return e}}case xE:return e}}}function aL(t){return Ps(t)===Yx}Ft.AsyncMode=yE;Ft.ConcurrentMode=Yx;Ft.ContextConsumer=Xx;Ft.ContextProvider=Kx;Ft.Element=bE;Ft.ForwardRef=Zx;Ft.Fragment=Wx;Ft.Lazy=ey;Ft.Memo=Qx;Ft.Portal=xE;Ft.Profiler=qx;Ft.StrictMode=Gx;Ft.Suspense=Jx;Ft.isAsyncMode=function(t){return aL(t)||Ps(t)===yE};Ft.isConcurrentMode=aL;Ft.isContextConsumer=function(t){return Ps(t)===Xx};Ft.isContextProvider=function(t){return Ps(t)===Kx};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bE};Ft.isForwardRef=function(t){return Ps(t)===Zx};Ft.isFragment=function(t){return Ps(t)===Wx};Ft.isLazy=function(t){return Ps(t)===ey};Ft.isMemo=function(t){return Ps(t)===Qx};Ft.isPortal=function(t){return Ps(t)===xE};Ft.isProfiler=function(t){return Ps(t)===qx};Ft.isStrictMode=function(t){return Ps(t)===Gx};Ft.isSuspense=function(t){return Ps(t)===Jx};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wx||t===Yx||t===qx||t===Gx||t===Jx||t===Ene||typeof t=="object"&&t!==null&&(t.$$typeof===ey||t.$$typeof===Qx||t.$$typeof===Kx||t.$$typeof===Xx||t.$$typeof===Zx||t.$$typeof===Ine||t.$$typeof===$ne||t.$$typeof===_ne||t.$$typeof===Tne)};Ft.typeOf=Ps;function lL(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var cL={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=typeof Symbol=="function"&&Symbol.for,vE=di?Symbol.for("react.element"):60103,wE=di?Symbol.for("react.portal"):60106,ty=di?Symbol.for("react.fragment"):60107,ny=di?Symbol.for("react.strict_mode"):60108,iy=di?Symbol.for("react.profiler"):60114,sy=di?Symbol.for("react.provider"):60109,oy=di?Symbol.for("react.context"):60110,kE=di?Symbol.for("react.async_mode"):60111,ry=di?Symbol.for("react.concurrent_mode"):60111,ay=di?Symbol.for("react.forward_ref"):60112,ly=di?Symbol.for("react.suspense"):60113,Ane=di?Symbol.for("react.suspense_list"):60120,cy=di?Symbol.for("react.memo"):60115,uy=di?Symbol.for("react.lazy"):60116,Nne=di?Symbol.for("react.block"):60121,Dne=di?Symbol.for("react.fundamental"):60117,One=di?Symbol.for("react.responder"):60118,Rne=di?Symbol.for("react.scope"):60119;function Bs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vE:switch(t=t.type,t){case kE:case ry:case ty:case iy:case ny:case ly:return t;default:switch(t=t&&t.$$typeof,t){case oy:case ay:case uy:case cy:case sy:return t;default:return e}}case wE:return e}}}function uL(t){return Bs(t)===ry}Nt.AsyncMode=kE;Nt.ConcurrentMode=ry;Nt.ContextConsumer=oy;Nt.ContextProvider=sy;Nt.Element=vE;Nt.ForwardRef=ay;Nt.Fragment=ty;Nt.Lazy=uy;Nt.Memo=cy;Nt.Portal=wE;Nt.Profiler=iy;Nt.StrictMode=ny;Nt.Suspense=ly;Nt.isAsyncMode=function(t){return uL(t)||Bs(t)===kE};Nt.isConcurrentMode=uL;Nt.isContextConsumer=function(t){return Bs(t)===oy};Nt.isContextProvider=function(t){return Bs(t)===sy};Nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vE};Nt.isForwardRef=function(t){return Bs(t)===ay};Nt.isFragment=function(t){return Bs(t)===ty};Nt.isLazy=function(t){return Bs(t)===uy};Nt.isMemo=function(t){return Bs(t)===cy};Nt.isPortal=function(t){return Bs(t)===wE};Nt.isProfiler=function(t){return Bs(t)===iy};Nt.isStrictMode=function(t){return Bs(t)===ny};Nt.isSuspense=function(t){return Bs(t)===ly};Nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ty||t===ry||t===iy||t===ny||t===ly||t===Ane||typeof t=="object"&&t!==null&&(t.$$typeof===uy||t.$$typeof===cy||t.$$typeof===sy||t.$$typeof===oy||t.$$typeof===ay||t.$$typeof===Dne||t.$$typeof===One||t.$$typeof===Rne||t.$$typeof===Nne)};Nt.typeOf=Bs;cL.exports=Nt;var Lne=cL.exports,SE=Lne,zne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Fne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CE={};CE[SE.ForwardRef]=Pne;CE[SE.Memo]=dL;function zA(t){return SE.isMemo(t)?dL:CE[t.$$typeof]||zne}var Bne=Object.defineProperty,Mne=Object.getOwnPropertyNames,FA=Object.getOwnPropertySymbols,jne=Object.getOwnPropertyDescriptor,Une=Object.getPrototypeOf,PA=Object.prototype;function hL(t,e,n){if(typeof e!="string"){if(PA){var i=Une(e);i&&i!==PA&&hL(t,i,n)}var s=Mne(e);FA&&(s=s.concat(FA(e)));for(var o=zA(t),r=zA(e),a=0;a<s.length;++a){var l=s[a];if(!Fne[l]&&!(n&&n[l])&&!(r&&r[l])&&!(o&&o[l])){var c=jne(e,l);try{Bne(t,l,c)}catch(u){}}}}return t}var Vne=hL;const Hne=ga(Vne);var vw=1073741823,BA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function Wne(){var t="__global_unique_id__";return BA[t]=(BA[t]||0)+1}function Gne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qne(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(s){return s!==i})},get:function(){return t},set:function(i,s){t=i,e.forEach(function(o){return o(t,s)})}}}function Kne(t){return Array.isArray(t)?t[0]:t}function Xne(t,e){var n,i,s="__create-react-context-"+Wne()+"__",o=function(a){ml(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=qne(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[s]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,f;Gne(h,p)?f=0:(f=typeof e=="function"?e(h,p):vw,f|=0,f!==0&&this.emitter.set(d.value,f))}},c.render=function(){return this.props.children},l}(xe.Component);o.childContextTypes=(n={},n[s]=LA.object.isRequired,n);var r=function(a){ml(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(f,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?vw:h},c.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?vw:d},c.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},c.getValue=function(){return this.context[s]?this.context[s].get():t},c.render=function(){return Kne(this.props.children)(this.state.value)},l}(xe.Component);return r.contextTypes=(i={},i[s]=LA.object,i),{Provider:o,Consumer:r}}var Yne=xe.createContext||Xne,pL=function(e){var n=Yne();return n.displayName=e,n},fL=pL("Router-History"),Uc=pL("Router"),Yf=function(t){ml(e,t),e.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function e(i){var s;return s=t.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(o){s._pendingLocation=o})),s}var n=e.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){s._isMounted&&s.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return xe.createElement(Uc.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},xe.createElement(fL.Provider,{children:this.props.children||null,value:this.props.history}))},e}(xe.Component);xe.Component;var Zne=function(t){ml(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(xe.Component),ww={},Jne=1e4,MA=0;function Qne(t){if(ww[t])return ww[t];var e=rL.compile(t);return MA<Jne&&(ww[t]=e,MA++),e}function jA(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:Qne(t)(e,{pretty:!0})}function eie(t){var e=t.computedMatch,n=t.to,i=t.push,s=i===void 0?!1:i;return xe.createElement(Uc.Consumer,null,function(o){o||pu();var r=o.history,a=o.staticContext,l=s?r.push:r.replace,c=ss(e?typeof n=="string"?jA(n,e.params):us({},n,{pathname:jA(n.pathname,e.params)}):n);return a?(l(c),null):xe.createElement(Zne,{onMount:function(){l(c)},onUpdate:function(d,h){var p=ss(h.to);Qte(p,us({},c,{key:p.key}))||l(c)},to:n})})}var UA={},tie=1e4,VA=0;function nie(t,e){var n=""+e.end+e.strict+e.sensitive,i=UA[n]||(UA[n]={});if(i[t])return i[t];var s=[],o=rL(t,s,e),r={regexp:o,keys:s};return VA<tie&&(i[t]=r,VA++),r}function EE(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,s=n.exact,o=s===void 0?!1:s,r=n.strict,a=r===void 0?!1:r,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=nie(h,{end:o,strict:a,sensitive:c}),f=p.regexp,m=p.keys,b=f.exec(t);if(!b)return null;var g=b[0],x=b.slice(1),y=t===g;return o&&!y?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:y,params:m.reduce(function(v,w,C){return v[w.name]=x[C],v},{})}},null)}function iie(t){return xe.Children.count(t)===0}var Ro=function(t){ml(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var s=this;return xe.createElement(Uc.Consumer,null,function(o){o||pu();var r=s.props.location||o.location,a=s.props.computedMatch?s.props.computedMatch:s.props.path?EE(r.pathname,s.props):o.match,l=us({},o,{location:r,match:a}),c=s.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&iie(u)&&(u=null),xe.createElement(Uc.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?xe.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(xe.Component);function TE(t){return t.charAt(0)==="/"?t:"/"+t}function sie(t,e){return t?us({},e,{pathname:TE(t)+e.pathname}):e}function oie(t,e){if(!t)return e;var n=TE(t);return e.pathname.indexOf(n)!==0?e:us({},e,{pathname:e.pathname.substr(n.length)})}function HA(t){return typeof t=="string"?t:qs(t)}function kw(t){return function(){pu()}}function WA(){}xe.Component;xe.Component;function rie(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(s){var o=s.wrappedComponentRef,r=lL(s,["wrappedComponentRef"]);return xe.createElement(Uc.Consumer,null,function(a){return a||pu(),xe.createElement(t,us({},r,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,Hne(n,t)}var mL=xe.useContext;function dy(){return mL(fL)}function hy(){var t=mL(Uc).match;return t?t.params:{}}class aie extends xe.PureComponent{render(){return xe.createElement(Ro,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const lf=({pathname:t,componentProps:e})=>{const{exact:n,component:i}=e,s=e.path||e.from,r=EE(t,{exact:n,path:s,component:i});return r||!1};class lie extends Kte{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,s){const o={id:of("viewItem"),outletId:e,ionPageElement:s,reactElement:n,mount:!0,ionRoute:!1};return n.type===hE&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:lf({pathname:i.pathname,componentProps:n.props}),childProps:n.props},o}getChildrenToRender(e,n,i){const s=this.getViewItemsForOutlet(e);return xe.Children.forEach(n.props.children,r=>{const a=s.find(l=>GA(r,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=r)}),s.map(r=>{let a;if(r.ionRoute&&!r.disableIonPageManagement)a=xe.createElement(IA,{key:"view-".concat(r.id),mount:r.mount,removeView:()=>this.remove(r)},xe.cloneElement(r.reactElement,{computedMatch:r.routeData.match}));else{const l=GA(r.reactElement,i.pathname);a=xe.createElement(IA,{key:"view-".concat(r.id),mount:r.mount,removeView:()=>this.remove(r)},xe.cloneElement(r.reactElement,{computedMatch:r.routeData.match})),!l&&r.routeData.match&&(r.routeData.match=void 0,r.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:s,match:o}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&s&&o&&(s.routeData.match=o),s}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:s}=this.findViewItemByPath(e.lastPathname,n,i);return s}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i){let s,o,r;if(n)r=this.getViewItemsForOutlet(n),r.some(a),s||r.some(l);else{const c=this.getAllViewItems();c.some(a),s||c.some(l)}return{viewItem:s,match:o};function a(c){var u,d;if(i&&!c.ionRoute)return!1;if(o=lf({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return s=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},s=c,!0):!1}}}function GA(t,e){return lf({pathname:e,componentProps:t.props})}function cie(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const qA=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class uie extends xe.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=of("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let s=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&s!==o&&(o.mount=!1));const r=die((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(s?s.reactElement=r:r&&(s=this.context.createViewItem(this.id,r,e),this.context.addViewItem(s)),s&&s.ionPageElement){if(s===o&&s.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),qA(s.ionPageElement)&&o!==void 0&&!qA(o.ionPageElement)))return;this.transitionPage(e,s,o)}else o&&!r&&!s&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const s=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,s===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=lE();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:o}=this.props,r=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(r,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},s=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:r}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===r.pushedByRoute?this.prevProps.routeInfo:{pathname:r.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(r,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:s}}async transitionPage(e,n,i,s,o=!1){const r=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=s!=null?s:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(hie(i.reactElement,e.pathname,!0)){const d=cie(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await r(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await r(n.ionPageElement,void 0);else await r(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!o&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=xe.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return xe.createElement(uE.Provider,{value:this.stackContextValue},xe.cloneElement(n,{ref:s=>{n.props.setRef&&n.props.setRef(s),n.props.forwardedRef&&(n.props.forwardedRef.current=s),this.routerOutletElement=s;const{ref:o}=n;typeof o=="function"&&o(s)}},i))}static get contextType(){return K6}}function die(t,e){let n;return xe.Children.forEach(t,i=>{lf({pathname:e.pathname,componentProps:i.props})&&(n=i)}),n||(xe.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function hie(t,e,n){return lf({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class pie extends xe.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Gte,this.viewStack=new lie,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:of("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const s=this.locationHistory.getCurrentRouteInfoForTab(e),[o,r]=n.split("?");s?(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"push",routeDirection:"none"}),s.pathname===o?(this.incomingRouteParams.routeOptions=i,this.props.history.push(s.pathname+(s.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=r?"?"+r:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(o+(r?"?"+r:"")))):this.handleNavigate(o,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,s,o;let r;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?r=this.locationHistory.previous():r=this.locationHistory.current():r=this.locationHistory.current(),r.pathname+r.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(s=e.state)===null||s===void 0?void 0:s.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:r.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:of("routeInfo")},this.incomingRouteParams),{lastPathname:r.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:r.lastPathname}),c)l.tab=r.tab,l.pushedByRoute=r.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==r.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,s,o,r){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:o,routeAnimation:s,tab:r}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=lE();e=e||i&&i.get("backButtonDefaultHref");const s=this.locationHistory.current();if(s&&s.pushedByRoute){const o=this.locationHistory.findLastLocation(s);if(o){const r=n||s.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:r}),s.lastPathname===s.pushedByRoute||o.pathname===s.pushedByRoute&&s.tab===""&&o.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",r)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,i){const s=this.locationHistory.getFirstRouteInfoForTab(e);if(s){const o=Object.assign({},s);o.pathname=n,o.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return xe.createElement(K6.Provider,{value:this.routeMangerContextState},xe.createElement(qte,{ionRoute:aie,ionRedirect:{},stackManager:uie,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const py=rie(pie);py.displayName="IonRouter";class fie extends xe.Component{constructor(e){super(e);const{history:n}=e,i=af(e,["history"]);this.history=n||sne(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,s=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=af(e,["children"]);return xe.createElement(Yf,Object.assign({history:this.history},i),xe.createElement(py,{registerHistoryListener:this.registerHistoryListener},n))}}class gLe extends xe.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,s=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=af(e,["children"]);return xe.createElement(Yf,Object.assign({},i),xe.createElement(py,{registerHistoryListener:this.registerHistoryListener},n))}}class bLe extends xe.Component{constructor(e){super(e);const{history:n}=e,i=af(e,["history"]);this.history=n||ane(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,s=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=af(e,["children"]);return xe.createElement(Yf,Object.assign({history:this.history},i),xe.createElement(py,{registerHistoryListener:this.registerHistoryListener},n))}}const mie=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Mn(()=>Promise.resolve().then(()=>xh),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class IE extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class gie extends IE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bie extends IE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xie extends IE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var h2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(h2||(h2={}));var yie=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class vie{constructor(e,{headers:n={},customFetch:i,region:s=h2.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=mie(i)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e,n={}){var i;return yie(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:r}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;r&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(a["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(a["Content-Type"]="application/json",c=JSON.stringify(r)));const u=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(f=>{throw new gie(f)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new bie(u);if(!u.ok)throw new xie(u);let h=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ns={},$E={},fy={},Zf={},my={},gy={},wie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vd=wie();const kie=Vd.fetch,gL=Vd.fetch.bind(Vd),bL=Vd.Headers,Sie=Vd.Request,Cie=Vd.Response,xh=Object.freeze(Object.defineProperty({__proto__:null,Headers:bL,Request:Sie,Response:Cie,default:gL,fetch:kie},Symbol.toStringTag,{value:"Module"})),Eie=bD(xh);var by={};Object.defineProperty(by,"__esModule",{value:!0});let Tie=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};by.default=Tie;var xL=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gy,"__esModule",{value:!0});const Iie=xL(Eie),$ie=xL(by);let _ie=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Iie.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,l;let c=null,u=null,d=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,p="OK")}catch(b){o.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new $ie.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var r,a,l;return{error:{message:"".concat((r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError",": ").concat(o==null?void 0:o.message),details:"".concat((a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""),hint:"",code:"".concat((l=o==null?void 0:o.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};gy.default=_ie;var Aie=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(my,"__esModule",{value:!0});const Nie=Aie(gy);let Die=class extends Nie.default{select(e){let n=!1;const i=(e!=null?e:"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const r=o?"".concat(o,".order"):"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,"".concat(a?"".concat(a,","):"").concat(e,".").concat(n?"asc":"desc").concat(i===void 0?"":i?".nullsfirst":".nullslast")),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":"".concat(i,".limit");return this.url.searchParams.set(s,"".concat(e)),this}range(e,n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":"".concat(s,".offset"),r=typeof s>"u"?"limit":"".concat(s,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(r,"".concat(n-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:r="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(r,'; for="').concat(c,'"; options=').concat(l,";"),r==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};my.default=Die;var Oie=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zf,"__esModule",{value:!0});const Rie=Oie(my);let Lie=class extends Rie.default{eq(e,n){return this.url.searchParams.append(e,"eq.".concat(n)),this}neq(e,n){return this.url.searchParams.append(e,"neq.".concat(n)),this}gt(e,n){return this.url.searchParams.append(e,"gt.".concat(n)),this}gte(e,n){return this.url.searchParams.append(e,"gte.".concat(n)),this}lt(e,n){return this.url.searchParams.append(e,"lt.".concat(n)),this}lte(e,n){return this.url.searchParams.append(e,"lte.".concat(n)),this}like(e,n){return this.url.searchParams.append(e,"like.".concat(n)),this}likeAllOf(e,n){return this.url.searchParams.append(e,"like(all).{".concat(n.join(","),"}")),this}likeAnyOf(e,n){return this.url.searchParams.append(e,"like(any).{".concat(n.join(","),"}")),this}ilike(e,n){return this.url.searchParams.append(e,"ilike.".concat(n)),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,"ilike(all).{".concat(n.join(","),"}")),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,"ilike(any).{".concat(n.join(","),"}")),this}is(e,n){return this.url.searchParams.append(e,"is.".concat(n)),this}in(e,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?'"'.concat(s,'"'):"".concat(s)).join(",");return this.url.searchParams.append(e,"in.(".concat(i,")")),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(n))),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(n))),this}rangeGt(e,n){return this.url.searchParams.append(e,"sr.".concat(n)),this}rangeGte(e,n){return this.url.searchParams.append(e,"nxl.".concat(n)),this}rangeLt(e,n){return this.url.searchParams.append(e,"sl.".concat(n)),this}rangeLte(e,n){return this.url.searchParams.append(e,"nxr.".concat(n)),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,"adj.".concat(n)),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,"ov.".concat(n)):this.url.searchParams.append(e,"ov.{".concat(n.join(","),"}")),this}textSearch(e,n,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const r=i===void 0?"":"(".concat(i,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(r,".").concat(n)),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,"eq.".concat(i))}),this}not(e,n,i){return this.url.searchParams.append(e,"not.".concat(n,".").concat(i)),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const s=i?"".concat(i,".or"):"or";return this.url.searchParams.append(s,"(".concat(e,")")),this}filter(e,n,i){return this.url.searchParams.append(e,"".concat(n,".").concat(i)),this}};Zf.default=Lie;var zie=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fy,"__esModule",{value:!0});const Yh=zie(Zf);let Fie=class{constructor(e,{headers:n={},schema:i,fetch:s}){this.url=e,this.headers=n,this.schema=i,this.fetch=s}select(e,{head:n=!1,count:i}={}){const s=n?"HEAD":"GET";let o=!1;const r=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),i&&(this.headers.Prefer="count=".concat(i)),new Yh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push("count=".concat(n)),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const r=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(r.length>0){const a=[...new Set(r)].map(l=>'"'.concat(l,'"'));this.url.searchParams.set("columns",a.join(","))}}return new Yh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){const r="POST",a=["resolution=".concat(i?"ignore":"merge","-duplicates")];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push("count=".concat(s)),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>'"'.concat(u,'"'));this.url.searchParams.set("columns",c.join(","))}}return new Yh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push("count=".concat(n)),this.headers.Prefer=s.join(","),new Yh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push("count=".concat(e)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Yh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fy.default=Fie;var xy={},yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.version=void 0;yy.version="0.0.0-automated";Object.defineProperty(xy,"__esModule",{value:!0});xy.DEFAULT_HEADERS=void 0;const Pie=yy;xy.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(Pie.version)};var yL=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($E,"__esModule",{value:!0});const Bie=yL(fy),Mie=yL(Zf),jie=xy;let Uie=class vL{constructor(e,{headers:n={},schema:i,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},jie.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=s}from(e){const n=new URL("".concat(this.url,"/").concat(e));return new Bie.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vL(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:s=!1,count:o}={}){let r;const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;i||s?(r=i?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?"{".concat(d.join(","),"}"):"".concat(d)]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(r="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new Mie.default({method:r,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};$E.default=Uie;var yh=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.PostgrestError=ns.PostgrestBuilder=ns.PostgrestTransformBuilder=ns.PostgrestFilterBuilder=ns.PostgrestQueryBuilder=ns.PostgrestClient=void 0;const wL=yh($E);ns.PostgrestClient=wL.default;const kL=yh(fy);ns.PostgrestQueryBuilder=kL.default;const SL=yh(Zf);ns.PostgrestFilterBuilder=SL.default;const CL=yh(my);ns.PostgrestTransformBuilder=CL.default;const EL=yh(gy);ns.PostgrestBuilder=EL.default;const TL=yh(by);ns.PostgrestError=TL.default;var Vie=ns.default={PostgrestClient:wL.default,PostgrestQueryBuilder:kL.default,PostgrestFilterBuilder:SL.default,PostgrestTransformBuilder:CL.default,PostgrestBuilder:EL.default,PostgrestError:TL.default};const{PostgrestClient:Hie,PostgrestQueryBuilder:SLe,PostgrestFilterBuilder:CLe,PostgrestTransformBuilder:ELe,PostgrestBuilder:TLe,PostgrestError:ILe}=Vie,Wie="2.11.2",Gie={"X-Client-Info":"realtime-js/".concat(Wie)},qie="1.0.0",IL=1e4,Kie=1e3;var Sd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sd||(Sd={}));var ks;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ks||(ks={}));var Lo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lo||(Lo={}));var p2;(function(t){t.websocket="websocket"})(p2||(p2={}));var oc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(oc||(oc={}));class Xie{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const s=n.getUint8(1),o=n.getUint8(2);let r=this.HEADER_LENGTH+2;const a=i.decode(e.slice(r,r+s));r=r+s;const l=i.decode(e.slice(r,r+o));r=r+o;const c=JSON.parse(i.decode(e.slice(r,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $L{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jt||(jt={}));const KA=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,r)=>(o[r]=Yie(r,t,e,s),o),{})},Yie=(t,e,n,i)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,r=n[t];return o&&!i.includes(o)?_L(o,r):f2(r)},_L=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ese(e,n)}switch(t){case jt.bool:return Zie(e);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return Jie(e);case jt.json:case jt.jsonb:return Qie(e);case jt.timestamp:return tse(e);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return f2(e);default:return f2(e)}},f2=t=>t,Zie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Qie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log("JSON parse error: ".concat(e)),t}return t},ese=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const r=t.slice(1,n);try{o=JSON.parse("["+r+"]")}catch(a){o=r?r.split(","):[]}return o.map(a=>_L(e,a))}return t},tse=t=>typeof t=="string"?t.replace(" ","T"):t,AL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sw{constructor(e,n,i={},s=IL){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var XA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(XA||(XA={}));class Rp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rp.syncState(this.state,s,o,r),this.pendingDiffs.forEach(l=>{this.state=Rp.syncDiff(this.state,l,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rp.syncDiff(this.state,s,o,r),a())}),this.onJoin((s,o,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:r})}),this.onLeave((s,o,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const o=this.cloneDeep(e),r=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{r[c]||(l[c]=u)}),this.map(r,(c,u)=>{const d=o[c];if(d){const h=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),f=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);f.length>0&&(a[c]=f),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},i,s)}static syncDiff(e,n,i,s){const{joins:o,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(r,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(YA||(YA={}));var ZA;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ZA||(ZA={}));var Br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class _E{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=ks.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sw(this,Lo.join,this.params,this.timeout),this.rejoinTimer=new $L(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ks.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=ks.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),s),this.state=ks.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=ks.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lo.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Rp(this),this.broadcastEndpointURL=AL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Br.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Br.CLOSED));const l={},c={broadcast:o,presence:r,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Br.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,f=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:g,schema:x,table:y,filter:v}}=b,w=u&&u[m];if(w&&w.event===g&&w.schema===x&&w.table===y&&w.filter===v)f.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(Br.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:r}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ks.leaving;const n=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Lo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new Sw(this,Lo.leave,{},e);s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),r=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),r}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let s=new Sw(this,e,n,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,o;const r=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Lo;if(i&&[a,l,c,u].indexOf(r)>=0&&i!==this._joinRef())return;let h=this._onMessage(r,n,i);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var f,m,b;return((f=p.filter)===null||f===void 0?void 0:f.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===r}).map(p=>p.callback(h,i)):(o=this.bindings[r])===null||o===void 0||o.filter(p=>{var f,m,b,g,x,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const v=p.id,w=(f=p.filter)===null||f===void 0?void 0:f.event;return v&&((m=n.ids)===null||m===void 0?void 0:m.includes(v))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return v==="*"||v===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:m,table:b,commit_timestamp:g,type:x,errors:y}=f;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(f))}p.callback(h,i)})}_isClosed(){return this.state===ks.closed}_isJoined(){return this.state===ks.joined}_isJoining(){return this.state===ks.joining}_isLeaving(){return this.state===ks.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,n,i){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&_E.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lo.close,{},e)}_onError(e){this._on(Lo.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ks.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=KA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=KA(e.columns,e.old_record)),n}}const nse=()=>{},ise=typeof WebSocket<"u",sse='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class ose{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gie,this.params={},this.timeout=IL,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=nse,this.conn=null,this.sendBuffer=[],this.serializer=new Xie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>Mn(()=>Promise.resolve().then(()=>xh),void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},this.endPoint="".concat(e,"/").concat(p2.websocket),this.httpEndpoint=AL(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,r)=>r(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $L(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ise){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rse(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mn(()=>import("./browser-DP0M7a1t.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qie}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Sd.connecting:return oc.Connecting;case Sd.open:return oc.Open;case Sd.closing:return oc.Closing;default:return oc.Closed}}isConnected(){return this.connectionState()===oc.Open}channel(e,n={config:{}}){const i=new _E("realtime:".concat(e),n,this);return this.channels.push(i),i}push(e){const{topic:n,event:i,payload:s,ref:o}=e,r=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push","".concat(n," ").concat(i," (").concat(o,")"),s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let i=null;try{i=JSON.parse(atob(n.split(".")[1]))}catch(s){}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp));this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Lo.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Kie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:s,payload:o,ref:r}=n;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(o.status||""," ").concat(i," ").concat(s," ").concat(r&&"("+r+")"||""),o),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(s,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lo.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return"".concat(e).concat(i).concat(s)}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([sse],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class rse{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Sd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class AE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ei(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ase extends AE{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class m2 extends AE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lse=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const NL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Mn(()=>Promise.resolve().then(()=>xh),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},cse=()=>lse(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mn(()=>Promise.resolve().then(()=>xh),void 0)).Response:Response}),g2=t=>{if(Array.isArray(t))return t.map(n=>g2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=g2(i)}),e};var fu=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Cw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),use=(t,e,n)=>fu(void 0,void 0,void 0,function*(){const i=yield cse();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new ase(Cw(s),t.status||500))}).catch(s=>{e(new m2(Cw(s),s))}):e(new m2(Cw(t),t))}),dse=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),n))};function Jf(t,e,n,i,s,o){return fu(this,void 0,void 0,function*(){return new Promise((r,a)=>{t(n,dse(e,i,s,o)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>r(l)).catch(l=>use(l,a,i))})})}function R0(t,e,n,i){return fu(this,void 0,void 0,function*(){return Jf(t,"GET",e,n,i)})}function Pa(t,e,n,i,s){return fu(this,void 0,void 0,function*(){return Jf(t,"POST",e,i,s,n)})}function hse(t,e,n,i,s){return fu(this,void 0,void 0,function*(){return Jf(t,"PUT",e,i,s,n)})}function pse(t,e,n,i){return fu(this,void 0,void 0,function*(){return Jf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function DL(t,e,n,i,s){return fu(this,void 0,void 0,function*(){return Jf(t,"DELETE",e,i,s,n)})}var Zi=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const fse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},JA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mse{constructor(e,n={},i,s){this.url=e,this.headers=n,this.bucketId=i,this.fetch=NL(s)}uploadOrUpdate(e,n,i,s){return Zi(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},JA),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(r.upsert)});const l=r.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=i,a["cache-control"]="max-age=".concat(r.cacheControl),a["content-type"]=r.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ei(o))return{data:null,error:o};throw o}})}upload(e,n,i){return Zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,s){return Zi(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),r=this._getFinalPath(o),a=new URL(this.url+"/object/upload/sign/".concat(r));a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:JA.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]="max-age=".concat(c.cacheControl),u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ei(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Zi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Pa(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(i),{},{headers:s}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new AE("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:a},error:null}}catch(i){if(ei(i))return{data:null,error:i};throw i}})}update(e,n,i){return Zi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Zi(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ei(s))return{data:null,error:s};throw s}})}copy(e,n,i){return Zi(this,void 0,void 0,function*(){try{return{data:{path:(yield Pa(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ei(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,i){return Zi(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Pa(this.fetch,"".concat(this.url,"/object/sign/").concat(s),Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const r=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(r))},{data:o,error:null}}catch(s){if(ei(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,i){return Zi(this,void 0,void 0,function*(){try{const s=yield Pa(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:n,paths:e},{headers:this.headers}),o=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return{data:s.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI("".concat(this.url).concat(r.signedURL).concat(o)):null})),error:null}}catch(s){if(ei(s))return{data:null,error:s};throw s}})}download(e,n){return Zi(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=o?"?".concat(o):"";try{const a=this._getFinalPath(e);return{data:yield(yield R0(this.fetch,"".concat(this.url,"/").concat(s,"/").concat(a).concat(r),{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ei(a))return{data:null,error:a};throw a}})}info(e){return Zi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield R0(this.fetch,"".concat(this.url,"/object/info/").concat(n),{headers:this.headers});return{data:g2(i),error:null}}catch(i){if(ei(i))return{data:null,error:i};throw i}})}exists(e){return Zi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pse(this.fetch,"".concat(this.url,"/object/").concat(n),{headers:this.headers}),{data:!0,error:null}}catch(i){if(ei(i)&&i instanceof m2){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),s=[],o=n!=null&&n.download?"download=".concat(n.download===!0?"":n.download):"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c="?".concat(c)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(i).concat(c))}}}remove(e){return Zi(this,void 0,void 0,function*(){try{return{data:yield DL(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ei(n))return{data:null,error:n};throw n}})}list(e,n,i){return Zi(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fse),n),{prefix:e||""});return{data:yield Pa(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),s,{headers:this.headers},i),error:null}}catch(s){if(ei(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push("width=".concat(e.width)),e.height&&n.push("height=".concat(e.height)),e.resize&&n.push("resize=".concat(e.resize)),e.format&&n.push("format=".concat(e.format)),e.quality&&n.push("quality=".concat(e.quality)),n.join("&")}}const gse="2.7.1",bse={"X-Client-Info":"storage-js/".concat(gse)};var Nu=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class xse{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},bse),n),this.fetch=NL(i)}listBuckets(){return Nu(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(ei(e))return{data:null,error:e};throw e}})}getBucket(e){return Nu(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(n){if(ei(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Nu(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ei(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Nu(this,void 0,void 0,function*(){try{return{data:yield hse(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ei(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Nu(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(n){if(ei(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Nu(this,void 0,void 0,function*(){try{return{data:yield DL(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(n){if(ei(n))return{data:null,error:n};throw n}})}}class yse extends xse{constructor(e,n={},i){super(e,n,i)}from(e){return new mse(this.url,this.headers,e,this.fetch)}}const vse="2.49.4";let up="";typeof Deno<"u"?up="deno":typeof document<"u"?up="web":typeof navigator<"u"&&navigator.product==="ReactNative"?up="react-native":up="node";const wse={"X-Client-Info":"supabase-js-".concat(up,"/").concat(vse)},kse={headers:wse},Sse={schema:"public"},Cse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ese={};var Tse=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Ise=t=>{let e;return t?e=t:typeof fetch>"u"?e=gL:e=fetch,(...n)=>e(...n)},$se=()=>typeof Headers>"u"?bL:Headers,_se=(t,e,n)=>{const i=Ise(n),s=$se();return(o,r)=>Tse(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),i(o,Object.assign(Object.assign({},r),{headers:c}))})};var Ase=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function Nse(t){return t.replace(/\/$/,"")}function Dse(t,e){const{db:n,auth:i,realtime:s,global:o}=t,{db:r,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},r),n),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),o),accessToken:()=>Ase(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const OL="2.69.1",Wu=30*1e3,b2=3,Ew=b2*Wu,Ose="http://localhost:9999",Rse="supabase.auth.token",Lse={"X-Client-Info":"gotrue-js/".concat(OL)},x2="X-Supabase-Api-Version",RL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fse=6e5;class NE extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pse extends NE{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Bse(t){return ot(t)&&t.name==="AuthApiError"}class LL extends NE{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nl extends NE{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class Oa extends Nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mse(t){return ot(t)&&t.name==="AuthSessionMissingError"}class Tw extends Nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yg extends Nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zg extends Nl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jse(t){return ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class QA extends Nl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y2 extends Nl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Iw(t){return ot(t)&&t.name==="AuthRetryableFetchError"}class e4 extends Nl{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Lp extends Nl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const t4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n4=" 	\n\r=".split(""),Use=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<n4.length;e+=1)t[n4[e].charCodeAt(0)]=-2;for(let e=0;e<t4.length;e+=1)t[t4[e].charCodeAt(0)]=e;return t})();function zL(t,e,n){const i=Use[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(t),'"'))}}function i4(t){const e=[],n=r=>{e.push(String.fromCodePoint(r))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=r=>{Wse(r,i,n)};for(let r=0;r<t.length;r+=1)zL(t.charCodeAt(r),s,o);return e.join("")}function Vse(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(t.toString(16)))}function Hse(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Vse(i,e)}}function Wse(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gse(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)zL(t.charCodeAt(s),n,i);return new Uint8Array(e)}function qse(t){const e=[];return Hse(t,n=>e.push(n)),new Uint8Array(e)}function Kse(t){return Math.round(Date.now()/1e3)+t}function Xse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",Xl={tested:!1,writable:!1},zp=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Xl.tested)return Xl.writable;const t="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xl.tested=!0,Xl.writable=!0}catch(e){Xl.tested=!0,Xl.writable=!1}return Xl.writable};function Yse(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch(i){}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const FL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Mn(()=>Promise.resolve().then(()=>xh),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Zse=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",PL=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jg=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(i){return n}},Qg=async(t,e)=>{await t.removeItem(e)};class vy{constructor(){this.promise=new vy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vy.promiseConstructor=Promise;function $w(t){const e=t.split(".");if(e.length!==3)throw new Lp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!zse.test(e[i]))throw new Lp("JWT not in base64url format");return{header:JSON.parse(i4(e[0])),payload:JSON.parse(i4(e[1])),signature:Gse(e[2]),raw:{header:e[0],payload:e[1]}}}async function Jse(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qse(t,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await t(o);if(!e(o,null,r)){i(r);return}}catch(r){if(!e(o,r)){s(r);return}}})()})}function eoe(t){return("0"+t.toString(16)).substr(-2)}function toe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,eoe).join("")}async function noe(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function ioe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await noe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(t,e,n=!1){const i=toe();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await PL(t,"".concat(e,"-code-verifier"),s);const o=await ioe(i);return[o,i===o?"plain":"s256"]}const soe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ooe(t){const e=t.headers.get(x2);if(!e||!e.match(soe))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(n){return null}}function roe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aoe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var loe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const tc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),coe=[502,503,504];async function s4(t){var e;if(!Zse(t))throw new y2(tc(t),0);if(coe.includes(t.status))throw new y2(tc(t),t.status);let n;try{n=await t.json()}catch(o){throw new LL(tc(o),o)}let i;const s=ooe(t);if(s&&s.getTime()>=RL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new e4(tc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Oa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new e4(tc(n),t.status,n.weak_password.reasons);throw new Pse(tc(n),t.status||500,i)}const uoe=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function bt(t,e,n,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[x2]||(o[x2]=RL["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization="Bearer ".concat(i.jwt));const r=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(r.redirect_to=i.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await doe(t,e,n+a,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function doe(t,e,n,i,s,o){const r=uoe(e,i,s,o);let a;try{a=await t(n,Object.assign({},r))}catch(l){throw console.error(l),new y2(tc(l),0)}if(a.ok||await s4(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await s4(l)}}function Ra(t){var e;let n=null;moe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Kse(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function o4(t){const e=Ra(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hoe(t){return{data:t,error:null}}function poe(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=t,r=loe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},l=Object.assign({},r);return{data:{properties:a,user:l},error:null}}function foe(t){return t}function moe(t){return t.access_token&&t.refresh_token&&t.expires_in}var goe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class boe{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=FL(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await bt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(n),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await bt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wa})}catch(i){if(ot(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=goe(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await bt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:s,headers:this.headers,xform:poe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await bt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Wa})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,o,r,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:foe});if(u.error)throw u.error;const d=await u.json(),h=(r=u.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(f=>{const m=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(f.split(";")[1].split("=")[1]);c["".concat(b,"Page")]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ot(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await bt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Wa})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await bt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:n,headers:this.headers,xform:Wa})}catch(i){if(ot(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){try{return await bt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:n},xform:Wa})}catch(i){if(ot(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:n,error:i}=await bt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await bt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}}const xoe={getItem:t=>zp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zp()&&globalThis.localStorage.removeItem(t)}};function r4(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function yoe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self<"u"&&(self.globalThis=self)}}const Ou={debug:!!(globalThis&&zp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class voe extends BL{}async function woe(t,e,n){Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new voe('Acquiring an exclusive Navigator LockManager lock "'.concat(t,'" immediately failed'));if(Ou.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}yoe();const koe={url:Ose,storageKey:Rse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lse,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a4(t,e,n){return await n()}class cf{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cf.nextInstanceID,cf.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},koe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new boe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=FL(s.fetch),this.lock=s.lock||a4,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=woe:this.lock=a4,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zp()?this.storage=xoe:(this.memoryStorage={},this.storage=r4(this.memoryStorage)):(this.memoryStorage={},this.storage=r4(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(OL,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Yse(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),ar()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),jse(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ot(n)?{error:n}:{error:new LL("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const o=await bt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ra}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,i,s;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Du(this.storage,this.storageKey)),o=await bt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:f},xform:Ra})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await bt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:u,password:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ra})}else throw new Yg("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:r,options:a}=e;n=await bt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:o4})}else if("phone"in e){const{phone:o,password:r,options:a}=e;n=await bt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:o4})}else throw new Yg("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Tw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Jg(this.storage,"".concat(this.storageKey,"-code-verifier")),[i,s]=(n!=null?n:"").split("/");try{const{data:o,error:r}=await bt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ra});if(await Qg(this.storage,"".concat(this.storageKey,"-code-verifier")),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Tw}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s!=null?s:null}),error:r})}catch(o){if(ot(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:o,nonce:r}=e,a=await bt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ra}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,s,o,r;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Du(this.storage,this.storageKey));const{error:d}=await bt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await bt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(r=l==null?void 0:l.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Yg("You must provide either an email or phone number.")}catch(a){if(ot(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,i;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:r,error:a}=await bt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ra});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const l=r.session,c=r.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,i,s;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await Du(this.storage,this.storageKey)),await bt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:hoe})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Oa;const{error:s}=await bt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n="".concat(this.url,"/resend");if("email"in e){const{email:i,type:s,options:o}=e,{error:r}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:r,error:a}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new Yg("You must provide either an email or phone number and a type")}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch(o){}})()),s}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch(s){}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Ew:!1;if(this._debug("#__loadSession()","session has".concat(i?"":" not"," expired"),"expires_at",e.expires_at),!i){if(this.storage.isServer){let r=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await bt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Wa}):await this._useSession(async n=>{var i,s,o;const{data:r,error:a}=n;if(a)throw a;return!(!((i=r.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oa}:await bt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Wa})})}catch(n){if(ot(n))return Mse(n)&&(await this._removeSession(),await Qg(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Oa;const r=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Du(this.storage,this.storageKey));const{data:c,error:u}=await bt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:r.access_token,xform:Wa});if(u)throw u;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(i){if(ot(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Oa;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:r}=$w(e.access_token);if(r.exp&&(i=r.exp,s=i<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ot(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:r,error:a}=n;if(a)throw a;e=(i=r.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Oa;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ar())throw new Zg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new QA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new QA("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:r,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!r||!c)throw new Zg("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Wu&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(p,"s, should have been closer to ").concat(d,"s"));const f=h-d;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const g={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:r,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(i){if(ot(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jg(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{error:o};const r=(i=s.session)===null||i===void 0?void 0:i.access_token;if(r){const{error:a}=await this.admin.signOut(r,e);if(a&&!(Bse(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qg(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const n=Xse(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:r}=n;if(r)throw r;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Du(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var r,a,l,c,u;const{data:d,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ar()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ot(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:r}=n;if(r)throw r;return await bt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{const i=Date.now();return await Qse(async s=>(s>0&&await Jse(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await bt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ra})),(s,o)=>{const r=200*Math.pow(2,s);return o&&Iw(o)&&Date.now()+r-i<Wu})}catch(i){if(this._debug(n,"error",i),ot(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),ar()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Jg(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ew;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(Ew,"s")),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Iw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Oa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(s,"begin");try{this.refreshingDeferred=new vy;const{data:o,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!o.session)throw new Oa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ot(o)){const r={session:null,error:o};return Iw(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s="#_notifyAllSubscribers(".concat(e,")");this._debug(s,"begin",n,"broadcast = ".concat(i));try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await PL(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Wu);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(s," ticks, a tick lasts ").concat(Wu,"ms, refresh threshold is ").concat(b2," ticks")),s<=b2&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof BL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n="#_onVisibilityChanged(".concat(e,")");this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=["provider=".concat(encodeURIComponent(n))];if(i!=null&&i.redirectTo&&s.push("redirect_to=".concat(encodeURIComponent(i.redirectTo))),i!=null&&i.scopes&&s.push("scopes=".concat(encodeURIComponent(i.scopes))),this.flowType==="pkce"){const[o,r]=await Du(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(r))});s.push(a.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push("skip_http_redirect=".concat(i.skipBrowserRedirect)),"".concat(e,"?").concat(s.join("&"))}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?{data:null,error:o}:await bt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:o,error:r}=n;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await bt(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code="data:image/svg+xml;utf-8,".concat(l.totp.qr_code)),{data:l,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:r,error:a}=await bt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?{data:null,error:o}:await bt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],s=i.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=i.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=$w(s.access_token);let a=null;r.aal&&(a=r.aal);let l=a;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=r.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(r=>r.kid===e);if(i||(i=this.jwks.keys.find(r=>r.kid===e),i&&this.jwks_cached_at+Fse>Date.now()))return i;const{data:s,error:o}=await bt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Lp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(r=>r.kid===e),!i)throw new Lp("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:p,error:f}=await this.getSession();if(f||!p.session)return{data:null,error:f};i=p.session.access_token}const{header:s,payload:o,signature:r,raw:{header:a,payload:l}}=$w(i);if(roe(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:o,header:s,signature:r},error:null}}const c=aoe(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,r,qse("".concat(a,".").concat(l))))throw new Lp("Invalid JWT signature");return{data:{claims:o,header:s,signature:r},error:null}}catch(i){if(ot(i))return{data:null,error:i};throw i}}}cf.nextInstanceID=0;const Soe=cf;class Coe extends Soe{constructor(e){super(e)}}var Eoe=function(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class Toe{constructor(e,n,i){var s,o,r;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Nse(e);this.realtimeUrl="".concat(a,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(a,"/auth/v1"),this.storageUrl="".concat(a,"/storage/v1"),this.functionsUrl="".concat(a,"/functions/v1");const l="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),c={db:Sse,realtime:Ese,auth:Object.assign(Object.assign({},Cse),{storageKey:l}),global:kse},u=Dse(i!=null?i:{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(h)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((r=u.auth)!==null&&r!==void 0?r:{},this.headers,u.global.fetch),this.fetch=_se(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hie("".concat(a,"/rest/v1"),{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new vie(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yse(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Eoe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,storageKey:o,flowType:r,lock:a,debug:l},c,u){const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Coe({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,flowType:r,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ose(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ioe=(t,e,n)=>new Toe(t,e,n),ML="https://dofkgpqpyxfgxwwbiifj.supabase.co",Ob="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvZmtncHFweXhmZ3h3d2JpaWZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY1MzMzNjYsImV4cCI6MjA2MjEwOTM2Nn0.XZekoiM7DjAU8VidqhMlU0SuSB1QEvqCf5V8YKElTiA";console.log("[Supabase] Initializing with:",{url:ML,key:(Ob==null?void 0:Ob.slice(0,5))+"..."});const Te=Ioe(ML,Ob,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});var v2=function(t,e){return v2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},v2(t,e)};function $oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");v2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var L0=function(){return L0=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},L0.apply(this,arguments)};var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OE(t,e){return t(e={exports:{}},e.exports),e.exports}var nc=OE(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){var s=this;this.locked=new Map,this.addToLocked=function(o,r){var a=s.locked.get(o);a===void 0?r===void 0?s.locked.set(o,[]):s.locked.set(o,[r]):r!==void 0&&(a.unshift(r),s.locked.set(o,a))},this.isLocked=function(o){return s.locked.has(o)},this.lock=function(o){return new Promise(function(r,a){s.isLocked(o)?s.addToLocked(o,r):(s.addToLocked(o),r())})},this.unlock=function(o){var r=s.locked.get(o);if(r!==void 0&&r.length!==0){var a=r.pop();s.locked.set(o,r),a!==void 0&&setTimeout(a,0)}else s.locked.delete(o)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();e.default=function(){return n.getInstance()}});DE(nc);var _oe=DE(OE(function(t,e){var n=rc&&rc.__awaiter||function(u,d,h,p){return new(h||(h=Promise))(function(f,m){function b(y){try{x(p.next(y))}catch(v){m(v)}}function g(y){try{x(p.throw(y))}catch(v){m(v)}}function x(y){y.done?f(y.value):new h(function(v){v(y.value)}).then(b,g)}x((p=p.apply(u,d||[])).next())})},i=rc&&rc.__generator||function(u,d){var h,p,f,m,b={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(x){return function(y){return function(v){if(h)throw new TypeError("Generator is already executing.");for(;b;)try{if(h=1,p&&(f=2&v[0]?p.return:v[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,v[1])).done)return f;switch(p=0,f&&(v=[2&v[0],f.value]),v[0]){case 0:case 1:f=v;break;case 4:return b.label++,{value:v[1],done:!1};case 5:b.label++,p=v[1],v=[0];continue;case 7:v=b.ops.pop(),b.trys.pop();continue;default:if(f=b.trys,!((f=f.length>0&&f[f.length-1])||v[0]!==6&&v[0]!==2)){b=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){b.label=v[1];break}if(v[0]===6&&b.label<f[1]){b.label=f[1],f=v;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(v);break}f[2]&&b.ops.pop(),b.trys.pop();continue}v=d.call(u,b)}catch(w){v=[6,w],p=0}finally{h=f=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([x,y])}}},s=rc;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",r={key:function(u){return n(s,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return n(s,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},clear:function(){return n(s,void 0,void 0,function(){return i(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return n(s,void 0,void 0,function(){return i(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return n(s,void 0,void 0,function(){return i(this,function(h){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function a(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="",p=0;p<u;p++)h+=d[Math.floor(Math.random()*d.length)];return h}var c=function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,h){return h===void 0&&(h=5e3),n(this,void 0,void 0,function(){var p,f,m,b,g,x,y;return i(this,function(v){switch(v.label){case 0:p=Date.now()+l(4),f=Date.now()+h,m=o+"-"+d,b=this.storageHandler===void 0?r:this.storageHandler,v.label=1;case 1:return Date.now()<f?[4,a(30)]:[3,8];case 2:return v.sent(),b.getItemSync(m)!==null?[3,5]:(g=this.id+"-"+d+"-"+p,[4,a(Math.floor(25*Math.random()))]);case 3:return v.sent(),b.setItemSync(m,JSON.stringify({id:this.id,iat:p,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return v.sent(),(x=b.getItemSync(m))!==null&&(y=JSON.parse(x)).id===this.id&&y.iat===p?(this.acquiredIatSet.add(p),this.refreshLockWhileAcquired(m,p),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?r:this.storageHandler),[4,this.waitForSomethingToChange(f)];case 6:v.sent(),v.label=7;case 7:return p=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,h){return n(this,void 0,void 0,function(){var p=this;return i(this,function(f){return setTimeout(function(){return n(p,void 0,void 0,function(){var m,b,g;return i(this,function(x){switch(x.label){case 0:return[4,nc.default().lock(h)];case 1:return x.sent(),this.acquiredIatSet.has(h)?(m=this.storageHandler===void 0?r:this.storageHandler,(b=m.getItemSync(d))===null?(nc.default().unlock(h),[2]):((g=JSON.parse(b)).timeRefreshed=Date.now(),m.setItemSync(d,JSON.stringify(g)),nc.default().unlock(h),this.refreshLockWhileAcquired(d,h),[2])):(nc.default().unlock(h),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return n(this,void 0,void 0,function(){return i(this,function(h){switch(h.label){case 0:return[4,new Promise(function(p){var f=!1,m=Date.now(),b=!1;function g(){if(b||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(x),b=!0),!f){f=!0;var y=50-(Date.now()-m);y>0?setTimeout(p,y):p(null)}}window.addEventListener("storage",g),u.addToWaiting(g);var x=setTimeout(g,Math.max(0,d-Date.now()))})];case 1:return h.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(h){return h!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return n(this,void 0,void 0,function(){return i(this,function(h){switch(h.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,h.sent()]}})})},u.prototype.releaseLock__private__=function(d){return n(this,void 0,void 0,function(){var h,p,f,m;return i(this,function(b){switch(b.label){case 0:return h=this.storageHandler===void 0?r:this.storageHandler,p=o+"-"+d,(f=h.getItemSync(p))===null?[2]:(m=JSON.parse(f)).id!==this.id?[3,2]:[4,nc.default().lock(m.iat)];case 1:b.sent(),this.acquiredIatSet.delete(m.iat),h.removeItemSync(p),nc.default().unlock(m.iat),u.notifyWaiters(),b.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var h=Date.now()-5e3,p=d,f=[],m=0;;){var b=p.keySync(m);if(b===null)break;f.push(b),m++}for(var g=!1,x=0;x<f.length;x++){var y=f[x];if(y.includes(o)){var v=p.getItemSync(y);if(v!==null){var w=JSON.parse(v);(w.timeRefreshed===void 0&&w.timeAcquired<h||w.timeRefreshed!==void 0&&w.timeRefreshed<h)&&(p.removeItemSync(y),g=!0)}}}g&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c})),gc=OE(function(t,e){var n=rc&&rc.__assign||function(){return n=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},n.apply(this,arguments)};function i(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function s(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return i("Expires",d.expires?d.expires.toUTCString():"")+i("Domain",d.domain)+i("Path",d.path)+i("Secure",d.secure)+i("SameSite",d.sameSite)}(u)}function o(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<u.length;h++){var p=u[h].split("="),f=p.slice(1).join("=");f.charAt(0)==='"'&&(f=f.slice(1,-1));try{c[p[0].replace(d,decodeURIComponent)]=f.replace(d,decodeURIComponent)}catch(m){}}return c}function r(){return o(document.cookie)}function a(l,c,u){document.cookie=s(l,c,n({path:"/"},u))}e.__esModule=!0,e.encode=s,e.parse=o,e.getAll=r,e.get=function(l){return r()[l]},e.set=a,e.remove=function(l,c){a(l,"",n(n({},c),{expires:-1}))}});DE(gc),gc.encode,gc.parse,gc.getAll;gc.get;gc.set;gc.remove;new _oe;var Aoe={isAuthenticated:!1,isLoading:!0},Pr=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},Noe=L0(L0({},Aoe),{buildAuthorizeUrl:Pr,buildLogoutUrl:Pr,getAccessTokenSilently:Pr,getAccessTokenWithPopup:Pr,getIdTokenClaims:Pr,loginWithRedirect:Pr,loginWithPopup:Pr,logout:Pr,handleRedirectCallback:Pr}),Doe=te.createContext(Noe);(function(t){$oe(e,t);function e(n,i){var s=t.call(this,i||n)||this;return s.error=n,s.error_description=i,Object.setPrototypeOf(s,e.prototype),s}return e})(Error);var Ooe=function(t){return t===void 0&&(t=Doe),te.useContext(t)};const Roe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Loe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",zoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",Foe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Poe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Boe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",Moe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM316.84 346.3a96.06 96.06 0 01-155.66-59.18 16 16 0 01-16.49-26.43l20-20a16 16 0 0122.62 0l20 20A16 16 0 01196 288a17.31 17.31 0 01-2-.14 64.07 64.07 0 00102.66 33.63 16 16 0 1120.21 24.81zm50.47-63l-20 20a16 16 0 01-22.62 0l-20-20a16 16 0 0113.09-27.2A64 64 0 00215 222.64 16 16 0 11194.61 198a96 96 0 01156 59 16 16 0 0116.72 26.35z'/></svg>",joe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Uoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Voe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Qf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",Rb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Hoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 255.79l-64-64-64 64M256 448.21V207.79' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Woe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",l4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M288 72v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",c4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Zh="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",u4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M176 272l80 80 80-80M256 48v288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",d4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440 432H72a40 40 0 01-40-40V120a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H440a40 40 0 0140 40v240a40 40 0 01-40 40zM32 192h448' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Goe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm167.67 106.17c-12 40.3-50.2 69.83-95.62 69.83s-83.62-29.53-95.72-69.83a8 8 0 017.83-10.17h175.69a8 8 0 017.82 10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",qoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Koe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",Xoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Yoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>",Zoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",w2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",k2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",Joe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Qoe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ere="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",tre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>",nre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",ire="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",sre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",ore="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm-23.67 149.83c12-40.3 50.2-69.83 95.62-69.83s83.62 29.53 95.71 69.83a8 8 0 01-7.82 10.17H168.15a8 8 0 01-7.82-10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",rre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",are="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",lre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 53.84S208 48 256 48s74 16 96 32h64a64 64 0 0164 64v48a64 64 0 01-64 64h-30a32.34 32.34 0 00-27.37 15.4S350 290.19 324 335.22 248 448 240 464c-29 0-43-22-34-47.71 10.28-29.39 23.71-54.38 27.46-87.09.54-4.78-3.14-12-8-12L96 307' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M96 241l80 2c20 1.84 32 12.4 32 30h0c0 17.6-14 28.84-32 30l-80 4c-17.6 0-32-16.4-32-34v-.17A32 32 0 0196 241zM64 176l112 2c18 .84 32 12.41 32 30h0c0 17.61-14 28.86-32 30l-112 2a32.1 32.1 0 01-32-32h0a32.1 32.1 0 0132-32zM112 48l64 3c21 1.84 32 11.4 32 29h0c0 17.6-14.4 30-32 30l-64 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32zM80 112l96 2c19 .84 32 12.4 32 30h0c0 17.6-13 28.84-32 30l-96 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",cre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 458.16S304 464 256 464s-74-16-96-32H96a64 64 0 01-64-64v-48a64 64 0 0164-64h30a32.34 32.34 0 0027.37-15.4S162 221.81 188 176.78 264 64 272 48c29 0 43 22 34 47.71-10.28 29.39-23.71 54.38-27.46 87.09-.54 4.78 3.14 12 7.95 12L416 205' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 271l-80-2c-20-1.84-32-12.4-32-30h0c0-17.6 14-28.84 32-30l80-4c17.6 0 32 16.4 32 34v.17A32 32 0 01416 271zM448 336l-112-2c-18-.84-32-12.41-32-30h0c0-17.61 14-28.86 32-30l112-2a32.1 32.1 0 0132 32h0a32.1 32.1 0 01-32 32zM400 464l-64-3c-21-1.84-32-11.4-32-29h0c0-17.6 14.4-30 32-30l64-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32zM432 400l-96-2c-19-.84-32-12.4-32-30h0c0-17.6 13-28.84 32-30l96-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ure="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",dre="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",hre=()=>{const t=jc(),[e]=Hx(),n=async()=>{try{const{data:i,error:s}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/Cephaline-Supabase/app"}});if(s)throw s;await e({message:"Google login successful!",duration:2e3,position:"top",color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(i){await e({message:i.message||"Google login failed",duration:3e3,position:"top",color:"danger"}),console.error("Google login error:",i)}};return S.jsxs(Ge,{expand:"block",onClick:n,fill:"outline",className:"google-login-button",children:[S.jsx(Qe,{slot:"start",icon:ere,className:"google-icon"}),"Continue with Google"]})};//! otpauth 9.4.0 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.7.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const pre=t=>{const e=new ArrayBuffer(8),n=new Uint8Array(e);let i=t;for(let s=7;s>=0&&i!==0;s--)n[s]=i&255,i-=n[s],i/=256;return n};function z0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fre(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wy(t,...e){if(!fre(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mre(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z0(t.outputLen),z0(t.blockLen)}function Hd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UL(t,e){wy(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gre(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _w(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rr(t,e){return t<<32-e|t>>>e}function Aw(t,e){return t<<e|t>>>32-e>>>0}const h4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bre(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function p4(t){for(let e=0;e<t.length;e++)t[e]=bre(t[e])}function xre(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ky(t){return typeof t=="string"&&(t=xre(t)),wy(t),t}class RE{clone(){return this._cloneInto()}}function vh(t){const e=i=>t().update(ky(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class VL extends RE{update(e){return Hd(this),this.iHash.update(e),this}digestInto(e){Hd(this),wy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:s,destroyed:o,blockLen:r,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=r,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,n){super(),this.finished=!1,this.destroyed=!1,mre(e);const i=ky(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let r=0;r<o.length;r++)o[r]^=54;this.iHash.update(o),this.oHash=e.create();for(let r=0;r<o.length;r++)o[r]^=106;this.oHash.update(o),o.fill(0)}}const S2=(t,e,n)=>new VL(t,e).update(n).digest();S2.create=(t,e)=>new VL(t,e);function yre(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const s=BigInt(32),o=BigInt(4294967295),r=Number(n>>s&o),a=Number(n&o),l=i?4:0,c=i?0:4;t.setUint32(e+l,r,i),t.setUint32(e+c,a,i)}function HL(t,e,n){return t&e^~t&n}function WL(t,e,n){return t&e^t&n^e&n}class LE extends RE{update(e){Hd(this);const{view:n,buffer:i,blockLen:s}=this;e=ky(e);const o=e.length;for(let r=0;r<o;){const a=Math.min(s-this.pos,o-r);if(a===s){const l=_w(e);for(;s<=o-r;r+=s)this.process(l,r);continue}i.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hd(this),UL(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:s,isLE:o}=this;let{pos:r}=this;n[r++]=128,this.buffer.subarray(r).fill(0),this.padOffset>s-r&&(this.process(i,0),r=0);for(let d=r;d<s;d++)n[d]=0;yre(i,s-8,BigInt(this.length*8),o),this.process(i,0);const a=_w(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:s,finished:o,destroyed:r,pos:a}=this;return e.length=s,e.pos=a,e.finished=o,e.destroyed=r,s%n&&e.buffer.set(i),e}constructor(e,n,i,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_w(this.buffer)}}const Jh=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ta=new Uint32Array(80);class vre extends LE{get(){const{A:e,B:n,C:i,D:s,E:o}=this;return[e,n,i,s,o]}set(e,n,i,s,o){this.A=e|0,this.B=n|0,this.C=i|0,this.D=s|0,this.E=o|0}process(e,n){for(let l=0;l<16;l++,n+=4)Ta[l]=e.getUint32(n,!1);for(let l=16;l<80;l++)Ta[l]=Aw(Ta[l-3]^Ta[l-8]^Ta[l-14]^Ta[l-16],1);let{A:i,B:s,C:o,D:r,E:a}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=HL(s,o,r),u=1518500249):l<40?(c=s^o^r,u=1859775393):l<60?(c=WL(s,o,r),u=2400959708):(c=s^o^r,u=3395469782);const d=Aw(i,5)+c+a+u+Ta[l]|0;a=r,r=o,o=Aw(s,30),s=i,i=d}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,r=r+this.D|0,a=a+this.E|0,this.set(i,s,o,r,a)}roundClean(){Ta.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=Jh[0]|0,this.B=Jh[1]|0,this.C=Jh[2]|0,this.D=Jh[3]|0,this.E=Jh[4]|0}}const wre=vh(()=>new vre),kre=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ia=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$a=new Uint32Array(64);class GL extends LE{get(){const{A:e,B:n,C:i,D:s,E:o,F:r,G:a,H:l}=this;return[e,n,i,s,o,r,a,l]}set(e,n,i,s,o,r,a,l){this.A=e|0,this.B=n|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=r|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)$a[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=$a[d-15],p=$a[d-2],f=rr(h,7)^rr(h,18)^h>>>3,m=rr(p,17)^rr(p,19)^p>>>10;$a[d]=m+$a[d-7]+f+$a[d-16]|0}let{A:i,B:s,C:o,D:r,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=rr(a,6)^rr(a,11)^rr(a,25),p=u+h+HL(a,l,c)+kre[d]+$a[d]|0,m=(rr(i,2)^rr(i,13)^rr(i,22))+WL(i,s,o)|0;u=c,c=l,l=a,a=r+p|0,r=o,o=s,s=i,i=p+m|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,r=r+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(i,s,o,r,a,l,c,u)}roundClean(){$a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=Ia[0]|0,this.B=Ia[1]|0,this.C=Ia[2]|0,this.D=Ia[3]|0,this.E=Ia[4]|0,this.F=Ia[5]|0,this.G=Ia[6]|0,this.H=Ia[7]|0}}class Sre extends GL{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Cre=vh(()=>new GL),Ere=vh(()=>new Sre),eb=BigInt(2**32-1),C2=BigInt(32);function qL(t,e=!1){return e?{h:Number(t&eb),l:Number(t>>C2&eb)}:{h:Number(t>>C2&eb)|0,l:Number(t&eb)|0}}function KL(t,e=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:r}=qL(t[s],e);[n[s],i[s]]=[o,r]}return[n,i]}const Tre=(t,e)=>BigInt(t>>>0)<<C2|BigInt(e>>>0),Ire=(t,e,n)=>t>>>n,$re=(t,e,n)=>t<<32-n|e>>>n,_re=(t,e,n)=>t>>>n|e<<32-n,Are=(t,e,n)=>t<<32-n|e>>>n,Nre=(t,e,n)=>t<<64-n|e>>>n-32,Dre=(t,e,n)=>t>>>n-32|e<<64-n,Ore=(t,e)=>e,Rre=(t,e)=>t,XL=(t,e,n)=>t<<n|e>>>32-n,YL=(t,e,n)=>e<<n|t>>>32-n,ZL=(t,e,n)=>e<<n-32|t>>>64-n,JL=(t,e,n)=>t<<n-32|e>>>64-n;function Lre(t,e,n,i){const s=(e>>>0)+(i>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const zre=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Fre=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,Pre=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Bre=(t,e,n,i,s)=>e+n+i+s+(t/2**32|0)|0,Mre=(t,e,n,i,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(s>>>0),jre=(t,e,n,i,s,o)=>e+n+i+s+o+(t/2**32|0)|0,rt={fromBig:qL,split:KL,toBig:Tre,shrSH:Ire,shrSL:$re,rotrSH:_re,rotrSL:Are,rotrBH:Nre,rotrBL:Dre,rotr32H:Ore,rotr32L:Rre,rotlSH:XL,rotlSL:YL,rotlBH:ZL,rotlBL:JL,add:Lre,add3L:zre,add3H:Fre,add4L:Pre,add4H:Bre,add5H:jre,add5L:Mre},[Ure,Vre]=rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_a=new Uint32Array(80),Aa=new Uint32Array(80);class QL extends LE{get(){const{Ah:e,Al:n,Bh:i,Bl:s,Ch:o,Cl:r,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:p,Gl:f,Hh:m,Hl:b}=this;return[e,n,i,s,o,r,a,l,c,u,d,h,p,f,m,b]}set(e,n,i,s,o,r,a,l,c,u,d,h,p,f,m,b){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=r|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=m|0,this.Hl=b|0}process(e,n){for(let y=0;y<16;y++,n+=4)_a[y]=e.getUint32(n),Aa[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const v=_a[y-15]|0,w=Aa[y-15]|0,C=rt.rotrSH(v,w,1)^rt.rotrSH(v,w,8)^rt.shrSH(v,w,7),k=rt.rotrSL(v,w,1)^rt.rotrSL(v,w,8)^rt.shrSL(v,w,7),E=_a[y-2]|0,T=Aa[y-2]|0,_=rt.rotrSH(E,T,19)^rt.rotrBH(E,T,61)^rt.shrSH(E,T,6),z=rt.rotrSL(E,T,19)^rt.rotrBL(E,T,61)^rt.shrSL(E,T,6),N=rt.add4L(k,z,Aa[y-7],Aa[y-16]),O=rt.add4H(N,C,_,_a[y-7],_a[y-16]);_a[y]=O|0,Aa[y]=N|0}let{Ah:i,Al:s,Bh:o,Bl:r,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:f,Gh:m,Gl:b,Hh:g,Hl:x}=this;for(let y=0;y<80;y++){const v=rt.rotrSH(d,h,14)^rt.rotrSH(d,h,18)^rt.rotrBH(d,h,41),w=rt.rotrSL(d,h,14)^rt.rotrSL(d,h,18)^rt.rotrBL(d,h,41),C=d&p^~d&m,k=h&f^~h&b,E=rt.add5L(x,w,k,Vre[y],Aa[y]),T=rt.add5H(E,g,v,C,Ure[y],_a[y]),_=E|0,z=rt.rotrSH(i,s,28)^rt.rotrBH(i,s,34)^rt.rotrBH(i,s,39),N=rt.rotrSL(i,s,28)^rt.rotrBL(i,s,34)^rt.rotrBL(i,s,39),O=i&o^i&a^o&a,I=s&r^s&l^r&l;g=m|0,x=b|0,m=p|0,b=f|0,p=d|0,f=h|0,{h:d,l:h}=rt.add(c|0,u|0,T|0,_|0),c=a|0,u=l|0,a=o|0,l=r|0,o=i|0,r=s|0;const L=rt.add3L(_,N,I);i=rt.add3H(L,T,z,O),s=L|0}({h:i,l:s}=rt.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:r}=rt.add(this.Bh|0,this.Bl|0,o|0,r|0),{h:a,l}=rt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=rt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=rt.add(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:f}=rt.add(this.Fh|0,this.Fl|0,p|0,f|0),{h:m,l:b}=rt.add(this.Gh|0,this.Gl|0,m|0,b|0),{h:g,l:x}=rt.add(this.Hh|0,this.Hl|0,g|0,x|0),this.set(i,s,o,r,a,l,c,u,d,h,p,f,m,b,g,x)}roundClean(){_a.fill(0),Aa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class Hre extends QL{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Wre=vh(()=>new QL),Gre=vh(()=>new Hre),e8=[],t8=[],n8=[],qre=BigInt(0),Qh=BigInt(1),Kre=BigInt(2),Xre=BigInt(7),Yre=BigInt(256),Zre=BigInt(113);for(let t=0,e=Qh,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],e8.push(2*(5*i+n)),t8.push((t+1)*(t+2)/2%64);let s=qre;for(let o=0;o<7;o++)e=(e<<Qh^(e>>Xre)*Zre)%Yre,e&Kre&&(s^=Qh<<(Qh<<BigInt(o))-Qh);n8.push(s)}const[Jre,Qre]=KL(n8,!0),f4=(t,e,n)=>n>32?ZL(t,e,n):XL(t,e,n),m4=(t,e,n)=>n>32?JL(t,e,n):YL(t,e,n);function eae(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let r=0;r<10;r++)n[r]=t[r]^t[r+10]^t[r+20]^t[r+30]^t[r+40];for(let r=0;r<10;r+=2){const a=(r+8)%10,l=(r+2)%10,c=n[l],u=n[l+1],d=f4(c,u,1)^n[a],h=m4(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[r+p]^=d,t[r+p+1]^=h}let s=t[2],o=t[3];for(let r=0;r<24;r++){const a=t8[r],l=f4(s,o,a),c=m4(s,o,a),u=e8[r];s=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let r=0;r<50;r+=10){for(let a=0;a<10;a++)n[a]=t[r+a];for(let a=0;a<10;a++)t[r+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Jre[i],t[1]^=Qre[i]}n.fill(0)}class zE extends RE{keccak(){h4||p4(this.state32),eae(this.state32,this.rounds),h4||p4(this.state32),this.posOut=0,this.pos=0}update(e){Hd(this);const{blockLen:n,state:i}=this;e=ky(e);const s=e.length;for(let o=0;o<s;){const r=Math.min(n-this.pos,s-o);for(let a=0;a<r;a++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:s}=this;e[i]^=n,n&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Hd(this,!1),wy(e),this.finish();const n=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const r=Math.min(i-this.posOut,o-s);e.set(n.subarray(this.posOut,this.posOut+r),s),this.posOut+=r,s+=r}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return z0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(UL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:s,rounds:o,enableXOF:r}=this;return e||(e=new zE(n,i,s,r,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=r,e.destroyed=this.destroyed,e}constructor(e,n,i,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,z0(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=gre(this.state)}}const Sy=(t,e,n)=>vh(()=>new zE(e,t,n)),tae=Sy(6,144,224/8),nae=Sy(6,136,256/8),iae=Sy(6,104,384/8),sae=Sy(6,72,512/8),Wd=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),g4={SHA1:wre,SHA224:Ere,SHA256:Cre,SHA384:Gre,SHA512:Wre,"SHA3-224":tae,"SHA3-256":nae,"SHA3-384":iae,"SHA3-512":sae},FE=t=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(t):return"SHA1";case/^SHA(?:2?-)?224$/i.test(t):return"SHA224";case/^SHA(?:2?-)?256$/i.test(t):return"SHA256";case/^SHA(?:2?-)?384$/i.test(t):return"SHA384";case/^SHA(?:2?-)?512$/i.test(t):return"SHA512";case/^SHA3-224$/i.test(t):return"SHA3-224";case/^SHA3-256$/i.test(t):return"SHA3-256";case/^SHA3-384$/i.test(t):return"SHA3-384";case/^SHA3-512$/i.test(t):return"SHA3-512";default:throw new TypeError("Unknown hash algorithm: ".concat(t))}},oae=(t,e,n)=>{var i;if(S2){const s=(i=g4[t])!=null?i:g4[FE(t)];return S2(s,e,n)}else throw new Error("Missing HMAC function")},E2="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",rae=t=>{t=t.replace(/ /g,"");let e=t.length;for(;t[e-1]==="=";)--e;t=(e<t.length?t.substring(0,e):t).toUpperCase();const n=new ArrayBuffer(t.length*5/8|0),i=new Uint8Array(n);let s=0,o=0,r=0;for(let a=0;a<t.length;a++){const l=E2.indexOf(t[a]);if(l===-1)throw new TypeError("Invalid character found: ".concat(t[a]));o=o<<5|l,s+=5,s>=8&&(s-=8,i[r++]=o>>>s)}return i},aae=t=>{let e=0,n=0,i="";for(let s=0;s<t.length;s++)for(n=n<<8|t[s],e+=8;e>=5;)i+=E2[n>>>e-5&31],e-=5;return e>0&&(i+=E2[n<<5-e&31]),i},lae=t=>{t=t.replace(/ /g,"");const e=new ArrayBuffer(t.length/2),n=new Uint8Array(e);for(let i=0;i<t.length;i+=2)n[i/2]=parseInt(t.substring(i,i+2),16);return n},cae=t=>{let e="";for(let n=0;n<t.length;n++){const i=t[n].toString(16);i.length===1&&(e+="0"),e+=i}return e.toUpperCase()},uae=t=>{const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i)&255;return n},dae=t=>{let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},b4=Wd.TextEncoder?new Wd.TextEncoder:null,x4=Wd.TextDecoder?new Wd.TextDecoder:null,hae=t=>{if(!b4)throw new Error("Encoding API not available");return b4.encode(t)},pae=t=>{if(!x4)throw new Error("Encoding API not available");return x4.decode(t)},fae=t=>{var e;if((e=Wd.crypto)!=null&&e.getRandomValues)return Wd.crypto.getRandomValues(new Uint8Array(t));throw new Error("Cryptography API not available")};class ta{static fromLatin1(e){return new ta({buffer:uae(e).buffer})}static fromUTF8(e){return new ta({buffer:hae(e).buffer})}static fromBase32(e){return new ta({buffer:rae(e).buffer})}static fromHex(e){return new ta({buffer:lae(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:dae(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:pae(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:aae(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:cae(this.bytes)}),this.hex}constructor({buffer:e,size:n=20}={}){this.bytes=typeof e>"u"?fae(n):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const mae=(t,e)=>{{if(t.length!==e.length)throw new TypeError("Input strings must have the same length");let n=-1,i=0;for(;++n<t.length;)i|=t.charCodeAt(n)^e.charCodeAt(n);return i===0}};class Jn{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:n=Jn.defaults.algorithm,digits:i=Jn.defaults.digits,counter:s=Jn.defaults.counter}){const o=oae(n,e.bytes,pre(s)),r=o[o.byteLength-1]&15;return(((o[r]&127)<<24|(o[r+1]&255)<<16|(o[r+2]&255)<<8|o[r+3]&255)%10**i).toString().padStart(i,"0")}generate({counter:e=this.counter++}={}){return Jn.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:n,algorithm:i,digits:s=Jn.defaults.digits,counter:o=Jn.defaults.counter,window:r=Jn.defaults.window}){if(e.length!==s)return null;let a=null;const l=c=>{const u=Jn.generate({secret:n,algorithm:i,digits:s,counter:c});mae(e,u)&&(a=c-o)};l(o);for(let c=1;c<=r&&a===null&&(l(o-c),!(a!==null||(l(o+c),a!==null)));++c);return a}validate({token:e,counter:n=this.counter,window:i}){return Jn.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"counter=".concat(e(this.counter))}constructor({issuer:e=Jn.defaults.issuer,label:n=Jn.defaults.label,issuerInLabel:i=Jn.defaults.issuerInLabel,secret:s=new ta,algorithm:o=Jn.defaults.algorithm,digits:r=Jn.defaults.digits,counter:a=Jn.defaults.counter}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof s=="string"?ta.fromBase32(s):s,this.algorithm=FE(o),this.digits=r,this.counter=a}}class Pn{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=Pn.defaults.period,timestamp:n=Date.now()}={}){return Math.floor(n/1e3/e)}counter({timestamp:e=Date.now()}={}){return Pn.counter({period:this.period,timestamp:e})}static remaining({period:e=Pn.defaults.period,timestamp:n=Date.now()}={}){return e*1e3-n%(e*1e3)}remaining({timestamp:e=Date.now()}={}){return Pn.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:n,digits:i,period:s=Pn.defaults.period,timestamp:o=Date.now()}){return Jn.generate({secret:e,algorithm:n,digits:i,counter:Pn.counter({period:s,timestamp:o})})}generate({timestamp:e=Date.now()}={}){return Pn.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:n,algorithm:i,digits:s,period:o=Pn.defaults.period,timestamp:r=Date.now(),window:a}){return Jn.validate({token:e,secret:n,algorithm:i,digits:s,counter:Pn.counter({period:o,timestamp:r}),window:a})}validate({token:e,timestamp:n,window:i}){return Pn.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"period=".concat(e(this.period))}constructor({issuer:e=Pn.defaults.issuer,label:n=Pn.defaults.label,issuerInLabel:i=Pn.defaults.issuerInLabel,secret:s=new ta,algorithm:o=Pn.defaults.algorithm,digits:r=Pn.defaults.digits,period:a=Pn.defaults.period}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof s=="string"?ta.fromBase32(s):s,this.algorithm=FE(o),this.digits=r,this.period=a}}const gae=({isOpen:t,onDidDismiss:e,session:n,onVerificationSuccess:i})=>{const[s,o]=te.useState(""),[r,a]=te.useState(""),[l,c]=te.useState(!1),[u,d]=te.useState(!1),[h,p]=te.useState(""),f=async(g,x)=>{if(g.length!==6||!/^\d+$/.test(g))throw new Error("Code must be 6 digits");if(!(new Pn({secret:x,digits:6,period:30,algorithm:"SHA1"}).validate({token:g,window:1})!==null))throw new Error("Invalid verification code")},m=async()=>{var g,x;if(s.length!==6){a("Please enter a 6-digit code");return}c(!0),a("");try{const{data:y,error:v}=await Te.from("user_totp").select("secret, is_verified").eq("user_id",(g=n.user)==null?void 0:g.id).single();if(v||!(y!=null&&y.secret))throw v||new Error("TOTP not configured for this user");if(await f(s,y.secret),!y.is_verified){const{error:k}=await Te.from("user_totp").update({is_verified:!0}).eq("user_id",(x=n.user)==null?void 0:x.id);if(k)throw k}const{data:{session:w},error:C}=await Te.auth.refreshSession();if(C)throw C;i(w)}catch(y){a(y.message||"Verification failed"),y.message==="Invalid verification code"&&(p("Invalid verification code"),d(!0),setTimeout(()=>{b()},1500)),console.error("TOTP verification failed:",y)}finally{c(!1)}},b=()=>{o(""),a(""),e()};return S.jsxs(yr,{isOpen:t,onDidDismiss:b,children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(wi,{children:"Two-Factor Authentication"}),S.jsx(Ge,{slot:"end",fill:"clear",onClick:b,children:S.jsx(Qe,{icon:Qf})})]})}),S.jsxs(nn,{className:"ion-padding",children:[S.jsxs(rl,{children:[S.jsx(Vo,{className:"ion-justify-content-center",children:S.jsxs(Os,{size:"12",sizeMd:"8",children:[S.jsx(_n,{children:S.jsx("p",{className:"ion-text-center",children:"Enter the 6-digit code from your authenticator app"})}),S.jsx("div",{className:"ion-text-center",style:{margin:"20px 0"},children:S.jsx(Cn,{value:s,onIonChange:g=>{const y=(g.detail.value||"").replace(/\D/g,"");o(y.slice(0,6)),a("")},placeholder:"123456",inputMode:"numeric",maxlength:6,autofocus:!0,clearOnEdit:!0,class:r?"ion-invalid":"",style:{fontSize:"24px",textAlign:"center",letterSpacing:"10px",border:r?"2px solid var(--ion-color-danger)":"1px solid var(--ion-color-medium)",borderRadius:"8px",padding:"10px",width:"200px",margin:"0 auto"},disabled:l})}),r&&S.jsx(_n,{color:"danger",children:S.jsx("p",{className:"ion-text-center",style:{fontSize:"14px"},children:r})})]})}),S.jsx(Vo,{className:"ion-justify-content-center ion-margin-top",children:S.jsx(Os,{size:"12",sizeMd:"8",children:S.jsx(Ge,{expand:"block",onClick:m,disabled:l||s.length!==6,children:l?S.jsx(fo,{name:"crescent"}):"Verify"})})})]}),S.jsx(Al,{isOpen:u,onDidDismiss:()=>d(!1),message:h,duration:1500,position:"top",color:"danger"})]})]})};var i8={exports:{}};(function(t,e){(function(i,s){t.exports=s(te)})(Qt,function(n){return function(i){var s={};function o(r){if(s[r])return s[r].exports;var a=s[r]={i:r,l:!1,exports:{}};return i[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=i,o.c=s,o.d=function(r,a,l){o.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},o.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,a){if(a&1&&(r=o(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var c in r)o.d(l,c,(function(u){return r[u]}).bind(null,c));return l},o.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(a,"a",a),a},o.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(i,s,o){o.r(s);var r=o("react"),a=function(){var h=function(p,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var g in b)b.hasOwnProperty(g)&&(m[g]=b[g])},h(p,f)};return function(p,f){h(p,f);function m(){this.constructor=p}p.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}(),l=function(){return l=Object.assign||function(h){for(var p,f=1,m=arguments.length;f<m;f++){p=arguments[f];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(h[b]=p[b])}return h},l.apply(this,arguments)},c=function(h,p){var f={};for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.indexOf(m)<0&&(f[m]=h[m]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(h);b<m.length;b++)p.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(h,m[b])&&(f[m[b]]=h[m[b]]);return f};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return f?new Promise(function(m,b){f.call(navigator,p,m,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(h){a(p,h);function p(f){var m=h.call(this,f)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return p.prototype.componentDidMount=function(){var f=this,m=f.state,b=f.props;if(this.unmounted=!1,!u()){b.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(f){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(f.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(f.videoConstraints)!==JSON.stringify(m.videoConstraints),x=f.minScreenshotWidth!==m.minScreenshotWidth,y=f.minScreenshotHeight!==m.minScreenshotHeight;(g||x||y)&&(this.canvas=null,this.ctx=null),(b||g)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(f){f&&(f.getVideoTracks&&f.getAudioTracks?(f.getVideoTracks().map(function(m){f.removeTrack(m),m.stop()}),f.getAudioTracks().map(function(m){f.removeTrack(m),m.stop()})):f.stop())},p.prototype.stopAndCleanup=function(){var f=this.state;f.hasUserMedia&&(p.stopMediaStream(this.stream),f.src&&window.URL.revokeObjectURL(f.src))},p.prototype.getScreenshot=function(f){var m=this,b=m.state,g=m.props;if(!b.hasUserMedia)return null;var x=this.getCanvas(f);return x&&x.toDataURL(g.screenshotFormat,g.screenshotQuality)},p.prototype.getCanvas=function(f){var m=this,b=m.state,g=m.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var x=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var v=x/y;x=g.minScreenshotWidth||this.video.clientWidth,y=x/v,g.minScreenshotHeight&&y<g.minScreenshotHeight&&(y=g.minScreenshotHeight,x=y*v)}this.canvas=document.createElement("canvas"),this.canvas.width=(f==null?void 0:f.width)||x,this.canvas.height=(f==null?void 0:f.height)||y,this.ctx=this.canvas.getContext("2d")}var w=this,C=w.ctx,k=w.canvas;return C&&k&&(k.width=(f==null?void 0:f.width)||k.width,k.height=(f==null?void 0:f.height)||k.height,g.mirrored&&(C.translate(k.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=g.imageSmoothing,C.drawImage(this.video,0,0,(f==null?void 0:f.width)||k.width,(f==null?void 0:f.height)||k.height),g.mirrored&&(C.scale(-1,1),C.translate(-k.width,0))),k},p.prototype.requestUserMedia=function(){var f=this,m=this.props,b=function(y,v){var w={video:typeof v<"u"?v:!0};m.audio&&(w.audio=typeof y<"u"?y:!0),f.requestUserMediaId++;var C=f.requestUserMediaId;navigator.mediaDevices.getUserMedia(w).then(function(k){f.unmounted||C!==f.requestUserMediaId?p.stopMediaStream(k):f.handleUserMedia(null,k)}).catch(function(k){f.handleUserMedia(k)})};if("mediaDevices"in navigator)b(m.audioConstraints,m.videoConstraints);else{var g=function(y){return{optional:[{sourceId:y}]}},x=function(y){var v=y.deviceId;return typeof v=="string"?v:Array.isArray(v)&&v.length>0?v[0]:typeof v=="object"&&v.ideal?v.ideal:null};MediaStreamTrack.getSources(function(y){var v=null,w=null;y.forEach(function(E){E.kind==="audio"?v=E.id:E.kind==="video"&&(w=E.id)});var C=x(m.audioConstraints);C&&(v=C);var k=x(m.videoConstraints);k&&(w=k),b(g(v),g(w))})}},p.prototype.handleUserMedia=function(f,m){var b=this.props;if(f||!m){this.setState({hasUserMedia:!1}),b.onUserMediaError(f);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch(g){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}b.onUserMedia(m)},p.prototype.render=function(){var f=this,m=this,b=m.state,g=m.props,x=g.audio;g.forceScreenshotSourceSize;var y=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var v=g.mirrored,w=g.style,C=w===void 0?{}:w,k=g.children,E=c(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=v?l(l({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,_={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",l({autoPlay:!0,disablePictureInPicture:y,src:b.src,muted:!x,playsInline:!0,ref:function(z){f.video=z},style:T},E)),k&&k(_))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(r.Component);s.default=d},react:function(i,s){i.exports=n}}).default})})(i8);var bae=i8.exports;const xae=ga(bae),yae=({isOpen:t,onDidDismiss:e,userId:n,onVerificationSuccess:i})=>{const s=te.useRef(null),[o,r]=te.useState("ready"),[a,l]=te.useState(""),[c,u]=te.useState(0),[d,h]=te.useState("user"),p={facingMode:d,width:1280,height:720},f=te.useCallback(async()=>{var g,x;try{r("capturing"),l("");const y=(g=s.current)==null?void 0:g.getScreenshot();if(!y)throw new Error("Failed to capture image");r("verifying");const v=y.startsWith("data:image/jpeg;base64,")?y.split(",")[1]:y,C=(x=(await Te.auth.getSession()).data.session)==null?void 0:x.access_token;if(!C)throw new Error("Authentication required");const E=await(await fetch("https://your-vercel-or-edge-function.url",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)},body:JSON.stringify({user_id:n,image_data:v})})).json();if(E.error)throw new Error(E.error);if(E.confidence&&E.confidence<.6)throw new Error("Face not clear. Please try again with better lighting.");if(!E.verified)throw new Error("Face did not match. Please try again.");r("success"),setTimeout(i,1e3)}catch(y){r("error"),l(y.message||"Verification failed"),console.error("Face verification error:",y)}},[n,i]),m=()=>{r("ready"),l(""),u(0),e()},b=()=>{c<2?(u(g=>g+1),r("ready"),l("")):m()};return S.jsxs(yr,{isOpen:t,onDidDismiss:m,children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(wi,{children:"Face Verification"}),S.jsx(Ge,{slot:"end",fill:"clear",onClick:m,children:S.jsx(Qe,{icon:Qf})})]})}),S.jsx(nn,{className:"ion-padding",children:S.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},children:o==="success"?S.jsxs("div",{style:{padding:"2rem"},children:[S.jsx(_n,{color:"success",children:S.jsx("h2",{children:"Verification Successful!"})}),S.jsx("p",{children:"You will be redirected shortly..."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{width:"100%",maxWidth:"400px",height:"300px",position:"relative",borderRadius:"8px",overflow:"hidden",marginBottom:"1rem",backgroundColor:"#f5f5f5"},children:o!=="ready"&&o!=="capturing"?S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#000"},children:S.jsx(fo,{name:"dots",color:"light"})}):S.jsx(xae,{ref:s,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:p,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a&&S.jsxs("div",{style:{margin:"1rem 0"},children:[S.jsx(_n,{color:"danger",children:S.jsx("p",{children:a})}),c<2&&o==="error"&&S.jsx(_n,{color:"medium",children:S.jsxs("p",{children:[2-c," attempts remaining"]})})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[o==="error"?S.jsx(Ge,{onClick:b,children:"Try Again"}):S.jsx(Ge,{onClick:f,disabled:o!=="ready",children:o==="verifying"?S.jsx(fo,{name:"dots"}):"Verify Face"}),S.jsx(Ge,{onClick:()=>h(g=>g==="user"?"environment":"user"),fill:"outline",disabled:o==="verifying",children:S.jsx(Qe,{icon:Moe})}),S.jsx(Ge,{fill:"outline",onClick:m,disabled:o==="verifying",children:"Cancel"})]})]})})})]})},vae=({message:t,isOpen:e,onClose:n})=>S.jsx(_l,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),wae=()=>{const t=jc(),[e,n]=te.useState(""),[i,s]=te.useState(""),[o,r]=te.useState(""),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[p,f]=te.useState(!1),[m,b]=te.useState(!1),[g,x]=te.useState(null),[y,v]=te.useState(null),{isAuthenticated:w,user:C,getAccessTokenSilently:k}=Ooe(),E=()=>{u(!0),setTimeout(()=>{t.push("/Cephaline-Supabase/app","forward","replace")},300)},T=async()=>{var N,O;try{h(!0);const{data:I,error:L}=await Te.auth.signInWithPassword({email:e,password:i});if(L)throw L;const{data:F,error:j}=await Te.from("user_totp").select("id").eq("user_id",(N=I.user)==null?void 0:N.id).maybeSingle();if(j)throw j;if(F){x(I),f(!0);return}const{data:H,error:M}=await Te.from("user_facial_enrollments").select("id").eq("user_id",(O=I.user)==null?void 0:O.id).maybeSingle();if(M)throw M;if(H){v(I.user),b(!0);return}E()}catch(I){r(I.message||"Login failed"),l(!0)}finally{h(!1)}},_=()=>{f(!1),E()},z=()=>{b(!1),E()};return S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(qn,{children:S.jsx(wi,{style:{textAlign:"left"},children:"Cephaline Coding Journal App"})})}),S.jsxs(nn,{className:"ion-padding",fullscreen:!0,children:[S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:S.jsx(qi,{className:"fancy-card",style:{width:"90%",maxWidth:"400px",padding:"2rem"},children:S.jsxs(Gi,{children:[S.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"USER LOGIN"}),S.jsx(Cn,{fill:"outline",className:"fancy-input",type:"email",placeholder:"Email",value:e,onIonChange:N=>n(N.detail.value),disabled:d}),S.jsx(Cn,{className:"fancy-input",fill:"outline",type:"password",placeholder:"Password",value:i,onIonChange:N=>s(N.detail.value),style:{marginTop:"1rem"},disabled:d,children:S.jsx(kd,{slot:"end"})}),S.jsx(Ge,{className:"fancy-button",expand:"block",onClick:T,style:{marginTop:"2rem",borderRadius:"8px"},disabled:d,children:d?"Logging in...":"Login"}),S.jsx("div",{style:{textAlign:"center",margin:"1rem 0"},children:S.jsx("span",{style:{color:"#666"},children:"OR"})}),S.jsx(hre,{}),S.jsx(Ge,{fill:"clear",expand:"block",routerLink:"/Cephaline-Supabase/Registration",color:"primary",disabled:d,children:"Don't have an account? Register here"}),S.jsx(vae,{message:o,isOpen:a,onClose:()=>l(!1)}),S.jsx(Al,{isOpen:c,onDidDismiss:()=>u(!1),message:"Login successful! Redirecting...",duration:1500,position:"top",color:"primary"})]})})}),S.jsx(gae,{isOpen:p,onDidDismiss:()=>f(!1),session:g,onVerificationSuccess:_}),S.jsx(yae,{isOpen:m,onDidDismiss:()=>b(!1),userId:y==null?void 0:y.id,onVerificationSuccess:z})]})]})},s8={},kae=Object.freeze(Object.defineProperty({__proto__:null,default:s8},Symbol.toStringTag,{value:"Module"}));var T2=null;function Sae(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch(e){}try{return s8.randomBytes(t)}catch(e){}if(!T2)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return T2(t)}function Cae(t){T2=t}function PE(t,e){if(t=t||BE,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(F0(Sae(uf),uf)),n.join("")}function o8(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=BE;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(s){Mo(function(){try{s(null,PE(t))}catch(o){s(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(s,o){i(function(r,a){if(r){o(r);return}s(a)})})}function r8(t,e){if(typeof e>"u"&&(e=BE),typeof e=="number"&&(e=PE(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return I2(t,e)}function a8(t,e,n,i){function s(o){typeof t=="string"&&typeof e=="number"?o8(e,function(r,a){I2(t,a,o,i)}):typeof t=="string"&&typeof e=="string"?I2(t,e,o,i):Mo(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,r){s(function(a,l){if(a){r(a);return}o(l)})})}function l8(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function Eae(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:l8(r8(t,e.substring(0,e.length-31)),e)}function Tae(t,e,n,i){function s(o){if(typeof t!="string"||typeof e!="string"){Mo(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Mo(o.bind(this,null,!1));return}a8(t,e.substring(0,29),function(r,a){r?o(r):o(null,l8(a,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,r){s(function(a,l){if(a){r(a);return}o(l)})})}function Iae(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function $ae(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function _ae(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return c8(t)>72}var Mo=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function c8(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function Aae(t){for(var e=0,n,i,s=new Array(c8(t)),o=0,r=t.length;o<r;++o)n=t.charCodeAt(o),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++o,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var Ru="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Na=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function F0(t,e){var n=0,i=[],s,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,i.push(Ru[s>>2&63]),s=(s&3)<<4,n>=e){i.push(Ru[s&63]);break}if(o=t[n++]&255,s|=o>>4&15,i.push(Ru[s&63]),s=(o&15)<<2,n>=e){i.push(Ru[s&63]);break}o=t[n++]&255,s|=o>>6&3,i.push(Ru[s&63]),i.push(Ru[o&63])}return i.join("")}function u8(t,e){var n=0,i=t.length,s=0,o=[],r,a,l,c,u,d;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&s<e&&(d=t.charCodeAt(n++),r=d<Na.length?Na[d]:-1,d=t.charCodeAt(n++),a=d<Na.length?Na[d]:-1,!(r==-1||a==-1||(u=r<<2>>>0,u|=(a&48)>>4,o.push(String.fromCharCode(u)),++s>=e||n>=i)||(d=t.charCodeAt(n++),l=d<Na.length?Na[d]:-1,l==-1)||(u=(a&15)<<4>>>0,u|=(l&60)>>2,o.push(String.fromCharCode(u)),++s>=e||n>=i)));)d=t.charCodeAt(n++),c=d<Na.length?Na[d]:-1,u=(l&3)<<6>>>0,u|=c,o.push(String.fromCharCode(u)),++s;var h=[];for(n=0;n<s;n++)h.push(o[n].charCodeAt(0));return h}var uf=16,BE=10,Nae=16,Dae=100,y4=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v4=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],d8=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function df(t,e,n,i){var s,o=t[e],r=t[e+1];return o^=n[0],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[1],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[2],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[3],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[4],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[5],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[6],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[7],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[8],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[9],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[10],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[11],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[12],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[13],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[14],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],r^=s^n[15],s=i[r>>>24],s+=i[256|r>>16&255],s^=i[512|r>>8&255],s+=i[768|r&255],o^=s^n[16],t[e]=r^n[Nae+1],t[e+1]=o,t}function Gu(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function w4(t,e,n){for(var i=0,s=[0,0],o=e.length,r=n.length,a,l=0;l<o;l++)a=Gu(t,i),i=a.offp,e[l]=e[l]^a.key;for(l=0;l<o;l+=2)s=df(s,0,e,n),e[l]=s[0],e[l+1]=s[1];for(l=0;l<r;l+=2)s=df(s,0,e,n),n[l]=s[0],n[l+1]=s[1]}function Oae(t,e,n,i){for(var s=0,o=[0,0],r=n.length,a=i.length,l,c=0;c<r;c++)l=Gu(e,s),s=l.offp,n[c]=n[c]^l.key;for(s=0,c=0;c<r;c+=2)l=Gu(t,s),s=l.offp,o[0]^=l.key,l=Gu(t,s),s=l.offp,o[1]^=l.key,o=df(o,0,n,i),n[c]=o[0],n[c+1]=o[1];for(c=0;c<a;c+=2)l=Gu(t,s),s=l.offp,o[0]^=l.key,l=Gu(t,s),s=l.offp,o[1]^=l.key,o=df(o,0,n,i),i[c]=o[0],i[c+1]=o[1]}function k4(t,e,n,i,s){var o=d8.slice(),r=o.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),i){Mo(i.bind(this,a));return}else throw a;if(e.length!==uf)if(a=Error("Illegal salt length: "+e.length+" != "+uf),i){Mo(i.bind(this,a));return}else throw a;n=1<<n>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(y4),c=new Int32Array(v4)):(l=y4.slice(),c=v4.slice()),Oae(e,t,l,c);function h(){if(s&&s(u/n),u<n)for(var f=Date.now();u<n&&(u=u+1,w4(t,l,c),w4(e,l,c),!(Date.now()-f>Dae)););else{for(u=0;u<64;u++)for(d=0;d<r>>1;d++)df(o,d<<1,l,c);var m=[];for(u=0;u<r;u++)m.push((o[u]>>24&255)>>>0),m.push((o[u]>>16&255)>>>0),m.push((o[u]>>8&255)>>>0),m.push((o[u]&255)>>>0);if(i){i(null,m);return}else return m}i&&Mo(h)}if(typeof i<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function I2(t,e,n,i){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){Mo(n.bind(this,s));return}else throw s;var o,r;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){Mo(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")o="\0",r=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){Mo(n.bind(this,s));return}else throw s;r=4}if(e.charAt(r+2)>"$")if(s=Error("Missing salt rounds"),n){Mo(n.bind(this,s));return}else throw s;var a=parseInt(e.substring(r,r+1),10)*10,l=parseInt(e.substring(r+1,r+2),10),c=a+l,u=e.substring(r+3,r+25);t+=o>="a"?"\0":"";var d=Aae(t),h=u8(u,uf);function p(f){var m=[];return m.push("$2"),o>="a"&&m.push(o),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(F0(h,h.length)),m.push(F0(f,d8.length*4-1)),m.join("")}if(typeof n>"u")return p(k4(d,h,c));k4(d,h,c,function(f,m){f?n(f,null):n(null,p(m))},i)}function Rae(t,e){return F0(t,e)}function Lae(t,e){return u8(t,e)}const S4={setRandomFallback:Cae,genSaltSync:PE,genSalt:o8,hashSync:r8,hash:a8,compareSync:Eae,compare:Tae,getRounds:Iae,getSalt:$ae,truncates:_ae,encodeBase64:Rae,decodeBase64:Lae},zae=({message:t,isOpen:e,onClose:n})=>S.jsx(_l,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),Fae=()=>{const[t,e]=te.useState(""),[n,i]=te.useState(""),[s,o]=te.useState(""),[r,a]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[h,p]=te.useState(!1),[f,m]=te.useState(!1),[b,g]=te.useState(""),[x,y]=te.useState(!1),v=()=>{if(!r.endsWith("@nbsc.edu.ph")){g("Only @nbsc.edu.ph emails are allowed to register."),y(!0);return}if(l!==u){g("Passwords do not match."),y(!0);return}p(!0)},w=async()=>{p(!1);try{const{data:k,error:E}=await Te.auth.signUp({email:r,password:l});if(E)throw new Error("Account creation failed: "+E.message);const T=await S4.genSalt(10),_=await S4.hash(l,T),{error:z}=await Te.from("users").insert([{username:t,user_email:r,user_firstname:n,user_lastname:s,user_password:_}]);if(z)throw new Error("Failed to save user data: "+z.message);m(!0)}catch(k){k instanceof Error?g(k.message):g("An unknown error occurred."),y(!0)}},C={marginTop:"15px",color:"white",backgroundColor:"#1e1e1e",borderRadius:"8px",padding:"12px","--background":"#1e1e1e","--color":"#fff","--placeholder-color":"#aaa","--highlight-color-focused":"#3a8ef6"};return S.jsx(Rs,{children:S.jsx(nn,{fullscreen:!0,className:"ion-padding",style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#121212",height:"100vh"},children:S.jsx(qi,{style:{background:"#000",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0,0,0,0.6)",margin:"auto"},children:S.jsxs(Gi,{children:[S.jsx("h1",{style:{color:"white",marginBottom:"20px"},children:"Create your account"}),S.jsx(Cn,{label:"Username",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter a unique username",value:t,onIonChange:k=>e(k.detail.value),style:C}),S.jsx(Cn,{label:"First Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your first name",value:n,onIonChange:k=>i(k.detail.value),style:C}),S.jsx(Cn,{label:"Last Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your last name",value:s,onIonChange:k=>o(k.detail.value),style:C}),S.jsx(Cn,{label:"Email",labelPlacement:"stacked",fill:"outline",type:"email",placeholder:"youremail@nbsc.edu.ph",value:r,onIonChange:k=>a(k.detail.value),style:C}),S.jsx(Cn,{label:"Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Enter password",value:l,onIonChange:k=>c(k.detail.value),style:C,children:S.jsx(kd,{slot:"end"})}),S.jsx(Cn,{label:"Confirm Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Confirm password",value:u,onIonChange:k=>d(k.detail.value),style:C,children:S.jsx(kd,{slot:"end"})}),S.jsx(Ge,{onClick:v,expand:"block",shape:"round",color:"primary",style:{marginTop:"20px"},children:"Register"}),S.jsx(Ge,{routerLink:"/Cephaline-Supabase",expand:"block",fill:"clear",shape:"round",color:"primary",children:"Already have an account? Sign in"}),S.jsx(yr,{isOpen:h,onDidDismiss:()=>p(!1),children:S.jsx(nn,{className:"ion-padding",children:S.jsxs(qi,{className:"ion-padding",style:{marginTop:"25%"},children:[S.jsxs(rE,{children:[S.jsx(ud,{children:"User Registration Details"}),S.jsx("hr",{}),S.jsx(gw,{children:"Username"}),S.jsx(ud,{children:t}),S.jsx(gw,{children:"Email"}),S.jsx(ud,{children:r}),S.jsx(gw,{children:"Name"}),S.jsxs(ud,{children:[n," ",s]})]}),S.jsx(Gi,{}),S.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"5px"},children:[S.jsx(Ge,{fill:"clear",onClick:()=>p(!1),children:"Cancel"}),S.jsx(Ge,{color:"primary",onClick:w,children:"Confirm"})]})]})})}),S.jsx(yr,{isOpen:f,onDidDismiss:()=>m(!1),children:S.jsxs(nn,{className:"ion-padding",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[S.jsx(wi,{style:{marginTop:"35%"},children:"Registration Successful "}),S.jsxs(_n,{children:[S.jsx("p",{children:"Your account has been created successfully."}),S.jsx("p",{children:"Please check your email address."})]}),S.jsx(Ge,{routerLink:"/Cephaline-Supabase",routerDirection:"back",color:"primary",children:"Go to Login"})]})}),S.jsx(zae,{message:b,isOpen:x,onClose:()=>y(!1)})]})})})})},Pae=()=>{const[t,e]=te.useState("Loading..."),[n,i]=te.useState("Loading..."),[s,o]=te.useState("https://placehold.co/200");te.useEffect(()=>{r()},[]);const r=async()=>{try{const{data:{user:a},error:l}=await Te.auth.getUser();if(!a){e("Not logged in");return}const{data:c,error:u}=await Te.from("users").select("username, user_firstname, user_lastname, user_avatar_url").eq("user_email",a.email).single();if(u)throw u;if(e(c.username||"No username"),i("".concat(c.user_firstname," ").concat(c.user_lastname).trim()||"No bio"),c.user_avatar_url)if(c.user_avatar_url.startsWith("http"))o(c.user_avatar_url);else{const{data:{publicUrl:d}}=await Te.storage.from("user-avatars").getPublicUrl(c.user_avatar_url);o(d)}else o("https://placehold.co/200")}catch(a){console.error("Error fetching profile:",a),e("Error loading profile"),i("Please try again later")}};return S.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[S.jsx(j6,{style:{width:"200px",height:"200px",margin:"0 auto 16px"},children:S.jsx(Ux,{src:s,style:{objectFit:"cover"},onError:a=>{a.target.src="https://placehold.co/200"}})}),S.jsxs(ii,{children:[S.jsx("h2",{style:{margin:"8px 0",fontSize:"1.5rem"},children:t}),S.jsx("p",{style:{margin:"8px 0",color:"#666"},children:n})]}),S.jsxs(Ge,{fill:"outline",style:{marginTop:"16px"},routerLink:"/Cephaline-Supabase/app/editProfile",children:[S.jsx(Qe,{icon:tre,slot:"start"}),"Edit Profile"]})]})};function Bae({value:t,onChange:e}){return S.jsx(yte,{placeholder:"Find Journal",value:t,onIonInput:n=>e(n.detail.value),debounce:300,style:{width:"1500px"}})}const Mae=({onJournalCreated:t})=>{const[e,n]=te.useState(!1),[i,s]=te.useState(""),[o,r]=te.useState(""),[a,l]=te.useState("#3880ff"),[c,u]=te.useState("#555555"),[d,h]=te.useState("#ffffff"),[p,f]=te.useState(!1),[m,b]=te.useState(""),g=[{value:"#3880ff",name:"Primary Blue"},{value:"#3dc2ff",name:"Light Blue"},{value:"#2dd36f",name:"Success Green"},{value:"#ffc409",name:"Warning Yellow"},{value:"#eb445a",name:"Danger Red"},{value:"#92949c",name:"Medium Gray"},{value:"#555555",name:"Dark Gray"},{value:"#000000",name:"Black"},{value:"#ffffff",name:"White"},{value:"#fff8e1",name:"Warm White"},{value:"#f5f5f5",name:"Light Gray"}],x=async()=>{if(!i.trim()){b("Journal title is required"),f(!0);return}try{const{data:{user:y},error:v}=await Te.auth.getUser();if(v||!y)throw new Error((v==null?void 0:v.message)||"User not authenticated");const{data:w,error:C}=await Te.from("journals").insert({user_id:y.id,title:i,description:o,title_color:a,description_color:c,card_color:d}).select().single();if(C)throw C;t&&t(w),s(""),r(""),n(!1)}catch(y){console.error("Error creating journal:",y),b(y instanceof Error?y.message:"Failed to create journal"),f(!0)}};return S.jsxs(S.Fragment,{children:[S.jsxs(Ge,{onClick:()=>n(!0),expand:"block",color:"primary",style:{margin:"0 10px",width:"100px"},children:[S.jsx(Qe,{slot:"start",icon:Poe}),"New Journal"]}),S.jsxs(yr,{isOpen:e,onDidDismiss:()=>n(!1),children:[S.jsx(Gn,{children:S.jsxs(qn,{color:"primary",children:[S.jsx(Oi,{slot:"start",children:S.jsx(Ge,{onClick:()=>n(!1),children:S.jsx(Qe,{icon:Qf})})}),S.jsx(wi,{children:"Create New Journal"}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{onClick:x,strong:!0,children:"Save"})})]})}),S.jsx(nn,{className:"ion-padding",children:S.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[S.jsxs(Ui,{children:[S.jsxs(ii,{position:"stacked",color:"primary",children:["Journal Title ",S.jsx("span",{style:{color:"red"},children:"*"})]}),S.jsx(Cn,{value:i,onIonChange:y=>s(y.detail.value||""),placeholder:"Enter journal title",autofocus:!0,clearOnEdit:!0})]}),S.jsxs(Ui,{children:[S.jsx(ii,{position:"stacked",color:"primary",children:"Description"}),S.jsx(aE,{value:o,onIonChange:y=>r(y.detail.value||""),placeholder:"Enter journal description",rows:6,autoGrow:!0})]}),S.jsxs("div",{style:{marginTop:"20px"},children:[S.jsxs(Ui,{children:[S.jsx(ii,{children:"Title Color"}),S.jsx(Nb,{value:a,onIonChange:y=>l(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(jr,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),S.jsxs(Ui,{children:[S.jsx(ii,{children:"Description Color"}),S.jsx(Nb,{value:c,onIonChange:y=>u(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(jr,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),S.jsxs(Ui,{children:[S.jsx(ii,{children:"Card Background"}),S.jsx(Nb,{value:d,onIonChange:y=>h(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(jr,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]})]}),S.jsxs("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:d,borderRadius:"8px",borderLeft:"4px solid var(--ion-color-primary)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:[S.jsx("h3",{style:{color:a,margin:"0 0 10px 0"},children:i||"Title Preview"}),S.jsx("p",{style:{color:c,fontStyle:"italic",margin:"8px 0"},children:o||"Description preview text goes here..."}),S.jsx("small",{style:{color:"#888",display:"block",textAlign:"right"},children:"Created: Just now"})]})]})})]}),S.jsx(_l,{isOpen:p,onDidDismiss:()=>f(!1),header:"Error",message:m,buttons:["OK"]})]})},jae=({journals:t,setJournals:e,searchText:n,sortOption:i})=>{const s=dy(),[o,r]=te.useState(!0);te.useEffect(()=>{(async()=>{try{r(!0);const{data:{user:u}}=await Te.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await Te.from("journals").select("*").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(u){console.error("Error fetching journals:",u)}finally{r(!1)}})()},[e]);const a=te.useMemo(()=>[...t.filter(u=>{var d;return u.title.toLowerCase().includes(n.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))})].sort((u,d)=>{switch(i){case"title-asc":return u.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(u.title);case"date-newest":return new Date(d.created_at).getTime()-new Date(u.created_at).getTime();case"date-oldest":return new Date(u.created_at).getTime()-new Date(d.created_at).getTime();case"color-asc":return(u.card_color||"").localeCompare(d.card_color||"");case"color-desc":return(d.card_color||"").localeCompare(u.card_color||"");default:return 0}}),[t,n,i]),l=async c=>{try{const{data:u,error:d}=await Te.from("journal_pages").select("page_id").eq("journal_id",c).order("created_at",{ascending:!1}).limit(1);if(d)throw d;u!=null&&u.length?s.push("/Cephaline-Supabase/app/Overviewing/".concat(c)):s.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}catch(u){console.error("Error checking journal pages:",u),s.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}};return o?S.jsxs("div",{className:"loading-container",children:[S.jsx(fo,{name:"crescent"}),S.jsx("p",{children:"Loading your journals..."})]}):a.length===0?S.jsx("div",{className:"empty-state",children:S.jsx("p",{children:"No journals match your search."})}):S.jsx("div",{className:"bookshelf-container",children:S.jsxs("div",{className:"bookshelf",children:[S.jsx("div",{className:"shelf"}),S.jsx("div",{className:"journal-grid-container",children:a.map(c=>S.jsxs("div",{className:"journal-card-wrapper",style:{"--card-color":c.card_color,"--title-color":c.title_color},onClick:()=>l(c.journal_id),children:[S.jsx("div",{className:"journal-spine",children:S.jsxs("div",{className:"journal-title-container",children:[S.jsx("h3",{className:"journal-title",children:c.title}),S.jsx("div",{className:"journal-date",children:new Date(c.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})}),S.jsx("div",{className:"journal-card-preview",children:S.jsxs(qi,{className:"journal-card",children:[S.jsx(rE,{children:S.jsx(ud,{style:{color:c.title_color},children:c.title})}),S.jsxs(Gi,{children:[S.jsx("p",{style:{color:c.description_color},children:c.description}),S.jsxs("small",{children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]})]})})]},c.journal_id))})]})})},Uae=({value:t,onChange:e})=>S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"-3px",marginBottom:"4px",marginLeft:"30px"},children:[S.jsx(ii,{children:"Sort by:"}),S.jsxs(Nb,{value:t,placeholder:"Select sort",onIonChange:n=>e(n.detail.value),children:[S.jsx(jr,{value:"title-asc",children:"Title (AZ)"}),S.jsx(jr,{value:"title-desc",children:"Title (ZA)"}),S.jsx(jr,{value:"date-newest",children:"Date (Newest)"}),S.jsx(jr,{value:"date-oldest",children:"Date (Oldest)"}),S.jsx(jr,{value:"color-asc",children:"Background Color (AZ)"}),S.jsx(jr,{value:"color-desc",children:"Background Color (ZA)"})]})]}),Vae=()=>{const[t,e]=te.useState([]),[n,i]=te.useState(""),[s,o]=te.useState("date-newest"),[r,a]=te.useState(0),l=c=>{e(u=>[c,...u])};return ate(()=>{a(c=>c+1)}),S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(qn,{children:S.jsx(wi,{children:"Journals"})})}),S.jsxs(nn,{children:[S.jsx(Pae,{}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(Bae,{value:n,onChange:i}),S.jsx(Mae,{onJournalCreated:l})]}),S.jsx(Uae,{value:s,onChange:o}),S.jsx(jae,{journals:t,setJournals:e,searchText:n,sortOption:s},r)]})]})},Hae=({avatarPreview:t,handleAvatarChange:e})=>{const n=te.useRef(null);return S.jsx(rl,{children:S.jsx(Vo,{className:"ion-justify-content-center ion-align-items-center",children:S.jsxs(Os,{className:"ion-text-center",children:[t&&S.jsx(j6,{style:{width:"200px",height:"200px",margin:"10px auto"},children:S.jsx(Ux,{src:t,style:{objectFit:"cover"}})}),S.jsx("input",{type:"file",ref:n,style:{display:"none"},accept:"image/*",onChange:e}),S.jsx(Ge,{expand:"block",onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},children:"Upload Avatar"})]})})})},Wae=({username:t,firstName:e,lastName:n,setUsername:i,setFirstName:s,setLastName:o})=>S.jsxs(rl,{children:[S.jsx(Vo,{children:S.jsx(Os,{children:S.jsx(Cn,{label:"Username",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter username",value:t,onIonChange:r=>i(r.detail.value)})})}),S.jsxs(Vo,{children:[S.jsx(Os,{size:"6",children:S.jsx(Cn,{label:"First Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter First Name",value:e,onIonChange:r=>s(r.detail.value)})}),S.jsx(Os,{size:"6",children:S.jsx(Cn,{label:"Last Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter Last Name",value:n,onIonChange:r=>o(r.detail.value)})})]})]}),Gae=({password:t,confirmPassword:e,currentPassword:n,setPassword:i,setConfirmPassword:s,setCurrentPassword:o})=>S.jsxs(S.Fragment,{children:[S.jsx(rl,{children:S.jsxs(Vo,{children:[S.jsx(_n,{color:"secondary",children:S.jsx("h3",{children:"Change Password"})}),S.jsx(Os,{size:"12",children:S.jsx(Cn,{label:"New Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter New Password",value:t,onIonChange:r=>i(r.detail.value),children:S.jsx(kd,{slot:"end"})})})]})}),S.jsx(rl,{children:S.jsx(Vo,{children:S.jsx(Os,{size:"12",children:S.jsx(Cn,{label:"Confirm Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Confirm New Password",value:e,onIonChange:r=>s(r.detail.value),children:S.jsx(kd,{slot:"end"})})})})}),S.jsx(rl,{children:S.jsxs(Vo,{children:[S.jsx(_n,{color:"secondary",children:S.jsx("h3",{children:"Confirm Changes"})}),S.jsx(Os,{size:"12",children:S.jsx(Cn,{label:"Current Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter Current Password to Save Changes",value:n,onIonChange:r=>o(r.detail.value),children:S.jsx(kd,{slot:"end"})})})]})})]});function qae(){var t=te.useRef(!1),e=te.useCallback(function(){return t.current},[]);return te.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}var Kae=function(t){t===void 0&&(t={});var e=te.useState(t),n=e[0],i=e[1],s=te.useCallback(function(o){i(function(r){return Object.assign({},r,o instanceof Function?o(r):o)})},[]);return[n,s]},Xae=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(s){t.addRange(s)}),e&&e.focus()}},Yae=Xae,C4={"text/plain":"Text","text/html":"Url",default:"Text"},Zae="Copy to clipboard: #{key}, Enter";function Jae(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Qae(t,e){var n,i,s,o,r,a,l=!1;e||(e={}),n=e.debug||!1;try{s=Yae(),o=document.createRange(),r=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=C4[e.format]||C4.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),r.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=Jae("message"in e?e.message:Zae),window.prompt(i,t)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(o):r.removeAllRanges()),a&&document.body.removeChild(a),s()}return l}var ele=Qae;const tle=ga(ele);var nle=function(){var t=qae(),e=Kae({value:void 0,error:void 0,noUserInteraction:!0}),n=e[0],i=e[1],s=te.useCallback(function(o){if(t()){var r,a;try{if(typeof o!="string"&&typeof o!="number"){var l=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");i({value:o,error:l,noUserInteraction:!0});return}else if(o===""){var l=new Error("Cannot copy empty string to clipboard.");i({value:o,error:l,noUserInteraction:!0});return}a=o.toString(),r=tle(a),i({value:a,error:void 0,noUserInteraction:r})}catch(c){i({value:a,error:c,noUserInteraction:r})}}},[]);return[n,s]};const ile=({userId:t,initialEnabled:e=!1,onToggleChange:n,disabled:i})=>{const[s,o]=te.useState(""),[r,a]=te.useState(!1),[l,c]=te.useState(""),[u,d]=te.useState(!1),[h,p]=te.useState(e),[f,m]=te.useState(!1),[b,g]=te.useState(!1),x=te.useCallback(()=>new Pn({issuer:"Cephaline-Supabase",label:"Cephaline-Supabase:"+t,algorithm:"SHA1",digits:6,period:30}).secret.base32,[t]),y=te.useCallback(async()=>{try{const{data:T,error:_}=await Te.from("user_totp").select("secret, is_verified").eq("user_id",t).single();if(_&&_.code!=="PGRST116")throw _;return{enabled:!!(T!=null&&T.secret),secret:T==null?void 0:T.secret,isVerified:(T==null?void 0:T.is_verified)||!1}}catch(T){return console.error("Error checking TOTP status:",T),{enabled:!1,isVerified:!1}}},[t]);te.useEffect(()=>{(async()=>{if(t){d(!0);try{const _=await y();console.log(_);const{enabled:z,secret:N,isVerified:O}=_;p(z),g(O!=null?O:!1),z&&N&&o(N)}catch(_){console.error("Error checking TOTP status:",_)}finally{d(!1)}}})()},[t,y,p,g,o,d]);const v=async()=>{d(!0);try{const T=x(),{error:_}=await Te.from("user_totp").upsert({user_id:t,secret:T,is_verified:!1,updated_at:new Date().toISOString()});if(_)throw _;return o(T),g(!1),!0}catch(T){return console.error("Error enabling TOTP:",T),c(T.message||"Failed to enable TOTP"),a(!0),!1}finally{d(!1)}},w=async()=>{d(!0);try{const{error:T}=await Te.from("user_totp").delete().eq("user_id",t);if(T)throw T;return o(""),g(!1),!0}catch(T){return console.error("Error disabling TOTP:",T),c(T.message||"Failed to disable TOTP"),a(!0),!1}finally{d(!1)}},C=async T=>{const _=T.detail.checked;u||(_?await v()&&(p(!0),n==null||n(!0)):m(!0))},k=async()=>{m(!1),await w()&&(p(!1),n==null||n(!1))},E=async()=>{if(s)try{await navigator.clipboard.writeText(s),c("Copied to clipboard!"),a(!0)}catch(T){c("Copy failed"),a(!0)}};return S.jsxs("div",{className:"ion-padding",children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[S.jsx(ii,{children:S.jsx("strong",{children:"Authenticator App (TOTP)"})}),u?S.jsx(fo,{name:"crescent"}):S.jsx(Vx,{checked:h,onIonChange:C,disabled:u||i})]}),h&&S.jsxs(S.Fragment,{children:[S.jsx(qi,{children:S.jsx(Gi,{children:S.jsx(rl,{children:S.jsxs(Vo,{className:"ion-align-items-center",children:[S.jsx(Os,{children:S.jsxs(_n,{children:[S.jsx("h3",{style:{margin:0},children:"Secret Key:"}),S.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.1rem",letterSpacing:"1px",wordBreak:"break-all",margin:"8px 0",userSelect:"all"},children:s||"Loading..."}),!b&&S.jsx(_n,{color:"warning",children:S.jsx("p",{children:"This secret key is not yet verified. Please complete setup in your authenticator app."})})]})}),S.jsx(Os,{size:"auto",children:S.jsx(Ge,{fill:"clear",onClick:E,disabled:!s,children:S.jsx(Qe,{icon:jL})})})]})})})}),S.jsx("div",{style:{marginTop:"16px"},children:S.jsxs(_n,{color:"medium",children:[S.jsx("p",{children:S.jsx("strong",{children:"How to setup:"})}),S.jsxs("ol",{style:{paddingLeft:"20px",margin:"8px 0"},children:[S.jsx("li",{children:"Copy the secret key above"}),S.jsx("li",{children:"Open your authenticator app (Google Authenticator, Authy, etc.)"}),S.jsx("li",{children:'Select "Enter a setup key" or similar option'}),S.jsx("li",{children:"Enter your account name (e.g., your email)"}),S.jsx("li",{children:"Paste the secret key"}),S.jsx("li",{children:'Select "Time-based" if given an option'}),S.jsx("li",{children:"Save the entry"})]}),S.jsxs("p",{style:{marginTop:"8px"},children:[S.jsx("strong",{children:"Note:"})," You'll need to enter the 6-digit code from your authenticator app when logging in."]})]})})]}),S.jsx(Al,{isOpen:r,onDidDismiss:()=>a(!1),message:l,duration:2e3,position:"top"}),S.jsx(_l,{isOpen:f,onDidDismiss:()=>m(!1),header:"Disable Two-Factor Authentication?",message:"Are you sure you want to disable this security feature?",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:k}]})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sle=1e-7,ole=1e-4;class h8{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class ME{refCount(e){return Ji("refCount")}incRef(e){return Ji("incRef")}timerAvailable(){return!0}time(e){return Ji("time")}read(e){return Ji("read")}readSync(e){return Ji("readSync")}readToGPU(e,n){return Ji("readToGPU")}numDataIds(){return Ji("numDataIds")}disposeData(e,n){return Ji("disposeData")}write(e,n,i){return Ji("write")}move(e,n,i,s,o){return Ji("move")}createTensorFromGPUData(e,n,i){return Ji("createTensorFromGPUData")}memory(){return Ji("memory")}floatPrecision(){return Ji("floatPrecision")}epsilon(){return this.floatPrecision()===32?sle:ole}dispose(){return Ji("dispose")}}function Ji(t){throw new Error("'".concat(t,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rle(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,qu(t,e,n)}function Vc(t,e,n){return Math.max(t,Math.min(e,n))}function jE(t){return t%2===0?t:t+1}function qu(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function ale(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function R(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function xs(t,e,n=""){R(gt(t,e),()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}function wh(t){R(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ae(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function lle(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function gt(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Gd(t){return t%1===0}function $2(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Cd(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function E4(t,e=s=>0,n,i){return new Promise((s,o)=>{let r=0;const a=()=>{if(t()){s();return}r++;const l=e(r);if(n!=null&&r>=n){o();return}i!=null?i(a,l):setTimeout(a,l)};a()})}function p8(t,e){let n=1,i=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(i!==-1)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(i," and dim ").concat(o));i=o}else if(t[o]<0)throw Error("Shapes can not be < 0. Found ".concat(t[o]," at dim ").concat(o));if(i===-1){if(e>0&&e!==n)throw Error("Size(".concat(e,") must match the product of shape ").concat(t));return t}if(n===0)throw Error("Cannot infer the missing size in [".concat(t,"] when ")+"there are 0 elements");if(e%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(e," / ").concat(n));const s=t.slice();return s[i]=e/n,s}function ct(t,e){const n=e.length;return t=t==null?e.map((i,s)=>s):[].concat(t),R(t.every(i=>i>=-n&&i<n),()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(t)),R(t.every(i=>Gd(i)),()=>"All values in axis param must be integers but "+"got axis ".concat(t)),t.map(i=>i<0?n+i:i)}function Dl(t,e){const n=[],i=[],s=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||s?null:ct(e,t).sort();let r=0;for(let a=0;a<t.length;++a){if(o!=null){if(o[r]===a&&t[a]!==1)throw new Error("Can't squeeze axis ".concat(a," since its dim '").concat(t[a],"' is not 1"));(o[r]==null||o[r]>a)&&t[a]===1&&(n.push(t[a]),i.push(a)),o[r]<=a&&r++}t[a]!==1&&(n.push(t[a]),i.push(a))}return{newShape:n,keptDims:i}}function li(t,e){return mn(t,e)}function mn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error("Unknown data type ".concat(t));return n}function cle(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(isNaN(i)||!isFinite(i))throw Error("A tensor of type ".concat(e," being uploaded contains ").concat(i,"."))}}function ule(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function f8(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function P0(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype ".concat(t))}function dle(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function em(t){return typeof t=="string"||t instanceof String}function hle(t){return typeof t=="boolean"}function _2(t){return typeof t=="number"}function kh(t){return Array.isArray(t)?kh(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":_2(t)?"float32":em(t)?"string":hle(t)?"bool":"float32"}function A2(t){return!!(t&&t.constructor&&t.call&&t.apply)}function N2(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function He(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let i=e-3;i>=0;--i)n[i]=n[i+1]*t[i+1];return n}function m8(t,e,n,i=!1){const s=new Array;if(e.length===1){const o=e[0]*(i?2:1);for(let r=0;r<o;r++)s[r]=n[t+r]}else{const o=e[0],r=e.slice(1),a=r.reduce((l,c)=>l*c)*(i?2:1);for(let l=0;l<o;l++)s[l]=m8(t+l*a,r,n,i)}return s}function mo(t,e,n=!1){if(t.length===0)return e[0];const i=t.reduce((s,o)=>s*o)*(n?2:1);if(i===0)return[];if(i!==e.length)throw new Error("[".concat(t,"] does not match the input size ").concat(e.length).concat(n?" for a complex tensor":"","."));return m8(0,t,e,n)}function ple(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error("Unknown dtype ".concat(e))}function UE(t,e){const n=Ci(t,e);for(let i=0;i<n.length;i++)n[i]=1;return n}function Ci(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type ".concat(e))}function g8(t,e){const n=t.reduce((i,s)=>i*s,1);if(e==null||e==="float32")return mo(t,new Float32Array(n));if(e==="int32")return mo(t,new Int32Array(n));if(e==="bool")return mo(t,new Uint8Array(n));throw new Error("Unknown data type ".concat(e))}function Ms(t){t.forEach(e=>{R(Number.isInteger(e)&&e>=0,()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(t,"]."))})}function vr(t,e,n){if(e===0)return 0;if(e===1)return t[0];let i=t[t.length-1];for(let s=0;s<t.length-1;++s)i+=n[s]*t[s];return i}function Sh(t,e,n){if(e===0)return[];if(e===1)return[t];const i=new Array(e);for(let s=0;s<i.length-1;++s)i[s]=Math.floor(t/n[s]),t-=i[s]*n[s];return i[i.length-1]=t,i}function Hc(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T4="tfjsflags";class fle{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=mle,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(re().getBool("IS_TEST")||re().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=n}registerFlag(e,n,i){if(this.flagRegistry[e]={evaluationFn:n,setHook:i},this.urlFlags[e]!=null){const s=this.urlFlags[e];re().getBool("IS_TEST")||re().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(s,".")),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Hc(n))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);T4 in e&&e[T4].split(",").forEach(i=>{const[s,o]=i.split(":");this.urlFlags[s]=ble(s,o)})}}function mle(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...i)=>(gle(e,i[0],i[1]),i.join("="))),e}function gle(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function ble(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":"".concat(+n)===n?+n:e}function re(){return b8}let b8=null;function xle(t){b8=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Nw;function x8(){if(Nw==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Nw=t}return Nw}function yle(){const t=x8();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function VE(t,e){const n=yle();if(n.has(t))return n.get(t);{const i=e();return n.set(t,i),n.get(t)}}const Cy="Abs",tm="Acos",nm="Acosh",Ch="Add",Ey="AddN",HE="All",WE="Any",Ty="ArgMax",Iy="ArgMin",im="Asin",sm="Asinh",om="Atan",rm="Atanh",am="Atan2",$y="AvgPool",GE="AvgPoolGrad",_y="AvgPool3D",qE="AvgPool3DGrad",Ay="BatchMatMul",Ny="BatchToSpaceND",KE="Bincount",Dy="BitwiseAnd",vle="BroadcastTo",XE="BroadcastArgs",lm="Cast",cm="Ceil",um="ClipByValue",YE="Complex",Oy="ComplexAbs",Ry="Concat",Ly="Conv2D",ZE="Conv2DBackpropFilter",zy="Conv2DBackpropInput",Fy="Conv3D",JE="Conv3DBackpropFilterV2",QE="Conv3DBackpropInputV2",dm="Cos",hm="Cosh",eT="Cumprod",Py="Cumsum",tT="CropAndResize",nT="DenseBincount",iT="DepthToSpace",By="DepthwiseConv2dNative",sT="DepthwiseConv2dNativeBackpropFilter",oT="DepthwiseConv2dNativeBackpropInput",rT="Diag",My="Dilation2D",D2="Dilation2DBackpropInput",O2="Dilation2DBackpropFilter",wle="Draw",pm="RealDiv",aT="Einsum",fm="Elu",lT="EluGrad",mm="Erf",jy="Equal",gm="Exp",Uy="ExpandDims",bm="Expm1",cT="FFT",uT="Fill",dT="FlipLeftRight",xm="Floor",ym="FloorDiv",Vy="FusedBatchNorm",Hy="GatherV2",hT="GatherNd",Wy="Greater",vm="GreaterEqual",wm="Identity",pT="IFFT",fT="Imag",km="IsFinite",Sm="IsInf",Cm="IsNan",Gy="LeakyRelu",qy="Less",Ky="LessEqual",mT="LinSpace",Em="Log",Tm="Log1p",Xy="LogicalAnd",Yy="LogicalNot",Zy="LogicalOr",kle="LogSoftmax",Jy="LRN",gT="LRNGrad",Qy="Max",Im="Maximum",ev="MaxPool",bT="MaxPoolGrad",tv="MaxPool3D",xT="MaxPool3DGrad",yT="MaxPoolWithArgmax",nv="Mean",iv="Min",$m="Minimum",sv="MirrorPad",_m="Mod",vT="Multinomial",Am="Multiply",ov="Neg",rv="NotEqual",wT="NonMaxSuppressionV3",kT="NonMaxSuppressionV4",ST="NonMaxSuppressionV5",av="OnesLike",lv="OneHot",cv="Pack",uv="PadV2",Nm="Pow",dv="Prelu",hv="Prod",CT="RaggedGather",ET="RaggedRange",TT="RaggedTensorToTensor",IT="Range",$T="Real",Dm="Reciprocal",Om="Relu",pv="Reshape",fv="ResizeNearestNeighbor",_T="ResizeNearestNeighborGrad",mv="ResizeBilinear",AT="ResizeBilinearGrad",Rm="Relu6",gv="Reverse",Lm="Round",zm="Rsqrt",NT="ScatterNd",DT="TensorScatterUpdate",OT="SearchSorted",bv="Select",Fm="Selu",xv="Slice",Pm="Sin",Bm="Sinh",Mm="Sign",jm="Sigmoid",Um="Softplus",Vm="Sqrt",yv="Sum",vv="SpaceToBatchND",wv="SplitV",kv="Softmax",RT="SparseFillEmptyRows",LT="SparseReshape",zT="SparseSegmentMean",FT="SparseSegmentSum",PT="SparseToDense",Hm="SquaredDifference",BT="Square",Sv="StaticRegexReplace",MT="StridedSlice",jT="StringNGrams",UT="StringSplit",VT="StringToHashBucketFast",Wm="Sub",Gm="Tan",qm="Tanh",Km="Tile",HT="TopK",WT="Transform",Ed="Transpose",GT="Unique",Cv="Unpack",Ev="UnsortedSegmentSum",Tv="ZerosLike",Xm="Step",R2="FromPixels",qT="RotateWithOffset",B0="_FusedMatMul",M0="FusedConv2D",j0="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Is(...t){re().getBool("IS_TEST")||re().getBool("PROD")||console.warn(...t)}function Sle(...t){re().getBool("IS_TEST")||re().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U0=VE("kernelRegistry",()=>new Map),L2=VE("gradRegistry",()=>new Map);function z2(t,e){const n=v8(t,e);return U0.get(n)}function I4(t){return L2.get(t)}function $4(t){const e=U0.entries(),n=[];for(;;){const{done:i,value:s}=e.next();if(i)break;const[o,r]=s,[a]=o.split("_");a===t&&n.push(r)}return n}function y8(t){const{kernelName:e,backendName:n}=t,i=v8(e,n);U0.has(i)&&Is("The kernel '".concat(e,"' for backend ")+"'".concat(n,"' is already registered")),U0.set(i,t)}function Cle(t){const{kernelName:e}=t;L2.has(e)&&re().getBool("DEBUG")&&Is("Overriding the gradient for '".concat(e,"'")),L2.set(e,t)}function v8(t,e){return"".concat(e,"_").concat(t)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w8(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var k8=Wt,ro=null;try{ro=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Wt(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Wt.prototype.__isLong__;Object.defineProperty(Wt.prototype,"__isLong__",{value:!0});function ys(t){return(t&&t.__isLong__)===!0}Wt.isLong=ys;var _4={},A4={};function mu(t,e){var n,i,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(i=A4[t],i)?i:(n=Gt(t,(t|0)<0?-1:0,!0),s&&(A4[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(i=_4[t],i)?i:(n=Gt(t,t<0?-1:0,!1),s&&(_4[t]=n),n))}Wt.fromInt=mu;function ao(t,e){if(isNaN(t))return e?bc:lo;if(e){if(t<0)return bc;if(t>=S8)return T8}else{if(t<=-9223372036854776e3)return os;if(t+1>=Tle)return E8}return t<0?ao(-t,e).neg():Gt(t%qd|0,t/qd|0,e)}Wt.fromNumber=ao;function Gt(t,e,n){return new Wt(t,e,n)}Wt.fromBits=Gt;var V0=Math.pow;function KT(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return lo;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return KT(t.substring(1),e,n).neg();for(var s=ao(V0(n,8)),o=lo,r=0;r<t.length;r+=8){var a=Math.min(8,t.length-r),l=parseInt(t.substring(r,r+a),n);if(a<8){var c=ao(V0(n,a));o=o.mul(c).add(ao(l))}else o=o.mul(s),o=o.add(ao(l))}return o.unsigned=e,o}Wt.fromString=KT;function nr(t,e){return typeof t=="number"?ao(t,e):typeof t=="string"?KT(t,e):Gt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Wt.fromValue=nr;var N4=65536,Ele=1<<24,qd=N4*N4,S8=qd*qd,Tle=S8/2,D4=mu(Ele),lo=mu(0);Wt.ZERO=lo;var bc=mu(0,!0);Wt.UZERO=bc;var hd=mu(1);Wt.ONE=hd;var C8=mu(1,!0);Wt.UONE=C8;var F2=mu(-1);Wt.NEG_ONE=F2;var E8=Gt(-1,2147483647,!1);Wt.MAX_VALUE=E8;var T8=Gt(-1,-1,!0);Wt.MAX_UNSIGNED_VALUE=T8;var os=Gt(0,-2147483648,!1);Wt.MIN_VALUE=os;var Ae=Wt.prototype;Ae.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ae.toNumber=function(){return this.unsigned?(this.high>>>0)*qd+(this.low>>>0):this.high*qd+(this.low>>>0)};Ae.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(os)){var n=ao(e),i=this.div(n),s=i.mul(n).sub(this);return i.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=ao(V0(e,6),this.unsigned),r=this,a="";;){var l=r.div(o),c=r.sub(l.mul(o)).toInt()>>>0,u=c.toString(e);if(r=l,r.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};Ae.getHighBits=function(){return this.high};Ae.getHighBitsUnsigned=function(){return this.high>>>0};Ae.getLowBits=function(){return this.low};Ae.getLowBitsUnsigned=function(){return this.low>>>0};Ae.getNumBitsAbs=function(){if(this.isNegative())return this.eq(os)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};Ae.isZero=function(){return this.high===0&&this.low===0};Ae.eqz=Ae.isZero;Ae.isNegative=function(){return!this.unsigned&&this.high<0};Ae.isPositive=function(){return this.unsigned||this.high>=0};Ae.isOdd=function(){return(this.low&1)===1};Ae.isEven=function(){return(this.low&1)===0};Ae.equals=function(e){return ys(e)||(e=nr(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ae.eq=Ae.equals;Ae.notEquals=function(e){return!this.eq(e)};Ae.neq=Ae.notEquals;Ae.ne=Ae.notEquals;Ae.lessThan=function(e){return this.comp(e)<0};Ae.lt=Ae.lessThan;Ae.lessThanOrEqual=function(e){return this.comp(e)<=0};Ae.lte=Ae.lessThanOrEqual;Ae.le=Ae.lessThanOrEqual;Ae.greaterThan=function(e){return this.comp(e)>0};Ae.gt=Ae.greaterThan;Ae.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ae.gte=Ae.greaterThanOrEqual;Ae.ge=Ae.greaterThanOrEqual;Ae.compare=function(e){if(ys(e)||(e=nr(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ae.comp=Ae.compare;Ae.negate=function(){return!this.unsigned&&this.eq(os)?os:this.not().add(hd)};Ae.neg=Ae.negate;Ae.add=function(e){ys(e)||(e=nr(e));var n=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,r=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,h=0,p=0;return p+=o+c,h+=p>>>16,p&=65535,h+=s+l,d+=h>>>16,h&=65535,d+=i+a,u+=d>>>16,d&=65535,u+=n+r,u&=65535,Gt(h<<16|p,u<<16|d,this.unsigned)};Ae.subtract=function(e){return ys(e)||(e=nr(e)),this.add(e.neg())};Ae.sub=Ae.subtract;Ae.multiply=function(e){if(this.isZero())return lo;if(ys(e)||(e=nr(e)),ro){var n=ro.mul(this.low,this.high,e.low,e.high);return Gt(n,ro.get_high(),this.unsigned)}if(e.isZero())return lo;if(this.eq(os))return e.isOdd()?os:lo;if(e.eq(os))return this.isOdd()?os:lo;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(D4)&&e.lt(D4))return ao(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,s=this.high&65535,o=this.low>>>16,r=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,h=0,p=0,f=0;return f+=r*u,p+=f>>>16,f&=65535,p+=o*u,h+=p>>>16,p&=65535,p+=r*c,h+=p>>>16,p&=65535,h+=s*u,d+=h>>>16,h&=65535,h+=o*c,d+=h>>>16,h&=65535,h+=r*l,d+=h>>>16,h&=65535,d+=i*u+s*c+o*l+r*a,d&=65535,Gt(p<<16|f,d<<16|h,this.unsigned)};Ae.mul=Ae.multiply;Ae.divide=function(e){if(ys(e)||(e=nr(e)),e.isZero())throw Error("division by zero");if(ro){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?ro.div_u:ro.div_s)(this.low,this.high,e.low,e.high);return Gt(n,ro.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?bc:lo;var i,s,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return bc;if(e.gt(this.shru(1)))return C8;o=bc}else{if(this.eq(os)){if(e.eq(hd)||e.eq(F2))return os;if(e.eq(os))return hd;var r=this.shr(1);return i=r.div(e).shl(1),i.eq(lo)?e.isNegative()?hd:F2:(s=this.sub(e.mul(i)),o=i.add(s.div(e)),o)}else if(e.eq(os))return this.unsigned?bc:lo;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=lo}for(s=this;s.gte(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=a<=48?1:V0(2,a-48),c=ao(i),u=c.mul(e);u.isNegative()||u.gt(s);)i-=l,c=ao(i,this.unsigned),u=c.mul(e);c.isZero()&&(c=hd),o=o.add(c),s=s.sub(u)}return o};Ae.div=Ae.divide;Ae.modulo=function(e){if(ys(e)||(e=nr(e)),ro){var n=(this.unsigned?ro.rem_u:ro.rem_s)(this.low,this.high,e.low,e.high);return Gt(n,ro.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ae.mod=Ae.modulo;Ae.rem=Ae.modulo;Ae.not=function(){return Gt(~this.low,~this.high,this.unsigned)};Ae.and=function(e){return ys(e)||(e=nr(e)),Gt(this.low&e.low,this.high&e.high,this.unsigned)};Ae.or=function(e){return ys(e)||(e=nr(e)),Gt(this.low|e.low,this.high|e.high,this.unsigned)};Ae.xor=function(e){return ys(e)||(e=nr(e)),Gt(this.low^e.low,this.high^e.high,this.unsigned)};Ae.shiftLeft=function(e){return ys(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Gt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Gt(0,this.low<<e-32,this.unsigned)};Ae.shl=Ae.shiftLeft;Ae.shiftRight=function(e){return ys(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Gt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Gt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ae.shr=Ae.shiftRight;Ae.shiftRightUnsigned=function(e){if(ys(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var i=this.low;return Gt(i>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Gt(n,0,this.unsigned):Gt(n>>>e-32,0,this.unsigned)};Ae.shru=Ae.shiftRightUnsigned;Ae.shr_u=Ae.shiftRightUnsigned;Ae.toSigned=function(){return this.unsigned?Gt(this.low,this.high,!1):this};Ae.toUnsigned=function(){return this.unsigned?this:Gt(this.low,this.high,!0)};Ae.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ae.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ae.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Wt.fromBytes=function(e,n,i){return i?Wt.fromBytesLE(e,n):Wt.fromBytesBE(e,n)};Wt.fromBytesLE=function(e,n){return new Wt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Wt.fromBytesBE=function(e,n){return new Wt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const I8=ga(k8),Ile=L9({__proto__:null,default:I8},[k8]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ac=I8||Ile;function Iv(t){return ac.fromString(t,!0,16)}const $8=Iv("c3a5c85c97cb3127"),ic=Iv("b492b66fbe98f273"),$i=Iv("9ae16a3b2f90404f");function P2(t){return t.xor(t.shru(47))}function _8(t,e,n){const i=t.slice(e,e+n);return ac.fromBytes(Array.from(i),!0,!0)}function Pt(t,e){return _8(t,e,8)}function O4(t,e){return _8(t,e,4)}function jn(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function al(t,e,n=Iv("9ddfea08eb382d69")){let i=t.xor(e).mul(n);i=i.xor(i.shru(47));let s=e.xor(i).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function $le(t,e,n,i,s,o){s=s.add(t),o=jn(o.add(s).add(i),21);const r=s;return s=s.add(e),s=s.add(n),o=o.add(jn(s,44)),[s.add(i),o.add(r)]}function tb(t,e,n,i){return $le(Pt(t,e),Pt(t,e+8),Pt(t,e+16),Pt(t,e+24),n,i)}function _le(t,e=t.length){if(e>=8){const n=$i.add(e*2),i=Pt(t,0).add($i),s=Pt(t,e-8),o=jn(s,37).mul(n).add(i),r=jn(i,25).add(s).mul(n);return al(o,r,n)}if(e>=4){const n=$i.add(e*2),i=O4(t,0);return al(i.shl(3).add(e),O4(t,e-4),n)}if(e>0){const n=t[0],i=t[e>>1],s=t[e-1],o=n+(i<<8),r=e+(s<<2);return P2($i.mul(o).xor($8.mul(r))).mul($i)}return $i}function Ale(t,e=t.length){const n=$i.add(e*2),i=Pt(t,0).mul(ic),s=Pt(t,8),o=Pt(t,e-8).mul(n),r=Pt(t,e-16).mul($i);return al(jn(i.add(s),43).add(jn(o,30)).add(r),i.add(jn(s.add($i),18)).add(o),n)}function Nle(t,e=t.length){const n=$i.add(e*2),i=Pt(t,0).mul($i),s=Pt(t,8),o=Pt(t,e-8).mul(n),r=Pt(t,e-16).mul($i),a=jn(i.add(s),43).add(jn(o,30)).add(r),l=al(a,i.add(jn(s.add($i),18)).add(o),n),c=Pt(t,16).mul(n),u=Pt(t,24),d=a.add(Pt(t,e-32)).mul(n),h=l.add(Pt(t,e-24)).mul(n);return al(jn(c.add(u),43).add(jn(d,30)).add(h),c.add(jn(u.add(i),18)).add(d),n)}function Dle(t,e=t.length){const n=ac.fromNumber(81,!0);if(e<=32)return e<=16?_le(t,e):Ale(t,e);if(e<=64)return Nle(t,e);let i=n,s=n.mul(ic).add(113),o=P2(s.mul($i).add(113)).mul($i),r=[ac.UZERO,ac.UZERO],a=[ac.UZERO,ac.UZERO];i=i.mul($i).add(Pt(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do i=jn(i.add(s).add(r[0]).add(Pt(t,l+8)),37).mul(ic),s=jn(s.add(r[1]).add(Pt(t,l+48)),42).mul(ic),i=i.xor(a[1]),s=s.add(r[0]).add(Pt(t,l+40)),o=jn(o.add(a[0]),33).mul(ic),r=tb(t,l,r[1].mul(ic),i.add(a[0])),a=tb(t,l+32,o.add(a[1]),s.add(Pt(t,l+16))),[o,i]=[i,o],l+=64;while(l!==c);const d=ic.add(o.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),r[0]=r[0].add(a[0]),a[0]=a[0].add(r[0]),i=jn(i.add(s).add(r[0]).add(Pt(t,l+8)),37).mul(d),s=jn(s.add(r[1]).add(Pt(t,l+48)),42).mul(d),i=i.xor(a[1].mul(9)),s=s.add(r[0].mul(9).add(Pt(t,l+40))),o=jn(o.add(a[0]),33).mul(d),r=tb(t,l,r[1].mul(d),i.add(a[0])),a=tb(t,l+32,o.add(a[1]),s.add(Pt(t,l+16))),[o,i]=[i,o],al(al(r[0],a[0],d).add(P2(s).mul($8)).add(o),al(r[1],a[1],d).add(i),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ol(t,e){return e==="string"?ll(t):gu([t],e)}function Ole(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function gu(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Wc(t)),re().getBool("DEBUG")&&cle(t,e),Ole(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let i=0;i<n.length;++i)Math.round(t[i])!==0&&(n[i]=1);return n}else throw new Error("Unknown data type ".concat(e))}function Pi(){return re().platform.now()}function ll(t,e="utf-8"){return e=e||"utf-8",re().platform.encode(t,e)}function gl(t,e="utf-8"){return e=e||"utf-8",re().platform.decode(t,e)}function wo(t){return re().platform.isTypedArray!=null?re().platform.isTypedArray(t):w8(t)}function Wc(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Hc(t)||t==null||wo(t)&&n)e.push(t);else if(Array.isArray(t)||wo(t))for(let i=0;i<t.length;++i)Wc(t[i],e,n);else{let i=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(i=Math.max(i,Number(s)));for(let s=0;s<=i;s++)Wc(t[s],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rle{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new zle)}profileKernel(e,n,i){let s;const o=()=>{s=i()};let r;const a=Pi();if(this.backendTimer.timerAvailable())r=this.backendTimer.time(o);else{o();for(const c of s)c.dataSync();r=Promise.resolve({kernelMs:Pi()-a})}if(re().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<s.length;c++){const u=s[c];u.data().then(d=>{Lle(d,u.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:r.then(c=>c.kernelMs),extraInfo:r.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:i,timeMs:s,inputs:o,extraInfo:r}=e;i.forEach(a=>{Promise.all([a.data(),s,r]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function Lle(t,e,n){if(e!=="float32")return!1;for(let i=0;i<t.length;i++){const s=t[i];if(isNaN(s)||!isFinite(s))return console.warn("Found ".concat(s," in the result of '").concat(n,"'")),!0}return!1}class zle{logKernelProfile(e,n,i,s,o,r){const a=typeof s=="number"?Cd("".concat(s,"ms"),9):s.error,l=Cd(e,25),c=n.rank,u=n.size,d=Cd(n.shape.toString(),14);let h="";for(const p in o){const f=o[p];if(f!=null){const m=f.shape||n.shape,b=m.length;h+="".concat(p,": ").concat(b,"D ").concat(b>0?m:""," ")}}console.log("%c".concat(l,"	%c").concat(a,"	%c").concat(c,"D ").concat(d,"	%c").concat(u,"	%c").concat(h,"	%c").concat(r),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fle(t,e,n){const i={},s={};for(let l=0;l<e.length;l++)i[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const h=u[d];let p=!1;for(let f=0;f<e.length;f++)if(i[h.id]){c.outputs.forEach(m=>i[m.id]=!0),p=!0,s[c.id]=!0;break}if(p)break}}const o={};o[n.id]=!0;const r={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(o[c.outputs[d].id]){for(const h in u)o[u[h].id]=!0,r[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(s[c.id]&&r[c.id]){const u={};for(const h in c.inputs){const p=c.inputs[h];i[p.id]&&(u[h]=p)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,a.push(d)}}return a}function Ple(t,e,n,i){for(let s=e.length-1;s>=0;s--){const o=e[s],r=[];if(o.outputs.forEach(l=>{const c=t[l.id];c!=null?r.push(c):r.push(null)}),o.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const a=o.gradient(r);for(const l in o.inputs){if(!(l in a))throw new Error("Cannot backprop through input ".concat(l,". ")+"Available gradients found: ".concat(Object.keys(a),"."));const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(l," must have 'float32' dtype, but has '").concat(c.dtype,"'"));const u=o.inputs[l];if(!gt(c.shape,u.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(l,"' has shape '").concat(c.shape,"', which does not match ")+"the shape of the input '".concat(u.shape,"'"));if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=i(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R4=20,ep=3,Dw=7;function Ble(t,e,n,i){const s=He(e),o=Mle(t,e,n,s),r=e.length,a=Lb(t,e,n,s,o),l=["Tensor"];return i&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(r)),l.push("  shape: [".concat(e,"]")),l.push("  values:")),l.push(a.map(c=>"    "+c).join("\n")),l.join("\n")}function Mle(t,e,n,i){const s=ae(e),o=i[i.length-1],r=new Array(o).fill(0),a=e.length,l=n==="complex64"?hp(t):t;if(a>1)for(let c=0;c<s/o;c++){const u=c*o;for(let d=0;d<o;d++)r[d]=Math.max(r[d],dp(l[u+d],0,n).length)}return r}function dp(t,e,n){let i;return Array.isArray(t)?i="".concat(parseFloat(t[0].toFixed(Dw))," + ")+"".concat(parseFloat(t[1].toFixed(Dw)),"j"):em(t)?i="'".concat(t,"'"):n==="bool"?i=A8(t):i=parseFloat(t.toFixed(Dw)).toString(),Cd(i,e)}function A8(t){return t===0?"false":"true"}function Lb(t,e,n,i,s,o=!0){const r=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=hp(t);return[dp(m[0],0,n)]}return n==="bool"?[A8(t[0])]:[t[0].toString()]}if(l===1){if(a>R4){const b=ep*r;let g=Array.from(t.slice(0,b)),x=Array.from(t.slice((a-ep)*r,a*r));return n==="complex64"&&(g=hp(g),x=hp(x)),["["+g.map((y,v)=>dp(y,s[v],n)).join(", ")+", ..., "+x.map((y,v)=>dp(y,s[a-ep+v],n)).join(", ")+"]"]}return["["+(n==="complex64"?hp(t):Array.from(t)).map((b,g)=>dp(b,s[g],n)).join(", ")+"]"]}const c=e.slice(1),u=i.slice(1),d=i[0]*r,h=[];if(a>R4){for(let m=0;m<ep;m++){const b=m*d,g=b+d;h.push(...Lb(t.slice(b,g),c,n,u,s,!1))}h.push("...");for(let m=a-ep;m<a;m++){const b=m*d,g=b+d;h.push(...Lb(t.slice(b,g),c,n,u,s,m===a-1))}}else for(let m=0;m<a;m++){const b=m*d,g=b+d;h.push(...Lb(t.slice(b,g),c,n,u,s,m===a-1))}const p=l===2?",":"";h[0]="["+(a>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(o?"":f),h}function hp(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class On{constructor(e,n,i){if(this.dtype=n,this.shape=e.slice(),this.size=ae(e),i!=null){const s=i.length;R(s===this.size,()=>"Length of values '".concat(s,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'."))}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||mn(n,this.size),this.strides=He(e)}set(e,...n){n.length===0&&(n=[0]),R(n.length===this.rank,()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")"));const i=this.locToIndex(n);this.values[i]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const o="Requested out of range element at ".concat(e,". ")+"  Buffer shape=".concat(this.shape);throw new Error(o)}n++}let i=e[e.length-1];for(let s=0;s<e.length-1;++s)i+=this.strides[s]*e[s];return this.values[i]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let i=0;i<e.length-1;++i)n+=this.strides[i]*e[i];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let i=0;i<n.length-1;++i)n[i]=Math.floor(e/this.strides[i]),e-=n[i]*this.strides[i];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Fo().makeTensor(this.values,this.shape,this.dtype)}}let Fo=null,Ku=null;function jle(t){Fo=t}function Ule(t){Ku=t}class It{constructor(e,n,i,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=ae(e),this.strides=He(e),this.dataId=i,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Ku.buffer(this.shape,this.dtype,e)}bufferSync(){return Ku.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return mo(this.shape,e,this.dtype==="complex64")}arraySync(){return mo(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Fo().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(i=>gl(i))}catch(i){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Fo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Fo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>gl(n))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Fo().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Fo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Ku.print(this,e)}clone(){return this.throwIfDisposed(),Ku.clone(this)}toString(e=!1){const n=this.dataSync();return Ble(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ku.cast(this,e)}variable(e=!0,n,i){return this.throwIfDisposed(),Fo().makeVariable(this,e,n,i)}}Object.defineProperty(It,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ce(){return VE("Tensor",()=>It)}ce();class H0 extends It{constructor(e,n,i,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=i}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!gt(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Fo().disposeTensor(this),this.dataId=e.dataId,Fo().incRef(this,null)}dispose(){Fo().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(H0,Symbol.hasInstance,{value:t=>t instanceof It&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var L4;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(L4||(L4={}));var B2;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(B2||(B2={}));var M2;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(M2||(M2={}));var j2;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(j2||(j2={}));var U2;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(U2||(U2={}));const Vle={float32:j2,int32:B2,bool:M2,complex64:U2};function ds(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast ".concat(t," with ").concat(e))}return Vle[t][e]}function XT(t){return ds(t,"int32")}function N8(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function D8(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hn(t,e){if(t.dtype===e.dtype)return[t,e];const n=ds(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Hle(t,e){R(t.dtype===e.dtype,()=>"The dtypes of the first(".concat(t.dtype,") and")+" second(".concat(e.dtype,") input must match"))}function O8(t){const e=[];return R8(t,e,new Set),e}function R8(t,e,n){if(t==null)return;if(t instanceof It){e.push(t);return}if(!Wle(t))return;const i=t;for(const s in i){const o=i[s];n.has(o)||(n.add(o),R8(o,e,n))}}function Wle(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ow(t){return t.kernelName!=null}class z4{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Kd{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new z4}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n];if(await this.initializeBackend(i).success){await this.setBackend(i);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,i=1){return e in this.registryFactory?(Is("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:i},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:i}=this.initializeBackend(e);if(!(i?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Rle(this.backendInstance),!0}setupRegisteredKernels(){$4(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){$4(e).forEach(i=>{i.disposeFunc!=null&&i.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const i=n.factory();if(i&&!(i instanceof ME)&&typeof i.then=="function"){const s=++this.pendingBackendInitId,o=i.then(r=>s<this.pendingBackendInitId?!1:(this.registry[e]=r,this.pendingBackendInit=null,!0)).catch(r=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Is("Initialization of backend ".concat(e," failed")),Is(r.stack||r.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(i){return Is("Initialization of backend ".concat(e," failed")),Is(i.stack||i.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n],{success:s,asyncInit:o}=this.initializeBackend(i);if(o||s)return{name:i,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const i=this.state.tensorInfo.get(n),s=i.backend,o=this.readSync(n),r=s.refCount(n);s.disposeData(n,!0),i.backend=e,e.move(n,o,i.shape,i.dtype,r),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let i=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}let s;return this.scopedRun(()=>this.startScope(i),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,i){e();try{const s=i();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Kd.nextTensorId++}nextVariableId(){return Kd.nextVariableId++}clone(e){const n=X.runKernel(wm,{x:e}),i={x:e},s=r=>({x:()=>{const a="float32",l={x:r},c={dtype:a};return X.runKernel(lm,l,c)}}),o=[];return this.addTapeNode(this.state.activeScope.name,i,[n],s,o,{}),n}runKernel(e,n,i){if(this.backendName==null&&this.backend,!(z2(e,this.backendName)!=null))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:n,attrs:i})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,i){const s=this.backend.numDataIds();let o=0;i.forEach(l=>{o+=l.dtype==="complex64"?3:1});const r=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-o-r;if(a>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(a," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let n,i=[];const s=this.isTapeOn(),o=this.state.numBytes,r=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=Ow(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Ow(e)){const{kernelName:f,inputs:m,attrs:b}=e;this.backendName==null&&this.backend;const g=z2(f,this.backendName);R(g!=null,()=>"Cannot find registered kernel '".concat(f,"' for backend '").concat(this.backendName,"'")),a=()=>{const x=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:b,backend:this.backend});const y=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(f,x,y);const v=y.map(w=>w.rank!=null?w:this.makeTensorFromTensorInfo(w));if(s){const w=this.getTensorsForGradient(f,m,v);i=this.saveTensorsForBackwardMode(w)}return v}}else{const{forwardFunc:f}=e,m=b=>{s&&(i=b.map(g=>this.keep(this.clone(g))))};a=()=>{const b=this.backend.numDataIds();l=this.tidy(()=>f(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,b,g),g}}const{inputs:u,attrs:d}=e,h=Ow(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(p=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),s&&this.addTapeNode(c,u,n,h,i,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-r,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(f=>u[f]!=null?u[f].shape:null),outputShapes:n.map(f=>f.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(i=>this.keep(this.clone(i)))}getTensorsForGradient(e,n,i){const s=I4(e);if(s!=null){const o=s.inputsToSave||[],r=s.outputsToSave||[];let a;s.saveAllInputs?(R(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=o.map(c=>n[c]);const l=i.filter((c,u)=>r[u]);return a.concat(l)}return[]}makeTensor(e,n,i,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");i=i||"float32",s=s||this.backend;let o=e;i==="string"&&em(e[0])&&(o=e.map(l=>ll(l)));const r=s.write(o,n,i),a=new It(n,i,r,this.nextTensorId());if(this.trackTensor(a,s),i==="string"){const l=this.state.tensorInfo.get(r),c=dle(o);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,i,s){i=i||"float32";const o={dataId:e,shape:n,dtype:i};return this.makeTensorFromTensorInfo(o,s)}makeTensorFromTensorInfo(e,n){const{dataId:i,shape:s,dtype:o}=e,r=new It(s,o,i,this.nextTensorId());return this.trackTensor(r,n),r}makeVariable(e,n=!0,i,s){i=i||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const o=new H0(e,n,i,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name ".concat(o.name," was already registered"));return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*P0(e.dtype)),this.state.numBytes+=i,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:i})),e instanceof H0||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const i=e.size*P0(e.dtype);this.state.numBytes-=i}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,i=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,i,s,o,r){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:i,saved:o},l=I4(e);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=c=>(c=c.map((u,d)=>{if(u==null){const h=i[d],p=Ci(h.size,h.dtype);return this.makeTensor(p,h.shape,h.dtype)}return u}),s(c.length>1?c:c[0],o,r))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=O8(e),i=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const r=this.state.activeScope.track[o];!r.kept&&!i.has(r.id)&&r.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===s.id&&this.track(o)})}gradients(e,n,i,s=!1){if(R(n.length>0,()=>"gradients() received an empty list of xs."),i!=null&&i.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '".concat(i.dtype,"'"));const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));R(o instanceof It,()=>"The result y returned by f() must be a tensor.");const r=Fle(this.state.activeTape,n,o);if(!s&&r.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=i==null?Gle(o.shape):i,Ple(a,r,c=>this.tidy(c),qle);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(e){return R(A2(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{R(n.every(a=>a instanceof It),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let i;const s={};n.forEach((a,l)=>{s[l]=a});const o=(a,l)=>(i=e(...n,l),R(i.value instanceof It,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),R(A2(i.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i.value),r=(a,l)=>{const c=i.gradFunc(a,l),u=Array.isArray(c)?c:[c];R(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),R(u.every(h=>h instanceof It),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((h,p)=>{d[p]=()=>h}),d};return this.runKernelFunc({forwardFunc:o,backwardsFunc:r,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Pi(),i=await this.backend.time(e);return i.wallMs=Pi()-n,i}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new z4;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Kd.nextTensorId=0;Kd.nextVariableId=0;function Gle(t){const e=UE(ae(t),"float32");return X.makeTensor(e,t,"float32")}function L8(){const t=x8();if(t._tfengine==null){const e=new fle(t);t._tfengine=new Kd(e)}return xle(t._tfengine.ENV),jle(()=>t._tfengine),t._tfengine}const X=L8();function qle(t,e){const n={a:t,b:e};return X.runKernel(Ch,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kle(){return typeof navigator<"u"&&navigator!=null}function z8(t){if(t||Kle()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function F8(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ki=re();Ki.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ki.registerFlag("IS_BROWSER",()=>F8());Ki.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ki.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ki.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ki.registerFlag("PROD",()=>!1);Ki.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ki.getBool("DEBUG"));Ki.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ki.registerFlag("IS_TEST",()=>!1);Ki.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ki.getBool("DEBUG"));Ki.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ki.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ki.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rl(t,e){let n=t;if(wo(t))return e==="string"?[]:[t.length];if(N8(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(D8(t))return[t.buffer.size/(e==null?4:P0(e))];if(!Array.isArray(t))return[];const i=[];for(;Array.isArray(n)||wo(n)&&e!=="string";)i.push(n.length),n=n[0];return Array.isArray(t)&&re().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&P8(t,i,[]),i}function P8(t,e,n){if(n=n||[],!Array.isArray(t)&&!wo(t)){R(e.length===0,()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(e[0]," elements"));return}R(e.length>0,()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")),R(t.length===e[0],()=>"Element arr[".concat(n.join("]["),"] should have ").concat(e[0]," ")+"elements, but has ".concat(t.length," elements"));const i=e.slice(1);for(let s=0;s<t.length;++s)P8(t[s],i,n.concat(s))}function F4(t,e,n,i){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '".concat(n,"' passed to '").concat(i,"' must ")+"be ".concat(t," tensor, but got ").concat(e," tensor"))}}function P(t,e,n,i="numeric"){if(t instanceof ce())return F4(i,t.dtype,e,n),t;let s=kh(t);if(s!=="string"&&["bool","int32","float32"].indexOf(i)>=0&&(s=i),F4(i,s,e,n),t==null||!wo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error("Argument '".concat(e,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(l,"'"))}const o=Rl(t,s);!wo(t)&&!Array.isArray(t)&&(t=[t]);const a=s!=="string"?gu(t,s):Wc(t,[],!0);return X.makeTensor(a,o,s)}function W0(t,e,n,i="numeric"){if(!Array.isArray(t))throw new Error("Argument ".concat(e," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return t.map((o,r)=>P(o,"".concat(e,"[").concat(r,"]"),n,i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B8="__op";function q(t){const e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(e.length," keys."));let n=e[0];const i=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+B8;const s=(...o)=>{X.startScope(n);try{const r=i(...o);return Hc(r)&&console.error("Cannot return a Promise inside of tidy."),X.endScope(r),r}catch(r){throw X.endScope(null),r}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xle(t,e){const n=P(t,"real","complex"),i=P(e,"imag","complex");xs(n.shape,i.shape,"real and imag shapes, ".concat(n.shape," and ").concat(i.shape,", ")+"must match in call to tf.complex().");const s={real:n,imag:i};return X.runKernel(YE,s)}const bl=q({complex_:Xle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ll(t,e,n,i){if(i==null)i=kh(t);else if(i==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(D8(t)||N8(t)){if(i!=="float32"&&i!=="int32")throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(i,"."));return X.backend.createTensorFromGPUData(t,e||n,i)}if(!wo(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Ms(e);const s=ae(e),o=ae(n);R(s===o,()=>"Based on the provided shape, [".concat(e,"], the tensor should have ")+"".concat(s," values but has ").concat(o));for(let r=0;r<n.length;++r){const a=n[r],l=r===n.length-1?a!==ae(e.slice(r)):!0;R(n[r]===e[r]||!l,()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(e,"). "))}}return!wo(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=i!=="string"?gu(t,i):Wc(t,[],!0),X.makeTensor(t,e,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ho(t,e,n){const i=Rl(t,n);return Ll(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gc={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ir{static join(e){return new ir(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(i=>wo(i)?i.buffer:i),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let i=0;i<e.length;i++){const s=e[i];i!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+s.byteLength;this.shards.push({buffer:s,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const i=this.findShardForByte(e);if(i===-1)throw new Error("Could not find start shard for byte ".concat(e));const s=n-e,o=new ArrayBuffer(s),r=new Uint8Array(o);let a=0;for(let l=i;l<this.shards.length;l++){const c=this.shards[l],d=e+a-c.start,h=a,f=Math.min(n,c.end)-c.start,m=new Uint8Array(c.buffer,d,f-d);if(r.set(m,h),a+=m.length,n<c.end)break}return o}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const i=Yle(this.shards,n);return i===-1?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function Yle(t,e){let n=0,i=t.length;for(;n<=i;){const s=Math.floor((i-n)/2)+n,o=e(t[s]);if(o===0)return s;o<0?i=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lr(){return X}function P4(){return X.memory()}function ie(t,e){return X.tidy(t,e)}function at(t){O8(t).forEach(n=>n.dispose())}function Vn(t){return X.keep(t)}function Zle(t){return X.setBackend(t)}function Jle(){return X.ready()}function Qle(){return X.backendName}function M8(t,e,n=1){return X.registerBackend(t,e,n)}function j8(){return X.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xl=4;async function V2(t,e){const n=[],i=[],s=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);for(let r=0;r<s.length;++r){const a=s[r],l=Array.isArray(t)?t[r].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error("Unsupported dtype in weight '".concat(a,"': ").concat(l.dtype));const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const h=await l.bytes(),p=h.reduce((b,g)=>b+g.length,0)+xl*h.length,f=new Uint8Array(p);let m=0;for(let b=0;b<h.length;b++){const g=h[b],x=new Uint8Array(new Uint32Array([g.length]).buffer);f.set(x,m),m+=xl,f.set(g,m),m+=g.length}d(f)});i.push(u)}else i.push(l.data());e!=null&&(c.group=e),n.push(c)}const o=await Promise.all(i);return{data:nce(o),specs:n}}function U8(t,e){const n=new ir(t),i={};let s=0;for(const o of e){const r=ece(o,(a,l)=>n.slice(s+a,s+l));i[o.name]=V8(o,n.slice(s,s+r)),s+=r}return i}function ece(t,e){const n=ae(t.shape);let i;if("quantization"in t){const s=t.quantization;i=Gc[s.dtype]}else if(t.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=xl+new Uint32Array(e(s,s+xl))[0];return s}else i=Gc[t.dtype];return n*i}async function tce(t,e){const n=ae(t.shape);let i;if("quantization"in t){const s=t.quantization;i=Gc[s.dtype]}else if(t.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=xl+new Uint32Array(await e(s,s+xl))[0];return s}else i=Gc[t.dtype];return n*i}function V8(t,e){const n=t.name,i=t.dtype,s=t.shape,o=ae(s);let r,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error("Weight ".concat(t.name," with quantization ").concat(l.dtype," ")+"doesn't have corresponding metadata min and scale.")}else if(l.dtype==="float16"){if(i!=="float32")throw new Error("Weight ".concat(t.name," is quantized with ").concat(l.dtype," ")+"which only supports weights of type float32 not ".concat(i,"."))}else throw new Error("Weight ".concat(t.name," has unknown ")+"quantization dtype ".concat(l.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");const c=Gc[l.dtype],u=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(i==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){r=new Float32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];r[d]=h*l.scale+l.min}}else if(l.dtype==="float16")r=lce()(u);else throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type float32.");else if(i==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type int32.");r=new Int32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];r[d]=Math.round(h*l.scale+l.min)}}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=o*c}else if(i==="string"){const l=ae(t.shape);r=[];for(let c=0;c<l;c++){const u=new Uint32Array(e.slice(a,a+xl))[0];a+=xl;const d=new Uint8Array(e.slice(a,a+u));r.push(d),a+=u}}else{const l=Gc[i];if(i==="float32")r=new Float32Array(e);else if(i==="int32")r=new Int32Array(e);else if(i==="bool")r=new Uint8Array(e);else if(i==="complex64"){r=new Float32Array(e);const c=new Float32Array(r.length/2),u=new Float32Array(r.length/2);for(let f=0;f<c.length;f++)c[f]=r[f*2],u[f]=r[f*2+1];const d=Ho(c,s,"float32"),h=Ho(u,s,"float32"),p=bl(d,h);return d.dispose(),h.dispose(),p}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=o*l}return Ho(r,s,i)}async function B4(t,e,n){let i=new Uint8Array(e);for(;i.byteLength<n;){const{done:s,value:o}=await t.read();if(s&&o==null){const a=n-i.byteLength;throw new Error("Reader is done but ".concat(a," bytes are still expected"))}const r=new Uint8Array(i.length+o.byteLength);r.set(i,0),r.set(new Uint8Array(o),i.length),i=r}return i.buffer}async function H8(t,e){const n={},i=t.getReader();let s=new ArrayBuffer(0);for(const o of e){const r=await tce(o,async(c,u)=>(s=await B4(i,s,u),s.slice(c,u)));s=await B4(i,s,r);const a=s.slice(0,r);s=s.slice(r);const l=V8(o,a);if(n[o.name]=l,Qle()==="webgpu"){const c=j8();"uploadToGPU"in c&&ae(l.shape)>=re().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(l.dataId)}}return n}function nce(t){if(t===null)throw new Error("Invalid input value: ".concat(JSON.stringify(t)));let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(o.constructor.name))});const i=new Uint8Array(e);let s=0;return n.forEach(o=>{i.set(new Uint8Array(o.buffer),s),s+=o.byteLength}),i.buffer}const YT=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function M4(t){return YT?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function ice(t){if(YT)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);return btoa(n)}function sce(t){if(YT){const i=Buffer.from(t,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n.set([e.charCodeAt(i)],i);return n.buffer}function W8(t){return ir.join(t)}function j4(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function G8(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function q8(t,e,n){const i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(i.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=e,i.weightData=n}return t.signature!=null&&(i.signature=t.signature),t.userDefinedMetadata!=null&&(i.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(i.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(i.initializerSignature=t.initializerSignature),i}async function ZT(t,e){let n,i;return t.weightsManifest!=null&&([n,i]=await e(t.weightsManifest)),q8(t,n,i)}function Ym(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:M4(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:M4(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new ir(t.weightData).byteLength}}function H2(t){const e=[];for(const n of t)e.push(...n.weights);return e}function oce(){const t=n=>{let i=n<<13,s=0;for(;!(i&8388608);)s-=8388608,i<<=1;return i&=-8388609,s+=947912704,i|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function rce(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function ace(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function lce(){const t=oce(),e=rce(),n=ace();return i=>{const s=new ArrayBuffer(4*i.length),o=new Uint32Array(s);for(let r=0;r<i.length;r++){const a=i[r],l=t[n[a>>10]+(a&1023)]+e[a>>10];o[r]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jt{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Jt.instance==null&&(Jt.instance=new Jt),Jt.instance}static registerSaveRouter(e){Jt.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Jt.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Jt.getHandlers(e,"save")}static getLoadHandlers(e,n){return Jt.getHandlers(e,"load",n)}static getHandlers(e,n,i){const s=[];return(n==="load"?Jt.getInstance().loadRouters:Jt.getInstance().saveRouters).forEach(r=>{const a=r(e,i);a!==null&&s.push(a)}),s}}const cce=t=>Jt.registerSaveRouter(t),uce=t=>Jt.registerLoadRouter(t),K8=t=>Jt.getSaveHandlers(t),dce=(t,e)=>Jt.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W2="tensorflowjs",G2=1,xc="models_store",Ka="model_info_store";function X8(){if(!re().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function q2(t){const e=t.result;e.createObjectStore(xc,{keyPath:"modelPath"}),e.createObjectStore(Ka,{keyPath:"modelPath"})}class qc{constructor(e){if(this.indexedDB=X8(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((i,s)=>{const o=this.indexedDB.open(W2,G2);o.onupgradeneeded=()=>q2(o),o.onsuccess=()=>{const r=o.result;if(n==null){const a=r.transaction(xc,"readonly"),c=a.objectStore(xc).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return r.close(),s(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));i(c.result.modelArtifacts)},c.onerror=u=>(r.close(),s(c.error)),a.oncomplete=()=>r.close()}else{n.weightData=ir.join(n.weightData);const a=Ym(n),l=r.transaction(Ka,"readwrite");let c=l.objectStore(Ka),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(h){return s(h)}let d;u.onsuccess=()=>{d=r.transaction(xc,"readwrite");const h=d.objectStore(xc);let p;try{p=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(f){return s(f)}p.onsuccess=()=>i({modelArtifactsInfo:a}),p.onerror=f=>{c=l.objectStore(Ka);const m=c.delete(this.modelPath);m.onsuccess=()=>(r.close(),s(p.error)),m.onerror=b=>(r.close(),s(p.error))}},u.onerror=h=>(r.close(),s(u.error)),l.oncomplete=()=>{d==null?r.close():d.oncomplete=()=>r.close()}}},o.onerror=r=>s(o.error)})}}qc.URL_SCHEME="indexeddb://";const Y8=t=>re().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(qc.URL_SCHEME)?hce(t.slice(qc.URL_SCHEME.length)):null;Jt.registerSaveRouter(Y8);Jt.registerLoadRouter(Y8);function hce(t){return new qc(t)}function pce(t){return t.startsWith(qc.URL_SCHEME)?t.slice(qc.URL_SCHEME.length):t}class fce{constructor(){this.indexedDB=X8()}async listModels(){return new Promise((e,n)=>{const i=this.indexedDB.open(W2,G2);i.onupgradeneeded=()=>q2(i),i.onsuccess=()=>{const s=i.result,o=s.transaction(Ka,"readonly"),a=o.objectStore(Ka).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(s.close(),n(a.error)),o.oncomplete=()=>s.close()},i.onerror=s=>n(i.error)})}async removeModel(e){return e=pce(e),new Promise((n,i)=>{const s=this.indexedDB.open(W2,G2);s.onupgradeneeded=()=>q2(s),s.onsuccess=()=>{const o=s.result,r=o.transaction(Ka,"readwrite"),a=r.objectStore(Ka),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return o.close(),i(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const u=a.delete(e),d=()=>{c=o.transaction(xc,"readwrite");const p=c.objectStore(xc).delete(e);p.onsuccess=()=>n(l.result.modelArtifactsInfo),p.onerror=f=>i(l.error)};u.onsuccess=d,u.onerror=h=>(d(),o.close(),i(l.error))}},l.onerror=u=>(o.close(),i(l.error)),r.oncomplete=()=>{c==null?o.close():c.oncomplete=()=>o.close()}},s.onerror=o=>i(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xr="/",Xu="tensorflowjs_models",Z8="info",mce="model_topology",gce="weight_specs",bce="weight_data",xce="model_metadata";function J8(t){return{info:[Xu,t,Z8].join(Xr),topology:[Xu,t,mce].join(Xr),weightSpecs:[Xu,t,gce].join(Xr),weightData:[Xu,t,bce].join(Xr),modelMetadata:[Xu,t,xce].join(Xr)}}function Q8(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function yce(t){const e=t.split(Xr);if(e.length<3)throw new Error("Invalid key format: ".concat(t));return e.slice(1,e.length-1).join(Xr)}function vce(t){return t.startsWith(Kc.URL_SCHEME)?t.slice(Kc.URL_SCHEME.length):t}class Kc{constructor(e){if(!re().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=J8(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),i=JSON.stringify(e.weightSpecs),s=Ym(e),o=ir.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,i),this.LS.setItem(this.keys.weightData,ice(o));const r={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(r)),{modelArtifactsInfo:s}}catch(r){throw Q8(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(s.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(s.weightSpecsBytes,", ")+"weightDataBytes=".concat(s.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},i=JSON.parse(this.LS.getItem(this.keys.topology));if(i==null)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");n.modelTopology=i;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");n.weightSpecs=s;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const r=this.LS.getItem(this.keys.weightData);if(r==null)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return n.weightData=sce(r),n}}Kc.URL_SCHEME="localstorage://";const ez=t=>re().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Kc.URL_SCHEME)?wce(t.slice(Kc.URL_SCHEME.length)):null;Jt.registerSaveRouter(ez);Jt.registerLoadRouter(ez);function wce(t){return new Kc(t)}class kce{constructor(){R(re().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),R(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Xu+Xr,i=Xr+Z8;for(let s=0;s<this.LS.length;++s){const o=this.LS.key(s);if(o.startsWith(n)&&o.endsWith(i)){const r=yce(o);e[r]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=vce(e);const n=J8(e);if(this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '".concat(e,"'"));const i=JSON.parse(this.LS.getItem(n.info));return Q8(n),i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Td="://";class Ii{constructor(){this.managers={}}static getInstance(){return Ii.instance==null&&(Ii.instance=new Ii),Ii.instance}static registerManager(e,n){R(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Td)&&(e=e.slice(0,e.indexOf(Td))),R(e.length>0,()=>"scheme must not be an empty string.");const i=Ii.getInstance();R(i.managers[e]==null,()=>"A model store manager is already registered for scheme '".concat(e,"'.")),i.managers[e]=n}static getManager(e){const n=Ii.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return n}static getSchemes(){return Object.keys(Ii.getInstance().managers)}}function zb(t){if(t.indexOf(Td)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Ii.getSchemes().join(",")));return{scheme:t.split(Td)[0],path:t.split(Td)[1]}}async function tz(t,e,n=!1){R(t!==e,()=>"Old path and new path are the same: '".concat(t,"'"));const i=Jt.getLoadHandlers(t);R(i.length>0,()=>"Copying failed because no load handler is found for source URL ".concat(t,".")),R(i.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,"."));const s=i[0],o=Jt.getSaveHandlers(e);R(o.length>0,()=>"Copying failed because no save handler is found for destination "+"URL ".concat(e,".")),R(o.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(e,"."));const r=o[0],a=zb(t).scheme,l=zb(t).path,c=a===zb(t).scheme,u=await s.load();n&&c&&await Ii.getManager(a).removeModel(l);const d=await r.save(u);return n&&!c&&await Ii.getManager(a).removeModel(l),d.modelArtifactsInfo}async function Sce(){const t=Ii.getSchemes(),e={};for(const n of t){const i=await Ii.getManager(n).listModels();for(const s in i){const o=n+Td+s;e[o]=i[s]}}return e}async function Cce(t){const e=zb(t);return Ii.getManager(e.scheme).removeModel(e.path)}async function Ece(t,e){return tz(t,e,!1)}async function Tce(t,e){return tz(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ice{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got ".concat(n));return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!re().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{if(i.source===window&&i.data.name===this.messageName){i.stopPropagation();const s=this.functionRefs[i.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return w8(e)}}if(re().get("IS_BROWSER")){re().setPlatform("browser",new Ice);try{Ii.registerManager(Kc.URL_SCHEME,new kce)}catch(t){}try{Ii.registerManager(qc.URL_SCHEME,new fce)}catch(t){}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ce={importFetch:()=>require("node-fetch")};let Rw;class _ce{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return re().global.fetch!=null?re().global.fetch(e,n):(Rw==null&&(Rw=$ce.importFetch()),Rw(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got ".concat(n));return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}re().get("IS_NODE")&&!re().get("IS_BROWSER")&&re().setPlatform("node",new _ce);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nt(t,e="float32",n){return e=e||"float32",Ms(t),new On(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ace(t,e){const n=P(t,"x","cast");if(!ule(e))throw new Error("Failed to cast to unknown dtype ".concat(e));if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const i={x:n},s={dtype:e};return X.runKernel(lm,i,s)}const _e=q({cast_:Ace});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nce(t){const n={x:P(t,"x","clone","string_or_numeric")};return X.runKernel(wm,n)}const ra=q({clone_:Nce});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nz(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */L8();const Dce={buffer:nt,cast:_e,clone:ra,print:nz};Ule(Dce);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oce(t,e){let n=P(t,"a","add"),i=P(e,"b","add");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(Ch,s)}const fe=q({add_:Oce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rce(t,e){let n=P(t,"a","floorDiv"),i=P(e,"b","floorDiv");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(ym,s)}const JT=q({floorDiv_:Rce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lce(t,e){let n=P(t,"a","div"),i=P(e,"b","div");if([n,i]=hn(n,i),n.dtype==="int32"&&i.dtype==="int32")return JT(n,i);const s={a:n,b:i},o={};return X.runKernel(pm,s,o)}const Oe=q({div_:Lce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zce(t,e){let n=P(t,"a","mul"),i=P(e,"b","mul");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(Am,s)}const K=q({mul_:zce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fce(t){const e=P(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return X.runKernel(Oy,n)}else{const n={x:e};return X.runKernel(Cy,n)}}const In=q({abs_:Fce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pce(t){const n={x:P(t,"x","acos")};return X.runKernel(tm,n)}const iz=q({acos_:Pce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bce(t){const n={x:P(t,"x","acosh")};return X.runKernel(nm,n)}const sz=q({acosh_:Bce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mce(t){R(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),R(t.length>=1,()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(t.length));const e=t.map((s,o)=>P(s,"tensors".concat(o),"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!gt(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const i=e;return X.runKernel(Ey,i)}const jce=q({addN_:Mce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uce(t,e=null,n=!1){const s={x:P(t,"x","all","bool")},o={axis:e,keepDims:n};return X.runKernel(HE,s,o)}const QT=q({all_:Uce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vce(t,e=null,n=!1){const s={x:P(t,"x","any","bool")},o={axis:e,keepDims:n};return X.runKernel(WE,s,o)}const G0=q({any_:Vce});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hce(t,e=0){const i={x:P(t,"x","argMax")},s={axis:e};return X.runKernel(Ty,i,s)}const Xd=q({argMax_:Hce});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wce(t,e=0){const i={x:P(t,"x","argMin")},s={axis:e};return X.runKernel(Iy,i,s)}const oz=q({argMin_:Wce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gce(t){const n={x:P(t,"x","asin")};return X.runKernel(im,n)}const rz=q({asin_:Gce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qce(t){const n={x:P(t,"x","asinh")};return X.runKernel(sm,n)}const az=q({asinh_:qce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kce(t){const n={x:P(t,"x","atan")};return X.runKernel(om,n)}const lz=q({atan_:Kce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xce(t,e){let n=P(t,"a","atan2"),i=P(e,"b","atan2");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(am,s)}const cz=q({atan2_:Xce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yce(t){const n={x:P(t,"x","atanh")};return X.runKernel(rm,n)}const uz=q({atanh_:Yce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zm(t,e,n,i,s="NHWC",o){const r=t[3],a=[...e,r],l=ya(s);return Yn(t,a,n,o,i,null,null,l)}function To(t,e,n,i,s,o,r="channelsLast"){const[a,l]=hf(e);let c;if(r==="channelsLast")c=[a,l,t[3],t[3]];else if(r==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(r));return Yn(t,c,n,i,s,o,!1,r)}function xa(t,e,n,i,s,o,r="NDHWC"){const[a,l,c]=K2(e);let u,d;if(r==="NDHWC")d="channelsLast",u=[a,l,c,t[4],t[4]];else if(r==="NCDHW")d="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(r));return zl(t,u,n,i,s,!1,d,o)}function Yn(t,e,n,i,s,o,r=!1,a="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,d]=t;else if(a==="channelsFirst")[l,d,c,u]=t;else throw new Error("Unknown dataFormat ".concat(a));const[h,p,,f]=e,[m,b]=hf(n),[g,x]=hf(i),y=Id(h,g),v=Id(p,x),{padInfo:w,outHeight:C,outWidth:k}=Qce(s,c,u,m,b,y,v,o,a),E=r?f*d:f;let T;return a==="channelsFirst"?T=[l,E,C,k]:a==="channelsLast"&&(T=[l,C,k,E]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:d,outHeight:C,outWidth:k,outChannels:E,padInfo:w,strideHeight:m,strideWidth:b,filterHeight:h,filterWidth:p,effectiveFilterHeight:y,effectiveFilterWidth:v,dilationHeight:g,dilationWidth:x,inShape:t,outShape:T,filterShape:e}}function zl(t,e,n,i,s,o=!1,r="channelsLast",a){let[l,c,u,d,h]=[-1,-1,-1,-1,-1];if(r==="channelsLast")[l,c,u,d,h]=t;else if(r==="channelsFirst")[l,h,c,u,d]=t;else throw new Error("Unknown dataFormat ".concat(r));const[p,f,m,,b]=e,[g,x,y]=K2(n),[v,w,C]=K2(i),k=Id(p,v),E=Id(f,w),T=Id(m,C),{padInfo:_,outDepth:z,outHeight:N,outWidth:O}=eue(s,c,u,d,g,x,y,k,E,T,a),I=o?b*h:b;let L;return r==="channelsFirst"?L=[l,I,z,N,O]:r==="channelsLast"&&(L=[l,z,N,O,I]),{batchSize:l,dataFormat:r,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:z,outHeight:N,outWidth:O,outChannels:I,padInfo:_,strideDepth:g,strideHeight:x,strideWidth:y,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:E,effectiveFilterWidth:T,dilationDepth:v,dilationHeight:w,dilationWidth:C,inShape:t,outShape:L,filterShape:e}}function Zce(t,e,n,i,s){i==null&&(i=eI(t,e,n));const o=t[0],r=t[1],a=pf((o-e+2*i)/n+1,s),l=pf((r-e+2*i)/n+1,s);return[a,l]}function Jce(t,e,n,i,s,o){s==null&&(s=eI(t,e[0],i[0]));const r=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*s>=e[a]&&(r[a]=pf((t[a]-e[a]+2*s)/i[a]+1,o));return r}function eI(t,e,n,i=1){const s=Id(e,i);return Math.floor((t[0]*(n-1)-n+s)/2)}function hf(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function K2(t){return typeof t=="number"?[t,t,t]:t}function Id(t,e){return e<=1?t:t+(t-1)*(e-1)}function Qce(t,e,n,i,s,o,r,a,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const p=Zce([e,n],o,i,t,a);u=p[0],d=p[1]}else if(t==="same"){u=Math.ceil(e/i),d=Math.ceil(n/s);const h=Math.max(0,(u-1)*i+o-e),p=Math.max(0,(d-1)*s+r-n),f=Math.floor(h/2),m=h-f,b=Math.floor(p/2),g=p-b;c={top:f,bottom:m,left:b,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-o+1)/i),d=Math.ceil((n-r+1)/s);else if(typeof t=="object"){const h=l==="channelsLast"?t[1][0]:t[2][0],p=l==="channelsLast"?t[1][1]:t[2][1],f=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:h,bottom:p,left:f,right:m,type:h===0&&p===0&&f===0&&m===0?"VALID":"EXPLICIT"},u=pf((e-o+h+p)/i+1,a),d=pf((n-r+f+m)/s+1,a)}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:c,outHeight:u,outWidth:d}}function eue(t,e,n,i,s,o,r,a,l,c,u){let d,h,p,f;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=Jce([e,n,i,1],[a,l,c],1,[s,o,r],t,u);h=b[0],p=b[1],f=b[2]}else if(t==="same"){h=Math.ceil(e/s),p=Math.ceil(n/o),f=Math.ceil(i/r);const m=(h-1)*s+a-e,b=(p-1)*o+l-n,g=(f-1)*r+c-i,x=Math.floor(m/2),y=m-x,v=Math.floor(b/2),w=b-v,C=Math.floor(g/2),k=g-C;d={top:v,bottom:w,left:C,right:k,front:x,back:y,type:"SAME"}}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:d,outDepth:h,outHeight:p,outWidth:f}}function pf(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode ".concat(e))}}function yl(t){const[e,n,i]=hf(t);return e===1&&n===1&&i===1}function hi(t,e){return yl(t)||yl(e)}function Xc(t){return hf(t).every(e=>e>0)}function ya(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat ".concat(t))}function Li(t,e,n){if(n!=null){if(typeof e=="string")throw Error("Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));if(typeof e=="number")R(Gd(e),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));else if(typeof e=="object")e.forEach(i=>{i.forEach(s=>{R(Gd(s),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(s,"."))})});else throw Error("Error in ".concat(t,": Unknown padding parameter: ").concat(e))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tue(t,e){const i={x:P(t,"x","reshape","string_or_numeric")},s={shape:e};return X.runKernel(pv,i,s)}const Y=q({reshape_:tue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nue(t,e,n,i,s){const o=P(t,"x","avgPool","float32"),r=1;R(hi(n,r),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'"));let a=o,l=!1;o.rank===3&&(l=!0,a=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]])),R(a.rank===4,()=>"Error in avgPool: x must be rank 4 but got rank ".concat(a.rank,".")),Li("avgPool",i,s);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s};let d=X.runKernel($y,c,u);return d=_e(d,o.dtype),l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const $v=q({avgPool_:nue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iue(t,e,n,i,s,o="NDHWC"){const r=P(t,"x","avgPool3d","float32");let a=r,l=!1;r.rank===4&&(l=!0,a=Y(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),R(a.rank===5,()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),R(o==="NDHWC",()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),R(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")),Li("avgPool3d",i,s);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s,dataFormat:o};let d=X.runKernel(_y,c,u);return d=_e(d,a.dtype),l?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const dz=q({avgPool3d_:iue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sue(t,e=0){R(t.length>=1,()=>"Pass at least one tensor to concat");const n=W0(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(o.dtype,". "))}),n.length===1)return ra(n[0]);const i=n,s={axis:e};return X.runKernel(Ry,i,s)}const dn=q({concat_:sue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oue(t,e,n=!1,i=!1){let s=P(t,"a","matMul"),o=P(e,"b","matMul");[s,o]=hn(s,o);const r={a:s,b:o},a={transposeA:n,transposeB:i};return X.runKernel(Ay,r,a)}const dt=q({matMul_:oue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rue(t){const n={x:P(t,"x","sigmoid","float32")};return X.runKernel(jm,n)}const Wo=q({sigmoid_:rue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aue(t,e,n){const i=P(t,"x","slice","string_or_numeric");if(i.rank===0)throw new Error("Slicing scalar is not possible");const s={x:i},o={begin:e,size:n};return X.runKernel(xv,s,o)}const qe=q({slice_:aue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lue(t){const n={x:P(t,"x","tanh","float32")};return X.runKernel(qm,n)}const Yc=q({tanh_:lue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cue(t,e,n,i,s,o){const r=P(t,"forgetBias","basicLSTMCell"),a=P(e,"lstmKernel","basicLSTMCell"),l=P(n,"lstmBias","basicLSTMCell"),c=P(i,"data","basicLSTMCell"),u=P(s,"c","basicLSTMCell"),d=P(o,"h","basicLSTMCell"),h=dn([c,d],1),p=dt(h,a),f=fe(p,l),m=f.shape[0],b=f.shape[1]/4,g=[m,b],x=qe(f,[0,0],g),y=qe(f,[0,b],g),v=qe(f,[0,b*2],g),w=qe(f,[0,b*3],g),C=fe(K(Wo(x),Yc(y)),K(u,Wo(fe(r,v)))),k=K(Yc(C),Wo(w));return[C,k]}const uue=q({basicLSTMCell_:cue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function due(t,e,n){const i=P(t,"x","batchToSpaceND"),s=e.reduce((a,l)=>a*l);R(i.rank>=1+e.length,()=>"input rank is ".concat(i.rank," but should be > than blockShape.length ").concat(e.length)),R(n.length===e.length,()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(e.length)),R(i.shape[0]%s===0,()=>"input tensor batch is ".concat(i.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(e.join(" * ")," === ").concat(s));const o={x:i},r={blockShape:e,crops:n};return X.runKernel(Ny,o,r)}const _v=q({batchToSpaceND_:due});function hue(t){let e;return t.rank===0||t.rank===1?e=Y(t,[1,1,1,t.size]):t.rank===2?e=Y(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pue(t,e,n,i,s,o){o==null&&(o=.001);const r=P(t,"x","batchNorm"),a=P(e,"mean","batchNorm"),l=P(n,"variance","batchNorm");let c;s!=null&&(c=P(s,"scale","batchNorm"));let u;i!=null&&(u=P(i,"offset","batchNorm")),R(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),R(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),R(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:hue(r),scale:c,offset:u,mean:a,variance:l},p={varianceEpsilon:o},f=X.runKernel(Vy,h,p);return Y(f,r.shape)}const Jm=q({batchNorm_:pue});function fue(t,e,n,i,s,o){const r=P(t,"x","batchNorm"),a=P(e,"mean","batchNorm"),l=P(n,"variance","batchNorm");let c;s!=null&&(c=P(s,"scale","batchNorm"));let u;return i!=null&&(u=P(i,"offset","batchNorm")),R(r.rank===2,()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(r.rank,".")),R(a.rank===2||a.rank===1,()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(a.rank,".")),R(l.rank===2||l.rank===1,()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&R(c.rank===2||c.rank===1,()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&R(u.rank===2||u.rank===1,()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")),Jm(r,a,l,u,c,o)}const hz=q({batchNorm2d_:fue});function mue(t,e,n,i,s,o){const r=P(t,"x","batchNorm"),a=P(e,"mean","batchNorm"),l=P(n,"variance","batchNorm");let c;s!=null&&(c=P(s,"scale","batchNorm"));let u;return i!=null&&(u=P(i,"offset","batchNorm")),R(r.rank===3,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(r.rank,".")),R(a.rank===3||a.rank===1,()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(a.rank,".")),R(l.rank===3||l.rank===1,()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&R(c.rank===3||c.rank===1,()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&R(u.rank===3||u.rank===1,()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")),Jm(r,a,l,u,c,o)}const pz=q({batchNorm3d_:mue});function gue(t,e,n,i,s,o){const r=P(t,"x","batchNorm"),a=P(e,"mean","batchNorm"),l=P(n,"variance","batchNorm");let c;s!=null&&(c=P(s,"scale","batchNorm"));let u;return i!=null&&(u=P(i,"offset","batchNorm")),R(r.rank===4,()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(r.rank,".")),R(a.rank===4||a.rank===1,()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(a.rank,".")),R(l.rank===4||l.rank===1,()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&R(c.rank===4||c.rank===1,()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&R(u.rank===4||u.rank===1,()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")),Jm(r,a,l,u,c,o)}const fz=q({batchNorm4d_:gue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bue(t,e,n){const i=P(t,"x","bincount"),s=P(e,"weights","bincount");R(i.dtype==="int32",()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(i.dtype)),R(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),R(s.size===i.size||s.size===0,()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(i.shape,", weights shape: ")+"".concat(s.shape,"."));const o={x:i,weights:s},r={size:n};return X.runKernel(KE,o,r)}const mz=q({bincount_:bue});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xue(t,e){const n=P(t,"x","bitwiseAnd"),i=P(e,"y","bitwiseAnd");if(!gt(n.shape,i.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(i.shape));if(n.dtype!=="int32"||i.dtype!=="int32")throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(i.dtype));const s={a:n,b:i};return X.runKernel(Dy,s)}const yue=q({bitwiseAnd_:xue});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vue(t,e){const n=P(t,"s0","broadcastArgs","int32"),i=P(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(i.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(i.rank));const s={s0:n,s1:i};return X.runKernel(XE,s)}const wue=q({broadcastArgs_:vue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kue(t,e){let n=P(t,"broadcastTo","x");const i=n.shape;if(Ms(e),e.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(e.length," < input.rank=").concat(n.rank,"."));if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=Y(n,c)}const s=n.shape,o=Array.from(e);for(let c=e.length-1;c>=0;c--)if(s[c]===e[c])o[c]=1;else if(n.shape[c]!==1)throw new Error("broadcastTo(): [".concat(i,"] cannot be broadcast to [").concat(e,"]."));if(o.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return ra(n);const a={x:n},l={reps:o};return X.runKernel(Km,a,l)}const $d=q({broadcastTo_:kue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sue(t){const n={x:P(t,"x","ceil","float32")};return X.runKernel(cm,n)}const gz=q({ceil_:Sue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eh(t,e,n){Ms(t),n=n||kh(e);const i={shape:t,value:e,dtype:n};return X.runKernel(uT,{},i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cue(t,e,n){const i=P(t,"x","clipByValue");if(R(e<=n,()=>"Error in clip: min (".concat(e,") must be ")+"less than or equal to max (".concat(n,").")),e===n)return Eh(i.shape,e,i.dtype);const s={x:i},o={clipValueMin:e,clipValueMax:n};return X.runKernel(um,s,o)}const hs=q({clipByValue_:Cue});function Eue(t){return dn(t,0)}const bz=q({concat1d_:Eue});function Tue(t,e){return dn(t,e)}const Av=q({concat2d_:Tue});function Iue(t,e){return dn(t,e)}const xz=q({concat3d_:Iue});function $ue(t,e){return dn(t,e)}const yz=q({concat4d_:$ue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ue(t,e,n,i,s="NHWC",o=[1,1],r){const a=P(t,"x","conv2d","float32"),l=P(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(c.rank===4,()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,".")),R(l.rank===4,()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")),Li("conv2d",i,r);const d=s==="NHWC"?c.shape[3]:c.shape[1];R(d===l.shape[2],()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],".")),R(hi(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),R(Xc(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),R(Xc(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:c,filter:l},p={strides:n,pad:i,dataFormat:s,dilations:o,dimRoundingMode:r},f=X.runKernel(Ly,h,p);return u?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const vl=q({conv2d_:_ue});function Aue(t,e,n,i,s="NWC",o=1,r){const a=P(t,"x","conv1d"),l=P(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=Y(a,[1,a.shape[0],a.shape[1]])),R(c.rank===3,()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,".")),R(l.rank===3,()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,".")),Li("conv1d",i,r),R(c.shape[2]===l.shape[1],()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],".")),R(hi(n,o),()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")),R(Xc(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),R(Xc(n),()=>"Error in conv1D: Stride should be larger than 0."),R(s==="NWC",()=>"Error in conv1d: got dataFormat of ".concat(s," but only NWC is currently supported."));const d=Y(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=Y(c,[c.shape[0],1,c.shape[1],c.shape[2]]),b=vl(h,d,[1,n],i,"NHWC",[1,o],r);return u?Y(b,[b.shape[2],b.shape[3]]):Y(b,[b.shape[0],b.shape[2],b.shape[3]])}const tI=q({conv1d_:Aue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nue(t,e,n,i,s,o="NHWC",r){R(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),R(a.length===4,()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(a.length,".")),R(l.rank===4,()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)),R(n.rank===4,()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank));const u=o==="NHWC"?a[3]:a[1],d=o==="NHWC"?l.shape[3]:l.shape[1];R(u===n.shape[2],()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],".")),R(d===n.shape[3],()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")),Li("conv2dDerInput",s,r);const h={dy:l,filter:n},p={strides:i,pad:s,dataFormat:o,dimRoundingMode:r,inputShape:a},f=X.runKernel(zy,h,p);return c?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const nI=q({conv2DBackpropInput_:Nue});function Due(t,e,n,i,s,o){const r=P(t,"x","conv2dTranspose"),a=P(e,"filter","conv2dTranspose");return nI(n,r,a,i,s,"NHWC",o)}const iI=q({conv2dTranspose_:Due});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oue(t,e,n,i,s="NDHWC",o=[1,1,1]){const r=P(t,"x","conv3d"),a=P(e,"filter","conv3d");let l=r,c=!1;r.rank===4&&(c=!0,l=Y(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),R(l.rank===5,()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,".")),R(a.rank===5,()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(a.rank,".")),R(l.shape[4]===a.shape[3],()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(a.shape[3],".")),R(hi(n,o),()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),R(s==="NDHWC",()=>"Error in conv3d: got dataFormat of ".concat(s," but only NDHWC is currently supported.")),R(Xc(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),R(Xc(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:a},d={strides:n,pad:i,dataFormat:s,dilations:o},h=X.runKernel(Fy,u,d);return c?Y(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const vz=q({conv3d_:Oue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rue(t,e,n,i,s){R(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let o=t,r=e,a=!1;e.rank===4&&(a=!0,r=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const l=o[4],c=r.shape[4];R(o.length===5,()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")),R(r.rank===5,()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(r.rank)),R(n.rank===5,()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)),R(l===n.shape[3],()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")),R(c===n.shape[4],()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],"."));const u={dy:r,filter:n},d={pad:s,strides:i,inputShape:o},h=X.runKernel(QE,u,d);return a?Y(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const wz=q({conv3DBackpropInput_:Rue});function Lue(t,e,n,i,s){const o=P(t,"x","conv3dTranspose"),r=P(e,"filter","conv3dTranspose");return wz(n,o,r,i,s)}const kz=q({conv3dTranspose_:Lue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zue(t){const n={x:P(t,"x","cos","float32")};return X.runKernel(dm,n)}const Nv=q({cos_:zue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fue(t){const n={x:P(t,"x","cosh","float32")};return X.runKernel(hm,n)}const sI=q({cosh_:Fue});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pue(t,e=0,n=!1,i=!1){const o={x:P(t,"x","cumprod")},r={axis:e,exclusive:n,reverse:i};return X.runKernel(eT,o,r)}const q0=q({cumprod_:Pue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bue(t,e=0,n=!1,i=!1){const o={x:P(t,"x","cumsum")},r={axis:e,exclusive:n,reverse:i};return X.runKernel(Py,o,r)}const oI=q({cumsum_:Bue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mue(t,e,n,i=!1){const s=P(t,"x","denseBincount"),o=P(e,"weights","denseBincount");R(s.dtype==="int32",()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(s.dtype)),R(s.rank<=2,()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(s.rank,".")),R(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),R(o.size===s.size||o.size===0,()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(s.shape,", weights shape: ")+"".concat(o.shape,"."));const r={x:s,weights:o},a={size:n,binaryOutput:i};return X.runKernel(nT,r,a)}const X2=q({denseBincount_:Mue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jue(t,e,n="NHWC"){const i=P(t,"x","depthToSpace","float32"),s=n==="NHWC"?i.shape[1]:i.shape[2],o=n==="NHWC"?i.shape[2]:i.shape[3],r=n==="NHWC"?i.shape[3]:i.shape[1];R(e>1,()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(e)),R(s*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(s," and ").concat(e,"  for depthToSpace with input shape\n    ").concat(i.shape)),R(o*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(e," for depthToSpace with input shape\n        ").concat(i.shape)),R(r%(e*e)===0,()=>"Dimension size must be evenly divisible by ".concat(e*e," but is ").concat(r," for depthToSpace with input shape ").concat(i.shape));const a={x:i},l={blockSize:e,dataFormat:n};return X.runKernel(iT,a,l)}const Sz=q({depthToSpace_:jue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uue(t,e,n,i,s="NHWC",o=[1,1],r){const a=P(t,"x","depthwiseConv2d","float32"),l=P(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(c.rank===4,()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")),R(l.rank===4,()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."));const d=s==="NHWC"?c.shape[3]:c.shape[1];R(d===l.shape[2],()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],".")),Li("depthwiseConv2d",i,r);const h={x:c,filter:l},p={strides:n,pad:i,dataFormat:s,dilations:o,dimRoundingMode:r},f=X.runKernel(By,h,p);return u?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const Qm=q({depthwiseConv2d_:Uue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vue(t){const n={x:P(t,"x","diag")};return X.runKernel(rT,n)}const Hue=q({diag_:Vue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wue(t,e,n,i,s=[1,1],o="NHWC"){const r=P(t,"x","dilation2d"),a=P(e,"filter","dilation2d");R(r.rank===3||r.rank===4,()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(r.rank,".")),R(a.rank===3,()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(a.rank,".")),R(o==="NHWC",()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o));let l=r,c=!1;r.rank===3&&(l=Y(r,[1,r.shape[0],r.shape[1],r.shape[2]]),c=!0),R(l.shape[3]===a.shape[2],()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(a.shape[2]));const u={x:l,filter:a},d={strides:n,pad:i,dilations:s},h=X.runKernel(My,u,d);return c?Y(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const Cz=q({dilation2d_:Wue});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yd(t,e){const n=t.length,i=[];for(let s=0;s<n;s++){const o=n-1-s,r=t[o]||1;(e[e.length-1-s]||1)>1&&r===1&&i.unshift(o)}return i}function zn(t,e){const n=[];for(let i=0;i<e.length;i++){const s=t[t.length-i-1],o=e.length-i-1,r=e[o];(s==null||s===1&&r>1)&&n.unshift(o)}return n}function Je(t,e){const n=Math.max(t.length,e.length),i=new Array(n);for(let s=0;s<n;s++){let o=t[t.length-s-1];o==null&&(o=1);let r=e[e.length-s-1];if(r==null&&(r=1),o===1)i[n-s-1]=r;else if(r===1)i[n-s-1]=o;else if(o!==r){const a="Operands could not be broadcast together with shapes "+"".concat(t," and ").concat(e,".");throw Error(a)}else i[n-s-1]=o}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gue(t,e){let n=P(t,"a","equal","string_or_numeric"),i=P(e,"b","equal","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(jy,s)}const Xo=q({equal_:Gue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function que(t,e,n){const i=P(e,"a","where"),s=P(n,"b","where"),o=P(t,"condition","where","bool"),r=Je(Je(o.shape,i.shape),s.shape),a=$d(o,r),l=$d(i,r),c=$d(s,r),u={condition:a,t:l,e:c};return X.runKernel(bv,u)}const ki=q({where_:que});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kue(t){const n={x:P(t,"x","zerosLike")};return X.runKernel(Tv,n)}const yt=q({zerosLike_:Kue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xue(t,e){let n=P(t,"a","div"),i=P(e,"b","div");[n,i]=hn(n,i);const s=Oe(n,i),o=yt(s),r=Xo(i,o);return ki(r,o,s)}const Ez=q({divNoNan_:Xue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yue(t,e){const n=P(t,"t1","dot"),i=P(e,"t2","dot");R((n.rank===1||n.rank===2)&&(i.rank===1||i.rank===2),()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const s=n.rank===1?n.size:n.shape[1],o=i.rank===1?i.size:i.shape[0];if(R(s===o,()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(s," and ").concat(o,".")),n.rank===1&&i.rank===1){const r=Y(n,[1,-1]),a=Y(i,[-1,1]),l=dt(r,a);return Y(l,[])}else if(n.rank===1&&i.rank===2){const r=Y(n,[1,-1]),a=Y(i,[i.shape[0],i.shape[1]]),l=dt(r,a);return Y(l,[l.size])}else if(n.rank===2&&i.rank===1){const r=Y(i,[-1,1]),a=dt(n,r);return Y(a,[a.size])}else{const r=Y(i,[i.shape[0],i.shape[1]]);return dt(n,r)}}const Tz=q({dot_:Yue});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zue(t,...e){const n=e.map((s,o)=>P(s,"tensors".concat(o),"einsum")),i={equation:t};return X.runKernel(aT,n,i)}const Yu=q({einsum_:Zue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jue(t){const n={x:P(t,"x","elu","float32")};return X.runKernel(fm,n)}const eg=q({elu_:Jue});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Que(t,e){const n=P(t,"x","ensureShape","string_or_numeric");if(!lle(n.shape,e))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(e));return t}const ede=q({ensureShape_:Que});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tde(t){let e=P(t,"x","erf");R(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=_e(e,"float32"));const n={x:e};return X.runKernel(mm,n)}const rI=q({erf_:tde});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aI(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function Iz(t,e,n){const i=t.length+e.length,s=[];let o=0,r=0;for(let a=0;a<i;a++)n.indexOf(a)===-1?s.push(t[o++]):s.push(e[r++]);return s}function Zn(t,e){const n=[],i=t.length;for(let o=0;o<i;o++)e.indexOf(o)===-1&&n.push(t[o]);const s=e.map(o=>t[o]);return[n,s]}function bn(t,e){const n=e.map(i=>1);return Iz(t,n,e)}function pi(t,e,n){R(aI(e,n),()=>"".concat(t," supports only inner-most axes for now. ")+"Got axes ".concat(e," and rank-").concat(n," input."))}function sn(t,e){if(aI(t,e))return null;const n=[];for(let i=0;i<e;++i)t.indexOf(i)===-1&&n.push(i);return t.forEach(i=>n.push(i)),n}function Fl(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function xn(t,e){const n=[];for(let i=e-t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nde(t,e=null,n=!1){const s={x:P(t,"x","max")},o={reductionIndices:e,keepDims:n};return X.runKernel(Qy,s,o)}const go=q({max_:nde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ide(t,e=null,n=!1){const s={x:P(t,"x","min")},o={axis:e,keepDims:n};return X.runKernel(iv,s,o)}const ff=q({min_:ide});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sde(t,e){let n=P(t,"base","pow"),i=P(e,"exp","pow");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(Nm,s)}const ha=q({pow_:sde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function We(t,e){if((wo(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&wo(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ll(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ode(t){const n={x:P(t,"x","sqrt","float32")};return X.runKernel(Vm,n)}const ci=q({sqrt_:ode});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rde(t){const e=P(t,"x","square"),n={};return X.runKernel("Square",{x:e},n)}const Rt=q({square_:rde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ade(t,e=null,n=!1){let i=P(t,"x","sum");i.dtype==="bool"&&(i=_e(i,"int32"));const s={x:i},o={axis:e,keepDims:n};return X.runKernel(yv,s,o)}const Le=q({sum_:ade});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lde(t,e="euclidean",n=null,i=!1){t=P(t,"x","norm");const s=$z(t,e,n);let o=s.shape;if(i){const r=ct(n,t.shape);o=bn(s.shape,r)}return Y(s,o)}function $z(t,e,n=null){if(t.rank===0)return In(t);if(t.rank!==1&&n===null)return $z(Y(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Le(In(t),n);if(e===1/0)return go(In(t),n);if(e===-1/0)return ff(In(t),n);if(e==="euclidean"||e===2)return ci(Le(ha(In(t),We(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}if(Array.isArray(n)&&n.length===2){if(e===1)return go(Le(In(t),n[0]),n[1]-1);if(e===1/0)return go(Le(In(t),n[1]),n[0]);if(e===-1/0)return ff(Le(In(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ci(Le(Rt(t),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}throw new Error("Error in norm: invalid axis: ".concat(n))}const tg=q({norm_:lde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cde(t,e=null,n=!1){return tg(t,"euclidean",e,n)}const _z=q({euclideanNorm_:cde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(t){const n={x:P(t,"x","exp")};return X.runKernel(gm,n)}const ps=q({exp_:ude});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dde(t,e=0){const n=P(t,"x","expandDims","string_or_numeric");R(e<=n.rank,()=>"Axis must be <= rank of the tensor");const i={input:n},s={dim:e};return X.runKernel(Uy,i,s)}const xi=q({expandDims_:dde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hde(t){const n={x:P(t,"x","expm1")};return X.runKernel(bm,n)}const Az=q({expm1_:hde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pde(t,e){const n=P(t,"x","tile","string_or_numeric");R(n.rank===e.length,()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(e,"."));const i={x:n},s={reps:e};return X.runKernel(Km,i,s)}const co=q({tile_:pde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fde(t,e,n,i="float32"){e==null&&(e=t);const s=nt([t,e],i),o=t<=e?t:e;for(let a=0;a<o;++a)s.set(1,a,a);const r=Y(s.toTensor(),[t,e]);if(n==null)return r;if(n.length===1)return co(xi(r,0),[n[0],1,1]);if(n.length===2)return co(xi(xi(r,0),0),[n[0],n[1],1,1]);if(n.length===3)return co(xi(xi(xi(r,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}const lI=q({eye_:fde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mde(t){const n={x:P(t,"x","floor","float32")};return X.runKernel(xm,n)}const ng=q({floor_:mde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gde(t,e,n=0,i=0){const s=P(t,"x","gather"),o=P(e,"indices","gather","int32"),r={x:s,indices:o},a={axis:n,batchDims:i};return X.runKernel(Hy,r,a)}const ig=q({gather_:gde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bde(t,e){let n=P(t,"a","greater","string_or_numeric"),i=P(e,"b","greater","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(Wy,s)}const vs=q({greater_:bde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xde(t,e){let n=P(t,"a","greaterEqual","string_or_numeric"),i=P(e,"b","greaterEqual","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(vm,s)}const Pl=q({greaterEqual_:xde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yde(t){const n={input:P(t,"input","imag")};return X.runKernel(fT,n)}const Dv=q({imag_:yde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vde(t){const n={x:P(t,"x","isFinite")};return X.runKernel(km,n)}const Nz=q({isFinite_:vde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wde(t){const n={x:P(t,"x","isInf")};return X.runKernel(Sm,n)}const Dz=q({isInf_:wde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kde(t){const n={x:P(t,"x","isNaN")};return X.runKernel(Cm,n)}const Oz=q({isNaN_:kde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(t,e=.2){const i={x:P(t,"x","leakyRelu")},s={alpha:e};return X.runKernel(Gy,i,s)}const Ov=q({leakyRelu_:Sde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cde(t,e){let n=P(t,"a","less","string_or_numeric"),i=P(e,"b","less","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(qy,s)}const mf=q({less_:Cde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ede(t,e){let n=P(t,"a","lessEqual","string_or_numeric"),i=P(e,"b","lessEqual","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(Ky,s)}const bu=q({lessEqual_:Ede});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tde(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const i={start:t,stop:e,num:n};return X.runKernel(mT,{},i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ide(t,e=5,n=1,i=1,s=.5){const o=P(t,"x","localResponseNormalization");R(o.rank===4||o.rank===3,()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")),R(Gd(e),()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(e,"."));let r=o,a=!1;o.rank===3&&(a=!0,r=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:r},c={depthRadius:e,bias:n,alpha:i,beta:s},u=X.runKernel(Jy,l,c);return a?Y(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Rz=q({localResponseNormalization_:Ide});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(t){const n={x:P(t,"x","log","float32")};return X.runKernel(Em,n)}const zs=q({log_:$de});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const n={x:P(t,"x","log1p")};return X.runKernel(Tm,n)}const Rv=q({log1p_:_de});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ade(t,e){R(A2(t),()=>"The f passed in variableGrads(f) must be a function"),R(e==null||Array.isArray(e)&&e.every(c=>c instanceof H0),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in X.registeredVariables)e.push(X.registeredVariables[c])}const i=n?e.filter(c=>!c.trainable):null,s=e.length;e=e.filter(c=>c.trainable),R(e.length>0,()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(s," variables is ")+"trainable.");const o=!0,{value:r,grads:a}=X.gradients(t,e,null,o);R(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),R(r.rank===0,()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(r.rank," tensor"));const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),i!=null&&i.forEach(c=>l[c.name]=null),{value:r,grads:l}}function pa(t){return X.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nde(t){const n={x:P(t,"x","neg")};return X.runKernel(ov,n)}const qt=q({neg_:Nde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(t){const n={x:P(t,"x","softplus")};return X.runKernel(Um,n)}const Th=q({softplus_:Dde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ode(t){const e=P(t,"x","logSigmoid");return pa(i=>({value:qt(Th(qt(i))),gradFunc:r=>K(r,Wo(qt(i)))}))(e)}const Lz=q({logSigmoid_:Ode});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rde(t,e){let n=P(t,"a","sub"),i=P(e,"b","sub");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(Wm,s)}const Ne=q({sub_:Rde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lde(t,e=-1){const n=P(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(e));return pa((s,o)=>{const a=go(s,e,!0),l=Ne(s,a),c=Ne(_e(l,"float32"),zs(Le(ps(l),e,!0)));return o([c]),{value:c,gradFunc:(d,h)=>{const[p]=h,f=!0,m=ps(p);return Ne(d,K(Le(d,e,f),m))}}})(n)}const cI=q({logSoftmax_:Lde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zde(t,e=null,n=!1){const i=P(t,"x","logSumExp"),s=ct(e,i.shape),o=go(i,s,!0),r=Ne(i,o),a=ps(r),l=Le(a,s),c=zs(l),u=fe(Y(o,c.shape),c);if(n){const d=bn(u.shape,s);return Y(u,d)}return u}const Lv=q({logSumExp_:zde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fde(t,e){const n=P(t,"a","logicalAnd","bool"),i=P(e,"b","logicalAnd","bool");Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(Xy,s)}const Tr=q({logicalAnd_:Fde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pde(t){const n={x:P(t,"x","logicalNot","bool")};return X.runKernel(Yy,n)}const zv=q({logicalNot_:Pde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bde(t,e){const n=P(t,"a","logicalOr","bool"),i=P(e,"b","logicalOr","bool");Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(Zy,s)}const uI=q({logicalOr_:Bde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mde(t,e){const n=P(t,"a","logicalXor","bool"),i=P(e,"b","logicalXor","bool");return Je(n.shape,i.shape),Tr(uI(t,e),zv(Tr(t,e)))}const zz=q({logicalXor_:Mde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nb=2147483648;function jde(t,e,n="left"){const i=P(t,"sortedSequence","searchSorted"),s=P(e,"values","searchSorted"),o=i.shape[i.shape.length-1],r=s.shape[s.shape.length-1],a=Y(i,[-1,o]),l=Y(s,[-1,r]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ae(l.shape)>=nb)throw new Error("values tensor size must less than ".concat(nb));if(a.shape[1]>=nb)throw new Error("trailing dim_size must less than ".concat(nb," for int32 output type, was ").concat(a.shape[1]));const c={sortedSequence:a,values:l},u={side:n};return X.runKernel(OT,c,u)}const dI=q({searchSorted_:jde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t,e){return dI(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vde(t,e,n,i,s){const o=P(t,"x","maxPool"),r=1;let a=o,l=!1;o.rank===3&&(l=!0,a=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]])),R(a.rank===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.rank,".")),R(hi(n,r),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'")),Li("maxPool",i,s);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s},d=X.runKernel(ev,c,u);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Fv=q({maxPool_:Vde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(t,e=[1,1,1],n,i,s,o="NDHWC"){const r=P(t,"x","maxPool3d");let a=r,l=!1;r.rank===4&&(l=!0,a=Y(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),R(a.rank===5,()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),R(o==="NDHWC",()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),Li("maxPool3d",i,s);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s,dataFormat:o},d=X.runKernel(tv,c,u);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Fz=q({maxPool3d_:Hde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wde(t,e,n,i,s=!1){const r={x:P(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:i,includeBatchInIndex:s},l=X.runKernel(yT,r,a);return{result:l[0],indexes:l[1]}}const Gde=q({maxPoolWithArgmax_:Wde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(t,e){let n=P(t,"a","maximum"),i=P(e,"b","maximum");[n,i]=hn(n,i),n.dtype==="bool"&&(n=_e(n,"int32"),i=_e(i,"int32")),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(Im,s)}const va=q({maximum_:qde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kde(t,e=null,n=!1){const s={x:P(t,"x","mean")},o={axis:e,keepDims:n};return X.runKernel(nv,s,o)}const an=q({mean_:Kde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $n(t,e="float32"){if(Ms(t),e==="complex64"){const i=$n(t,"float32"),s=$n(t,"float32");return bl(i,s)}const n=Ci(ae(t),e);return X.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rs(t,e="float32"){if(Ms(t),e==="complex64"){const i=rs(t,"float32"),s=$n(t,"float32");return bl(i,s)}const n=UE(ae(t),e);return X.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xde(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(t===void 0)return[];let i=P(t,"x","meshgrid",t instanceof It?t.dtype:"float32");if(e===void 0)return[i];let s=P(e,"y","meshgrid",e instanceof It?e.dtype:"float32");const o=ae(i.shape),r=ae(s.shape);return n==="xy"?(i=Y(i,[1,-1]),s=Y(s,[-1,1]),[dt(rs([r,1],i.dtype),i),dt(s,rs([1,o],s.dtype))]):(i=Y(i,[-1,1]),s=Y(s,[1,-1]),[dt(i,rs([1,r],i.dtype)),dt(rs([o,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yde(t,e){let n=P(t,"a","minimum"),i=P(e,"b","minimum");[n,i]=hn(n,i),n.dtype==="bool"&&(n=_e(n,"int32"),i=_e(i,"int32")),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel($m,s)}const Zc=q({minimum_:Yde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zde(t,e,n){R(n==="reflect"||n==="symmetric",()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,"."));const i=P(t,"x","mirrorPad");if(i.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");R(e.length===i.rank,()=>"Padding doesn't match input. Must be ".concat(i.rank,". ")+"Got ".concat(e.length,"."));const s=n==="reflect"?1:0;for(let a=0;a<i.rank;a++)R(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),R(e[a][0]>=0&&e[a][0]<=i.shape[a]-s&&e[a][1]>=0&&e[a][1]<=i.shape[a]-s,()=>"Padding in dimension ".concat(a," cannot be greater than or equal ")+"to ".concat(i.shape[a]-s," or less than 0 for input of ")+"shape ".concat(i.shape));const o={paddings:e,mode:n},r={x:i};return X.runKernel(sv,r,o)}const Pz=q({mirrorPad_:Zde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jde(t,e){let n=P(t,"a","mod"),i=P(e,"b","mod");[n,i]=hn(n,i);const s={a:n,b:i};return X.runKernel(_m,s)}const Bz=q({mod_:Jde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(t,e=null,n=!1){t=P(t,"x","moments");const i=ct(e,t.shape),s=an(t,i,n);let o=s.shape;n||(o=bn(s.shape,i));const r=Rt(Ne(_e(t,"float32"),Y(s,o))),a=an(r,i,n);return{mean:s,variance:a}}const Pv=q({moments_:Qde});function ehe(t,e,n,i){const s=P(e,"data","multiRNNCell"),o=W0(n,"c","multiRNNCell"),r=W0(i,"h","multiRNNCell");let a=s;const l=[];for(let d=0;d<t.length;d++){const h=t[d](a,o[d],r[d]);l.push(h[0]),l.push(h[1]),a=h[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}const the=q({multiRNNCell_:ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(t,e,n,i=!1){const s=P(t,"logits","multinomial"),o=s.size,r=s.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(r>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(r));n=n||Math.random();const l={logits:r===1?Y(s,[1,-1]):s},c={numSamples:e,seed:n,normalized:i},u=X.runKernel(vT,l,c);return r===1?Y(u,[u.size]):u}const ihe=q({multinomial_:nhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(t,e){let n=P(t,"a","notEqual","string_or_numeric"),i=P(e,"b","notEqual","string_or_numeric");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i};return X.runKernel(rv,s)}const Zd=q({notEqual_:she});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e,n=1,i=0,s="int32"){if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(e));const r={indices:P(t,"indices","oneHot","int32")},a={dtype:s,depth:e,onValue:n,offValue:i};return X.runKernel(lv,r,a)}const hI=q({oneHot_:ohe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t){const n={x:P(t,"x","onesLike")};return X.runKernel(av,n)}const Fs=q({onesLike_:rhe});function ahe(t,e){const n=P(t,"v1","outerProduct"),i=P(e,"v2","outerProduct");R(n.rank===1&&i.rank===1,()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const s=Y(n,[-1,1]),o=Y(i,[1,-1]);return dt(s,o)}const lhe=q({outerProduct_:ahe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function che(t,e,n=0){const i=P(t,"x","pad");if(i.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},o={x:i};return X.runKernel(uv,o,s)}const Bl=q({pad_:che});function uhe(t,e,n=0){return R(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Bl(t,[e],n)}const dhe=q({pad1d_:uhe});function hhe(t,e,n=0){return R(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bl(t,e,n)}const phe=q({pad2d_:hhe});function fhe(t,e,n=0){return R(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bl(t,e,n)}const mhe=q({pad3d_:fhe});function ghe(t,e,n=0){return R(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bl(t,e,n)}const bhe=q({pad4d_:ghe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xhe(t,e,n){const i=P(t,"x","spaceToBatchND");R(i.rank>=1+e.length,()=>"input rank ".concat(i.rank," should be > than [blockShape] ").concat(e.length)),R(n.length===e.length,()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(e.length)),R(i.shape.reduce((r,a,l)=>l>0&&l<=e.length?r&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:r,!0),()=>"input spatial dimensions ".concat(i.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(e.toString()));const s={x:i},o={blockShape:e,paddings:n};return X.runKernel(vv,s,o)}const Bv=q({spaceToBatchND_:xhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yhe(t,e,n,i,s,o,r){s==null&&(s=[1,1]),o==null&&(o=1),i===0&&(i="valid");const a=P(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),R(hi(o,s),()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(s,"'"));const u=To(l.shape,e,o,s,i),d=[u.dilationHeight,u.dilationWidth];let h;i==="same"?h=whe([u.filterHeight,u.filterWidth],d):h=[[0,0],[0,0]];const p=d[0]===1&&d[1]===1,[f,m]=vhe([u.inHeight,u.inWidth],d,h),b=p?i:"valid",g=p?l:Bv(l,d,f),y=(n==="avg"?()=>$v(g,e,o,b,r):()=>Fv(g,e,o,b,r))(),v=p?y:_v(y,d,m);return c?Y(v,[v.shape[1],v.shape[2],v.shape[3]]):v}function vhe(t,e,n){const i=n.map(u=>u[0]),s=n.map(u=>u[1]),o=t.concat(i,s),r=e.map((u,d)=>(u-o[d]%u)%u),a=s.map((u,d)=>u+r[d]),l=e.map((u,d)=>[i[d],a[d]]),c=e.map((u,d)=>[0,r[d]]);return[l,c]}function whe(t,e){const i=t.map((r,a)=>r+(r-1)*(e[a]-1)).map(r=>r-1),s=i.map(r=>Math.floor(r/2)),o=i.map((r,a)=>r-s[a]);return i.map((r,a)=>[s[a],o[a]])}const Mz=q({pool_:yhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t,e){const n=P(t,"x","prelu"),i=P(e,"alpha","prelu"),s={x:n,alpha:i};return X.runKernel(dv,s)}const Mv=q({prelu_:khe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(t,e=null,n=!1){let i=P(t,"x","prod");i.dtype==="bool"&&(i=_e(i,"int32"));const s={x:i},o={axis:e,keepDims:n};return X.runKernel(hv,s,o)}const jz=q({prod_:She});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Che(t,e,n,i){const s=t.map((u,d)=>P(u,"tensors".concat(d),"raggedGather","int32")),o=P(e,"paramsDenseValues","raggedGather"),r=P(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:o,indices:r},l={outputRaggedRank:i},c=X.runKernel(CT,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const Ehe=q({raggedGather_:Che});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function The(t,e,n){const i=P(t,"starts","raggedRange"),s=P(e,"limits","raggedRange",i.dtype),o=P(n,"deltas","raggedRange",i.dtype),r={starts:i,limits:s,deltas:o},a=X.runKernel(ET,r);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Ihe=q({raggedRange_:The});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t,e,n,i,s){const o=P(t,"shape","raggedTensorToTensor","int32"),r=P(e,"values","raggedTensorToTensor"),a=P(n,"defaultValue","raggedTensorToTensor",r.dtype),l=i.map((d,h)=>P(d,"tensors".concat(h),"raggedTensorToTensor","int32")),c={shape:o,values:r,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:s};return X.runKernel(TT,c,u)}const _he=q({raggedTensorToTensor_:$he});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ahe(t,e,n){Ms(t);const i=ae(t);let s=null;if(n==null||n==="float32")s=new Float32Array(i);else if(n==="int32")s=new Int32Array(i);else if(n==="bool")s=new Uint8Array(i);else throw new Error("Unknown data type ".concat(n));for(let o=0;o<i;o++)s[o]=e();return X.makeTensor(s,t,n)}const Nhe=q({rand_:Ahe});var pI={exports:{}};pI.exports;(function(t){(function(e,n,i){function s(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function r(l,c){var u=new s(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&o(d,u),h.state=function(){return o(u,{})}),h}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=r:this.alea=r})(Qt,t)})(pI);var Dhe=pI.exports,fI={exports:{}};fI.exports;(function(t){(function(e,n,i){function s(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function r(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=r:this.xor128=r})(Qt,t)})(fI);var Ohe=fI.exports,mI={exports:{}};mI.exports;(function(t){(function(e,n,i){function s(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function r(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=r:this.xorwow=r})(Qt,t)})(mI);var Rhe=mI.exports,gI={exports:{}};gI.exports;(function(t){(function(e,n,i){function s(a){var l=this;l.next=function(){var u=l.x,d=l.i,h,p;return h=u[d],h^=h>>>7,p=h^h<<24,h=u[d+1&7],p^=h^h>>>10,h=u[d+3&7],p^=h^h>>>3,h=u[d+4&7],p^=h^h<<7,h=u[d+7&7],h=h^h<<13,p^=h^h<<9,u[d]=p,l.i=d+1&7,p};function c(u,d){var h,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,h=0;h<d.length;++h)p[h&7]=p[h&7]<<15^d.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8?p[7]=-1:p[h],u.x=p,u.i=0,h=256;h>0;--h)u.next()}c(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function r(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=r:this.xorshift7=r})(Qt,t)})(gI);var Lhe=gI.exports,bI={exports:{}};bI.exports;(function(t){(function(e,n,i){function s(a){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,p,f;return l.w=u=u+1640531527|0,f=d[h+34&127],p=d[h=h+1&127],f^=f<<13,p^=p<<17,f^=f>>>15,p^=p>>>12,f=d[h]=f^p,l.i=h,f+(u^u>>>16)|0};function c(u,d){var h,p,f,m,b,g=[],x=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,x=Math.max(x,d.length)),f=0,m=-32;m<x;++m)d&&(p^=d.charCodeAt((m+32)%d.length)),m===0&&(b=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,m>=0&&(b=b+1640531527|0,h=g[m&127]^=p+b,f=h==0?f+1:0);for(f>=128&&(g[(d&&d.length||0)&127]=-1),f=127,m=4*128;m>0;--m)p=g[f+34&127],h=g[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,g[f]=p^h;u.w=b,u.X=g,u.i=f}c(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function r(a,l){a==null&&(a=+new Date);var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=r:this.xor4096=r})(Qt,t)})(bI);var zhe=bI.exports,xI={exports:{}};xI.exports;(function(t){(function(e,n,i){function s(a){var l=this,c="";l.next=function(){var d=l.b,h=l.c,p=l.d,f=l.a;return d=d<<25^d>>>7^h,h=h-p|0,p=p<<24^p>>>8^f,f=f-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-p|0,l.d=p<<16^h>>>16^f,l.a=f-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function r(a,l){var c=new s(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,p=(c.next()>>>0)/4294967296,f=(h+p)/(1<<21);while(f===0);return f},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=r:this.tychei=r})(Qt,t)})(xI);var Fhe=xI.exports,Uz={exports:{}};const Phe=bD(kae);(function(t){(function(e,n,i){var s=256,o=6,r=52,a="random",l=i.pow(s,o),c=i.pow(2,r),u=c*2,d=s-1,h;function p(v,w,C){var k=[];w=w==!0?{entropy:!0}:w||{};var E=g(b(w.entropy?[v,y(n)]:v==null?x():v,3),k),T=new f(k),_=function(){for(var z=T.g(o),N=l,O=0;z<c;)z=(z+O)*s,N*=s,O=T.g(1);for(;z>=u;)z/=2,N/=2,O>>>=1;return(z+O)/N};return _.int32=function(){return T.g(4)|0},_.quick=function(){return T.g(4)/4294967296},_.double=_,g(y(T.S),n),(w.pass||C||function(z,N,O,I){return I&&(I.S&&m(I,T),z.state=function(){return m(T,{})}),O?(i[a]=z,N):z})(_,E,"global"in w?w.global:this==i,w.state)}function f(v){var w,C=v.length,k=this,E=0,T=k.i=k.j=0,_=k.S=[];for(C||(v=[C++]);E<s;)_[E]=E++;for(E=0;E<s;E++)_[E]=_[T=d&T+v[E%C]+(w=_[E])],_[T]=w;(k.g=function(z){for(var N,O=0,I=k.i,L=k.j,F=k.S;z--;)N=F[I=d&I+1],O=O*s+F[d&(F[I]=F[L=d&L+N])+(F[L]=N)];return k.i=I,k.j=L,O})(s)}function m(v,w){return w.i=v.i,w.j=v.j,w.S=v.S.slice(),w}function b(v,w){var C=[],k=typeof v,E;if(w&&k=="object")for(E in v)try{C.push(b(v[E],w-1))}catch(T){}return C.length?C:k=="string"?v:v+"\0"}function g(v,w){for(var C=v+"",k,E=0;E<C.length;)w[d&E]=d&(k^=w[d&E]*19)+C.charCodeAt(E++);return y(w)}function x(){try{var v;return h&&(v=h.randomBytes)?v=v(s):(v=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(v)),y(v)}catch(k){var w=e.navigator,C=w&&w.plugins;return[+new Date,e,C,e.screen,y(n)]}}function y(v){return String.fromCharCode.apply(0,v)}if(g(i.random(),n),t.exports){t.exports=p;try{h=Phe}catch(v){}}else i["seed"+a]=p})(typeof self<"u"?self:Qt,[],Math)})(Uz);var Bhe=Uz.exports,Mhe=Dhe,jhe=Ohe,Uhe=Rhe,Vhe=Lhe,Hhe=zhe,Whe=Fhe,xu=Bhe;xu.alea=Mhe;xu.xor128=jhe;xu.xorwow=Uhe;xu.xorshift7=Vhe;xu.xor4096=Hhe;xu.tychei=Whe;var jv=xu;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yI{constructor(e,n,i,s,o){this.mean=e,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const r=o||Math.random();this.random=jv.alea(r.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,i=!1;for(;!i;){let s,o,r;do s=2*this.random()-1,o=2*this.random()-1,r=s*s+o*o;while(r>=1||r===0);const a=Math.sqrt(-2*Math.log(r)/r);e=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(e))&&(i=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Ghe{constructor(e,n,i,s){this.alpha=e,this.beta=1/n,this.dtype=i;const o=s||Math.random();this.randu=jv.alea(o.toString()),this.randn=new yI(0,1,i,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,i,s,o,r;for(;;){do s=this.randn.nextValue(),r=1+this.c*s;while(r<=0);if(r*=r*r,e=s*s,n=1-.331*e*e,i=.5*e+this.d*(1-r+Math.log(r)),o=this.randu(),o<n||Math.log(o)<i)break}return r=1/this.beta*this.d*r,this.alpha<1&&(r*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(r)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class qhe{constructor(e=0,n=1,i,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=i,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(n," <= 1 and dtype is not float"));this.random=jv.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Khe(t,e,n=1,i="float32",s){if(Ms(t),n==null&&(n=1),i==null&&(i="float32"),i!=="float32"&&i!=="int32")throw new Error("Unsupported data type ".concat(i));const o=new Ghe(e,n,i,s),r=nt(t,i);for(let a=0;a<r.values.length;a++)r.values[a]=o.nextValue();return r.toTensor()}const Xhe=q({randomGamma_:Khe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(t,e=0,n=1,i,s){if(Ms(t),i!=null&&i==="bool")throw new Error("Unsupported data type ".concat(i));const o=new yI(e,n,i,!1,s),r=nt(t,i);for(let a=0;a<r.values.length;a++)r.values[a]=o.nextValue();return r.toTensor()}const vI=q({randomNormal_:Yhe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zhe(t,e,n){if(e!=null&&e==="bool")throw new Error("Unsupported data type ".concat(e));return vI(t,0,1,e,n)}const Jhe=q({randomStandardNormal_:Zhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qhe(t,e=0,n=1,i="float32",s){Ms(t);const o=nt(t,i),r=new qhe(e,n,null,s);for(let a=0;a<o.values.length;a++)o.values[a]=r.nextValue();return o.toTensor()}const yu=q({randomUniform_:Qhe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t,e,n,i){return yu(t,e,n,"int32",i)}const tpe=q({randomUniformInt_:epe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jd(t,e,n=1,i="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:i};return X.runKernel(IT,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(t){const n={input:P(t,"input","real")};return X.runKernel($T,n)}const gf=q({real_:npe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ipe(t){const n={x:P(t,"x","reciprocal")};return X.runKernel(Dm,n)}const Vz=q({reciprocal_:ipe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(t){const n={x:P(t,"x","relu")};return X.runKernel(Om,n)}const Dr=q({relu_:spe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ope(t){const n={x:P(t,"x","relu6")};return X.runKernel(Rm,n)}const wI=q({relu6_:ope});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rpe(t,e){const i={x:P(t,"x","reverse")},s={dims:e};return X.runKernel(gv,i,s)}const ko=q({reverse_:rpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t){const e=P(t,"x","reverse");return R(e.rank===1,()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(e.rank,".")),ko(e,0)}const lpe=q({reverse1d_:ape});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpe(t,e){const n=P(t,"x","reverse");return R(n.rank===2,()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")),ko(n,e)}const upe=q({reverse2d_:cpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpe(t,e){const n=P(t,"x","reverse");return R(n.rank===3,()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")),ko(n,e)}const hpe=q({reverse3d_:dpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t,e){const n=P(t,"x","reverse");return R(n.rank===4,()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")),ko(n,e)}const fpe=q({reverse4d_:ppe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mpe(t){const n={x:P(t,"x","round")};return X.runKernel(Lm,n)}const kI=q({round_:mpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t){const n={x:P(t,"x","rsqrt","float32")};return X.runKernel(zm,n)}const SI=q({rsqrt_:gpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t){const n={x:P(t,"x","selu")};return X.runKernel(Fm,n)}const CI=q({selu_:bpe});function xpe(t,e,n,i,s,o=[1,1],r="NHWC"){const a=P(t,"x","separableConv2d"),l=P(e,"depthwiseFilter","separableConv2d"),c=P(n,"pointwiseFilter","separableConv2d");let u=a,d=!1;if(a.rank===3&&(d=!0,u=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),r==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");R(u.rank===4,()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,".")),R(l.rank===4,()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),R(c.rank===4,()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),R(c.shape[0]===1,()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")),R(c.shape[1]===1,()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],"."));const h=l.shape[2],p=l.shape[3];R(c.shape[2]===h*p,()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*p,", ")+"but got ".concat(c.shape[2],"."));const f=Qm(u,l,i,s,r,o),b=vl(f,c,1,"valid",r);return d?Y(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const EI=q({separableConv2d_:xpe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ype(t,e){const n=P(t,"x","setdiff1d"),i=P(e,"y","setdiff1d");R(n.dtype===i.dtype,()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(i.dtype,").")),R(n.rank===1,()=>"x should be 1D tensor, but got x (".concat(n.shape,").")),R(i.rank===1,()=>"y should be 1D tensor, but got y (".concat(i.shape,")."));const s=await n.data(),o=await i.data(),r=new Set(o);let a=0;for(let u=0;u<s.length;u++)r.has(s[u])||a++;const l=new On([a],n.dtype),c=new On([a],"int32");for(let u=0,d=0;u<s.length;u++)r.has(s[u])||(l.values[d]=s[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]}const vpe=ype;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t){const n={x:P(t,"x","sign")};return X.runKernel(Mm,n)}const Hz=q({sign_:wpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpe(t){const n={x:P(t,"x","sin","float32")};return X.runKernel(Pm,n)}const TI=q({sin_:kpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Spe(t){const n={x:P(t,"x","sinh")};return X.runKernel(Bm,n)}const II=q({sinh_:Spe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t,e,n){const i=P(t,"x","slice1d");return R(i.rank===1,()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(i.rank," tensor")),qe(i,[e],[n])}const Uv=q({slice1d_:Cpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Epe(t,e,n){const i=P(t,"x","slice2d");return R(i.rank===2,()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(i.rank," tensor")),qe(i,e,n)}const $I=q({slice2d_:Epe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpe(t,e,n){const i=P(t,"x","slice3d");return R(i.rank===3,()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(i.rank," tensor")),qe(i,e,n)}const Vv=q({slice3d_:Tpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ipe(t,e,n){const i=P(t,"x","slice4d");return R(i.rank===4,()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(i.rank," tensor")),qe(i,e,n)}const bf=q({slice4d_:Ipe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t,e=-1){const n=P(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(e));const i={logits:n},s={dim:e};return X.runKernel(kv,i,s)}const Hv=q({softmax_:$pe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _pe(t){R(t.dtype==="complex64",()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return X.runKernel(cT,e)}const Wv=q({fft_:_pe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape(t){R(t.dtype==="complex64",()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return X.runKernel(pT,e)}const xf=q({ifft_:Ape});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let i;if(e<=2){const s=Y(t,[n,e]);i=xf(s)}else{const s=[n,2*(e-1)],o=Y(gf(t),[n,e]),r=Y(Dv(t),[n,e]),a=ko(qe(o,[0,1],[n,e-2]),1),l=K(ko(qe(r,[0,1],[n,e-2]),1),We(-1)),c=dn([o,a],1),u=dn([r,l],1),d=Y(bl(c,u),[s[0],s[1]]);i=xf(d)}if(i=gf(i),t.rank===3&&t.shape[0]!==0){const s=i,o=t.shape[0];i=Y(i,[o,i.shape[0]/o,i.shape[1]]),s.dispose()}return i}const _I=q({irfft_:Npe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(t,e,n=0){const s={x:P(t,"x","split")},o={numOrSizeSplits:e,axis:n};return X.runKernel(wv,s,o)}const as=q({split_:Dpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ope(t,e){R(t.dtype==="float32",()=>"The dtype for rfft() must be real value but got ".concat(t.dtype));let n=t.shape[t.shape.length-1];const i=t.size/n;let s;if(e!=null&&e<n){const f=t.shape.map(b=>0),m=t.shape.map(b=>b);m[t.shape.length-1]=e,s=qe(t,f,m),n=e}else if(e!=null&&e>n){const f=t.shape.map(m=>m);f[t.shape.length-1]=e-n,s=dn([t,$n(f)],t.shape.length-1),n=e}else s=t;const o=yt(s),r=Y(bl(s,o),[i,n]),a=Wv(r),l=Math.floor(n/2)+1,c=gf(a),u=Dv(a),d=as(c,[l,n-l],c.shape.length-1),h=as(u,[l,n-l],u.shape.length-1),p=s.shape.slice();return p[s.shape.length-1]=l,Y(bl(d[0],h[0]),p)}const Gv=q({rfft_:Ope});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rpe(t,e){let n=P(t,"a","squaredDifference"),i=P(e,"b","squaredDifference");[n,i]=hn(n,i),Je(n.shape,i.shape);const s={a:n,b:i},o={};return X.runKernel(Hm,s,o)}const AI=q({squaredDifference_:Rpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lpe(t,e){const n=P(t,"x","squeeze","string_or_numeric");return Y(n,Dl(n.shape,e).newShape)}const Go=q({squeeze_:Lpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zpe(t,e=0){const n=W0(t,"tensors","stack","string_or_numeric");R(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&R(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const i=n,s={axis:e};return X.runKernel(cv,i,s)}const fs=q({stack_:zpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fpe(t,e=0){const i={x:P(t,"x","step")},s={alpha:e};return X.runKernel(Xm,i,s)}const Ih=q({step_:Fpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppe(t,e,n,i,s=0,o=0,r=0,a=0,l=0){const u={x:P(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:i,beginMask:s,endMask:o,ellipsisMask:r,newAxisMask:a,shrinkAxisMask:l};return X.runKernel(MT,u,d)}const Wz=q({stridedSlice_:Ppe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bpe(t){const n={x:P(t,"x","tan","float32")};return X.runKernel(Gm,n)}const Gz=q({tan_:Bpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hn(t,e){wh(t);const n=Rl(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ll(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $c(t,e,n){if(wh(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const i=Rl(t,n);if(i.length!==2&&i.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ll(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qz(t,e,n){if(wh(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const i=Rl(t,n);if(i.length!==3&&i.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ll(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mpe(t,e,n){if(wh(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const i=Rl(t,n);if(i.length!==4&&i.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ll(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jpe(t,e,n){if(wh(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const i=Rl(t,n);if(i.length!==5&&i.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ll(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Upe(t,e,n){if(wh(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const i=Rl(t,n);if(i.length!==6&&i.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||i,Ll(t,e,i,n)}function Kz(t,e,n){const i=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(e.shape,", shape: ").concat(t)+", sliceDim: ".concat(i,", and batchDim: ").concat(s,".");if(n.rank<s)throw new Error(o+" update.rank < ".concat(s,". "));if(t.length<i+(n.rank-s))throw new Error(o+" Output shape length < ".concat(i+(n.rank-s)));if(n.rank!==s+t.length-i)throw new Error(o+" update.rank != ".concat(s+t.length-i));for(let r=0;r<s;++r)if(n.shape[r]!==e.shape[r])throw new Error(o+" updates.shape[".concat(r,"] (").concat(n.shape[r],") != indices.shape[").concat(r,"] (").concat(e.shape[r],")."));for(let r=0;r<n.rank-s;++r)if(n.shape[r+s]!==t[r+i])throw new Error(o+" updates.shape[".concat(r+s,"] (").concat(n.shape[r+s],") != shape[").concat(r+s,"] (").concat(t[r+s],")"))}function NI(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(e.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: ".concat(e.shape));if(t.size===0)throw new Error("Updates specified for empty output. updates shape: ".concat(t.shape))}Kz(n,e,t)}function vu(t,e,n){const i=e.shape.length,s=i>1?e.shape[i-1]:1,o=n.length;let r=1;for(let d=s;d<o;++d)r*=n[d];const a=s<1?1:s,l=ae(e.shape)/a,c=[...He(n.slice(0,s)),1],u=ae(n);return{sliceRank:s,numUpdates:l,sliceSize:r,strides:c,outputSize:u}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t,e,n){const i=P(t,"tensor","tensorScatterupdate"),s=P(e,"indices","tensorScatterupdate","int32"),o=P(n,"updates","tensorScatterupdate");if(NI(o,s,i.shape),i.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(i.dtype," and ").concat(o.dtype,"."));const r={tensor:i,indices:s,updates:o},a={};return X.runKernel(DT,r,a)}const Hpe=q({tensorScatterUpdate_:Vpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpe(t,e=1,n=!0){const i=P(t,"x","topk");if(i.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=i.shape[i.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(e));if(e>s)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(s,") ")+"but got ".concat(e));const o={x:i},r={k:e,sorted:n},[a,l]=X.runKernel(HT,o,r);return{values:a,indices:l}}const Xz=q({topk_:Wpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gpe(t,e=0,n=1,i,s){if(Ms(t),i!=null&&i==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new yI(e,n,i,!0,s),r=nt(t,i);for(let a=0;a<r.values.length;a++)r.values[a]=o.nextValue();return r.toTensor()}const DI=q({truncatedNormal_:Gpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpe(t,e=0){const n=P(t,"x","unique","string_or_numeric");R(n.rank>0,()=>"The input tensor must be at least 1D");const i={x:n},s={axis:e},[o,r]=X.runKernel(GT,i,s);return{values:o,indices:r}}const Yz=q({unique_:qpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(t,e,n){const i=P(t,"x","unsortedSegmentSum"),s=P(e,"segmentIds","unsortedSegmentSum","int32");R(Gd(n),()=>"numSegments must be of dtype int");const o={x:i,segmentIds:s},r={numSegments:n};return X.runKernel(Ev,o,r)}const OI=q({unsortedSegmentSum_:Kpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpe(t,e=0){const n=P(t,"x","unstack","string_or_numeric");R(e>=-n.shape.length&&e<n.shape.length,()=>"Axis = ".concat(e," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")"));const i={value:n},s={axis:e};return X.runKernel(Cv,i,s)}const So=q({unstack_:Xpe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ype(t,e){return dI(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zz(t,e=!0,n,i){return X.makeVariable(t,e,n,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RI(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const i=nt(t,"int32"),s=nt([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const r=i.indexToLoc(n[o]),a=o*t.length;s.values.set(r,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Zpe(t){const e=P(t,"condition","whereAsync","bool"),n=await e.data(),i=RI(e.shape,n);return t!==e&&e.dispose(),i}const Jz=Zpe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Jpe(t,e,n){const i=P(t,"tensor","boolMask"),s=P(e,"mask","boolMask","bool"),o=n==null?0:n,r=s.rank,a=i.shape;R(r>0,()=>"mask cannot be scalar"),xs(a.slice(o,o+r),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+r;m++)l*=a[m];const c=a.slice(0,o).concat([l],a.slice(o+r)),u=Y(i,c),d=Y(s,[-1]),h=await Jz(d),p=Go(h,[1]),f=ig(u,p,o);return t!==i&&i.dispose(),e!==s&&s.dispose(),p.dispose(),u.dispose(),d.dispose(),h.dispose(),f}const Qpe=Jpe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t,e,n){const i=P(t,"x","transpose");if(e==null&&(e=i.shape.map((r,a)=>a).reverse()),R(i.rank===e.length,()=>"Error in transpose: rank of input ".concat(i.rank," ")+"must match length of perm ".concat(e,".")),e.forEach(r=>{R(r>=0&&r<i.rank,()=>"All entries in 'perm' must be between 0 and ".concat(i.rank-1)+" but got ".concat(e))}),i.rank<=1)return i.clone();const s={x:i},o={perm:e};return i.dtype==="complex64"?ie(()=>{let r=gf(i),a=Dv(i);return r=X.runKernel(Ed,{x:r},o),a=X.runKernel(Ed,{x:a},o),n&&(a=qt(a)),bl(r,a)}):X.runKernel(Ed,s,o)}const xt=q({transpose_:efe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t,e,n,i,s=!0){const o=P(t,"v","movingAverage"),r=P(e,"x","movingAverage"),a=P(n,"decay","movingAverage");Hle(o,r),R(gt(o.shape,r.shape),()=>"Shape mismatch in v and x");const l=We(1),c=Ne(l,a);let u=K(Ne(r,o),c);if(s){R(i!=null,()=>"When using zeroDebias: true, step is required.");const d=P(i,"step","movingAverage");u=Oe(u,Ne(l,ha(a,d)))}return fe(o,u)}const nfe=q({movingAverage_:tfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t,e,n){Ms(n);const i=P(t,"indices","scatterND","int32"),s=P(e,"updates","scatterND");NI(s,i,n);const o={indices:i,updates:s},r={shape:n};return X.runKernel(NT,o,r)}const sfe=q({scatterND_:ife});function ofe(t,e,n,i){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(t.shape,"."));const s=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const r=e.size;if(!(e.rank===0||e.rank===1&&r===s))throw new Error("sparseValues has incorrect shape "+"".concat(e.shape,", should be [] or [").concat(s,"]"));if(e.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t,e,n,i=0){Ms(n);const s=P(t,"sparseIndices","sparseToDense","int32"),o=P(e,"sparseValues","sparseToDense","string_or_numeric"),r=P(i,"defaultValue","sparseToDense",o.dtype);ofe(s,o,n,r);const a={sparseIndices:s,sparseValues:o,defaultValue:r},l={outputShape:n};return X.runKernel(PT,a,l)}const afe=q({sparseToDense_:rfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t,e){const n=P(e,"indices","gatherND","int32"),s={params:P(t,"x","gatherND","string_or_numeric"),indices:n};return X.runKernel(hT,s)}const cfe=q({gatherND_:lfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t,e){if(e==null)return t.shape.slice();if(gt(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let i=0;i<t.shape.length;i++)e[i]==null&&t.shape[i]!=null?n.push(t.shape[i]):n.push(e[i]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e,n,i){const s=P(t,"x","dropout");if(R(s.dtype==="float32",()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(s.dtype," tensor instead.")),R(e>=0&&e<1,()=>"rate must be a float in the range [0, 1), but got ".concat(e,".")),e===0)return t instanceof It?s.clone():s;const o=ufe(s,n),r=1-e,a=Oe(ng(fe(yu(o,0,1,"float32",i),r)),r);return K(s,a)}const Qz=q({dropout_:dfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eF(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function LI(t,e,n){const i=1-t%2,s=new Float32Array(t);for(let o=0;o<t;++o){const r=2*Math.PI*o/(t+i-1);s[o]=e-n*Math.cos(r)}return Hn(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function hfe(t,e,n=1){const i=P(t,"predictions","inTopK"),s=P(e,"targets","inTopK");R(i.rank>1,()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)),R(i.rank-1===s.rank,()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(s.rank)),xs(i.shape.slice(0,i.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=i.shape[i.shape.length-1];R(n>0&&n<=o,()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n));const r=await i.data(),a=await s.data(),[l,c]=[r.length/o,o],u=li("bool",l);for(let d=0;d<l;d++){const h=d*c,p=r.subarray(h,h+c),f=[];for(let m=0;m<p.length;m++)f.push({value:p[m],index:m});f.sort((m,b)=>b.value-m.value),u[d]=0;for(let m=0;m<n;m++)if(f[m].index===a[d]){u[d]=1;break}}return t!==i&&i.dispose(),e!==s&&s.dispose(),Ho(u,s.shape,"bool")}const pfe=hfe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t,e,n,i,s,o="NHWC",r){let a=t;t.rank===3&&(a=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]])),R(a.rank===4,()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(a.shape,".")),R(l.rank===4,()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")),R(n.length===4,()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,"."));const c=o==="NHWC"?a.shape[3]:a.shape[1],u=o==="NHWC"?l.shape[3]:l.shape[1];R(c===n[2],()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],".")),R(u===n[3],()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],").")),Li("conv2dDerFilter",s,r);const d={x:a,dy:l},h={strides:i,pad:s,dataFormat:o,dimRoundingMode:r,filterShape:n};return X.runKernel(ZE,d,h)}const zI=q({conv2DBackpropFilter_:ffe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qv(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return K(t,Ih(e));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function Kv(t,e){let n=e;const i=zn(t.shape,e.shape);return i.length>0&&(n=Le(n,i)),Y(n,t.shape)}function Xv(t,e,n,i){if(e==="linear")return t;if(e==="relu")return Dr(t);if(e==="elu")return eg(t);if(e==="relu6")return wI(t);if(e==="prelu")return Mv(t,n);if(e==="leakyrelu")return Ov(t,i);if(e==="sigmoid")return Wo(t);throw new Error("Unknown fused activation ".concat(e,"."))}const Yv=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe({x:t,filter:e,strides:n,pad:i,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:r,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",Yv(X.state.gradientDepth,l)===!1){R(s==="NHWC",()=>"Error in fused conv2d: got dataFormat of ".concat(s," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.");let C=vl(t,e,n,i,s,o,r);return a!=null&&(C=fe(C,a)),Xv(C,l,c,u)}const d=P(t,"x","conv2d","float32"),h=P(e,"filter","conv2d","float32");let p=d,f=!1;d.rank===3&&(f=!0,p=Y(d,[1,d.shape[0],d.shape[1],d.shape[2]])),R(p.rank===4,()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(p.rank,".")),R(h.rank===4,()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")),Li("fused conv2d",i,r);const m=s==="NHWC"?p.shape[3]:p.shape[1];R(h.shape[2]===m,()=>"Error in conv2d: depth of input (".concat(m,") must match ")+"input depth for filter ".concat(h.shape[2],".")),R(hi(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"));const b=Yn(p.shape,h.shape,n,o,i,r);let g;a!=null&&(g=P(a,"bias","fused conv2d"),[g]=hn(g,d),s==="NHWC"?Je(b.outShape,g.shape):(R(g.shape.length<=1,()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(g.shape.length,".")),R(g.shape.length===0||g.shape[0]===b.outChannels||g.shape[0]===1,()=>"Error in fused conv2d: bias shape (".concat(g.shape,") is not ")+"compatible with the number of output channels "+"(".concat(b.outChannels,")"))));let x;if(c!=null){const C=c.shape;if(R(C.length<=1||C.length===3,()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(C.length,".")),C.length===1)R(C[0]===1||C[0]===b.outChannels,()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(C,") is not compatible with the number of output ")+"channels (".concat(b.outChannels,")."));else if(C.length===3)try{Je(C,b.outShape)}catch(k){const E="Error in fused conv2d: PReLU activation weights (".concat(C,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(b.outShape,").");throw Error(E)}x=P(c,"prelu weights","fused conv2d")}const y=(C,k)=>{R(s==="NHWC",()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(s," but only NHWC is currently supported."));const[E,T,_,z]=k,N=qv(C,_,l);R(yl(o),()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'"));const O=nI(T.shape,N,E,n,i),I=zI(T,N,E.shape,n,i),L=[O,I];if(z!=null){const F=Kv(z,N);L.push(F)}return L},v={x:p,filter:h,bias:g,preluActivationWeights:x},w={strides:n,pad:i,dataFormat:s,dilations:o,dimRoundingMode:r,activation:l,leakyreluAlpha:u};return a==null?pa((k,E,T)=>{let _=X.runKernel(M0,v,w);return T([E,k,_]),f&&(_=Y(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:y}})(p,h):pa((k,E,T,_)=>{let z=X.runKernel(M0,v,w);return _([E,k,z,T]),f&&(z=Y(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:y}})(p,h,g)}const tF=q({fusedConv2d_:mfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t,e,n,i,s,o=[1,1],r){let a=t;t.rank===3&&(a=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:i,pad:s,dimRoundingMode:r,dilations:o,filterShape:n};return X.runKernel(sT,c,u)}const nF=q({depthwiseConv2dNativeBackpropFilter_:gfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bfe(t,e,n,i,s,o=[1,1],r){let a=e,l=!1;e.rank===3&&(l=!0,a=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:i,pad:s,dimRoundingMode:r,dilations:o,inputShape:t},d=X.runKernel(oT,c,u);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const iF=q({depthwiseConv2dNativeBackpropInput_:bfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xfe({x:t,filter:e,strides:n,pad:i,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:r,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(Yv(X.state.gradientDepth,l)===!1){let w=Qm(t,e,n,i,s,o,r);return a!=null&&(w=fe(w,a)),Xv(w,l,c,u)}const d=P(t,"x","depthwiseConv2d","float32"),h=P(e,"filter","depthwiseConv2d","float32");let p=d,f=!1;d.rank===3&&(f=!0,p=Y(d,[1,d.shape[0],d.shape[1],d.shape[2]])),R(p.rank===4,()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(p.rank,".")),R(h.rank===4,()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,".")),R(p.shape[3]===h.shape[2],()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(p.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")),o==null&&(o=[1,1]),R(hi(n,o),()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(n," and dilations '").concat(o,"'")),Li("fused depthwiseConv2d",i,r);const m=Yn(p.shape,h.shape,n,o,i,r,!0);let b;a!=null&&(b=P(a,"bias","fused conv2d"),[b]=hn(b,d),Je(m.outShape,b.shape));let g;c!=null&&(g=P(c,"prelu weights","fused depthwiseConv2d"));const x=(w,C)=>{R(yl(o),()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(o,"'"));const[k,E,T,_]=C,z=qv(w,T,l),N=iF(E.shape,z,k,n,i,o,r),O=nF(E,z,k.shape,n,i,o,r);if(_!=null){const I=Kv(b,z);return[N,O,I]}return[N,O]},y={x:p,filter:h,bias:b,preluActivationWeights:g},v={strides:n,pad:i,dataFormat:s,dilations:o,dimRoundingMode:r,activation:l,leakyreluAlpha:u};return a==null?pa((C,k,E)=>{let T=X.runKernel(j0,y,v);return E([k,C,T]),f&&(T=Y(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:x}})(p,h):pa((C,k,E,T)=>{let _=X.runKernel(j0,y,v);return T([k,C,_,E]),f&&(_=Y(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:x}})(p,h,b)}const yfe=q({fusedDepthwiseConv2d_:xfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vfe({a:t,b:e,transposeA:n=!1,transposeB:i=!1,bias:s,activation:o="linear",preluActivationWeights:r,leakyreluAlpha:a=.2}){if(Yv(X.state.gradientDepth,o)===!1){let z=dt(t,e,n,i);return s!=null&&(z=fe(z,s)),Xv(z,o,r,a)}let l=P(t,"a","fused matMul"),c=P(e,"b","fused matMul");[l,c]=hn(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=i?c.shape[c.rank-1]:c.shape[c.rank-2],h=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=i?c.shape[c.rank-2]:c.shape[c.rank-1],f=l.shape.slice(0,-2),m=c.shape.slice(0,-2),b=ae(f),g=ae(m);R(u===d,()=>"Error in fused matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(l.shape," and ")+"".concat(c.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const y=Je(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,p]),v=n?Y(l,[b,u,h]):Y(l,[b,h,u]),w=i?Y(c,[g,p,d]):Y(c,[g,d,p]);let C;s!=null&&(C=P(s,"bias","fused matMul"),[C]=hn(C,l),Je(y,C.shape));let k;r!=null&&(k=P(r,"prelu weights","fused matMul"));const E=(z,N)=>{const[O,I,L,F]=N,j=qv(Y(z,L.shape),L,o);let H,M;if(!n&&!i?(H=dt(j,I,!1,!0),M=dt(O,j,!0,!1)):!n&&i?(H=dt(j,I,!1,!1),M=dt(j,O,!0,!1)):n&&!i?(H=dt(I,j,!1,!0),M=dt(O,j,!1,!1)):(H=dt(I,j,!0,!0),M=dt(j,O,!0,!0)),s!=null){const U=Kv(F,j);return[H,M,U]}else return[H,M]},T={a:v,b:w,bias:C,preluActivationWeights:k},_={transposeA:n,transposeB:i,activation:o,leakyreluAlpha:a};return s==null?pa((N,O,I)=>{const L=X.runKernel(B0,T,_);return I([N,O,L]),{value:Y(L,y),gradFunc:E}})(v,w):pa((N,O,I,L)=>{const F=X.runKernel(B0,T,_);return L([N,O,F,I]),{value:Y(F,y),gradFunc:E}})(v,w,C)}const Y2=q({fusedMatMul_:vfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wfe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:tF,depthwiseConv2d:yfe,matMul:Y2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kfe(t){return LI(t,.54,.46)}const Sfe=q({hammingWindow_:kfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cfe(t){return LI(t,.5,.5)}const sF=q({hannWindow_:Cfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Efe(t,e,n,i=!1,s=0){let o=0;const r=[];for(;o+e<=t.size;)r.push(qe(t,o,e)),o+=n;if(i)for(;o<t.size;){const a=o+e-t.size,l=dn([qe(t,o,e-a),Eh([a],s)]);r.push(l),o+=n}return r.length===0?$c([],[0,e]):Y(dn(r),[r.length,e])}const oF=q({frame_:Efe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t,e,n,i,s=sF){i==null&&(i=eF(e));const o=oF(t,e,n),r=K(o,s(e));return Gv(r,i)}const Ife=q({stft_:Tfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t,e,n,i,s="bilinear",o=0){const r=P(t,"image","cropAndResize"),a=P(e,"boxes","cropAndResize","float32"),l=P(n,"boxInd","cropAndResize","int32"),c=a.shape[0];R(r.rank===4,()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(r.rank,".")),R(a.rank===2&&a.shape[1]===4,()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(a.shape,".")),R(l.rank===1&&l.shape[0]===c,()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(a.shape,".")),R(i.length===2,()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(i.length,".")),R(i[0]>=1&&i[1]>=1,()=>"cropSize must be atleast [1,1], but was ".concat(i)),R(s==="bilinear"||s==="nearest",()=>"method must be bilinear or nearest, but was ".concat(s));const u={image:r,boxes:a,boxInd:l},d={method:s,extrapolationValue:o,cropSize:i};return X.runKernel(tT,u,d)}const _fe=q({cropAndResize_:$fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Afe(t){const e=P(t,"image","flipLeftRight","float32");R(e.rank===4,()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(e.rank,"."));const n={image:e};return X.runKernel(dT,n,{})}const Nfe=q({flipLeftRight_:Afe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t){const e=P(t,"image","grayscaleToRGB"),n=e.rank-1,i=e.shape[n];R(e.rank>=2,()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),R(i===1,()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(i,"."));const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,co(e,s)}const Ofe=q({grayscaleToRGB_:Dfe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rfe(t){const e=P(t,"image","RGBToGrayscale"),n=e.rank-1,i=e.shape[n];R(e.rank>=2,()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),R(i===3,()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(i,"."));const s=e.dtype,o=_e(e,"float32"),r=Hn([.2989,.587,.114]);let a;switch(e.rank){case 2:a=Yu("ij,j->i",o,r);break;case 3:a=Yu("ijk,k->ij",o,r);break;case 4:a=Yu("ijkl,l->ijk",o,r);break;case 5:a=Yu("ijklm,m->ijkl",o,r);break;case 6:a=Yu("ijklmn,n->ijklm",o,r);break;default:throw new Error("Not a valid tensor rank.")}return a=xi(a,-1),_e(a,s)}const Lfe=q({rgbToGrayscale_:Rfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t,e,n=0,i=.5){const s=P(t,"image","rotateWithOffset","float32");R(s.rank===4,()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(s.rank,"."));const o={image:s},r={radians:e,fillValue:n,center:i};return X.runKernel(qT,o,r)}const Ffe=q({rotateWithOffset_:zfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $h(t,e,n,i,s,o){i==null&&(i=.5),s==null&&(s=Number.NEGATIVE_INFINITY),o==null&&(o=0);const r=t.shape[0];return n=Math.min(n,r),R(0<=i&&i<=1,()=>"iouThreshold must be in [0, 1], but was '".concat(i,"'")),R(t.rank===2,()=>"boxes must be a 2D tensor, but was of rank '".concat(t.rank,"'")),R(t.shape[1]===4,()=>"boxes must have 4 columns, but 2nd dimension was ".concat(t.shape[1])),R(e.rank===1,()=>"scores must be a 1D tensor"),R(e.shape[0]===r,()=>"scores has incompatible shape with boxes. Expected ".concat(r,", ")+"but was ".concat(e.shape[0])),R(0<=o&&o<=1,()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'")),{maxOutputSize:n,iouThreshold:i,scoreThreshold:s,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pfe(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY){const o=P(t,"boxes","nonMaxSuppression","float32"),r=P(e,"scores","nonMaxSuppression","float32"),a=$h(o,r,n,i,s);n=a.maxOutputSize,i=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:i,scoreThreshold:s};return X.runKernel(wT,{boxes:o,scores:r},l)}const Bfe=q({nonMaxSuppression_:Pfe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t,e,n){const i=jfe(t,e,n),s=i<0?-(i+1):i;t.splice(s,0,e)}function jfe(t,e,n){return Vfe(t,e,n||Ufe)}function Ufe(t,e){return t>e?1:t<e?-1:0}function Vfe(t,e,n){let i=0,s=t.length,o=0,r=!1;for(;i<s;){o=i+(s-i>>>1);const a=n(e,t[o]);a>0?i=o+1:(s=o,r=!a)}return r?i:-i-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FI(t,e,n,i,s){return MI(t,e,n,i,s,0)}function PI(t,e,n,i,s,o){return MI(t,e,n,i,s,0,!1,o,!0)}function BI(t,e,n,i,s,o){return MI(t,e,n,i,s,o,!0)}function MI(t,e,n,i,s,o,r=!1,a=!1,l=!1){const c=[];for(let b=0;b<e.length;b++)e[b]>s&&c.push({score:e[b],boxIndex:b,suppressBeginIndex:0});c.sort(U4);const u=o>0?-.5/o:0,d=[],h=[];for(;d.length<n&&c.length>0;){const b=c.pop(),{score:g,boxIndex:x,suppressBeginIndex:y}=b;if(g<s)break;let v=!1;for(let w=d.length-1;w>=y;--w){const C=Hfe(t,x,d[w]);if(C>=i){v=!0;break}if(b.score=b.score*Wfe(i,u,C),b.score<=s)break}b.suppressBeginIndex=d.length,v||(b.score===g?(d.push(x),h.push(b.score)):b.score>s&&Mfe(c,b,U4))}const p=d.length,f=n-p;a&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return r&&(m.selectedScores=h),l&&(m.validOutputs=p),m}function Hfe(t,e,n){const i=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),o=Math.min(i[0],i[2]),r=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),p=(a-o)*(l-r),f=(d-c)*(h-u);if(p<=0||f<=0)return 0;const m=Math.max(o,c),b=Math.max(r,u),g=Math.min(a,d),x=Math.min(l,h),y=Math.max(g-m,0)*Math.max(x-b,0);return y/(p+f-y)}function Wfe(t,e,n){const i=Math.exp(e*n*n);return n<=t?i:0}function U4(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Gfe(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY){const o=P(t,"boxes","nonMaxSuppressionAsync"),r=P(e,"scores","nonMaxSuppressionAsync"),a=$h(o,r,n,i,s);n=a.maxOutputSize,i=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([o.data(),r.data()]),c=l[0],u=l[1],{selectedIndices:d}=FI(c,u,n,i,s);return o!==t&&o.dispose(),r!==e&&r.dispose(),Hn(d,"int32")}const qfe=Gfe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kfe(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,o=0){const r=P(t,"boxes","nonMaxSuppression"),a=P(e,"scores","nonMaxSuppression"),l=$h(r,a,n,i,s,o);n=l.maxOutputSize,i=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const c={boxes:r,scores:a},u={maxOutputSize:n,iouThreshold:i,scoreThreshold:s,softNmsSigma:o},d=X.runKernel(ST,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const Xfe=q({nonMaxSuppressionWithScore_:Kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Yfe(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,o=0){const r=P(t,"boxes","nonMaxSuppressionAsync"),a=P(e,"scores","nonMaxSuppressionAsync"),l=$h(r,a,n,i,s,o);n=l.maxOutputSize,i=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([r.data(),a.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:p}=BI(u,d,n,i,s,o);return r!==t&&r.dispose(),a!==e&&a.dispose(),{selectedIndices:Hn(h,"int32"),selectedScores:Hn(p)}}const Zfe=Yfe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jfe(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,o=!1){const r=P(t,"boxes","nonMaxSuppression"),a=P(e,"scores","nonMaxSuppression"),l=$h(r,a,n,i,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,h={boxes:r,scores:a},p={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:o},f=X.runKernel(kT,h,p);return{selectedIndices:f[0],validOutputs:f[1]}}const Qfe=q({nonMaxSuppressionPadded_:Jfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function eme(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,o=!1){const r=P(t,"boxes","nonMaxSuppressionAsync"),a=P(e,"scores","nonMaxSuppressionAsync"),l=$h(r,a,n,i,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([r.data(),a.data()]),{selectedIndices:f,validOutputs:m}=PI(h,p,c,u,d,o);return r!==t&&r.dispose(),a!==e&&a.dispose(),{selectedIndices:Hn(f,"int32"),validOutputs:We(m,"int32")}}const tme=eme;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nme(t,e,n=!1,i=!1){const s=P(t,"images","resizeBilinear");R(s.rank===3||s.rank===4,()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(s.rank,".")),R(e.length===2,()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(e,".")),R(i===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=s,r=!1;s.rank===3&&(r=!0,o=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:i,size:e},c=X.runKernel(mv,a,l);return r?Y(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const rF=q({resizeBilinear_:nme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ime(t,e,n=!1,i=!1){const s=P(t,"images","resizeNearestNeighbor");R(s.rank===3||s.rank===4,()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(s.rank,".")),R(e.length===2,()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(e,".")),R(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),R(i===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=s,r=!1;s.rank===3&&(r=!0,o=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:i,size:e},c=X.runKernel(fv,a,l);return r?Y(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const aF=q({resizeNearestNeighbor_:ime});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sme(t,e="binary",n=!1,i=.5){const s=P(t,"image","threshold"),o=.2989,r=.587,a=.114,l=s.shape[0]*s.shape[1];let c=K(Hn([i]),255),u,d,h,p;if(R(s.rank===3,()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(s.rank,".")),R(s.shape[2]===3||s.shape[2]===1,()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(s.shape[2],".")),R(s.dtype==="int32"||s.dtype==="float32",()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(s.dtype,".")),R(e==="otsu"||e==="binary",()=>"Method must be binary or otsu, but was ".concat(e)),s.shape[2]===3){[u,d,h]=as(s,[1,1,1],-1);const b=K(u,o),g=K(d,r),x=K(h,a);p=fe(fe(b,g),x)}else p=t;if(e==="otsu"){const b=mz(_e(kI(p),"int32"),Ho([]),256);c=ome(b,l)}const f=n?bu(p,c):vs(p,c);return _e(K(f,255),"int32")}function ome(t,e){let n=Hn([-1]),i=Hn([0]),s=Hn([0]),o,r,a,l,c,u;for(let d=0;d<t.size-1;d++){o=qe(t,0,d+1),r=qe(t,d+1),c=Oe(Le(o),e),u=Oe(Le(r),e);const h=Le(K(o,Jd(0,o.size)));a=Oe(h,Le(o));const p=Eh(r.shape,o.size),f=fe(Jd(0,r.size),p),m=K(r,f);l=Oe(Le(m),Le(r));const b=Ne(a,l),g=Ne(a,l),x=K(c,u);s=K(K(x,b),g);const y=vs(s,i);i=ki(y,s,i),n=ki(y,Hn([d]),n)}return n}const rme=q({threshold_:sme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ame(t,e,n="nearest",i="constant",s=0,o){const r=P(t,"image","transform","float32"),a=P(e,"transforms","transform","float32");R(r.rank===4,()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(r.rank,".")),R(a.rank===2&&(a.shape[0]===r.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),R(o==null||o.length===2,()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,"."));const l={image:r,transforms:a},c={interpolation:n,fillMode:i,fillValue:s,outputShape:o};return X.runKernel(WT,l,c)}const lme=q({transform_:ame});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cme(t,e,n){const i=P(t,"a","bandPart");R(i.rank>=2,()=>"bandPart(): Rank must be at least 2, got ".concat(i.rank,"."));const s=i.shape,[o,r]=i.shape.slice(-2);let a,l;typeof e=="number"?(R(e%1===0,()=>"bandPart(): numLower must be an integer, got ".concat(e,".")),R(e<=o,()=>"bandPart(): numLower (".concat(e,")")+" must not be greater than the number of rows (".concat(o,").")),a=P(e<0?o:e,"numLower","bandPart")):(R(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=ki(mf(e,0),o,Zc(e,o))),typeof n=="number"?(R(n%1===0,()=>"bandPart(): numUpper must be an integer, got ".concat(n,".")),R(n<=r,()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(r,").")),l=P(n<0?r:n,"numUpper","bandPart")):(R(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=ki(mf(n,0),r,Zc(n,r)));const c=Y(Jd(0,o,1,"int32"),[-1,1]),u=Jd(0,r,1,"int32"),d=Ne(c,u),h=Tr(bu(d,a),Pl(d,qt(l))),p=$n([o,r],i.dtype);return Y(fs(So(Y(i,[-1,o,r])).map(f=>ki(h,f,p))),s)}const ume=q({bandPart_:cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t){let e;if(Array.isArray(t)){e=!1,R(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let o=1;o<t.length;++o)R(t[o].shape[0]===s,()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(t[o].shape[0]," vs. ").concat(s,")"))}else e=!0,t=as(t,t.shape[0],0).map(s=>Go(s,[0]));R(t.length<=t[0].shape[0],()=>"Gram-Schmidt: Number of vectors (".concat(t.length,") exceeds ")+"number of dimensions (".concat(t[0].shape[0],")."));const n=[],i=t;for(let s=0;s<t.length;++s)n.push(X.tidy(()=>{let o=i[s];if(s>0)for(let r=0;r<s;++r){const a=K(Le(K(n[r],o)),n[r]);o=Ne(o,a)}return Oe(o,tg(o,"euclidean"))}));return e?fs(n,0):n}const hme=q({gramSchmidt_:dme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pme(t,e=!1){if(R(t.rank>=2,()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(t.rank)),t.rank===2)return V4(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),i=So(Y(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],o=[];i.forEach(l=>{const[c,u]=V4(l,e);s.push(c),o.push(u)});const r=Y(fs(s,0),t.shape),a=Y(fs(o,0),t.shape);return[r,a]}}function V4(t,e=!1){return X.tidy(()=>{R(t.shape.length===2,()=>"qr2d() requires a 2D Tensor, but got a ".concat(t.shape.length,"D Tensor."));const n=t.shape[0],i=t.shape[1];let s=lI(n),o=ra(t);const r=$c([[1]],[1,1]);let a=ra(r);const l=n>=i?i:n;for(let c=0;c<l;++c){const u=o,d=a,h=s;[a,o,s]=X.tidy(()=>{const p=qe(o,[c,c],[n-c,1]),f=tg(p),m=qe(o,[c,c],[1,1]),b=ki(vs(m,0),$c([[-1]]),$c([[1]])),g=Ne(m,K(b,f)),x=Oe(p,g);x.shape[0]===1?a=ra(r):a=dn([r,qe(x,[1,0],[x.shape[0]-1,x.shape[1]])],0);const y=qt(Oe(dt(b,g),f)),v=qe(o,[c,0],[n-c,i]),w=K(y,a),C=xt(a);if(c===0)o=Ne(v,dt(w,dt(C,v)));else{const T=Ne(v,dt(w,dt(C,v)));o=dn([qe(o,[0,0],[c,i]),T],0)}const k=xt(w),E=qe(s,[0,c],[n,s.shape[1]-c]);if(c===0)s=Ne(E,dt(dt(E,a),k));else{const T=Ne(E,dt(dt(E,a),k));s=dn([qe(s,[0,0],[n,c]),T],1)}return[a,o,s]}),at([u,d,h])}return!e&&n>i&&(s=qe(s,[0,0],[n,i]),o=qe(o,[0,0],[i,i])),[s,o]})}const fme=q({qr_:pme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Vi;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Vi||(Vi={}));function mme(t,e,n=Vi.SUM_BY_NONZERO_WEIGHTS){const i=P(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=P(e,"weights","computeWeightedLoss"));const o=s==null?i:K(i,s);if(n===Vi.NONE)return o;if(n===Vi.SUM)return Le(o);if(n===Vi.MEAN){if(s==null)return an(o);{const r=i.size/s.size,a=Oe(Le(o),Le(s));return r>1?Oe(a,We(r)):a}}if(n===Vi.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Oe(Le(o),We(i.size));{const r=K(s,rs(i.shape)),a=_e(Le(Zd(r,We(0))),"float32");return Oe(Le(o),a)}}throw Error("Unknown reduction: ".concat(n))}const wa=q({computeWeightedLoss_:mme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gme(t,e,n,i=Vi.SUM_BY_NONZERO_WEIGHTS){const s=P(t,"labels","absoluteDifference"),o=P(e,"predictions","absoluteDifference");let r=null;n!=null&&(r=P(n,"weights","absoluteDifference")),xs(s.shape,o.shape,"Error in absoluteDifference: ");const a=In(Ne(s,o));return wa(a,r,i)}const bme=q({absoluteDifference_:gme});function xme(t,e,n,i,s=Vi.SUM_BY_NONZERO_WEIGHTS){const o=P(t,"labels","cosineDistance"),r=P(e,"predictions","cosineDistance");let a=null;i!=null&&(a=P(i,"weights","cosineDistance")),xs(o.shape,r.shape,"Error in cosineDistance: ");const l=We(1),c=Ne(l,Le(K(o,r),n,!0));return wa(c,a,s)}const yme=q({cosineDistance_:xme});function vme(t,e,n,i=Vi.SUM_BY_NONZERO_WEIGHTS){let s=P(t,"labels","hingeLoss");const o=P(e,"predictions","hingeLoss");let r=null;n!=null&&(r=P(n,"weights","hingeLoss")),xs(s.shape,o.shape,"Error in hingeLoss: ");const a=We(1);s=Ne(K(We(2),s),a);const l=Dr(Ne(a,K(s,o)));return wa(l,r,i)}const wme=q({hingeLoss_:vme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kme(t,e,n,i=1,s=Vi.SUM_BY_NONZERO_WEIGHTS){const o=P(t,"labels","huberLoss"),r=P(e,"predictions","huberLoss");let a=null;n!=null&&(a=P(n,"weights","huberLoss")),xs(o.shape,r.shape,"Error in huberLoss: ");const l=We(i),c=In(Ne(r,o)),u=Zc(c,l),d=Ne(c,u),h=fe(K(We(.5),Rt(u)),K(l,d));return wa(h,a,s)}const Sme=q({huberLoss_:kme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cme(t,e,n,i=1e-7,s=Vi.SUM_BY_NONZERO_WEIGHTS){const o=P(t,"labels","logLoss"),r=P(e,"predictions","logLoss");let a=null;n!=null&&(a=P(n,"weights","logLoss")),xs(o.shape,r.shape,"Error in logLoss: ");const l=We(1),c=We(i),u=qt(K(o,zs(fe(r,c)))),d=K(Ne(l,o),zs(fe(Ne(l,r),c))),h=Ne(u,d);return wa(h,a,s)}const Eme=q({logLoss_:Cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tme(t,e,n,i=Vi.SUM_BY_NONZERO_WEIGHTS){const s=P(t,"labels","meanSquaredError"),o=P(e,"predictions","meanSquaredError");let r=null;n!=null&&(r=P(n,"weights","meanSquaredError")),xs(s.shape,o.shape,"Error in meanSquaredError: ");const a=AI(s,o);return wa(a,r,i)}const Ime=q({meanSquaredError_:Tme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $me(t,e){const n=P(t,"labels","sigmoidCrossEntropyWithLogits"),i=P(e,"logits","sigmoidCrossEntropyWithLogits");xs(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Dr(i),o=K(i,n),r=Rv(ps(qt(In(i))));return fe(Ne(s,o),r)}function _me(t,e,n,i=0,s=Vi.SUM_BY_NONZERO_WEIGHTS){let o=P(t,"multiClassLabels","sigmoidCrossEntropy");const r=P(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=P(n,"weights","sigmoidCrossEntropy")),xs(o.shape,r.shape,"Error in sigmoidCrossEntropy: "),i>0){const c=We(i),u=We(1),d=We(.5);o=fe(K(o,Ne(u,c)),K(d,c))}const l=$me(o,r);return wa(l,a,s)}const Ame=q({sigmoidCrossEntropy_:_me});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nme(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(e.rank," ")+"and dim was ".concat(n));return pa((s,o,r)=>{const l=Lv(o,[n],!0),c=Ne(_e(o,"float32"),l);r([s,c]);const u=qt(K(c,s));return{value:Le(u,[n]),gradFunc:(p,f)=>{const[m,b]=f,g=bn(p.shape,[n]);return[K(Y(p,g),Ne(_e(m,"float32"),ps(b))),K(Y(p,g),Ne(ps(b),_e(m,"float32")))]}}})(t,e)}function Dme(t,e,n,i=0,s=Vi.SUM_BY_NONZERO_WEIGHTS){let o=P(t,"onehotLabels","softmaxCrossEntropy");const r=P(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=P(n,"weights","softmaxCrossEntropy")),xs(o.shape,r.shape,"Error in softmaxCrossEntropy: "),i>0){const c=We(i),u=We(1),d=We(o.shape[1]);o=fe(K(o,Ne(u,c)),Oe(c,d))}const l=Nme(o,r);return wa(l,a,s)}const Ome=q({softmaxCrossEntropy_:Dme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rme(t,e,n,i){const s=P(t,"indices","sparseFillEmptyRows","int32"),o=P(e,"values","sparseFillEmptyRows"),r=P(n,"denseShape","sparseFillEmptyRows","int32"),a=P(i,"defaultValue","sparseFillEmptyRows",o.dtype);if(s.rank!==2)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(s.shape));if(o.rank!==1)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(r.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape ".concat(r.shape));if(a.rank!==0)throw new Error("Default value should be a scalar but received shape ".concat(a.shape));const l={indices:s,values:o,denseShape:r,defaultValue:a},c=X.runKernel(RT,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const Lme=q({sparseFillEmptyRows_:Rme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zme(t,e,n){const i=P(t,"inputIndices","sparseReshape","int32"),s=P(e,"inputShape","sparseReshape","int32"),o=P(n,"newShape","sparseReshape","int32");if(i.rank!==2)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(i.shape));if(s.rank!==1)throw new Error("Input shape should be Tensor1D but received shape ".concat(s.shape));if(o.rank!==1)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const r={inputIndices:i,inputShape:s,newShape:o},a=X.runKernel(LT,r);return{outputIndices:a[0],outputShape:a[1]}}const Fme=q({sparseReshape_:zme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pme(t,e,n){const i=P(t,"data","sparseSegmentMean"),s=P(e,"indices","sparseSegmentMean","int32"),o=P(n,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(s.shape));if(o.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const r={data:i,indices:s,segmentIds:o};return X.runKernel(zT,r)}const Bme=q({sparseSegmentMean_:Pme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mme(t,e,n){const i=P(t,"data","sparseSegmentSum"),s=P(e,"indices","sparseSegmentSum","int32"),o=P(n,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(s.shape));if(o.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const r={data:i,indices:s,segmentIds:o};return X.runKernel(FT,r)}const jme=q({sparseSegmentSum_:Mme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ume(t,e,n,i,s,o,r,a){const l=P(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error("Data must be a vector, saw: ".concat(l.shape));const c=P(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:i,leftPad:s,rightPad:o,padWidth:r,preserveShortSequences:a},d={data:l,dataSplits:c},h=X.runKernel(jT,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}const Vme=q({stringNGrams_:Ume});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hme(t,e,n=!0){const i=P(t,"input","stringSplit","string"),s=P(e,"delimiter","stringSplit","string");if(i.rank!==1)throw new Error("Input should be Tensor1D but received shape ".concat(i.shape));if(s.rank!==0)throw new Error("Delimiter should be a scalar but received shape ".concat(s.shape));const o={skipEmpty:n},r={input:i,delimiter:s},a=X.runKernel(UT,r,o);return{indices:a[0],values:a[1],shape:a[2]}}const Wme=q({stringSplit_:Hme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gme(t,e){const n=P(t,"input","stringToHashBucketFast","string"),i={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return X.runKernel(VT,s,i)}const qme=q({stringToHashBucketFast_:Gme});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kme(t,e,n,i=!0){const s=P(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:i};return X.runKernel(Sv,{x:s},o)}const Xme=q({staticRegexReplace_:Kme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yme={fft:Wv,ifft:xf,rfft:Gv,irfft:_I},Zme={hammingWindow:Sfe,hannWindow:sF,frame:oF,stft:Ife},uo={flipLeftRight:Nfe,grayscaleToRGB:Ofe,resizeNearestNeighbor:aF,resizeBilinear:rF,rgbToGrayscale:Lfe,rotateWithOffset:Ffe,cropAndResize:_fe,nonMaxSuppression:Bfe,nonMaxSuppressionAsync:qfe,nonMaxSuppressionWithScore:Xfe,nonMaxSuppressionWithScoreAsync:Zfe,nonMaxSuppressionPadded:Qfe,nonMaxSuppressionPaddedAsync:tme,threshold:rme,transform:lme},lF={bandPart:ume,gramSchmidt:hme,qr:fme},Jme={absoluteDifference:bme,computeWeightedLoss:wa,cosineDistance:yme,hingeLoss:wme,huberLoss:Sme,logLoss:Eme,meanSquaredError:Ime,sigmoidCrossEntropy:Ame,softmaxCrossEntropy:Ome},Qme={sparseFillEmptyRows:Lme,sparseReshape:Fme,sparseSegmentMean:Bme,sparseSegmentSum:jme},ege={stringNGrams:Vme,stringSplit:Wme,stringToHashBucketFast:qme,staticRegexReplace:Xme};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tge=new Map,nge=new Map;class _h{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class no{constructor(){this.classNameMap={}}static getMap(){return no.instance==null&&(no.instance=new no),no.instance}static register(e){no.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function be(t,e,n){R(t.className!=null,()=>"Class being registered does not have the static className property defined."),R(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),R(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const i=n,s=e+">"+i;return no.register(t),tge.set(s,t),nge.set(t,s),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ml extends _h{minimize(e,n=!1,i){const{value:s,grads:o}=this.computeGradients(e,i);if(i!=null){const r=i.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(r)}else this.applyGradients(o);return at(o),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Ade(e,n)}dispose(){this.iterations_!=null&&at(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:We(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ml,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cF extends Ml{static get className(){return"Adadelta"}constructor(e,n,i=null){super(),this.learningRate=e,this.rho=n,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],i==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const o=X.registeredVariables[i],r=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:"".concat(i,"/accum_grad"),variable:ie(()=>yt(o).variable(r))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:"".concat(i,"/accum_var"),variable:ie(()=>yt(o).variable(r))});const a=Array.isArray(e)?e[s].tensor:e[i];if(a==null)return;const l=this.accumulatedGrads[s].variable,c=this.accumulatedUpdates[s].variable;ie(()=>{const u=fe(K(l,this.rho),K(Rt(a),1-this.rho)),d=K(Oe(ci(fe(c,this.epsilon)),ci(fe(l,this.epsilon))),a),h=fe(K(c,this.rho),K(Rt(d),1-this.rho));l.assign(u),c.assign(h);const p=fe(K(d,-this.learningRate),o);o.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(at(this.accumulatedGrads.map(e=>e.variable)),at(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,i=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uF extends Ml{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const o=X.registeredVariables[i];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:"".concat(i,"/accumulator"),variable:ie(()=>Eh(o.shape,this.initialAccumulatorValue).variable(!1))});const r=Array.isArray(e)?e[s].tensor:e[i];if(r==null)return;const a=this.accumulatedGrads[s].variable;ie(()=>{const l=fe(a,Rt(r));a.assign(l);const c=fe(K(Oe(r,ci(fe(l,X.backend.epsilon()))),-this.learningRate),o);o.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&at(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dF extends Ml{static get className(){return"Adam"}constructor(e,n,i,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],ie(()=>{this.accBeta1=We(n).variable(),this.accBeta2=We(i).variable()}),s==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ie(()=>{const i=Ne(1,this.accBeta1),s=Ne(1,this.accBeta2);n.forEach((o,r)=>{const a=X.registeredVariables[o],l=!1;this.accumulatedFirstMoment[r]==null&&(this.accumulatedFirstMoment[r]={originalName:"".concat(o,"/m"),variable:ie(()=>yt(a).variable(l))}),this.accumulatedSecondMoment[r]==null&&(this.accumulatedSecondMoment[r]={originalName:"".concat(o,"/v"),variable:ie(()=>yt(a).variable(l))});const c=Array.isArray(e)?e[r].tensor:e[o];if(c==null)return;const u=this.accumulatedFirstMoment[r].variable,d=this.accumulatedSecondMoment[r].variable,h=fe(K(u,this.beta1),K(c,1-this.beta1)),p=fe(K(d,this.beta2),K(Rt(c),1-this.beta2)),f=Oe(h,i),m=Oe(p,s);u.assign(h),d.assign(p);const b=fe(K(Oe(f,fe(ci(m),this.epsilon)),-this.learningRate),a);a.assign(b)}),this.accBeta1.assign(K(this.accBeta1,this.beta1)),this.accBeta2.assign(K(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&at(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&at(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),ie(()=>{this.accBeta1.assign(ha(this.beta1,this.iterations_+1)),this.accBeta2.assign(ha(this.beta2,this.iterations_+1))});const n=e.length/2,i=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hF extends Ml{static get className(){return"Adamax"}constructor(e,n,i,s=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=s,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],ie(()=>{this.iteration=We(0).variable(),this.accBeta1=We(n).variable()}),s==null&&(this.epsilon=X.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ie(()=>{const i=Ne(1,this.accBeta1),s=Oe(-this.learningRate,fe(K(this.iteration,this.decay),1));n.forEach((o,r)=>{const a=X.registeredVariables[o],l=!1;this.accumulatedFirstMoment[r]==null&&(this.accumulatedFirstMoment[r]={originalName:"".concat(o,"/m"),variable:yt(a).variable(l)}),this.accumulatedWeightedInfNorm[r]==null&&(this.accumulatedWeightedInfNorm[r]={originalName:"".concat(o,"/v"),variable:yt(a).variable(l)});const c=Array.isArray(e)?e[r].tensor:e[o];if(c==null)return;const u=this.accumulatedFirstMoment[r].variable,d=this.accumulatedWeightedInfNorm[r].variable,h=fe(K(u,this.beta1),K(c,1-this.beta1)),p=K(d,this.beta2),f=In(c),m=va(p,f);u.assign(h),d.assign(m);const b=fe(K(Oe(s,i),Oe(h,fe(m,this.epsilon))),a);a.assign(b)}),this.iteration.assign(fe(this.iteration,1)),this.accBeta1.assign(K(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&at(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&at(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jI extends Ml{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const o=Array.isArray(e)?e[s].tensor:e[i];if(o==null)return;const r=X.registeredVariables[i];ie(()=>{const a=fe(K(this.c,o),r);r.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Vn(We(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pF extends jI{static get className(){return"Momentum"}constructor(e,n,i=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=i,this.accumulations=[],this.m=We(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const o=X.registeredVariables[i];this.accumulations[s]==null&&(this.accumulations[s]={originalName:"".concat(i,"/momentum"),variable:ie(()=>yt(o).variable(!1))});const r=this.accumulations[s].variable,a=Array.isArray(e)?e[s].tensor:e[i];a!=null&&ie(()=>{let l;const c=fe(K(this.m,r),a);this.useNesterov?l=fe(K(this.c,fe(a,K(c,this.m))),o):l=fe(K(this.c,c),o),r.assign(c),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&at(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fF extends Ml{static get className(){return"RMSProp"}constructor(e,n=.9,i=0,s=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=i,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,s==null&&(this.epsilon=X.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const o=X.registeredVariables[i],r=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:"".concat(i,"/rms"),variable:ie(()=>yt(o).variable(r))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:"".concat(i,"/momentum"),variable:ie(()=>yt(o).variable(r))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:"".concat(i,"/mg"),variable:ie(()=>yt(o).variable(r))});const a=Array.isArray(e)?e[s].tensor:e[i];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,c=this.accumulatedMoments[s].variable;ie(()=>{const u=fe(K(l,this.decay),K(Rt(a),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[s].variable,h=fe(K(d,this.decay),K(a,1-this.decay)),p=Oe(K(a,this.learningRate),ci(Ne(u,fe(Rt(h),this.epsilon)))),f=fe(K(c,this.momentum),p);l.assign(u),d.assign(h),c.assign(f);const m=Ne(o,f);o.assign(m)}else{const d=fe(K(l,this.decay),K(Rt(a),1-this.decay)),h=fe(K(c,this.momentum),Oe(K(a,this.learningRate),ci(fe(d,this.epsilon))));l.assign(d),c.assign(h);const p=Ne(o,h);o.assign(p)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&at(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&at(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&at(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,i=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ige=[cF,uF,dF,hF,pF,fF,jI];function sge(){for(const t of ige)be(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oge="model",rge=".json",age=".weights.bin";function H4(t){return new Promise(e=>setTimeout(e)).then(t)}class Jc{constructor(e){if(!re().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Jc.URL_SCHEME)&&(e=e.slice(Jc.URL_SCHEME.length)),(e==null||e.length===0)&&(e=oge),this.modelJsonFileName=e+rge,this.weightDataFileName=e+age}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=ir.join(e.weightData),i=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o=G8(e,s),r=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await H4(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=i,await H4(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Ym(e)}}}}Jc.URL_SCHEME="downloads://";class lge{constructor(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const i=new FileReader;i.onload=s=>{const o=JSON.parse(s.target.result),r=o.modelTopology;if(r==null){n(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));return}if(o.weightsManifest==null){n(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));return}if(this.weightsFiles.length===0){e({modelTopology:r});return}const l=ZT(o,c=>this.loadWeights(c));e(l)},i.onerror=s=>n("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),i.readAsText(this.jsonFile)})}loadWeights(e){const n=[],i=[];for(const r of e)n.push(...r.weights),i.push(...r.paths);const s=this.checkManifestAndWeightFiles(e),o=i.map(r=>this.loadWeightsFile(r,s[r]));return Promise.all(o).then(r=>[n,r])}loadWeightsFile(e,n){return new Promise((i,s)=>{const o=new FileReader;o.onload=r=>{const a=r.target.result;i(a)},o.onerror=r=>s("Failed to weights data from file of path '".concat(e,"'.")),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],i=this.weightsFiles.map(o=>j4(o.name)),s={};for(const o of e)o.paths.forEach(r=>{const a=j4(r);if(n.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(n.push(a),i.indexOf(a)===-1)throw new Error("Weight file with basename '".concat(a,"' is not provided."));s[r]=this.weightsFiles[i.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(n.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return s}}const cge=t=>re().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Jc.URL_SCHEME)?uge(t.slice(Jc.URL_SCHEME.length)):null;Jt.registerSaveRouter(cge);function uge(t="model"){return new Jc(t)}function dge(t){return new lge(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4(t,e,n,i){r(t),n=n==null?0:n,i=i==null?1:i,a(n,i);let s=0;const o=l=>(l.then(c=>{const u=n+ ++s/t.length*(i-n);return e(u),c}),l);function r(l){R(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){R(l>=0&&l<=1,()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(l)),R(c>=0&&c<=1,()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(c)),R(c>=l,()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(l," and endFraction ")+"".concat(c))}return Promise.all(t.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function mF(t,e){e==null&&(e={});const n=e.fetchFunc==null?re().platform.fetch:e.fetchFunc,i=t.map(d=>n(d,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(i):await W4(i,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(a):await W4(a,e.onProgress,.5,1)}function hge(t,e){var n;const i=e.fetchFunc==null?re().platform.fetch:e.fetchFunc;let s=0,o;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async r=>{for(var a;s<t.length;){o||(o=(await i(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:c}=await o.read();if(l){s++,o=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,s/t.length);continue}r.enqueue(c);return}r.close()}})}async function pge(t,e="",n,i){return gF(r=>mF(r,{requestInit:i}))(t,e,n)}function gF(t){return async(e,n="",i)=>{const s=e.map(()=>!1),o={},r=i!=null?i.map(()=>!1):[],a=[];if(e.forEach((p,f)=>{let m=0;p.weights.forEach(b=>{const g="quantization"in b?b.quantization.dtype:b.dtype,x=Gc[g]*ae(b.shape),y=()=>{s[f]=!0,o[f]==null&&(o[f]=[]),o[f].push({manifestEntry:b,groupOffset:m,sizeBytes:x})};i!=null?i.forEach((v,w)=>{v===b.name&&(y(),r[w]=!0)}):y(),a.push(b.name),m+=x})}),!r.every(p=>p)){const p=i.filter((f,m)=>!r[m]);throw new Error("Could not find weights in manifest with names: "+"".concat(p.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(a.join(", "),"."))}const l=s.reduce((p,f,m)=>(f&&p.push(m),p),[]),c=[];l.forEach(p=>{e[p].paths.forEach(f=>{const m=n+(n.endsWith("/")?"":"/")+f;c.push(m)})});const u=await t(c),d={};let h=0;return l.forEach(p=>{const f=e[p].paths.length,m=new ir(u.slice(h,h+f));o[p].forEach(g=>{const x=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),y=U8(x,[g.manifestEntry]);for(const v in y)d[v]=y[v]}),h+=f}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fge="application/octet-stream",mge="application/json";class UI{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(R(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=re().platform.fetch,R(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&R(e.length===2,()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,").")),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const i=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=G8(e,i);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:mge}),"model.json"),e.weightData!=null){const r=ir.join(e.weightData);n.body.append("model.weights.bin",new Blob([r],{type:fge}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Ym(e),responses:[o]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let n;try{n=await e.json()}catch(o){let r="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r)}const i=n.modelTopology,s=n.weightsManifest;if(i==null&&s==null)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return ZT(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),i=H2(e.weightsManifest),s=()=>hge(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:i,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[i,s]=gge(n),o=this.weightPathPrefix||i,r=[],a=[];for(const l of e)for(const c of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):r.push(o+c+s);return this.weightUrlConverter&&r.push(...await Promise.all(a)),r}async loadWeights(e){const n=await this.getWeightUrls(e),i=H2(e),s=await mF(n,this.loadOptions);return[i,s]}}UI.URL_SCHEME_REGEX=/^https?:\/\//;function gge(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),i=t.substring(0,e),s=n>e?t.substring(n):"";return[i+"/",s]}function Z2(t){return t.match(UI.URL_SCHEME_REGEX)!=null}const bF=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(i=>Z2(i)):n=Z2(t),n)return VI(t,e)}return null};Jt.registerSaveRouter(bF);Jt.registerLoadRouter(bF);function VI(t,e){return new UI(t,e)}function bge(t,e){return VI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lw{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class xF{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class xge{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function yge(t,e,n,i){const s=arguments;return new xge(yF(...s))}function yF(t,e,n,i){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Lw(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Lw({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Lw({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:i}))}function vge(t){return new xF(t)}function wge(t){return new xF(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vF=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:ir,browserFiles:dge,browserHTTPRequest:bge,concatenateArrayBuffers:W8,copyModel:Ece,decodeWeights:U8,decodeWeightsStream:H8,encodeWeights:V2,fromMemory:yge,fromMemorySync:yF,getLoadHandlers:dce,getModelArtifactsForJSON:ZT,getModelArtifactsForJSONSync:q8,getModelArtifactsInfoForJSON:Ym,getSaveHandlers:K8,getWeightSpecs:H2,http:VI,isHTTPScheme:Z2,listModels:Sce,loadWeights:pge,moveModel:Tce,registerLoadRouter:uce,registerSaveRouter:cce,removeModel:Cce,weightsLoaderFactory:gF,withSaveHandler:vge,withSaveHandlerSync:wge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Yl;function kge(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,i=!1,s=!1,o=!1,r=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)r=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(t.constructor.name));if(z2(R2,X.backendName)!=null){const f={pixels:t},m={numChannels:e};return X.runKernel(R2,f,m)}const[c,u]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(r)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(i||n)d=t.data;else if(o||s||a){if(Yl==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Yl=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Yl=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Yl.canvas.width=c,Yl.canvas.height=u,Yl.drawImage(t,0,0,c,u),d=Yl.getImageData(0,0,c,u).data}let h;if(e===4)h=new Int32Array(d);else{const f=c*u;h=new Int32Array(f*e);for(let m=0;m<f;m++)for(let b=0;b<e;++b)h[m*e+b]=d[m*4+b]}return qz(h,[u,c,e],"int32")}const Sge=q({fromPixels_:kge});function HI(t,e){const n=t.shape.length,i=e.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(i<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(i,"."));if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.shape[i-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(e.shape[i-1]," vs. ").concat(n));if(ae(t.shape)===0)throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(t.shape,"."));const s=e.shape,o=s[s.length-1];let r=1;for(let d=0;d<s.length-1;++d)r*=s[d];const a=t.shape,l=s.slice();l.pop();let c=1;for(let d=o;d<n;++d)c*=a[d],l.push(a[d]);const u=[...He(t.shape).map(d=>d/c),1].slice(0,o);return[l,r,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J2=-2,Cge=-1;function WI(t,e,n){const i=t.shape.length;R(i===e.length,()=>"Error in slice".concat(i,"D: Length of begin ").concat(e," must ")+"match the rank of the array (".concat(i,").")),R(i===n.length,()=>"Error in slice".concat(i,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(i,")."));for(let s=0;s<i;++s)R(e[s]+n[s]<=t.shape[s],()=>"Error in slice".concat(i,"D: begin[").concat(s,"] + size[").concat(s,"] ")+"(".concat(e[s]+n[s],") would overflow input.shape[").concat(s,"] (").concat(t.shape[s],")"))}function Ege(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function GI(t,e,n){const i=[];for(let s=0;s<t.length;s++)i[s]=Math.ceil((e[s]-t[s])/n[s]);return i}function wF(t,e,n,i){const s=[...t];for(let o=s.length;o<i.length;o++)s.push(1);for(let o=0;o<n;o++)o===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function kF(t,e,n){return n<=t?n:n-(e-1)}function SF(t,e){const n=[];for(let i=0;i<t;i++)n.push(e+i);return n}function Tge(t,e,n,i,s,o,r,a,l){const c=t.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(e.length&&n>0){const p=e[0],f=n+1;u=CF(r,p,f,i,t),d=EF(a,p,f,s,t),h=wF(o,p,f,t)}else for(let p=0;p<c;p++)u[p]=IF(r,i,o,t,p,l),d[p]=$F(a,s,o,t,p,l),h[p]=TF(o,p,l);return{begin:u,end:d,strides:h}}function CF(t,e,n,i,s){const o=[...s],r=SF(n,e);for(let a=0;a<o.length;a++)if(r.indexOf(a)>-1)o[a]=0;else{const l=kF(e,n,a);let c=i[l];t&1<<l&&(c=0),o[a]=c}return o}function EF(t,e,n,i,s){const o=[...s],r=SF(n,e);for(let a=0;a<o.length;a++)if(r.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{const l=kF(e,n,a);let c=i[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),o[a]=c}for(let a=0;a<o.length;a++){const l=s[a];o[a]<0&&(o[a]+=l),o[a]=Vc(0,o[a],s[a])}return o}function TF(t,e,n){let i=t[e];return(n&1<<e||i==null)&&(i=1),i}function IF(t,e,n,i,s,o){let r=e[s];const a=n[s]||1;(t&1<<s||o&1<<s||r==null)&&(a>0?r=Number.MIN_SAFE_INTEGER:r=Number.MAX_SAFE_INTEGER);const l=i[s];return r<0&&(r+=l),r=Vc(0,r,l-1),r}function $F(t,e,n,i,s,o){let r=e[s];const a=n[s]||1;(t&1<<s||o&1<<s||r==null)&&(a>0?r=Number.MAX_SAFE_INTEGER:r=Number.MIN_SAFE_INTEGER);const l=i[s];return r<0&&(r+=l),a>0?r=Vc(0,r,l):r=Vc(-1,r,l-1),r}function qI(t,e,n){let i=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){i=s;break}for(let s=i+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function KI(t,e){let n=t.length>0?t[t.length-1]:1;for(let i=0;i<t.length-1;i++)n+=t[i]*e[i];return n}function Zv(t,e,n){let i;const s=t.shape.length;typeof e=="number"?i=[e,...new Array(s-1).fill(0)]:e.length<s?i=e.concat(new Array(s-e.length).fill(0)):i=e.slice(),i.forEach(r=>{R(r!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(s).fill(-1):typeof n=="number"?o=[n,...new Array(s-1).fill(-1)]:n.length<s?o=n.concat(new Array(s-n.length).fill(-1)):o=n,o=o.map((r,a)=>r>=0?r:(R(r===-1,()=>"Negative size values should be exactly -1 but got "+"".concat(r," for the slice() size at index ").concat(a,".")),t.shape[a]-i[a])),[i,o]}function XI(t,e,n,i,s,o,r,a,l){let c;if(i==null?(c=new Array(e.length),c.fill(1)):c=i,r!=null&&r&r-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:o,ellipsisMask:r,newAxisMask:a,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)u&&1<<y&a&&d.numAddAxisAfterEllipsis++,1<<y&r&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Ige(d,h);let p=!0,f=!0,m=!0;const b=[],g=[];for(let y=0;y<t.length;++y){if(h.strides[y]===0)throw Error("strides[".concat(y,"] must be non-zero"));const v=!!(h.shrinkAxisMask&1<<y),w=t[y];if(w===-1){b.push(v?1:-1);continue}const C=[h.beginMask&1<<y,h.endMask&1<<y],k=[h.strides[y]>0?0:-1,h.strides[y]>0?w:w-1];if(v&&h.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&h.strides[y]===1;const E=!!(h.beginMask&1<<y&&h.endMask&1<<y);if(h.beginValid&&h.endValid){if(v){const N=h.begin[y]<0?w+h.begin[y]:h.begin[y];if(h.begin[y]=N,h.end[y]=h.begin[y]+1,N<0||N>=w)throw Error("slice index ".concat(h.begin[y]," of dimension ").concat(y," out of bounds."))}else h.begin[y]=G4(h.begin[y],0,h.strides[y],w,C,k),h.end[y]=G4(h.end[y],1,h.strides[y],w,C,k);const z=h.strides[y]===1&&h.begin[y]===0&&h.end[y]===w;p=p&&z,f=f&&(y===0&&h.strides[y]===1||z)}else p=p&&h.strides[y]===1&&E,f=f&&(y===0&&h.strides[y]===1||E);let T,_=!1;if(h.beginValid&&h.endValid?(T=h.end[y]-h.begin[y],_=!0):v?(T=1,_=!0):E&&w>=0&&(h.strides[y]<0?T=-w:T=w,_=!0),_){let z;T===0||T<0!=h.strides[y]<0?z=0:z=Math.trunc(T/h.strides[y])+(T%h.strides[y]!==0?1:0),b.push(z)}else b.push(-1)}for(let y=0;y<h.finalShapeGatherIndices.length;++y){const v=h.finalShapeGatherIndices[y];v>=0?g.push(b[v]):v===J2&&g.push(1)}return{finalShapeSparse:g.filter((y,v)=>h.finalShapeGatherIndices[v]!==J2),finalShape:g,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function Ige(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let i=0;i<t.dims;i++)if(1<<i&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-i)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=i}else if(1<<i&t.newAxisMask)e.finalShapeGatherIndices.push(J2),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(e.dims," dims, ").concat(e.begin.length,"."));t.begin!=null&&(e.begin[n]=t.begin[i]),t.end!=null&&(e.end[n]=t.end[i]),e.strides[n]=t.strides[i],t.beginMask&1<<i&&(e.beginMask|=1<<n),t.endMask&1<<i&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<i?(e.finalShapeGatherIndices.push(Cge),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(i)),e.inputShapeGatherIndicesSparse[n]=i,n++}}function G4(t,e,n,i,s,o){if(s[e])return n>0?o[e]:o[e+1&1];{const r=t<0?i+t:t;return r<o[0]?o[0]:r>o[1]?o[1]:r}}const $ge=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:WI,computeFlatOffset:KI,computeOutShape:GI,getNormalizedAxes:Tge,isSliceContinous:qI,maskToAxes:Ege,parseSliceParams:Zv,sliceInfo:XI,startForAxis:IF,startIndicesWithElidedDims:CF,stopForAxis:$F,stopIndicesWithElidedDims:EF,stridesForAxis:TF,stridesWithElidedDims:wF},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _ge{static sgd(e){return new jI(e)}static momentum(e,n,i=!1){return new pF(e,n,i)}static rmsprop(e,n=.9,i=0,s=null,o=!1){return new fF(e,n,i,s,o)}static adam(e=.001,n=.9,i=.999,s=null){return new dF(e,n,i,s)}static adadelta(e=.001,n=.95,i=null){return new cF(e,n,i)}static adamax(e=.002,n=.9,i=.999,s=null,o=0){return new hF(e,n,i,s,o)}static adagrad(e,n=.1){return new uF(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lu=_ge;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Age=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function _F(){return new Promise(t=>Age(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YI(t,e){const n=t[0].length;t.forEach((s,o)=>{R(s.length===n,()=>"Error in concat".concat(n,"D: rank of tensors[").concat(o,"] must be the same ")+"as the rank of the rest (".concat(n,")"))}),R(e>=0&&e<n,()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,"."));const i=t[0];t.forEach((s,o)=>{for(let r=0;r<n;r++)R(r===e||s[r]===i[r],()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(o,"] (").concat(s,") ")+"does not match the shape of the rest (".concat(i,") ")+"along the non-concatenated axis ".concat(o,"."))})}function wr(t,e){const n=t[0].slice();for(let i=1;i<t.length;i++)n[e]+=t[i][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Po;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Po||(Po={}));function AF(t,e,n){let i=new Array;if(n==null&&e==null)return i;if(e==null)for(;i.length<t+n.length;)i.push(-1);else i=e.slice();if(n==null)return i;if(t+n.length!==i.length)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.rank = ").concat(t+n.length,", but shape.rank = ").concat(i.length));for(let s=1;s<n.length;++s){const o=n[s],r=i[i.length-n.length+s],a=i[r];if(o>=0)if(a>=0){if(a!==o)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.shape[").concat(s+t,"] = ").concat(o," but shape[").concat(s+t,"] = ").concat(a))}else i[r]=o}return i}function NF(t){const e={FIRST_DIM_SIZE:Po.FIRST_DIM_SIZE,VALUE_ROWIDS:Po.VALUE_ROWIDS,ROW_LENGTHS:Po.ROW_LENGTHS,ROW_SPLITS:Po.ROW_SPLITS,ROW_LIMITS:Po.ROW_LIMITS,ROW_STARTS:Po.ROW_STARTS},n=[];for(const i of t)if(i in e)n.push(e[i]);else break;return n}function DF(t){return t.length===0?0:t[0]===Po.FIRST_DIM_SIZE?t.length-1:t.length}function OF(t,e){if(t==null||e==null)return;const n=t.length,i=e.length;if(n>=i)throw new Error("defaultValue.shape=".concat(t," and ragged tensor flatValues.shape=").concat(e,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(i,")"));for(let s=0;s<Math.min(n,i-1);++s){const o=t[s],r=e[s+1];if(o>=0&&r>=0&&o!==1&&o!==r)throw new Error("defaultValue.shape=".concat(t,", and ragged tensor input flatValues.shape=").concat(e," are incompatible: defaultValue.shape[").concat(s-t.length,"] = ").concat(o," but ragged tensor input.flatValues.shape[").concat(s-t.length,"] = ").concat(r))}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZI=30;function Jv(t){return t<=ZI?t:N2(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JI(t,e,n){const i=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[i,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sg(t,e,n,i=!0){let s=[];if(i)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const o=e.length;for(let r=0;r<o;++r)s=s.concat([t[r+1]/e[r],e[r]]);s=s.concat(t.slice(o+1))}return s}function og(t,e,n=!0){const i=[];if(n){i.push(e);for(let s=e+1;s<t;++s)s<=2*e?(i.push(s),i.push(s-(e+1))):i.push(s)}else{const s=[],o=[];for(let r=1;r<t;++r)r>=e*2+1||r%2===1?o.push(r):s.push(r);i.push(...s),i.push(0),i.push(...o)}return i}function rg(t,e,n,i=!0){const s=[];i?s.push(t[0]/n):s.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?i?s.push(e[o-1]*t[o]):s.push(t[o]/e[o-1]):s.push(t[o]);return s}function QI(t,e){const n=[0];for(let i=0;i<e;++i)n.push(t[i][0]);return n}function e$(t,e,n){const i=t.slice(0,1);for(let s=0;s<n;++s)i.push(t[s+1]-e[s][0]-e[s][1]);return i}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qv=1.7580993408473768,e1=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t$=.3275911,n$=.254829592,i$=-.284496736,s$=1.421413741,o$=-1.453152027,r$=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fa(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(t.length,", imag: ").concat(e.length,"."));const n=new Float32Array(t.length*2);for(let i=0;i<n.length;i+=2)n[i]=t[i/2],n[i+1]=e[i/2];return n}function RF(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=t[i],n[i/2]=t[i+1];return{real:e,imag:n}}function LF(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],i[Math.floor(s/4)]=t[s+1];return{real:n,imag:i}}function zF(t){const e=Math.floor(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],i[Math.floor(s/4)]=t[s+1];return{real:n,imag:i}}function a$(t,e){const n=t[e*2],i=t[e*2+1];return{real:n,imag:i}}function FF(t,e,n,i){t[i*2]=e,t[i*2+1]=n}function PF(t,e){const n=new Float32Array(t/2),i=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const o=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(o),i[s]=Math.sin(o)}return{real:n,imag:i}}function BF(t,e,n){const i=(n?2:-2)*Math.PI*(t/e),s=Math.cos(i),o=Math.sin(i);return{real:s,imag:o}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zw="->",Nge=/->/g,q4=",",K4="...";function l$(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Nge,"").length)/zw.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(zw,'").'));const[i,s]=t.split(zw);R(i.indexOf(K4)===-1,()=>'The ellipsis notation ("'.concat(K4,'") is not supported yet.'));const o=i.split(q4),r=o.length;if(e!==r)throw new Error("Expected ".concat(r," input tensors, received ").concat(e));if(r>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let h=0;h<s.length;++h){const p=s[h];if(!o.some(f=>f.indexOf(p)!==-1))throw new Error("Output subscripts contain the label ".concat(p," ")+"not present in the input subscripts.");a.indexOf(p)===-1&&a.push(p)}for(let h=0;h<i.length;++h){const p=i[h];a.indexOf(p)===-1&&p!==q4&&a.push(p)}const l=new Array(o.length);for(let h=0;h<r;++h){if(new Set(o[h].split("")).size!==o[h].length)throw new Error("Found duplicate axes in input component ".concat(o[h],". ")+"Support for duplicate axes in input is not implemented yet.");l[h]=[];for(let p=0;p<o[h].length;++p)l[h].push(a.indexOf(o[h][p]))}const c=a.length,u=s.length,d=[];for(let h=u;h<c;++h)d.push(h);return{allDims:a,summedDims:d,idDims:l}}function c$(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const i=[];for(let s=0;s<t;++s)n[s]===-1&&i.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:i}}function u$(t,e,n){const i=new Array(t);for(let s=0;s<n.length;++s){const o=n[s].shape;for(let r=0;r<e[s].length;++r)i[e[s][r]]===void 0?i[e[s][r]]=o[r]:R(i[e[s][r]]===o[r],()=>"Expected dimension ".concat(i[e[s][r]]," at axis ").concat(r," ")+"of input shaped ".concat(JSON.stringify(o),", ")+"but got dimension ".concat(o[r]))}}function d$(t,e){const n=t,i=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let r=0;r<s;++r)i.push([]);const o=[];for(let r=0;r<n.length;++r){const a=n[r],l=Dge(e,a);for(const c of l)o.indexOf(c)===-1&&(i[r].push(c),o.push(c))}return{path:n,steps:i}}function h$(t){return t.every((e,n)=>e===n)}function Dge(t,e){const n=[];for(let i=0;i<t.length;++i)(t[i].length===0||t[i].indexOf(e)!==-1||e===-1)&&n.push(i);return n}function p$(t,e,n=0){let i=[];if(typeof e=="number")R(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),i=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((r,a)=>(a===-1&&(r+=1),r),0);R(s<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const r=e.reduce((a,l)=>l>0?a+l:a);e[o]=t.shape[n]-r}R(t.shape[n]===e.reduce((r,a)=>r+a),()=>"The sum of sizes must match the size of the axis dimension."),i=e}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MF(t){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(t)}function jF(t,e){return"indices(".concat(t,", 0) is invalid: ").concat(e," < 0")}function UF(t,e,n){return"indices(".concat(t,", 0) is invalid: ").concat(e," >= ").concat(n)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VF(t,e){return"only one output dimension may be -1, not both ".concat(t," and ").concat(e)}function HF(t,e){return"size ".concat(t," must be non-negative, not ").concat(e)}function WF(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function GF(t,e){const n=ae(t),i=ae(e);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(i,". inputShape=").concat(t," outputShape= ").concat(e)}function qF(t,e){const n=ae(t),i=ae(e);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(i,". inputShape=").concat(t," outputShape=").concat(e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q2(){return"segment ids must be >= 0"}function KF(){return"segment ids are not increasing"}function XF(t,e){return"Segment id ".concat(t," out of range [0, ").concat(e,"), possibly because segmentIds input is not sorted.")}function YF(t,e,n){return"Bad: indices[".concat(t,"] == ").concat(e," out of range [0, ").concat(n,")")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZF(t,e){let n=!1,i;for(t<=ZI?(i=t,n=!0):i=N2(t,Math.floor(Math.sqrt(t)));!n;)i>e||i===t?n=!0:i=N2(t,i+1);return i}function JF(t,e,n){const i=[],s=t.length;for(let o=0;o<s;o++)o!==e?i.push(t[o]):i.push(n);return i}function f$(t,e,n,i){const s=e.shape.length,o=t.shape.length;if(i!==0&&(i<-s||i>s))throw new Error("Expect batchDims in the range of [-".concat(s,", ").concat(s,"], but got ").concat(i));if(i<0&&(i+=s),i>o)throw new Error("batchDims (".concat(i,") must be less than rank(x) (\n    ").concat(o,")."));if(n<i)throw new Error("batchDims (".concat(i,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<i;++d)if(t.shape[d]!==e.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(t.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(e.shape[d],"."));const r=t.shape[n],a=[];let l=1,c=1,u=1;for(let d=0;d<i;++d)a.push(t.shape[d]),l*=t.shape[d];for(let d=i;d<n;d++)a.push(t.shape[d]),c*=t.shape[d];for(let d=i;d<s;d++)a.push(e.shape[d]);for(let d=n+1;d<o;d++)a.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:r,outputShape:a}}const Oge=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:f$,computeOutShape:JF,segOpComputeOptimalWindowSize:ZF},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ma(t){try{return t.map(e=>gl(e))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(e))}}function QF(t){return t.map(e=>ll(e))}const Rge=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:n$,ERF_A2:i$,ERF_A3:s$,ERF_A4:o$,ERF_A5:r$,ERF_P:t$,PARALLELIZE_THRESHOLD:ZI,get RowPartitionType(){return Po},SELU_SCALE:e1,SELU_SCALEALPHA:Qv,applyActivation:Xv,assertAndGetBroadcastShape:Je,assertAxesAreInnerMostDims:pi,assertParamsConsistent:YI,assignToTypedArray:FF,axesAreInnerMostDims:aI,calculateShapes:vu,checkEinsumDimSizes:u$,checkPadOnDimRoundingMode:Li,combineLocations:Iz,combineRaggedTensorToTensorShapes:AF,complexWithEvenIndex:LF,complexWithOddIndex:zF,computeConv2DInfo:Yn,computeConv3DInfo:zl,computeDefaultPad:eI,computeDilation2DInfo:Zm,computeOptimalWindowSize:Jv,computeOutAndReduceShapes:Zn,computeOutShape:wr,computePool2DInfo:To,computePool3DInfo:xa,convertConv2DDataFormat:ya,decodeEinsumEquation:l$,eitherStridesOrDilationsAreOne:hi,expandShapeToKeepDim:bn,exponent:BF,exponents:PF,fromStringArrayToUint8:QF,fromUint8ToStringArray:ma,getAxesPermutation:sn,getBroadcastDims:Yd,getComplexWithIndex:a$,getEinsumComputePath:d$,getEinsumPermutation:c$,getFusedBiasGradient:Kv,getFusedDyActivation:qv,getImageCenter:JI,getInnerMostAxes:xn,getPermuted:og,getRaggedRank:DF,getReductionAxes:zn,getReshaped:sg,getReshapedPermuted:rg,getRowPartitionTypesHelper:NF,getSliceBeginCoords:QI,getSliceSize:e$,getSparseFillEmptyRowsIndicesDenseShapeMismatch:MF,getSparseFillEmptyRowsNegativeIndexErrorMessage:jF,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:UF,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:WF,getSparseReshapeInputOutputMismatchErrorMessage:qF,getSparseReshapeInputOutputMultipleErrorMessage:GF,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:VF,getSparseReshapeNegativeOutputDimErrorMessage:HF,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:YF,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:Q2,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:KF,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:XF,getUndoAxesPermutation:Fl,isIdentityPermutation:h$,log:Sle,mergeRealAndImagArrays:fa,prepareAndValidate:HI,prepareSplitSize:p$,segment_util:Oge,shouldFuse:Yv,slice_util:$ge,splitRealAndImagArrays:RF,stridesOrDilationsArePositive:Xc,tupleValuesAreOne:yl,upcastType:ds,validateDefaultValueShape:OF,validateInput:NI,validateUpdateShape:Kz,warn:Is},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */sge();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eP={kernelName:Cy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,Ih(_e(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lge={kernelName:tm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Rt(_e(n,"float32")),s=ci(Ne(We(1),i));return qt(Oe(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zge={kernelName:nm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=ci(Ne(Rt(_e(n,"float32")),1));return Oe(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fge={kernelName:Ch,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{let a=t;const l=zn(n.shape,s);return l.length>0&&(a=Le(a,l)),Y(a,n.shape)},b:()=>{let a=t;const l=zn(i.shape,s);return l.length>0&&(a=Le(a,l)),Y(a,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pge={kernelName:Ey,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((i,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bge={kernelName:Ty,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>yt(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mge={kernelName:Iy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>yt(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jge={kernelName:im,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,ci(Ne(We(1),Rt(_e(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uge={kernelName:sm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=ci(fe(We(1),Rt(_e(n,"float32"))));return Oe(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vge={kernelName:am,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{const a=fe(Rt(n),Rt(i));let l=K(t,Oe(i,a));const c=zn(n.shape,s);return c.length>0&&(l=Le(l,c)),Y(l,n.shape)},b:()=>{const a=fe(Rt(n),Rt(i));let l=qt(K(t,Oe(n,a)));const c=zn(i.shape,s);return c.length>0&&(l=Le(l,c)),Y(l,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hge={kernelName:om,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,fe(Rt(_e(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wge={kernelName:rm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,Ne(We(1),Rt(_e(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gge(t,e,n,i,s,o){const r=P(t,"dy","avgPool3dGrad"),a=P(e,"input","avgPool3dGrad");let l=r,c=a,u=!1;a.rank===4&&(u=!0,l=Y(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]]),c=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),R(l.rank===5,()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,".")),R(c.rank===5,()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,".")),Li("avgPool3dGrad",s,o);const d={dy:l,input:c},h={filterSize:n,strides:i,pad:s,dimRoundingMode:o},p=X.runKernel(qE,d,h);return u?Y(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const qge=q({avgPool3dGrad_:Gge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kge={kernelName:_y,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:s,strides:o,pad:r,dimRoundingMode:a}=n;return{x:()=>qge(t,i,s,o,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xge(t,e,n,i,s){const o=P(t,"dy","avgPoolGrad"),r=P(e,"input","avgPoolGrad");R(r.rank===o.rank,()=>"Rank of input (".concat(r.rank,") does not match rank of dy (").concat(o.rank,")"));let a=r,l=o,c=!1;r.rank===3&&(c=!0,a=Y(r,[1,r.shape[0],r.shape[1],r.shape[2]]),l=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]])),R(l.rank===4,()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,".")),R(a.rank===4,()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(a.rank,"."));const u={dy:l,input:a},d={filterSize:n,strides:i,pad:s},h=X.runKernel(GE,u,d);return c?Y(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const Yge=q({avgPoolGrad_:Xge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zge={kernelName:$y,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:s,strides:o,pad:r}=n;return{x:()=>Yge(t,i,s,o,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jge={kernelName:Ay,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[i,s]=e,{transposeA:o,transposeB:r}=n;return!o&&!r?{a:()=>dt(t,s,!1,!0),b:()=>dt(i,t,!0,!1)}:!o&&r?{a:()=>dt(t,s,!1,!1),b:()=>dt(t,i,!0,!1)}:o&&!r?{a:()=>dt(s,t,!1,!0),b:()=>dt(i,t,!1,!1)}:{a:()=>dt(s,t,!0,!0),b:()=>dt(t,i,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qge={kernelName:Ny,gradFunc:(t,e,n)=>{const{blockShape:i,crops:s}=n;return{x:()=>Bv(t,i,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ebe={kernelName:vle,gradFunc:(t,e,n)=>{const i=n,s=i.inputShape,o=i.shape,r=Array.from(o);for(let l=s.length-1;l>=0;l--)if(s[l]===o[l])r[l]=1;else if(s[l]!==1)throw new Error("broadcastTo(): [".concat(s,"] cannot be broadcast to [").concat(o,"]."));const a=[];for(let l=0;l<r.length;l++)r[l]>1&&a.push(l);return{x:()=>Le(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tbe={kernelName:lm,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nbe={kernelName:cm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ibe={kernelName:um,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{clipValueMin:s,clipValueMax:o}=n;return{x:()=>ki(Tr(Pl(i,s),bu(i,o)),t,yt(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sbe={kernelName:Oy,inputsToSave:["x"],gradFunc:eP.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const obe={kernelName:Ry,saveAllInputs:!0,gradFunc:(t,e,n)=>{const i=e.map(l=>l.shape),{axis:s}=n,o=ct(s,e[0].shape)[0],r=i.map(l=>l[o]);return as(t,r,o).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rbe={kernelName:Ly,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,{dilations:o,strides:r,pad:a,dataFormat:l}=n;return R(yl(o),()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")),{x:()=>nI(i.shape,t,s,r,a,l),filter:()=>zI(i,t,s.shape,r,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const abe={kernelName:zy,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,{strides:o,pad:r,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>vl(t,s,o,r,a,1,l),filter:()=>zI(t,i,s.shape,o,r,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lbe(t,e,n,i,s){let o=t;t.rank===4&&(o=Y(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let r=e;r.rank===4&&(r=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),R(o.rank===5,()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,".")),R(r.rank===5,()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(r.shape,".")),R(n.length===5,()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")),R(o.shape[4]===n[3],()=>"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")),R(r.shape[4]===n[4],()=>"Error in conv3dDerFilter: depth of dy (".concat(r.shape[4],") must ")+"match output depth for filter (".concat(n[4],")."));const a={x:o,dy:r},l={strides:i,pad:s,filterShape:n};return X.runKernel(JE,a,l)}const cbe=q({conv3DBackpropFilter_:lbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ube={kernelName:Fy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:s,pad:o}=n;R(yl(i),()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(i,"'"));const[r,a]=e;return{x:()=>wz(r.shape,t,a,s,o),filter:()=>cbe(r,t,a.shape,s,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dbe={kernelName:dm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(qt(TI(_e(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hbe={kernelName:hm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(II(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pbe={kernelName:Py,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s,exclusive:o,reverse:r}=n;return{x:()=>{const a=sn([s],i.rank);let l=oI(t,s,o,!r);return a!=null&&(l=xt(l,a)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fbe={kernelName:By,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:s,pad:o,dimRoundingMode:r}=n,a=i==null?[1,1]:i;R(yl(a),()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(a,"'"));const[l,c]=e;return R(l.rank===4,()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")),R(c.rank===4,()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")),R(l.shape[3]===c.shape[2],()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")),R(hi(s,a),()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(s," and dilations ")+"'".concat(a,"'.")),Li("depthwiseConv2d",o,r),{x:()=>iF(l.shape,t,c,s,o,a,r),filter:()=>nF(l,t,c.shape,s,o,a,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mbe={kernelName:My,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,o={x:i,filter:s,dy:t},r={x:i,filter:s,dy:t};return{x:()=>X.runKernel(D2,o,n),filter:()=>X.runKernel(O2,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gbe={kernelName:fm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,i={dy:t,y:n};return{x:()=>X.runKernel(lT,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bbe={kernelName:mm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=K(ps(qt(Rt(n))),2/Math.sqrt(Math.PI));return{x:()=>K(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xbe={kernelName:gm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ybe={kernelName:Uy,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Y(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vbe={kernelName:bm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,ps(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wbe={kernelName:xm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kbe={kernelName:ym,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{const a=Oe(t,_e(i,"float32")),l=zn(n.shape,s);return l.length>0?Y(Le(a,l),n.shape):a},b:()=>{let a=K(t,_e(n,"float32"));const l=zn(i.shape,s);l.length>0&&(a=Y(Le(a,l),i.shape));const c=Rt(i);return qt(Oe(a,_e(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sbe={kernelName:Vy,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:i}=n,[s,o,r,a]=e,l=a==null?We(1):a,c=zn(o.shape,s.shape),u=[];if(o.rank===1){for(let v=0;v<s.shape.length-1;++v)u.push(s.shape[v]);u.push(1)}const d=Ne(s,o),h=K(t,l),p=SI(fe(r,We(i))),f=K(K(K(p,p),p),We(-.5));return{x:()=>o.rank===1?Y(K(K(t,co(Y(p,[1,1,1,o.shape[0]]),u)),l),s.shape):Y(K(K(t,p),l),s.shape),mean:()=>{let v=K(K(p,We(-1)),h);return o.rank===1&&(v=Le(v,c)),Y(v,o.shape)},variance:()=>{let v=K(K(f,d),h);return o.rank===1&&(v=Le(v,c)),Y(v,o.shape)},scale:()=>{const v=K(d,p);let w=K(t,v);return o.rank===1&&(w=Le(w,c)),Y(w,o.shape)},offset:()=>{let v=t;return o.rank===1&&(v=Le(v,c)),Y(v,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cbe={kernelName:Hy,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[i,s]=e,{axis:o,batchDims:r}=n,a=ct(o,i.shape)[0],l=(c,u,d)=>()=>{const h=c.shape,p=u.size,f=h.slice(0,a),m=f.length,b=h.slice(o,h.length).slice(1),g=b.length,x=X4(0,m),y=X4(m+1,m+1+g),v=Y4([f,[p],b]),w=Y(d,v),C=Y(u,[p]),k=Y4([[m],x,y]),E=xt(w,k);let T=OI(E,C,c.shape[a]);const _=Fl(k);return T=xt(T,_),T};if(r===1){const c=i.shape[0],u=i.split(c,0);return{x:()=>fs(u.map((p,f)=>l(p,s.slice(f,1),t.slice(f,1))())).reshape(i.shape),indices:()=>s}}else return{x:l(i,s,t),indices:()=>s}}};function X4(t,e){const n=[];for(let i=t;i<e;++i)n.push(i);return n}function Y4(t){const e=[];for(let n=0;n<t.length;++n)for(let i=0;i<t[n].length;++i)e.push(t[n][i]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ebe={kernelName:vm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>yt(n),b:()=>yt(i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tbe={kernelName:wm,gradFunc:t=>({x:()=>_e(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ibe={kernelName:km,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $be={kernelName:Sm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _be={kernelName:Cm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Abe={kernelName:Gy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{alpha:s}=n,o=vs(i,0);return{x:()=>ki(o,t,K(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nbe={kernelName:Tm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,fe(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dbe={kernelName:Em,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,_e(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Obe={kernelName:kle,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n;return{logits:()=>{const r=ps(i);return Ne(t,K(Le(t,s,!0),r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rbe(t,e,n,i=5,s=1,o=1,r=.5){const a={x:t,y:e,dy:n},l={depthRadius:i,bias:s,alpha:o,beta:r};return X.runKernel(gT,a,l)}const Lbe=q({localResponseNormalizationBackprop_:Rbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zbe={kernelName:Jy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{depthRadius:o,bias:r,alpha:a,beta:l}=n;return{x:()=>Lbe(i,s,t,o,r,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tP(t,e,n,i){return e.rank<n.rank&&(e=Y(e,bn(e.shape,i))),t.rank<n.rank&&(t=Y(t,bn(t.shape,i))),{x:()=>K(t,_e(Xo(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z4={kernelName:Qy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{reductionIndices:s}=i,o=e[0],r=e[1],a=ct(s,o.shape),l=tP(t,r,o,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fbe={kernelName:Im,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>K(t,_e(Pl(n,i),"float32")),b:()=>K(t,_e(mf(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pbe(t,e,n,i,s,o,r){const a=P(t,"dy","maxPool3dGrad"),l=P(e,"input","maxPool3dGrad"),c=P(n,"output","maxPool3dGrad");let u=a,d=l,h=c,p=!1;l.rank===4&&(p=!0,u=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),d=Y(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=Y(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),R(u.rank===5,()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,".")),R(d.rank===5,()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")),R(h.rank===5,()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")),Li("maxPool3dGrad",o,r);const f={dy:u,input:d,output:h},m={filterSize:i,strides:s,pad:o,dimRoundingMode:r},b=X.runKernel(xT,f,m);return p?Y(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const Bbe=q({maxPool3dGrad_:Pbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mbe={kernelName:tv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{filterSize:o,strides:r,pad:a,dimRoundingMode:l}=n;return{x:()=>Bbe(t,i,s,o,r,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jbe(t,e,n,i,s,o,r){const a=P(t,"dy","maxPoolGrad"),l=P(e,"input","maxPoolGrad"),c=P(n,"output","maxPoolGrad");R(l.rank===a.rank,()=>"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(a.rank,")")),R(a.rank===4,()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(a.rank,".")),R(l.rank===4,()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,".")),Li("maxPoolGrad",o,r);const u={dy:a,input:l,output:c},d={filterSize:i,strides:s,pad:o,dimRoundingMode:r};return X.runKernel(bT,u,d)}const Ube=q({maxPoolGrad_:jbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vbe={kernelName:ev,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{filterSize:o,strides:r,pad:a}=n;return{x:()=>Ube(t,i,s,o,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hbe={kernelName:nv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n,o=ct(s,i.shape),a=Zn(i.shape,o)[1],l=ae(a);return{x:()=>{const u=i.shape.slice();o.forEach(p=>{u[p]=1});const d=Y(t,u);return Oe(K(d,rs(i.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wbe={kernelName:iv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{axis:s}=i,[o,r]=e,a=ct(s,o.shape),l=tP(t,r,o,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gbe={kernelName:$m,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>K(t,_e(bu(n,i),"float32")),b:()=>K(t,_e(vs(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qbe={kernelName:sv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:s}=n,o=s.map(r=>r[0]);return{x:()=>qe(t,o,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kbe={kernelName:_m,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{const a=zn(n.shape,s);return a.length>0?Y(Le(t,a),n.shape):t},b:()=>{const a=K(t,qt(ng(Oe(n,i)))),l=zn(i.shape,s);return l.length>0?Y(Le(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xbe={kernelName:Am,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{const a=K(t,_e(i,"float32")),l=zn(n.shape,s);return l.length>0?Y(Le(a,l),n.shape):a},b:()=>{const a=K(t,_e(n,"float32")),l=zn(i.shape,s);return l.length>0?Y(Le(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ybe={kernelName:ov,gradFunc:t=>({x:()=>qt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zbe={kernelName:lv,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>$n(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jbe={kernelName:av,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qbe={kernelName:cv,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:i}=n;return So(t,i).map(o=>()=>o)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J4={kernelName:uv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:s}=n,o=s.map(r=>r[0]);return{x:()=>qe(t,o,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e0e={kernelName:Nm,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,i,s]=e,o=n,r=i,a=Je(o.shape,r.shape);return{a:()=>{const u=_e(r,"float32");let d=K(t,K(u,ha(o,Ne(u,We(1)))));const h=zn(o.shape,a);return h.length>0&&(d=Le(d,h)),Y(d,o.shape)},b:()=>{const u=vs(o,0),d=ki(u,zs(o),yt(o));let h=K(t,K(s,d));const p=zn(r.shape,a);return p.length>0&&(h=Le(h,p)),Y(h,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t0e={kernelName:dv,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,i]=e,s=vs(n,0);return{x:()=>ki(s,t,K(t,i)),alpha:()=>{let o=ki(s,yt(t),K(t,n));const r=zn(i.shape,t.shape);return r.length>0&&(o=Le(o,r)),Y(o,i.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0e(t,e,n){const i=t.shape.slice();i[n]=1;const s=Y(e,i),o=q0(t,n,!0,!1),r=q0(t,n,!0,!0),a=K(o,r);return K(s,a)}function i0e(t,e,n){const i=t.shape.length,s=i-n.length,o=sn(n,i);let r=t;o!=null&&(r=xt(t,o));const a=r.shape.slice(),c=a.splice(i-n.length,n.length).reduce((h,p)=>h*p,1);a.push(c);const u=r.reshape(a);let d=n0e(u,e,s);if(d=d.reshape(r.shape),o!=null){const h=Fl(o);d=xt(d,h)}return d}const s0e={kernelName:hv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n;let o=[];return s==null?o=i.shape.map((r,a)=>a):typeof s=="number"?o=[s]:o=s,{x:()=>i0e(i,t,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o0e={kernelName:pm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{const a=Oe(t,_e(i,"float32")),l=zn(n.shape,s);return l.length>0?Y(Le(a,l),n.shape):a},b:()=>{let a=K(t,_e(n,"float32"));const l=zn(i.shape,s);l.length>0&&(a=Y(Le(a,l),i.shape));const c=Rt(i);return qt(Oe(a,_e(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r0e={kernelName:Dm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,qt(Rt(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a0e={kernelName:Rm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=K(bu(n,6),Ih(n));return{x:()=>K(t,_e(i,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l0e={kernelName:Om,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,_e(Ih(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c0e={kernelName:pv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Y(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u0e={kernelName:mv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,s={dy:t,images:i};return{images:()=>X.runKernel(AT,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d0e={kernelName:fv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,s={dy:t,images:i};return{images:()=>X.runKernel(_T,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h0e={kernelName:gv,gradFunc:(t,e,n)=>{const{dims:i}=n,s=ct(i,t.shape);return{x:()=>ko(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p0e={kernelName:Lm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f0e={kernelName:zm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>qt(Oe(t,K(ha(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m0e={kernelName:bv,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>_e(yt(n),"float32"),t:()=>K(t,_e(n,t.dtype)),e:()=>K(t,_e(zv(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g0e={kernelName:Fm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=vs(n,We(0)),s=We(Qv),o=We(e1),r=K(t,o),a=K(K(t,s),ps(_e(n,"float32")));return ki(i,r,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b0e={kernelName:jm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,K(n,Ne(We(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x0e={kernelName:Mm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y0e={kernelName:Pm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(Nv(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v0e={kernelName:Bm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(sI(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w0e={kernelName:xv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{begin:s,size:o}=n,r=i.shape,[a,l]=Zv(i,s,o),c=[];for(let u=0;u<t.rank;u++)c.push([a[u],r[u]-a[u]-l[u]]);return{x:()=>Bl(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k0e={kernelName:kv,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{dim:s}=n,o=!0,r=K(t,i);return{logits:()=>Ne(r,K(Le(r,[s],o),i))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S0e={kernelName:Um,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,Wo(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q4={kernelName:vv,gradFunc:(t,e,n)=>{const{blockShape:i,paddings:s}=n;return{x:()=>_v(t,i,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eN={kernelName:wv,gradFunc:(t,e,n)=>{const{axis:i}=n;return{x:()=>dn(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C0e={kernelName:Vm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,K(ci(_e(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E0e={kernelName:BT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(t,K(_e(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T0e={kernelName:Hm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=We(2);return{a:()=>K(t,K(s,Ne(n,i))),b:()=>K(t,K(s,Ne(i,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I0e={kernelName:Xm,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $0e={kernelName:Wm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Je(n.shape,i.shape);return{a:()=>{let a=t;const l=zn(n.shape,s);return l.length>0&&(a=Le(a,l)),Y(a,n.shape)},b:()=>{let a=t;const l=zn(i.shape,s);return l.length>0&&(a=Le(a,l)),Y(qt(a),i.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _0e={kernelName:yv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,s=i.shape.slice(),{axis:o}=n;ct(o,i.shape).forEach(c=>{s[c]=1});const a=Y(t,s),l=K(a,rs(i.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A0e={kernelName:Gm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Oe(t,Rt(Nv(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N0e={kernelName:qm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>K(Ne(We(1),Rt(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D0e={kernelName:Km,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{reps:s}=n;return{x:()=>{let r=yt(i);if(i.rank===1)for(let a=0;a<s[0];++a)r=fe(r,qe(t,[a*i.shape[0]],[i.shape[0]]));else if(i.rank===2)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)r=fe(r,qe(t,[a*i.shape[0],l*i.shape[1]],[i.shape[0],i.shape[1]]));else if(i.rank===3)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)r=fe(r,qe(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else if(i.rank===4)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)for(let u=0;u<s[3];++u)r=fe(r,qe(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2],u*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]));else throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(i.rank," tensors yet."));return r}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O0e={kernelName:Ed,gradFunc:(t,e,n)=>{const i=n,{perm:s}=i,o=Fl(s);return{x:()=>xt(t,o)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R0e={kernelName:Cv,gradFunc:(t,e,n)=>{const i=n,{axis:s}=i;return{value:()=>fs(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L0e={kernelName:Ev,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>z0e(t,n)}}};function z0e(t,e){const n=va(e,yt(e)),i=ig(t,n);let s=Pl(e,We(0,"int32"));const o=i.rank-s.rank;for(let a=0;a<o;++a)s=xi(s,a+1);s=Tr(s,rs(i.shape,"bool"));const r=yt(i);return ki(s,i,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F0e={kernelName:Tv,gradFunc:t=>({x:()=>yt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P0e=[eP,Lge,zge,Fge,Pge,Bge,Mge,jge,Uge,Vge,Hge,Wge,Kge,Zge,Jge,Qge,ebe,tbe,nbe,ibe,sbe,obe,abe,rbe,ube,dbe,hbe,pbe,fbe,mbe,o0e,gbe,bbe,xbe,ybe,vbe,kbe,wbe,Sbe,Cbe,Ebe,Tbe,Ibe,$be,_be,Abe,Nbe,Dbe,Obe,zbe,Z4,Z4,Fbe,Mbe,Vbe,Hbe,Wbe,Gbe,qbe,Kbe,Xbe,Ybe,Zbe,Jbe,Qbe,J4,J4,e0e,t0e,s0e,r0e,a0e,l0e,c0e,u0e,d0e,h0e,p0e,f0e,m0e,g0e,b0e,x0e,y0e,v0e,w0e,k0e,S0e,Q4,Q4,eN,eN,C0e,T0e,E0e,I0e,$0e,_0e,A0e,N0e,D0e,O0e,R0e,L0e,F0e];for(const t of P0e)Cle(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.abs=function(){return this.throwIfDisposed(),In(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.acos=function(){return this.throwIfDisposed(),iz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.acosh=function(){return this.throwIfDisposed(),sz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.add=function(t){return this.throwIfDisposed(),fe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.all=function(t,e){return this.throwIfDisposed(),QT(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.any=function(t,e){return this.throwIfDisposed(),G0(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.argMax=function(t){return this.throwIfDisposed(),Xd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.argMin=function(t){return this.throwIfDisposed(),oz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.asScalar=function(){return this.throwIfDisposed(),R(this.size===1,()=>"The array must have only 1 element."),Y(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.asType=function(t){return this.throwIfDisposed(),_e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.as1D=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.as2D=function(t,e){return this.throwIfDisposed(),Y(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Y(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.as4D=function(t,e,n,i){return this.throwIfDisposed(),Y(this,[t,e,n,i])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.as5D=function(t,e,n,i,s){return this.throwIfDisposed(),Y(this,[t,e,n,i,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.asin=function(){return this.throwIfDisposed(),rz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.asinh=function(){return this.throwIfDisposed(),az(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.atan=function(){return this.throwIfDisposed(),lz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.atan2=function(t){return this.throwIfDisposed(),cz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.atanh=function(){return this.throwIfDisposed(),uz(this)};ce().prototype.avgPool=function(t,e,n,i){return this.throwIfDisposed(),$v(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),_v(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.batchNorm=function(t,e,n,i,s){return this.throwIfDisposed(),Jm(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.broadcastTo=function(t){return this.throwIfDisposed(),$d(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.cast=function(t){return this.throwIfDisposed(),_e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.ceil=function(){return this.throwIfDisposed(),gz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),hs(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof It&&(t=[t]),dn([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.conv1d=function(t,e,n,i,s,o){return this.throwIfDisposed(),tI(this,t,e,n,i,s,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.conv2dTranspose=function(t,e,n,i,s){return this.throwIfDisposed(),iI(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.conv2d=function(t,e,n,i,s,o){return this.throwIfDisposed(),vl(this,t,e,n,i,s,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.cos=function(){return this.throwIfDisposed(),Nv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.cosh=function(){return this.throwIfDisposed(),sI(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),q0(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),oI(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),Sz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.depthwiseConv2d=function(t,e,n,i,s,o){return this.throwIfDisposed(),Qm(this,t,e,n,i,s,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.dilation2d=function(t,e,n,i,s){return this.throwIfDisposed(),Cz(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.divNoNan=function(t){return this.throwIfDisposed(),Ez(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.div=function(t){return this.throwIfDisposed(),Oe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.dot=function(t){return this.throwIfDisposed(),Tz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.elu=function(){return this.throwIfDisposed(),eg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.equal=function(t){return this.throwIfDisposed(),Xo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.erf=function(){return this.throwIfDisposed(),rI(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),_z(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.exp=function(){return this.throwIfDisposed(),ps(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.expandDims=function(t){return this.throwIfDisposed(),xi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.expm1=function(){return this.throwIfDisposed(),Az(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.fft=function(){return this.throwIfDisposed(),Wv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.flatten=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.floor=function(){return this.throwIfDisposed(),ng(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.floorDiv=function(t){return this.throwIfDisposed(),JT(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.gather=function(t,e,n){return this.throwIfDisposed(),ig(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Pl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.greater=function(t){return this.throwIfDisposed(),vs(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.ifft=function(){return this.throwIfDisposed(),xf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.irfft=function(){return this.throwIfDisposed(),_I(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.isFinite=function(){return this.throwIfDisposed(),Nz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.isInf=function(){return this.throwIfDisposed(),Dz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.isNaN=function(){return this.throwIfDisposed(),Oz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.leakyRelu=function(t){return this.throwIfDisposed(),Ov(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.lessEqual=function(t){return this.throwIfDisposed(),bu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.less=function(t){return this.throwIfDisposed(),mf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.localResponseNormalization=function(t,e,n,i){return this.throwIfDisposed(),Rz(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logSigmoid=function(){return this.throwIfDisposed(),Lz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logSoftmax=function(t){return this.throwIfDisposed(),cI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),Lv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.log=function(){return this.throwIfDisposed(),zs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.log1p=function(){return this.throwIfDisposed(),Rv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Tr(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logicalNot=function(){return this.throwIfDisposed(),zv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logicalOr=function(t){return this.throwIfDisposed(),uI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.logicalXor=function(t){return this.throwIfDisposed(),zz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),dt(this,t,e,n)};ce().prototype.maxPool=function(t,e,n,i){return this.throwIfDisposed(),Fv(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.max=function(t,e){return this.throwIfDisposed(),go(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.maximum=function(t){return this.throwIfDisposed(),va(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.mean=function(t,e){return this.throwIfDisposed(),an(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.min=function(t,e){return this.throwIfDisposed(),ff(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.minimum=function(t){return this.throwIfDisposed(),Zc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),Pz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.mod=function(t){return this.throwIfDisposed(),Bz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.mul=function(t){return this.throwIfDisposed(),K(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.neg=function(){return this.throwIfDisposed(),qt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.norm=function(t,e,n){return this.throwIfDisposed(),tg(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.notEqual=function(t){return this.throwIfDisposed(),Zd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),hI(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.onesLike=function(){return this.throwIfDisposed(),Fs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.pad=function(t,e){return this.throwIfDisposed(),Bl(this,t,e)};ce().prototype.pool=function(t,e,n,i,s,o){return this.throwIfDisposed(),Mz(this,t,e,n,i,s,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.pow=function(t){return this.throwIfDisposed(),ha(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.prelu=function(t){return this.throwIfDisposed(),Mv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.prod=function(t,e){return this.throwIfDisposed(),jz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.reciprocal=function(){return this.throwIfDisposed(),Vz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.relu=function(){return this.throwIfDisposed(),Dr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.relu6=function(){return this.throwIfDisposed(),wI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Y(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.reshape=function(t){return this.throwIfDisposed(),Y(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),rF(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),aF(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.reverse=function(t){return this.throwIfDisposed(),ko(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.rfft=function(){return this.throwIfDisposed(),Gv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.round=function(){return this.throwIfDisposed(),kI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.rsqrt=function(){return this.throwIfDisposed(),SI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.selu=function(){return this.throwIfDisposed(),CI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.separableConv2d=function(t,e,n,i,s,o){return this.throwIfDisposed(),EI(this,t,e,n,i,s,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sigmoid=function(){return this.throwIfDisposed(),Wo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sign=function(){return this.throwIfDisposed(),Hz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sin=function(){return this.throwIfDisposed(),TI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sinh=function(){return this.throwIfDisposed(),II(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.slice=function(t,e){return this.throwIfDisposed(),qe(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.softmax=function(t){return this.throwIfDisposed(),Hv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.softplus=function(){return this.throwIfDisposed(),Th(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),Bv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.split=function(t,e){return this.throwIfDisposed(),as(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sqrt=function(){return this.throwIfDisposed(),ci(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.square=function(){return this.throwIfDisposed(),Rt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.squaredDifference=function(t){return this.throwIfDisposed(),AI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.squeeze=function(t){return this.throwIfDisposed(),Go(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof It?[this,t]:[this,...t];return fs(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.step=function(t){return this.throwIfDisposed(),Ih(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.stridedSlice=function(t,e,n,i,s,o,r,a){return this.throwIfDisposed(),Wz(this,t,e,n,i,s,o,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sub=function(t){return this.throwIfDisposed(),Ne(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.sum=function(t,e){return this.throwIfDisposed(),Le(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.tan=function(){return this.throwIfDisposed(),Gz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.tanh=function(){return this.throwIfDisposed(),Yc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.tile=function(t){return this.throwIfDisposed(),co(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.toBool=function(){return this.throwIfDisposed(),_e(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.toFloat=function(){return this.throwIfDisposed(),_e(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.toInt=function(){return this.throwIfDisposed(),_e(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.topk=function(t,e){return this.throwIfDisposed(),Xz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.transpose=function(t){return this.throwIfDisposed(),xt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.unique=function(t){return this.throwIfDisposed(),Yz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),OI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.unstack=function(t){return this.throwIfDisposed(),So(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.where=function(t,e){return this.throwIfDisposed(),ki(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ce().prototype.zerosLike=function(){return this.throwIfDisposed(),yt(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cr extends Error{constructor(e){super(e),Object.setPrototypeOf(this,cr.prototype)}}class ho extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ho.prototype)}}class Q extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Q.prototype)}}class et extends Error{constructor(e){super(e),Object.setPrototypeOf(this,et.prototype)}}class m$ extends Error{constructor(e){super(e),Object.setPrototypeOf(this,m$.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nP{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qc(t,e){if(Array.isArray(t)){let n=[];for(let i=0;i<e;i++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function ur(t,e){if(!t)throw new m$(e)}function tN(t,e){let n=0;for(const i of t)i===e&&n++;return n}function Bi(t){return t.length===1?t[0]:t}function Tt(t){return Array.isArray(t)?t:[t]}function Ur(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function lc(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Ws={};function g$(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function eS(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>eS(e));else{const e=Object.keys(t);for(const n of e){const i=t[n];i!=null&&typeof i=="object"&&(!Array.isArray(i)&&i.type==="ndarray"&&typeof i.value=="number"?t[n]=i.value:eS(i))}}}function ag(t,e={},n={},i="object",s=!1){if(typeof t=="string"){const o=t;let r;if(o in n)r=n[o];else if(o in Ws)r=Ws[o];else if(r=e[o],r==null)throw new Q("Unknown ".concat(i,": ").concat(t,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return r}else{const o=t;if(o.className==null||o.config==null)throw new Q("".concat(i,": Improper config format: ")+"".concat(JSON.stringify(o),".\n")+"'className' and 'config' must set.");const r=o.className;let a,l;if(r in n?[a,l]=n[r]:r in Ws?[a,l]=Ws.className:r in e&&([a,l]=e[r]),a==null)throw new Q("Unknown ".concat(i,": ").concat(r,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(l!=null){const c={};for(const p of Object.keys(Ws))c[p]=Ws[p];for(const p of Object.keys(n))c[p]=n[p];const u=o.config;u.customObjects=c;const d=Object.assign({},Ws);for(const p of Object.keys(n))Ws[p]=n[p];eS(o.config);const h=l(a,o.config,n,s);return Ws=Object.assign({},d),h}else{const c=Object.assign({},Ws);for(const d of Object.keys(n))Ws[d]=n[d];const u=new a(o.config);return Ws=Object.assign({},c),u}}}function B0e(t,e){return t<e?-1:t>e?1:0}function ib(t,e){return-1*B0e(t,e)}function cl(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function M0e(t){if(t==null)throw new Q("Invalid value in obj: ".concat(JSON.stringify(t)));for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function wu(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Q("".concat(n," is not a valid ").concat(e,".  Valid values are ").concat(t," or null/undefined."))}function b$(t,e,n=0,i=1/0){return ur(n>=0),ur(i>=n),Array.isArray(t)&&t.length>=n&&t.length<=i&&t.every(s=>typeof s===e)}function Wn(t,e){Array.isArray(t)?(R(t.length>0,()=>"".concat(e," is unexpectedly an empty array.")),t.forEach((n,i)=>Wn(n,"element ".concat(i+1," of ").concat(e)))):R(Number.isInteger(t)&&t>0,()=>"Expected ".concat(e," to be a positive integer, but got ")+"".concat(iP(t),"."))}function iP(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>iP(e)).join(",")+"]":typeof t=="string"?'"'.concat(t,'"'):"".concat(t)}function j0e(t,e,n){let i=n!=null?n():Pi(),s;return(...r)=>{const a=n!=null?n():Pi();return a-i<e||(i=a,s=t(...r)),s}}function sP(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let U0e=0;function oP(){return U0e++}const sb={};function t1(t=""){return t in sb||(sb[t]=0),sb[t]+=1,t+sb[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const V0e=["channelsFirst","channelsLast"],H0e=["nearest","bilinear"],W0e=["valid","same","causal"],G0e=["max","avg"],q0e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const zu=new Map;function yn(t){wu(V0e,"DataFormat",t)}function K0e(t){wu(H0e,"InterpolationFormat",t)}function js(t){wu(W0e,"PaddingMode",t)}function rP(t){wu(G0e,"PoolMode",t)}const Fp=[],nN="/";function _c(t,e){Fp.push(t);try{const n=e();return Fp.pop(),n}catch(n){throw Fp.pop(),n}}function X0e(){return Fp.length===0?"":Fp.join(nN)+nN}function aP(t){if(!cP(t))throw new Error("Not a valid tensor name: '"+t+"'");return X0e()+t}function lP(t){if(!cP(t))throw new Error("Not a valid tensor name: '"+t+"'");zu.has(t)||zu.set(t,0);const e=zu.get(t);if(zu.set(t,zu.get(t)+1),e>0){const n="".concat(t,"_").concat(e);return zu.set(n,1),n}else return t}const Y0e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function cP(t){return!!t.match(Y0e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Z0e(t){return t===parseInt(t.toString(),10)}function ul(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let i=1;for(let s=e;s<n;++s)i*=t[s];return i}function Qd(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i<e&&(e=i)}return e}function wl(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i>e&&(e=i)}return e}function Yo(t,e){if(e<t)throw new Q("end (".concat(e,") < begin (").concat(t,") is forbidden."));const n=[];for(let i=t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Fw;function An(){return Fw==null&&(Fw=j8().epsilon()),Fw}function Zo(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kr(t,e){return _e(t,e)}function lg(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Y(t,n)}function J0e(t,e){return ie(()=>{if(t.shape.length!==2)throw new Q("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));const n=lg(t,1);return tS(n,[1,e,1])})}function Q0e(t){const e=[ul(t.shape)];return Y(t,e)}function exe(t){if(t.rank<=1)throw new Q("batchFlatten requires a minimum rank of 2. Got rank: ".concat(t.rank,"."));const e=[t.shape[0],ul(t.shape,1)];return Y(t,e)}function Ac(t,e,n){return ie(()=>{switch(t.rank){case 1:return Uv(t,e,n);case 2:return $I(t,[e,0],[n,t.shape[1]]);case 3:return Vv(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return bf(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return qe(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return qe(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Q("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function Pw(t,e,n){return ie(()=>{switch(t.rank){case 1:return Uv(t,e,n);case 2:return $I(t,[0,e],[t.shape[0],n]);case 3:return Vv(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return bf(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Q("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function ob(t,e,n,i){return ie(()=>{switch(t.rank){case 1:return Uv(t,e,n);case 2:switch(i){case 1:return Ac(t,e,n);case 2:return Pw(t,e,n);default:throw new Q("The axis is not within the rank of the tensor "+"".concat(i))}case 3:switch(i){case 1:return Ac(t,e,n);case 2:return Vv(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return Pw(t,e,n);default:throw new Q("The axis is not within the rank of the tensor "+"".concat(i))}case 4:switch(i){case 1:return Ac(t,e,n);case 2:return bf(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return bf(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return Pw(t,e,n);default:throw new Q("The axis is not within the rank of the tensor "+"".concat(i))}default:throw new Q("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function x$(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),dn(t,e)}function iN(t,e){switch(t.rank){case 1:return bz([t,e]);case 2:return Av([t,e],0);case 3:return xz([t,e],0);case 4:return yz([t,e],0);default:throw new Q("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(t.rank))}}function tS(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Q("The length of input n (".concat(e.length,") does not match ")+"the number of dimensions in input x (".concat(t.rank,")"));return co(t,e)}function n1(t,e=0,n=1,i,s){return vI(t,e,n,i,s)}function Sr(t,e,n,i){if(t.rank<2||e.rank<2)throw new et("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(t.shape," and y shape = ").concat(e.shape));if(e.rank>=3){const s=t.shape.slice(-1)[0],o=e.shape.slice(-2)[0];if(s!==o)throw new et("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(t.shape," and ")+" y shape = ".concat(e.shape))}if(t.rank===2&&e.rank===2)return Y2({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?nS(t.rank,i,Zo()):null,activation:n});{const s=t.shape.slice(),o=s.pop();t=Y(t,[-1,o]);const r=e.shape.slice(),a=r.pop(),l=r.pop(),c=[...r,a],u=Array.from({length:e.rank},(f,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=Y(xt(e,u),[l,-1]);const d=[...s,...c];return Y(Y2({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?nS(t.rank,i,Zo()):null,activation:n}),d)}}function uP(t,e,n){return ie(()=>(Array.isArray(e)?e=Hn(e,"int32"):e=_e(e,"int32"),ig(t,e,n)))}function cg(t){return K(t,t)}function nS(t,e,n){const i=e.shape;if(e.rank!==1&&e.rank!==t)throw new Q("Unexpected bias dimensions: ".concat(e.rank)+"; expected it to be 1 or ".concat(t));if(t===5){if(n==="channelsFirst")return i.length===1?Y(e,[1,i[0],1,1,1]):Y(e,[1,i[3],i[0],i[1],i[2]]);if(n==="channelsLast")return i.length===1?Y(e,[1,1,1,1,i[0]]):Y(e,[1].concat(i))}else if(t===4){if(n==="channelsFirst")return i.length===1?Y(e,[1,i[0],1,1]):Y(e,[1,i[2],i[0],i[1]]);if(n==="channelsLast")return i.length===1?Y(e,[1,1,1,i[0]]):Y(e,[1].concat(i))}else if(t===3){if(n==="channelsFirst")return i.length===1?Y(e,[1,i[0],1]):Y(e,[1,i[1],i[0]]);if(n==="channelsLast")return i.length===1?Y(e,[1,1,i[0]]):Y(e,[1].concat(i))}else if(t<3)return e;throw new Q("Unsupported input rank by biasAdd: ".concat(e.rank))}function sr(t,e,n){return ie(()=>(n==null&&(n=Zo()),yn(n),fe(t,nS(t.rank,e,n))))}function txe(t,e=1){if(e!==1)throw new et("Support for alpha values other than 1 (".concat(e,") is not implemented ")+"yet.");return eg(t)}function nxe(t){return ie(()=>Oe(t,fe(In(t),1)))}function dP(t,e,n,i){return ie(()=>Qz(t,e,n,i))}function ixe(t){return ie(()=>{const e=fe(.5,K(.2,t));return hs(e,0,1)})}function ug(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const sxe=["fanIn","fanOut","fanAvg"],oxe=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function rxe(t){wu(sxe,"FanMode",t)}function axe(t){wu(oxe,"Distribution",t)}class Io extends _h{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class hP extends Io{apply(e,n){return $n(e,n)}}hP.className="Zeros";be(hP);class y$ extends Io{apply(e,n){return rs(e,n)}}y$.className="Ones";be(y$);class pP extends Io{constructor(e){if(super(),typeof e!="object")throw new Q("Expected argument of type ConstantConfig but got ".concat(e));if(e.value===void 0)throw new Q("config must have value set but got ".concat(e));this.value=e.value}apply(e,n){return ie(()=>K(We(this.value),rs(e,n)))}getConfig(){return{value:this.value}}}pP.className="Constant";be(pP);class fP extends Io{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return yu(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}fP.className="RandomUniform";be(fP);class mP extends Io{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new et("randomNormal does not support dType ".concat(n,"."));return n1(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}mP.className="RandomNormal";be(mP);class gP extends Io{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new et("truncatedNormal does not support dType ".concat(n,"."));return DI(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}gP.className="TruncatedNormal";be(gP);class bP extends Io{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return ie(()=>{if(e.length!==2||e[0]!==e[1])throw new Q("Identity matrix initializer can only be used for 2D square matrices.");return K(this.gain,lI(e[0]))})}getConfig(){return{gain:this.gain}}}bP.className="Identity";be(bP);function lxe(t,e="channelsLast"){let n,i;if(yn(e),t.length===2)n=t[0],i=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=ul(t,2);n=t[1]*s,i=t[0]*s}else if(e==="channelsLast"){const s=ul(t,0,t.length-2);n=t[t.length-2]*s,i=t[t.length-1]*s}}else{const s=ul(t);n=Math.sqrt(s),i=Math.sqrt(s)}return[n,i]}class ms extends Io{constructor(e){if(super(),e.scale<0)throw new Q("scale must be a positive float. Got: ".concat(e.scale));this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,rxe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,axe(this.distribution),this.seed=e.seed}apply(e,n){const i=lxe(e),s=i[0],o=i[1];let r=this.scale;if(this.mode==="fanIn"?r/=Math.max(1,s):this.mode==="fanOut"?r/=Math.max(1,o):r/=Math.max(1,(s+o)/2),this.distribution==="normal"){const a=Math.sqrt(r);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new et("".concat(this.getClassName()," does not support dType ").concat(n,"."));return DI(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*r);return yu(e,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}ms.className="VarianceScaling";be(ms);class v$ extends ms{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ms.className}}v$.className="GlorotUniform";be(v$);class w$ extends ms{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ms.className}}w$.className="GlorotNormal";be(w$);class k$ extends ms{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ms.className}}k$.className="HeNormal";be(k$);class S$ extends ms{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ms.className}}S$.className="HeUniform";be(S$);class C$ extends ms{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return ms.className}}C$.className="LeCunNormal";be(C$);class E$ extends ms{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return ms.className}}E$.className="LeCunUniform";be(E$);class xP extends Io{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return ie(()=>{if(e.length<2)throw new et("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError("Unsupported data type ".concat(n,"."));n=n;const i=ae(e.slice(0,-1)),s=e[e.length-1],o=i*s;o>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(o,") elements: ")+"Slowness may result.");const r=[Math.max(s,i),Math.min(s,i)],a=n1(r,0,1,n,this.seed),l=lF.qr(a,!1);let c=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(s,i)*Math.min(s,i)],[Math.min(s,i)+1]);return c=K(c,d.sign()),i<s&&(c=c.transpose()),K(We(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}xP.className="Orthogonal";be(xP);const sN={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function oN(t,e={}){return ag(t,no.getMap().classNameMap,e,"initializer")}function tn(t){return g$(t)}function Kt(t){if(typeof t=="string"){const e=t in sN?sN[t]:t;if(e==="GlorotNormal")return new w$;if(e==="GlorotUniform")return new v$;if(e==="HeNormal")return new k$;if(e==="HeUniform")return new S$;if(e==="LeCunNormal")return new C$;if(e==="LeCunUniform")return new E$;{const n={};return n.className=e,n.config={},oN(n)}}else return t instanceof Io?t:oN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function iS(t){return Array.isArray(t)&&Array.isArray(t[0])}function K0(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function Xe(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Q("Expected Tensor length to be 1; got ".concat(t.length));e=t[0]}else e=t;return e}function St(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Q("Expected exactly 1 Shape; got ".concat(t.length))}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function X0(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((i,s)=>i*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const rN="Variable";class cxe{constructor(e,n="float32",i=rN,s=!0,o=null){this.dtype=n==null?"float32":n,this.shape=e.shape,this.id=oP(),i=i==null?rN:i,this.originalName=aP(i),this.name=lP(this.originalName),this.trainable_=s,this.constraint=o,this.val=Zz(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),uxe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function uxe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function sS(t){return t.map(e=>e.read())}function T$(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Nn{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Ir{constructor(e,n,i,s,o,r,a){this.dtype=e,this.shape=n,this.sourceLayer=i,this.inputs=s,this.callArgs=o,this.outputTensorIndex=a,this.id=oP(),r!=null&&(this.originalName=aP(r),this.name=lP(this.originalName)),this.rank=n.length}}let dxe=0,i1=class{constructor(e,n){this.callArgs=n,this.id=dxe++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const i of e.inboundLayers)i!=null&&i.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},hxe=0;class ut extends _h{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=hxe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const i=this.getClassName();n=Ur(i)+"_"+t1(i)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let i;if(e.batchInputShape!=null)i=e.batchInputShape;else if(e.inputShape!=null){let o=null;e.batchSize!=null&&(o=e.batchSize),i=[o].concat(e.inputShape)}this.batchInputShape=i;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new ho("The layer has never been called "+"and thus has no defined ".concat(n,"."));if(this.inboundNodes.length<=e)throw new Q("Asked to get ".concat(n," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return Bi(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Bi(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new cr("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(this.inboundNodes.length===0)throw new cr("Layer ".concat(this.name)+" is not connected, no input to return.");return Bi(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new cr("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new cr("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Bi(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=Tt(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const i=Tt(this.inputSpec);if(n.length!==i.length)throw new Q("Layer ".concat(this.name," expects ").concat(i.length," inputs, ")+"but it received ".concat(n.length," input tensors. ")+"Input received: ".concat(e));for(let s=0;s<n.length;s++){const o=n[s],r=i[s];if(r==null)continue;const a=o.rank;if(r.ndim!=null&&a!==r.ndim)throw new Q("Input ".concat(s," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(r.ndim,", found ndim=").concat(a));if(r.maxNDim!=null&&a>r.maxNDim)throw new Q("Input ".concat(s," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(r.maxNDim,", found ndim=").concat(a));if(r.minNDim!=null&&a<r.minNDim)throw new Q("Input ".concat(s," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(r.minNDim,", found ndim=").concat(a,"."));if(r.dtype!=null&&o.dtype!==r.dtype)throw new Q("Input ".concat(s," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(r.dtype,", found dtype=").concat(o.dtype,"."));if(r.axes){const l=o.shape;for(const c in r.axes){const u=Number(c),d=r.axes[c],h=u>=0?l[u]:l[l.length+u];if(d!=null&&[d,null].indexOf(h)===-1)throw new Q("Input ".concat(s," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(d," but got shape ").concat(l,"."))}}if(r.shape!=null)for(let l=0;l<r.shape.length;++l){const c=r.shape[l],u=o.shape[l];if(c!=null&&u!=null&&c!==u)throw new Q("Input ".concat(s," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(r.shape,", ")+"found shape=".concat(o.shape,"."))}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const i=Tt(e),s=mxe(e),o=gxe(e);if(s===o)throw new Q("Arguments to apply() must be all SymbolicTensors or all Tensors");return _c(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const r=[];for(const a of Tt(e))r.push(a.shape);this.build(Bi(r)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let r=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,r);const a=Tt(r),l=[];for(let c of a)i.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(r=Bi(l),this.activityRegularizer!=null)throw new et("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}else{const r=pxe(e),a=this.computeOutputShape(r);let l;const c=fxe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?r[0]:r),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((u,d)=>new Ir(c,u,this,Tt(e),n,this.name,d)):l=new Ir(c,a,this,Tt(e),n,this.name),this.addInboundNode(e,l,null,null,r,a,n),this._refCount++,this.activityRegularizer!=null)throw new et("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let n=!1;this.batchInputShape.forEach((i,s)=>{i!=null&&e[s]!=null&&e[s]!==i&&(n=!0)}),n&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new cr("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const n of this.inboundNodes){const i=JSON.stringify(n.outputShapes);e.indexOf(i)===-1&&e.push(i)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new cr("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new ho("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return X0(this.weights)}build(e){this.built=!0}getWeights(e=!1){return sS(e?this.trainableWeights:this.weights)}setWeights(e){ie(()=>{const n=this.weights;if(n.length!==e.length)throw new Q('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(n.length===0)return;const i=[],s=sS(n);for(let o=0;o<s.length;++o){const r=s[o],a=n[o],l=e[o];if(!gt(r.shape,l.shape))throw new Q("Layer weight shape ".concat(r.shape," ")+"not compatible with provided weight shape ".concat(l.shape));i.push([a,l])}T$(i)})}addWeight(e,n,i,s,o,r,a,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new Q("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),i==null&&(i="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():Kt("zeros"));const c=s.apply(n,i),u=new cxe(c,i,e,r,a);return c.dispose(),o!=null&&this.addLoss(()=>o.apply(u.read())),r==null&&(r=!0),r?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Tt(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(i=>{if(i!=null)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")});else throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");return null}return n}setMaskMetadata(e,n,i){if(!this.supportsMasking)return;const s=this.computeMask(e,i),o=Tt(n),r=Tt(s);if(o.length!==r.length)throw new Error("".concat(this.name," outputs ").concat(o.length," tensors ")+"but ".concat(o.length," masks for those tensors"));for(let a=0;a<o.length;a++)o[a].kerasMask=r[a]}addInboundNode(e,n,i,s,o,r,a=null){const l=Tt(e);n=Tt(n),i=Tt(i),s=Tt(s),o=K0(o),r=K0(r);const c=[],u=[],d=[];for(const h of l)c.push(h.sourceLayer),u.push(h.nodeIndex),d.push(h.tensorIndex);new i1({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:i,outputMasks:s,inputShapes:o,outputShapes:r},a);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(this._refCount===null)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function pxe(t){t=Tt(t);const e=[];for(const n of t)e.push(n.shape);return Bi(e)}function fxe(t){return"float32"}function yP(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const i=e.inboundNodes[n];if(i.inboundLayers.length===0)return i.inputTensors;{const s=[];for(let o=0;o<i.inboundLayers.length;o++){const r=i.inputTensors[o],a=i.inboundLayers[o],l=i.nodeIndices[o],c=yP(r,a,l);for(const u of c)s.indexOf(u)===-1&&s.push(u)}return s}}}function mxe(t){let e=!0;for(const n of Tt(t))if(!(n instanceof Ir)){e=!1;break}return e}function gxe(t){let e=!0;for(const n of Tt(t))if(n instanceof Ir){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dg extends ut{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:t1("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Q("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Q("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Q("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const i=e.dtype||"float32";this.batchInputShape=n,this.dtype=i,this.inputSpec=[{shape:n}];const s=new Ir(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new i1({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Q("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}dg.className="InputLayer";be(dg);function bxe(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Q("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new dg({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xxe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return _e(e,t.dtype)}catch(n){throw new Q("The dtype of the feed (".concat(e.dtype,") can not be cast to the dtype ")+"of the key '".concat(t.name,"' (").concat(t.dtype,")."))}}class Xa{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Xa)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,i){if(this.id2Value[e.id]==null)this.id2Value[e.id]=xxe(e,n),this.name2Id[e.name]=e.id,i!=null&&(this.id2Mask[e.id]=i);else throw new Q("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Ir){if(this.id2Value[e.id]==null)throw new Q("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Q("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[n]}}getMask(e){if(e instanceof Ir){if(this.id2Value[e.id]==null)throw new Q("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Q("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&at(this.id2Mask)}}const Y0=new nP,Z0=new nP;function yxe(t){Y0!=null&&Y0.setMaxEntries(t),Z0!=null&&Z0.setMaxEntries(t)}function pp(t,e,n,i){const s=n==null?!1:n.training,o=Array.isArray(t),r=o?t:[t],a=r.map(f=>f.name),l=[],c=e.names();for(const f of a)c.indexOf(f)!==-1?l.push(e.getValue(f)):l.push(null);const u=a.join(",")+"|"+e.names().sort().join(",");let d=Y0.get(u),h;if(d==null){const f=vxe(r,e);d=f.sorted,h=f.recipientCounts,Y0.put(u,d),Z0.put(u,h)}h={},s||Object.assign(h,Z0.get(u));const p=new Xa(e);for(let f=0;f<d.length;++f){const m=d[f],b=m.sourceLayer;if(b instanceof dg)continue;const g=[],x=[],y=[];let v=!1;for(const T of m.inputs){const _=p.getValue(T),z=p.getMask(T);g.push(_),x.push(z),z!=null&&(v=!0),s||(h[T.name]--,h[T.name]===0&&!e.hasKey(T)&&a.indexOf(T.name)===-1&&!_.isDisposed&&T.sourceLayer.stateful!==!0&&y.push(_))}v&&(n=n||{},n.mask=x[0]);const w=Tt(b.apply(g,n));let C=null;b.supportsMasking&&(C=b.computeMask(g,x));const k=kxe(m),E=Array.isArray(k)?k:[k];for(let T=0;T<E.length;++T){p.hasKey(E[T])||p.add(E[T],w[T],Array.isArray(C)?C[0]:C);const _=a.indexOf(E[T].name);_!==-1&&(l[_]=w[T])}s||at(y)}return p.disposeMasks(),o?l:l[0]}function vxe(t,e){R(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],i={};if(t.length===1){const s=aN(t[0],e);n=s.sorted,i=s.recipientMap}else{const s=new Set;for(const o of t){const{sorted:r,recipientMap:a}=aN(o,e);for(const l of r)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in a)i[l]==null&&(i[l]=new Set),a[l].forEach(c=>i[l].add(c))}}return{sorted:n,recipientCounts:wxe(i)}}function wxe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function aN(t,e){const n=new Set,i=[],s={};for(const a of e.names())n.add(a);const o=[],r=[];for(o.push(t);o.length>0;){const a=o[o.length-1];if(n.has(a.name)){o.pop();continue}const l=r[r.length-1]===o.length-1;if(a.inputs.length===0||l)o.pop(),i.push(a),n.add(a.name),l&&r.pop();else{r.push(o.length-1);for(const c of a.inputs)s[c.name]==null&&(s[c.name]=new Set),s[c.name].add(a.name),!n.has(c.name)&&o.push(c)}}return{sorted:i,recipientMap:s}}function kxe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let i=0;i<t.sourceLayer.inboundNodes.length;++i)for(const s of t.sourceLayer.inboundNodes[i].outputTensors)if(s.id===t.id){n=i;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sxe=re();Sxe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,yxe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function I$(t,e){return ie(()=>ci(Le(K(t,t),e,!0)))}class hg extends _h{getConfig(){return{}}}class vP extends hg{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>{const n=I$(e,this.axis),i=hs(n,0,this.maxValue);return K(e,Oe(i,fe(An(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}vP.className="MaxNorm";be(vP);class wP extends hg{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>Oe(e,fe(An(),I$(e,this.axis))))}getConfig(){return{axis:this.axis}}}wP.className="UnitNorm";be(wP);class kP extends hg{apply(e){return Dr(e)}}kP.className="NonNeg";be(kP);class SP extends hg{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>{const n=I$(e,this.axis),i=fe(K(this.rate,hs(n,this.minValue,this.maxValue)),K(1-this.rate,n));return K(e,Oe(i,fe(An(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}SP.className="MinMaxNorm";be(SP);const lN={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Rn(t){return g$(t)}function cN(t,e={}){return ag(t,no.getMap().classNameMap,e,"constraint")}function Ln(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in lN?lN[t]:t,config:{}};return cN(n)}else return t instanceof hg?t:cN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Zl(t){if(t==null)return;const e=[],n=[],i=[];for(const s in t){const o=t[s];if(typeof o!="number"){const r=o;e.push(r.data()),n.push(s),i.push(r)}}if(e.length>0){const s=await Promise.all(e);for(let o=0;o<s.length;++o)t[n[o]]=s[o][0];at(i)}}function CP(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var uN;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(uN||(uN={}));const Cxe=125;class yf{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class Exe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class Txe extends yf{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const i=n.size==null?0:n.size;this.seen+=i;for(const s in n){const o=n[s];if(typeof o=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+o*i;else{let r;s in this.totals?r=this.totals[s]:this.totals[s]=0;const a=ie(()=>fe(this.totals[s],K(o,i)));this.totals[s]=a,r!=null&&r.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const i of this.params.metrics)this.totals[i]!=null&&(typeof this.totals[i]=="number"?n[i]=this.totals[i]/this.seen:ie(()=>{const s=K(Oe(1,this.seen),this.totals[i]);n[i]=s,this.totals[i].dispose(),Vn(n[i])}))}}class Ixe extends yf{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const i in n)this.history[i]==null&&(this.history[i]=[]),this.history[i].push(n[i])}async syncData(){const e=[],n=[],i=[];for(const o in this.history){const r=this.history[o];for(let a=0;a<r.length;++a)if(typeof r[a]!="number"){const l=r[a];e.push(l.data()),n.push(o),i.push(a)}}const s=await Promise.all(e);for(let o=0;o<s.length;++o)this.history[n[o]][i[o]].dispose(),this.history[n[o]][i[o]]=s[o][0]}}class $xe extends yf{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||_F,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Cxe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");_2(this.yieldEvery)&&(this.maybeWait=j0e(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,i){const s=[];this.yield!=null&&(await Zl(i),s.push(this.yield(e,n,i))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Zl(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const i=[];this.epochEnd!=null&&(await Zl(n),i.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&i.push(this.nextFrameFunc()),await Promise.all(i)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Zl(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const i=[];this.batchEnd!=null&&(await Zl(n),i.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?i.push(this.nextFrameFunc()):_2(this.yieldEvery)&&i.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(i)}async onTrainBegin(e){this.trainBegin!=null&&(await Zl(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Zl(e),await this.trainEnd(e))}}function EP(t,e){return t==null&&(t={}),t instanceof yf?[t]:Array.isArray(t)&&t[0]instanceof yf?t:Tt(t).map(i=>new $xe(i,e))}class Ks{constructor(){}static registerCallbackConstructor(e,n){R(e>=0&&Number.isInteger(e),()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e)),Ks.checkForDuplicate(n),Ks.constructors[e]==null&&(Ks.constructors[e]=[]),Ks.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Ks.constructors)Ks.constructors[+n].forEach(s=>{if(s===e)throw new Q("Duplicate callback constructor.")})}static clear(){Ks.constructors={}}static createCallbacks(e){const n=[];for(const i in Ks.constructors){const s=+i;e>=s&&n.push(...Ks.constructors[s])}return n.map(i=>new i)}}Ks.constructors={};function TP(t,e,n,i,s,o,r,a,l){const c=new Ixe,u=[new Txe,...Ks.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const d=new Exe(u);return d.setParams({epochs:n,initialEpoch:i,samples:s,steps:o,batchSize:r,verbose:e,doValidation:a,metrics:l}),{callbackList:d,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function aa(t,e={},n=!1){return ag(t,no.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function J0(t,e){return ie(()=>{t.dtype!=="float32"&&(t=_e(t,"float32"));const n=Le(cg(t),e,!0),i=Eh(n.shape,An()),s=ci(va(n,i));return Oe(t,s)})}function s1(t,e){return ie(()=>an(cg(Ne(e,t)),-1))}function $$(t,e){return ie(()=>an(In(Ne(e,t)),-1))}function _$(t,e){return ie(()=>{const n=Ne(t,e),i=hs(In(t),An(),Number.MAX_VALUE),s=In(Oe(n,i));return K(100,an(s,-1))})}function _xe(t,e){return ie(()=>{const n=hs(e,An(),Number.MAX_VALUE),i=zs(fe(1,n)),s=hs(t,An(),Number.MAX_VALUE),o=zs(fe(1,s));return an(cg(Ne(i,o)),-1)})}function Axe(t,e){return ie(()=>{const n=va(0,Ne(1,K(t,e)));return an(cg(n),-1)})}function Nxe(t,e){return ie(()=>{const n=va(0,Ne(1,K(t,e)));return an(n,-1)})}function Dxe(t,e){return ie(()=>{const n=Le(K(t,e),-1),i=go(K(Ne(1,t),e),-1);return va(0,fe(1,Ne(i,n)))})}function Oxe(t,e){return ie(()=>{const n=Math.log(2),i=Ne(e,t),s=Ne(fe(i,Th(K(-2,i))),n);return an(s,-1)})}function vf(t,e,n=!1){return ie(()=>{if(n)e=Hv(e);else{const i=Le(e,e.shape.length-1,!0);e=Oe(e,i)}return e=hs(e,An(),1-An()),qt(Le(K(_e(t,"float32"),zs(e)),e.shape.length-1))})}function Q0(t,e,n=!1){return ie(()=>{const i=_e(ng(Q0e(t)),"int32");e=hs(e,An(),1-An());const s=e.shape,o=Y(hI(i,s[s.length-1]),s);return vf(o,e,n)})}function Rxe(t,e){if(!gt(t.shape,e.shape))throw new Q("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(t.shape)," and ").concat(JSON.stringify(e.shape)));return ie(()=>{const n=Dr(e),i=qt(In(e));return fe(Ne(n,K(e,t)),Rv(ps(i)))})}function o1(t,e){return ie(()=>{let n;return n=hs(e,An(),1-An()),n=zs(Oe(n,Ne(1,n))),an(Rxe(t,n),-1)})}function Lxe(t,e){return ie(()=>{const n=hs(t,An(),1),i=hs(e,An(),1);return Le(K(t,zs(Oe(n,i))),-1)})}function zxe(t,e){return ie(()=>{const n=zs(fe(An(),e));return an(Ne(e,K(t,n)),-1)})}function IP(t,e){return ie(()=>{const n=J0(t,-1),i=J0(e,-1),s=K(n,i);return qt(Le(s,-1))})}const ex={meanSquaredError:s1,meanAbsoluteError:$$,meanAbsolutePercentageError:_$,meanSquaredLogarithmicError:_xe,squaredHinge:Axe,hinge:Nxe,categoricalHinge:Dxe,logcosh:Oxe,categoricalCrossentropy:vf,sparseCategoricalCrossentropy:Q0,binaryCrossentropy:o1,kullbackLeiblerDivergence:Lxe,poisson:zxe,cosineProximity:IP};function Bw(t){if(typeof t=="string"){if(t in ex)return ex[t];let e="Unknown loss ".concat(t);throw t.toLowerCase().includes("softmaxcrossentropy")&&(e="Unknown loss ".concat(t,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Q(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $P(t,e){return ie(()=>{const n=K(.5,Fs(e)),i=kr(vs(e,n),t.dtype);return an(Xo(t,i),-1)})}function _P(t,e){return ie(()=>kr(Xo(Xd(t,-1),Xd(e,-1)),"float32"))}function Fxe(t,e){return ie(()=>_e(Le(Tr(Xo(t,1),Xo(e,1))),"float32"))}function Pxe(t,e){return ie(()=>_e(Le(Tr(Xo(t,0),Xo(e,1))),"float32"))}function Bxe(t,e){return ie(()=>{const n=Fxe(t,e),i=Pxe(t,e),s=fe(n,i);return _e(ki(vs(s,0),Oe(n,s),0),"float32")})}function Mxe(t,e){return o1(t,e)}function jxe(t,e){return t.rank===e.rank&&(t=Go(t,[t.rank-1])),e=Xd(e,-1),e.dtype!==t.dtype&&(e=_e(e,t.dtype)),_e(Xo(t,e),"float32")}const Uxe=s1,Vxe=s1,Hxe=$$,Wxe=$$,Gxe=_$,qxe=_$,AP=vf,Kxe=IP,NP=Q0,tx={binaryAccuracy:$P,categoricalAccuracy:_P,precision:Bxe,categoricalCrossentropy:AP,sparseCategoricalCrossentropy:NP,mse:Uxe,MSE:Vxe,mae:Hxe,MAE:Wxe,mape:Gxe,MAPE:qxe,cosine:Kxe};function Xxe(t){if(typeof t=="string"&&t in tx)return tx[t];if(typeof t!="string"&&t!=null)return t;throw new Q("Unknown metric ".concat(t))}function rb(t){if(ur(t!==null,"Unknown LossOrMetricFn ".concat(t)),typeof t=="string")return t;{let e;for(const n of Object.keys(ex))if(ex[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(tx))if(tx[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Yxe(t){const e={Adagrad:()=>Lu.adagrad(.01),Adadelta:()=>Lu.adadelta(1,.95,An()),Adam:()=>Lu.adam(.001,.9,.999,An()),Adamax:()=>Lu.adamax(.002,.9,.999,An(),0),RMSProp:()=>Lu.rmsprop(.001,.9,0,An()),SGD:()=>Lu.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Q("Unknown Optimizer ".concat(t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const dN=1*1024*1024;function hN(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!oS(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const i=JSON.stringify(t);i.length>dN&&console.warn('User-defined metadata of model "'.concat(e,'" is too large in ')+"size (length=".concat(i.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(dN,"."))}}function oS(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!oS(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!oS(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Zxe(t,e,n,i=console.log){const s=Qxe(t),o=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let r;if(!s){o.push("Receives inputs"),r=[];for(const u in t.nodesByDepth)r.push(...t.nodesByDepth[u])}i("_".repeat(e)),nx(o,n,i),i("=".repeat(e));const a=t.layers;for(let u=0;u<a.length;++u)s?eye(a[u],n,i):tye(a[u],n,r,i),i((u===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=Jxe(t),c=X0(t.nonTrainableWeights);i("Total params: ".concat(l+c)),i("Trainable params: ".concat(l)),i("Non-trainable params: ".concat(c)),i("_".repeat(e))}function Jxe(t){let e;return t.collectedTrainableWeights!=null?e=X0(t.collectedTrainableWeights):e=X0(t.trainableWeights),e}function Qxe(t){let e=!0;const n=[],i=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}i.push(...s)}if(e)for(const s of t.layers){let o=!1;for(const r of s.inboundNodes)if(i.indexOf(r)!==-1)if(o){e=!1;break}else o=!0;if(!e)break}return e}function nx(t,e,n=console.log){let i="";for(let s=0;s<t.length;++s)s>0&&(i=i.slice(0,i.length-1)+" "),i+=t[s],i=i.slice(0,e[s]),i+=" ".repeat(e[s]-i.length);n(i)}function eye(t,e,n){let i,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch(l){s="multiple"}try{i=JSON.stringify(t.outputShape)}catch(l){i="multiple"}const o=t.name,r=t.getClassName(),a=["".concat(o," (").concat(r,")"),s,i,t.countParams().toString()];nx(a,e,n)}function tye(t,e,n,i){let s,o;try{o=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch(d){o="multiple"}try{s=JSON.stringify(t.outputShape)}catch(d){s="multiple"}const r=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const p=d.inboundLayers[h].name,f=d.nodeIndices[h],m=d.tensorIndices[h];r.push("".concat(p,"[").concat(f,"][").concat(m,"]"))}const a=t.name,l=t.getClassName(),c=r.length===0?"":r[0],u=["".concat(a," (").concat(l,")"),o,s,t.countParams().toString(),c];nx(u,e,i);for(let d=1;d<r.length;++d)nx(["","","","",r[d]],e,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function DP(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function rS(t,e){if(t===null)return null;if(typeof t=="string")return lc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let s=0;s<i;++s){const o=t[s];DP(e,s,o)?n.push(o):n.push(rS(o,e))}return n}else{const n={};for(const i of Object.keys(t)){const s=t[i];if(i==="name"&&typeof s=="string")n[i]=s;else{const o=lc(i);n[o]=rS(s,o)}}return n}}function aS(t,e){if(t==null)return null;if(typeof t=="string")return Ur(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let s=0;s<i;++s){const o=t[s];DP(e,s,o)?n.push(o):n.push(aS(o,e))}return n}else{const n={};for(const i of Object.keys(t)){const s=t[i],o=Ur(i);(i==="name"||i==="className")&&typeof s=="string"?n[o]=s:n[o]=aS(s,i)}return n}}/** @license See the LICENSE file. */const OP="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const nye=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class Do extends ut{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const x=this.getClassName().toLowerCase();this.name=t1(x)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],cl(this.inputs).length!==this.inputs.length)throw new Q("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map(x=>x.name)));cl(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map(x=>x.name))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const x of this.outputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;this.outputLayers.push(y),this.outputLayersNodeIndices.push(v),this.outputLayersTensorIndices.push(w)}for(const x of this.inputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;ur(v===0,"input layer has >1 nodes"),ur(w===0,"input layer has >1 tensors"),this.inputLayers.push(y),this.inputLayersNodeIndices.push(v),this.inputLayersTensorIndices.push(w)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let x=0;x<this.inputLayers.length;x++){const y=this.inputLayers[x];if(!(y instanceof dg))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(x," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));this.inputNames.push(y.name),this.feedInputShapes.push(y.batchInputShape),this.feedInputNames.push(y.name)}for(const x of this.outputLayers)this.outputNames.push(x.name);this.internalInputShapes=this.inputs.map(x=>x.shape),this.internalOutputShapes=this.outputs.map(x=>x.shape);const n={},i={},s={},o={},r={},a=[],l=(x,y,v,w,C,k)=>{(w==null||C==null||k==null)&&(w=x.sourceLayer,C=x.nodeIndex,k=x.tensorIndex);const E=w.inboundNodes[C];if(v.indexOf(E)!==-1)throw new ho("The tensor ".concat(x.name,' at layer "').concat(w.name,'" ')+"is part of a cycle.");if(y.indexOf(E)!==-1)return;this.containerNodes.add(Do.nodeKey(w,C)),w.id in r||(r[w.id]=Object.keys(r).length),v.indexOf(E)===-1&&v.push(E);const T=E.inboundLayers.length;for(let _=0;_<T;_++){const z=E.inputTensors[_],N=E.inboundLayers[_],O=E.nodeIndices[_],I=E.tensorIndices[_];l(z,y,v,N,O,I)}for(y.push(E);v.indexOf(E)>=0;)v.splice(v.indexOf(E),1);a.push(E)},c=[],u=[];for(const x of this.outputs)l(x,c,u);const d=a.slice().reverse();for(const x of d){i[x.id]=x,x.id in n||(n[x.id]=0);let y=n[x.id];const v=s[x.outboundLayer.id]==null?0:s[x.outboundLayer.id];y=Math.max(y,v),s[x.outboundLayer.id]=y,o[x.outboundLayer.id]=x.outboundLayer,n[x.id]=y;for(let w=0;w<x.inboundLayers.length;w++){const C=x.inboundLayers[w],k=x.nodeIndices[w],E=C.inboundNodes[k],T=n[E.id]==null?0:n[E.id];n[E.id]=Math.max(y+1,T),i[E.id]=E}}const h={};for(const x in n){const y=n[x];y in h||(h[y]=[]),h[y].push(i[x])}const p={};for(const x in s){const y=s[x];y in p||(p[y]=[]),p[y].push(o[x])}let f=Object.keys(p).map(x=>parseInt(x,10)).sort(ib);this.layers=[];for(const x of f){const y=p[x];y.sort((v,w)=>{const C=r[v.id],k=r[w.id];return C<k?-1:C>k?1:0});for(const v of y)v instanceof Do&&this.internalContainerRefs.push(v),this.layers.push(v)}this.layersByDepth=p,f=Object.keys(h).map(x=>parseInt(x,10)).sort(ib);const m=this.inputs.slice(),b=[];for(const x of f)for(const y of h[x]){const v=y.outboundLayer;if(v!=null){for(const w of y.inputTensors)if(m.indexOf(w)===-1)throw new ho("Graph disconnected: cannot obtain value for tensor ".concat(w)+' at layer "'.concat(v.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(b));for(const w of y.outputTensors)m.push(w);b.push(v.name)}}this.nodesByDepth=h;const g=this.layers.map(x=>x.name);for(const x of g){const y=g.filter(v=>v===x).length;if(y!==1)throw new ho('The name "'.concat(x,'" is used ').concat(y," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new i1({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(x=>null),outputMasks:this.outputs.map(x=>null),inputShapes:this.inputs.map(x=>x.shape),outputShapes:this.outputs.map(x=>x.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(i=>i.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Q("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.layers)n.push(...i.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const i={};let s=0;const o=nye(e);o&&this.parseWeights(e);for(const a of this.layers)for(const[l,c]of a.weights.entries()){const u=o?"".concat(c.name.split("/").slice(0,-1).join("/")+"/").concat(l):c.originalName;if(i[u]!=null)throw new Q("Duplicate weight name: ".concat(u));i[u]=c,s++}const r=[];for(const a in e){let l=a;if(i[a]==null){const c=a.split("/");l=c.slice(0,-2).concat([c[c.length-1]]).join("/")}if(i[l]!=null)r.push([i[l],e[a]]);else if(n)throw new Q("Provided weight data has no target variable: ".concat(a));delete i[l]}if(n){const a=[];for(const l in i)a.push(l);if(a.length>0)throw new Q("".concat(a.length," of ").concat(s," weights are not set: ")+"".concat(a))}T$(r)}parseWeights(e){for(const n in Object.keys(e)){const i=n.split("/"),s=["vars","layer_checkpoint_dependencies"],o=i.map(r=>r.startsWith("_")?r.slice(1):r).filter(r=>!s.includes(r)).join("/");o!==n&&(e[o]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion="tfjs-layers ".concat(OP),n.backend="TensorFlow.js",n}toJSON(e,n=!0){const i=aS(this.updatedConfig());return n?JSON.stringify(i):i}call(e,n){return ie(()=>{e=Tt(e);const i=new Xa;for(let s=0;s<this.inputs.length;++s)i.add(this.inputs[s],e[s]);return pp(this.outputs,i,n)})}computeMask(e,n){return ie(()=>{e=Tt(e);let i;return n==null?i=Qc(null,e.length):i=Tt(n),this.runInternalGraph(e,i)[1]})}computeOutputShape(e){const n=K0(e);if(n.length!==this.inputLayers.length)throw new Q("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const i={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],c=n[a],u=l.name+"_0_0";i[u]=c}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(ib);if(s.length>1)for(const a of s){const l=this.nodesByDepth[a];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const d=[];for(let m=0;m<c.inboundLayers.length;m++){const b=c.inboundLayers[m],g=c.nodeIndices[m],x=c.tensorIndices[m],y="".concat(b.name,"_").concat(g,"_").concat(x),v=i[y];d.push(v)}const h=u.computeOutputShape(Bi(d)),p=K0(h),f=u.inboundNodes.indexOf(c);for(let m=0;m<p.length;m++){const b="".concat(u.name,"_").concat(f,"_").concat(m);i[b]=p[m]}}}const o=[],r=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=this.outputLayersTensorIndices[a],d="".concat(l.name,"_").concat(c,"_").concat(u);r.push(d)}for(let a=0;a<r.length;a++){const l=r[a];ur(l in i),o.push(i[l])}return Bi(o)}runInternalGraph(e,n){n==null&&(n=Qc(null,e.length));const i={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],d=n[l];i[c.id]=[u,d]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(ib);for(const l of s){const c=this.nodesByDepth[l];for(const u of c){const d=u.outboundLayer,h=u.inputTensors,p=u.outputTensors,f=new Array;for(const m of h)m.id in i&&f.push(i[m.id]);if(f.length===h.length){let m={},b,g,x,y;if(u.callArgs!=null&&(m=u.callArgs),f.length===1){const[v,w]=f[0];m.mask==null&&(m.mask=w),x=Tt(d.call(v,m)),y=Tt(d.computeMask(v,w)),b=[v],g=[w]}else b=f.map(v=>v[0]),g=f.map(v=>v[1]),m.mask==null&&(m.mask=g),x=Tt(d.call(b,m)),y=Tt(d.computeMask(b,g));if(d.activityRegularizer)throw new et("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let v=0;v<p.length;++v){const w=p[v],C=x[v],k=y[v];i[w.id]=[C,k]}}}}const o=[],r=[],a=[];for(const l of this.outputs){ur(l.id in i,"Could not compute output ".concat(l.name," : ").concat(l.id));const[c,u]=i[l.id];a.push(c.shape),o.push(c),r.push(u)}return[o,r,a]}buildNodeConversionMap(e){const n={};let i;for(const s of this.layers){i=s instanceof Do?1:0;for(let o=0;o<s.inboundNodes.length;o++){const r=Do.nodeKey(s,o);this.containerNodes.has(r)&&(n[r]=i,i+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new Q("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const i of this.layers)if(i.name===e)return i;throw new Q("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new Q("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return ie(()=>{const e=[];for(const n of this.layers)for(let i=0;i<n.inboundNodes.length;++i){const s=Do.nodeKey(n,i);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),i=[];for(const r of this.layers){const a=r.getClassName(),l=r.getConfig(),c=[];for(let d=0;d<r.inboundNodes.length;d++){const h=r.inboundNodes[d],p=Do.nodeKey(r,d);let f={};if(this.containerNodes.has(p)){if(h.callArgs)try{JSON.stringify(h.callArgs),f=h.callArgs}catch(m){console.warn("Layer ".concat(r.name," was passed ")+"non-serializable keyword arguments: "+"".concat(h.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),f={}}if(h.inboundLayers.length>0){const m=[];for(let b=0;b<h.inboundLayers.length;b++){const g=h.inboundLayers[b],x=h.nodeIndices[b],y=h.tensorIndices[b],v=Do.nodeKey(g,x);let w=n[v];w==null&&(w=0),m.push([g.name,w,y,f])}c.push(m)}}}const u={};u.name=r.name,u.className=a,u.config=l,u.inboundNodes=c,i.push(u)}e.layers=i;const s=[];for(let r=0;r<this.inputLayers.length;r++){const a=this.inputLayers[r],l=this.inputLayersNodeIndices[r],c=Do.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.inputLayersTensorIndices[r];s.push([a.name,u,d])}e.inputLayers=s;const o=[];for(let r=0;r<this.outputLayers.length;r++){const a=this.outputLayers[r],l=this.outputLayersNodeIndices[r],c=Do.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.outputLayersTensorIndices[r];o.push([a.name,u,d])}return e.outputLayers=o,e}static fromConfig(e,n,i={},s=!1){const o={},r={};function a(b,g){b.name in r?r[b.name].push(g):r[b.name]=[g]}function l(b,g){const x=[];let y;for(const v of g){const w=v[0],C=v[1],k=v[2];if(y=v[3]==null?{}:v[3],!(w in o)){a(b,g);return}const E=o[w];if(E.inboundNodes.length<=C){a(b,g);return}const T=E.inboundNodes[C];x.push(T.outputTensors[k])}x.length>0&&b.apply(Bi(x),y)}function c(b){const g=b.name,x=aa(b,n.customObjects!=null?n.customObjects:{});x.setFastWeightInitDuringBuild(s),o[g]=x,b.inboundNodes.forEach(v=>{if(!(v instanceof Array))throw new Q("Corrupted configuration, expected array for nodeData: ".concat(v));a(x,v)})}const u=n.name,d=n.layers;for(const b of d)c(b);for(;!M0e(r);)for(const b of d){const g=o[b.name];if(g.name in r){const x=r[g.name];delete r[g.name];for(const y of x)l(g,y)}}const h=[],p=[],f=n.inputLayers;for(const b of f){const g=b[0],x=b[1],y=b[2];ur(g in o);const w=o[g].inboundNodes[x].outputTensors;h.push(w[y])}const m=n.outputLayers;for(const b of m){const g=b[0],x=b[1],y=b[2];ur(g in o);const w=o[g].inboundNodes[x].outputTensors;p.push(w[y])}return new e({inputs:h,outputs:p,name:u})}get stateful(){if(this._stateful)throw new Q("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){ie(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function iye(t,e,n){const i=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(i===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==i)throw new Error("Provided ".concat(n," is an array of ").concat(t.length," ")+"element(s), but the model has ".concat(i," outputs. ")+"Make sure a set of weights is provided for each model output.");return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(o=>{o in t?s.push(t[o]):s.push(null)}),s}else throw new Error("The model has multiple (".concat(i,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(i," elements or an object with ").concat(e," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(t)))}function RP(t,e){return iye(t,e,"classWeight")}async function LP(t,e,n,i){if(n!=null){const s=ie(()=>{if(t.shape.length===1)return ra(t);if(t.shape.length===2){if(t.shape[1]>1)return Xd(t,1);if(t.shape[1]===1)return Y(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}else throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")}),o=Array.from(await s.data());at(s);const r=[];return o.forEach(a=>{if(n[a]==null)throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(a," exists in the data but not in ")+"classWeight");r.push(n[a])}),Hn(r,"float32")}else return null}function sye(t,e){return K(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const oye=32;function zP(t,e){let n,i;const s=e;n=s.xs,i=s.ys,R(n!=null&&i!=null,()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(e));const o=pN("input",t.inputNames,n),r=pN("output",t.outputNames,i),a=o[0].shape[0];R(o.length===t.inputs.length,()=>"LayersModel has ".concat(t.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(t.inputNames),")")),R(r.length===t.outputs.length,()=>"LayersModel has ".concat(t.outputs.length," outputs, but the dataset ")+"provides ".concat(r.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(t.outputNames),")"));for(let l=0;l<o.length;l++)R(o[l].shape[0]===a,()=>"Batch size mismatch: input "+"".concat(t.inputNames[l]," has ").concat(o[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));for(let l=0;l<r.length;l++)R(r[l].shape[0]===a,()=>"Batch size mismatch: output "+"".concat(t.outputNames[l]," has ").concat(r[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));return{xs:o,ys:r}}function pN(t,e,n){if(n instanceof It)return[n];if(Array.isArray(n))return R(n.length===e.length,()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(e.length," to match the ").concat(t," keys ").concat(e,".")),n;{const i=[];for(const s of e){if(n[s]==null)throw new Q("The feature data generated by the dataset lacks the required "+"".concat(t," key '").concat(s,"'."));i.push(n[s])}return i}}function rye(t){if(t.length===3)throw new et("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function aye(t,e,n){const i=n.batchesPerEpoch!=null;if(R(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),R(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),R(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs)),R(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch)),R(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let o,r;if(s)if(fN(n.validationData))R(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches));else{const b=rye(n.validationData);o=b.xs,r=b.ys}const a=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;s?c=l.slice().concat(l.map(b=>"val_"+b)):c=l.slice();const u=EP(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:p}=TP(u,d,n.epochs,null,null,lye(e,n),null,s,c);h.setModel(t),t.history=p,await h.onTrainBegin(),t.stopTraining_=!1;let f=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;f<n.epochs;){const b={};await h.onEpochBegin(f);let g=0,x=0;for(i||(m=await e.iterator());!i||g<n.batchesPerEpoch;){const y=await m.next();if(i&&y.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(g," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(y.value!=null){const{xs:v,ys:w}=zP(t,y.value),C={};C.batch=x,C.size=v[0].shape[0],await h.onBatchBegin(x,C);const k=[];if(n.classWeight!=null){const _=RP(n.classWeight,t.outputNames);for(let z=0;z<_.length;++z)k.push(await LP(w[z],null,_[z]))}const E=v.concat(w).concat(k),T=a(E);at(E);for(let _=0;_<l.length;++_){const z=l[_],N=T[_];C[z]=N,Vn(N)}await h.onBatchEnd(x,C),CP(C),x++,g++}if(i?g>=n.batchesPerEpoch:y.done){if(s){let v;fN(n.validationData)?v=Tt(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):v=Tt(t.evaluate(o,r,{batchSize:n.validationBatchSize==null?oye:n.validationBatchSize,verbose:0}));for(let w=0;w<t.metricsNames.length;++w)b["val_".concat(t.metricsNames[w])]=v[w]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(f,b),f++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function lye(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function fN(t){return typeof t.iterator=="function"}function cye(t){return typeof t.next=="function"}async function uye(t,e,n){n=n||{};const i=n.batches!=null,s=t.testFunction;let o=[];if(n.verbose>0)throw new et("Verbose mode is not implemented yet.");R(!i||n.batches>0&&Number.isInteger(n.batches),()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches)));const r=cye(e)?e:await e.iterator();let a=0,l=0;for(;!i||l<n.batches;){const c=await r.next();if(o=ie(()=>{if(c.value){const{xs:u,ys:d}=zP(t,c.value),h=u.concat(d),p=ie(()=>s(h));if(at(h),l===0)for(let m=0;m<p.length;++m)o.push(We(0));const f=h[0].shape[0];for(let m=0;m<p.length;++m){const b=p[m],g=o[m];o[m]=ie(()=>fe(o[m],K(f,b))),l>0&&at(g)}at(p),a+=f,++l}return o}),c.done){i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let c=0;c<o.length;++c){const u=o[c];o[c]=Oe(o[c],a),at(u)}return Bi(o)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Mw(t){R(t>0&&Number.isInteger(t),()=>"batchSize is required to be a positive integer, but got ".concat(t))}function tp(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(i=>Ac(i,e,n-e)):Ac(t,e,n-e)}function lS(t,e){return ie(()=>t==null?null:Array.isArray(t)?t.map(n=>lS(n,e)):uP(t,e.dtype==="int32"?e:_e(e,"int32")))}function jw(t,e){const n=[];let i=0,s=null;for(;i<t;)s=i+e,s>=t&&(s=t),n.push([i,s]),i=s;return n}function FP(t){const e=[];t instanceof It&&(t=[t]);for(let n=0;n<t.length;++n){const i=t[n];if(i.rank===1)e.push(lg(i,1));else{if(i.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(i)}}return e}function No(t,e){if(t==null)return;const n=[];if(e instanceof It)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const o=e[s];n.push(o.id)}const i=[];if(t instanceof It)n.indexOf(t.id)===-1&&i.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&i.push(s)});else if(t!=null)for(const s in t){const o=t[s];n.indexOf(o.id)===-1&&i.push(o)}i.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dye(t){return t instanceof It}function cS(t){return Array.isArray(t)}function mN(t){return!dye(t)&&!cS(t)}function gN(t,e,n,i=!0,s=""){if(e==null||e.length===0){if(t!=null){let r=!1;if(cS(t)&&t.length>0)r=!0;else if(mN(t)){for(const a in t)if(t.hasOwnProperty(a)){r=!0;break}}else r=!0;if(r)throw new Q("Error when checking model ".concat(s," expected no data, ")+"but got ".concat(t))}return[]}if(t==null)return e.map(r=>null);let o;if(mN(t)){t=t,o=[];for(const r of e){if(t[r]==null)throw new Q('No data provided for "'.concat(r,'". Need data for each key in: ')+"".concat(e));o.push(t[r])}}else if(cS(t)){if(t=t,t.length!==e.length)throw new Q("Error when checking model ".concat(s,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(e.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(t));o=t}else{if(t=t,e.length>1)throw new Q("The model ".concat(s," expects ").concat(e.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(t.shape));o=[t]}if(o=FP(o),n!=null)for(let r=0;r<e.length;++r){if(n[r]==null)continue;const a=o[r];if(a.shape.length!==n[r].length)throw new Q("Error when checking ".concat(s,": expected ").concat(e[r]," ")+"to have ".concat(n[r].length," dimension(s). but got array with ")+"shape ".concat(a.shape));for(let l=0;l<n[r].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[r][l];if(u!=null&&u>=0&&c!==u)throw new Q("".concat(s," expected a batch of elements where each ")+"example has shape [".concat(n[r].slice(1,n[r].length),"] ")+"(i.e.,tensor shape [*,".concat(n[r].slice(1,n[r].length),"])")+" but the ".concat(s," received an input with ").concat(a.shape[0])+" examples, each with shape [".concat(a.shape.slice(1,a.shape.length),"]")+" (tensor shape [".concat(a.shape,"])"))}}return o}function hye(t,e,n){const i=cl(t.map(o=>o.shape[0]));i.sort();const s=cl(e.map(o=>o.shape[0]));if(s.sort(),i.length>1)throw new Q("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map(o=>o.shape))));if(s.length>1)throw new Q("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map(o=>o.shape))));if(i.length>0&&s.length>0&&!gt(i,s))throw new Q("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(i[0]," input sample(s) and ").concat(s[0]," target ")+"sample(s).")}function pye(t,e,n){const i=[s1,o1,vf];for(let s=0;s<t.length;++s){const o=t[s],r=e[s],a=n[s];if(r!=null){if(r===vf&&o.shape[o.shape.length-1]===1)throw new Q("You are passing a target array of shape ".concat(o.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(i.indexOf(r)!==-1){const l=o.shape.slice(1),c=a.slice(1);for(let u=0;u<l.length;++u){const d=l[u],h=c[u];if(h!=null&&d!==h)throw new Q("A target Tensor with shape ".concat(o.shape," was passed for an ")+"output of shape ".concat(a,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}function bN(t,e,n,i=!0,s=""){let o;if(Array.isArray(t)){if(t.length!==e.length)throw new Q("Error when checking model ".concat(s,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(e.length," Tensor(s),")+" but instead got ".concat(t.length," Tensors(s)."));o=t}else{if(e.length>1)throw new Q("The model expects ".concat(e.length," ").concat(s," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(t.shape),"."));o=[t]}if(n!=null)for(let r=0;r<e.length;++r){if(n[r]==null)continue;const a=o[r];if(a.shape.length!==n[r].length)throw new Q("Error when checking ".concat(s,": expected ").concat(e[r]," ")+"to have ".concat(n[r].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(a.shape)));for(let l=0;l<n[r].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[r][l];if(u!=null&&u!==c)throw new Q("Error when checking ".concat(s,": expected ")+"".concat(e[r]," to have shape ").concat(JSON.stringify(n[r])," but ")+"got array with shape ".concat(JSON.stringify(a.shape),"."))}}}function fye(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(i=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(t));if(Array.isArray(n))return e.map(i=>n);{const i=[];for(const s of e){let o=n.hasOwnProperty(s)?n[s]:[];Array.isArray(o)||(o=[o]),i.push(o)}return i}}const mye="layers-model";class _d extends Do{constructor(e){super(e),this.isTraining=!1}summary(e,n,i=console.log){if(!this.built)throw new Q("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Zxe(this,e,n,i)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=Yxe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ml))throw new Q("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const r in e.loss)if(this.outputNames.indexOf(r)===-1)throw new Q('Unknown entry in loss dictionary: "'.concat(r,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const r of this.outputNames)e.loss[r]==null&&console.warn('Output "'.concat(r,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(r," during training")),n.push(Bw(e.loss[r]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Q("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));n=e.loss.map(a=>Bw(a))}else{const r=Bw(e.loss);this.outputs.forEach(a=>{n.push(r)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let r=0;r<this.outputs.length;++r){const a=this.internalOutputShapes[r],l=this.outputNames[r];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[r])}const i=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],_c("loss",()=>{for(let r=0;r<this.outputs.length;++r){if(i.indexOf(r)!==-1)continue;const a=this.lossFunctions[r];this.outputs.length>1&&(this.metricsTensors.push([a,r]),this.metricsNames.push(this.outputNames[r]+"_loss"))}});const s=fye(e.metrics,this.outputNames),o=(r,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[r]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,r])};_c("metric",()=>{for(let r=0;r<this.outputs.length;++r){if(i.indexOf(r)!==-1)continue;const a=s[r];(c=>{const u="";let d,h,p;for(const f of c){if(typeof f=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(f)!==-1){const b=this.internalOutputShapes[r];b[b.length-1]===1||this.lossFunctions[r]===o1?["accuracy","acc"].indexOf(f)!==-1?h=$P:["crossentropy","ce"].indexOf(f)!==-1&&(h=Mxe):this.lossFunctions[r]===Q0?["accuracy","acc"].indexOf(f)!==-1?h=jxe:["crossentropy","ce"].indexOf(f)!==-1&&(h=NP):["accuracy","acc"].indexOf(f)!==-1?h=_P:["crossentropy","ce"].indexOf(f)!==-1&&(h=AP);let g;["accuracy","acc"].indexOf(f)!==-1?g="acc":["crossentropy","ce"].indexOf(f)!==-1&&(g="ce"),p=h,d=u+g}else p=Xxe(f),d=u+rb(f);let m;_c(d,()=>{m=p}),o(r,d,m)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,i={}){const s=i.batchSize==null?32:i.batchSize;Mw(s);const r=this.standardizeUserDataXY(e,n,!0,s);try{const a=r[0].concat(r[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,a,s,i.verbose,i.steps);return Bi(c)}finally{No(r[0],e),No(r[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),uye(this,e,n)}checkNumSamples(e,n,i,s="steps"){let o;if(i!=null){if(o=null,n!=null)throw new Q("If ".concat(s," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(n))}else if(e!=null)Array.isArray(e)?o=e[0].shape[0]:o=e.shape[0];else throw new Q("Either the input data should have a defined shape, or "+"".concat(s," shoud be specified."));return o}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Q("`outputs` is an empty Array, which is not allowed.");const i=Array.isArray(n),s=i?n:[n],o=this.retrieveSymbolicTensors(s),r=new Xa;if(e instanceof It&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Q("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let l=0;l<this.inputs.length;++l)r.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new Q("No value is provided for the model's input ".concat(l.name));r.add(l,c)}const a=pp(o,r);return i?a:a[0]}retrieveSymbolicTensors(e){const n=Qc(null,e.length);let i=e.length;for(const s of this.layers){const o=Array.isArray(s.output)?s.output:[s.output],r=o.map(a=>a.name);for(let a=0;a<e.length;++a){const l=r.indexOf(e[a]);if(l!==-1&&(n[a]=o[l],i--),i===0)break}if(i===0)break}if(i>0){const s=[];throw n.forEach((o,r)=>{o==null&&s.push(e[r])}),new Q("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(s)))}return n}predictLoop(e,n=32,i=!1){return ie(()=>{const s=this.checkNumSamples(e);if(i)throw new et("Verbose predictLoop() is not implemented yet.");const o=jw(s,n),r=this.outputs.map(a=>[]);for(let a=0;a<o.length;++a)ie(()=>{const c=o[a][0],u=o[a][1],d=tp(e,c,u),h=[];if(Array.isArray(d))for(let f=0;f<d.length;++f)h.push({key:this.inputs[f],value:d[f]});else h.push({key:this.inputs[0],value:d});const p=new Xa(h);return pp(this.outputs,p)}).forEach((c,u)=>r[u].push(c));return Bi(r.map(a=>dn(a,0)))})}predict(e,n={}){const i=FP(e);bN(i,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return Mw(s),this.predictLoop(i,s)}finally{No(i,e)}}predictOnBatch(e){bN(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,i=!0,s){if(this.optimizer_==null)throw new ho("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let r=0;r<this.feedOutputShapes.length;++r){const a=this.feedOutputShapes[r];this.feedLossFns[r]===Q0?o.push(a.slice(0,a.length-1).concat([1])):o.push(a)}if(e=gN(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=gN(n,this.feedOutputNames,o,!1,"target"),hye(e,n),pye(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new Q("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(s,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,n]}async standardizeUserData(e,n,i,s,o=!0,r){const[a,l]=this.standardizeUserDataXY(e,n,o,r);if(i!=null)throw new Error("sample weight is not supported yet.");let c=null;if(s!=null){const u=RP(s,this.outputNames);c=[];for(let d=0;d<u.length;++d)c.push(await LP(l[d],null,u[d]))}return[a,l,c]}testLoop(e,n,i,s=0,o){return ie(()=>{const r=this.checkNumSamples(n,i,o,"steps"),a=[];if(s>0)throw new et("Verbose mode is not implemented yet.");if(o!=null)throw new et("steps mode in testLoop() is not implemented yet");{const l=jw(r,i),c=Hn(Yo(0,r));for(let u=0;u<l.length;++u){const d=l[u][0],h=l[u][1],p=Ac(c,d,h-d),f=lS(n,p),m=e(f);if(u===0)for(let b=0;b<m.length;++b)a.push(We(0));for(let b=0;b<m.length;++b){const g=m[b];a[b]=fe(a[b],K(h-d,g))}}for(let u=0;u<a.length;++u)a[u]=Oe(a[u],r)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let i=0;i<e.length;++i){const s=e[i];let o=s;if(tN(e,s)>1){const r=tN(e.slice(0,i),s);o+="_".concat(r)}n.push(o)}return n}makeTrainFunction(){return e=>{const n=[],i=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),r=[],a=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:i[m]});const h=new Xa(d),p=pp(this.outputs,h,{training:!0});let f;for(let m=0;m<this.lossFunctions.length;++m){const b=this.lossFunctions[m];let g=b(s[m],p[m]);o[m]!=null&&(g=sye(g,o[m]));const x=an(g);n.push(x),m===0?f=g:f=fe(f,g)}for(let m=0;m<this.metricsTensors.length;++m){let b;if(this.outputs.length>1&&m<this.outputs.length)b=n[m];else{const g=this.metricsTensors[m][0],x=this.metricsTensors[m][1];b=an(g(s[x],p[x]))}Vn(b),r.push(b)}return f=an(f),this.calculateLosses().forEach(m=>{f=fe(f,m)}),f},l=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(a,!0,l)].concat(r)}}makeTestFunction(){this.testFunction=e=>ie(()=>{const n=[];let i;const s=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=[];for(let c=0;c<this.inputs.length;++c)r.push({key:this.inputs[c],value:s[c]});const a=new Xa(r),l=pp(this.outputs,a);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],d=an(u(o[c],l[c]));c===0?i=d:i=fe(i,d),n.push(i)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],d=this.metricsTensors[c][1],h=an(u(o[d],l[d]));n.push(h)}return n})}async fit(e,n,i={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,o,r,a,l,c,u,d,h;try{const p=i.batchSize==null?32:i.batchSize;Mw(p);const m=await this.standardizeUserData(e,n,i.sampleWeight,i.classWeight,!1,p);s=m[0],o=m[1],h=m[2];let b=!1,g;if(i.validationData!=null&&i.validationData.length>0){if(b=!0,i.validationData.length===2)l=i.validationData[0],c=i.validationData[1];else throw i.validationData.length===3?new et("validationData including sample weights is not supported yet."):new Q("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(i.validationData," is invalid."));const _=await this.standardizeUserData(l,c,null,null,!0,p);u=_[0],d=_[1],g=u.concat(d)}else if(i.validationSplit!=null&&i.validationSplit>0&&i.validationSplit<1){b=!0;const T=Math.floor(s[0].shape[0]*(1-i.validationSplit)),_=s[0].shape[0];u=tp(s,T,_),r=s,s=tp(s,0,T),d=tp(o,T,_),a=o,o=tp(o,0,T),g=u.concat(d)}else i.validationSteps!=null&&(b=!0);const x=s.concat(o).concat(h);this.checkTrainableWeightsConsistency();const y=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let w,C;b?(this.makeTestFunction(),w=this.testFunction,C=v.slice().concat(v.map(T=>"val_"+T))):(w=null,g=[],C=v.slice());const k=EP(i.callbacks,i.yieldEvery);return await this.fitLoop(y,x,v,p,i.epochs,i.verbose,k,w,g,i.shuffle,C,i.initialEpoch,null,null)}finally{this.isTraining=!1,No(s,e),No(o,n),No(r,e),No(a,n),No(u,l),No(d,c),h!=null&&at(h)}}async fitLoop(e,n,i,s,o,r,a,l,c,u,d,h,p,f){s==null&&(s=32),o==null&&(o=1),u==null&&(u=!0),h==null&&(h=0);let m=!1;if(l!=null&&c!=null&&(m=!0),f!=null&&(m=!0,p==null))throw new Q("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=this.checkNumSamples(n,s,p,"steps_per_epoch");let g;b!=null&&(g=Yo(0,b)),r==null&&(r=1);const{callbackList:x,history:y}=TP(a,r,o,h,b,p,s,m,d);x.setModel(this),this.history=y,await x.onTrainBegin(),this.stopTraining_=!1;for(let v=h;v<o;++v){await x.onEpochBegin(v);const w={};if(p!=null)throw new et("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new et("batch shuffling is not implemneted yet");u&&rle(g);const C=Hn(g),k=jw(b,s);for(let E=0;E<k.length;++E){const T={};if(await x.onBatchBegin(E,T),ie(()=>{const _=k[E][0],z=k[E][1],N=Ac(C,_,z-_);T.batch=E,T.size=z-_;const O=lS(n,N),I=e(O);for(let L=0;L<i.length;++L){const F=i[L],j=I[L];T[F]=j,Vn(j)}if(E===k.length-1&&m){const L=this.testLoop(l,c,s);for(let F=0;F<i.length;++F){const j=i[F],H=L[F];Vn(H),w["val_"+j]=H}}}),await x.onBatchEnd(E,T),CP(T),this.stopTraining_)break}C.dispose()}if(await x.onEpochEnd(v,w),this.stopTraining_)break}return await x.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return aye(this,e,n)}async trainOnBatch(e,n){const i=await this.standardizeUserData(e,n),s=i[0],o=i[1],a=this.makeTrainFunction()(s.concat(o)),l=[];for(const c of a){const u=await c.data();l.push(u[0])}return at(a),No(i[0],e),No(i[1],n),Bi(l)}getNamedWeights(e){const n=[],i=e!=null&&e.trainableOnly,s=i?this.trainableWeights:this.weights,o=this.getWeights(i);for(let r=0;r<s.length;++r)i&&!s[r].trainable||n.push({name:s[r].originalName,tensor:o[r]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=P4().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-P4().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=Ur(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>Ur(n))}else{const n=Object.keys(this.loss);e={};const i=this.loss;for(const s of n)if(typeof i[s]=="string")e[s]=Ur(i[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[Ur(rb(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>Ur(rb(e)));{const e={};for(const n in this.metrics)e[n]=Ur(rb(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=rS(e.optimizer_config),i=aa(n);let s;if(typeof e.loss=="string")s=lc(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(r=>lc(r));else if(e.loss!=null){s={};for(const r in e.loss)s[r]=lc(e.loss[r])}let o;if(Array.isArray(e.metrics))o=e.metrics.map(r=>lc(r));else if(e.metrics!=null){o={};for(const r in e.metrics)o[r]=lc(e.metrics[r])}this.compile({loss:s,metrics:o,optimizer:i})}async save(e,n){if(typeof e=="string"){const c=K8(e);if(c.length===0)throw new Q("Cannot find any save handlers for URL '".concat(e,"'"));if(c.length>1)throw new Q("Found more than one (".concat(c.length,") save handlers for ")+"URL '".concat(e,"'"));e=c[0]}if(e.save==null)throw new Q("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const i=await V2(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:mye,generatedBy:"TensorFlow.js tfjs-layers v".concat(OP),convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:d}=await V2(await this.optimizer.getWeights(),c);i.specs.push(...d),i.data=W8([i.data,u])}return this.userDefinedMetadata!=null&&(hN(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=i.data,a.weightSpecs=i.specs,e.save(a)}setUserDefinedMetadata(e){hN(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}_d.className="Model";be(_d);class PP extends _d{}PP.className="Functional";be(PP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class wf extends _d{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:t1("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(i=>i<0))throw new Q("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const n=e instanceof wf||e instanceof _d;let i;if(n){if(i=e,i.outputs.length!==1)throw new Q("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(i.inputs.length!==1)throw new Q("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Q("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=bxe({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=i.outputs,this.inputs=i.inputs;else{if(e.inboundNodes.length!==1)throw new Q("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(e.inboundNodes[0].outputTensors.length!==1)throw new Q("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=yP(this.outputs[0])}this.inboundNodes=[],new i1({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Qc(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(St(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new _d({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,i=console.log){this.built||this.build(),super.summary(e,n,i)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,i={}){if(!this.built)throw new ho("The model needs to be compiled before being used.");return this.model.evaluate(e,n,i)}async evaluateDataset(e,n){if(!this.built)throw new ho("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,i={}){if(!this.built)throw new ho("The model needs to be compiled before being used.");return this.model.fit(e,n,i)}async fitDataset(e,n){if(!this.built)throw new ho("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,i={},s=!1){let o,r={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Q("Legacy serialization format not supported yet.");o=n}else R(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=n.layers,delete n.layers,r=n;const a=new e(r);if(!(a instanceof wf))throw new et("Sequential.fromConfig called on non-Sequential input: ".concat(a));for(const l of o){const u=aa(l,void 0,s);s&&u.setFastWeightInitDuringBuild(!0),a.add(u)}return a}set stopTraining(e){if(this.model==null)throw new Q("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Q("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const i={};i.className=n.getClassName(),i.config=n.getConfig(),e.push(i)}return{name:this.name,layers:e}}}wf.className="Sequential";be(wf);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ei=class extends _h{getConfig(){return{}}};class BP extends Ei{apply(e,n=1){return txe(e,n)}}BP.className="elu";be(BP);class MP extends Ei{apply(e){return CI(e)}}MP.className="selu";be(MP);class jP extends Ei{apply(e){return Dr(e)}}jP.className="relu";be(jP);class UP extends Ei{apply(e){return ie(()=>Zc(6,Dr(e)))}}UP.className="relu6";be(UP);class VP extends Ei{apply(e){return e}}VP.className="linear";be(VP);class HP extends Ei{apply(e){return Wo(e)}}HP.className="sigmoid";be(HP);class WP extends Ei{apply(e){return ixe(e)}}WP.className="hardSigmoid";be(WP);class GP extends Ei{apply(e){return Th(e)}}GP.className="softplus";be(GP);class qP extends Ei{apply(e){return nxe(e)}}qP.className="softsign";be(qP);class KP extends Ei{apply(e){return Yc(e)}}KP.className="tanh";be(KP);let A$=class extends Ei{apply(e,n=-1){return Hv(e,n)}};A$.className="softmax";be(A$);class XP extends Ei{apply(e,n=-1){return cI(e,n)}}XP.className="logSoftmax";be(XP);class YP extends Ei{apply(e){return ie(()=>ie(()=>{const n=Math.sqrt(2),i=K(.5,fe(1,rI(Oe(e,n))));return K(e,i)}))}}YP.className="gelu";be(YP);class ZP extends Ei{apply(e){return ie(()=>K(.5,K(e,fe(1,Yc(K(ci(Oe(2,Math.PI)),fe(e,K(.044715,ha(e,3)))))))))}}ZP.className="gelu_new";be(ZP);class JP extends Ei{apply(e){return ie(()=>K(e,Yc(Th(e))))}}JP.className="mish";be(JP);class QP extends Ei{apply(e,n=1){return ie(()=>K(Wo(K(e,n)),e))}}QP.className="swish";be(QP);function kl(t){return t.getClassName()}function Uw(t,e={}){return ag(t,no.getMap().classNameMap,e,"activation")}function Sl(t){if(t==null){const e={};return e.className="linear",e.config={},Uw(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},Uw(e)}else return t instanceof Ei?t:Uw(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gye(t){if(t!=null&&typeof t!="object")throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(t))}class eB extends _h{}class tB extends eB{constructor(e){super(),gye(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return ie(()=>{let n=$n([1]);return this.hasL1&&(n=fe(n,Le(K(this.l1,In(e))))),this.hasL2&&(n=fe(n,Le(K(this.l2,cg(e))))),Y(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}tB.className="L1L2";be(tB);const xN={l1l2:"L1L2"};function Lt(t){return g$(t)}function yN(t,e={}){return ag(t,no.getMap().classNameMap,e,"regularizer")}function Yt(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in xN?xN[t]:t,config:{}};return yN(n)}else return t instanceof eB?t:yN(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nB extends ut{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=Xe(e);let i=Dr(e);return this.maxValue!=null&&(i=hs(i,0,this.maxValue)),i}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}nB.className="ReLU";be(nB);class iB extends ut{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=Xe(e);return Ov(i,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}iB.className="LeakyReLU";be(iB);class sB extends ut{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Kt(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Yt(e.alphaRegularizer),this.alphaConstraint=Ln(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Q("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes))}build(e){e=St(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const i={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)i[s]=e[s];this.inputSpec=[new Nn({ndim:e.length,axes:i})],this.built=!0}call(e,n){return e=Xe(e),Mv(e,this.alpha.read())}getConfig(){const e={alphaInitializer:tn(this.alphaInitializer),alphaRegularizer:Lt(this.alphaRegularizer),alphaConstraint:Rn(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}sB.className="PReLU";be(sB);let oB=class extends ut{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new et("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=Xe(e);return eg(i)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};oB.className="ELU";be(oB);class rB extends ut{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const i=Xe(e);return K(i,_e(vs(i,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}rB.className="ThresholdedReLU";be(rB);class aB extends ut{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new A$().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return ie(()=>{let i=Xe(e);const s=n.mask;if(s!=null){const o=K(Ne(rs(i.shape),_e(s,i.dtype)),We(-1e9));i=fe(i,o)}return this.axis instanceof Array?this.axis.length>1?ps(Ne(i,Lv(i,this.axis,!0))):this.softmax(i,this.axis[0]):this.softmax(i,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}aB.className="Softmax";be(aB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ad(t,e,n){if(typeof t=="number")return Qc(t,e);if(t.length!==e)throw new Q("The ".concat(n," argument must be an integer or tuple of ").concat(e," integers.")+" Received: ".concat(t.length," elements."));for(let i=0;i<e;++i){const s=t[i];if(!Z0e(s))throw new Q("The ".concat(n," argument must be an integer or tuple of ").concat(e)+" integers. Received: ".concat(JSON.stringify(t)," including a")+" non-integer number ".concat(s))}return t}function qo(t,e,n,i,s=1){if(t==null)return t;const o=e+(e-1)*(s-1);let r;return n==="same"?r=t:r=t-o+1,Math.floor((r+i-1)/i)}function dr(t,e,n,i){if(t==null)return null;if(i==="valid")t=t*e+wl([n-e,0]);else if(i==="same")t=t*e;else throw new Q("Unsupport padding mode: ".concat(i,"."));return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function N$(t,e){return ie(()=>(yn(e),e==="channelsFirst"?xt(t,[0,2,3,1]):t))}function lB(t,e){return ie(()=>(yn(e),e==="channelsFirst"?xt(t,[0,2,3,4,1]):t))}function bye(t,e,n,i=1,s="valid",o,r=1){return ie(()=>{if(o==null&&(o=Zo()),yn(o),t.shape.length!==3)throw new Q("The input of a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead."));if(e.shape.length!==3)throw new Q("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead"));if(n!=null&&n.shape.length!==1)throw new Q("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if(o==="channelsFirst"&&(t=xt(t,[0,2,1])),s==="causal")throw new et("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=tI(t,e,i,s==="same"?"same":"valid","NWC",r);return n!=null&&(a=sr(a,n)),a})}function vN(t,e,n,i=[1,1],s="valid",o,r,a=null){return ie(()=>{if(o==null&&(o=Zo()),yn(o),t.rank!==3&&t.rank!==4)throw new Q("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));if(e.rank!==3&&e.rank!==4)throw new Q("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));let l=N$(t,o);if(s==="causal")throw new et("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=tF({x:l,filter:e,strides:i,pad:s==="same"?"same":"valid",dilations:r,dataFormat:"NHWC",bias:n,activation:a}),o==="channelsFirst"&&(l=xt(l,[0,3,1,2])),l})}function xye(t,e,n,i=[1,1,1],s="valid",o,r){return ie(()=>{if(o==null&&(o=Zo()),yn(o),t.rank!==4&&t.rank!==5)throw new Q("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(t.rank,"."));if(e.rank!==4&&e.rank!==5)throw new Q("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(t.rank,"."));let a=lB(t,o);if(s==="causal")throw new et("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=vz(a,e,i,s==="same"?"same":"valid","NDHWC",r),n!=null&&(a=sr(a,n)),o==="channelsFirst"&&(a=xt(a,[0,4,1,2,3])),a})}class r1 extends ut{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",r1.verifyArgs(n),this.rank=e,Wn(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new et("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=Ad(n.kernelSize,e,"kernelSize"),this.strides=Ad(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,js(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,yn(this.dataFormat),this.activation=Sl(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Kt(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ln(n.biasConstraint),this.biasRegularizer=Yt(n.biasRegularizer),this.activityRegularizer=Yt(n.activityRegularizer),this.dilationRate=Ad(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Q("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Q("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Q("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}}static verifyArgs(e){if(ur("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!b$(e.kernelSize,"number",1,3))throw new Q("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:kl(this.activation),useBias:this.useBias,biasInitializer:tn(this.biasInitializer),biasRegularizer:Lt(this.biasRegularizer),activityRegularizer:Lt(this.activityRegularizer),biasConstraint:Rn(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Ah extends r1{constructor(e,n){super(e,n),this.kernel=null,Ah.verifyArgs(n),this.filters=n.filters,Wn(this.filters,"filters"),this.kernelInitializer=Kt(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ln(n.kernelConstraint),this.kernelRegularizer=Yt(n.kernelRegularizer)}build(e){e=St(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Q("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const i=e[n],s=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:i}}],this.built=!0}call(e,n){return ie(()=>{e=Xe(e);let i;const s=this.bias==null?null:this.bias.read(),o=sP(this.activation.getClassName());if(o!=null&&this.rank===2)i=vN(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)i=bye(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)i=vN(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)i=xye(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new et("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(i=this.activation.apply(i))}return i})}computeOutputShape(e){e=St(e);const n=[],i=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<i.length;++o){const r=qo(i[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);n.push(r)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:tn(this.kernelInitializer),kernelRegularizer:Lt(this.kernelRegularizer),kernelConstraint:Rn(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Q("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class pg extends Ah{constructor(e){super(2,e),pg.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!b$(e.kernelSize,"number",1,2))throw new Q("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}pg.className="Conv2D";be(pg);class fg extends Ah{constructor(e){super(3,e),fg.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Q("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}fg.className="Conv3D";be(fg);class cB extends pg{constructor(e){if(super(e),this.inputSpec=[new Nn({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Q("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=St(e),e.length!==4)throw new Q("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Q("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],s=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Nn({ndim:4,axes:{[n]:i}})],this.built=!0}call(e,n){return ie(()=>{let i=Xe(e);if(i.shape.length!==4)throw new Q("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const s=i.shape,o=s[0];let r,a;this.dataFormat==="channelsFirst"?(r=2,a=3):(r=1,a=2);const l=s[r],c=s[a],u=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],p=this.strides[1],f=dr(l,h,u,this.padding),m=dr(c,p,d,this.padding),b=[o,f,m,this.filters];this.dataFormat!=="channelsLast"&&(i=xt(i,[0,2,3,1]));let g=iI(i,this.kernel.read(),b,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=xt(g,[0,3,1,2])),this.bias!=null&&(g=sr(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=St(e);const n=e.slice();let i,s,o;this.dataFormat==="channelsFirst"?(i=1,s=2,o=3):(i=3,s=1,o=2);const r=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[i]=this.filters,n[s]=dr(n[s],l,r,this.padding),n[o]=dr(n[o],c,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}cB.className="Conv2DTranspose";be(cB);class uB extends fg{constructor(e){if(super(e),this.inputSpec=[new Nn({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Q("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=St(e),e.length!==5)throw new Q("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Q("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],s=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Nn({ndim:5,axes:{[n]:i}})],this.built=!0}call(e,n){return ie(()=>{let i=Xe(e);if(i.shape.length!==5)throw new Q("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const s=i.shape,o=s[0];let r,a,l;this.dataFormat==="channelsFirst"?(l=2,r=3,a=4):(l=1,r=2,a=3);const c=s[l],u=s[r],d=s[a],h=this.kernelSize[0],p=this.kernelSize[1],f=this.kernelSize[2],m=this.strides[0],b=this.strides[1],g=this.strides[2],x=dr(c,m,h,this.padding),y=dr(u,b,p,this.padding),v=dr(d,g,f,this.padding),w=[o,x,y,v,this.filters];this.dataFormat!=="channelsLast"&&(i=xt(i,[0,2,3,4,1]));let C=kz(i,this.kernel.read(),w,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(C=xt(C,[0,4,1,2,3])),this.bias!==null&&(C=sr(C,this.bias.read(),this.dataFormat)),this.activation!==null&&(C=this.activation.apply(C)),C})}computeOutputShape(e){e=St(e);const n=e.slice();let i,s,o,r;this.dataFormat==="channelsFirst"?(i=1,s=2,o=3,r=4):(i=4,s=1,o=2,r=3);const a=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],d=this.strides[1],h=this.strides[2];return n[i]=this.filters,n[s]=dr(n[s],u,a,this.padding),n[o]=dr(n[o],d,l,this.padding),n[r]=dr(n[r],h,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}uB.className="Conv3DTranspose";be(uB);class dB extends Ah{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Q("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Q("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Q("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(n.padding)));this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Kt(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Yt(n.depthwiseRegularizer),this.depthwiseConstraint=Ln(n.depthwiseConstraint),this.pointwiseInitializer=Kt(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Yt(n.pointwiseRegularizer),this.pointwiseConstraint=Ln(n.pointwiseConstraint)}build(e){if(e=St(e),e.length<this.rank+2)throw new Q("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Q("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[n])));const i=e[n],s=this.kernelSize.concat([i,this.depthMultiplier]),o=[];for(let a=0;a<this.rank;++a)o.push(1);o.push(i*this.depthMultiplier,this.filters);const r=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,r,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,r,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,r,this.biasConstraint):this.bias=null,this.inputSpec=[new Nn({ndim:this.rank+2,axes:{[n]:i}})],this.built=!0}call(e,n){return ie(()=>{e=Xe(e);let i;if(this.rank===1)throw new et("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=xt(e,[0,2,3,1])),i=EI(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(i=sr(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),this.dataFormat==="channelsFirst"&&(i=xt(i,[0,3,1,2])),i})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=tn(this.depthwiseInitializer),e.pointwiseInitializer=tn(this.pointwiseInitializer),e.depthwiseRegularizer=Lt(this.depthwiseRegularizer),e.pointwiseRegularizer=Lt(this.pointwiseRegularizer),e.depthwiseConstraint=Rn(this.depthwiseConstraint),e.pointwiseConstraint=Rn(this.pointwiseConstraint),e}}dB.className="SeparableConv";class hB extends dB{constructor(e){super(2,e)}}hB.className="SeparableConv2D";be(hB);class a1 extends Ah{constructor(e){super(1,e),a1.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!b$(e.kernelSize,"number",1,1))throw new Q("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}a1.className="Conv1D";be(a1);class pB extends ut{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return ie(()=>{if(e=Xe(e),this.dataFormat==="channelsLast"){const i=ob(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return ob(i,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const i=ob(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return ob(i,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}pB.className="Cropping2D";be(pB);class fB extends ut{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,yn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,K0e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],i=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,i]}else{const n=e[1]==null?null:this.size[0]*e[1],i=e[2]==null?null:this.size[1]*e[2];return[e[0],n,i,e[3]]}}call(e,n){return ie(()=>{let i=Xe(e);const s=i.shape;if(this.dataFormat==="channelsFirst"){i=xt(i,[0,2,3,1]);const o=this.size[0]*s[2],r=this.size[1]*s[3],a=this.interpolation==="nearest"?uo.resizeNearestNeighbor(i,[o,r]):uo.resizeBilinear(i,[o,r]);return xt(a,[0,3,1,2])}else{const o=this.size[0]*s[1],r=this.size[1]*s[2];return this.interpolation==="nearest"?uo.resizeNearestNeighbor(i,[o,r]):uo.resizeBilinear(i,[o,r])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}fB.className="UpSampling2D";be(fB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yye(t,e,n=[1,1],i="valid",s,o){return ie(()=>{s==null&&(s=Zo()),yn(s);let r=N$(t,s);if(t.rank!==4)throw new Q("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));if(e.rank!==4)throw new Q("depthwiseKernel is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));return r=Qm(r,e,n,i==="same"?"same":"valid","NHWC",o),s==="channelsFirst"&&(r=xt(r,[0,3,1,2])),r})}class mB extends r1{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Kt(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ln(e.depthwiseConstraint),this.depthwiseRegularizer=Yt(e.depthwiseRegularizer)}build(e){if(e=St(e),e.length<4)throw new Q("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Q("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[n],")."));const i=e[n],s=[this.kernelSize[0],this.kernelSize[1],i,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[i*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{e=Xe(e);let i=yye(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(i=sr(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),i})}computeOutputShape(e){e=St(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=qo(n,this.kernelSize[0],this.padding,this.strides[0]),r=qo(i,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,o,r]:[e[0],o,r,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=tn(this.depthwiseInitializer),e.depthwiseRegularizer=Lt(this.depthwiseRegularizer),e.depthwiseConstraint=Rn(this.depthwiseRegularizer),e}}mB.className="DepthwiseConv2D";be(mB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gB(t,e,n,i){if(Array.isArray(t)){if(e!=null||n!=null)throw new Q("When inputs is an array, neither initialState or constants should be provided");i!=null&&(n=t.slice(t.length-i,t.length),t=t.slice(0,t.length-i)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(o){return o==null||Array.isArray(o)?o:[o]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function bB(t,e,n,i=!1,s,o,r=!1,a=!1){return ie(()=>{const l=e.shape.length;if(l<3)throw new Q("Input should be at least 3D, but is ".concat(l,"D."));const c=[1,0].concat(Yo(2,l));e=xt(e,c),r&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=_e(_e(s,"bool"),"float32"),s.rank===l-1&&(s=xi(s,-1)),s=xt(s,c)),i&&(e=ko(e,0),s!=null&&(s=ko(s,0)));const u=[];let d,h=n;const p=e.shape[0],f=So(e);let m;s!=null&&(m=So(s));for(let g=0;g<p;++g){const x=f[g],y=ie(()=>t(x,h));if(s==null)d=y[0],h=y[1];else{const v=ie(()=>{const w=m[g],C=Ne(Fs(w),w),k=fe(K(y[0],w),K(h[0],C)),E=h.map((T,_)=>fe(K(y[1][_],w),K(T,C)));return{output:k,newStates:E}});d=v.output,h=v.newStates}a&&u.push(d)}let b;return a&&(b=fs(u,1)),[d,b,h]})}class jl extends ut{constructor(e){super(e);let n;if(e.cell==null)throw new Q("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new R$({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Q("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Nn({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Yo(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){iS(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const i=n[0];let s;if(this.returnSequences?s=[e[0],e[1],i]:s=[e[0],i],this.returnState){const o=[];for(const r of n)o.push([e[0],r]);return[s].concat(o)}else return s}computeMask(e,n){return ie(()=>{Array.isArray(n)&&(n=n[0]);const i=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(o=>null);return[i].concat(s)}else return i})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let i=0;i<e;++i)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new et("Constants support is not implemented in RNN yet.");iS(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,i=e.slice(2);this.inputSpec[0]=new Nn({shape:[n,null,...i]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!gt(this.stateSpec.map(r=>r.shape[r.shape.length-1]),o))throw new Q("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=o.map(r=>new Nn({shape:[null,r]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){ie(()=>{if(!this.stateful)throw new cr("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape[0];if(i==null)throw new Q("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>$n([i,s])):this.states_=[$n([i,this.cell.stateSize])];else if(e==null)at(this.states_),this.keptStates!=null&&(at(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>$n([i,s])):this.states_[0]=$n([i,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Q("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n===!0?this.keptStates.push(this.states_.slice()):at(this.states_);for(let s=0;s<this.states_.length;++s){const o=e[s],r=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[i,r];if(!gt(o.shape,a))throw new Q("State ".concat(s," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(a,", received shape=").concat(o.shape));this.states_[s]=o}}this.states_=this.states_.map(s=>Vn(s.clone()))})}apply(e,n){let i=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=gB(e,i,s,this.numConstants);e=o.inputs,i=o.initialState,s=o.constants;let r=[],a=[];if(i!=null){n.initialState=i,r=r.concat(i),this.stateSpec=[];for(const c of i)this.stateSpec.push(new Nn({shape:c.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,r=r.concat(s),this.numConstants=s.length),r[0]instanceof Ir){const c=[e].concat(r),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ie(()=>{const i=n==null?null:n.mask,s=n==null?null:n.training;let o=n==null?null:n.initialState;e=Xe(e),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(e));const r=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==r)throw new Q("RNN Layer has ".concat(r," state(s) but was passed ")+"".concat(o.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},c=bB((f,m)=>{const b=this.cell.call([f].concat(m),a);return[b[0],b.slice(1)]},e,o,this.goBackwards,i,null,this.unroll,this.returnSequences),u=c[0],d=c[1],h=c[2];this.stateful&&this.resetStates(h,s);const p=this.returnSequences?d:u;return this.returnState?[p].concat(h):p})}getInitialState(e){return ie(()=>{let n=$n(e.shape);return n=Le(n,[1,2]),n=lg(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(i=>i>1?tS(n,[1,i]):n):this.cell.stateSize>1?[tS(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const i=this.cell.getConfig();return this.getClassName()===jl.className&&(n.cell={className:this.cell.getClassName(),config:i}),Object.assign(Object.assign(Object.assign({},i),e),n)}static fromConfig(e,n,i={}){const s=n.cell,o=aa(s,i);return new e(Object.assign(n,{cell:o}))}}jl.className="RNN";be(jl);class l1 extends ut{}class D$ extends l1{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Wn(this.units,"units"),this.activation=Sl(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Kt(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Kt(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Kt(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Yt(e.kernelRegularizer),this.recurrentRegularizer=Yt(e.recurrentRegularizer),this.biasRegularizer=Yt(e.biasRegularizer),this.kernelConstraint=Ln(e.kernelConstraint),this.recurrentConstraint=Ln(e.recurrentConstraint),this.biasConstraint=Ln(e.biasConstraint),this.dropout=Qd([1,wl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Qd([1,wl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=St(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{if(e=e,e.length!==2)throw new Q("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let i=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Cl({ones:()=>Fs(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Cl({ones:()=>Fs(i),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let o;const r=this.dropoutMask,a=this.recurrentDropoutMask;r!=null?o=Sr(K(e,r),this.kernel.read()):o=Sr(e,this.kernel.read()),this.bias!=null&&(o=sr(o,this.bias.read())),a!=null&&(i=K(i,a));let l=fe(o,Sr(i,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:kl(this.activation),useBias:this.useBias,kernelInitializer:tn(this.kernelInitializer),recurrentInitializer:tn(this.recurrentInitializer),biasInitializer:tn(this.biasInitializer),kernelRegularizer:Lt(this.kernelRegularizer),recurrentRegularizer:Lt(this.recurrentRegularizer),biasRegularizer:Lt(this.biasRegularizer),activityRegularizer:Lt(this.activityRegularizer),kernelConstraint:Rn(this.kernelConstraint),recurrentConstraint:Rn(this.recurrentConstraint),biasConstraint:Rn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}D$.className="SimpleRNNCell";be(D$);class xB extends jl{constructor(e){e.cell=new D$(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(at(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(at(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:o})})}static fromConfig(e,n){return new e(n)}}xB.className="SimpleRNN";be(xB);class O$ extends l1{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Q("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Wn(this.units,"units"),this.activation=Sl(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Sl(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Kt(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Kt(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Kt(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Yt(e.kernelRegularizer),this.recurrentRegularizer=Yt(e.recurrentRegularizer),this.biasRegularizer=Yt(e.biasRegularizer),this.kernelConstraint=Ln(e.kernelConstraint),this.recurrentConstraint=Ln(e.recurrentConstraint),this.biasConstraint=Ln(e.biasConstraint),this.dropout=Qd([1,wl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Qd([1,wl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=St(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{if(e=e,e.length!==2)throw new Q("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Cl({ones:()=>Fs(e),rate:this.dropout,training:i,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Cl({ones:()=>Fs(s),rate:this.recurrentDropout,training:i,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,r=this.recurrentDropoutMask;let a,l,c;0<this.dropout&&this.dropout<1&&(e=K(e,o[0]));let u=Sr(e,this.kernel.read());this.useBias&&(u=sr(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=K(s,r[0]));const d=this.recurrentKernel.read(),[h,p]=as(d,[2*this.units,this.units],d.rank-1),f=Sr(s,h),[m,b,g]=as(u,3,u.rank-1),[x,y]=as(f,2,f.rank-1);a=this.recurrentActivation.apply(fe(m,x)),l=this.recurrentActivation.apply(fe(b,y));const v=Sr(K(l,s),p);c=this.activation.apply(fe(g,v));const w=fe(K(a,s),K(fe(1,qt(a)),c));return[w,w]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:kl(this.activation),recurrentActivation:kl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:tn(this.kernelInitializer),recurrentInitializer:tn(this.recurrentInitializer),biasInitializer:tn(this.biasInitializer),kernelRegularizer:Lt(this.kernelRegularizer),recurrentRegularizer:Lt(this.recurrentRegularizer),biasRegularizer:Lt(this.biasRegularizer),activityRegularizer:Lt(this.activityRegularizer),kernelConstraint:Rn(this.kernelConstraint),recurrentConstraint:Rn(this.recurrentConstraint),biasConstraint:Rn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}O$.className="GRUCell";be(O$);class yB extends jl{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new O$(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(at(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(at(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}yB.className="GRU";be(yB);class c1 extends l1{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Wn(this.units,"units"),this.activation=Sl(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Sl(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Kt(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Kt(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Kt(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Yt(e.kernelRegularizer),this.recurrentRegularizer=Yt(e.recurrentRegularizer),this.biasRegularizer=Yt(e.biasRegularizer),this.kernelConstraint=Ln(e.kernelConstraint),this.recurrentConstraint=Ln(e.recurrentConstraint),this.biasConstraint=Ln(e.biasConstraint),this.dropout=Qd([1,wl([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Qd([1,wl([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=St(e);const i=e[e.length-1];this.kernel=this.addWeight("kernel",[i,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const o=this.biasInitializer,r=this.units;s=new(n=class extends Io{apply(l,c){const u=o.apply([r]),d=new y$().apply([r]),h=o.apply([r*2]);return iN(iN(u,d),h)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return ie(()=>{const i=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Q("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let s=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Cl({ones:()=>Fs(e),rate:this.dropout,training:i,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Cl({ones:()=>Fs(s),rate:this.recurrentDropout,training:i,count:4,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,a=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=K(e,r[0]));let h=Sr(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=K(s,a[0])),h=fe(h,Sr(s,this.recurrentKernel.read())),this.useBias&&(h=sr(h,this.bias.read()));const[p,f,m,b]=as(h,4,h.rank-1);l=this.recurrentActivation.apply(p),c=this.recurrentActivation.apply(f),u=fe(K(c,o),K(l,this.activation.apply(m))),d=this.recurrentActivation.apply(b);const g=K(d,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:kl(this.activation),recurrentActivation:kl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:tn(this.kernelInitializer),recurrentInitializer:tn(this.recurrentInitializer),biasInitializer:tn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Lt(this.kernelRegularizer),recurrentRegularizer:Lt(this.recurrentRegularizer),biasRegularizer:Lt(this.biasRegularizer),activityRegularizer:Lt(this.activityRegularizer),kernelConstraint:Rn(this.kernelConstraint),recurrentConstraint:Rn(this.recurrentConstraint),biasConstraint:Rn(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}c1.className="LSTMCell";be(c1);class vB extends jl{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new c1(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(at(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(at(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}vB.className="LSTM";be(vB);class R$ extends l1{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return ie(()=>{e=e;let i=e.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(i.splice(0,a.stateSize.length)):s.push(i.splice(0,1));s.reverse();const o=[];let r;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];i=s[a],a===0?r=[e[0]].concat(i):r=[r[0]].concat(i),r=l.call(r,n),o.push(r.slice(1))}i=[];for(const a of o.slice().reverse())i.push(...a);return[r[0]].concat(i)})}build(e){iS(e)&&(e=e[0]),e=e;let n;this.cells.forEach((i,s)=>{_c("RNNCell_".concat(s),()=>{i.build(e),Array.isArray(i.stateSize)?n=i.stateSize[0]:n=i.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=o=>({className:o.getClassName(),config:o.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,i={}){const s=[];for(const o of n.cells)s.push(aa(o,i));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.cells)n.push(...i.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return sS(e)}setWeights(e){const n=[];for(const i of this.cells){const s=i.weights.length,o=e.splice(s);for(let r=0;r<i.weights.length;++r)n.push([i.weights[r],o[r]])}T$(n)}}R$.className="StackedRNNCells";be(R$);function Cl(t){const{ones:e,rate:n,training:i=!1,count:s=1,dropoutFunc:o}=t,r=()=>o!=null?o(e(),n):dP(e(),n),a=()=>ug(r,e,i);return!s||s<=1?Vn(a().clone()):Array(s).fill(void 0).map(a).map(c=>Vn(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var vye=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class wB extends jl{constructor(e){if(e.unroll)throw new et("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new et("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Nn({ndim:5})]}call(e,n){return ie(()=>{if(this.cell.dropoutMask!=null&&(at(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(at(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Q("ConvRNN2D cell does not support constants");const i=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:o})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return ie(()=>{const{stateSize:n}=this.cell,i=e.shape,s=this.computeSingleOutputShape(i),o=[s[0],...s.slice(2)],r=$n(o);return Array.isArray(n)?Array(n.length).fill(r):[r]})}resetStates(e,n=!1){ie(()=>{if(!this.stateful)throw new cr("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape,s=this.computeSingleOutputShape(i),o=[s[0],...s.slice(2)];if(i[0]==null)throw new Q("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>$n(o)):this.states_=[$n(o)];else if(e==null)at(this.states_),this.keptStates!=null&&(at(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>$n(o)):this.states_[0]=$n(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Q("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?this.keptStates.push(this.states_.slice()):at(this.states_);for(let a=0;a<this.states_.length;++a){const l=e[a],c=o;if(!gt(l.shape,c))throw new Q("State ".concat(a," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(c,", received shape=").concat(l.shape));this.states_[a]=l}}this.states_=this.states_.map(a=>Vn(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:i,kernelSize:s,padding:o,strides:r,dilationRate:a}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],d=qo(c,s[0],o,r[0],a[0]),h=qo(u,s[1],o,r[1],a[1]);return[...e.slice(0,2),...l?[i,d,h]:[d,h,i]]}}wB.className="ConvRNN2D";class L$ extends c1{constructor(e){const{filters:n,kernelSize:i,strides:s,padding:o,dataFormat:r,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Wn(this.filters,"filters"),this.kernelSize=Ad(i,2,"kernelSize"),this.kernelSize.forEach(l=>Wn(l,"kernelSize")),this.strides=Ad(s||1,2,"strides"),this.strides.forEach(l=>Wn(l,"strides")),this.padding=o||"valid",js(this.padding),this.dataFormat=r||"channelsLast",yn(this.dataFormat),this.dilationRate=Ad(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>Wn(l,"dilationRate"))}build(e){var n;e=St(e);const i=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[i]==null)throw new Q("The channel dimension of the input should be defined. "+"Found ".concat(e[i]));const s=e[i],o=4,r=this.kernelSize.concat([s,this.filters*o]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends Io{apply(h,p){const f=c.apply([u]),m=rs([u]),b=c.apply([u*2]);return x$([f,m,b])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return ie(()=>{if(e.length!==3)throw new Q("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training||!1,s=e[0],o=e[1],r=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Cl({ones:()=>Fs(s),rate:this.dropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(U,B,V)=>!B||!B[V]?U:K(B[V],U);let u=c(s,l,0),d=c(s,l,1),h=c(s,l,2),p=c(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Cl({ones:()=>Fs(o),rate:this.recurrentDropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let m=c(o,f,0),b=c(o,f,1),g=c(o,f,2),x=c(o,f,3);const y=3,[v,w,C,k]=as(this.kernel.read(),a,y),[E,T,_,z]=this.useBias?as(this.bias.read(),a):[null,null,null,null];u=this.inputConv(u,v,E,this.padding),d=this.inputConv(d,w,T,this.padding),h=this.inputConv(h,C,_,this.padding),p=this.inputConv(p,k,z,this.padding);const[N,O,I,L]=as(this.recurrentKernel.read(),a,y);m=this.recurrentConv(m,N),b=this.recurrentConv(b,O),g=this.recurrentConv(g,I),x=this.recurrentConv(x,L);const F=this.recurrentActivation.apply(fe(u,m)),j=this.recurrentActivation.apply(fe(d,b)),H=fe(K(j,r),K(F,this.activation.apply(fe(h,g)))),M=K(this.recurrentActivation.apply(fe(p,x)),this.activation.apply(H));return[M,M,H]})}getConfig(){const e=super.getConfig(),{units:n}=e,i=vye(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},i),s)}inputConv(e,n,i,s){const o=vl(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return i?sr(o,i,this.dataFormat):o}recurrentConv(e,n){return vl(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}L$.className="ConvLSTM2DCell";be(L$);class kB extends wB{constructor(e){const n=new L$(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}kB.className="ConvLSTM2D";be(kB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class z$ extends ut{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,i=[];for(let s=0;s<this.noiseShape.length;++s)i.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return i}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,o=this.getNoiseShape(i);return ug(()=>dP(i,this.rate,o,this.seed),()=>i,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}z$.className="Dropout";be(z$);class SB extends z${constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}SB.className="SpatialDropout1D";be(SB);class CB extends ut{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Wn(this.units,"units"),this.activation=Sl(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Kt(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Kt(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ln(e.kernelConstraint),this.biasConstraint=Ln(e.biasConstraint),this.kernelRegularizer=Yt(e.kernelRegularizer),this.biasRegularizer=Yt(e.biasRegularizer),this.activityRegularizer=Yt(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=St(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=St(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e),s=sP(this.activation.getClassName());let o;return s!=null?o=Sr(i,this.kernel.read(),s,this.bias?this.bias.read():null):(o=Sr(i,this.kernel.read()),this.bias!=null&&(o=sr(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){const e={units:this.units,activation:kl(this.activation),useBias:this.useBias,kernelInitializer:tn(this.kernelInitializer),biasInitializer:tn(this.biasInitializer),kernelRegularizer:Lt(this.kernelRegularizer),biasRegularizer:Lt(this.biasRegularizer),activityRegularizer:Lt(this.activityRegularizer),kernelConstraint:Rn(this.kernelConstraint),biasConstraint:Rn(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}CB.className="Dense";be(CB);class EB extends ut{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=St(e);for(const n of e.slice(1))if(n==null)throw new Q('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],ul(e,1)]}call(e,n){return ie(()=>{this.invokeCallHook(e,n);let i=Xe(e);if(this.dataFormat==="channelsFirst"&&i.rank>1){const s=[0];for(let o=2;o<i.rank;++o)s.push(o);s.push(1),i=xt(i,s)}return exe(i)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}EB.className="Flatten";be(EB);class TB extends ut{constructor(e){super(e),this.supportsMasking=!0,this.activation=Sl(e.activation)}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e);return this.activation.apply(i)})}getConfig(){const e={activation:kl(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}TB.className="Activation";be(TB);class IB extends ut{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return ie(()=>(e=Xe(e),J0e(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}IB.className="RepeatVector";be(IB);class $B extends ut{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const i="Total size of new array must be unchanged.",s=n.slice();let o=1,r=null;for(let l=0;l<s.length;++l){const c=s[l];if(this.isUnknown(c))if(r===null)r=l;else throw new Q("Can only specifiy one unknown dimension.");else o*=c}const a=ul(e);if(r!==null){if(o===0||a%o!==0)throw new Q(i);s[r]=a/o}else if(a!==o)throw new Q(i);return s}computeOutputShape(e){let n=!1;for(let i=0;i<e.length;++i)if(this.isUnknown(e[i])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e),s=i.shape,o=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Y(i,o)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}$B.className="Reshape";be($B);class _B extends ut{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const n=Yo(1,e.dims.length+1);if(!gt(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Nn({ndim:this.dims.length+1})]}computeOutputShape(e){e=St(e);const n=e.slice();return this.dims.forEach((i,s)=>{n[s+1]=e[i]}),n}call(e,n){return xt(Xe(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}_B.className="Permute";be(_B);class AB extends ut{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const i=Xe(e);return G0(Zd(i,this.maskValue),-1)}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e),r=G0(Zd(i,this.maskValue),-1,!0);return K(i,_e(r,i.dtype))})}}AB.className="Masking";be(AB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class NB extends ut{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Tt(e.inputLength))}this.inputDim=e.inputDim,Wn(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Wn(this.outputDim,"outputDim"),this.embeddingsInitializer=Kt(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Yt(e.embeddingsRegularizer),this.activityRegularizer=Yt(e.activityRegularizer),this.embeddingsConstraint=Ln(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return ie(()=>this.maskZero?(e=Xe(e),Zd(e,yt(e))):null)}computeOutputShape(e){if(e=St(e),this.inputLength==null)return[...e,this.outputDim];const n=Tt(this.inputLength);if(n.length!==e.length-1)throw new Q('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let i=0;for(let s=0;s<n.length;++s){const o=n[s],r=e[s+1];if(o!=null&&r!=null&&o!==r)throw new Q('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));o==null&&(n[i]=r),i++}}return[e[0],...n,this.outputDim]}call(e,n){return ie(()=>{this.invokeCallHook(e,n);let i=Xe(e);i.dtype!=="int32"&&(i=kr(i,"int32"));const s=uP(this.embeddings.read(),Y(i,[i.size]));return Y(s,St(this.computeOutputShape(i.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:tn(this.embeddingsInitializer),embeddingsRegularizer:Lt(this.embeddingsRegularizer),activityRegularizer:Lt(this.activityRegularizer),embeddingsConstraint:Rn(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}NB.className="Embedding";be(NB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ku extends ut{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new et}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const i=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const o=e[e.length-n.length+s],r=n[s];if(o==null||r==null||o<0||r<0)i.push(null);else if(o===1)i.push(r);else if(r===1)i.push(o);else{if(o!==r)throw new Q("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));i.push(o)}}return i}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[St(e)]),e=e,e.length<2)throw new Q("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let n=[];for(const o of e)o!=null&&o[0]!==null&&n.push(o[0]);if(n=cl(n),n.length>1)throw new Q("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let i=e[0]==null?null:e[0].slice(1);for(let o=1;o<e.length;++o){const r=e[o]==null?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,r)}const s=e.map(o=>o.length);e.indexOf(null)===-1&&cl(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return ie(()=>{if(e=e,this.reshapeRequired){const i=[],s=e.map(o=>o.rank);if(s.indexOf(null)===-1){const o=wl(s);for(let r of e){const a=r.rank;for(let l=0;l<o-a;++l)r=lg(r,1);i.push(r)}return this.mergeFunction(i)}else{let o=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,d=u[0],h=u.slice(1).concat([d]);let p=Y(l,[d].concat(ul(u.slice(1))));p=xt(p,[1,0]),p=Y(p,h),i.push(p),o=!0}else if(c>1){const u=Yo(1,c).concat([0]);i.push(xt(l,u)),o=!0}else i.push(l)}let r=this.mergeFunction(i);const a=r.rank;if(o){if(a==null){const l=r.shape,c=l.length,u=l[c-1],d=[u].concat(l.slice(0,l.length-1));r=Y(xt(Y(r,[-1,u]),[1,0]),d)}else if(a>1){const l=[a-1].concat(Yo(0,a-1));r=xt(r,l)}}return r}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const o=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let i=[];for(const s of e)s!=null&&s[0]!==null&&i.push(s[0]);return i=cl(i),i.length===1?n=i.concat(n):n=[null].concat(n),n}computeMask(e,n){return ie(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Q("`mask` should be an Array");if(!Array.isArray(e))throw new Q("`inputs` should be an Array");if(n.length!==e.length)throw new Q("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(n.length,")"));if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:xi(s,0));let i=n[0];for(let s=1;s<n.length-1;++s)i=Tr(i,n[s]);return i})}}class DB extends ku{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=fe(n,e[i]);return n})}}DB.className="Add";be(DB);class OB extends ku{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=K(n,e[i]);return n})}}OB.className="Multiply";be(OB);class RB extends ku{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=fe(n,e[i]);return K(1/e.length,n)})}}RB.className="Average";be(RB);class LB extends ku{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=va(n,e[i]);return n})}}LB.className="Maximum";be(LB);class zB extends ku{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=Zc(n,e[i]);return n})}}zB.className="Minimum";be(zB);class FB extends ku{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Q("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const i=[];for(let s=0;s<e.length;++s){const o=e[s].slice();o.splice(this.axis,1);let r=!1;for(const a of i)if(gt(a,o)){r=!0;break}r||i.push(o)}if(i.length>1)throw new Q("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return ie(()=>x$(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Q("A `Concatenate` layer should be called on a list of inputs.");const n=e,i=n[0].slice(),s=this.axis<0?i.length+this.axis:this.axis;for(const o of n.slice(1)){if(i[s]==null||o[s]==null){i[s]=null;break}i[s]+=o[s]}return i}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Q("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Q("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Q("Mismatch in the length of mask (".concat(n.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return ie(()=>{let i=!0;if(n.forEach(r=>{if(r!=null){i=!1;return}}),i)return null;const s=[];for(let r=0;r<e.length;++r)n[r]==null?s.push(_e(Fs(e[r]),"bool")):n[r].rank<e[r].rank?s.push(xi(n[r],-1)):s.push(n[r]);const o=dn(s,this.axis);return QT(o,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}FB.className="Concatenate";be(FB);function np(t,e){for(;t<0;)t+=e;return t}function wye(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new et("batchDot is not implemented for tensors of 4D or higher rank yet");if(R(t.shape.length>=2,()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(t.shape.length)),R(t.shape.length>=2,()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(e.shape.length)),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new et("batchDot is not implemented for complex64-type Tensors yet.");const i=t.shape.length,s=e.shape.length;n==null&&(n=[i-1,s-2]);const o=n;return ie(()=>{let r;if(i>s){r=i-s;const l=[];for(let c=0;c<r;++c)l.push(1);e=Y(e,e.shape.concat(l))}else if(s>i){r=s-i;const l=[];for(let c=0;c<r;++c)l.push(1);t=Y(t,t.shape.concat(l))}else r=0;let a;if(t.shape.length===2&&e.shape.length===2)o[0]===o[1]?a=Le(K(t,e),o[0]):a=Le(K(xt(t,[1,0]),e),o[1]);else{const l=o[0]!==t.shape.length-1,c=o[1]===e.shape.length-1;a=dt(t,e,l,c)}if(r>0){let l;i>s?l=i+s-3:l=i-1;const c=[];for(let u=l;u<l+r;++u)c.push(u);a=Go(a,c)}return a.shape.length===1&&(a=xi(a,1)),a})}class PB extends ku{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){R(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],i=e[1];if(n.length>3||i.length>3)throw new et("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,i);if(n[s[0]]!==i[s[1]])throw new Q("Dimension incompatibility: "+"".concat(n[s[0]]," !== ").concat(i[s[1]]))}mergeFunction(e){if(e.length!==2)throw new Q("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let n=e[0],i=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((o,r)=>np(o,e[r].shape.length)):s=[np(this.axes,n.shape.length),np(this.axes,i.shape.length)],this.normalize&&(n=J0(n,s[0]),i=J0(i,s[1])),wye(n,i,s)}interpretAxes(e,n){let i;return Array.isArray(this.axes)?i=this.axes:i=[np(this.axes,e.length),np(this.axes,n.length)],i}computeOutputShape(e){R(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),i=e[1].slice();if(n.length>3||i.length>3)throw new et("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,i);n.splice(s[0],1),i.splice(s[1],1),i.splice(0,1);const o=n.concat(i);return o.length===1&&o.push(1),o}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}PB.className="Dot";be(PB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class BB extends ut{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e);return ug(()=>fe(n1(i.shape,0,this.stddev),i),()=>i,n.training||!1)})}}BB.className="GaussianNoise";be(BB);class MB extends ut{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const i=Xe(e);return this.rate>0&&this.rate<1?ug(()=>{const o=Math.sqrt(this.rate/(1-this.rate));return K(i,n1(i.shape,1,o))},()=>i,n.training||!1):i})}}MB.className="GaussianDropout";be(MB);class jB extends ut{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Xe(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ie(()=>{if(this.rate<1&&this.rate>0){const i=this._getNoiseShape(e);return ug(()=>{const o=Xe(e),a=-1.6732632423543772*1.0507009873554805;let l=Pl(yu(i),this.rate);l=kr(l,"float32");const c=((1-this.rate)*(1+this.rate*a**2))**-.5,u=-c*a*this.rate,d=fe(K(o,l),K(fe(l,-1),a));return fe(K(d,c),u)},()=>Xe(e),n.training||!1)}return e})}}jB.className="AlphaDropout";be(jB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kf(t,e,n,i,s,o=.001){let r;if(t.rank===2)r=hz(t,e,n,i,s,o);else if(t.rank===3)r=pz(t,e,n,i,s,o);else if(t.rank===4)r=fz(t,e,n,i,s,o);else throw new et("batchNormalization is not implemented for array of rank ".concat(t.rank," ")+"yet");return r}function kye(t,e,n,i,s=.001){return ie(()=>{const o=Pv(t,i),r=o.mean,a=o.variance;return[kf(t,r,a,n,e,s),r,a]})}function Sye(t,e,n,i,s=.001){return ie(()=>{const o=Pv(t,i),r=o.mean,a=o.variance,l=[];for(const f of Yo(0,t.rank))i.indexOf(f)!==-1?l.push(1):l.push(t.shape[f]);const c=Y(r,l),u=Y(a,l),d=e==null?null:Y(e,l),h=n==null?null:Y(n,l);return[kf(t,c,u,h,d,s),r,a]})}function Cye(t,e,n,i,s=.001){return gt(i.slice().sort(),Yo(0,t.rank-1))?kye(t,e,n,i,s):Sye(t,e,n,i,s)}class UB extends ut{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Kt(e.betaInitializer||"zeros"),this.gammaInitializer=Kt(e.gammaInitializer||"ones"),this.movingMeanInitializer=Kt(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Kt(e.movingVarianceInitializer||"ones"),this.betaConstraint=Ln(e.betaConstraint),this.gammaConstraint=Ln(e.gammaConstraint),this.betaRegularizer=Yt(e.betaRegularizer),this.gammaRegularizer=Yt(e.gammaRegularizer)}build(e){e=St(e);const n=this.axis>=0?this.axis:this.axis+e.length,i=e[n];if(i==null)throw new Q("Axis ".concat(n," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Nn({ndim:e.length,axes:{[n]:i}})];const s=[i];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return ie(()=>{const i=n.training==null?!1:n.training,s=Xe(e),o=s.shape,r=o.length,a=Yo(0,r),l=this.axis>=0?this.axis:this.axis+r;a.splice(l,1);const c=Qc(1,r);c[l]=o[l];const u=a.slice();u.sort();const d=!gt(u,Yo(0,r).slice(0,r-1)),h=()=>{if(d){const x=Y(this.movingMean.read(),c),y=Y(this.movingVariance.read(),c),v=this.center?Y(this.beta.read(),c):null,w=this.scale?Y(this.gamma.read(),c):null;return kf(s,x,y,v,w,this.epsilon)}else return kf(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!i)return h();const[p,f,m]=Cye(s,this.gamma.read(),this.beta.read(),a,this.epsilon),b=(x,y,v)=>{ie(()=>{const w=1-v,C=x.read(),k=K(Ne(C,y),w);x.write(Ne(C,k))})};return(()=>{b(this.movingMean,f,this.momentum),b(this.movingVariance,m,this.momentum)})(),p})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:tn(this.betaInitializer),gammaInitializer:tn(this.gammaInitializer),movingMeanInitializer:tn(this.movingMeanInitializer),movingVarianceInitializer:tn(this.movingVarianceInitializer),betaRegularizer:Lt(this.betaRegularizer),gammaRegularizer:Lt(this.gammaRegularizer),betaConstraint:Rn(this.betaConstraint),gammaConstraint:Rn(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}UB.className="BatchNormalization";be(UB);class VB extends ut{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}else throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Kt(e.betaInitializer||"zeros"),this.gammaInitializer=Kt(e.gammaInitializer||"ones"),this.betaRegularizer=Yt(e.betaRegularizer),this.gammaRegularizer=Yt(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=St(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=n);for(const o of this.axis)if(o<0||o>=n)throw new Error("Invalid axis: ".concat(o));if(this.axis.length!==cl(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const i=this.axis.map(o=>e[o]),s=!0;this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const i=Xe(e),s=i.shape,o=s.length;return ie(()=>{let{mean:a,variance:l}=Pv(i,this.axis,!0);const c=Qc(1,o);for(const m of this.axis)c[m]=s[m];const u=m=>m!=null&&m.shape.length!==o?Y(m,c):m;let d=this.scale?u(this.gamma.read()):null,h=this.center?u(this.beta.read()):null;const p=[],f=[];for(let m=0;m<o;++m)this.axis.indexOf(m)!==-1?(p.push(s[m]),f.push(1)):(p.push(1),f.push(s[m]));return a=co(a,p),l=co(l,p),d!=null&&(d=co(d,f)),h!=null&&(h=co(h,f)),kf(i,a,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:tn(this.betaInitializer),gammaInitializer:tn(this.gammaInitializer),betaRegularizer:Lt(this.betaRegularizer),gammaRegularizer:Lt(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}VB.className="LayerNormalization";be(VB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Eye(t,e,n){return ie(()=>{if(t.rank!==4)throw new Q("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Q("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Zo()),n!=="channelsLast"&&n!=="channelsFirst")throw new Q("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let i;return n==="channelsFirst"?i=[[0,0],[0,0],e[0],e[1]]:i=[[0,0],e[0],e[1],[0,0]],Bl(t,i)})}class HB extends ut{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?Zo():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Q("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let n,i;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Q("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(n=e.padding[0],e.padding[1].length!==2)throw new Q("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}this.padding=[n,i]}this.inputSpec=[new Nn({ndim:4})]}computeOutputShape(e){e=St(e);let n,i;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?i=e[3]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],e[1],n,i]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?i=e[2]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],n,i,e[3]])}call(e,n){return ie(()=>Eye(Xe(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}HB.className="ZeroPadding2D";be(HB);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function u1(t,e,n,i,s,o){return ie(()=>{yn(s),rP(o),js(i),n==null&&(n=[1,1]),i==null&&(i="valid"),s==null&&(s=Zo()),o==null&&(o="max"),t=N$(t,s);let r;const a=i==="same"?"same":"valid";return o==="max"?r=Fv(t,e,n,a):r=$v(t,e,n,a),s==="channelsFirst"&&(r=xt(r,[0,3,1,2])),r})}function WB(t,e,n,i,s,o){return ie(()=>{yn(s),rP(o),js(i),n==null&&(n=[1,1,1]),i==null&&(i="valid"),s==null&&(s=Zo()),o==null&&(o="max"),t=lB(t,s);let r;const a=i==="same"?"same":"valid";return o==="max"?r=Fz(t,e,n,a):r=dz(t,e,n,a),s==="channelsFirst"&&(r=xt(r,[0,4,1,2,3])),r})}class GB extends ut{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Q("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));if(Wn(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Q("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));Wn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,js(this.padding),this.inputSpec=[new Nn({ndim:3})]}computeOutputShape(e){e=St(e);const n=qo(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return ie(()=>{this.invokeCallHook(e,n),e=lg(Xe(e),2);const i=this.poolingFunction(Xe(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Go(i,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class qB extends GB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),u1(e,n,i,s,o,"max")}}qB.className="MaxPooling1D";be(qB);class KB extends GB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),u1(e,n,i,s,o,"avg")}}KB.className="AveragePooling1D";be(KB);class XB extends ut{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Q("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];Wn(this.poolSize,"poolSize"),Wn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,yn(this.dataFormat),js(this.padding),this.inputSpec=[new Nn({ndim:4})]}computeOutputShape(e){e=St(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=qo(n,this.poolSize[0],this.padding,this.strides[0]),i=qo(i,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i]:[e[0],n,i,e[3]]}call(e,n){return ie(()=>(this.invokeCallHook(e,n),this.poolingFunction(Xe(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class YB extends XB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),u1(e,n,i,s,o,"max")}}YB.className="MaxPooling2D";be(YB);class ZB extends XB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),u1(e,n,i,s,o,"avg")}}ZB.className="AveragePooling2D";be(ZB);class JB extends ut{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Q("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Wn(this.poolSize,"poolSize"),Wn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,yn(this.dataFormat),js(this.padding),this.inputSpec=[new Nn({ndim:5})]}computeOutputShape(e){e=St(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=qo(n,this.poolSize[0],this.padding,this.strides[0]),i=qo(i,this.poolSize[1],this.padding,this.strides[1]),s=qo(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i,s]:[e[0],n,i,s,e[4]]}call(e,n){return ie(()=>(this.invokeCallHook(e,n),this.poolingFunction(Xe(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class QB extends JB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),WB(e,n,i,s,o,"max")}}QB.className="MaxPooling3D";be(QB);class eM extends JB{constructor(e){super(e)}poolingFunction(e,n,i,s,o){return yn(o),js(s),WB(e,n,i,s,o,"avg")}}eM.className="AveragePooling3D";be(eM);class tM extends ut{constructor(e){super(e),this.inputSpec=[new Nn({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new et}}class nM extends tM{constructor(e){super(e||{})}call(e,n){return ie(()=>{const i=Xe(e);return an(i,1)})}}nM.className="GlobalAveragePooling1D";be(nM);class iM extends tM{constructor(e){super(e||{})}call(e,n){return ie(()=>{const i=Xe(e);return go(i,1)})}}iM.className="GlobalMaxPooling1D";be(iM);class sM extends ut{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,yn(this.dataFormat),this.inputSpec=[new Nn({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new et}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class oM extends sM{call(e,n){return ie(()=>{const i=Xe(e);return this.dataFormat==="channelsLast"?an(i,[1,2]):an(i,[2,3])})}}oM.className="GlobalAveragePooling2D";be(oM);class rM extends sM{call(e,n){return ie(()=>{const i=Xe(e);return this.dataFormat==="channelsLast"?go(i,[1,2]):go(i,[2,3])})}}rM.className="GlobalMaxPooling2D";be(rM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class aM extends ut{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,i={}){const s=n.layer,o=aa(s,i);delete n.layer;const r={layer:o};return Object.assign(r,n),new e(r)}}class lM extends aM{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=St(e),e.length<3)throw new Q("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=St(e);const n=[e[0]].concat(e.slice(2)),i=this.layer.computeOutputShape(n),s=e[1];return[i[0],s].concat(i.slice(1))}call(e,n){return ie(()=>(e=Xe(e),bB((r,a)=>[Xe(this.layer.call(r,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}lM.className="TimeDistributed";be(lM);function Tye(t){wu(q0e,"BidirectionalMergeMode",t)}const Iye="concat";class cM extends aM{constructor(e){super(e);const n=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=n,this.forwardLayer=aa(i),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=aa(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?Iye:e.mergeMode,Tye(this.mergeMode),e.weights)throw new et("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,i=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,i)),this.backwardLayer.setWeights(e.slice(i))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let i,s,o;return this.returnState&&(o=n.slice(1)),i=n[0],i=i,this.mergeMode==="concat"?(i[i.length-1]*=2,s=[i]):this.mergeMode==null?s=[i,i.slice()]:s=[i],this.returnState?this.mergeMode==null?s.concat(o).concat(o.slice()):[i].concat(o).concat(o.slice()):Bi(s)}apply(e,n){let i=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=gB(e,i,s,this.numConstants);if(e=o.inputs,i=o.initialState,s=o.constants,Array.isArray(e)&&(i=e.slice(1),e=e[0]),(i==null||i.length===0)&&s==null)return super.apply(e,n);const r=[],a=[];if(i!=null){const c=i.length;if(c%2>0)throw new Q("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=i,r.push(...i);const u=i.map(d=>new Nn({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),a.push(...u)}if(s!=null)throw new et("Support for constants in Bidirectional layers is not implemented yet.");const l=r[0]instanceof Ir;for(const c of r)if(c instanceof Ir!==l)throw new Q("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(r),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ie(()=>{const i=n.initialState;let s,o;if(i==null)s=this.forwardLayer.call(e,n),o=this.backwardLayer.call(e,n);else{const l=i.slice(0,i.length/2),c=i.slice(i.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),o=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let r;this.returnState&&(Array.isArray(s)&&(r=s.slice(1).concat(o.slice(1))),s=s[0],o=o[0]),this.returnSequences&&(o=ko(o,1));let a;return this.mergeMode==="concat"?a=x$([s,o]):this.mergeMode==="sum"?a=fe(s,o):this.mergeMode==="ave"?a=K(.5,fe(s,o)):this.mergeMode==="mul"?a=K(s,o):this.mergeMode==null&&(a=[s,o]),this.returnState?this.mergeMode==null?a.concat(r):[a].concat(r):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){_c(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),_c(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let i;if(this.returnSequences?this.mergeMode==null?i=[n,n]:i=n:this.mergeMode==null?i=[null,null]:i=null,this.returnState){const o=this.forwardLayer.states.map(r=>null);return Array.isArray(i)?i.concat(o).concat(o):[i].concat(o).concat(o)}else return i}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const i=aa(n.layer);if(delete n.layer,n.numConstants!=null)throw new et("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=i,new e(s)}}cM.className="Bidirectional";be(cM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uM extends ut{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ie(()=>(e=Xe(e),e.dtype!=="float32"&&(e=kr(e,"float32")),fe(K(e,this.scale),this.offset)))}}uM.className="Rescaling";be(uM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:$ye,cropAndResize:_ye}=uo;class dM extends ut{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,i,s,o,r,a,l){return ie(()=>{let c,u=!1;const d=n/r,h=i/a,p=(s+n)/r,f=(o+i)/a,m=[d,h,p,f],b=[];e.rank===3?(u=!0,c=fs([e])):c=e;for(let w=0;w<c.shape[0];w++)b.push(m);const g=Ho(b,[b.length,4]),x=Jd(0,b.length,1,"int32"),v=_ye(c,g,x,[s,o],"nearest");return kr(u?Xe(So(v)):v,l)})}upsize(e,n,i,s){return ie(()=>{const o=$ye(e,[n,i]);return kr(o,s)})}call(e,n){return ie(()=>{const i=Xe(e),s=i.dtype,o=i.shape,r=o[o.length-3],a=o[o.length-2];let l=0;r!==this.height&&(l=Math.floor((r-this.height)/2));let c=0;return a!==this.width&&(c=Math.floor((a-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(i,l,c,this.height,this.width,r,a,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=St(e);const n=e.length-3,i=e.length-2;return e[n]=this.height,e[i]=this.width,e}}dM.className="CenterCrop";be(dM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Aye(t,e,n,i){let s=Xe(t);if(s.dtype!=="int32"&&(s=kr(s,"int32")),e==="int")return s;const o=s.shape;if(s.rank===0&&(s=xi(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=xi(s,-1)),s.rank>2)throw new Q("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(e," and input shape ").concat(o)+" which would result in output rank ".concat(s.rank,"."));const r=["multiHot","oneHot"].includes(e),a=s;let l;if(typeof i<"u"&&e==="count"?l=X2(a,i,n,r):l=X2(a,[],n,r),e!=="tfIdf")return l;if(i)return K(l,i);throw new Q("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class hM extends ut{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=St(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return ie(()=>{e=Xe(e),e.dtype!=="int32"&&(e=kr(e,"int32"));let i;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Q("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(n.countWeights));i=Xe(n.countWeights)}const s=go(e),o=ff(e),r=vs(this.numTokens,s).bufferSync().get(0),a=Pl(o,0).bufferSync().get(0);if(!(r&&a))throw new Q("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return Aye(e,this.outputMode,this.numTokens,i)})}}hM.className="CategoryEncoding";be(hM);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Nye=["bilinear","nearest"],wN=new Set(Nye);class pM extends ut{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(wN.has(e.interpolation))this.interpolation=e.interpolation;else throw new Q("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=St(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ie(()=>{const i=[this.height,this.width];if(this.interpolation==="bilinear")return uo.resizeBilinear(e,i,!this.cropToAspectRatio);if(this.interpolation==="nearest")return uo.resizeNearestNeighbor(e,i,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...wN]," are supported"))})}}pM.className="Resizing";be(pM);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class fM{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}fM.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class mM extends ut{constructor(e){super(e),this.randomGenerator=new fM(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}mM.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Dye=["bilinear","nearest"],kN=new Set(Dye);class gM extends mM{constructor(e){super(e);const{factor:n,interpolation:i="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new Q("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));if(this.widthLower<-1||this.widthUpper<-1)throw new Q("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new Q("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(i)if(kN.has(i))this.interpolation=i;else throw new Q("Invalid interpolation parameter: ".concat(i," is not implemented"))}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=St(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return ie(()=>{const i=Xe(e);this.imgHeight=i.shape[i.shape.length-3];const s=i.shape[i.shape.length-2];this.widthFactor=yu([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let o=this.widthFactor.dataSync()[0]*s;o=Math.round(o);const r=[this.imgHeight,o];switch(this.interpolation){case"bilinear":return uo.resizeBilinear(e,r);case"nearest":return uo.resizeNearestNeighbor(e,r);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...kN]," are supported"))}})}}gM.className="RandomWidth";be(gM);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oye=re();Oye.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Qi;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Qi||(Qi={}));var SN;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(SN||(SN={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rye={};function bM(t){return Rye[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $(t,e,n,i,s){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const a=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?a+1:o.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(o.type==="tensor")return si(e.inputNames[c],n,i,s);if(o.type==="tensors"){const h=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((f,m)=>{var b;return((b=h[m])===null||b===void 0?void 0:b.op)!=="NoOp"}).map(f=>si(f,n,i,s))}const u=si(e.inputNames[c],n,i,s),d=u.dataSync();return o.type==="number"?d[0]:mo(u.shape,d)}const r=e.attrParams[t];return r&&r.value}function si(t,e,n,i){const[s,o]=ts(t,n);if(i!=null){const a=i.getHashTableHandleByName(s);if(a!=null)return a}const r=n.currentContextIds.find(a=>!!e[ix(s,a)]);return r!==void 0?e[ix(s,r)][o]:void 0}function CN(t,e,n){return e[ix(t,n.currentContextId)]}function Vr(t,e){const[n,i,s]=ts(t,e);return[ix(n,e&&e.currentContextId),i,s]}function ix(t,e){return e?"".concat(t,"-").concat(e):t}function ts(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const o=e.parseNodeNameCache.get(t);if(o!=null)return o}const i=t.split(":");let s;if(i.length===1)s=[t,0,void 0];else{const o=i[0],r=i.length===3?i[1]:void 0,a=Number(i[i.length-1]);s=[o,a,r]}return n&&e.parseNodeNameCache.set(t,s),s}function Fb(t,e,n){let i=$("pad",t,e,n);if(i==="explicit"){i=$("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)s[o][0]=i[o*2],s[o][1]=i[o*2+1];return s}return i}function Hr(t){return t.kept?t:ra(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lye=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],zye=Object.freeze(Object.defineProperty({__proto__:null,json:Lye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fye=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Pye=Object.freeze(Object.defineProperty({__proto__:null,json:Fye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bye=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Mye=Object.freeze(Object.defineProperty({__proto__:null,json:Bye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jye=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Uye=Object.freeze(Object.defineProperty({__proto__:null,json:jye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vye=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Hye=Object.freeze(Object.defineProperty({__proto__:null,json:Vye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wye=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Gye=Object.freeze(Object.defineProperty({__proto__:null,json:Wye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qye=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Kye=Object.freeze(Object.defineProperty({__proto__:null,json:qye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xye=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Yye=Object.freeze(Object.defineProperty({__proto__:null,json:Xye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zye=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Jye=Object.freeze(Object.defineProperty({__proto__:null,json:Zye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qye=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],eve=Object.freeze(Object.defineProperty({__proto__:null,json:Qye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tve=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],nve=Object.freeze(Object.defineProperty({__proto__:null,json:tve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ive=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],sve=Object.freeze(Object.defineProperty({__proto__:null,json:ive},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ove=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],rve=Object.freeze(Object.defineProperty({__proto__:null,json:ove},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ave=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],lve=Object.freeze(Object.defineProperty({__proto__:null,json:ave},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cve=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],uve=Object.freeze(Object.defineProperty({__proto__:null,json:cve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dve=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],hve=Object.freeze(Object.defineProperty({__proto__:null,json:dve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pve=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],fve=Object.freeze(Object.defineProperty({__proto__:null,json:pve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mve=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],gve=Object.freeze(Object.defineProperty({__proto__:null,json:mve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bve=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],xve=Object.freeze(Object.defineProperty({__proto__:null,json:bve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EN{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[zye,Pye,Mye,Uye,Hye,Gye,Kye,Yye,Jye,eve,nve,sve,rve,lve,uve,hve,fve,gve,xve],n=[].concat(...e.map(i=>i.json));this.opMappers=n.reduce((i,s)=>(i[s.tfOpName]=s,i),{})}transformGraph(e,n={}){const i=e.node,s=[],o=[],r=[],a=i.reduce((m,b)=>(m[b.name]=this.mapNode(b),b.op.startsWith("Placeholder")?s.push(m[b.name]):b.op==="Const"?o.push(m[b.name]):(b.input==null||b.input.length===0)&&r.push(m[b.name]),m),{});let l=[];const c=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const h=Object.keys(a);h.forEach(m=>{const b=a[m];b.inputNames.forEach((g,x)=>{const[y,,v]=Vr(g),w=a[y];if(w.outputs!=null){const C=w.outputs.indexOf(v);if(C!==-1){const k="".concat(y,":").concat(C);b.inputNames[x]=k}}b.inputs.push(w),w.children.push(b)})}),Object.keys(d).length===0?h.forEach(m=>{const b=a[m];b.children.length===0&&c.push(b)}):Object.keys(d).forEach(m=>{const[b]=Vr(m),g=a[b];g!=null&&(g.signatureKey=d[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[b]=Vr(m),g=a[b];g&&(g.signatureKey=u[m],l.push(g))}):l=s;let p={};e.library!=null&&e.library.function!=null&&(p=e.library.function.reduce((m,b)=>(m[b.signature.name]=this.mapFunction(b),m),{}));const f={nodes:a,inputs:l,outputs:c,weights:o,placeholders:s,signature:n,functions:p};return r.length>0&&(f.initNodes=r),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,i)=>(n[e[i].name]=i,n),{})}mapNode(e){const n=bM(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const i={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(i.inputParams=n.inputs.reduce((s,o)=>(s[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},s),{})),n.attrs!=null&&(i.attrParams=n.attrs.reduce((s,o)=>{const r=o.type;let a;switch(o.type){case"string":a=uS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=uS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":a=bS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=bS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":a=hS(e.attr,o.tfName,o.defaultValue||0),a===void 0&&o.tfDeprecatedName&&(a=hS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":a=gS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=gS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":a=dS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=dS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":a=yS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=yS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":a=mS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=mS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":a=xS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=xS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":a=pS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=pS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":a=fS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=fS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":a=TN(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=TN(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(o.type," for op: ").concat(e.op))}return s[o.name]={value:a,type:r},s},{})),i}mapFunction(e){const n=e.nodeDef,i=[],s=[];let o={};n!=null&&(o=n.reduce((d,h)=>(d[h.name]=this.mapNode(h),h.op==="Const"&&s.push(d[h.name]),d),{}));const r=[],a=[];e.signature.inputArg.forEach(d=>{const[h]=Vr(d.name),p={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:F$(d.type),type:"dtype"}},children:[]};p.signatureKey=d.name,r.push(p),o[h]=p}),Object.keys(o).forEach(d=>{const h=o[d];h.inputNames.forEach((p,f)=>{const[m,,b]=Vr(p),g=o[m];if(g.outputs!=null){const x=g.outputs.indexOf(b);if(x!==-1){const y="".concat(m,":").concat(x);h.inputNames[f]=y}}h.inputs.push(g),g.children.push(h)})});const c=e.ret;e.signature.outputArg.forEach(d=>{const[h,p]=Vr(c[d.name]),f=o[h];f!=null&&(f.defaultOutput=p,a.push(f))});const u=this.mapArgsToSignature(e);return{nodes:o,inputs:r,outputs:a,weights:s,placeholders:i,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i),n),{}),outputs:e.signature.outputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i,e.ret),n),{})}}mapArgToTensorInfo(e,n){let i=e.name;return n!=null&&(i=n[i]),{name:i,dtype:e.type}}}function yve(t){const e=re().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function xM(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):yve(t);return e?n:n.toLowerCase()}function uS(t,e,n,i=!1){const s=t[e];return s!=null?xM(s.s,i):n}function dS(t,e,n){const i=t[e];return i?i.b:n}function hS(t,e,n){const i=t[e]||{},s=i.i!=null?i.i:i.f!=null?i.f:n;return typeof s=="number"?s:parseInt(s,10)}function F$(t){switch(typeof t=="string"&&(t=Qi[t]),t){case Qi.DT_FLOAT:case Qi.DT_HALF:return"float32";case Qi.DT_INT32:case Qi.DT_INT64:case Qi.DT_INT8:case Qi.DT_UINT8:return"int32";case Qi.DT_BOOL:return"bool";case Qi.DT_DOUBLE:return"float32";case Qi.DT_STRING:return"string";case Qi.DT_COMPLEX64:case Qi.DT_COMPLEX128:return"complex64";default:return null}}function TN(t,e,n){const i=t[e];return i&&i.func?i.func.name:n}function pS(t,e,n){const i=t[e];return i&&i.type?F$(i.type):n}function fS(t,e,n){const i=t[e];return i&&i.list&&i.list.type?i.list.type.map(s=>F$(s)):n}function yM(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function mS(t,e,n){const i=t[e];return i&&i.shape?yM(i.shape):n}function gS(t,e,n){const i=t[e];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function bS(t,e,n,i=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(o=>xM(o,i)):n}function xS(t,e,n){const i=t[e];return i&&i.list&&i.list.shape?i.list.shape.map(s=>yM(s)):n}function yS(t,e,n){const i=t[e];return i&&i.list&&i.list.b?i.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vve{constructor(e,n,i){this.node=e,this.tensorMap=n,this.context=i,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,o)=>(s[o]=this.getAttr(o),s),{}))}getInput(e){return si(e,this.tensorMap,this.context)}getAttr(e,n){const i=this.node.rawAttrs[e];if(i.tensor!=null)return si(e,this.tensorMap,this.context);if(i.i!=null||i.f!=null)return hS(this.node.rawAttrs,e,n);if(i.s!=null)return uS(this.node.rawAttrs,e,n);if(i.b!=null)return dS(this.node.rawAttrs,e,n);if(i.shape!=null)return mS(this.node.rawAttrs,e,n);if(i.type!=null)return pS(this.node.rawAttrs,e,n);if(i.list!=null){if(i.list.i!=null||i.list.f!=null)return gS(this.node.rawAttrs,e,n);if(i.list.s!=null)return bS(this.node.rawAttrs,e,n);if(i.list.shape!=null)return xS(this.node.rawAttrs,e,n);if(i.list.b!=null)return yS(this.node.rawAttrs,e,n);if(i.list.type!=null)return fS(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fi=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:B8,abs:In,acos:iz,acosh:sz,add:fe,addN:jce,all:QT,any:G0,argMax:Xd,argMin:oz,asin:rz,asinh:az,atan:lz,atan2:cz,atanh:uz,avgPool:$v,avgPool3d:dz,basicLSTMCell:uue,batchNorm:Jm,batchNorm2d:hz,batchNorm3d:pz,batchNorm4d:fz,batchToSpaceND:_v,bincount:mz,bitwiseAnd:yue,booleanMaskAsync:Qpe,broadcastArgs:wue,broadcastTo:$d,buffer:nt,cast:_e,ceil:gz,clipByValue:hs,clone:ra,complex:bl,concat:dn,concat1d:bz,concat2d:Av,concat3d:xz,concat4d:yz,conv1d:tI,conv2d:vl,conv2dTranspose:iI,conv3d:vz,conv3dTranspose:kz,cos:Nv,cosh:sI,cosineWindow:LI,cumprod:q0,cumsum:oI,denseBincount:X2,depthToSpace:Sz,depthwiseConv2d:Qm,diag:Hue,dilation2d:Cz,div:Oe,divNoNan:Ez,dot:Tz,dropout:Qz,einsum:Yu,elu:eg,enclosingPowerOfTwo:eF,ensureShape:ede,equal:Xo,erf:rI,euclideanNorm:_z,exp:ps,expandDims:xi,expm1:Az,eye:lI,fft:Wv,fill:Eh,floor:ng,floorDiv:JT,fused:wfe,gather:ig,gatherND:cfe,greater:vs,greaterEqual:Pl,ifft:xf,imag:Dv,image:uo,inTopKAsync:pfe,irfft:_I,isFinite:Nz,isInf:Dz,isNaN:Oz,leakyRelu:Ov,less:mf,lessEqual:bu,linalg:lF,linspace:Tde,localResponseNormalization:Rz,log:zs,log1p:Rv,logSigmoid:Lz,logSoftmax:cI,logSumExp:Lv,logicalAnd:Tr,logicalNot:zv,logicalOr:uI,logicalXor:zz,losses:Jme,lowerBound:Ude,matMul:dt,max:go,maxPool:Fv,maxPool3d:Fz,maxPoolWithArgmax:Gde,maximum:va,mean:an,meshgrid:Xde,min:ff,minimum:Zc,mirrorPad:Pz,mod:Bz,moments:Pv,movingAverage:nfe,mul:K,multiRNNCell:the,multinomial:ihe,neg:qt,norm:tg,notEqual:Zd,oneHot:hI,ones:rs,onesLike:Fs,op:q,outerProduct:lhe,pad:Bl,pad1d:dhe,pad2d:phe,pad3d:mhe,pad4d:bhe,pool:Mz,pow:ha,prelu:Mv,print:nz,prod:jz,raggedGather:Ehe,raggedRange:Ihe,raggedTensorToTensor:_he,rand:Nhe,randomGamma:Xhe,randomNormal:vI,randomStandardNormal:Jhe,randomUniform:yu,randomUniformInt:tpe,range:Jd,real:gf,reciprocal:Vz,relu:Dr,relu6:wI,reshape:Y,reverse:ko,reverse1d:lpe,reverse2d:upe,reverse3d:hpe,reverse4d:fpe,rfft:Gv,round:kI,rsqrt:SI,scalar:We,scatterND:sfe,searchSorted:dI,selu:CI,separableConv2d:EI,setdiff1dAsync:vpe,sigmoid:Wo,sign:Hz,signal:Zme,sin:TI,sinh:II,slice:qe,slice1d:Uv,slice2d:$I,slice3d:Vv,slice4d:bf,softmax:Hv,softplus:Th,spaceToBatchND:Bv,sparse:Qme,sparseToDense:afe,spectral:Yme,split:as,sqrt:ci,square:Rt,squaredDifference:AI,squeeze:Go,stack:fs,step:Ih,stridedSlice:Wz,string:ege,sub:Ne,sum:Le,tan:Gz,tanh:Yc,tensor:Ho,tensor1d:Hn,tensor2d:$c,tensor3d:qz,tensor4d:Mpe,tensor5d:jpe,tensor6d:Upe,tensorScatterUpdate:Hpe,tile:co,topk:Xz,transpose:xt,truncatedNormal:DI,unique:Yz,unsortedSegmentSum:OI,unstack:So,upperBound:Ype,variable:Zz,where:ki,whereAsync:Jz,zeros:$n,zerosLike:yt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wve=(t,e,n,i=fi)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[i.add($("a",t,e,n),$("b",t,e,n))];case"AddN":return[i.addN($("tensors",t,e,n))];case"FloorMod":case"Mod":return[i.mod($("a",t,e,n),$("b",t,e,n))];case"Mul":return[i.mul($("a",t,e,n),$("b",t,e,n))];case"RealDiv":case"Div":return[i.div($("a",t,e,n),$("b",t,e,n))];case"DivNoNan":return[i.divNoNan($("a",t,e,n),$("b",t,e,n))];case"FloorDiv":return[i.floorDiv($("a",t,e,n),$("b",t,e,n))];case"Sub":return[i.sub($("a",t,e,n),$("b",t,e,n))];case"Minimum":return[i.minimum($("a",t,e,n),$("b",t,e,n))];case"Maximum":return[i.maximum($("a",t,e,n),$("b",t,e,n))];case"Pow":return[i.pow($("a",t,e,n),$("b",t,e,n))];case"SquaredDifference":return[i.squaredDifference($("a",t,e,n),$("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kve=(t,e,n,i=fi)=>{switch(t.op){case"Abs":case"ComplexAbs":return[i.abs($("x",t,e,n))];case"Acos":return[i.acos($("x",t,e,n))];case"Acosh":return[i.acosh($("x",t,e,n))];case"Asin":return[i.asin($("x",t,e,n))];case"Asinh":return[i.asinh($("x",t,e,n))];case"Atan":return[i.atan($("x",t,e,n))];case"Atan2":return[i.atan2($("x",t,e,n),$("y",t,e,n))];case"Atanh":return[i.atanh($("x",t,e,n))];case"Ceil":return[i.ceil($("x",t,e,n))];case"Complex":return[i.complex($("real",t,e,n),$("imag",t,e,n))];case"Cos":return[i.cos($("x",t,e,n))];case"Cosh":return[i.cosh($("x",t,e,n))];case"Elu":return[i.elu($("x",t,e,n))];case"Erf":return[i.erf($("x",t,e,n))];case"Exp":return[i.exp($("x",t,e,n))];case"Expm1":return[i.expm1($("x",t,e,n))];case"Floor":return[i.floor($("x",t,e,n))];case"Log":return[i.log($("x",t,e,n))];case"Log1p":return[i.log1p($("x",t,e,n))];case"Imag":return[i.imag($("x",t,e,n))];case"Neg":return[i.neg($("x",t,e,n))];case"Reciprocal":return[i.reciprocal($("x",t,e,n))];case"Real":return[i.real($("x",t,e,n))];case"Relu":return[i.relu($("x",t,e,n))];case"Round":return[i.round($("x",t,e,n))];case"Selu":return[i.selu($("x",t,e,n))];case"Sigmoid":return[i.sigmoid($("x",t,e,n))];case"Sin":return[i.sin($("x",t,e,n))];case"Sign":return[i.sign($("x",t,e,n))];case"Sinh":return[i.sinh($("x",t,e,n))];case"Softplus":return[i.softplus($("x",t,e,n))];case"Sqrt":return[i.sqrt($("x",t,e,n))];case"Square":return[i.square($("x",t,e,n))];case"Tanh":return[i.tanh($("x",t,e,n))];case"Tan":return[i.tan($("x",t,e,n))];case"ClipByValue":return[i.clipByValue($("x",t,e,n),$("clipValueMin",t,e,n),$("clipValueMax",t,e,n))];case"Relu6":return[i.relu6($("x",t,e,n))];case"Rsqrt":return[i.rsqrt(si(t.inputNames[0],e,n))];case"LeakyRelu":return[i.leakyRelu($("x",t,e,n),$("alpha",t,e,n))];case"Prelu":return[i.prelu($("x",t,e,n),$("alpha",t,e,n))];case"IsNan":return[i.isNaN(si(t.inputNames[0],e,n))];case"IsInf":return[i.isInf(si(t.inputNames[0],e,n))];case"IsFinite":return[i.isFinite(si(t.inputNames[0],e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ys(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){R(t.length===e.length,()=>n+" Shapes ".concat(t," and ").concat(e," must match"));for(let i=0;i<t.length;i++){const s=t[i],o=e[i];R(s<0||o<0||s===o,()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}}}function IN(t){return!(typeof t=="number"||t.some(e=>e<0))}function ip(t,e,n){let i=vS(t,n);const s=!IN(i);if(s&&e.length===0)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(i));if(s&&e.forEach(o=>{i=vS(o.shape,i)}),!IN(i))throw new Error("Non-fully-defined elementShape: ".concat(i));return i}function vS(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error("Incompatible ranks during merge: ".concat(t," vs. ").concat(e));const n=[];for(let i=0;i<t.length;++i){const s=t[i],o=e[i];if(s>=0&&o>=0&&s!==o)throw new Error("Incompatible shape during merge: ".concat(t," vs. ").concat(e));n[i]=s>=0?s:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sve{constructor(e,n,i,s,o,r,a){this.name=e,this.dtype=n,this.maxSize=i,this.elementShape=s,this.identicalElementShapes=o,this.dynamicSize=r,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=We(0),Vn(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const n=this.tensors[e];if(n.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const i=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(n.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Ys(this.elementShape,n.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),i.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(i.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));i.tensor=n,Vn(n),i.written=!0,this.tensors[e]=i}writeMany(e,n){if(e.length!==n.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(n.length,"."));e.forEach((i,s)=>this.write(i,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(n));if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return Ho([],[0].concat(this.elementShape));const i=this.readMany(e);return Ys(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),fs(i,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(this.size()===0)return Ho([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const i=this.readMany(n);return Ys(this.elementShape,i[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(i[0].shape,")")),dn(i,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));if(e.length!==n.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(n.shape[0]));const i=Math.max(...e);if(!this.dynamicSize&&i>=this.maxSize)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,So(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));let i=0;const s=e.map(l=>(i+=l,i));if(i!==n.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(n.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const o=i===0?0:n.size/i,r=[];ie(()=>{n=Y(n,[1,i,o]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:s[l-1],0],d=[1,e[l],o];r[l]=Y(qe(n,u,d),this.elementShape)}return r});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,r)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eu{get id(){return this.idTensor.id}constructor(e,n,i,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=i,e!=null&&e.forEach(o=>{if(i!==o.dtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(o.dtype));Ys(n,o.shape,"TensorList shape mismatch: "),Vn(o)}),this.idTensor=We(0),this.maxNumElements=s,Vn(this.idTensor)}copy(){return new eu([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,i=-1){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(i!==-1&&this.tensors.length!==i)throw new Error("Operation expected a list with ".concat(i," elements but got a list with ").concat(this.tensors.length," elements."));Ys(e,this.elementShape,"TensorList shape mismatch: ");const s=ip(this.elementShape,this.tensors,e);return ie(()=>{const o=this.tensors.map(r=>Y(r,s));return fs(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(this.size()===0)throw new Error("Trying to pop from an empty list.");const i=ip(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,Ys(s.shape,e,"TensorList shape mismatch: "),Y(s,i)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Ys(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Vn(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const n=new eu([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let i=0;i<Math.min(this.tensors.length,e);++i)n.tensors[i]=this.tensors[i];return n}getItem(e,n,i){if(i!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(this.tensors[e]==null)throw new Error("element at index ".concat(e," is null."));Ys(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=ip(this.elementShape,this.tensors,n);return Y(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n.dtype,", but list elements ").concat(this.elementDtype));if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Ys(this.elementShape,n.shape,"TensorList shape mismatch: "),Vn(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,i){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));Ys(this.elementShape,i,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=ip(this.elementShape,this.tensors,i);return e.length===0?Ho([],[0].concat(s)):ie(()=>{const o=e.map(r=>Y(this.tensors[r],s));return fs(o,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Ys(this.elementShape,n,"TensorList shape mismatch: ");const i=ip(this.elementShape,this.tensors,n);return this.size()===0?Ho([],[0].concat(i)):ie(()=>{const s=this.tensors.map(o=>Y(o,i));return dn(s,0)})}}function Cve(t,e,n){const i=t.dtype;if(t.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(t.shape));if(t.dtype!==n)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(n));const s=t.shape.slice(1);Ys(s,e,"TensorList shape mismatch: ");const o=So(t);return new eu(o,e,i)}function Eve(t,e,n,i){return new eu([],t,e,i)}function Tve(t,e,n,i){if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const s=Math.max(...e);if(i!=null&&i!==-1&&s>=i)throw new Error("Max index must be < array size (".concat(s,"  vs. ").concat(i,")"));const o=new eu([],n,t.dtype,i),r=So(t,0);return e.forEach((a,l)=>{o.setItem(a,r[l])}),o}function Ive(t,e,n){let i=0;const s=e.map(u=>(i+=u,i));if(i!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(t.shape));const o=t.shape.slice(1),r=vS(o,n),a=i===0?0:t.size/i,l=ie(()=>{const u=[];t=Y(t,[1,i,a]);for(let d=0;d<e.length;++d){const p=[0,d===0?0:s[d-1],0],f=[1,e[d],a];u[d]=Y(qe(t,p,f),r)}return t.dispose(),u}),c=new eu([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ve=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const i=$("thenBranch",t,e,n),s=$("elseBranch",t,e,n),o=$("cond",t,e,n),r=$("args",t,e,n);return(await o.data())[0]?n.functionMap[i].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const i=$("body",t,e,n),s=$("cond",t,e,n),o=$("args",t,e,n),r=await n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),a=o.map(u=>u.id);let l=await r[0].data();r.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=o;for(;l[0];){const u=c;c=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const d=c.map(p=>p.id);u.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()});const h=await n.functionMap[s].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await h[0].data(),h.forEach(p=>{!p.kept&&a.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()})}return c}case"LoopCond":{const i=$("pred",t,e,n);return[Hr(i)]}case"Switch":{const i=$("pred",t,e,n);let s=$("data",t,e,n);return s.kept||(s=Hr(s)),(await i.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const i=t.inputNames.find(s=>si(s,e,n)!==void 0);if(i){const s=si(i,e,n);return[Hr(s)]}return}case"Enter":{const i=$("frameName",t,e,n),s=$("tensor",t,e,n);return n.enterFrame(i),[Hr(s)]}case"Exit":{const i=$("tensor",t,e,n);return n.exitFrame(),[Hr(i)]}case"NextIteration":{const i=$("tensor",t,e,n);return n.nextIteration(),[Hr(i)]}case"TensorArrayV3":{const i=$("size",t,e,n),s=$("dtype",t,e,n),o=$("elementShape",t,e,n),r=$("dynamicSize",t,e,n),a=$("clearAfterRead",t,e,n),l=$("identicalElementShapes",t,e,n),c=$("name",t,e,n),u=new Sve(c,s,i,o,l,r,a);return n.addTensorArray(u),[u.idTensor,We(1)]}case"TensorArrayWriteV3":{const i=$("tensorArrayId",t,e,n),s=$("index",t,e,n),o=$("tensor",t,e,n),r=n.getTensorArray(i.id);return r.write(s,o),[r.idTensor]}case"TensorArrayReadV3":{const i=$("tensorArrayId",t,e,n),s=$("index",t,e,n);return[n.getTensorArray(i.id).read(s)]}case"TensorArrayGatherV3":{const i=$("tensorArrayId",t,e,n),s=$("indices",t,e,n),o=$("dtype",t,e,n);return[n.getTensorArray(i.id).gather(s,o)]}case"TensorArrayScatterV3":{const i=$("tensorArrayId",t,e,n),s=$("indices",t,e,n),o=$("tensor",t,e,n),r=n.getTensorArray(i.id);return r.scatter(s,o),[r.idTensor]}case"TensorArrayConcatV3":{const i=$("tensorArrayId",t,e,n),s=n.getTensorArray(i.id),o=$("dtype",t,e,n);return[s.concat(o)]}case"TensorArraySplitV3":{const i=$("tensorArrayId",t,e,n),s=$("tensor",t,e,n),o=$("lengths",t,e,n),r=n.getTensorArray(i.id);return r.split(o,s),[r.idTensor]}case"TensorArraySizeV3":{const i=$("tensorArrayId",t,e,n),s=n.getTensorArray(i.id);return[We(s.size(),"int32")]}case"TensorArrayCloseV3":{const i=$("tensorArrayId",t,e,n),s=n.getTensorArray(i.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const i=$("tensorListId",t,e,n),s=$("index",t,e,n),o=$("tensor",t,e,n),r=n.getTensorList(i.id);return r.setItem(s,o),[r.idTensor]}case"TensorListGetItem":{const i=$("tensorListId",t,e,n),s=$("index",t,e,n),o=$("elementShape",t,e,n),r=$("elementDType",t,e,n);return[n.getTensorList(i.id).getItem(s,o,r)]}case"TensorListScatterV2":case"TensorListScatter":{const i=$("indices",t,e,n),s=$("tensor",t,e,n),o=$("elementShape",t,e,n),r=$("numElements",t,e,n),a=Tve(s,i,o,r);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const i=$("elementShape",t,e,n),s=$("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const r=$(o,t,e,n),a=t.op==="TensorListReserve"?-1:r,l=Eve(i,s,r,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const i=$("tensorListId",t,e,n),s=$("indices",t,e,n),o=$("elementShape",t,e,n),r=$("elementDType",t,e,n);return[n.getTensorList(i.id).gather(s,r,o)]}case"TensorListStack":{const i=$("tensorListId",t,e,n),s=$("elementShape",t,e,n),o=$("elementDType",t,e,n),r=$("numElements",t,e,n);return[n.getTensorList(i.id).stack(s,o,r)]}case"TensorListFromTensor":{const i=$("tensor",t,e,n),s=$("elementShape",t,e,n),o=$("elementDType",t,e,n),r=Cve(i,s,o);return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const i=$("tensorListId",t,e,n),s=n.getTensorList(i.id),o=$("dtype",t,e,n),r=$("elementShape",t,e,n);return[s.concat(o,r)]}case"TensorListPushBack":{const i=$("tensorListId",t,e,n),s=$("tensor",t,e,n),o=n.getTensorList(i.id);return o.pushBack(s),[o.idTensor]}case"TensorListPopBack":{const i=$("tensorListId",t,e,n),s=$("elementShape",t,e,n),o=$("elementDType",t,e,n);return[n.getTensorList(i.id).popBack(s,o)]}case"TensorListSplit":{const i=$("tensor",t,e,n),s=$("elementShape",t,e,n),o=$("lengths",t,e,n),r=Ive(i,o,s);return n.addTensorList(r),[r.idTensor]}case"TensorListLength":{const i=$("tensorListId",t,e,n),s=n.getTensorList(i.id);return[We(s.size(),"int32")]}case"TensorListResize":{const i=$("tensorListId",t,e,n),s=$("size",t,e,n),r=n.getTensorList(i.id).resize(s);return n.addTensorList(r),[r.idTensor]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $N(t,e,n){const[i,s]=$("fusedOps",t,e,n),o=i==="biasadd",r=!o,a=s==="prelu",l=i==="fusedbatchnorm",c=$("numArgs",t,e,n);if(o){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&o&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=$("strides",t,e,n),d=Fb(t,e,n),h=$("dataFormat",t,e,n).toUpperCase(),p=$("dilations",t,e,n);let[f,m]=$("args",t,e,n);r&&(m=f,f=void 0);const b=$("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:h,dilations:p,biasArg:f,preluArg:m,activationFunc:s,leakyreluAlpha:b}}const _ve=(t,e,n,i=fi)=>{switch(t.op){case"Conv1D":{const s=$("stride",t,e,n),o=$("pad",t,e,n),r=$("dataFormat",t,e,n).toUpperCase(),a=$("dilation",t,e,n);return[i.conv1d($("x",t,e,n),$("filter",t,e,n),s,o,r,a)]}case"Conv2D":{const s=$("strides",t,e,n),o=Fb(t,e,n),r=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[i.conv2d($("x",t,e,n),$("filter",t,e,n),[s[1],s[2]],o,r,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:o,dataFormat:r,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=$N(t,e,n);return[i.fused.conv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[s[1],s[2]],pad:o,dataFormat:r,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:o,dataFormat:r,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=$N(t,e,n);return[i.fused.depthwiseConv2d({x:$("x",t,e,n),filter:$("filter",t,e,n),strides:[s[1],s[2]],pad:o,dataFormat:r,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=$("outputShape",t,e,n),o=$("strides",t,e,n),r=Fb(t,e,n);return[i.conv2dTranspose($("x",t,e,n),$("filter",t,e,n),s,[o[1],o[2]],r)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=$("strides",t,e,n),o=Fb(t,e,n),r=$("dilations",t,e,n),a=$("dataFormat",t,e,n).toUpperCase();return[i.depthwiseConv2d($("input",t,e,n),$("filter",t,e,n),[s[1],s[2]],o,a,[r[1],r[2]])]}case"Conv3D":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("dataFormat",t,e,n).toUpperCase(),a=$("dilations",t,e,n);return[i.conv3d($("x",t,e,n),$("filter",t,e,n),[s[1],s[2],s[3]],o,r,[a[1],a[2],a[3]])]}case"AvgPool":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("kernelSize",t,e,n);return[i.avgPool($("x",t,e,n),[r[1],r[2]],[s[1],s[2]],o)]}case"MaxPool":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("kernelSize",t,e,n);return[i.maxPool($("x",t,e,n),[r[1],r[2]],[s[1],s[2]],o)]}case"MaxPoolWithArgmax":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("kernelSize",t,e,n),a=$("includeBatchInIndex",t,e,n),{result:l,indexes:c}=i.maxPoolWithArgmax($("x",t,e,n),[r[1],r[2]],[s[1],s[2]],o,a);return[l,c]}case"AvgPool3D":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("kernelSize",t,e,n);return[i.avgPool3d($("x",t,e,n),[r[1],r[2],r[3]],[s[1],s[2],s[3]],o)]}case"MaxPool3D":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("kernelSize",t,e,n);return[i.maxPool3d($("x",t,e,n),[r[1],r[2],r[3]],[s[1],s[2],s[3]],o)]}case"Dilation2D":{const s=$("strides",t,e,n),o=$("pad",t,e,n),r=$("dilations",t,e,n),a=s[1],l=s[2],c=r[1],u=r[2];return[i.dilation2d($("x",t,e,n),$("filter",t,e,n),[a,l],o,[c,u],"NHWC")]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ave=(t,e,n,i=fi)=>{switch(t.op){case"Fill":{const s=$("shape",t,e,n),o=$("dtype",t,e,n),r=$("value",t,e,n);return[i.fill(s,r,o)]}case"LinSpace":{const s=$("start",t,e,n),o=$("stop",t,e,n),r=$("num",t,e,n);return[i.linspace(s,o,r)]}case"Multinomial":{const s=$("logits",t,e,n),o=$("numSamples",t,e,n),r=$("seed",t,e,n);return[i.multinomial(s,o,r)]}case"OneHot":{const s=$("indices",t,e,n),o=$("depth",t,e,n),r=$("onValue",t,e,n),a=$("offValue",t,e,n),l=$("dtype",t,e,n);return[i.oneHot(s,o,r,a,l)]}case"Ones":return[i.ones($("shape",t,e,n),$("dtype",t,e,n))];case"OnesLike":return[i.onesLike($("x",t,e,n))];case"RandomStandardNormal":return[i.randomStandardNormal($("shape",t,e,n),$("dtype",t,e,n),$("seed",t,e,n))];case"RandomUniform":return[i.randomUniform($("shape",t,e,n),$("minval",t,e,n),$("maxval",t,e,n),$("dtype",t,e,n))];case"RandomUniformInt":return[i.randomUniformInt($("shape",t,e,n),$("minval",t,e,n),$("maxval",t,e,n),$("seed",t,e,n))];case"Range":{const s=$("start",t,e,n),o=$("stop",t,e,n),r=$("step",t,e,n);return[i.range(s,o,r,$("dtype",t,e,n))]}case"TruncatedNormal":{const s=$("shape",t,e,n),o=$("mean",t,e,n),r=$("stdDev",t,e,n),a=$("seed",t,e,n);return[i.truncatedNormal(s,o,r,$("dtype",t,e,n),a)]}case"Zeros":return[i.zeros($("shape",t,e,n),$("dtype",t,e,n))];case"ZerosLike":return[i.zerosLike($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vw(t,e,n){const i=$("boxes",t,e,n),s=$("scores",t,e,n),o=$("maxOutputSize",t,e,n),r=$("iouThreshold",t,e,n),a=$("scoreThreshold",t,e,n),l=$("softNmsSigma",t,e,n);return{boxes:i,scores:s,maxOutputSize:o,iouThreshold:r,scoreThreshold:a,softNmsSigma:l}}const Nve=async(t,e,n,i,s=fi)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:r,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=Vw(t,e,n),d=await s.image.nonMaxSuppressionWithScoreAsync(o,r,a,l,c,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:r,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Vw(t,e,n),u=$("padToMaxOutputSize",t,e,n),d=await s.image.nonMaxSuppressionPaddedAsync(o,r,a,l,c,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:r,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=Vw(t,e,n);return[await s.image.nonMaxSuppressionAsync(o,r,a,l,c)]}case"Where":{const o=s.cast($("condition",t,e,n),"bool"),r=[await s.whereAsync(o)];return o.dispose(),r}case"ListDiff":return s.setdiff1dAsync($("x",t,e,n),$("y",t,e,n));default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dve=(t,e,n,i=fi)=>{switch(t.op){case"LowerBound":{const s=$("sortedSequence",t,e,n),o=$("values",t,e,n);return[i.lowerBound(s,o)]}case"TopKV2":{const s=$("x",t,e,n),o=$("k",t,e,n),r=$("sorted",t,e,n),a=i.topk(s,o,r);return[a.values,a.indices]}case"UpperBound":{const s=$("sortedSequence",t,e,n),o=$("values",t,e,n);return[i.upperBound(s,o)]}case"Unique":{const s=$("x",t,e,n),o=i.unique(s);return[o.values,o.indices]}case"UniqueV2":{const s=$("x",t,e,n),o=$("axis",t,e,n),r=i.unique(s,o);return[r.values,r.indices]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ove=(t,e,n,i=fi)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=$("default",t,e,n);return[si(t.name,e,n)||s];case"Placeholder":return[si(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=$("x",t,e,n);return[Hr(u)]}case"IdentityN":return $("x",t,e,n).map(u=>Hr(u));case"Snapshot":const o=$("x",t,e,n);return[Hr(o)];case"Shape":return[i.tensor1d($("x",t,e,n).shape,"int32")];case"ShapeN":return $("x",t,e,n).map(u=>i.tensor1d(u.shape));case"Size":return[i.scalar($("x",t,e,n).size,"int32")];case"Rank":return[i.scalar($("x",t,e,n).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const r=$("x",t,e,n),a=$("data",t,e,n),l=$("message",t,e,n),c=$("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[r];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rve{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=We(0),this.tensorMap=new Map,Vn(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return We(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),ie(()=>{const s=So(n),o=i.length,r=s.length;R(o===r,()=>"The number of elements doesn't match, keys has "+"".concat(o," elements, the values has ").concat(r," ")+"elements.");for(let a=0;a<o;a++){const l=i[a],c=s[a];Vn(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return ie(()=>{const s=[];for(let o=0;o<i.length;o++){const r=i[o],a=this.findWithDefault(r,n);s.push(a)}return fs(s)})}findWithDefault(e,n){const i=this.tensorMap.get(e);return i!=null?i:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(n.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(n.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lve=async(t,e,n,i)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=i.getHashTableHandleByName(t.name);if(s!=null)return[s];{const o=$("keyDType",t,e,n),r=$("valueDType",t,e,n),a=new Rve(o,r);return i.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=$("tableHandle",t,e,n,i),o=$("keys",t,e,n),r=$("values",t,e,n);return[await i.getHashTableById(s.id).import(o,r)]}case"LookupTableFind":case"LookupTableFindV2":{const s=$("tableHandle",t,e,n,i),o=$("keys",t,e,n),r=$("defaultValue",t,e,n);return[await i.getHashTableById(s.id).find(o,r)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=$("tableHandle",t,e,n,i);return[i.getHashTableById(s.id).tensorSize()]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zve=(t,e,n,i=fi)=>{switch(t.op){case"ResizeBilinear":{const s=$("images",t,e,n),o=$("size",t,e,n),r=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[i.image.resizeBilinear(s,[o[0],o[1]],r,a)]}case"ResizeNearestNeighbor":{const s=$("images",t,e,n),o=$("size",t,e,n),r=$("alignCorners",t,e,n),a=$("halfPixelCenters",t,e,n);return[i.image.resizeNearestNeighbor(s,[o[0],o[1]],r,a)]}case"CropAndResize":{const s=$("image",t,e,n),o=$("boxes",t,e,n),r=$("boxInd",t,e,n),a=$("cropSize",t,e,n),l=$("method",t,e,n),c=$("extrapolationValue",t,e,n);return[i.image.cropAndResize(s,o,r,a,l,c)]}case"ImageProjectiveTransformV3":{const s=$("images",t,e,n),o=$("transforms",t,e,n),r=$("outputShape",t,e,n),a=$("fillValue",t,e,n),l=$("interpolation",t,e,n),c=$("fillMode",t,e,n);return[i.image.transform(s,o,l.toLowerCase(),c.toLowerCase(),a,r)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fve=(t,e,n,i=fi)=>{switch(t.op){case"Equal":return[i.equal($("a",t,e,n),$("b",t,e,n))];case"NotEqual":return[i.notEqual($("a",t,e,n),$("b",t,e,n))];case"Greater":return[i.greater($("a",t,e,n),$("b",t,e,n))];case"GreaterEqual":return[i.greaterEqual($("a",t,e,n),$("b",t,e,n))];case"Less":return[i.less($("a",t,e,n),$("b",t,e,n))];case"LessEqual":return[i.lessEqual($("a",t,e,n),$("b",t,e,n))];case"LogicalAnd":return[i.logicalAnd($("a",t,e,n),$("b",t,e,n))];case"LogicalNot":return[i.logicalNot($("a",t,e,n))];case"LogicalOr":return[i.logicalOr($("a",t,e,n),$("b",t,e,n))];case"Select":case"SelectV2":return[i.where($("condition",t,e,n),$("a",t,e,n),$("b",t,e,n))];case"BitwiseAnd":return[i.bitwiseAnd($("a",t,e,n),$("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pve=(t,e,n,i=fi)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul($("a",t,e,n),$("b",t,e,n),$("transposeA",t,e,n),$("transposeB",t,e,n))];case"Einsum":return[i.einsum($("equation",t,e,n),...$("tensors",t,e,n))];case"Transpose":return[i.transpose($("x",t,e,n),$("perm",t,e,n))];case"_FusedMatMul":const[s,o]=$("fusedOps",t,e,n),r=s==="biasadd",a=o==="prelu",l=$("numArgs",t,e,n),c=$("leakyreluAlpha",t,e,n);if(r){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=$("args",t,e,n);return[i.fused.matMul({a:$("a",t,e,n),b:$("b",t,e,n),transposeA:$("transposeA",t,e,n),transposeB:$("transposeB",t,e,n),bias:u,activation:o,preluActivationWeights:d,leakyreluAlpha:c})];case"MatrixBandPart":return[i.linalg.bandPart($("a",t,e,n),$("numLower",t,e,n),$("numUpper",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bve=(t,e,n,i=fi)=>{switch(t.op){case"EuclideanNorm":return[i.euclideanNorm($("x",t,e,n),$("axis",t,e,n),$("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[i.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"FusedBatchNormV3":return[i.batchNorm($("x",t,e,n),$("mean",t,e,n),$("variance",t,e,n),$("offset",t,e,n),$("scale",t,e,n),$("epsilon",t,e,n))];case"LRN":return[i.localResponseNormalization($("x",t,e,n),$("radius",t,e,n),$("bias",t,e,n),$("alpha",t,e,n),$("beta",t,e,n))];case"Softmax":return[i.softmax($("x",t,e,n))];case"LogSoftmax":return[i.logSoftmax($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mve=(t,e,n,i=fi)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:o}=i.raggedGather($("paramsNestedSplits",t,e,n),$("paramsDenseValues",t,e,n),$("indices",t,e,n),$("outputRaggedRank",t,e,n));return s.concat(o)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:o}=i.raggedRange($("starts",t,e,n),$("limits",t,e,n),$("splits",t,e,n));return[s,o]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor($("shape",t,e,n),$("values",t,e,n),$("defaultValue",t,e,n),$("rowPartitionTensors",t,e,n),$("rowPartitionTypes",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jve=(t,e,n,i=fi)=>{switch(t.op){case"Max":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.max($("x",t,e,n),a,l)]}case"Mean":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.mean($("x",t,e,n),a,l)]}case"Min":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.min($("x",t,e,n),a,l)]}case"Sum":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.sum($("x",t,e,n),a,l)]}case"All":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.all($("x",t,e,n),a,l)]}case"Any":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.any($("x",t,e,n),a,l)]}case"ArgMax":{const a=$("axis",t,e,n);return[i.argMax($("x",t,e,n),a)]}case"ArgMin":{const a=$("axis",t,e,n);return[i.argMin($("x",t,e,n),a)]}case"Prod":{const a=$("axis",t,e,n),l=$("keepDims",t,e,n);return[i.prod($("x",t,e,n),a,l)]}case"Cumprod":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[i.cumprod($("x",t,e,n),a,l,c)]}case"Cumsum":{const a=$("axis",t,e,n),l=$("exclusive",t,e,n),c=$("reverse",t,e,n);return[i.cumsum($("x",t,e,n),a,l,c)]}case"Bincount":const s=$("x",t,e,n),o=$("weights",t,e,n),r=$("size",t,e,n);return[i.bincount(s,o,r)];case"DenseBincount":{const a=$("x",t,e,n),l=$("weights",t,e,n),c=$("size",t,e,n),u=$("binaryOutput",t,e,n);return[i.denseBincount(a,l,c,u)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uve=(t,e,n,i=fi)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=$("n",t,e,n),o=$("axis",t,e,n);let r=$("tensors",t,e,n);return r=r.slice(0,s),[i.concat(r,o)]}case"Gather":{const s=$("x",t,e,n),o=$("indices",t,e,n);return[i.gather(s,i.cast(o,"int32"),0)]}case"GatherV2":{const s=$("axis",t,e,n),o=$("batchDims",t,e,n),r=$("x",t,e,n),a=$("indices",t,e,n);return[i.gather(r,i.cast(a,"int32"),s,o)]}case"Reverse":{const s=$("dims",t,e,n),o=[];for(let a=0;a<s.length;a++)s[a]&&o.push(a);const r=$("x",t,e,n);return[i.reverse(r,o)]}case"ReverseV2":{const s=$("axis",t,e,n),o=$("x",t,e,n);return[i.reverse(o,s)]}case"Slice":{const s=$("begin",t,e,n),o=$("size",t,e,n);return[i.slice($("x",t,e,n),s,o)]}case"StridedSlice":{const s=$("begin",t,e,n),o=$("end",t,e,n),r=$("strides",t,e,n),a=$("beginMask",t,e,n),l=$("endMask",t,e,n),c=$("ellipsisMask",t,e,n),u=$("newAxisMask",t,e,n),d=$("shrinkAxisMask",t,e,n),h=$("x",t,e,n);return[i.stridedSlice(h,s,o,r,a,l,c,u,d)]}case"Pack":return ie(()=>{const s=$("axis",t,e,n),o=$("tensors",t,e,n),r=o[0].shape,a=i.squeeze(o[0]).shape,l=o.map(c=>{const u=gt(c.shape,r);if(!u&&!gt(i.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:i.reshape(c,r)});return[i.stack(l,s)]});case"Unpack":{const s=$("axis",t,e,n),o=$("tensor",t,e,n);return i.unstack(o,s)}case"Tile":{const s=$("reps",t,e,n);return[i.tile($("x",t,e,n),s)]}case"Split":case"SplitV":{const s=$("axis",t,e,n),o=$("numOrSizeSplits",t,e,n),r=$("x",t,e,n);return i.split(r,o,s)}case"ScatterNd":{const s=$("indices",t,e,n),o=$("values",t,e,n),r=$("shape",t,e,n);return[i.scatterND(s,o,r)]}case"GatherNd":{const s=$("x",t,e,n),o=$("indices",t,e,n);return[i.gatherND(s,o)]}case"SparseToDense":{const s=$("sparseIndices",t,e,n),o=$("outputShape",t,e,n),r=$("sparseValues",t,e,n),a=$("defaultValue",t,e,n);return[i.sparseToDense(s,r,o,r.dtype===a.dtype?a:i.cast(a,r.dtype))]}case"TensorScatterUpdate":{const s=$("indices",t,e,n),o=$("values",t,e,n),r=$("tensor",t,e,n);return[i.tensorScatterUpdate(r,s,o)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vve=(t,e,n,i=fi)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:o,emptyRowIndicator:r,reverseIndexMap:a}=i.sparse.sparseFillEmptyRows($("indices",t,e,n),$("values",t,e,n),$("denseShape",t,e,n),$("defaultValue",t,e,n));return[s,o,r,a]}case"SparseReshape":{const{outputIndices:s,outputShape:o}=i.sparse.sparseReshape($("inputIndices",t,e,n),$("inputShape",t,e,n),$("newShape",t,e,n));return[s,o]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum($("data",t,e,n),$("indices",t,e,n),$("segmentIds",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hve=(t,e,n,i=fi)=>{switch(t.op){case"FFT":return[i.fft($("x",t,e,n))];case"IFFT":return[i.ifft($("x",t,e,n))];case"RFFT":return[i.rfft($("x",t,e,n))];case"IRFFT":return[i.irfft($("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wve=(t,e,n,i=fi)=>{switch(t.op){case"StaticRegexReplace":return[i.string.staticRegexReplace($("input",t,e,n),$("pattern",t,e,n),$("rewrite",t,e,n),$("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:o}=i.string.stringNGrams($("data",t,e,n),$("dataSplits",t,e,n),$("separator",t,e,n),$("nGramWidths",t,e,n),$("leftPad",t,e,n),$("rightPad",t,e,n),$("padWidth",t,e,n),$("preserveShortSequences",t,e,n));return[s,o]}case"StringSplit":{const{indices:s,values:o,shape:r}=i.string.stringSplit($("input",t,e,n),$("delimiter",t,e,n),$("skipEmpty",t,e,n));return[s,o,r]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast($("input",t,e,n),$("numBuckets",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gve=(t,e,n,i=fi)=>{switch(t.op){case"Cast":return[i.cast($("x",t,e,n),$("dtype",t,e,n))];case"ExpandDims":{const s=$("axis",t,e,n);return[i.expandDims($("x",t,e,n),s)]}case"Squeeze":{const s=$("axis",t,e,n);return[i.squeeze($("x",t,e,n),s)]}case"Reshape":return[i.reshape($("x",t,e,n),$("shape",t,e,n))];case"EnsureShape":return[i.ensureShape($("x",t,e,n),$("shape",t,e,n))];case"MirrorPad":return[i.mirrorPad($("x",t,e,n),$("padding",t,e,n),$("mode",t,e,n))];case"PadV2":case"Pad":return[i.pad($("x",t,e,n),$("padding",t,e,n),$("constantValue",t,e,n))];case"SpaceToBatchND":{const s=$("blockShape",t,e,n),o=$("paddings",t,e,n);return[i.spaceToBatchND($("x",t,e,n),s,o)]}case"BatchToSpaceND":{const s=$("blockShape",t,e,n),o=$("crops",t,e,n);return[i.batchToSpaceND($("x",t,e,n),s,o)]}case"DepthToSpace":{const s=$("blockSize",t,e,n),o=$("dataFormat",t,e,n).toUpperCase();return[i.depthToSpace($("x",t,e,n),s,o)]}case"BroadcastTo":return[i.broadcastTo($("x",t,e,n),$("shape",t,e,n))];case"BroadcastArgs":return[i.broadcastArgs($("s0",t,e,n),$("s1",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e,n,i,s=ie){const o=((r,a,l)=>{switch(r.category){case"arithmetic":return s(()=>wve(r,a,l));case"basic_math":return s(()=>kve(r,a,l));case"control":return $ve(r,a,l);case"convolution":return s(()=>_ve(r,a,l));case"creation":return s(()=>Ave(r,a,l));case"dynamic":return Nve(r,a,l);case"evaluation":return s(()=>Dve(r,a,l));case"image":return s(()=>zve(r,a,l));case"graph":return s(()=>Ove(r,a,l));case"logical":return s(()=>Fve(r,a,l));case"matrices":return s(()=>Pve(r,a,l));case"normalization":return s(()=>Bve(r,a,l));case"ragged":return s(()=>Mve(r,a,l));case"reduction":return s(()=>jve(r,a,l));case"slice_join":return s(()=>Uve(r,a,l));case"sparse":return s(()=>Vve(r,a,l));case"spectral":return s(()=>Hve(r,a,l));case"string":return s(()=>Wve(r,a,l));case"transformation":return s(()=>Gve(r,a,l));case"hash_table":return Lve(r,a,l,i);case"custom":const c=bM(r.op);if(c&&c.customExecutor)return c.customExecutor(new vve(r,a,l));throw TypeError("Custom op ".concat(r.op," is not registered."));default:throw TypeError("Unknown op '".concat(r.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(t,e,n);return Hc(o)?o.then(r=>[].concat(r)):[].concat(o)}class AN{constructor(e={},n={},i={},s={},o){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=i,this.functionMap=s,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const i=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(i))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":"".concat(n.frameName,"-").concat(n.iterationId)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NN(t,e,n,i){const s=new Set,o=[];let r=null,a=null;const l=new Set,c=new Set(Object.keys(t).map(h=>ts(h)[0]));i=i||[];const u=new Set(i.map(h=>ts(h.name)[0])),d=[...e];for(;d.length>0;){const h=d.pop();if((cc(h)||e1e(h)||t1e(h))&&r==null&&(r=h,a=r.children.map(p=>p.name).filter(p=>s.has(p))),s.add(h.name),n[h.name]==null&&!c.has(h.name)&&!u.has(h.name)){if(h.inputs.length===0){o.push(h.name);continue}h.inputs.forEach(p=>{l.has(p.name)||(l.add(p.name),d.push(p))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:o,dynamicNode:r,syncInputs:a}}function qve(t,e){const{usedNodes:n,inputs:i}=e,s=Object.keys(i).map(b=>ts(b)[0]).map(b=>t.nodes[b]),o=t.initNodes||[],r=b=>n.has(typeof b=="string"?b:b.name);function a(b){return[...new Map(b.map(g=>[g.name,g])).values()]}const l=a([...s,...t.weights,...o]).filter(r),c=a([...l,...Object.values(t.nodes)]).filter(r),u=new Map(c.map(b=>[b.name,b])),d={};for(const b of c){d[b.name]=d[b.name]||0;for(const g of b.children)r(g)||(d[g.name]=Number.POSITIVE_INFINITY),d[g.name]=(d[g.name]||0)+1}const h=Object.entries(d).filter(([,b])=>b===0).map(([b])=>b),p=[...h];for(;h.length>0;){const b=h.pop(),g=u.get(b);for(const x of g.children.filter(r))--d[x.name]===0&&(p.push(x.name),h.push(x.name))}const f=p.map(b=>u.get(b)),m=Kve(f,l);return Xve(m,l),m}function Kve(t,e){const n=new Map(t.map(r=>[r.name,r])),i=e.map(r=>r.name),s=new Set(i);for(;i.length>0;){const r=i.pop(),a=n.get(r);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),i.push(l.name))}return t.filter(r=>s.has(r.name))}class ab extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}function Xve(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),i=new Set(e.map(a=>a.name)),s=a=>i.has(typeof a=="string"?a:a.name),o=new Set(t.map(a=>a.name)),r=a=>o.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(r)){if(!n.has(l.name))throw new ab("Child ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(a.name)>n.get(l.name))throw new ab("Node ".concat(a.name," is scheduled to run after its child ").concat(l.name,"."))}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new ab("Input ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(l.name)>n.get(a.name))throw new ab("Node ".concat(a.name," is scheduled to run before its input ").concat(l.name,"."))}}}function Yve(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,i=t.map((a,l)=>cc(a)?n:l),s=a=>{const l=i[e.get(a.name)];return l==null?-1:l},o=t.map((a,l)=>a.children.map(s).reduce((c,u)=>Math.max(c,u),i[l])),r=new Map;for(let a=0;a<t.length;++a){const l=o[a];if(l===n)continue;const c=t[a],u=t[l];r.has(u.name)||r.set(u.name,[]),r.get(u.name).push(c)}return r}const Zve=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Jve=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Qve=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function cc(t){return Zve.has(t.op)}function e1e(t){return Jve.has(t.op)}function t1e(t){return Qve.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sx{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(i=>e[i].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?"".concat(n,":").concat(e.defaultOutput):n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(i=>{this._functionExecutorMap[i]=new sx(e.functions[i],this)})}getCompilationKey(e,n){const i=e.map(o=>o.name).sort(),s=n.map(o=>o.name).sort();return i.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const i=NN(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:o,syncInputs:r}=i;if(o!=null)throw new Error("This execution contains the node '".concat(o.name,"', which has ")+"the dynamic op '".concat(o.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(r,"]"));if(s.length>0){const c=n.map(d=>d.name),u=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(c,"] from the provided inputs ")+"[".concat(u,"]. Missing the following inputs: [").concat(s,"]"))}const a=qve(this.graph,i),l=Yve(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Vn(n),n}cloneTensorList(e){return e?e.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,this.cloneTensorList(i)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=i.map(h=>this.graph.nodes[ts(h)[0]]),o=n.map(h=>ts(h)[0]),r=new Set(o);let a=o.map(h=>this.graph.nodes[h]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let c=this.compiledMap.get(l);c==null&&(c=this.compile(e,a),this.compiledMap.set(l,c));try{this.keepIntermediateTensors=re().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const u={},d={};return ie(()=>{const h=new AN(this.weightMap,u,d,this.functionExecutorMap,this.parseNodeNameCache),p=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(g=>{const[x,y]=ts(g,h),v=[];v[y]=e[g],p[x]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(v))});const f=this.getFrozenTensorIds(p),{orderedNodes:m,nodeLiveUntilMap:b}=c;for(const g of m){if(p[g.name])continue;const x=_N(g,p,h,this._resourceManager);if(Hc(x))throw new Error("The execution of the op '".concat(g.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");p[g.name]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(x)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,p,h,f,r,b.get(g.name))}return this.parent==null&&h.dispose(f),n.map(g=>si(g,p,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(i=>e[i]).map(i=>i.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,i,s,o,r,a){if(!(cc(n)||r.has(e))){for(const l of i[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(cc(l))continue;const c=CN(l.name,i,s);if(c!=null)for(const u of c){if(!u||u.kept||o.has(u.id))continue;const d=a[u.id];d===1?(u.dispose(),delete a[u.id]):d!=null&&a[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,i,s,o,r){function a(l){return cc(l)||o.has(l.name)}if(!(cc(e)||r==null))for(const l of r){if(a(l))continue;const c=CN(l.name,n,i);for(const u of c)!u||u.kept||s.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,i=!1,s={},o={}){this.disposeIntermediateTensors(),i||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=re().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const r=new AN(this.weightMap,s,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,r,n,i),l=n.map(h=>si(h,a,r)),c=l.map(h=>h.id),u=Object.keys(e).map(h=>e[h].id),d=new Set([...c,...u,...this.weightIds]);return Object.values(a).forEach(h=>{h.forEach(p=>{p&&!p.isDisposed&&!d.has(p.id)&&p.dispose()})}),this.parent==null&&r.dispose(d),l}async executeFunctionAsync(e,n,i){const s=e.reduce((o,r,a)=>(o[this.inputs[a].name]=r,o),{});return this._executeAsync(s,this.outputNodes,!0,n,i)}async executeWithControlFlow(e,n,i,s){const o=Object.keys(e),r=o.map(v=>this.graph.nodes[ts(v)[0]]),a=i.map(v=>ts(v)[0]),l=new Set(a);let c=a.map(v=>this.graph.nodes[v]);c.length===0&&(c=this._outputs);const{usedNodes:u,missingInputs:d,dynamicNode:h,syncInputs:p}=NN(e,c,this.weightMap,this._initNodes),f=[...r,...this.graph.weights,...this._initNodes||[]].map(v=>({node:v,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(v=>{const[w,C]=ts(v),k=[];k[C]=e[v],m[w]=k});const b={},g=this.getFrozenTensorIds(m),x={};for(;f.length>0;){const v=this.processStack(r,f,n,m,x,g,l,b,u);await Promise.all(v)}h==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=c.filter(v=>!cc(v)&&!si(v.name,m,n)).map(v=>v.name);if(y.length>0){let v="";throw h!=null&&(v="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(v))}return m}processStack(e,n,i,s,o,r,a,l,c){const u=[];for(;n.length>0;){const d=n.pop();i.currentContext=d.contexts;let h="";if(d.node.op==="Enter"&&$("isConstant",d.node,s,i)&&([h]=Vr(d.node.name,i)),s[d.node.name]==null){const p=_N(d.node,s,i,this._resourceManager);h||([h]=Vr(d.node.name,i));const f=i.currentContext;Hc(p)?u.push(p.then(m=>(s[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),i.currentContext=f,this.checkTensorForDisposal(h,d.node,s,i,r,a,l),this.processChildNodes(d.node,n,i,s,o,c),m))):(s[h]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(p)),this.checkTensorForDisposal(h,d.node,s,i,r,a,l),this.processChildNodes(d.node,n,i,s,o,c))}else this.processChildNodes(d.node,n,i,s,o,c)}return u}processChildNodes(e,n,i,s,o,r){e.children.forEach(a=>{const[l]=Vr(a.name,i);o[l]||!r.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!si(c,s,i))&&(o[l]=!0,n.push({contexts:i.currentContext,node:a})):a.inputNames.every(c=>!!si(c,s,i))&&(o[l]=!0,n.push({contexts:i.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const i=e[n],[s]=ts(n),o=this.graph.nodes[s];if(o.attrParams.shape&&o.attrParams.shape.value){const r=o.attrParams.shape.value,a=r.length===i.shape.length&&i.shape.every((l,c)=>r[c]===-1||r[c]===l);R(a,()=>"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(r,"], but was ")+"[".concat(i.shape,"]"))}o.attrParams.dtype&&o.attrParams.dtype.value&&R(i.dtype===o.attrParams.dtype.value,()=>"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(i.dtype))})}mapInputs(e){var n,i;const s={};for(const o in e){const r=(i=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||i===void 0?void 0:i[o];r!=null?s[r.name]=e[o]:s[o]=e[o]}return s}checkInputs(e){const n=Object.keys(e).filter(i=>{const[s]=ts(i);return this.graph.nodes[s]==null});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}mapOutputs(e){return e.map(n=>{var i,s;const o=(s=(i=this._signature)===null||i===void 0?void 0:i.outputs)===null||s===void 0?void 0:s[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[i]=ts(n);if(!this.graph.nodes[i])throw new Error("The output '".concat(n,"' is not found in the graph"))})}}class n1e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i1e="?tfjs-format=file",s1e="model.json";class o1e{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},i=vF){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=i,n==null&&(this.loadOptions={}),this.resourceManager=new n1e}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error("Found more than one (".concat(n.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Hc(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await H8(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const i=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(s=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=s,this.version="".concat(i.versions.producer,".").concat(i.versions.minConsumer),this.executor=new sx(EN.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=EN.Instance.transformGraph(e.modelInitializer);this.initializer=new sx(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const i=this.io.getSaveHandlers(e);if(i.length===0)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(i.length>1)throw new Error("Found more than one (".concat(i.length,") save handlers for ")+"URL '".concat(e,"'"));e=i[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof It?[e]:e,i={};return n.forEach((s,o)=>i[this.structuredOutputKeys[o]]=s),i}return e}predict(e,n){const i=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(i)}async predictAsync(e,n){const i=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(i)}normalizeInputs(e){var n;if(!(e instanceof It)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const r in o){const a=o[r];a.resourceId!=null&&(e[r]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const i=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+i!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-i," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let s=0;return this.inputNodes.reduce((o,r)=>{var a,l,c;const u=(c=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[r])===null||c===void 0?void 0:c.resourceId;return u!=null?o[r]=this.resourceIdToCapturedInput[u]:o[r]=e[s++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,i=Object.keys(n);for(let s=0;s<i.length;s++){const o=i[s],r=n[o];this.resourceIdToCapturedInput[r.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=this.executor.execute(e,n);return i.length>1?i:i[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=await this.executor.executeAsync(e,n);return i.length>1?i:i[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,i)=>(n[i]=[e[i]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&at(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function DN(t,e={},n=vF){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=r1e(t));const i=new o1e(t,e,n);return await i.load(),i}function r1e(t){return t.endsWith("/")||(t=t+"/"),"".concat(t).concat(s1e).concat(i1e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var ON;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(ON||(ON={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ze(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&R(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors in the CPU backend."))})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a1e=RI;class d1 extends ME{nextDataId(){return d1.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new h8(this,lr())}write(e,n,i){this.firstUse&&(this.firstUse=!1,re().get("IS_NODE")&&Is("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:i,refCount:1}),s}makeTensorInfo(e,n,i){let s;if(n==="string"&&i!=null&&i.length>0&&em(i[0])){const o=i.map(r=>ll(r));s=this.write(o,e,n)}else s=this.write(i,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,i,s,o){this.data.set(e,{values:n,dtype:s,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:i}=this.data.get(e);if(n==="complex64"){const s=this.readSync(i.real.dataId),o=this.readSync(i.imag.dataId);return fa(s,o)}return ple(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(s=>gl(s));return nt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return nt(e.shape,e.dtype,n)}makeOutput(e,n,i){return lr().makeTensorFromTensorInfo(this.makeTensorInfo(n,i,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:i}=this.data.get(e);i!=null&&(this.disposeData(i.real.dataId,!0),this.disposeData(i.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Pi();return e(),{kernelMs:Pi()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){ze([e],"where");const n=this.readSync(e.dataId);return a1e(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}d1.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vM(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const l1e=t=>{const{x:e}=t.inputs,n=t.backend;ze(e,"abs");let i=new Float32Array(ae(e.shape));const s=n.data.get(e.dataId).values;return i=vM(s),n.makeOutput(i,e.shape,e.dtype)},c1e={kernelName:Cy,backendName:"cpu",kernelFunc:l1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vn(t){return(e,n,i,s,o)=>{const r=Je(e,n),a=r.length,l=He(r),c=ae(r),u=li(o,c),d=e.length,h=n.length,p=He(e),f=He(n),m=Yd(e,r),b=Yd(n,r);if(m.length+b.length===0)for(let g=0;g<u.length;++g)u[g]=t(i[g%i.length],s[g%s.length]);else for(let g=0;g<u.length;++g){const x=Sh(g,a,l),y=x.slice(-d);m.forEach(k=>y[k]=0);const v=vr(y,d,p),w=x.slice(-h);b.forEach(k=>w[k]=0);const C=vr(w,h,f);u[g]=t(i[v],s[C])}return[u,r]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function is(t){const{inputs:e,backend:n}=t,{real:i,imag:s}=e,o=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,a=n.makeTensorInfo(i.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(i.shape,"float32",o),imag:n.makeTensorInfo(s.shape,"float32",r)},a}const u1e={kernelName:YE,backendName:"cpu",kernelFunc:is};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ox(t,e,n="float32"){if(n==="complex64"){const s=ox(t,e,"float32"),o=ox(t,e,"float32");return is({inputs:{real:s,imag:o},backend:t})}const i=Ci(ae(e),n);return t.makeTensorInfo(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $r(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const d1e={kernelName:wm,backendName:"cpu",kernelFunc:$r};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tu(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.data.get(i.dataId).complexTensorInfos.real,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const h1e={kernelName:$T,backendName:"cpu",kernelFunc:tu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wM(t,e,n,i){if(i==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(i==="bool"){const s=gu([0],n),[o,r]=vn((a,l)=>a!==l?1:0)(e,[],t,s,"bool");return[r,"bool",o]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(i))}function El(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dtype:o}=i;if(o==="complex64"){if(s.dtype==="complex64")return $r({inputs:{x:s},backend:n});const u=ox(n,s.shape,s.dtype),d=El({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),h=is({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),h}if(s.dtype==="complex64"){const u=tu({inputs:{input:s},backend:n}),d=El({inputs:{x:u},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(u),d}if(!f8(s.dtype,o)){const u=$r({inputs:{x:s},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:o}}const r=n.data.get(s.dataId).values,[a,l,c]=wM(r,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,c)}const p1e={kernelName:lm,backendName:"cpu",kernelFunc:El};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fn(t,e,n,i){return n==null?({inputs:s,backend:o})=>{const{a:r,b:a}=s,l=o;ze([r,a],t);const c=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,d=r.dtype==="string"?ma(c):c,h=r.dtype==="string"?ma(u):u,p=i||r.dtype,[f,m]=e(r.shape,a.shape,d,h,p);return l.makeTensorInfo(m,p,f)}:({inputs:s,backend:o})=>{const{a:r,b:a}=s,l=o;if(r.dtype==="complex64"||a.dtype==="complex64"){const c=El({inputs:{x:r},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,h=u.complexTensorInfos.imag,p=l.data.get(d.dataId).values,f=l.data.get(h.dataId).values,m=El({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),b=l.data.get(m.dataId),g=b.complexTensorInfos.real,x=b.complexTensorInfos.imag,y=l.data.get(g.dataId).values,v=l.data.get(x.dataId).values,[w,C,k]=n(r.shape,a.shape,p,f,y,v),E=l.makeTensorInfo(k,"float32",w),T=l.makeTensorInfo(k,"float32",C),_=is({inputs:{real:E,imag:T},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(E),l.disposeIntermediateTensorInfo(T),_}else{const c=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,d=i||r.dtype,[h,p]=e(r.shape,a.shape,c,u,d);return l.makeTensorInfo(p,d,h)}}}function P$(t){return(e,n,i,s,o,r)=>{const a=Je(e,n),l=ae(a),c=a.length,u=He(a),d=li("float32",l),h=li("float32",l),p=Yd(e,a),f=Yd(n,a),m=fa(i,s),b=fa(o,r),g=e.length,x=He(e),y=n.length,v=He(n);if(p.length+f.length===0)for(let w=0;w<d.length;w++){const C=w%m.length,k=w%b.length,E=t(m[C*2],m[C*2+1],b[k*2],b[k*2+1]);d[w]=E.real,h[w]=E.imag}else for(let w=0;w<d.length;w++){const C=Sh(w,c,u),k=C.slice(-g);p.forEach(N=>k[N]=0);const E=vr(k,g,x),T=C.slice(-y);f.forEach(N=>T[N]=0);const _=vr(T,y,v),z=t(m[E*2],m[E*2+1],b[_*2],b[_*2+1]);d[w]=z.real,h[w]=z.imag}return[d,h,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kM=vn((t,e)=>t+e),f1e=P$((t,e,n,i)=>({real:t+n,imag:e+i})),eh=Fn(Ch,kM,f1e),m1e={kernelName:Ch,backendName:"cpu",kernelFunc:eh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B$(t,e,n,i,s){const o=ae(i),r=Ci(s,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(o>0?r[l]+=e[a]:r[l]+=1)}return r}function SM(t,e,n,i=!1){const s=t.shape[0],o=t.shape[1],r=nt([s,n],e.dtype);for(let a=0;a<s;a++)for(let l=0;l<o;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(i?r.set(1,a,c):e.size>0?r.set(r.get(a,c)+e.get(a,l),a,c):r.set(r.get(a,c)+1,a,c))}return r}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CM=vn((t,e)=>t&e),g1e=Fn(Dy,CM),b1e={kernelName:Dy,backendName:"cpu",kernelFunc:g1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Or(t){return(e,n,i)=>{const s=mn(n,e.length);for(let o=0;o<e.length;++o)s[o]=t(e[o],i);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $t(t,e,n){const i=Or(e);return Ul(t,i,n)}function Ul(t,e,n){return({inputs:i,attrs:s,backend:o})=>{const{x:r}=i;ze(r,t);const a=o,l=a.data.get(r.dataId).values;let c;if(r.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=ma(l)}else c=l;const u=n||r.dtype,d=e(c,u,s);return a.makeTensorInfo(r.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EM=Or(t=>Math.ceil(t)),x1e=Ul(cm,EM),y1e={kernelName:cm,backendName:"cpu",kernelFunc:x1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TM(t,e,n,i){const s=mn(n,ae(e));if(i&&n!=="string"){let o=0;t.forEach(r=>{const a=ae(r.shape);s.set(r.vals,o),o+=a})}else{let o=0;t.forEach(r=>{const a=n==="string"?ma(r.vals):r.vals;let l=0;for(let c=0;c<r.shape[0];++c){const u=c*e[1]+o;for(let d=0;d<r.shape[1];++d)s[u+d]=a[l++]}o+=r.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IM=vn((t,e)=>t===e?1:0),$M=Fn(jy,IM,null,"bool"),v1e={kernelName:jy,backendName:"cpu",kernelFunc:$M};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _M=Or(t=>Math.exp(t)),AM=Ul(gm,_M,"float32"),w1e={kernelName:gm,backendName:"cpu",kernelFunc:AM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NM=Or(t=>Math.expm1(t)),k1e=Ul(bm,NM),S1e={kernelName:bm,backendName:"cpu",kernelFunc:k1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DM=Or(t=>Math.floor(t)),C1e=Ul(xm,DM),E1e={kernelName:xm,backendName:"cpu",kernelFunc:C1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OM=vn((t,e)=>Math.floor(t/e)),T1e=Fn(ym,OM,null,"int32"),I1e={kernelName:ym,backendName:"cpu",kernelFunc:T1e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RM(t,e,n,i,s,o,r,a,l){const c=nt([i,o],n);for(let u=0;u<i;u++){const d=[];let h=0;for(let p=0;p<s;p++){const f=t[u*s+p];h+=f*r[p],d.push(f)}if(h<0||h>=l/o)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(a));for(let p=0;p<o;p++)c.values[u*o+p]=e.get(...e.indexToLoc(h*o+p))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LM(t,e,n){const i=nt(n,t.dtype);for(let s=0;s<i.size;++s){const r=i.indexToLoc(s).slice(),a=r[0],l=r[2],c=e.locToIndex([a,l]);r[2]=e.values[c];const u=t.locToIndex(r);0<=u&&u<t.values.length&&(i.values[s]=t.values[u])}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zM=vn((t,e)=>t>e?1:0),$1e=Fn(Wy,zM,null,"bool"),_1e={kernelName:Wy,backendName:"cpu",kernelFunc:$1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FM=vn((t,e)=>t>=e?1:0),A1e=Fn(vm,FM,null,"bool"),N1e={kernelName:vm,backendName:"cpu",kernelFunc:A1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PM=vn((t,e)=>t<e?1:0),D1e=Fn(qy,PM,null,"bool"),O1e={kernelName:qy,backendName:"cpu",kernelFunc:D1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BM=vn((t,e)=>t<=e?1:0),R1e=Fn(Ky,BM,null,"bool"),L1e={kernelName:Ky,backendName:"cpu",kernelFunc:R1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MM(t,e,n){const i=(e-t)/(n-1),s=Ci(n,"float32");s[0]=t;for(let o=1;o<s.length;o++)s[o]=s[o-1]+i;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jM=Or(t=>Math.log(t)),z1e=Ul(Em,jM),F1e={kernelName:Em,backendName:"cpu",kernelFunc:z1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UM(t,e,n,i){const s=li(i,ae(n));for(let o=0;o<s.length;++o){const r=o*e;let a=t[r];for(let l=0;l<e;++l){const c=t[r+l];(Number.isNaN(c)||c>a)&&(a=c)}s[o]=a}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VM=vn((t,e)=>Math.max(t,e)),P1e=Fn(Im,VM),B1e={kernelName:Im,backendName:"cpu",kernelFunc:P1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HM=vn((t,e)=>Math.min(t,e)),M1e=Fn($m,HM),j1e={kernelName:$m,backendName:"cpu",kernelFunc:M1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M$=vn((t,e)=>t*e),U1e=P$((t,e,n,i)=>({real:t*n-e*i,imag:t*i+e*n})),h1=Fn(Am,M$,U1e),V1e={kernelName:Am,backendName:"cpu",kernelFunc:h1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WM(t,e,n){const i=Ol(-1,n);return M$([],e,i,t,n)}function H1e(t){const{inputs:e,backend:n}=t,{x:i}=e;ze(i,"neg");const s=n.data.get(i.dataId).values,[o,r]=WM(s,i.shape,i.dtype);return n.makeTensorInfo(r,i.dtype,o)}const W1e={kernelName:ov,backendName:"cpu",kernelFunc:H1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GM=vn((t,e)=>t!==e?1:0),G1e=Fn(rv,GM,null,"bool"),q1e={kernelName:rv,backendName:"cpu",kernelFunc:G1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j$(t,e,n,i,s){const o=e.length,r=ae(e),a=He(e),l=He(s),c=li(n,ae(s));for(let u=0;u<r;++u){const d=Sh(u,o,a),h=new Array(d.length);for(let f=0;f<h.length;f++)h[f]=d[i[f]];const p=vr(h,o,l);c[p]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xi(t){const{inputs:e,attrs:n,backend:i}=t,{x:s}=e,{perm:o}=n;ze(s,"transpose");const r=s.shape.length,a=new Array(r);for(let d=0;d<a.length;d++)a[d]=s.shape[o[d]];const l=i.data.get(s.dataId).values,c=j$(l,s.shape,s.dtype,o,a);return{dataId:i.write(c,a,s.dtype),shape:a,dtype:s.dtype}}const K1e={kernelName:Ed,backendName:"cpu",kernelFunc:Xi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qM(t,e,n,i){const[s,o]=Zn(t,i),r=ds(e,"int32"),a=Ci(ae(s),r),l=ae(o);for(let c=0;c<a.length;++c){const u=c*l;let d=1;for(let h=0;h<l;++h)d*=n[u+h];a[c]=d}return{outVals:a,outShape:s,outDtype:r}}function X1e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;ze(s,"prod");const a=s.shape.length,l=ct(o,s.shape),c=sn(l,a);let u=l,d=s;const h=[];c!=null&&(d=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),h.push(d),u=xn(u.length,a));const p=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:b}=qM(d.shape,d.dtype,p,u);let g=m;return r&&(g=bn(m,l)),h.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(g,b,f)}const Y1e={kernelName:hv,backendName:"cpu",kernelFunc:X1e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z1e(t,e,n){t.forEach((i,s)=>{if(i<0||i>=n){const o=Sh(s,e.length,He(e)).join(",");throw new Error("indices[".concat(o,"] = ").concat(i," is not in [0, ").concat(n,")"))}})}function J1e(t,e){for(let n=0;n<t.length;++n){const i=t[n],s=n===t.length-1?e:t[n+1].length;if(i.length===0)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>s)throw new Error("Ragged splits must not point past values");for(let o=1;o<i.length;++o)if(i[o-1]>i[o])throw new Error("Ragged splits must be sorted in ascending order")}}function Q1e(t,e,n,i){const s=[];let o=0;const r=e.length-1+n.length,a=new Array(r).fill(null).map(()=>[0]);J1e(n,i);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)a[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let h=0;h<n.length;++h){const p=n[h],f=h+e.length-1;if(f>=0){const m=a[f],b=m[m.length-1]-p[u];for(let g=u;g<d;++g)a[f].push(p[g+1]+b)}u=p[u],d=p[d]}d!==u&&(s.push([u,d]),o+=d-u)}return{outSplits:a,valueSlices:s,numValues:o}}function ewe(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n].length,s=mn("int32",i);e.push(s),t[n].forEach((o,r)=>s[r]=o)}return e}function RN(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let i=e;i<t.length;i++)n[e-1]*=t[i];return n}function twe(t,e,n,i,s,o){const r=RN(e,2)[1],a=RN(o,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<i;++d)s[l*a+d]=t[u*r+d];++l}}function nwe(t,e,n,i,s){const o=e.slice();o[0]=s;const r=mn(n,ae(o)),a=t.length,l=a===0?0:a/e[0];return twe(t,e,i,l,r,o),[r,o]}function KM(t,e,n,i,s,o,r,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(Z1e(o,r,l),i.length===0)throw new Error("params.rank must be nonzero");const c=i[0],{outSplits:u,valueSlices:d,numValues:h}=Q1e(o,r,t,c),p=ewe(u),f=nwe(n,i,s,d,h);return[p,f[0],f[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LN=2147483647;function XM(t,e,n,i,s,o,r){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(r.length>1)throw new Error("deltas must be a scalar or vector");const a=e.length===0,l=s.length===0,c=r.length===0,u=[];a||u.push(e[0]),l||u.push(s[0]),c||u.push(r[0]);for(let b=1;b<u.length;++b)if(u[b]!==u[b-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],h=mn("int32",d+1);h[0]=0;for(let b=0;b<d;++b){const g=a?t[0]:t[b],x=l?i[0]:i[b],y=c?o[0]:o[b];if(y===0)throw new Error("Requires delta != 0");let v;if(y>0&&x<g||y<0&&x>g)v=0;else if(v=Math.ceil(Math.abs((x-g)/y)),v>LN)throw new Error("Requires ((limit - start) / delta) <= ".concat(LN));h[b+1]=h[b]+v}const p=h[d],f=mn(n,p);let m=0;for(let b=0;b<d;++b){const g=h[b+1]-h[b];let x=a?t[0]:t[b];const y=c?o[0]:o[b];for(let v=0;v<g;++v)f[m++]=x,x+=y}return[h,f]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Gs=Po;class rx{constructor(e,n,i,s,o,r,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=i,this.valuesShape=s,this.valuesDType=o,this.defaultValue=r,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=NF(u),this.raggedRank=DF(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Gs.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Gs.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Gs.VALUE_ROWIDS:return rx.getMaxWidthValueRowID(n);case Gs.ROW_SPLITS:return rx.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat(Gs[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let i=0;for(let s=0;s<n-1;++s){const o=e[s+1]-e[s];o>i&&(i=o)}return i}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let i=0,s=e[0],o=0;for(let r=1;r<n;++r){const a=e[r];a!==s&&(s=a,o=Math.max(r-i,o),i=r)}return Math.max(n-i,o)}tensorShapeFromTensor(e,n,i=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return FN(e,i)}calculateOutputSize(e){const n=this.valuesShape,i=this.defaultValueShape;OF(i,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=AF(this.raggedRank,s,n);r[0]<0&&(r[0]=e);for(let a=1;a<=this.raggedRank;++a)r[a]<0&&(r[a]=this.getMaxWidth(a));return r}calculateFirstParentOutputIndex(e,n,i){const s=Math.min(e,i),o=[];let r=0;for(let a=0;a<s;++a,r+=n)o.push(r);for(let a=s;a<e;++a)o.push(-1);return R(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,i,s){const o=e.length,r=[];for(let a=0;a<o-1;++a){const l=e[a+1]-e[a];let c=Math.min(s,l),u=n[a];u===-1&&(c=0);for(let d=0;d<c;++d)r.push(u),u+=i;for(let d=0;d<l-c;++d)r.push(-1)}if(o>0&&r.length!==e[o-1])throw new Error("Invalid row split size.");return r}calculateOutputIndexValueRowID(e,n,i,s){const o=e.length,r=[];if(o===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error("Got currentValueRowId=".concat(l,", which is not less than ").concat(n.length));let c=n[l];r.push(c);for(let u=1;u<o;++u){const d=e[u];if(d===l)c>=0&&(++a,a<s?c+=i:c=-1);else{if(a=0,l=d,d>=n.length)throw new Error("Got nextValueRowId=".concat(d," which is not less than ").concat(n.length));c=n[d]}r.push(c)}if(r.length!==e.length)throw new Error("Invalid row ids.");return r}calculateOutputIndex(e,n,i,s){const o=this.getRowPartitionTensor(e),r=this.getRowPartitionTypeByDimension(e);switch(r){case Gs.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,i,s);case Gs.ROW_SPLITS:if(o.length-1>n.length)throw new Error("Row partition size is greater than output size: ".concat(o.length-1," > ").concat(n.length));return this.calculateOutputIndexRowSplit(o,n,i,s);default:throw new Error("Unsupported partition type: ".concat(Gs[r]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Gs.FIRST_DIM_SIZE:return e[0];case Gs.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Gs.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(Gs[n]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),i=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*i[l+1];const o=FN(i,!1),r=mn(this.valuesDType,ae(o));if(s[0]*i[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],i[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,s[c],i[c]);this.setOutput(this.raggedRank,l,r,o)}return[o,r]}setOutput(e,n,i,s){if(i.length===0)return;const o=this.values,r=i;let a=s.slice();a=a.slice(e+1);const l=ae(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const f=this.defaultValueShape;ie(()=>{const m=Y(u,f);u=$d(m,a).dataSync()})}let d=0,h=0,p=0;for(let f=0;f<=c;++f){let m=f<c?n[f]:-1;if(m===p){++p;continue}if(h<p){const b=o.subarray(d*l),g=r.subarray(h*l),x=(p-h)*l;zN(g,b,x)}if(f>=c){const b=i.length;m=Math.floor(b/l)}if(m>p)if(this.defaultValue.length===1)r.subarray(p*l,m*l).fill(this.defaultValue[0]),p=m;else for(;m>p;){const b=r.slice(p*l);zN(b,u,l),++p}m<0?(d=f+1,h=p):(d=f,h=p,p=h+1)}}}function zN(t,e,n){for(let i=0;i<n;i++)t[i]=e[i]}function FN(t,e){const n=[];for(let i of t){if(i<0){if(!e)throw new Error("Dimension ".concat(i," must be >= 0"));if(i<-1)throw new Error("Dimension ".concat(i," must be >= -1"));i=-1}n.push(i)}return n}function YM(t,e,n,i,s,o,r,a,l,c){return new rx(t,e,n,i,s,o,r,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZM(t,e,n,i){const s=t===e,o=t<e&&n<0,r=e<t&&n>1;if(s||o||r)return Ci(0,i);const a=Math.abs(Math.ceil((e-t)/n)),l=Ci(a,i);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JM=Or(t=>1/Math.sqrt(t)),iwe=Ul(zm,JM),swe={kernelName:zm,backendName:"cpu",kernelFunc:iwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yc(t,e,n,i,s,o,r,a,l,c){const u=[i/s,s],d=t.values,h=e.values;if(i===0)return nt(n,e.dtype);const p=l instanceof On?l:nt(u,e.dtype);typeof l=="string"||typeof l=="number"?p.values.fill(l):typeof l=="boolean"&&p.values.fill(+l);for(let f=0;f<o;f++){const m=[];let b=0;for(let g=0;g<r;g++){const x=d[f*r+g];m.push(x),b+=x*a[g]}if(b<0||b>=i/s)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(let g=0;g<s;g++)c?p.values[b*s+g]+=h[f*s+g]:p.values[b*s+g]=e.rank===0?h[0]:h[f*s+g]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const owe=Or(t=>1/(1+Math.exp(-t))),QM=$t(jm,t=>1/(1+Math.exp(-t))),rwe={kernelName:jm,backendName:"cpu",kernelFunc:QM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e7(t,e,n,i,s){const o=qI(i,e,n),r=ae(n),a=He(i);if(o){const d=KI(e,a);return s==="string"?t.slice(d,d+r):t.subarray(d,d+r)}const l=s==="string"?ma(t):t,c=nt(i,s,l),u=nt(n,s);for(let d=0;d<u.size;++d){const h=u.indexToLoc(d),p=h.map((f,m)=>f+e[m]);u.set(c.get(...p),...h)}return s==="string"?QF(u.values):u.values}function nu(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:o,size:r}=i;ze(s,"slice");const[a,l]=Zv(s,o,r);WI(s,a,l);const c=n.data.get(s.dataId).values,u=e7(c,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,u)}const awe={kernelName:xv,backendName:"cpu",kernelFunc:nu};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t7(t,e,n,i,s,o,r){const a=e[0],l=o[0],c=new Array(l),u=new Array(a),d=e[1];if(l===0){if(a!==0)throw new Error(MF(a));const b=mn(n,0),g=mn(s,0);return[b,[0,d],g,c,u]}let h=!0,p=0;const f=new Array(l).fill(0);for(let b=0;b<a;++b){const g=t[b*d];if(g<0)throw new Error(jF(b,g));if(g>=l)throw new Error(UF(b,g,l));++f[g],h=h&&g>=p,p=g}let m=!0;for(let b=0;b<l;++b){const g=f[b]===0;c[b]=g,m=m&&!g,f[b]=Math.max(f[b],1),b>0&&(f[b]+=f[b-1])}if(m&&h){const b=t,g=i;for(let x=0;x<a;++x)u[x]=x;return[b,[a,d],g,c,u]}else{const b=f[l-1],g=mn(n,b*d),x=mn(s,b),y=new Array(l).fill(0);for(let v=0;v<a;++v){const w=t[v*d],C=y[w],k=(w===0?0:f[w-1])+C;y[w]++;for(let E=0;E<d;++E)g[k*d+E]=t[v*d+E];x[k]=i[v],u[v]=k}for(let v=0;v<l;++v)if(y[v]===0){const C=v===0?0:f[v-1];g[C*d+0]=v;for(let k=1;k<d;++k)g[C*d+k]=0;x[C]=r}return[g,[b,d],x,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n7(t,e,n,i,s){const o=ae(i),r=e[0],a=s.length,l=[];let c=1,u=-1;for(let b=0;b<a;++b){const g=s[b];if(g===-1){if(u!==-1)throw new Error(VF(u,b));u=b,l.push(1)}else{if(g<0)throw new Error(HF(b,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(WF());const b=Math.trunc(o/c);if(c*b!==o)throw new Error(GF(i,l));l[u]=b}if(ae(l)!==o)throw new Error(qF(i,l));const h=i.length,p=[];if(h>0){p[h-1]=1;for(let b=h-2;b>=0;--b)p[b]=p[b+1]*i[b+1]}const f=[];if(a>0){f[a-1]=1;for(let b=a-2;b>=0;--b)f[b]=f[b+1]*l[b+1]}const m=mn(n,r*a);for(let b=0;b<r;++b){let g=0;for(let x=0;x<h;++x)g+=t[b*h+x]*p[x];for(let x=0;x<a;++x)m[b*a+x]=Math.trunc(g/f[x]),g%=f[x]}return[m,[r,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U$(t,e,n,i,s,o=!1,r=0){const a=i.length,l=[e[0],t.length/e[0]],c=l[1],d=a>0?s[a-1]+1:0;if(d<0)throw new Error(Q2());const h=e.slice();h[0]=d;const p=h.reduce((y,v)=>y*v,1),f=mn(n,p);if(a===0)return d>0&&f.fill(r),[f,h];if(d<=0)throw new Error(Q2());let m=0,b=1,g=0,x=s[m];for(;;){let y=0;if(b<a){if(y=s[b],x===y){++b;continue}if(x>=y)throw new Error(KF())}if(x<0||x>=d)throw new Error(XF(x,d));x>g&&f.fill(r,g*c,x*c);for(let v=m;v<b;++v){const w=i[v];if(w<0||w>=l[0])throw new Error(YF(v,i[v],l[0]));for(let C=0;C<c;C++)f[x*c+C]+=t[w*c+C]}if(o)for(let v=0;v<c;v++)f[x*c+v]/=b-m;if(m=b,++b,g=x+1,x=y,b>a)break}return g<d&&f.fill(r,g*c,d*c),[f,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lwe=Or(t=>Math.sqrt(t)),cwe=$t(Vm,t=>Math.sqrt(t)),uwe={kernelName:Vm,backendName:"cpu",kernelFunc:cwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i7=vn((t,e)=>{const n=t-e;return n*n}),dwe=Fn(Hm,i7),hwe={kernelName:Hm,backendName:"cpu",kernelFunc:dwe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s7=Or((t,e)=>{const{pattern:n,replaceGlobal:i,rewrite:s}=e;return t.replace(new RegExp(n,i?"g":""),s)}),pwe=Ul(Sv,s7),fwe={kernelName:Sv,backendName:"cpu",kernelFunc:pwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o7(t,e,n,i){const s=nt(t,e.dtype);for(let o=0;o<s.size;o++){const r=s.indexToLoc(o),a=new Array(r.length);for(let l=0;l<a.length;l++)a[l]=r[l]*n[l]+i[l];s.set(e.get(...a),...r)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mwe{constructor(e,n,i,s,o,r){this.separator=ll(e),this.nGramWidths=n,this.leftPad=ll(i),this.rightPad=ll(s),this.padWidth=o,this.preserveShort=r}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const i=this.getPadWidth(n);return Math.max(0,e+2*i-n+1)}createNGrams(e,n,i,s,o,r){for(let a=0;a<o;++a){const l=this.getPadWidth(r),c=Math.max(0,l-a),u=Math.max(0,l-(o-(a+1))),d=r-(c+u),h=n+(c>0?0:a-l);let p=0;p+=c*this.leftPad.length;for(let x=0;x<d;++x)p+=e[h+x].length;p+=u*this.rightPad.length;const f=c+u+d-1;p+=f*this.separator.length,i[s+a]=new Uint8Array(p);const m=i[s+a];let b=0;const g=x=>x.forEach(y=>m[b++]=y);for(let x=0;x<c;++x)g(this.leftPad),g(this.separator);for(let x=0;x<d-1;++x)g(e[h+x]),g(this.separator);if(d>0){g(e[h+d-1]);for(let x=0;x<u;++x)g(this.separator),g(this.rightPad)}else{for(let x=0;x<u-1;++x)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const i=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error("First split value must be 0, got ".concat(l));for(let c=1;c<s;++c){let u=n[c]>=l;if(u=u&&n[c]<=i,!u)throw new Error("Invalid split value ".concat(n[c],", must be in [").concat(l,", ").concat(i,"]"));l=n[c]}if(l!==i)throw new Error("Last split value must be data size. Expected ".concat(i,", got ").concat(l))}const o=s-1,r=mn("int32",s);if(i===0||s===0){const l=new Array(i);for(let c=0;c<=o;++c)r[c]=0;return[l,r]}r[0]=0;for(let l=1;l<=o;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),r[l]=r[l-1]+u}const a=new Array(r[o]);for(let l=0;l<o;++l){const c=n[l];let u=r[l];if(this.nGramWidths.forEach(d=>{const h=n[l+1]-n[l],p=this.getNumNGrams(h,d);this.createNGrams(e,c,a,u,p,d),u+=p}),this.preserveShort&&u===r[l]){const d=n[l+1]-n[l];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,c,a,u,1,h)}}return[a,r]}}function r7(t,e,n,i,s,o,r,a){return new mwe(n,i,s,o,r,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gwe(t,e,n,i){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)i.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let r=t.indexOf(o);for(;r!==-1;){const a=t.subarray(0,r);(!n||a.length!==0)&&i.push(a),t=t.subarray(r+1),r=t.indexOf(o)}(!n||t.length!==0)&&i.push(t);return}let s=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const r=t.subarray(s,o);(!n||r.length!==0)&&i.push(r),s=o+1}}function a7(t,e,n){const i=t.length,s=[];let o=0,r=0;const a=new Array(i);for(let h=0;h<i;++h){const p=s.length;gwe(t[h],e,n,s);const f=s.length-p;a[h]=f,o+=f,r=Math.max(r,f)}const l=mn("int32",o*2),c=new Array(o),u=[i,r];let d=0;for(let h=0;h<i;++h)for(let p=0;p<a[h];++p)l[d*2]=h,l[d*2+1]=p,c[d]=s[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l7(t,e){const n=mn("int32",t.length);for(let i=0;i<t.length;++i)n[i]=Dle(t[i]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c7=vn((t,e)=>t-e),bwe=P$((t,e,n,i)=>({real:t-n,imag:e-i})),V$=Fn(Wm,c7,bwe),xwe={kernelName:Wm,backendName:"cpu",kernelFunc:V$};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u7(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const i=nt(n,t.dtype);for(let s=0;s<i.values.length;++s){const o=i.indexToLoc(s),r=new Array(t.rank);for(let l=0;l<r.length;l++)r[l]=o[l]%t.shape[l];const a=t.locToIndex(r);i.values[s]=t.values[a]}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fp=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function d7(t,e,n=0,i=t.length-1){for(;i>n;){if(i-n>600){const a=i-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),h=Math.max(n,Math.floor(e-l*u/a+d)),p=Math.min(i,Math.floor(e+(a-l)*u/a+d));d7(t,e,h,p)}const s=t[e];let o=n,r=i;for(qu(t,n,e),fp(t[i],s)>0&&qu(t,n,i);o<r;){for(qu(t,o,r),o++,r--;fp(t[o],s)<0;)o=o+1;for(;fp(t[r],s)>0;)r=r-1}fp(t[n],s)===0?qu(t,n,r):(r=r+1,qu(t,r,i)),r<=e&&(n=r+1),e<=r&&(i=r-1)}}function h7(t,e,n,i,s){const o=e[e.length-1],[r,a]=[t.length/o,o],l=li(n,r*i),c=li("int32",r*i);for(let d=0;d<r;d++){const h=d*a,p=t.subarray(h,h+a);let f=new Array(p.length);p.forEach((x,y)=>f[y]={value:x,index:y}),i<f.length&&(d7(f,i),f=f.slice(0,i)),s&&f.sort(fp);const m=d*i,b=l.subarray(m,m+i),g=c.subarray(m,m+i);for(let x=0;x<i;x++)b[x]=f[x].value,g[x]=f[x].index}const u=e.slice();return u[u.length-1]=i,[nt(u,n,l),nt(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7(t,e,n,i){const s=ct(e,n)[0],o=[1,n[0],1];for(let f=0;f<s;f++)o[0]*=n[f];o[1]=n[s];for(let f=s+1;f<n.length;f++)o[2]*=n[f];const r=new Map,a=new Int32Array(n[s]),l=new On(o,i,t),c=[],u=o[0]===1&&o[2]===1;for(let f=0;f<n[s];f++){let m;if(u)m=t[f].toString();else{const g=[];for(let x=0;x<o[0];x++)for(let y=0;y<o[2];y++)g.push(l.get(x,f,y));m=g.join(",")}const b=r.get(m);if(b!=null)a[f]=b;else{const g=r.size;r.set(m,g),a[f]=g,c.push(f)}}const d=o.slice();d[1]=r.size;const h=new On(d,i);c.forEach((f,m)=>{for(let b=0;b<o[0];b++)for(let g=0;g<o[2];g++)h.set(l.get(b,f,g),b,m,g)});const p=n.slice();return p[s]=d[1],{outputValues:h.values,outputShape:p,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ywe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:kM,bincountImpl:B$,bincountReduceImpl:SM,bitwiseAndImpl:CM,castImpl:wM,ceilImpl:EM,concatImpl:TM,equalImpl:IM,expImpl:_M,expm1Impl:NM,floorDivImpl:OM,floorImpl:DM,gatherNdImpl:RM,gatherV2Impl:LM,greaterEqualImpl:FM,greaterImpl:zM,lessEqualImpl:BM,lessImpl:PM,linSpaceImpl:MM,logImpl:jM,maxImpl:UM,maximumImpl:VM,minimumImpl:HM,multiplyImpl:M$,negImpl:WM,notEqualImpl:GM,prodImpl:qM,raggedGatherImpl:KM,raggedRangeImpl:XM,raggedTensorToTensorImpl:YM,rangeImpl:ZM,rsqrtImpl:JM,scatterImpl:yc,sigmoidImpl:owe,simpleAbsImpl:vM,sliceImpl:e7,sparseFillEmptyRowsImpl:t7,sparseReshapeImpl:n7,sparseSegmentReductionImpl:U$,sqrtImpl:lwe,squaredDifferenceImpl:i7,staticRegexReplaceImpl:s7,stridedSliceImpl:o7,stringNGramsImpl:r7,stringSplitImpl:a7,stringToHashBucketFastImpl:l7,subImpl:c7,tileImpl:u7,topKImpl:h7,transposeImpl:j$,uniqueImpl:p7},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */M8("cpu",()=>new d1,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f7=$t(fm,t=>t>=0?t:Math.exp(t)-1),vwe={kernelName:fm,backendName:"cpu",kernelFunc:f7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m7(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{alpha:o}=i;ze([s],"leakyRelu");const r=ae(s.shape),a=n.data.get(s.dataId).values,l=li("float32",r);for(let c=0;c<a.length;c++)l[c]=a[c]<0?o*a[c]:a[c];return n.makeTensorInfo(s.shape,"float32",l)}const wwe={kernelName:Gy,backendName:"cpu",kernelFunc:m7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kwe=vn((t,e)=>t<0?e*t:t);function g7(t){const{inputs:e,backend:n}=t,{x:i,alpha:s}=e;ze([i,s],"prelu");const o=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,[a,l]=kwe(i.shape,s.shape,o,r,"float32");return n.makeTensorInfo(l,"float32",a)}const Swe={kernelName:dv,backendName:"cpu",kernelFunc:g7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b7=$t(Om,t=>Math.max(0,t)),Cwe={kernelName:Om,backendName:"cpu",kernelFunc:b7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x7=$t(Rm,t=>Math.min(Math.max(0,t),6)),Ewe={kernelName:Rm,backendName:"cpu",kernelFunc:x7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ax(t,e,n,i,s){if(n==="linear")return $r({inputs:{x:e},backend:t});if(n==="relu")return b7({inputs:{x:e},backend:t});if(n==="elu")return f7({inputs:{x:e},backend:t});if(n==="relu6")return x7({inputs:{x:e},backend:t});if(n==="prelu")return g7({inputs:{x:e,alpha:i},backend:t});if(n==="leakyrelu")return m7({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return QM({inputs:{x:e},backend:t});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mt(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{shape:o}=i,r=ae(s.shape),a=p8(o,r),l=ae(a);R(r===l,()=>"The new shape (".concat(a,") has ").concat(l," elements and the old ")+"shape (".concat(s.shape,") has ").concat(r," elements. The new shape and old ")+"shape must have the same number of elements."),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=a,d.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const Twe={kernelName:pv,backendName:"cpu",kernelFunc:Mt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y7(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:o}=e,{transposeA:r,transposeB:a}=i;ze([s,o],"matMul");const l=s.shape.length,c=o.shape.length,u=r?s.shape[l-2]:s.shape[l-1],d=a?o.shape[c-1]:o.shape[c-2],h=r?s.shape[l-1]:s.shape[l-2],p=a?o.shape[c-2]:o.shape[c-1],f=s.shape.slice(0,-2),m=o.shape.slice(0,-2),b=ae(f),g=ae(m),y=Je(s.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,p]);R(u===d,()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(s.shape," and ")+"".concat(o.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match."));const v=r?[b,u,h]:[b,h,u],w=a?[g,p,d]:[g,d,p],C=Mt({inputs:{x:s},backend:n,attrs:{shape:v}}),k=Mt({inputs:{x:o},backend:n,attrs:{shape:w}}),E=r?C.shape[1]:C.shape[2],T=r?C.shape[2]:C.shape[1],_=a?k.shape[1]:k.shape[2],z=Math.max(b,g),N=n.data.get(C.dataId).values,O=n.data.get(k.dataId).values,I=He(C.shape),L=He(k.shape),[F,j,H]=r?[I[0],1,I[1]]:[I[0],I[1],1],[M,U,B]=a?[1,L[1],L[0]]:[L[1],1,L[0]],V=T*_,ee=nt([z,T,_],C.dtype),J=ee.values,Z=n.blockSize;for(let pe=0;pe<z;pe++){const ve=pe%b,ye=pe%g;for(let Ce=0;Ce<T;Ce+=Z){const Fe=Math.min(Ce+Z,T);for(let Re=0;Re<_;Re+=Z){const Ze=Math.min(Re+Z,_);for(let st=0;st<E;st+=Z){const A=Math.min(st+Z,E);for(let le=Ce;le<Fe;le++)for(let oe=Re;oe<Ze;oe++){let G=0;for(let W=st;W<A;W++){const ne=N[ve*F+le*j+W*H],de=O[W*M+oe*U+ye*B];G+=ne*de}J[pe*V+(le*_+oe)]+=G}}}}}return n.disposeIntermediateTensorInfo(C),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(y,ee.dtype,ee.values)}const Iwe={kernelName:Ay,backendName:"cpu",kernelFunc:y7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $we(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:o,bias:r,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;let h,p,f;const m=[];h=y7({inputs:{a:s,b:o},attrs:{transposeA:l,transposeB:c},backend:n}),r&&(p=eh({inputs:{a:h,b:r},backend:n}),m.push(h),h=p),u&&(f=ax(n,h,u,a,d),m.push(h),h=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}const _we={kernelName:B0,backendName:"cpu",kernelFunc:$we};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Awe=$t(tm,t=>Math.acos(t)),Nwe={kernelName:tm,backendName:"cpu",kernelFunc:Awe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dwe=$t(nm,t=>Math.acosh(t)),Owe={kernelName:nm,backendName:"cpu",kernelFunc:Dwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rwe(t){const{inputs:e,backend:n}=t,i=e;ze(e,"addN");const s=i.map(a=>n.data.get(a.dataId).values),o=nt(i[0].shape,i[0].dtype),r=o.values;for(let a=0;a<i.length;a++){const l=s[a];for(let c=0;c<r.length;c++)r[c]+=l[c]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const Lwe={kernelName:Ey,backendName:"cpu",kernelFunc:Rwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zwe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;ze(s,"all");const a=ct(o,s.shape);let l=a;const c=sn(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=xn(l.length,s.shape.length)),pi("all",l,u.shape.length);const[d,h]=Zn(u.shape,l),p=ae(h),f=Ci(ae(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];y=y&&w}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(r){const g=bn(d,a),x=Mt({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const Fwe={kernelName:HE,backendName:"cpu",kernelFunc:zwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pwe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;ze(s,"any");const a=ct(o,s.shape);let l=a;const c=sn(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=xn(l.length,s.shape.length)),pi("any",l,u.shape.length);const[d,h]=Zn(u.shape,l),p=ae(h),f=Ci(ae(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];y=y||w}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(r){const g=bn(d,a),x=Mt({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const Bwe={kernelName:WE,backendName:"cpu",kernelFunc:Pwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mwe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o}=i;ze(s,"argMax");let r=ct(o,s.shape);const a=sn(r,s.shape.length);let l=s;const c=[];a!=null&&(l=Xi({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),r=xn(r.length,l.shape.length)),r=[r[0]],pi("argMax",r,l.shape.length);const[u,d]=Zn(l.shape,r),h=ae(u),p=Ci(h,"int32"),f=ae(d),m=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const g=b*f;let x=m[g],y=0;for(let v=0;v<f;++v){const w=m[g+v];w>x&&(x=w,y=v)}p[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const jwe={kernelName:Ty,backendName:"cpu",kernelFunc:Mwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uwe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o}=i;ze(s,"argMin");let r=ct(o,s.shape);const a=sn(r,s.shape.length);let l=s;const c=[];a!=null&&(l=Xi({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),r=xn(r.length,l.shape.length)),r=[r[0]],pi("argMin",r,l.shape.length);const[u,d]=Zn(l.shape,r),h=ae(u),p=Ci(h,"int32"),f=ae(d),m=n.data.get(l.dataId).values;for(let b=0;b<p.length;++b){const g=b*f;let x=m[g],y=0;for(let v=0;v<f;++v){const w=m[g+v];w<x&&(x=w,y=v)}p[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",p)}const Vwe={kernelName:Iy,backendName:"cpu",kernelFunc:Uwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hwe=$t(im,t=>Math.asin(t)),Wwe={kernelName:im,backendName:"cpu",kernelFunc:Hwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gwe=$t(sm,t=>Math.asinh(t)),qwe={kernelName:sm,backendName:"cpu",kernelFunc:Gwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kwe=$t(om,t=>Math.atan(t)),Xwe={kernelName:om,backendName:"cpu",kernelFunc:Kwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ywe=vn((t,e)=>Math.atan2(t,e)),Zwe=Fn(am,Ywe),Jwe={kernelName:am,backendName:"cpu",kernelFunc:Zwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qwe=$t(rm,t=>Math.atanh(t)),eke={kernelName:rm,backendName:"cpu",kernelFunc:Qwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H$(t,e,n,i,s,o){const r=s.strideHeight,a=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,d=s.effectiveFilterWidth,h=s.padInfo.top,p=s.padInfo.left,f=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=nt(s.outShape,n),b=m.values,g=s.outShape[1]*s.outShape[2]*s.outShape[3],x=s.outShape[2]*s.outShape[3],y=s.outShape[3];for(let v=0;v<s.batchSize;++v){const w=v*g,C=v*i[0];for(let k=0;k<s.inChannels;++k)for(let E=0;E<s.outHeight;++E){const T=E*r-h,_=Math.max(0,T),z=Math.min(s.inHeight,u+T),N=w+E*x;for(let O=0;O<s.outWidth;++O){const I=O*a-p,L=Math.max(0,I),F=Math.min(s.inWidth,d+I);let j=f,H=0,M=0;for(let B=_;B<z;B+=l){const V=C+B*i[1];for(let ee=L;ee<F;ee+=c){const J=V+ee*i[2],Z=t[J+k];o==="max"&&Z>j?j=Z:o==="avg"&&(H+=Z,M++)}if(isNaN(j))break}const U=N+O*y+k;b[U]=o==="avg"?H/M:j}}}return m}function v7(t,e,n,i,s=!1,o=!1){const r=nt(i.outShape,"int32"),a=i.strideHeight,l=i.strideWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,h=i.effectiveFilterWidth,p=i.padInfo.top,f=i.padInfo.left,m=nt(e,n,t);for(let b=0;b<i.batchSize;++b)for(let g=0;g<i.inChannels;++g)for(let x=0;x<i.outHeight;++x){const y=x*a-p;let v=y;for(;v<0;)v+=c;const w=Math.min(i.inHeight,d+y);for(let C=0;C<i.outWidth;++C){const k=C*l-f;let E=k;for(;E<0;)E+=u;const T=Math.min(i.inWidth,h+k);let _=Number.NEGATIVE_INFINITY,z=-1;for(let N=v;N<w;N+=c){const O=N-y;for(let I=E;I<T;I+=u){const L=I-k,F=m.get(b,N,I,g);F>_&&(_=F,s?z=o?((b*i.inHeight+N)*i.inWidth+I)*i.inChannels+g:(N*i.inWidth+I)*i.inChannels+g:z=O*h+L)}}r.set(z,b,x,C,g)}}return r}function w7(t,e,n,i,s,o){const r=s.strideDepth,a=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,d=s.dilationWidth,h=s.effectiveFilterDepth,p=s.effectiveFilterHeight,f=s.effectiveFilterWidth,m=s.padInfo.front,b=s.padInfo.top,g=s.padInfo.left,x=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=nt(s.outShape,n),v=y.values,w=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],C=s.outShape[2]*s.outShape[3]*s.outShape[4],k=s.outShape[3]*s.outShape[4],E=s.outShape[4];for(let T=0;T<s.batchSize;++T){const _=T*w,z=T*i[0];for(let N=0;N<s.inChannels;++N)for(let O=0;O<s.outDepth;++O){const I=O*r-m;let L=I;for(;L<0;)L+=c;const F=Math.min(s.inDepth,h+I),j=_+O*C;for(let H=0;H<s.outHeight;++H){const M=H*a-b;let U=M;for(;U<0;)U+=u;const B=Math.min(s.inHeight,p+M),V=j+H*k;for(let ee=0;ee<s.outWidth;++ee){const J=ee*l-g;let Z=J;for(;Z<0;)Z+=d;const pe=Math.min(s.inWidth,f+J),ve=V+ee*E;let ye=x,Ce=0,Fe=0;for(let Ze=L;Ze<F;Ze+=c){const st=z+Ze*i[1];for(let A=U;A<B;A+=u){const le=st+A*i[2];for(let oe=Z;oe<pe;oe+=d){const G=le+oe*i[3],W=t[G+N];if(o==="max"&&W>ye?ye=W:o==="avg"&&(Ce+=W,Fe++),isNaN(ye))break}if(isNaN(ye))break}if(isNaN(ye))break}const Re=ve+N;v[Re]=o==="avg"?Ce/Math.max(Fe,1):ye}}}}return y}function tke(t,e){const n=nt(e.outShape,"int32"),i=e.strideDepth,s=e.strideHeight,o=e.strideWidth,r=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,p=e.padInfo.top,f=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let b=0;b<e.inChannels;++b)for(let g=0;g<e.outDepth;++g){const x=g*i-h;let y=x;for(;y<0;)y+=r;const v=Math.min(e.inDepth,c+x);for(let w=0;w<e.outHeight;++w){const C=w*s-p;let k=C;for(;k<0;)k+=a;const E=Math.min(e.inHeight,u+C);for(let T=0;T<e.outWidth;++T){const _=T*o-f;let z=_;for(;z<0;)z+=l;const N=Math.min(e.inWidth,d+_);let O=Number.NEGATIVE_INFINITY,I=-1;for(let L=y;L<v;L+=r){const F=L-x;for(let j=k;j<E;j+=a){const H=j-C;for(let M=z;M<N;M+=l){const U=M-_,B=t.get(m,L,j,M,b);B>=O&&(O=B,I=F*u*d+H*u+U)}}}n.set(I,m,g,w,T,b)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;ze(s,"avgPool");const{filterSize:o,strides:r,pad:a,dimRoundingMode:l}=i,c=1;R(hi(r,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'"));const u=To(s.shape,o,r,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&gt(u.inShape,u.outShape))d=$r({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,p=He(s.shape),f=H$(h,s.shape,s.dtype,p,u,"avg");d=n.makeTensorInfo(u.outShape,s.dtype,f.values)}return d}const ike={kernelName:$y,backendName:"cpu",kernelFunc:nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ske(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:o,strides:r,pad:a,dimRoundingMode:l,dataFormat:c}=i;ze(s,"avgPool3d");const u=xa(s.shape,o,r,1,a,l,c),d=n.data.get(s.dataId).values,h=w7(d,s.shape,s.dtype,He(s.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const oke={kernelName:_y,backendName:"cpu",kernelFunc:ske};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,{filterSize:r,strides:a,pad:l,dimRoundingMode:c}=i;ze([s,o],"avgPool3DGrad");const u=xa(o.shape,r,a,1,l,c),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,b=u.filterWidth,g=u.dilationDepth,x=u.dilationHeight,y=u.dilationWidth,v=u.effectiveFilterDepth,w=u.effectiveFilterHeight,C=u.effectiveFilterWidth,k=v-1-u.padInfo.front,E=C-1-u.padInfo.left,T=w-1-u.padInfo.top,_=nt(o.shape,"float32"),z=1/(f*m*b),N=n.bufferSync(s);for(let O=0;O<u.batchSize;++O)for(let I=0;I<u.inChannels;++I)for(let L=0;L<u.inDepth;++L)for(let F=0;F<u.inHeight;++F)for(let j=0;j<u.inWidth;++j){const H=L-k,M=F-T,U=j-E;let B=0;for(let V=0;V<v;V+=g){const ee=(H+V)/d;if(!(ee<0||ee>=u.outDepth||Math.floor(ee)!==ee))for(let J=0;J<w;J+=x){const Z=(M+J)/h;if(!(Z<0||Z>=u.outHeight||Math.floor(Z)!==Z))for(let pe=0;pe<C;pe+=y){const ve=(U+pe)/p;if(ve<0||ve>=u.outWidth||Math.floor(ve)!==ve)continue;const ye=N.get(O,ee,Z,ve,I);B+=ye}}}_.set(B*z,O,L,F,j,I)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const ake={kernelName:qE,backendName:"cpu",kernelFunc:rke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,r=o;ze([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=To(r.shape,a,l,1,c),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,b=u.dilationWidth,g=u.effectiveFilterHeight,x=u.effectiveFilterWidth,y=x-1-u.padInfo.left,v=g-1-u.padInfo.top,w=nt(r.shape,"float32"),C=1/(p*f),k=n.data.get(s.dataId).values,E=nt(s.shape,"float32",k);for(let T=0;T<u.batchSize;++T)for(let _=0;_<u.inChannels;++_)for(let z=0;z<u.inHeight;++z)for(let N=0;N<u.inWidth;++N){const O=z-v,I=N-y;let L=0;for(let F=0;F<g;F+=m){const j=(O+F)/d;if(!(j<0||j>=u.outHeight||Math.floor(j)!==j))for(let H=0;H<x;H+=b){const M=(I+H)/h;if(M<0||M>=u.outWidth||Math.floor(M)!==M)continue;const U=E.get(T,j,M,_);L+=U}}w.set(L*C,T,z,N,_)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const cke={kernelName:GE,backendName:"cpu",kernelFunc:lke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,scale:o,offset:r,mean:a,variance:l}=e;R(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),R(r==null||a.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),R(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),ze([s,a,l,o,r],"batchNorm");let{varianceEpsilon:c}=i;c==null&&(c=.001);const u=n.data.get(s.dataId).values,d=n.data.get(a.dataId).values,h=n.data.get(l.dataId).values,p=o?n.data.get(o.dataId).values:new Float32Array([1]),f=r?n.data.get(r.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),b=f.length,g=p.length,x=h.length,y=d.length;let v=0,w=0,C=0,k=0;for(let E=0;E<u.length;++E)m[E]=f[v++]+(u[E]-d[w++])*p[C++]/Math.sqrt(h[k++]+c),v>=b&&(v=0),w>=y&&(w=0),C>=g&&(C=0),k>=x&&(k=0);return n.makeTensorInfo(s.shape,s.dtype,m)}const dke={kernelName:Vy,backendName:"cpu",kernelFunc:uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:o,crops:r}=i;ze([s],"batchToSpaceND");const a=o.reduce((g,x)=>g*x),l=sg(s.shape,o,a),c=og(l.length,o.length),u=rg(s.shape,o,a),d=QI(r,o.length),h=e$(u,r,o.length),p=Mt({inputs:{x:s},backend:n,attrs:{shape:l}}),f=Xi({inputs:{x:p},backend:n,attrs:{perm:c}}),m=Mt({inputs:{x:f},backend:n,attrs:{shape:u}}),b=nu({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),b}const pke={kernelName:Ny,backendName:"cpu",kernelFunc:hke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:o}=e,{size:r}=i,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,c=B$(a,l,o.dtype,o.shape,r);return n.makeTensorInfo([r],o.dtype,c)}const mke={kernelName:KE,backendName:"cpu",kernelFunc:fke};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gke(t){const{inputs:e,backend:n}=t,{s0:i,s1:s}=e,o=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,a=Je(Array.from(o),Array.from(r));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const bke={kernelName:XE,backendName:"cpu",kernelFunc:gke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xke=$t(um,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),yke={kernelName:um,backendName:"cpu",kernelFunc:xke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vke=t=>{const{x:e}=t.inputs,n=t.backend,i=new Float32Array(ae(e.shape)),s=n.data.get(e.dataId),o=s.complexTensorInfos.real,r=s.complexTensorInfos.imag,a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],d=l[c];i[c]=Math.hypot(u,d)}return n.makeOutput(i,e.shape,"float32")},wke={kernelName:Oy,backendName:"cpu",kernelFunc:vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function th(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.data.get(i.dataId).complexTensorInfos.imag,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const kke={kernelName:fT,backendName:"cpu",kernelFunc:th};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nh(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i,o=ct(s,e[0].shape)[0],r=e.map(m=>m.shape);YI(r,o);let a=wr(e.map(m=>m.shape),o);if(ae(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(m=>ae(m.shape)>0);if(l.length===1)return $r({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(v=>tu({inputs:{input:v},backend:n})),b=l.map(v=>th({inputs:{input:v},backend:n})),g=nh({inputs:m,backend:n,attrs:{axis:o}}),x=nh({inputs:b,backend:n,attrs:{axis:o}}),y=is({inputs:{real:g,imag:x},backend:n});return m.forEach(v=>n.disposeIntermediateTensorInfo(v)),b.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),y}const c=l.map(m=>{const g=[-1,ae(m.shape.slice(o))];return Mt({inputs:{x:m},backend:n,attrs:{shape:g}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));a=wr(c.map(m=>m.shape),1);const d=c[0].shape[0]===1,h=TM(u,a,e[0].dtype,d),p=wr(l.map(m=>m.shape),o),f=n.makeTensorInfo(p,e[0].dtype,h);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),f}const Ske={kernelName:Ry,backendName:"cpu",kernelFunc:nh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k7(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i;ze([s,o],"conv2d");const d=ya(l),h=Yn(s.shape,o.shape,r,c,a,u,!1,d),p=h.filterHeight,f=h.filterWidth,m=h.dilationHeight,b=h.dilationWidth,g=h.padInfo.left,x=h.padInfo.top,y=h.dataFormat==="channelsLast",v=new On(h.outShape,s.dtype),w=He(s.shape),C=He(o.shape),k=w[0],E=y?w[1]:w[2],T=y?w[2]:1,_=y?1:w[1],z=v.strides[0],N=y?v.strides[1]:v.strides[2],O=y?v.strides[2]:1,I=y?1:v.strides[1],L=n.data.get(s.dataId).values,F=n.data.get(o.dataId).values,j=v.values;for(let H=0;H<h.batchSize;++H){const M=H*k,U=H*z;for(let B=0;B<h.outHeight;++B){const V=U+B*N,ee=B*h.strideHeight-x;for(let J=0;J<p;++J){const Z=ee+J*m;if(Z<0||Z>=h.inHeight)continue;const pe=J*C[0],ve=M+Z*E;for(let ye=0;ye<h.outWidth;++ye){const Ce=V+ye*O,Fe=ye*h.strideWidth-g;for(let Re=0;Re<f;++Re){const Ze=Fe+Re*b;if(Ze<0||Ze>=h.inWidth)continue;const st=pe+Re*C[1],A=ve+Ze*T;let le=st;for(let oe=0;oe<h.inChannels;++oe){const G=L[A+oe*_];for(let W=0;W<h.outChannels;++W)j[Ce+W*I]+=G*F[le+W];le+=h.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,j)}const Cke={kernelName:Ly,backendName:"cpu",kernelFunc:k7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i;ze([s,o],"conv2dBackpropFilter");const d=ya(l),h=Yn(s.shape,u,r,1,a,c,!1,d),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:b}=h,g=h.dataFormat==="channelsLast",x=new On(h.filterShape,"float32"),y=h.padInfo.left,v=h.padInfo.top,w=n.data.get(s.dataId).values,C=n.data.get(o.dataId).values,k=new On(s.shape,s.dtype,w),E=new On(o.shape,o.dtype,C);for(let T=0;T<m;++T){const _=Math.max(0,Math.ceil((v-T)/p)),z=Math.min(h.outHeight,(h.inHeight+v-T)/p);for(let N=0;N<b;++N){const O=Math.max(0,Math.ceil((y-N)/f)),I=Math.min(h.outWidth,(h.inWidth+y-N)/f);for(let L=0;L<h.inChannels;++L)for(let F=0;F<h.outChannels;++F){let j=0;for(let H=0;H<h.batchSize;++H)for(let M=_;M<z;++M){const U=T+M*p-v;for(let B=O;B<I;++B){const V=N+B*f-y;g?j+=k.get(H,U,V,L)*E.get(H,M,B,F):j+=k.get(H,L,U,V)*E.get(H,F,M,B)}}x.set(j,T,N,L,F)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Tke={kernelName:ZE,backendName:"cpu",kernelFunc:Eke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ike(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{inputShape:r,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i;ze([s,o],"conv2dBackpropInput");const d=He(o.shape),h=He(s.shape);let p=ya(c);const f=Yn(r,o.shape,a,1,l,u,!1,p),m=new On(f.inShape,"float32"),b=m.values,g=n.data.get(s.dataId).values,x=n.data.get(o.dataId).values,[y,v,w]=d,{batchSize:C,filterHeight:k,filterWidth:E,inChannels:T,inHeight:_,inWidth:z,outChannels:N,outHeight:O,outWidth:I,strideHeight:L,strideWidth:F}=f;p=f.dataFormat;const j=k-1-f.padInfo.top,H=E-1-f.padInfo.left,M=p==="channelsLast",U=m.strides[0],B=M?m.strides[1]:m.strides[2],V=M?m.strides[2]:1,ee=M?1:m.strides[1],J=h[0],Z=M?h[1]:h[2],pe=M?h[2]:1,ve=M?1:h[1];for(let ye=0;ye<C;++ye)for(let Ce=0;Ce<T;++Ce)for(let Fe=0;Fe<_;++Fe){const Re=Fe-j,Ze=Math.max(0,Math.ceil(Re/L)),st=Math.min(O,(k+Re)/L);for(let A=0;A<z;++A){const le=A-H,oe=Math.max(0,Math.ceil(le/F)),G=Math.min(I,(E+le)/F);let W=0;for(let de=Ze;de<st;++de){const ge=de*L-Re;for(let se=oe;se<G;++se){const we=se*F-le,$e=J*ye+Z*de+pe*se,ke=y*(k-1-ge)+v*(E-1-we)+w*Ce;for(let Me=0;Me<N;++Me){const ft=g[$e+ve*Me],Ye=x[ke+Me];W+=ft*Ye}}}const ne=U*ye+B*Fe+V*A+ee*Ce;b[ne]=W}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const $ke={kernelName:zy,backendName:"cpu",kernelFunc:Ike};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dilations:l}=i;ze([s,o],"conv3d");const c=zl(s.shape,o.shape,r,l,a),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:b}=c,g=b.front,x=b.left,y=b.top,v=new On(c.outShape,s.dtype),w=n.data.get(s.dataId).values,C=n.data.get(o.dataId).values,k=v.values,E=He(s.shape),T=He(o.shape);for(let _=0;_<c.batchSize;++_){const z=_*E[0],N=_*v.strides[0];for(let O=0;O<c.outDepth;++O){const I=N+O*v.strides[1],L=O*c.strideDepth-g;for(let F=0;F<u;++F){const j=L+F*p;if(j<0||j>=c.inDepth)continue;const H=F*T[0],M=z+j*E[1];for(let U=0;U<c.outHeight;++U){const B=I+U*v.strides[2],V=U*c.strideHeight-y;for(let ee=0;ee<d;++ee){const J=V+ee*f;if(J<0||J>=c.inHeight)continue;const Z=H+ee*T[1],pe=M+J*E[2];for(let ve=0;ve<c.outWidth;++ve){const ye=B+ve*c.outChannels,Ce=ve*c.strideWidth-x;for(let Fe=0;Fe<h;++Fe){const Re=Ce+Fe*m;if(Re<0||Re>=c.inWidth)continue;const Ze=Z+Fe*T[2],st=pe+Re*c.inChannels;let A=Ze;for(let le=0;le<c.inChannels;++le){const oe=w[st+le];for(let G=0;G<c.outChannels;++G)k[ye+G]+=oe*C[A+G];A+=c.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Ake={kernelName:Fy,backendName:"cpu",kernelFunc:_ke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,pad:a,filterShape:l}=i;ze([s,o],"conv3dBackpropFilterV2");const c=He(s.shape),u=He(o.shape),d=zl(s.shape,l,r,1,a),h=d.strideDepth,p=d.strideHeight,f=d.strideWidth,m=d.filterDepth,b=d.filterHeight,g=d.filterWidth,x=new On(d.filterShape,"float32"),y=x.values,[v,w,C,k]=x.strides,E=n.data.get(o.dataId).values,[T,_,z,N]=u,O=n.data.get(s.dataId).values,[I,L,F,j]=c,H=d.padInfo.front,M=d.padInfo.left,U=d.padInfo.top;for(let B=0;B<m;++B){const V=Math.max(0,Math.ceil((H-B)/h)),ee=Math.min(d.outDepth,(d.inDepth+H-B)/h),J=B*v;for(let Z=0;Z<b;++Z){const pe=Math.max(0,Math.ceil((U-Z)/p)),ve=Math.min(d.outHeight,(d.inHeight+U-Z)/p),ye=Z*w+J;for(let Ce=0;Ce<g;++Ce){const Fe=Math.max(0,Math.ceil((M-Ce)/f)),Re=Math.min(d.outWidth,(d.inWidth+M-Ce)/f),Ze=Ce*C+ye;for(let st=0;st<d.inChannels;++st){const A=st*k+Ze;for(let le=0;le<d.outChannels;++le){let oe=0;for(let G=0;G<d.batchSize;++G){const W=G*I,ne=G*T;for(let de=V;de<ee;++de){const se=(B+de*h-H)*L+W,we=de*_+ne;for(let $e=pe;$e<ve;++$e){const Me=(Z+$e*p-U)*F+se,ft=$e*z+we;for(let Ye=Fe;Ye<Re;++Ye){const ws=(Ce+Ye*f-M)*j+Me,wn=Ye*N+ft;oe+=O[ws+st]*E[wn+le]}}}}y[A+le]=oe}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Dke={kernelName:JE,backendName:"cpu",kernelFunc:Nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{pad:r,strides:a,inputShape:l}=i;ze([s],"conv3dBackpropInputV2");const c=He(s.shape),u=He(o.shape),d=zl(l,o.shape,a,1,r),h=new On(d.inShape,"float32"),p=h.values,[f,m,b,g]=h.strides,x=n.data.get(s.dataId).values,[y,v,w,C]=c,k=n.data.get(o.dataId).values,[E,T,_,z]=u,{batchSize:N,filterDepth:O,filterHeight:I,filterWidth:L,inChannels:F,inDepth:j,inHeight:H,inWidth:M,outChannels:U,outDepth:B,outHeight:V,outWidth:ee,strideDepth:J,strideHeight:Z,strideWidth:pe}=d,ve=O-1-d.padInfo.front,ye=I-1-d.padInfo.top,Ce=L-1-d.padInfo.left;for(let Fe=0;Fe<N;++Fe)for(let Re=0;Re<F;++Re)for(let Ze=0;Ze<j;++Ze){const st=Ze-ve,A=Math.max(0,Math.ceil(st/J)),le=Math.min(B,(O+st)/J);for(let oe=0;oe<H;++oe){const G=oe-ye,W=Math.max(0,Math.ceil(G/Z)),ne=Math.min(V,(I+G)/Z);for(let de=0;de<M;++de){const ge=de-Ce,se=Math.max(0,Math.ceil(ge/pe)),we=Math.min(ee,(L+ge)/pe);let $e=0;for(let ke=A;ke<le;++ke){const Me=ke*J-st;for(let ft=W;ft<ne;++ft){const Ye=ft*Z-G;for(let on=se;on<we;++on){const ws=on*pe-ge,wn=y*Fe+v*ke+w*ft+C*on,_o=E*(O-1-Me)+T*(I-1-Ye)+_*(L-1-ws)+z*Re;for(let Et=0;Et<U;++Et){const Sa=x[wn+Et],Hl=k[_o+Et];$e+=Sa*Hl}}}}p[f*Fe+m*Ze+b*oe+g*de+Re]=$e}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const Rke={kernelName:QE,backendName:"cpu",kernelFunc:Oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lke=$t(dm,t=>Math.cos(t)),zke={kernelName:dm,backendName:"cpu",kernelFunc:Lke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fke=$t(hm,t=>Math.cosh(t)),Pke={kernelName:hm,backendName:"cpu",kernelFunc:Fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bke(t){const{inputs:e,backend:n,attrs:i}=t,{image:s,boxes:o,boxInd:r}=e,{cropSize:a,method:l,extrapolationValue:c}=i,[u,d,h,p]=s.shape,f=o.shape[0],[m,b]=a,g=nt([f,m,b,p],"float32"),x=n.data.get(o.dataId).values,y=n.data.get(r.dataId).values,v=n.data.get(s.dataId).values,w=He(s.shape),C=He(g.shape);for(let k=0;k<f;k++){const E=k*4,T=x[E],_=x[E+1],z=x[E+2],N=x[E+3],O=y[k];if(O>=u)continue;const I=m>1?(z-T)*(d-1)/(m-1):0,L=b>1?(N-_)*(h-1)/(b-1):0;for(let F=0;F<m;F++){const j=m>1?T*(d-1)+F*I:.5*(T+z)*(d-1);if(j<0||j>d-1){for(let H=0;H<b;H++)for(let M=0;M<p;M++){const U=M+H*C[2]+F*C[1]+k*C[0];g.values[U]=c}continue}if(l==="bilinear"){const H=Math.floor(j),M=Math.ceil(j),U=j-H;for(let B=0;B<b;B++){const V=b>1?_*(h-1)+B*L:.5*(_+N)*(h-1);if(V<0||V>h-1){for(let pe=0;pe<p;pe++){const ve=pe+B*C[2]+F*C[1]+k*C[0];g.values[ve]=c}continue}const ee=Math.floor(V),J=Math.ceil(V),Z=V-ee;for(let pe=0;pe<p;pe++){let ve=pe+ee*w[2]+H*w[1]+O*w[0];const ye=v[ve];ve=pe+J*w[2]+H*w[1]+O*w[0];const Ce=v[ve];ve=pe+ee*w[2]+M*w[1]+O*w[0];const Fe=v[ve];ve=pe+J*w[2]+M*w[1]+O*w[0];const Re=v[ve],Ze=ye+(Ce-ye)*Z,st=Fe+(Re-Fe)*Z;ve=pe+B*C[2]+F*C[1]+k*C[0],g.values[ve]=Ze+(st-Ze)*U}}}else for(let H=0;H<b;++H){const M=b>1?_*(h-1)+H*L:.5*(_+N)*(h-1);if(M<0||M>h-1){for(let V=0;V<p;V++){const ee=V+H*C[2]+F*C[1]+k*C[0];g.values[ee]=c}continue}const U=Math.round(M),B=Math.round(j);for(let V=0;V<p;V++){const ee=V+U*w[2]+B*w[1]+O*w[0],J=V+H*C[2]+F*C[1]+k*C[0];g.values[J]=v[ee]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Mke={kernelName:tT,backendName:"cpu",kernelFunc:Bke};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,exclusive:r,reverse:a}=i;ze(s,"cumprod");const l=sn([o],s.shape.length);let c=s;l!=null&&(c=Xi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=xn(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=ds(c.dtype,"int32"),h=UE(ae(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=a?(g,x)=>g+f-x-1:(g,x)=>g+x;for(let g=0;g<p.length;g+=f)for(let x=0;x<f;x++){const y=m(g,x);if(x===0)h[y]=r?1:p[y];else{const v=m(g,x-1);h[y]=r?p[v]*h[v]:p[y]*h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=Fl(l),x=Xi({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const Uke={kernelName:eT,backendName:"cpu",kernelFunc:jke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,exclusive:r,reverse:a}=i;ze(s,"cumsum");const l=sn([o],s.shape.length);let c=s;l!=null&&(c=Xi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=xn(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=ds(c.dtype,"int32"),h=Ci(ae(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=a?(g,x)=>g+f-x-1:(g,x)=>g+x;for(let g=0;g<p.length;g+=f)for(let x=0;x<f;x++){const y=m(g,x);if(x===0)h[y]=r?0:p[y];else{const v=m(g,x-1);h[y]=r?p[v]+h[v]:p[y]+h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=Fl(l),x=Xi({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const Hke={kernelName:Py,backendName:"cpu",kernelFunc:Vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:o}=e,{size:r,binaryOutput:a}=i;if(s.shape.length===1){const l=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,u=B$(l,c,o.dtype,o.shape,r);return n.makeTensorInfo([r],o.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(o),u=SM(l,c,r,a);return n.makeTensorInfo(u.shape,o.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(s.shape.length,"."))}const Gke={kernelName:nT,backendName:"cpu",kernelFunc:Wke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockSize:o,dataFormat:r}=i;R(r==="NHWC",()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(r));const a=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],d=l*o,h=c*o,p=u/(o*o),f=n.data.get(s.dataId).values,m=new Float32Array(a*d*h*p);let b=0;for(let g=0;g<a;++g)for(let x=0;x<d;++x){const y=Math.floor(x/o),v=x%o;for(let w=0;w<h;++w){const C=Math.floor(w/o),k=w%o,E=(v*o+k)*p;for(let T=0;T<p;++T){const z=T+E+u*(C+c*(y+l*g));m[b++]=f[z]}}}return n.makeTensorInfo([a,d,h,p],s.dtype,m)}const Kke={kernelName:iT,backendName:"cpu",kernelFunc:qke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S7(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dilations:l,dimRoundingMode:c}=i;ze([s,o],"depthwiseConv2DNative");const u=He(s.shape),d=He(o.shape);let h=l;h==null&&(h=[1,1]),R(hi(r,h),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(r," and dilations '").concat(h,"'"));const p=Yn(s.shape,o.shape,r,h,a,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:b,dilationWidth:g,padInfo:x}=p,y=x.left,v=x.top,w=p.outChannels/p.inChannels,C=new On(p.outShape,s.dtype),k=n.data.get(s.dataId).values,E=n.data.get(o.dataId).values,T=C.values;for(let _=0;_<p.batchSize;++_){const z=_*u[0],N=_*C.strides[0];for(let O=0;O<p.outHeight;++O){const I=N+O*C.strides[1],L=O*p.strideHeight-v;for(let F=0;F<f;++F){const j=L+F*b;if(j<0||j>=p.inHeight)continue;const H=F*d[0],M=z+j*u[1];for(let U=0;U<p.outWidth;++U){const B=I+U*C.strides[2],V=U*p.strideWidth-y;for(let ee=0;ee<m;++ee){const J=V+ee*g;if(J<0||J>=p.inWidth)continue;const Z=H+ee*d[1],pe=M+J*p.inChannels;let ve=B,ye=Z;for(let Ce=0;Ce<p.inChannels;++Ce){const Fe=k[pe+Ce];for(let Re=0;Re<w;++Re)T[ve+Re]+=Fe*E[ye+Re];ve+=w,ye+=w}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const Xke={kernelName:By,backendName:"cpu",kernelFunc:S7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i;ze([s,o],"depthwiseConv2dNativeBackpropFilter");const d=Yn(s.shape,u,r,a,l,c,!0),{strideHeight:h,strideWidth:p,filterHeight:f,filterWidth:m}=d,b=new On(d.filterShape,"float32"),g=d.padInfo.left,x=d.padInfo.top,y=d.outChannels/d.inChannels,v=n.data.get(s.dataId).values,w=new On(s.shape,s.dtype,v),C=n.data.get(o.dataId).values,k=new On(o.shape,o.dtype,C);for(let E=0;E<f;++E){const T=Math.max(0,Math.ceil((x-E)/h)),_=Math.min(d.outHeight,(d.inHeight+x-E)/h);for(let z=0;z<m;++z){const N=Math.max(0,Math.ceil((g-z)/p)),O=Math.min(d.outWidth,(d.inWidth+g-z)/p);for(let I=0;I<d.outChannels;++I){const L=Math.trunc(I/y),F=I%y;let j=0;for(let H=0;H<d.batchSize;++H)for(let M=T;M<_;++M){const U=E+M*h-x;for(let B=N;B<O;++B){const V=z+B*p-g;j+=w.get(H,U,V,L)*k.get(H,M,B,I)}}b.set(j,E,z,L,F)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const Zke={kernelName:sT,backendName:"cpu",kernelFunc:Yke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{strides:r,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i;ze([s,o],"depthwiseConv2DNativeBackpropInput");const d=He(s.shape),h=He(o.shape),p=Yn(u,o.shape,r,a,l,c,!0),f=new On(p.inShape,"float32"),m=f.values,[b,g,x]=f.strides,y=n.data.get(s.dataId).values,[v,w,C]=d,k=n.data.get(o.dataId).values,[E,T,_]=h,{batchSize:z,filterHeight:N,filterWidth:O,inChannels:I,inHeight:L,inWidth:F,outChannels:j,outHeight:H,outWidth:M,strideHeight:U,strideWidth:B}=p,V=N-1-p.padInfo.top,ee=O-1-p.padInfo.left,J=j/I;for(let Z=0;Z<z;++Z)for(let pe=0;pe<I;++pe)for(let ve=0;ve<L;++ve){const ye=ve-V,Ce=Math.max(0,Math.ceil(ye/U)),Fe=Math.min(H,(N+ye)/U);for(let Re=0;Re<F;++Re){const Ze=Re-ee,st=Math.max(0,Math.ceil(Ze/B)),A=Math.min(M,(O+Ze)/B);let le=0;for(let oe=Ce;oe<Fe;++oe){const G=oe*U-ye;for(let W=st;W<A;++W){const ne=W*B-Ze,de=v*Z+w*oe+C*W,ge=E*(N-1-G)+T*(O-1-ne)+_*pe;for(let se=0;se<J;++se){const we=pe*J+se,$e=y[de+we],ke=k[ge+se];le+=$e*ke}}}m[b*Z+g*ve+x*Re+pe]=le}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const Qke={kernelName:oT,backendName:"cpu",kernelFunc:Jke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e2e(t){const{inputs:e,backend:n}=t,{x:i}=e,s=ae(i.shape),o=n.data.get(i.dataId).values,r=nt([s,s],i.dtype),a=r.values;for(let c=0;c<o.length;c++)a[c*s+c]=o[c];const l=[...i.shape,...i.shape];return n.makeTensorInfo(l,r.dtype,r.values)}const t2e={kernelName:rT,backendName:"cpu",kernelFunc:e2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n2e={kernelName:My,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s}=t,{strides:o,pad:r,dilations:a}=n,l=e,c=l.data.get(i.dataId).values,u=i.shape.length,d=l.data.get(s.dataId).values,h=s.shape.length,{batchSize:p,inHeight:f,inWidth:m,inChannels:b,outHeight:g,outWidth:x,padInfo:y,strideHeight:v,strideWidth:w,filterHeight:C,filterWidth:k,dilationHeight:E,dilationWidth:T,outShape:_}=Zm(i.shape,s.shape,o,r,"NHWC",a),z=ae(_),N=_.length,O=mn(i.dtype,z);for(let L=0;L<p;++L)for(let F=0;F<g;++F){const j=F*v-y.top;for(let H=0;H<x;++H){const M=H*w-y.left;for(let U=0;U<b;++U){let B=Number.MIN_SAFE_INTEGER;for(let ee=0;ee<C;++ee){const J=j+ee*E;if(J>=0&&J<f)for(let Z=0;Z<k;++Z){const pe=M+Z*T;if(pe>=0&&pe<m){const ve=vr([L,J,pe,U],u,He(i.shape)),ye=vr([ee,Z,U],h,He(s.shape)),Ce=c[ve]+d[ye];Ce>B&&(B=Ce)}}}const V=vr([L,F,H,U],N,He(_));O[V]=B}}}return{dataId:l.write(gu(O,i.dtype),_,i.dtype),shape:_,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i2e={kernelName:O2,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s,dy:o}=t,{strides:r,pad:a,dilations:l}=n,c=e,u=mo(i.shape,c.data.get(i.dataId).values),d=mo(s.shape,c.data.get(s.dataId).values),{batchSize:h,inHeight:p,inWidth:f,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:C,dilationHeight:k,dilationWidth:E,outShape:T}=Zm(i.shape,s.shape,r,a,"NHWC",l);R(o.rank===T.length,()=>"Error in ".concat(O2,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank));const _=mo(T,c.data.get(o.dataId).values),z=g8(s.shape,s.dtype);for(let O=0;O<h;++O)for(let I=0;I<b;++I){const L=I*y-x.top;for(let F=0;F<g;++F){const j=F*v-x.left;for(let H=0;H<m;++H){let M=Number.MIN_SAFE_INTEGER,U=0,B=0;for(let V=0;V<w;++V){const ee=L+V*k;if(ee>=0&&ee<p)for(let J=0;J<C;++J){const Z=j+J*E;if(Z>=0&&Z<f){const pe=u[O][ee][Z][H]+d[V][J][H];pe>M&&(M=pe,U=V,B=J)}}}z[U][B][H]+=_[O][I][F][H]}}}return{dataId:c.write(gu(z,i.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s2e={kernelName:D2,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s,dy:o}=t,{strides:r,pad:a,dilations:l}=n,c=e,u=mo(i.shape,c.data.get(i.dataId).values),d=mo(s.shape,c.data.get(s.dataId).values),{batchSize:h,inHeight:p,inWidth:f,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:C,dilationHeight:k,dilationWidth:E,outShape:T}=Zm(i.shape,s.shape,r,a,"NHWC",l);R(o.rank===T.length,()=>"Error in ".concat(D2,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank));const _=mo(T,c.data.get(o.dataId).values),z=g8(i.shape,i.dtype);for(let O=0;O<h;++O)for(let I=0;I<b;++I){const L=I*y-x.top;for(let F=0;F<g;++F){const j=F*v-x.left;for(let H=0;H<m;++H){let M=Number.MIN_SAFE_INTEGER,U=L<0?0:L,B=j<0?0:j;for(let V=0;V<w;++V){const ee=L+V*k;if(ee>=0&&ee<p)for(let J=0;J<C;++J){const Z=j+J*E;if(Z>=0&&Z<f){const pe=u[O][ee][Z][H]+d[V][J][H];pe>M&&(M=pe,U=ee,B=Z)}}}z[O][U][B][H]+=_[O][I][F][H]}}}return{dataId:c.write(gu(z,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o2e(t){const{inputs:e,backend:n,attrs:i}=t,{image:s}=e,{canvas:o,options:r}=i,{contextOptions:a,imageOptions:l}=r||{},c=(l==null?void 0:l.alpha)||1,u=(a==null?void 0:a.contextType)||"2d";if(u!=="2d")throw new Error("Context type ".concat(a.contextType," is not supported by the CPU backend."));const d=o.getContext(u,(a==null?void 0:a.contextAttributes)||{});if(d==null)throw new Error("Could not get the context with ".concat(u," type."));const[h,p]=s.shape.slice(0,2),f=s.shape.length===2?1:s.shape[2],m=n.data.get(s.dataId).values,b=s.dtype==="float32"?255:1,g=new Uint8ClampedArray(p*h*4);for(let y=0;y<h*p;++y){const v=[0,0,0,255*c];for(let C=0;C<f;C++){const k=m[y*f+C];if(s.dtype==="float32"){if(k<0||k>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(k,"."))}else if(s.dtype==="int32"&&(k<0||k>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(k,"."));f===1?(v[0]=k*b,v[1]=k*b,v[2]=k*b):v[C]=k*b}const w=y*4;g[w+0]=Math.round(v[0]),g[w+1]=Math.round(v[1]),g[w+2]=Math.round(v[2]),g[w+3]=Math.round(v[3])}o.width=p,o.height=h;const x=new ImageData(g,p,h);return d.putImageData(x,0,0),s}const r2e={kernelName:wle,backendName:"cpu",kernelFunc:o2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mg(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;ze(s,"sum");let a;s.dtype==="bool"?a=El({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=$r({inputs:{x:s},backend:n});const l=a.shape.length,c=ct(o,a.shape),u=sn(c,l);let d=c,h=a;u!=null&&(h=Xi({inputs:{x:a},backend:n,attrs:{perm:u}}),d=xn(d.length,l)),pi("sum",d,h.shape.length);const[p,f]=Zn(h.shape,d),m=ds(h.dtype,"int32");let b=ox(n,p,m);const g=ae(f),x=n.data.get(b.dataId).values,y=n.data.get(h.dataId).values;for(let v=0;v<x.length;++v){const w=v*g;let C=0;for(let k=0;k<g;++k)C+=y[w+k];x[v]=C}if(r){const v=bn(b.shape,c),w=b;b=Mt({inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(w)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(h),b}const a2e={kernelName:yv,backendName:"cpu",kernelFunc:mg};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l2e(t){const{inputs:e,backend:n,attrs:i}=t,{equation:s}=i,o=e,{allDims:r,summedDims:a,idDims:l}=l$(s,o.length);u$(r.length,l,o);const{path:c,steps:u}=d$(a,l),d=u.length;let h=null,p=r.length;const f=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=c$(p,l[b]);let y;h$(g)?y=o[b]:(y=Xi({inputs:{x:o[b]},backend:n,attrs:{perm:g}}),f.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);gt(y.shape,v)||(y=Mt({inputs:{x:y},backend:n,attrs:{shape:v}}),f.push(y)),h===null?h=y:(h=h1({inputs:{a:y,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=mg({inputs:{x:h},backend:n,attrs:{axis:c[m]-(r.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const c2e={kernelName:aT,backendName:"cpu",kernelFunc:l2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2e(t){const{inputs:e,backend:n}=t,{dy:i,y:s}=e;ze([i,s],"eluGrad");const o=new Float32Array(ae(s.shape)),r=n.data.get(s.dataId).values,a=n.data.get(i.dataId).values;for(let l=0;l<r.length;++l){const c=r[l];c>=0?o[l]=a[l]:o[l]=a[l]*(c+1)}return n.makeTensorInfo(s.shape,"float32",o)}const d2e={kernelName:lT,backendName:"cpu",kernelFunc:u2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h2e=t$,p2e=n$,f2e=i$,m2e=s$,g2e=o$,b2e=r$,x2e=$t(mm,t=>{const e=Math.sign(t),n=Math.abs(t),i=1/(1+h2e*n);return e*(1-((((b2e*i+g2e)*i+m2e)*i+f2e)*i+p2e)*i*Math.exp(-n*n))}),y2e={kernelName:mm,backendName:"cpu",kernelFunc:x2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lx(t){const{inputs:e,backend:n,attrs:i}=t,{input:s}=e,{dim:o}=i,r=s.shape.length,a=s.shape.slice();let l=o;return o<0&&(R(-(r+1)<=o,()=>"Axis must be in the interval [".concat(-(r+1),", ").concat(r,"]")),l=r+o+1),a.splice(l,0,1),Mt({inputs:{x:s},backend:n,attrs:{shape:a}})}const v2e={kernelName:Uy,backendName:"cpu",kernelFunc:lx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w2e=vn((t,e)=>t/e),W$=Fn(pm,w2e),wS={kernelName:pm,backendName:"cpu",kernelFunc:W$};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C7(t,e,n){const i=t.shape,s=i[0],o=i[1],r=n.data.get(t.dataId),a=r.complexTensorInfos.real,l=r.complexTensorInfos.imag,c=[s,o],u=ae(c),d=li("float32",u),h=li("float32",u);for(let b=0;b<s;b++){const g=nu({inputs:{x:a},backend:n,attrs:{begin:[b,0],size:[1,o]}}),x=nu({inputs:{x:l},backend:n,attrs:{begin:[b,0],size:[1,o]}}),y=is({inputs:{real:g,imag:x},backend:n}),{real:v,imag:w}=k2e(y,e,n),C=fa(v,w);for(let k=0;k<o;k++){const E=a$(C,k);d[b*o+k]=E.real,h[b*o+k]=E.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(y)}const p=n.makeTensorInfo(c,"float32",d),f=n.makeTensorInfo(c,"float32",h),m=is({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function k2e(t,e,n){const i=ae(t.shape),s=n.data.get(t.dataId),o=n.data.get(s.complexTensorInfos.real.dataId).values,r=n.data.get(s.complexTensorInfos.imag.dataId).values;if(S2e(i)){const a=kS(o,r,i,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),d=n.makeTensorInfo([],"float32",Ol(i,"float32")),h=$r({inputs:{x:d},backend:n}),p=wS.kernelFunc({inputs:{a:c,b:d},backend:n}),f=wS.kernelFunc({inputs:{a:u,b:h},backend:n}),m=n.data.get(p.dataId).values,b=n.data.get(f.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),{real:m,imag:b}}return a}else{const a=fa(o,r),l=C2e(a,i,e);return RF(l)}}function S2e(t){return(t&t-1)===0}function kS(t,e,n,i,s){if(n===1)return{real:t,imag:e};const o=fa(t,e),r=n/2,a=LF(o),l=a.real,c=a.imag,u=[l.length],d=s.makeTensorInfo(u,"float32",l),h=s.makeTensorInfo(u,"float32",c),p=is({inputs:{real:d,imag:h},backend:s}),f=zF(o),m=f.real,b=f.imag,g=[m.length],x=s.makeTensorInfo(g,"float32",m),y=s.makeTensorInfo(g,"float32",b),v=is({inputs:{real:x,imag:y},backend:s}),w=kS(l,c,r,i,s),C=w.real,k=w.imag,E=[C.length],T=s.makeTensorInfo(E,"float32",C),_=s.makeTensorInfo(E,"float32",k),z=is({inputs:{real:T,imag:_},backend:s}),N=kS(m,b,r,i,s),O=N.real,I=N.imag,L=[O.length],F=s.makeTensorInfo(L,"float32",O),j=s.makeTensorInfo(L,"float32",I),H=is({inputs:{real:F,imag:j},backend:s}),M=PF(n,i),U=[M.real.length],B=s.makeTensorInfo(U,"float32",M.real),V=s.makeTensorInfo(U,"float32",M.imag),ee=is({inputs:{real:B,imag:V},backend:s}),J=h1({inputs:{a:ee,b:H},backend:s}),Z=eh({inputs:{a:z,b:J},backend:s}),pe=V$({inputs:{a:z,b:J},backend:s}),ve=tu({inputs:{input:Z},backend:s}),ye=tu({inputs:{input:pe},backend:s}),Ce=th({inputs:{input:Z},backend:s}),Fe=th({inputs:{input:pe},backend:s}),Re=nh({inputs:[ve,ye],backend:s,attrs:{axis:0}}),Ze=nh({inputs:[Ce,Fe],backend:s,attrs:{axis:0}}),st=s.data.get(Re.dataId).values,A=s.data.get(Ze.dataId).values;return s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(x),s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(_),s.disposeIntermediateTensorInfo(z),s.disposeIntermediateTensorInfo(F),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(B),s.disposeIntermediateTensorInfo(V),s.disposeIntermediateTensorInfo(ee),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(Z),s.disposeIntermediateTensorInfo(pe),s.disposeIntermediateTensorInfo(ve),s.disposeIntermediateTensorInfo(Ce),s.disposeIntermediateTensorInfo(ye),s.disposeIntermediateTensorInfo(Fe),s.disposeIntermediateTensorInfo(Re),s.disposeIntermediateTensorInfo(Ze),{real:st,imag:A}}function C2e(t,e,n){const i=new Float32Array(e*2);for(let s=0;s<e;s++){let o=0,r=0;for(let a=0;a<e;a++){const l=BF(s*a,e,n),c=a$(t,a);o+=c.real*l.real-c.imag*l.imag,r+=c.real*l.imag+c.imag*l.real}n&&(o/=e,r/=e),FF(i,o,r,s)}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2e(t){const{inputs:e,backend:n}=t,{input:i}=e,s=ae(i.shape),o=i.shape[i.shape.length-1],r=s/o,a=Mt({inputs:{x:i},backend:n,attrs:{shape:[r,o]}}),l=C7(a,!1,n),c=Mt({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const T2e={kernelName:cT,backendName:"cpu",kernelFunc:E2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G$(t){const{backend:e,attrs:n}=t,{shape:i,value:s,dtype:o}=n,r=o||kh(s),a=mn(r,ae(i));return $2e(a,s,r),e.makeTensorInfo(i,r,a)}const I2e={kernelName:uT,backendName:"cpu",kernelFunc:G$};function $2e(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _2e={kernelName:dT,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,s=n,o=li(i.dtype,ae(i.shape)),[r,a,l,c]=i.shape,u=s.data.get(i.dataId).values;for(let h=0;h<r;h++){const p=h*l*a*c;for(let f=0;f<a;f++){const m=f*(l*c);for(let b=0;b<l;b++){const g=b*c;for(let x=0;x<c;x++){const y=Math.round(l-b-1),v=p+m+g+x;let w=u[v];if(y>=0&&y<l){const C=y*c,k=p+m+C+x;w=u[k]}o[v]=w}}}}return{dataId:s.write(o,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o,bias:r,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i;let m=k7({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(r){const b=m;if(u==="NCHW"&&r.shape.length===1&&r.shape[0]!==1){const g=Mt({inputs:{x:r},backend:n,attrs:{shape:[r.shape[0],1,1]}});m=eh({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=eh({inputs:{a:m,b:r},backend:n});n.disposeIntermediateTensorInfo(b)}if(p){const b=m;if(u==="NCHW"&&p==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=Mt({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=ax(n,m,p,g,f),n.disposeIntermediateTensorInfo(g)}else m=ax(n,m,p,a,f);n.disposeIntermediateTensorInfo(b)}return m}const N2e={kernelName:M0,backendName:"cpu",kernelFunc:A2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o,bias:r,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i;let m=S7({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(r){const b=m;m=eh({inputs:{a:m,b:r},backend:n}),n.disposeIntermediateTensorInfo(b)}if(p){const b=m;m=ax(n,m,p,a,f),n.disposeIntermediateTensorInfo(b)}return m}const O2e={kernelName:j0,backendName:"cpu",kernelFunc:D2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R2e(t){const{inputs:e,backend:n}=t,{params:i,indices:s}=e,o=ae(i.shape),r=s.shape,a=r[r.length-1],[l,c,u,d]=HI(i,s);if(c===0)return n.makeTensorInfo(l,i.dtype,[]);const h=n.data.get(s.dataId).values,p=n.bufferSync(i),f=RM(h,p,i.dtype,c,a,u,d,i.shape,o);return n.makeTensorInfo(l,i.dtype,f.values)}const L2e={kernelName:hT,backendName:"cpu",kernelFunc:R2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,indices:o}=e,{axis:r,batchDims:a}=i;ze([s,o],"gatherV2");const l=ct(r,s.shape)[0],c=n.data.get(o.dataId).values,u=s.shape[l];for(let v=0;v<c.length;++v){const w=c[v];R(w<=u-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(u-1,"]"))}let d=a;a==null&&(d=0);const h=ae(o.shape),p=f$(s,o,l,d),f=Mt({inputs:{x:s},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=Mt({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),b=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],g=n.bufferSync(m),x=n.bufferSync(f),y=LM(x,g,b);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,y.dtype,y.values)}const F2e={kernelName:Hy,backendName:"cpu",kernelFunc:z2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P2e(t){const{inputs:e,backend:n}=t,{input:i}=e,s=ae(i.shape),o=i.shape[i.shape.length-1],r=s/o,a=Mt({inputs:{x:i},backend:n,attrs:{shape:[r,o]}}),l=C7(a,!0,n),c=Mt({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const B2e={kernelName:pT,backendName:"cpu",kernelFunc:P2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M2e=$t(km,t=>Number.isFinite(t)?1:0,"bool"),j2e={kernelName:km,backendName:"cpu",kernelFunc:M2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U2e=$t(Sm,t=>Math.abs(t)===1/0?1:0,"bool"),V2e={kernelName:Sm,backendName:"cpu",kernelFunc:U2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H2e=$t(Cm,t=>Number.isNaN(t)?1:0,"bool"),W2e={kernelName:Cm,backendName:"cpu",kernelFunc:H2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G2e(t){const{backend:e,attrs:n}=t,{start:i,stop:s,num:o}=n,r=MM(i,s,o);return e.makeTensorInfo([r.length],"float32",r)}const q2e={kernelName:mT,backendName:"cpu",kernelFunc:G2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K2e=$t(Tm,t=>Math.log1p(t)),X2e={kernelName:Tm,backendName:"cpu",kernelFunc:K2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y2e=vn((t,e)=>t&&e),Z2e=Fn(Xy,Y2e,null,"bool"),J2e={kernelName:Xy,backendName:"cpu",kernelFunc:Z2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q2e=$t(Yy,t=>t?0:1,"bool"),eSe={kernelName:Yy,backendName:"cpu",kernelFunc:Q2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tSe=vn((t,e)=>t||e),nSe=Fn(Zy,tSe,null,"bool"),iSe={kernelName:Zy,backendName:"cpu",kernelFunc:nSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{depthRadius:o,bias:r,alpha:a,beta:l}=i;ze(s,"LRN");const c=s.shape[3],u=c-1,d=n.data.get(s.dataId).values,h=ae(s.shape),p=new Float32Array(h);function f(m){const b=m%c;let g=m-b+Math.max(0,b-o);const x=m-b+Math.min(b+o,u);let y=0;for(;g<=x;g++){const v=d[g];y+=v*v}return y}for(let m=0;m<h;m++){const b=f(m),g=d[m]*Math.pow(r+a*b,-l);p[m]=g}return n.makeTensorInfo(s.shape,s.dtype,p)}const oSe={kernelName:Jy,backendName:"cpu",kernelFunc:sSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,y:o,dy:r}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i;ze(r,"LRNGrad");const d=ae(r.shape),h=r.shape[3],p=n.data.get(r.dataId).values,f=n.data.get(s.dataId).values,m=n.data.get(o.dataId).values,b=new Float32Array(d),g=d;for(let x=0;x<g;x++){const y=x%h,v=x-y+Math.max(0,y-a),w=x-y+Math.min(h,y+a+1);let C=0;for(let k=v;k<w;k++)C+=Math.pow(f[k],2);C=c*C+l;for(let k=v;k<w;k++){let E=-2*c*u*f[k]*m[x]/C;x===k&&(E+=Math.pow(C,-u)),E*=p[x],b[k]+=E}}return n.makeTensorInfo(r.shape,s.dtype,b)}const aSe={kernelName:gT,backendName:"cpu",kernelFunc:rSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E7(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reductionIndices:o,keepDims:r}=i,a=n;let l=s.shape;const c=l.length,u=ct(o,l);let d=u;const h=sn(d,c);let p=a.data.get(s.dataId).values;if(h!=null){const v=new Array(c);for(let w=0;w<v.length;w++)v[w]=l[h[w]];p=j$(p,l,s.dtype,h,v),d=xn(d.length,c),l=v}ze(s,"max"),pi("max",d,c);const[f,m]=Zn(l,d),b=ae(m),g=UM(p,b,f,s.dtype),x=a.write(g,f,s.dtype);let y=f;return r&&(y=bn(f,u)),{dataId:x,shape:y,dtype:s.dtype}}const lSe={kernelName:Qy,backendName:"cpu",kernelFunc:E7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;ze(s,"maxPool");const{filterSize:o,strides:r,pad:a,dimRoundingMode:l}=i,c=1;R(hi(r,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'"));const u=To(s.shape,o,r,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&gt(u.inShape,u.outShape))d=$r({inputs:{x:s},backend:n});else{const h=n.data.get(s.dataId).values,p=He(s.shape),f=H$(h,s.shape,s.dtype,p,u,"max");d=n.makeTensorInfo(u.outShape,s.dtype,f.values)}return d}const uSe={kernelName:ev,backendName:"cpu",kernelFunc:cSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:o,strides:r,pad:a,dimRoundingMode:l,dataFormat:c}=i;ze(s,"maxPool3d");const u=xa(s.shape,o,r,1,a,l,c),d=n.data.get(s.dataId).values,h=w7(d,s.shape,s.dtype,He(s.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const hSe={kernelName:tv,backendName:"cpu",kernelFunc:dSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,{filterSize:r,strides:a,pad:l,dimRoundingMode:c}=i;ze([s,o],"maxPool3DGrad");const u=xa(o.shape,r,a,1,l,c),d=n.bufferSync(o),h=tke(d,u),p=u.strideDepth,f=u.strideHeight,m=u.strideWidth,b=u.dilationDepth,g=u.dilationHeight,x=u.dilationWidth,y=u.effectiveFilterDepth,v=u.effectiveFilterHeight,w=u.effectiveFilterWidth,C=y-1-u.padInfo.front,k=w-1-u.padInfo.left,E=v-1-u.padInfo.top,T=nt(o.shape,"float32"),_=n.bufferSync(s);for(let z=0;z<u.batchSize;++z)for(let N=0;N<u.inChannels;++N)for(let O=0;O<u.inDepth;++O)for(let I=0;I<u.inHeight;++I)for(let L=0;L<u.inWidth;++L){const F=O-C,j=I-E,H=L-k;let M=0;for(let U=0;U<y;U+=b){const B=(F+U)/p;if(!(B<0||B>=u.outDepth||Math.floor(B)!==B))for(let V=0;V<v;V+=g){const ee=(j+V)/f;if(!(ee<0||ee>=u.outHeight||Math.floor(ee)!==ee))for(let J=0;J<w;J+=x){const Z=(H+J)/m;if(Z<0||Z>=u.outWidth||Math.floor(Z)!==Z)continue;const pe=y*v*w-1-h.get(z,B,ee,Z,N),ve=U*v*w+V*w+J,ye=pe===ve?1:0;if(ye===0)continue;const Ce=_.get(z,B,ee,Z,N);M+=Ce*ye}}}T.set(M,z,O,I,L,N)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const fSe={kernelName:xT,backendName:"cpu",kernelFunc:pSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mSe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o,output:r}=e,a=o;ze([o,r],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=To(a.shape,l,c,1,u,d),p=n.data.get(a.dataId).values,f=nt(h.outShape,a.dtype,v7(p,a.shape,a.dtype,h).values),m=h.strideHeight,b=h.strideWidth,g=h.dilationHeight,x=h.dilationWidth,y=h.effectiveFilterHeight,v=h.effectiveFilterWidth,w=v-1-h.padInfo.left,C=y-1-h.padInfo.top,k=nt(a.shape,"float32"),E=n.data.get(s.dataId).values,T=nt(s.shape,"float32",E);for(let _=0;_<h.batchSize;++_)for(let z=0;z<h.inChannels;++z)for(let N=0;N<h.inHeight;++N)for(let O=0;O<h.inWidth;++O){const I=N-C,L=O-w;let F=0;for(let j=0;j<y;j+=g){const H=(I+j)/m;if(!(H<0||H>=h.outHeight||Math.floor(H)!==H))for(let M=0;M<v;M+=x){const U=(L+M)/b;if(U<0||U>=h.outWidth||Math.floor(U)!==U)continue;const B=y*v-1-f.get(_,H,U,z),V=j*v+M,ee=B===V?1:0;if(ee===0)continue;const J=T.get(_,H,U,z);F+=J*ee}}k.set(F,_,N,O,z)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const gSe={kernelName:bT,backendName:"cpu",kernelFunc:mSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bSe(t,e,n,i,s){const o=He(e),r=H$(t,e,n,o,s,"max"),a=v7(t,e,n,s,!0,i);return[r.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xSe={kernelName:yT,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:s,strides:o,pad:r,includeBatchInIndex:a}=e,l=n;ze(i,"MaxPoolWithArgmax");const c=l.data.get(i.dataId).values,u=To(i.shape,s,o,[1,1],r),[d,h]=bSe(c,i.shape,i.dtype,a,u),p=l.write(d,u.outShape,i.dtype),f=l.write(h,u.outShape,i.dtype);return[{dataId:p,shape:u.outShape,dtype:i.dtype},{dataId:f,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ySe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i,a=ct(o,s.shape),c=Zn(s.shape,a)[1],u=ae(c),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(h);const p=El({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});d.push(p);const f=W$({inputs:{a:p,b:h},backend:n});d.push(f);const m=mg({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:r}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),m}const vSe={kernelName:nv,backendName:"cpu",kernelFunc:ySe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;ze(s,"min");const a=ct(o,s.shape);let l=a;const c=sn(l,s.shape.length);let u=s;c!=null&&(u=Xi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=xn(l.length,s.shape.length)),pi("min",l,u.shape.length);const[d,h]=Zn(u.shape,l),p=ae(h),f=Ci(ae(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<f.length;++g){const x=g*p;let y=m[x];for(let v=0;v<p;++v){const w=m[x+v];(Number.isNaN(w)||w<y)&&(y=w)}f[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,f);if(r){const g=bn(d,a),x=Mt({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const kSe={kernelName:iv,backendName:"cpu",kernelFunc:wSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:o,mode:r}=i;ze(s,"mirrorPad");const a=o.map((y,v)=>y[0]+s.shape[v]+y[1]),l=o.map(y=>y[0]),c=o.map((y,v)=>y[0]+s.shape[v]),u=r==="reflect"?0:1,d=n.data.get(s.dataId).values,h=s.shape.length,p=He(s.shape),f=ae(a),m=a.length,b=He(a),g=li(s.dtype,f);for(let y=0;y<f;y++){let v=Sh(y,m,b);for(let C=0;C<m;C++)v[C]<l[C]?v[C]=l[C]*2-v[C]-u:v[C]>=c[C]&&(v[C]=(c[C]-1)*2-v[C]+u);v=v.map((C,k)=>C-l[k]);const w=vr(v,h,p);g[y]=d[w]}return{dataId:n.write(g,a,s.dtype),shape:a,dtype:s.dtype}}const CSe={kernelName:sv,backendName:"cpu",kernelFunc:SSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ESe=vn((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),TSe=Fn(_m,ESe),ISe={kernelName:_m,backendName:"cpu",kernelFunc:TSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T7(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{dim:o}=i,r=s.shape.length;let a=o;if(a===-1&&(a=r-1),a!==r-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r," and dim was ").concat(a));const l=ct([a],s.shape),c=E7({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=bn(c.shape,l),d=Mt({inputs:{x:c},backend:n,attrs:{shape:u}}),h=V$({inputs:{a:s,b:d},backend:n}),p=AM({inputs:{x:h},backend:n}),f=mg({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=Mt({inputs:{x:f},backend:n,attrs:{shape:u}}),b=W$({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),b}const $Se={kernelName:kv,backendName:"cpu",kernelFunc:T7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Se(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{numSamples:o,seed:r,normalized:a}=i;ze(s,"multinomial");const l=a?s:T7({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,o],p=Ci(ae(h),"int32");for(let f=0;f<c;++f){const m=f*u,b=new Float32Array(u-1);b[0]=d[m];for(let y=1;y<b.length;++y)b[y]=b[y-1]+d[m+y];const g=jv.alea(r.toString()),x=f*o;for(let y=0;y<o;++y){const v=g();p[x+y]=b.length;for(let w=0;w<b.length;w++)if(v<b[w]){p[x+y]=w;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",p)}const ASe={kernelName:vT,backendName:"cpu",kernelFunc:_Se};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NSe=FI;function DSe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l}=i;ze(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,{selectedIndices:d}=NSe(c,u,r,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const OSe={kernelName:wT,backendName:"cpu",kernelFunc:DSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RSe=PI;function LSe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i;ze(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:h,validOutputs:p}=RSe(u,d,r,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const zSe={kernelName:kT,backendName:"cpu",kernelFunc:LSe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FSe=BI;function PSe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i;ze(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,h=r,p=a,f=l,m=c,{selectedIndices:b,selectedScores:g}=FSe(u,d,h,p,f,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const BSe={kernelName:ST,backendName:"cpu",kernelFunc:PSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MSe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s}=e,{dtype:o,depth:r,onValue:a,offValue:l}=i;ze(s,"oneHot");const c=ae(s.shape),u=new Float32Array(c*r);u.fill(l);const d=n.data.get(s.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<r&&(u[h*r+d[h]]=a);return n.makeTensorInfo([...s.shape,r],o,u)}const jSe={kernelName:lv,backendName:"cpu",kernelFunc:MSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cx(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(i.dtype==="complex64"){const s=tu({inputs:{input:i},backend:n}),o=cx({inputs:{x:s},backend:n}),r=th({inputs:{input:i},backend:n}),a=cx({inputs:{x:r},backend:n}),l=is({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const USe={kernelName:Tv,backendName:"cpu",kernelFunc:cx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I7(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(i.dtype==="complex64"){const s=tu({inputs:{input:i},backend:n}),o=I7({inputs:{x:s},backend:n}),r=th({inputs:{input:i},backend:n}),a=cx({inputs:{x:r},backend:n}),l=is({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),l}else return G$({backend:n,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}const VSe={kernelName:av,backendName:"cpu",kernelFunc:I7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $7(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i;if(e.length===1)return lx({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const o=e[0].shape,r=e[0].dtype;e.forEach(u=>{xs(o,u.shape,"All tensors passed to stack must have matching shapes"),R(r===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=lx({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(d),d}),c=nh({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const HSe={kernelName:cv,backendName:"cpu",kernelFunc:$7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:o,constantValue:r}=i;ze(s,"pad");const a=o.map((x,y)=>x[0]+s.shape[y]+x[1]),l=o.map(x=>x[0]),c=n.data.get(s.dataId).values,u=ae(s.shape),d=s.shape.length,h=He(s.shape),p=ae(a),f=a.length,m=He(a),b=li(s.dtype,p);r!==0&&b.fill(r);for(let x=0;x<u;x++){const v=Sh(x,d,h).map((C,k)=>C+l[k]),w=vr(v,f,m);b[w]=c[x]}return{dataId:n.write(b,a,s.dtype),shape:a,dtype:s.dtype}}const _7={kernelName:uv,backendName:"cpu",kernelFunc:WSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GSe=vn((t,e)=>Math.pow(t,e)),qSe=Fn(Nm,GSe),KSe={kernelName:Nm,backendName:"cpu",kernelFunc:qSe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XSe(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:s,paramsDenseValues:o,indices:r}=e,{outputRaggedRank:a}=i,l=s.map(g=>n.data.get(g.dataId).values),c=s.map(g=>g.shape),u=n.data.get(o.dataId).values,d=n.data.get(r.dataId).values,[h,p,f]=KM(l,c,u,o.shape,o.dtype,d,r.shape),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(f,o.dtype,p);return m.concat([b])}const YSe={kernelName:CT,backendName:"cpu",kernelFunc:XSe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZSe(t){const{inputs:e,backend:n}=t,{starts:i,limits:s,deltas:o}=e,r=n.data.get(i.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[c,u]=XM(r,i.shape,i.dtype,a,s.shape,l,o.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const JSe={kernelName:ET,backendName:"cpu",kernelFunc:ZSe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QSe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:s,values:o,defaultValue:r,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,d=n.data.get(r.dataId).values,h=a.map(b=>n.data.get(b.dataId).values),p=a.map(b=>b.shape),[f,m]=YM(c,s.shape,u,o.shape,o.dtype,d,r.shape,h,p,l);return n.makeTensorInfo(f,o.dtype,m)}const eCe={kernelName:TT,backendName:"cpu",kernelFunc:QSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tCe(t){const{backend:e,attrs:n}=t,{start:i,stop:s,dtype:o,step:r}=n,a=ZM(i,s,r,o);return e.makeTensorInfo([a.length],o,a)}const nCe={kernelName:IT,backendName:"cpu",kernelFunc:tCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iCe=$t(Dm,t=>1/t),sCe={kernelName:Dm,backendName:"cpu",kernelFunc:iCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:o,halfPixelCenters:r,size:a}=i;ze(s,"resizeBilinear");const l=He(s.shape),[c,u]=a,[d,h,p,f]=s.shape,m=n.data.get(s.dataId).values,b=new Float32Array(ae([d,c,u,f])),g=[o&&c>1?h-1:h,o&&u>1?p-1:p],x=[o&&c>1?c-1:c,o&&u>1?u-1:u];let y=0;const v=g[0]/x[0],w=g[1]/x[1];for(let C=0;C<d;C++)for(let k=0;k<c;k++){let E;r?E=v*(k+.5)-.5:E=v*k;const T=Math.max(0,Math.floor(E)),_=E-T,z=Math.min(h-1,Math.ceil(E)),N=C*l[0]+T*l[1],O=C*l[0]+z*l[1];for(let I=0;I<u;I++){let L;r?L=w*(I+.5)-.5:L=w*I;const F=Math.max(0,Math.floor(L)),j=L-F,H=Math.min(p-1,Math.ceil(L)),M=N+F*l[2],U=O+F*l[2],B=N+H*l[2],V=O+H*l[2];for(let ee=0;ee<f;ee++){const J=m[M+ee],Z=m[U+ee],pe=m[B+ee],ve=m[V+ee],ye=J+(pe-J)*j,Ce=Z+(ve-Z)*j,Fe=ye+(Ce-ye)*_;b[y++]=Fe}}}return n.makeTensorInfo([d,c,u,f],"float32",b)}const rCe={kernelName:mv,backendName:"cpu",kernelFunc:oCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:o}=e,{alignCorners:r}=i;ze([o,s],"resizeBilinearGrad");const a=He(s.shape),[l,c,u,d]=s.shape,[,h,p]=o.shape,f=new Float32Array(l*c*u*d),m=[r&&h>1?c-1:c,r&&p>1?u-1:u],b=[r&&h>1?h-1:h,r&&p>1?p-1:p],g=m[0]/b[0],x=m[1]/b[1],y=n.data.get(o.dataId).values;let v=0;for(let w=0;w<l;w++){const C=w*a[0];for(let k=0;k<h;k++){const E=k*g,T=Math.floor(E),_=Math.min(Math.ceil(E),c-1),z=C+T*a[1],N=C+_*a[1],O=E-T,I=1-O;for(let L=0;L<p;L++){const F=L*x,j=Math.floor(F),H=Math.min(Math.ceil(F),u-1),M=F-j,U=1-M,B=z+j*a[2],V=z+H*a[2],ee=N+j*a[2],J=N+H*a[2],Z=I*U,pe=I*M,ve=O*U,ye=O*M;for(let Ce=0;Ce<d;Ce++){const Fe=y[v++];f[B+Ce]+=Fe*Z,f[V+Ce]+=Fe*pe,f[ee+Ce]+=Fe*ve,f[J+Ce]+=Fe*ye}}}}return n.makeTensorInfo([l,u,c,d],"float32",f)}const lCe={kernelName:AT,backendName:"cpu",kernelFunc:aCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:o,halfPixelCenters:r,size:a}=i;ze(s,"resizeNearestNeighbor");const l=He(s.shape),[c,u]=a,[d,h,p,f]=s.shape,m=n.data.get(s.dataId).values,b=new Float32Array(d*c*u*f),g=[o&&c>1?h-1:h,o&&u>1?p-1:p],x=[o&&c>1?c-1:c,o&&u>1?u-1:u],y=g[0]/x[0],v=g[1]/x[1];let w=0;for(let C=0;C<d;C++){const k=C*l[0];for(let E=0;E<c;E++){const T=r?y*(E+.5):y*E;let _=Math.min(h-1,o?Math.round(T):Math.floor(T));r&&(_=Math.max(0,_));const z=k+_*l[1];for(let N=0;N<u;N++){const O=r?v*(N+.5):v*N;let I=Math.min(p-1,o?Math.round(O):Math.floor(O));r&&(I=Math.max(0,I));const L=z+I*l[2];for(let F=0;F<f;F++){const j=m[L+F];b[w++]=j}}}}return n.makeTensorInfo([d,c,u,f],s.dtype,b)}const uCe={kernelName:fv,backendName:"cpu",kernelFunc:cCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:o}=e,{alignCorners:r}=i;ze([o,s],"resizeNearestNeighborGrad");const a=He(s.shape),l=He(o.shape),[c,u,d,h]=s.shape,[,p,f]=o.shape,m=new Float32Array(c*u*d*h),b=n.data.get(o.dataId).values,g=[r&&p>1?u-1:u,r&&f>1?d-1:d],x=[r&&p>1?p-1:p,r&&f>1?f-1:f],y=g[0]/x[0],v=g[1]/x[1],w=1/y,C=1/v,k=Math.ceil(w)*2+2,E=Math.ceil(C)*2+2;for(let T=0;T<c;T++){const _=T*a[0];for(let z=0;z<u;z++){const N=_+z*a[1],O=Math.floor(z*w),I=Math.floor(O-k/2);for(let L=0;L<d;L++){const F=N+L*a[2],j=Math.floor(L*C),H=Math.floor(j-E/2);for(let M=0;M<h;M++){let U=0;for(let B=0;B<k;B++){const V=B+I;if(V<0||V>=p)continue;const ee=_+V*l[1],J=V*y,Z=Math.min(u-1,r?Math.round(J):Math.floor(J));if(z===Z)for(let pe=0;pe<E;pe++){const ve=pe+H;if(ve<0||ve>=f)continue;const ye=ee+ve*l[2],Ce=ve*v,Fe=Math.min(d-1,r?Math.round(Ce):Math.floor(Ce));L===Fe&&(U+=b[ye+M])}}m[F+M]=U}}}}return n.makeTensorInfo(s.shape,s.dtype,m)}const hCe={kernelName:_T,backendName:"cpu",kernelFunc:dCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dims:o}=i;ze(s,"reverse");const r=s.shape.length,a=ct(o,s.shape);if(r===0)return $r({inputs:{x:s},backend:n});const l=new On(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),h=d.slice();a.forEach(p=>h[p]=s.shape[p]-1-h[p]),l.set(c.get(...h),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const fCe={kernelName:gv,backendName:"cpu",kernelFunc:pCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mCe={kernelName:qT,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:s,fillValue:o,center:r}=e,a=n,l=li(i.dtype,ae(i.shape)),[c,u,d,h]=i.shape,[p,f]=JI(r,u,d),m=255,b=Math.sin(s),g=Math.cos(s),x=a.data.get(i.dataId).values;for(let v=0;v<c;v++){const w=v*d*u*h;for(let C=0;C<u;C++){const k=C*(d*h);for(let E=0;E<d;E++){const T=E*h;for(let _=0;_<h;_++){const z=[c,C,E,_],N=z[2],O=z[1];let I=(N-p)*g-(O-f)*b,L=(N-p)*b+(O-f)*g;I=Math.round(I+p),L=Math.round(L+f);let F=o;if(typeof o!="number"&&(_===3?F=m:F=o[_]),I>=0&&I<d&&L>=0&&L<u){const H=L*(d*h),M=I*h,U=w+H+M+_;F=x[U]}const j=w+k+T+_;l[j]=F}}}}return{dataId:a.write(l,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gCe=$t(Lm,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),bCe={kernelName:Lm,backendName:"cpu",kernelFunc:gCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xCe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s,updates:o}=e,{shape:r}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=vu(o,s,r),h=!0,p=n.bufferSync(s),f=n.bufferSync(o),m=yc(p,f,r,d,c,l,a,u,0,h);return n.makeTensorInfo(r,m.dtype,m.values)}const yCe={kernelName:NT,backendName:"cpu",kernelFunc:xCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vCe(t,e){let n=0,i=t.length,s=0;for(;n<i;)s=Math.floor((n+i)/2),t[s]<e?n=s+1:i=s;return i}function wCe(t,e){let n=0,i=t.length,s=0;for(;n<i;)s=Math.floor((n+i)/2),t[s]<=e?n=s+1:i=s;return i}function kCe(t,e,n,i,s,o){const r=mn("int32",n*s);for(let a=0;a<n;++a){const l=t.slice(a*i,(a+1)*i),c=a*s;for(let u=0;u<s;++u)r[c+u]=o==="left"?vCe(l,e[u+c]):wCe(l,e[u+c])}return r}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SCe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:s,values:o}=e,{side:r}=i,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,c=kCe(a,l,s.shape[0],s.shape[1],o.shape[1],r);return n.makeTensorInfo(o.shape,"int32",c)}const CCe={kernelName:OT,backendName:"cpu",kernelFunc:SCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ECe(t){const{inputs:e,backend:n}=t,{condition:i,t:s,e:o}=e;ze([i,s,o],"select");const r=i.shape.length,a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,u=ds(s.dtype,o.dtype),d=Ci(ae(s.shape),u);let h=0;const p=r===0||r>1||s.shape.length===1?1:ae(s.shape.slice(1));for(let f=0;f<a.length;f++)for(let m=0;m<p;m++)a[f]===1?d[h++]=l[f]:d[h++]=c[f];return n.makeTensorInfo(s.shape,u,d)}const TCe={kernelName:bv,backendName:"cpu",kernelFunc:ECe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ICe=Qv,$Ce=e1,_Ce=$t(Fm,t=>t>=0?$Ce*t:ICe*(Math.exp(t)-1)),ACe={kernelName:Fm,backendName:"cpu",kernelFunc:_Ce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NCe=$t(Mm,t=>t<0?-1:t>0?1:0),DCe={kernelName:Mm,backendName:"cpu",kernelFunc:NCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OCe=$t(Pm,t=>Math.sin(t)),RCe={kernelName:Pm,backendName:"cpu",kernelFunc:OCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LCe=$t(Bm,t=>Math.sinh(t)),zCe={kernelName:Bm,backendName:"cpu",kernelFunc:LCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FCe=11920928955078125e-23,PN=Math.log(FCe)+2,PCe=$t(Um,t=>{const e=t>-PN,n=t<PN,i=Math.exp(t);let s;return n?s=i:e?s=t:s=Math.log(1+i),s}),BCe={kernelName:Um,backendName:"cpu",kernelFunc:PCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:o,paddings:r}=i;ze([s],"spaceToBatchND");const a=ae(o),l=[[0,0]];l.push(...r);for(let C=1+o.length;C<s.shape.length;++C)l.push([0,0]);const c=_7.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=sg(c.shape,o,a,!1),d=og(u.length,o.length,!1),h=rg(c.shape,o,a,!1),m=Mt({inputs:{x:c},backend:n,attrs:{shape:u}}),x=Xi({inputs:{x:m},backend:n,attrs:{perm:d}}),w=Mt({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),w}const jCe={kernelName:vv,backendName:"cpu",kernelFunc:MCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UCe(t){const{inputs:e,backend:n}=t,{indices:i,values:s,denseShape:o,defaultValue:r}=e;if(o.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n        ".concat(i.shape));if(s.shape.length!==1)throw new Error("Values must be a vector, saw:\n        ".concat(s.shape));if(r.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(r.shape));const a=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(r.dataId).values[0],[d,h,p,f,m]=t7(a,i.shape,i.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],s.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const VCe={kernelName:RT,backendName:"cpu",kernelFunc:UCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HCe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:s,newShape:o}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape\n        ".concat(i.shape));if(s.shape.length!==1)throw new Error("Input shape should be a vector but received shape\n        ".concat(s.shape));if(o.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const r=Array.from(n.data.get(s.dataId).values),a=n.data.get(i.dataId).values,l=Array.from(n.data.get(o.dataId).values),[c,u,d]=n7(a,i.shape,i.dtype,r,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const WCe={kernelName:LT,backendName:"cpu",kernelFunc:HCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GCe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error("Indices should be a vector but received shape\n          ".concat(s.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const r=n.data.get(i.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[c,u]=U$(r,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const qCe={kernelName:zT,backendName:"cpu",kernelFunc:GCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KCe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error("Indices should be a vector but received shape\n         ".concat(s.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const r=n.data.get(i.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[c,u]=U$(r,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const XCe={kernelName:FT,backendName:"cpu",kernelFunc:KCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YCe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:s,sparseValues:o,defaultValue:r}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=vu(o,s,a),p=!1,f=n.bufferSync(s);let m;switch(o.dtype){case"bool":{const b=n.bufferSync(o),g=!!n.data.get(r.dataId).values[0];m=yc(f,b,a,h,u,c,l,d,g,p);break}case"float32":{const b=n.bufferSync(o),g=n.data.get(r.dataId).values[0];m=yc(f,b,a,h,u,c,l,d,g,p);break}case"int32":{const b=n.bufferSync(o),g=n.data.get(r.dataId).values[0];m=yc(f,b,a,h,u,c,l,d,g,p);break}case"string":{const b=n.bufferSync(o),g=gl(n.data.get(r.dataId).values[0]);m=yc(f,b,a,h,u,c,l,d,g,p);break}default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(a,m.dtype,m.values)}const ZCe={kernelName:PT,backendName:"cpu",kernelFunc:YCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{numOrSizeSplits:o,axis:r}=i,a=ct(r,s.shape)[0],l=p$(s,o,a),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map(d=>{const h=[...u];h[a]=d;const p=nu({inputs:{x:s},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,p})}const QCe={kernelName:wv,backendName:"cpu",kernelFunc:JCe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eEe={kernelName:BT,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,i=e;ze(n,"square");const s=i.data.get(n.dataId).values,o=new Float32Array(s.length);for(let a=0;a<s.length;++a){const l=s[a];o[a]=l*l}return{dataId:i.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tEe=$t(Xm,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),nEe={kernelName:Xm,backendName:"cpu",kernelFunc:tEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:o,end:r,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i;ze(s,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=XI(s.shape,o,r,a,l,c,u,d,h);let w;if(m)w=Mt({inputs:{x:s},backend:n,attrs:{shape:f}});else if(b||g){R(s.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(s.shape.length));const C=GI(x,y,v),k=nu({inputs:{x:s},backend:n,attrs:{begin:x,size:C}});w=Mt({inputs:{x:k},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(k)}else{const C=n.bufferSync(s),k=o7(p,C,v,x);w=n.makeTensorInfo(f,k.dtype,k.values)}return w}const sEe={kernelName:MT,backendName:"cpu",kernelFunc:iEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oEe(t){const{inputs:e,backend:n,attrs:i}=t,{separator:s,nGramWidths:o,leftPad:r,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[f,m]=r7(h,p,s,o,r,a,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}const rEe={kernelName:jT,backendName:"cpu",kernelFunc:oEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aEe(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:s}=i,{input:o,delimiter:r}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(r.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(r.shape));const a=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values[0],[c,u,d]=a7(a,l,s),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const lEe={kernelName:UT,backendName:"cpu",kernelFunc:aEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cEe(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:s}=i,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const r=n.data.get(o.dataId).values,a=l7(r,s);return n.makeTensorInfo(o.shape,"int32",a)}const uEe={kernelName:VT,backendName:"cpu",kernelFunc:cEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dEe=$t(Gm,t=>Math.tan(t)),hEe={kernelName:Gm,backendName:"cpu",kernelFunc:dEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pEe=$t(qm,t=>Math.tanh(t)),fEe={kernelName:qm,backendName:"cpu",kernelFunc:pEe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mEe(t){const{inputs:e,backend:n}=t,{tensor:i,indices:s,updates:o}=e,{sliceRank:r,numUpdates:a,sliceSize:l,strides:c,outputSize:u}=vu(o,s,i.shape),d=!1,h=n.bufferSync(s),p=n.bufferSync(o),f=n.bufferSync(i),m=yc(h,p,i.shape,u,l,a,r,c,f,d);return n.makeTensorInfo(i.shape,m.dtype,m.values)}const gEe={kernelName:DT,backendName:"cpu",kernelFunc:mEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reps:o}=i;ze(s,"tile");const r=u7(n.bufferSync(s),o);return n.makeTensorInfo(r.shape,r.dtype,r.values)}const xEe={kernelName:Km,backendName:"cpu",kernelFunc:bEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{k:o,sorted:r}=i;ze(s,"topk");const a=n.data.get(s.dataId).values,[l,c]=h7(a,s.shape,s.dtype,o,r);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const vEe={kernelName:HT,backendName:"cpu",kernelFunc:yEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wEe(t){const{inputs:e,attrs:n,backend:i}=t,{image:s,transforms:o}=e,{interpolation:r,fillMode:a,fillValue:l,outputShape:c}=n,[u,d,h,p]=s.shape,[f,m]=c!=null?c:[d,h],b=[u,f,m,p],g=He(s.shape),x=g[0],y=g[1],v=g[2],w=He(b),C=w[0],k=w[1],E=w[2],T=li(s.dtype,ae(b));T.fill(l);const _=i.data.get(s.dataId).values,z=i.data.get(o.dataId).values;for(let O=0;O<u;++O){const I=o.shape[0]===1?z:z.subarray(O*8,O*8+8);for(let L=0;L<f;++L)for(let F=0;F<m;++F)for(let j=0;j<p;++j){let H;const M=I[6]*F+I[7]*L+1;if(M===0)continue;const U=(I[0]*F+I[1]*L+I[2])/M,B=(I[3]*F+I[4]*L+I[5])/M,V=BN(U,h,a),ee=BN(B,d,a);switch(r){case"nearest":H=IEe(_,d,h,x,y,v,O,ee,V,j,l);break;case"bilinear":H=$Ee(_,d,h,x,y,v,O,ee,V,j,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(r))}const J=O*C+L*k+F*E+j;T[J]=H}return i.makeTensorInfo(b,s.dtype,T)}return{dataId:i.write(T,b,s.dtype),shape:s.shape,dtype:s.dtype}}const kEe={kernelName:WT,backendName:"cpu",kernelFunc:wEe};function BN(t,e,n){switch(n){case"reflect":return SEe(t,e);case"wrap":return CEe(t,e);case"nearest":return TEe(t,e);case"constant":default:return EEe(t)}}function SEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=2*e;n<i&&(n=i*Math.trunc(-n/i)+n),n=n<-e?n+i:-n-1}else if(n>e-1)if(e<=1)n=0;else{const i=2*e;n-=i*Math.trunc(n/i),n>=e&&(n=i-n-1)}return Vc(0,n,e-1)}function CEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=e-1;n+=e*(Math.trunc(-n/i)+1)}else if(n>e-1)if(e<=1)n=0;else{const i=e-1;n-=e*Math.trunc(n/i)}return Vc(0,n,e-1)}function EEe(t,e){return t}function TEe(t,e){return Vc(0,t,e-1)}function mp(t,e,n,i,s,o,r,a,l,c,u){const d=r*i+a*s+l*o+c;return 0<=a&&a<e&&0<=l&&l<n?t[d]:u}function IEe(t,e,n,i,s,o,r,a,l,c,u){const d=Math.round(a),h=Math.round(l);return mp(t,e,n,i,s,o,r,d,h,c,u)}function $Ee(t,e,n,i,s,o,r,a,l,c,u){const d=Math.floor(a),h=Math.floor(l),p=d+1,f=h+1,m=(f-l)*mp(t,e,n,i,s,o,r,d,h,c,u)+(l-h)*mp(t,e,n,i,s,o,r,d,f,c,u),b=(f-l)*mp(t,e,n,i,s,o,r,p,h,c,u)+(l-h)*mp(t,e,n,i,s,o,r,p,f,c,u);return(p-a)*m+(a-d)*b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ee(t){const{inputs:e,attrs:n,backend:i}=t,{axis:s}=n,{x:o}=e;ze(o,"unique");const r=i.data.get(o.dataId).values,{outputValues:a,outputShape:l,indices:c}=p7(r,s,o.shape,o.dtype);return[i.makeTensorInfo(l,o.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const AEe={kernelName:GT,backendName:"cpu",kernelFunc:_Ee};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NEe(t){const{inputs:e,backend:n,attrs:i}=t,{value:s}=e;let{axis:o}=i;o<0&&(o+=s.shape.length);const r=s.shape.length,a=s.shape[o],l=new Array(r-1);let c=0;for(let p=0;p<r;p++)p!==o&&(l[c++]=s.shape[p]);const u=new Array(r).fill(0),d=s.shape.slice();d[o]=1;const h=new Array(a);for(let p=0;p<h.length;p++){u[o]=p;const f=nu({inputs:{x:s},backend:n,attrs:{begin:u,size:d}});h[p]=Mt({inputs:{x:f},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(f)}return h}const DEe={kernelName:Cv,backendName:"cpu",kernelFunc:NEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,segmentIds:o}=e,{numSegments:r}=i;ze(s,"unsortedSegmentSum");const a=s.shape.length,l=o.shape.length,c=[],u=[],d=a-l;let h=o;for(let f=0;f<d;++f){const m=lx({inputs:{input:h},backend:n,attrs:{dim:f+1}});h=m,u.push(m)}for(let f=0;f<r;++f){const m=Ol(f,"int32"),b=n.makeTensorInfo([],"int32",m),g=$M({inputs:{a:b,b:h},backend:n}),x=El({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=h1({inputs:{a:x,b:s},backend:n}),v=mg({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});c.push(v),u.push(b),u.push(g),u.push(x),u.push(y),u.push(v)}const p=$7({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),p}const REe={kernelName:Ev,backendName:"cpu",kernelFunc:OEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LEe=[_we,c1e,Nwe,Owe,m1e,Lwe,Fwe,Bwe,jwe,Vwe,Wwe,qwe,Xwe,Jwe,eke,ike,oke,ake,cke,Iwe,dke,pke,mke,b1e,bke,p1e,y1e,yke,u1e,wke,Ske,Cke,Tke,$ke,Ake,Dke,Rke,zke,Pke,Mke,Uke,Hke,Gke,Kke,Xke,Zke,Qke,t2e,n2e,i2e,s2e,r2e,c2e,vwe,d2e,v1e,y2e,w1e,v2e,S1e,T2e,I2e,_2e,E1e,I1e,N2e,O2e,L2e,F2e,_1e,N1e,d1e,B2e,kke,j2e,V2e,W2e,wwe,O1e,L1e,q2e,F1e,X2e,J2e,eSe,iSe,oSe,aSe,lSe,B1e,uSe,hSe,fSe,gSe,xSe,vSe,kSe,j1e,CSe,ISe,ASe,V1e,W1e,OSe,zSe,BSe,q1e,jSe,VSe,HSe,_7,KSe,Swe,Y1e,YSe,JSe,eCe,nCe,h1e,wS,sCe,Cwe,Ewe,Twe,rCe,lCe,uCe,hCe,fCe,mCe,bCe,swe,yCe,CCe,TCe,ACe,rwe,DCe,RCe,zCe,awe,$Se,BCe,jCe,VCe,WCe,qCe,XCe,ZCe,QCe,uwe,eEe,hwe,fwe,nEe,sEe,rEe,lEe,uEe,xwe,a2e,hEe,fEe,gEe,xEe,vEe,kEe,K1e,AEe,DEe,REe,USe];for(const t of LEe)y8(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uc={},lb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function zEe(t,e){uc[t]=e}function Jo(t,e){if(!(t in uc)||e!=null){const i=PEe(t,e);if(i!==null)uc[t]=i;else return console.log("Could not get context for WebGL version",t),null}const n=uc[t];return n==null||n.isContextLost()?(delete uc[t],Jo(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),uc[t])}function FEe(t){if(!re().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function PEe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e==null?FEe(t):e;return n.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete uc[t]},!1),re().getBool("SOFTWARE_WEBGL_ENABLED")&&(lb.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",lb)||n.getContext("experimental-webgl",lb):n.getContext("webgl2",lb)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Sf;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Sf||(Sf={}));var $s;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})($s||($s={}));var oi;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(oi||(oi={}));function gg(t,e){return[e,t]}function BEe(t,e){return t*e}function cb(t){const e=ae(t),n=Math.ceil(e/4);return $2(n)}function Nh(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function MEe(t,e){const[n,i]=Nh(t,e);return n*i*4}function q$(t,e){const n=t;let i,s,o,r,a,l,c,u,d,h;return re().getNumber("WEBGL_VERSION")===2?(i=n.R32F,s=n.R16F,o=n.RGBA16F,r=n.RGBA32F,a=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(i=t.RGBA,s=t.RGBA,o=t.RGBA,r=n.RGBA,a=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,l=t.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:r,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function De(t,e){const n=e();return re().getBool("DEBUG")&&jEe(t),n}function jEe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+WEe(t,e))}const UEe=596e-10,VEe=65504;function HEe(t){return!!(re().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||UEe<Math.abs(t)&&Math.abs(t)<VEe)}function WEe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(e)}}function ub(t,e){return ka(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function GEe(t,e){const n=ka(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(De(t,()=>t.shaderSource(n,e)),De(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function qEe(t,e){const n=ka(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(De(t,()=>t.shaderSource(n,e)),De(t,()=>t.compileShader(n)),re().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw A7(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const KEe=/ERROR: [0-9]+:([0-9]+):/g;function A7(t,e){const n=KEe.exec(e);if(n==null){console.log("Couldn't parse line number in error: ".concat(e)),console.log(t);return}const i=+n[1],s=t.split("\n"),o=s.length.toString().length+2,r=s.map((d,h)=>Cd((h+1).toString(),o)+d);let a=0;for(let d=0;d<r.length;d++)a=Math.max(r[d].length,a);const l=r.slice(0,i-1),c=r.slice(i-1,i),u=r.slice(i);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c ".concat(Cd(c[0],a)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function XEe(t){return ka(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function YEe(t,e){if(De(t,()=>t.linkProgram(e)),!re().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Hw(t,e){if(De(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function ZEe(t,e){const n=ka(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return De(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),De(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function JEe(t,e){const n=ka(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return De(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),De(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function QEe(t){return ka(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function eTe(t,e){const n=re().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const i="[".concat(t,"x").concat(e,"]");throw new Error("Requested texture size "+i+" is invalid.")}if(t>n||e>n){const i="[".concat(t,"x").concat(e,"]"),s="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+s+".")}}function tTe(t){return ka(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function MN(t,e,n,i,s,o,r){const a=t.getAttribLocation(e,n);return a===-1?!1:(De(t,()=>t.bindBuffer(t.ARRAY_BUFFER,i)),De(t,()=>t.vertexAttribPointer(a,s,t.FLOAT,!1,o,r)),De(t,()=>t.enableVertexAttribArray(a)),!0)}function nTe(t,e,n){aTe(t,n),De(t,()=>t.activeTexture(t.TEXTURE0+n)),De(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function iTe(t,e,n){return ka(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function sTe(t,e,n){return t.getUniformLocation(e,n)}function oTe(t,e,n,i){De(t,()=>nTe(t,e,i)),De(t,()=>t.uniform1i(n,i))}function Ww(t,e,n){De(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),De(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function jN(t,e){De(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),De(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function db(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+rTe(t,e))}function rTe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(e)}}function ka(t,e,n){const i=De(t,()=>e());if(i==null)throw new Error(n);return i}function aTe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=e+t.TEXTURE0;if(i<t.TEXTURE0||i>n){const s="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(s,"."))}}function ih(t,e=2){return ae(t.slice(0,t.length-e))}function sh(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function hb(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[ih(t),...sh(t)]),e}function lTe(t,e=!1){let n=re().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=re().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&re().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=n/2),e&&(n=n*2,i=i*2,t=t.map((a,l)=>l>=t.length-2?jE(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Dl(t).newShape);let s=ae(t),o=null;t.length<=1&&s<=n?o=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?o=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?o=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?o=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?o=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(o=[t[0],t[1]*t[2]*t[3]]);const r=o!=null&&Math.max(...o)>i&&Math.min(...o)<=(e?2:1)&&Math.min(...o)>0;if(o==null||r)if(e){const a=ih(t);let l=2,c=2;t.length&&([l,c]=sh(t)),s=a*(l/2)*(c/2),o=$2(s).map(u=>u*2)}else o=$2(s);return o}function pb(t){return t%2===0}function ux(t,e){if(t=t.slice(-2),e=e.slice(-2),gt(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],i=e[e.length-1];if(n===i||pb(n)&&pb(i)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&pb(t[0])&&pb(e[0])}let Gw,qw;function cTe(t){if(Gw==null){const e=Jo(t);Gw=e.getParameter(e.MAX_TEXTURE_SIZE)}return Gw}function uTe(t){if(qw==null){const e=Jo(t);qw=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,qw)}function dTe(t){if(t===0)return 0;let e;const n=Jo(t);return po(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:po(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function po(t,e){return t.getExtension(e)!=null}function UN(t){try{if(Jo(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function hTe(t){if(t===0)return!1;const e=Jo(t);if(t===1){if(!po(e,"OES_texture_float"))return!1}else if(!po(e,"EXT_color_buffer_float"))return!1;return SS(e)}function pTe(t){if(t===0)return!1;const e=Jo(t);if(t===1){if(!po(e,"OES_texture_float")||!po(e,"WEBGL_color_buffer_float"))return!1}else{if(po(e,"EXT_color_buffer_float"))return SS(e);const i="EXT_color_buffer_half_float";if(po(e,i)){const s=e.getExtension(i);return fTe(e,s)}return!1}return SS(e)}function SS(t){const e=q$(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const r=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(o),r}function fTe(t,e){const n=q$(t,e),i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(i),t.deleteFramebuffer(r),a}function mTe(t){return t!==2?!1:Jo(t).fenceSync!=null}function bg(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&R(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors ")+"in the WebGL backend.")})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Be=re();Be.registerFlag("HAS_WEBGL",()=>Be.getNumber("WEBGL_VERSION")>0);Be.registerFlag("WEBGL_VERSION",()=>UN(2)?2:UN(1)?1:0);Be.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Be.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Be.get("WEBGL_VERSION")===2);Be.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Be.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Be.registerFlag("WEBGL_PACK",()=>Be.getBool("HAS_WEBGL"));Be.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_CLIP",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_REDUCE",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_LAZILY_UNPACK",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_CONV_IM2COL",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Be.getBool("WEBGL_PACK"));Be.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>cTe(Be.getNumber("WEBGL_VERSION")));Be.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>uTe(Be.getNumber("WEBGL_VERSION")));Be.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Be.getNumber("WEBGL_VERSION");return t===0?0:dTe(t)});Be.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Be.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!z8());Be.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>hTe(Be.getNumber("WEBGL_VERSION")));Be.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Be.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Be.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Be.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>pTe(Be.getNumber("WEBGL_VERSION")));Be.registerFlag("WEBGL_FENCE_API_ENABLED",()=>mTe(Be.getNumber("WEBGL_VERSION")));Be.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Be.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Be.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(t,"."))});Be.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>z8()?1:-1,t=>{if(typeof t!="number")throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(t,"."))});Be.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Be.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Be.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Be.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Be.registerFlag("WEBGL_EXP_CONV",()=>!1);Be.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Be.getBool("IS_TEST"));Be.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Be.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Be.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Be.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zi(){let t,e,n,i,s,o,r,a,l,c;return re().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",i="in",s="texture",o="outputColor",r="out vec4 outputColor;",a=re().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",i="varying",s="texture2D",o="gl_FragColor",r="",a="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:i,texture2D:s,output:o,defineOutput:r,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Su(t,e,n="index"){const i=He(e);return i.map((s,o)=>{const r="int ".concat(t[o]," = ").concat(n," / ").concat(s),a=o===i.length-1?"int ".concat(t[o+1]," = ").concat(n," - ").concat(t[o]," * ").concat(s):"index -= ".concat(t[o]," * ").concat(s);return"".concat(r,"; ").concat(a,";")}).join("")}function p1(t,e,n="index"){const i=He(e);return i.map((s,o)=>{const r="int ".concat(t[o]," = ").concat(n," / outShapeStrides[").concat(o,"]"),a=o===i.length-1?"int ".concat(t[o+1]," = ").concat(n," - ").concat(t[o]," * outShapeStrides[").concat(o,"]"):"index -= ".concat(t[o]," * outShapeStrides[").concat(o,"]");return"".concat(r,"; ").concat(a,";")}).join("")}function gTe(t,e){const n=t.length,i=t.map(o=>"".concat(e,"[").concat(o,"]")),s=new Array(n-1);s[n-2]=i[n-1];for(let o=n-3;o>=0;--o)s[o]="(".concat(s[o+1]," * ").concat(i[o+1],")");return s}function bTe(t,e,n="index"){const i=t.map((o,r)=>r),s=gTe(i,e);return s.map((o,r)=>{const a="int ".concat(t[r]," = ").concat(n," / ").concat(s[r]),l=r===s.length-1?"int ".concat(t[r+1]," = ").concat(n," - ").concat(t[r]," * ").concat(s[r]):"index -= ".concat(t[r]," * ").concat(s[r]);return"".concat(a,"; ").concat(l,";")}).join("")}function K$(t){const e=He(t).map(n=>n.toString());return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(e[0]," + coords.y * ").concat(e[1]," + coords.z;\n  }\n")}function X$(){return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n"}const N7="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:D7}=Rge;function xTe(t,e,n){const i=[];if(t.forEach(p=>{const f=ae(p.shapeInfo.logicalShape);if(p.shapeInfo.isUniform?i.push("uniform float ".concat(p.name).concat(f>1?"[".concat(f,"]"):"",";")):(i.push("uniform sampler2D ".concat(p.name,";")),i.push("uniform int offset".concat(p.name,";"))),n.enableShapeUniforms){const{uniformShape:m}=Y$(n.packedInputs,p.shapeInfo.logicalShape,p.shapeInfo.texShape);switch(m.length){case 1:i.push("uniform int ".concat(p.name,"Shape;"));break;case 2:i.push("uniform ivec2 ".concat(p.name,"Shape;"));break;case 3:i.push("uniform ivec3 ".concat(p.name,"Shape;"));break;case 4:i.push("uniform ivec4 ".concat(p.name,"Shape;"));break}i.push("uniform ivec2 ".concat(p.name,"TexShape;"))}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;");break}i.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(p=>{i.push("uniform ".concat(p.type," ").concat(p.name).concat(p.arrayIndex?"[".concat(p.arrayIndex,"]"):"",";"))});const s=i.join("\n"),o=t.map(p=>yTe(p,e,n.packedInputs,n.enableShapeUniforms)).join("\n"),r=e.texShape,a=zi(),l=kTe(a);let c,u,d=ETe(a);return e.isPacked?(c=vTe(e.logicalShape,r,n.enableShapeUniforms),u=CTe(a)):(c=wTe(e.logicalShape,r,n.enableShapeUniforms),u=STe(a)),n.packedInputs&&(d+=_Te),[d,l,u,s,c,o,n.userCode].join("\n")}function Dh(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return jTe(t,e);case 1:return VTe(t,e);case 2:return WTe(t,e);case 3:return qTe(t,e);case 4:return XTe(t,e);case 5:return YTe(t);case 6:return ZTe(t);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function O7(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return MTe(t);case 1:return UTe(t,e);case 2:return HTe(t,e);case 3:return GTe(t,e);default:return KTe(t,e)}}function yTe(t,e,n=!1,i){let s="";n?s+=O7(t,i):s+=Dh(t,i);const o=t.shapeInfo.logicalShape,r=e.logicalShape;return o.length<=r.length&&(n?s+=JTe(t,e):s+=QTe(t,e)),s}function vTe(t,e,n){switch(t.length){case 0:return R7();case 1:return ATe(t,e,n);case 2:return PTe(t,e,n);case 3:return DTe(t,e,n);default:return RTe(t,e,n)}}function wTe(t,e,n){switch(t.length){case 0:return R7();case 1:return NTe(t,e,n);case 2:return BTe(t,e,n);case 3:return OTe(t,e,n);case 4:return LTe(t,e,n);case 5:return zTe(t,e);case 6:return FTe(t,e);default:throw new Error("".concat(t.length,"-D output sampling is not yet supported"))}}function kTe(t){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(t.texture2D,"(textureSampler, uv).r;\n    }\n  ")}function STe(t){return"\n    void setOutput(float val) {\n      ".concat(t.output," = vec4(val, 0, 0, 0);\n    }\n  ")}function CTe(t){return"\n    void setOutput(vec4 val) {\n      ".concat(t.output," = val;\n    }\n  ")}function ETe(t){return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFs," vec2 resultUV;\n    ").concat(t.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(t.defineSpecialNaN,"\n    ").concat(t.defineSpecialInf,"\n    ").concat(t.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(TTe,"\n    ").concat(ITe,"\n    ").concat($Te,"\n  ")}const TTe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ITe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$Te="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",_Te="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function R7(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function ATe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return i[0]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(i[1],".0);\n      }\n    "):i[1]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(i[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      return 2 * (resTexRC.x * ").concat(i[1]," + resTexRC.y);\n    }\n  ")}function NTe(t,e,n){return e[0]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(e[1],".0);\n      }\n    "):e[1]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(e[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      return resTexRC.x * ").concat(e[1]," + resTexRC.y;\n    }\n  ")}function DTe(t,e,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),o=s*Math.ceil(t[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(s,");\n      int c = imod(index, ").concat(s,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}function OTe(t,e,n){if(n){const s=p1(["r","c","d"],t);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(s,"\n    return ivec3(r, c, d);\n  }\n")}const i=Su(["r","c","d"],t);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}function RTe(t,e,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),o=s*Math.ceil(t[t.length-2]/2);let r=o,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)r*=t[t.length-c-1],a="\n      int b".concat(c," = index / ").concat(r,";\n      index -= b").concat(c," * ").concat(r,";\n    ")+a,l="b".concat(c,", ")+l;return"\n    ivec".concat(t.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      ").concat(a,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(s,");\n      int c = imod(index, ").concat(s,") * 2;\n\n      return ivec").concat(t.length,"(").concat(l,");\n    }\n  ")}function LTe(t,e,n){if(n){const s=p1(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(s,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const i=Su(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}function zTe(t,e){const n=Su(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(e[0],",\n                             ").concat(e[1],"));\n\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}function FTe(t,e){const n=Su(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}function PTe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(gt(t,e))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(i[0],", ").concat(i[1],"));\n      }\n    ");const s=Math.ceil(t[1]/2);return n?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(s,");\n      int c = imod(index, ").concat(s,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}function BTe(t,e,n){return gt(t,e)?n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(e[0],", ").concat(e[1],"));\n      }\n    "):t[1]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    "):t[0]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    "):n?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      int r = index / ").concat(t[1],";\n      int c = index - r * ").concat(t[1],";\n      return ivec2(r, c);\n    }\n  ")}function Cu(t){return"offset".concat(t)}function MTe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),i=zi();return"\n    vec4 ".concat(n,"() {\n      return ").concat(i.texture2D,"(").concat(e,", halfCR);\n    }\n  ")}function jTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"float ".concat(i,"() {return ").concat(n,";}");const[s,o]=t.shapeInfo.texShape;if(s===1&&o===1)return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const r=Cu(n);if(e)return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(r,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[a,l]=t.shapeInfo.texShape;return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(l,", ").concat(r,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function UTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,o=zi();if(e)return"\n    vec4 ".concat(i,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const r=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return"\n    vec4 ".concat(i,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(r[0],", ").concat(r[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}function VTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int index) {\n        ").concat(Oh(t),"\n      }\n    ");const s=t.shapeInfo.texShape,o=s[0],r=s[1];if(r===1&&o===1)return"\n      float ".concat(i,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const a=Cu(n);return r===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):o===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / ").concat(r,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):e?"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(r,", index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function HTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape,r=o[0],a=o[1],l=zi();if(o!=null&&gt(n,o))return e?"\n      vec4 ".concat(s,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    "):"\n      vec4 ".concat(s,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,".0, ").concat(r,".0);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    ");if(e)return"\n    vec4 ".concat(s,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ");const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(s,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ")}function WTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape;if(o!=null&&gt(n,o)){if(e)return"\n      float ".concat(s,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const h=o[0],p=o[1];return"\n    float ".concat(s,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(p,".0, ").concat(h,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}const{newShape:r,keptDims:a}=Dl(n),l=r;if(l.length<n.length){const h=Rh(t,l),p=["row","col"];return"\n      ".concat(Dh(h,e),"\n      float ").concat(s,"(int row, int col) {\n        return ").concat(s,"(").concat(Lh(p,a),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(s,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Oh(t),"\n      }\n    ");const c=o[0],u=o[1],d=Cu(i);return u===1?e?"\n      float ".concat(s,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(i,"TexShape[0]));\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(s,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):c===1?e?"\n      float ".concat(s,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(i,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(s,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):e?"\n      float ".concat(s,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n  float ".concat(s,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(i,", uv);\n  }\n")}function GTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape,r=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(n[0]===1){const h=n.slice(1),p=[1,2],f=Rh(t,h),m=["b","row","col"];return"\n        ".concat(O7(f,e),"\n        vec4 ").concat(s,"(int b, int row, int col) {\n          return ").concat(s,"(").concat(Lh(m,p),");\n        }\n      ")}const a=zi();if(e)return"\n    vec4 ".concat(s,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ");const l=r[0],c=r[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(s,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ")}function qTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[1]*n[2],r=n[2],{newShape:a,keptDims:l}=Dl(n),c=a;if(c.length<n.length){const m=Rh(t,c),b=["row","col","depth"];return"\n        ".concat(Dh(m,e),"\n        float ").concat(s,"(int row, int col, int depth) {\n          return ").concat(s,"(").concat(Lh(b,l),");\n        }\n      ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(s,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(r,", 1)));\n        ").concat(Oh(t),"\n      }\n    ");const u=t.shapeInfo.texShape,d=u[0],h=u[1],p=t.shapeInfo.flatOffset;if(h===o&&p==null)return e?"\n      float ".concat(s,"(int row, int col, int depth) {\n        int stride1 = ").concat(i,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n        float ".concat(s,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(r,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(i,", uv);\n        }\n      ");if(h===r&&p==null)return e?"\n      float ".concat(s,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(i,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(s,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ");const f=Cu(i);return e?"\n    float ".concat(s,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(i,"Shape[1] * ").concat(i,"Shape[2];\n      int stride1 = ").concat(i,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n      return sampleTexture(").concat(i,", uv);\n    }\n    "):"\n      float ".concat(s,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(r," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(i,", uv);\n      }\n  ")}function KTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=zi();if(e)return"\n    vec4 ".concat(i,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(s.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=t.shapeInfo.logicalShape,r=o.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],d=Math.ceil(o[r-1]/2);let h=d*Math.ceil(o[r-2]/2),p="int b, int row, int col",f="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<r-1;m++)p="int b".concat(m,", ")+p,h*=o[r-m-1],f="b".concat(m," * ").concat(h," + ")+f;return"\n    vec4 ".concat(i,"(").concat(p,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(s.texture2D,"(").concat(n,", uv);\n    }\n  ")}function XTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[3],r=n[2]*o,a=n[1]*r,{newShape:l,keptDims:c}=Dl(n);if(l.length<n.length){const x=Rh(t,l),y=["row","col","depth","depth2"];return"\n      ".concat(Dh(x,e),"\n      float ").concat(s,"(int row, int col, int depth, int depth2) {\n        return ").concat(s,"(").concat(Lh(y,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(s,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(a,", ").concat(r,", ").concat(o,", 1)));\n        ").concat(Oh(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1],f="int stride2 = ".concat(i,"Shape[3];"),m="int stride1 = ".concat(i,"Shape[2] * stride2;"),b="int stride0 = ".concat(i,"Shape[1] * stride1;");if(p===a&&u==null)return e?"\n      float ".concat(s,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(s,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(r,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");if(p===o&&u==null)return e?"\n      float ".concat(s,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(i,"Shape[1] * ").concat(i,"Shape[2], ").concat(i,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(s,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const g=Cu(i);return e?"\n    float ".concat(s,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):"\n    float ".concat(s,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(r," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}function YTe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],o=e[3]*s,r=e[2]*o,a=e[1]*r,{newShape:l,keptDims:c}=Dl(e);if(l.length<e.length){const m=Rh(t,l),b=["row","col","depth","depth2","depth3"];return"\n      ".concat(Dh(m),"\n      float ").concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(i,"(").concat(Lh(b,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(a,", ").concat(r,", ").concat(o,", ").concat(s,")) +\n          depth3;\n        ").concat(Oh(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],p=d[1];if(p===a&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(r,", ").concat(o,", ").concat(s,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===s&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3],",\n               ").concat(e[2]*e[3],", ").concat(e[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=Cu(n);return"\n    float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(r," + depth * ").concat(o," +\n          depth2 * ").concat(s," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function ZTe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:o}=Dl(e);if(s.length<e.length){const b=Rh(t,s),g=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(Dh(b),"\n      float ").concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(i,"(").concat(Lh(g,o),");\n      }\n    ")}const r=e[5],a=e[4]*r,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(a,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(r,", 1)));\n        ").concat(Oh(t),"\n      }\n    ");const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,p=h[0],f=h[1];if(f===u&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(a,", ").concat(r,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===r&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3]*e[4],",\n               ").concat(e[2]*e[3]*e[4],",\n               ").concat(e[3]*e[4],",\n               ").concat(e[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=Cu(n);return"\n    float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(a," + depth3 * ").concat(r," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Oh(t){const e=t.name,n=ae(t.shapeInfo.logicalShape);return n<2?"return ".concat(e,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(e,"[i];\n      }\n    }\n  ")}function JTe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),s="get"+i+"AtOutCoords",o=t.shapeInfo.logicalShape.length,r=e.logicalShape.length,a=D7(t.shapeInfo.logicalShape,e.logicalShape),l=At(r),c=r-o;let u;const d=["x","y","z","w","u","v"];o===0?u="":r<2&&a.length>=1?u="coords = 0;":u=a.map(x=>"coords.".concat(d[x+c]," = 0;")).join("\n");let h="";r<2&&o>0?h="coords":h=t.shapeInfo.logicalShape.map((x,y)=>"coords.".concat(d[y+c])).join(", ");let p="return outputValue;";const m=ae(t.shapeInfo.logicalShape)===1,g=ae(e.logicalShape)===1;if(o===1&&!m&&!g)p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";else if(m&&!g)r===1?p="\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":p="\n        return vec4(outputValue.x);\n      ";else if(a.length){const x=o-2,y=o-1;a.indexOf(x)>-1&&a.indexOf(y)>-1?p="return vec4(outputValue.x);":a.indexOf(x)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(y)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}return"\n    vec4 ".concat(s,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(i,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}function QTe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),s="get"+i+"AtOutCoords",o=e.texShape,r=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&gt(r,o))return"\n      float ".concat(s,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=At(l),u=D7(t.shapeInfo.logicalShape,e.logicalShape),d=l-a;let h;const p=["x","y","z","w","u","v"];a===0?h="":l<2&&u.length>=1?h="coords = 0;":h=u.map(m=>"coords.".concat(p[m+d]," = 0;")).join("\n");let f="";return l<2&&a>0?f="coords":f=t.shapeInfo.logicalShape.map((m,b)=>"coords.".concat(p[b+d])).join(", "),"\n    float ".concat(s,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(i,"(").concat(f,");\n    }\n  ")}function At(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank ".concat(t," is not yet supported"))}function Y$(t,e,n){const{newShape:i,keptDims:s}=Dl(e),o=e.length,r=t&&o===3&&e[0]===1,a=r?e.slice(1):i,l=!t&&o>1&&!gt(e,n)&&i.length<o||r;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:s}}function Rh(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Lh(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eIe(t,e,n,i){const s=n.map((u,d)=>{const h={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(h.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),o=s.map(u=>u.shapeInfo),r={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},a=xTe(s,r,e),l=qEe(t.gl,a),c=t.createProgram(l);return re().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:o,outShapeInfo:r,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(c),Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:o,outShapeInfo:r},L7(t,e,c)))}function L7(t,e,n){const i=[],s=[];let o,r,a,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),re().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,u),offset:t.getUniformLocation(n,"offset".concat(d),u)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,"".concat(d,"Shape"),u),h.texShape=t.getUniformLocation(n,"".concat(d,"TexShape"),u)),i.push(h)}if(e.enableShapeUniforms&&(o=t.getUniformLocation(n,"outShape",u),a=t.getUniformLocation(n,"outShapeStrides",u),r=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)s.push(t.getUniformLocation(n,d.name,u));return{variablesLocations:i,customUniformLocations:s,infLoc:l,nanLoc:c,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:r}}function VN(t,e){if(t.length!==e.length)throw Error("Binary was compiled with ".concat(t.length," inputs, but ")+"was executed with ".concat(e.length," inputs"));t.forEach((n,i)=>{const s=n.logicalShape,o=e[i],r=o.shape;if(!gt(s,r))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(s," and ").concat(r," must match"));if(n.isUniform&&o.isUniform)return;const a=n.texShape,l=o.isUniform?null:o.texData.texShape;if(!gt(a,l))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(a," and ").concat(l," must match"))})}function tIe(t,e,n,i,s){e.program.enableShapeUniforms||(VN(e.inShapeInfos,n),VN([e.outShapeInfo],[i]));const o=i.texData.texture,r=i.texData.texShape;i.texData.isPacked?t.setOutputPackedMatrixTexture(o.texture,r[0],r[1]):t.setOutputMatrixTexture(o.texture,r[0],r[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),re().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:d,shape:h,texShape:p}=e.variablesLocations[l];if(h){const{uniformShape:f}=Y$(e.program.packedInputs,c.shape,c.texData.texShape);switch(f.length){case 1:t.gl.uniform1iv(h,new Int32Array(f));break;case 2:t.gl.uniform2iv(h,new Int32Array(f));break;case 3:t.gl.uniform3iv(h,new Int32Array(f));break;case 4:t.gl.uniform4iv(h,new Int32Array(f));break}}if(p&&t.gl.uniform2i(p,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if(ae(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let f=c.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),t.gl.uniform1fv(u,f)}continue}c.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const a=e.outShapeLocation;if(a)switch(i.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(i.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(i.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(i.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(i.shape));break}if(e.outShapeStridesLocation){const l=He(i.shape);switch(i.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),e.program.customUniforms&&s)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],d=s[l];if(c.type==="float")t.gl.uniform1fv(u,d);else if(c.type==="vec2")t.gl.uniform2fv(u,d);else if(c.type==="vec3")t.gl.uniform3fv(u,d);else if(c.type==="vec4")t.gl.uniform4fv(u,d);else if(c.type==="int")t.gl.uniform1iv(u,d);else if(c.type==="ivec2")t.gl.uniform2iv(u,d);else if(c.type==="ivec3")t.gl.uniform3iv(u,d);else if(c.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error("uniform type ".concat(c.type," is not supported yet."))}t.executeProgram()}function nIe(t,e,n){let i="";e.concat(n).forEach(r=>{const a=r.texData!=null&&r.texData.slice!=null&&r.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!r.isUniform){const l=r.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=Y$(t.packedInputs,r.shape,l);let h="",p="",f="";if(u.length===1&&t.packedInputs){const w=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h="".concat(w[0]>1,"_").concat(w[1]>1)}else if(u.length===2&&!t.packedInputs)p="".concat(u[0]>1,"_").concat(u[1]>1);else if(u.length>2&&!t.packedInputs){const w=He(u);f="".concat(w[0]===l[1],"_").concat(w[w.length-1]===l[1])}const m=r.shape.length,b=u.length===2&&gt(r.shape,l),g=ae(r.shape)===1,x=Yd(r.shape,n.shape),y=!t.packedInputs&&m===n.shape.length&&gt(l,n.texData.texShape),v=t.packedInputs||u.length>2?"":"".concat(l[0]>1,"_").concat(l[1]>1);i+="".concat(m,"_").concat(y,"_").concat(c?d:"","_").concat(u.length,"_").concat(g,"_").concat(x,"_").concat(b,"_").concat(h,"_").concat(p,"_").concat(f,"_").concat(v,"_").concat(a)}else{const l=r.isUniform?"uniform":r.texData.texShape;i+="".concat(r.shape,"_").concat(l,"_").concat(a)}});const s=t.userCode;let o=t.constructor.name;return o+="_"+i+"_"+s+"".concat(re().getNumber("WEBGL_VERSION")),o}function Ti(t){return re().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iIe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Sf.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=zi();this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?p1(["r","c","d"],e):Su(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sIe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Sf.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=zi();this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?p1(["r","c","d"],e):Su(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oIe{constructor(e){this.variableNames=["A"],this.outTexUsage=$s.DOWNLOAD;const n=zi();this.outputShape=e,this.userCode="\n      ".concat(N7,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rIe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=$s.DOWNLOAD;const n=zi();this.outputShape=e,this.userCode="\n      ".concat(N7,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aIe={R:0,G:1,B:2,A:3};class HN{constructor(e,n=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=zi();this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)");let r="";for(let a=0;a<i.length;a++){const l=i[a];r+="\n          if(offset == ".concat(a,") {\n            result = values[").concat(aIe[l],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?X$():K$(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(i.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(i.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(s.texture2D,"(A, uv);\n          ").concat(r,"\n        }\n        ").concat(s.output," = vec4(").concat(o,", 0., 0., 0.);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lIe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=zi();this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length);let s="",o="result";n&&(o="floor(result * 255. + 0.5)");for(let r=0;r<=1;r++)for(let a=0;a<=1;a++){const l=r*2+a;s+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(a," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(a,";\n          if (localCoords[1] + ").concat(r," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(r,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(i.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(l,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(l,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(l,"] = values[2];\n            } else {\n              result[").concat(l,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?X$():K$(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(s,"\n\n          ").concat(i.output," = ").concat(o,";\n        }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cIe(t){const e=zi(),n="".concat(e.version,"\n    precision highp float;\n    ").concat(e.attribute," vec3 clipSpacePos;\n    ").concat(e.attribute," vec2 uv;\n    ").concat(e.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }");return GEe(t,n)}function uIe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return ZEe(t,e)}function dIe(t){const e=new Uint16Array([0,1,2,2,1,3]);return JEe(t,e)}function xg(t,e,n,i,s,o){eTe(e,n);const r=QEe(t),a=t.TEXTURE_2D;return De(t,()=>t.bindTexture(a,r)),De(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),De(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),De(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),De(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),re().getNumber("WEBGL_VERSION")===1?De(t,()=>t.texImage2D(a,0,i,e,n,0,s,o,null)):De(t,()=>t.texStorage2D(a,1,i,e,n)),De(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:r,texShape:[n,e]}}function z7(t){return t.internalFormatFloat}function hIe(t,e,n,i){const[s,o]=gg(e,n);return xg(t,s,o,z7(i),i.textureFormatFloat,t.FLOAT)}function F7(t){return t.internalFormatHalfFloat}function pIe(t,e,n,i){const[s,o]=gg(e,n);return xg(t,s,o,F7(i),i.textureFormatFloat,i.textureTypeHalfFloat)}function P7(t){return t.downloadTextureFormat}function fIe(t,e,n,i){const[s,o]=gg(e,n);return xg(t,s,o,P7(i),t.RGBA,t.UNSIGNED_BYTE)}function B7(t){return t.internalFormatPackedFloat}function mIe(t,e,n,i){const[s,o]=Nh(e,n);return xg(t,s,o,B7(i),t.RGBA,t.FLOAT)}function M7(t){return t.internalFormatPackedHalfFloat}function gIe(t,e,n,i){const[s,o]=Nh(e,n);return xg(t,s,o,M7(i),t.RGBA,i.textureTypeHalfFloat)}function bIe(t,e,n){return De(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),MN(t,e,"clipSpacePos",n,3,20,0)&&MN(t,e,"uv",n,2,20,12)}function xIe(t,e,n,i,s,o){De(t,()=>t.bindTexture(t.TEXTURE_2D,e));let r,a,l;s instanceof Uint8Array?(r=new Uint8Array(n*i*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(r=new Float32Array(n*i*4),a=t.FLOAT,l=o.internalFormatPackedFloat),r.set(s),re().getNumber("WEBGL_VERSION")===2?De(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,i,t.RGBA,a,r)):De(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,i,0,t.RGBA,a,r)),De(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function yIe(t,e,n){De(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?re().getNumber("WEBGL_VERSION")===2?De(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):De(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):re().getNumber("WEBGL_VERSION")===2?De(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):De(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),De(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function vIe(t,e,n,i){const s=t.createBuffer();De(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const a=4*4*e*n;return De(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),De(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),De(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function wIe(t,e,n){const i=t,s=new Float32Array(n);return i.bindBuffer(i.PIXEL_PACK_BUFFER,e),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,s),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),s}function kIe(t,e,n,i){const[s,o]=gg(e,n),r=4,a=new Uint8Array(BEe(e*n,r));return De(t,()=>t.readPixels(0,0,s,o,i.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function SIe(t,e,n,i,s,o,r,a){const l=t,c=new Float32Array(MEe(o,r));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function CIe(t,e,n){const i=new Float32Array(e*n*4);return De(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,i)),i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kw{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=re().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,zEe(n,e)):this.gl=Jo(n),e=this.gl,re().getNumber("WEBGL_VERSION")===2){const o=e;this.createVertexArray=()=>De(o,()=>o.createVertexArray()),this.bindVertexArray=r=>De(o,()=>o.bindVertexArray(r)),this.deleteVertexArray=r=>De(o,()=>o.deleteVertexArray(r)),this.getVertexArray=()=>De(o,()=>o.getParameter(o.VERTEX_ARRAY_BINDING))}else if(e!=null){const o=e.getExtension("OES_vertex_array_object");if(o==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>De(e,()=>o.createVertexArrayOES()),this.bindVertexArray=r=>De(e,()=>o.bindVertexArrayOES(r)),this.deleteVertexArray=r=>De(e,()=>o.deleteVertexArrayOES(r)),this.getVertexArray=()=>De(e,()=>e.getParameter(o.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),re().getNumber("WEBGL_VERSION")===1){const o="OES_texture_float",r="OES_texture_half_float";if(this.textureFloatExtension=ub(this.gl,o),po(this.gl,r))this.textureHalfFloatExtension=ub(this.gl,r);else if(re().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),po(this.gl,s))this.colorBufferHalfFloatExtension=ub(this.gl,s);else if(re().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",po(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else if(po(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=uIe(this.gl),this.indexBuffer=dIe(this.gl),this.framebuffer=tTe(this.gl),this.textureConfig=q$(this.gl,this.textureHalfFloatExtension)}get debug(){return re().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;De(e,()=>e.finish()),De(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),De(e,()=>e.deleteFramebuffer(this.framebuffer)),De(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),De(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),De(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),hIe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),pIe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),fIe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),yIe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,i,s){this.throwIfDisposed(),xIe(this.gl,e,n,i,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),gIe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),mIe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(jN(this.gl,this.framebuffer),this.outputTexture=null),De(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,i){return this.downloadMatrixDriver(e,()=>kIe(this.gl,n,i,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,i,s,o,r){return SIe(this.gl,e,n,i,s,o,r,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return wIe(this.gl,e,n)}createBufferFromTexture(e,n,i){this.bindTextureToFrameBuffer(e);const s=vIe(this.gl,n,i,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,i;if(re().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,o=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),i=()=>{const r=s.clientWaitSync(o,0,0);return r===s.ALREADY_SIGNALED||r===s.CONDITION_SATISFIED},n=o}else re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(n,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:n,isFencePassed:i}}downloadMatrixFromPackedTexture(e,n,i){return this.downloadMatrixDriver(e,()=>CIe(this.gl,n,i))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=cIe(n));const i=XEe(n);De(n,()=>n.attachShader(i,this.vertexShader)),De(n,()=>n.attachShader(i,e)),YEe(n,i);const s=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&Hw(n,s),s}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;De(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),bIe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(De(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Hw(this.gl,this.program),De(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,i=!0){return this.throwIfDisposed(),i?iTe(this.gl,e,n):sTe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),De(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,i){this.throwIfDisposed(),this.throwIfNoProgram(),oTe(this.gl,e,n,i)}setOutputMatrixTexture(e,n,i){this.setOutputMatrixTextureDriver(e,i,n)}setOutputPackedMatrixTexture(e,n,i){this.throwIfDisposed();const[s,o]=Nh(n,i);this.setOutputMatrixTextureDriver(e,s,o)}setOutputMatrixWriteRegion(e,n,i,s){this.setOutputMatrixWriteRegionDriver(i,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,i,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&Hw(this.gl,this.program),db(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}De(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),De(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=ub(this.gl,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const i=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=i.createQuery();return i.beginQuery(s.TIME_ELAPSED_EXT,o),o}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,i=this.getQueryTimerExtensionWebGL2();n.endQuery(i.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await E4(()=>this.disposed||this.isQueryAvailable(e,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const i=this.gl;return i.getQueryParameter(e,i.QUERY_RESULT)/1e6}else{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const i=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=i.getQueryParameter(e,i.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),o&&!this.disjoint}else{const i=this.getQueryTimerExtensionWebGL1(),s=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=EIe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:i}=this.itemsToPoll[n];i()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in re().platform&&(i=re().platform.setTimeoutCustom.bind(re().platform)),E4(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,i)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Ww(this.gl,e,this.framebuffer),this.debug&&db(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(Ww(this.gl,this.outputTexture,this.framebuffer),this.debug&&db(this.gl)):jN(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const i=n();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(e,n,i){this.throwIfDisposed();const s=this.gl;Ww(s,e,this.framebuffer),this.debug&&db(s),this.outputTexture=e,De(s,()=>s.viewport(0,0,n,i)),De(s,()=>s.scissor(0,0,n,i))}setOutputMatrixWriteRegionDriver(e,n,i,s){this.throwIfDisposed(),De(this.gl,()=>this.gl.scissor(e,n,i,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function EIe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:TIe,bincountImpl:j7,bincountReduceImpl:IIe,bitwiseAndImpl:$Ie,castImpl:_Ie,ceilImpl:AIe,concatImpl:NIe,equalImpl:DIe,expImpl:OIe,expm1Impl:RIe,floorImpl:LIe,gatherNdImpl:zIe,gatherV2Impl:FIe,greaterImpl:PIe,greaterEqualImpl:BIe,lessImpl:MIe,lessEqualImpl:jIe,linSpaceImpl:UIe,logImpl:VIe,maxImpl:HIe,maximumImpl:WIe,minimumImpl:GIe,multiplyImpl:qIe,negImpl:KIe,notEqualImpl:XIe,prodImpl:YIe,raggedGatherImpl:ZIe,raggedRangeImpl:JIe,raggedTensorToTensorImpl:QIe,rangeImpl:e$e,rsqrtImpl:t$e,scatterImpl:n$e,sigmoidImpl:i$e,simpleAbsImpl:U7,sliceImpl:s$e,sparseFillEmptyRowsImpl:o$e,sparseReshapeImpl:r$e,sparseSegmentReductionImpl:V7,sqrtImpl:a$e,staticRegexReplaceImpl:l$e,stridedSliceImpl:c$e,stringNGramsImpl:u$e,stringSplitImpl:d$e,stringToHashBucketFastImpl:h$e,subImpl:p$e,tileImpl:f$e,topKImpl:m$e,transposeImpl:Z$,uniqueImpl:g$e}=ywe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H7(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>"".concat(t,".").concat(n))}function _i(t,e){return e===1?[t]:H7(t,e)}function b$e(t,e){if(t===1)return"rc";let n="";for(let i=0;i<t;i++)n+=e[i],i<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x$e{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Ti(this.outputShape.length),this.rank===0)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const n=_i("rc",this.rank),i=At(this.rank),s=this.getOutOfBoundsCondition(n),o=this.getSetup(n),r=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(i," rc = getOutputCoords();\n\n          if(").concat(s,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(r,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const n=[];for(let i=0;i<=1;i++)for(let s=0;s<=1;s++){let o="".concat(i===0?"r":"rp1",", ").concat(s===0?"c":"cp1");for(let r=2;r<this.rank;r++)o="".concat(e[e.length-1-r],",")+o;n.push(o)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let n="";for(let i=this.rank-2;i<this.rank;i++)n+="".concat(e[i]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(i,"]"):this.outputShape[i]),i<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),i=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],s=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(n[0],";\n      int c = ").concat(n[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(i,";\n      bool rEdge = rp1 >= ").concat(s,";\n    ")}getOutput(e){const n=this.getSourceCoordsArr(e);if(this.rank===1){const i=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(i," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(n[0],"),\n            cEdge ? 0. : getA(").concat(n[1],"),\n            rEdge ? 0. : getA(").concat(n[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(n[3],")")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class W7{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length);let i="";for(let s=0;s<4;s++){let o="thisRC = rc;";s%2===1&&(o+="thisRC.z += 1;"),s>1&&(o+="thisRC.y += 1;"),i+="\n        ".concat(o,"\n        ").concat(s>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(s,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(s>0?"}":"","\n      ")}this.userCode="\n      ".concat(y$e(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?X$():K$(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}}function y$e(t,e){const n=e?bTe(["r","c","d"],"inputShape"):Su(["r","c","d"],t);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v$e{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,i){const s=GN(n,i),o=qN(e,s,i);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const r=WN(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=r,this.log();const l=this.freeTextures[o].pop();return this.usedTextures[o].push(l),l}let a;return s===oi.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===oi.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===oi.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===oi.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===oi.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=r,this.log(),a}releaseTexture(e,n,i,s){if(this.freeTextures==null)return;const o=GN(i,s),r=qN(n,o,s);r in this.freeTextures||(this.freeTextures[r]=[]);const a=WN(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=re().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[r].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[r],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const n=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*n),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function w$e(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(e))}function WN(t,e,n,i,s){const o=k$e(e,i);let r;if(s){const[l,c]=Nh(t[0],t[1]);r=l*c}else{const[l,c]=gg(t[0],t[1]);r=l*c}const a=w$e(n,o);return r*a}function k$e(t,e){switch(t){case oi.PACKED_2X2_FLOAT32:return B7(e);case oi.PACKED_2X2_FLOAT16:return M7(e);case oi.UNPACKED_FLOAT32:return z7(e);case oi.UNPACKED_FLOAT16:return F7(e);case oi.PACKED_4X1_UNSIGNED_BYTE:return P7(e);default:throw new Error("Unknown physical texture type ".concat(t))}}function S$e(t){return re().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?oi.PACKED_2X2_FLOAT32:oi.UNPACKED_FLOAT32:t?oi.PACKED_2X2_FLOAT16:oi.UNPACKED_FLOAT16}function GN(t,e){if(t===$s.UPLOAD)return oi.PACKED_2X2_FLOAT32;if(t===$s.RENDER||t==null)return S$e(e);if(t===$s.DOWNLOAD||t===$s.PIXELS)return oi.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(t))}function qN(t,e,n){return"".concat(t[0],"_").concat(t[1],"_").concat(e,"_").concat(n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fr{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const $o="if (isnan(x)) return x;",C$e="return x;",KN="return abs(x);",E$e="return (x >= 0.0) ? x : (exp(x) - 1.0);",T$e=$o+"\n  return (x < 0.0) ? 0.0 : x;\n",I$e=$o+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Ba="return x;",$$e="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _$e="return x;",A$e="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",N$e="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",D$e="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",O$e="return 1.0 / (1.0 + exp(-1.0 * x));";class Ya{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R$e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length);const n=e.length,i=_i("rc",n),s=At(n),o=b$e(n,i),r=i.slice(-2),a=n<=1?"rc":"vec2(".concat(r.join(","),")");this.userCode="\n      void main() {\n        ".concat(s," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L$e=RI,z$e=1e-7,F$e=1e-4,fb={};function P$e(t){return t in fb||(fb[t]={}),fb[t]}const B$e=re().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),M$e=600;function j$e(){return re().global.screen==null?1024:re().global.screen.height*re().global.screen.width*window.devicePixelRatio*M$e/1024/1024}class f1 extends ME{nextDataId(){return f1.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!re().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof Kw)n=e;else{const i=Jo(re().getNumber("WEBGL_VERSION"),e);n=new Kw(i)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const i=Jo(re().getNumber("WEBGL_VERSION"));n=new Kw(i),this.binaryCache=P$e(re().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new v$e(this.gpgpu),this.numMBBeforeWarning=j$e(),this.texData=new h8(this,lr())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,i,s,o,r){const a=this.makeTensorInfo(n,i),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,o]},l.texShape=[s,o];const c=hb(n),u=new HN(c,!1,r),d=this.runWebGLProgram(u,[a],i,[[s,o]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),d.dataId}write(e,n,i){if((re().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||re().getBool("DEBUG"))&&this.checkNumericalProblems(e),i==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:i,values:e,usage:$s.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,i,s,o){if(re().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:i,dtype:s,values:n,usage:$s.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:i,dtype:s,complexTensorInfos:o,slice:r,shape:a,isPacked:l}=n;if(r!=null){let h;l?h=new Ya(a,Ba):h=new fr(a,Ba);const p=this.runWebGLProgram(h,[{dataId:e,shape:a,dtype:s}],s),f=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),f}if(i!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return i;const c=this.activeTimers!=null;let u;c&&(u=Pi());let d;if(s==="complex64"){const h=this.readSync(o.real.dataId),p=this.readSync(o.imag.dataId);d=fa(h,p)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=Pi()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const f=this.pendingRead.get(e);return new Promise(m=>f.push(m))}const n=this.texData.get(e),{values:i,shape:s,slice:o,dtype:r,complexTensorInfos:a,isPacked:l}=n;if(o!=null){let f;l?f=new Ya(s,Ba):f=new fr(s,Ba);const m=this.runWebGLProgram(f,[{dataId:e,shape:s,dtype:r}],r),b=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),b}if(i!=null)return this.convertAndCacheOnCPU(e);if(re().getBool("DEBUG")&&!re().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&re().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(r!=="complex64"&&re().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const f=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(f.texture.texture,...cb(s))}this.pendingRead.set(e,[]),r!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(r==="complex64"){const f=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),m=f[0],b=f[1];d=fa(m,b)}else if(c==null)d=this.getValuesFromTexture(e);else{const f=ae(s);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,f)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const f=this.gpgpu.gl;De(f,()=>f.deleteBuffer(c))}const h=this.convertAndCacheOnCPU(e,d),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach(f=>f(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&lr().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const i=this.texData.get(e),{values:s,shape:o,slice:r,dtype:a,isPacked:l,texture:c}=i;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(r!=null){let p;l?p=new Ya(o,Ba):p=new fr(o,Ba);const f=this.runWebGLProgram(p,[{dataId:e,shape:o,dtype:a}],a),m=this.readToGPU(f,n);return this.disposeIntermediateTensorInfo(f),m}if(c==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=lr().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(s=>gl(s));return nt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return nt(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const i=e[n];if(!HEe(i))throw re().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value ".concat(i," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value ".concat(i," cannot be represented on this device."))}}getValuesFromTexture(e){const{shape:n,dtype:i,isPacked:s}=this.texData.get(e),o=ae(n);if(re().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),p=this.texData.get(h.dataId),f=this.gpgpu.downloadMatrixFromPackedTexture(p.texture.texture,...cb(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(h),f}const r=re().getBool("WEBGL_PACK")&&s===!0,a=r?hb(n):n,l=r?new rIe(a):new oIe(a),c=this.runWebGLProgram(l,[{shape:a,dtype:i,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,i=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=i,s=!0):this.activeTimers.push(i),this.activeTimers=i,e();const o=Wc(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),r=Wc(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(o);a.kernelMs=ale(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:r[u],ms:c})).map(c=>"".concat(c.name,": ").concat(c.ms)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Pi(),endMs:null}}endTimer(e){return re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Pi(),e)}async getQueryTime(e){if(re().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:i}=this.texData.get(e);return i!=null&&(this.disposeData(i.real.dataId,n),this.disposeData(i.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:i,texShape:s,usage:o,isPacked:r,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,i),this.textureManager.releaseTexture(n,s,o,r)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=B$e){return re().getBool("WEBGL_CPU_FORWARD")&&e.every(i=>this.texData.get(i.dataId).texture==null&&ae(i.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Is("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return L$e(e.shape,n)}packedUnaryOp(e,n,i){const s=new Ya(e.shape,n),o=this.compileAndRun(s,[e],i);return lr().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=U7(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(re().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,KN,e.dtype);const n=new fr(e.shape,KN),i=this.compileAndRun(n,[e]);return lr().makeTensorFromTensorInfo(i)}makeTensorInfo(e,n,i){let s;if(n==="string"&&i!=null&&i.length>0&&em(i[0])){const o=i.map(r=>ll(r));s=this.write(o,e,n)}else s=this.write(i,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,i){return lr().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,i),this)}unpackTensor(e){const n=new R$e(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new x$e(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const i=[ih(e.shape),...sh(e.shape)],s={dtype:e.dtype,shape:i,dataId:e.dataId},o=[ih(n),...sh(n)],r=new W7(o,i),a=!0,l=[i],c=this.runWebGLProgram(r,[s],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const i=this.texData.get(e),{isPacked:s,shape:o,dtype:r}=i;if(n!=null){const h=ae(o),p=n[0]*n[1]*4;R(h<=p,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=hb(o);let l;s?l=new sIe(a):l=new iIe(a);const c=!0,u=[n!=null?n:cb(a)],d=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:e}],r,u,c,n);return{dtype:r,shape:o,dataId:d.dataId}}runWebGLProgram(e,n,i,s,o=!1,r){const a=this.makeTensorInfo(e.outputShape,i),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===Sf.DENSE){const g=r!=null?r:cb(e.outputShape);l.texShape=g.map(x=>x*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),ae(a.shape)===0)return l.values=li(a.dtype,0),a;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let x=this.texData.get(g.dataId);if(x.texture==null){if(!e.packedInputs&&ae(g.shape)<=re().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:x.values};e.packedInputs&&(x.isPacked=!0,x.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!x.isPacked!=!!e.packedInputs)g=x.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),x=this.texData.get(g.dataId);else if(x.isPacked&&!ux(x.shape,g.shape)){const y=g,v=g.shape;g.shape=x.shape,g=this.packedReshape(g,v),c.push(g),x=this.texData.get(g.dataId),y.shape=v}return{shape:g.shape,texData:x,isUniform:!1}});this.uploadToGPU(a.dataId);const d={shape:a.shape,texData:l,isUniform:!1},h=nIe(e,u,d),p=this.getAndSaveBinary(h,()=>eIe(this.gpgpu,e,u,d)),f=this.activeTimers!=null;let m;f&&(m=this.startTimer()),re().get("ENGINE_COMPILE_ONLY")||tIe(this.gpgpu,p,u,d,s),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),f&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const b=re().getNumber("WEBGL_FLUSH_THRESHOLD");if(b>0){const g=Pi();g-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!re().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,i,s,o=!1){return i=i||n[0].dtype,this.runWebGLProgram(e,n,i,s,o)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(re().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ie(()=>{if(!re().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=re().getBool("DEBUG");re().set("DEBUG",!1);const n=this.abs(We(1e-8)).dataSync()[0];if(re().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?z$e:F$e}uploadToGPU(e){const n=this.texData.get(e),{shape:i,dtype:s,values:o,texture:r,usage:a,isPacked:l}=n;if(r!=null)return;const c=this.activeTimers!=null;let u;c&&(u=Pi());let d=n.texShape;if(d==null&&(d=lTe(i,l),n.texShape=d),o!=null){const h=hb(i);let p,f=d[1],m=d[0];const b=o instanceof Uint8Array||o instanceof Uint8ClampedArray;(l||!b)&&([f,m]=Nh(d[0],d[1])),l?p=new lIe(h,b):p=new HN(h,b);const g=b?[m,f]:d,x=this.makeTensorInfo(g,s),y=this.texData.get(x.dataId);b?y.usage=$s.PIXELS:y.usage=$s.UPLOAD,y.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),f,m,o);const v=[[m,f]],C=this.runWebGLProgram(p,[x],s,v,!0),k=this.texData.get(C.dataId);n.texShape=k.texShape,n.isPacked=k.isPacked,n.usage=k.usage,re().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(n.texture=k.texture,n.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(x),c&&(this.uploadWaitMs+=Pi()-u)}else{const h=this.acquireTexture(d,a,s,l);n.texture=h}}convertAndCacheOnCPU(e,n){const i=this.texData.get(e),{dtype:s}=i;return n!=null&&(i.values=U$e(n,s)),i.values}acquireTexture(e,n,i,s){if(this.numBytesInGPU+=this.computeBytes(e,i),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(o," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*P0(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const i=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(o){throw o}});e.push(i)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await _F(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(A7(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:i,infLoc:s,nanLoc:o,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:l}=L7(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=i,e.infLoc=s,e.nanLoc=o,e.outShapeLocation=r,e.outShapeStridesLocation=a,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,i){e.channels=e.channels||"RGBA";const{texture:s,height:o,width:r,channels:a}=e,l=lr().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(s,n,i,o,r,a);return lr().makeTensorFromDataId(c,n,i,l)}}f1.nextDataId=0;function U$e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let i=0;i<n.length;++i)n[i]=Math.round(t[i]);return n}else throw new Error("Unknown dtype ".concat(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */F8()&&M8("webgl",()=>new f1,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J$="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class iu{constructor(e,n,i){this.variableNames=["A","B"],this.outputShape=Je(n,i),this.enableShapeUniforms=Ti(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eu="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class zh{constructor(e,n,i,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Je(n,i);const o=this.outputShape.length;this.enableShapeUniforms=Ti(o);let r="";if(s)if(o===0||ae(this.outputShape)===1)r="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const a=At(o);if(r="\n          ".concat(a," coords = getOutputCoords();\n        "),o===1)this.enableShapeUniforms?r+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":r+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const l=_i("coords",o);this.enableShapeUniforms?r+="\n            bool nextRowOutOfBounds =\n              (".concat(l[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(l[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):r+="\n            bool nextRowOutOfBounds =\n              (".concat(l[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gs(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const V$e={kernelName:wm,backendName:"webgl",kernelFunc:gs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vl(t){const{inputs:e,backend:n}=t,{real:i,imag:s}=e,o=n.makeTensorInfo(i.shape,"complex64"),r=n.texData.get(o.dataId),a=gs({inputs:{x:i},backend:n}),l=gs({inputs:{x:s},backend:n});return r.complexTensorInfos={real:a,imag:l},o}const H$e={kernelName:YE,backendName:"webgl",kernelFunc:Vl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G7="return (a < 0.) ? b * a : a;",q7="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function W$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{alpha:o}=i,r=n.makeTensorInfo([],"float32",Ol(o,"float32")),a=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zh(q7,s.shape,r.shape):new iu(G7,s.shape,r.shape),l=n.runWebGLProgram(a,[s,r],"float32");return n.disposeIntermediateTensorInfo(r),l}const G$e={kernelName:Gy,backendName:"webgl",kernelFunc:W$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K7="return (a < 0.) ? b * a : a;",X7="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function q$e(t){const{inputs:e,backend:n}=t,{x:i,alpha:s}=e,o=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zh(X7,i.shape,s.shape):new iu(K7,i.shape,s.shape);return n.runWebGLProgram(o,[i,s],"float32")}const K$e={kernelName:dv,backendName:"webgl",kernelFunc:q$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fh="if (isnan(x)) return x;";function wt({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:i}){return({inputs:s,backend:o})=>{const{x:r}=s,a=o,l=i||r.dtype;if(a.shouldExecuteOnCPU([r])&&n!=null){const d=a.texData.get(r.dataId),h=n(d.values,l);return a.makeTensorInfo(r.shape,l,h)}const c=re().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new Ya(r.shape,e):u=new fr(r.shape,t),a.runWebGLProgram(u,[r],l)}}function mi({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:i=!1,cpuKernelImpl:s,dtype:o}){return({inputs:r,backend:a})=>{const{a:l,b:c}=r,u=a;if(i&&l.dtype==="complex64"){const f=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[b,g]=[[f.complexTensorInfos.real,m.complexTensorInfos.real],[f.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(y=>{const[v,w]=y,C={dataId:v.dataId,dtype:v.dtype,shape:l.shape},k={dataId:w.dataId,dtype:w.dtype,shape:c.shape},E=new iu(t,l.shape,c.shape);return u.runWebGLProgram(E,[C,k],ds(v.dtype,w.dtype))}),x=Vl({inputs:{real:b,imag:g},backend:u});return u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(g),x}const d=o||ds(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&s!=null){const f=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,b=l.dtype==="string"?ma(f):f,g=l.dtype==="string"?ma(m):m,[x,y]=s(l.shape,c.shape,b,g,d),v=u.makeTensorInfo(y,d),w=u.texData.get(v.dataId);return w.values=x,v}const h=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let p;return h?p=new zh(e,l.shape,c.shape,n):p=new iu(t,l.shape,c.shape),u.runWebGLProgram(p,[l,c],d)}}function Cf(t,e=!1){if(t==="linear")return e?_$e:C$e;if(t==="relu")return e?N$e:T$e;if(t==="elu")return e?A$e:E$e;if(t==="relu6")return e?D$e:I$e;if(t==="prelu")return e?X7:K7;if(t==="leakyrelu")return e?q7:G7;if(t==="sigmoid")return e?O$e:$$e;throw new Error("Activation ".concat(t," has not been implemented for the WebGL backend."))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y7{constructor(e,n,i,s=!1,o=!1,r=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=Ti(this.outputShape.length);const u=s?e[1]:e[2],d=Math.ceil(u/2),h=s?"i * 2, rc.y":"rc.y, i * 2",p=o?"rc.z, i * 2":"i * 2, rc.z",f=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",g="";a&&(l?b="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(a,"\n        }"):c?b="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(a,"\n        }"):b="vec4 activation(vec4 x) {\n          ".concat(a,"\n        }"),g="result = activation(result);");const x=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<n[0]?y="imod(rc.x, ".concat(e[0],")"):n[0]<e[0]&&(v="imod(rc.x, ".concat(n[0],")")),this.userCode="\n      ".concat(b,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(y,";\n        int batchB = ").concat(v,";\n        for (int i = 0; i < ").concat(d,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(h,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(f[0]," * ").concat(m[0],");\n          result += (").concat(f[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(x,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XN={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class YN{constructor(e,n,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Je(n,i),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZN="return a * b;";function Q$(t){const{inputs:e,backend:n}=t,{a:i,b:s}=e,o=ds(i.dtype,s.dtype);if(i.dtype==="complex64"){const a=n.texData.get(i.dataId),l=n.texData.get(s.dataId),c=new YN(XN.REAL,i.shape,s.shape),u=new YN(XN.IMAG,i.shape,s.shape),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),f=Vl({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}if(n.shouldExecuteOnCPU([i,s])){const a=n.texData.get(i.dataId),l=n.texData.get(s.dataId),[c,u]=qIe(i.shape,s.shape,a.values,l.values,o),d=n.makeTensorInfo(u,o),h=n.texData.get(d.dataId);return h.values=c,d}let r;return re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?r=new zh(ZN,i.shape,s.shape):r=new iu(ZN,i.shape,s.shape),n.runWebGLProgram(r,[i,s],o)}const X$e={kernelName:Am,backendName:"webgl",kernelFunc:Q$};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y$e(t,e,n){const i=[ih(t.shape),...sh(t.shape)],s={dtype:t.dtype,shape:i,dataId:t.dataId},o=[ih(e),...sh(e)],r=new W7(o,i),a=!0,l=[i],c=n.runWebGLProgram(r,[s],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ie(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{shape:o}=i,r=n,a=ae(s.shape),l=p8(o,a),c=ae(l);R(a===c,()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(s.shape,") has ").concat(a," elements. The new shape and old ")+"shape must have the same number of elements.");const u=r.texData.get(s.dataId);return u.isPacked&&!ux(s.shape,l)&&!(u.texture!==null&&ux(u.shape,l))?Y$e(s,l,r):(r.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const Z$e={kernelName:pv,backendName:"webgl",kernelFunc:Ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JN{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:s,inSize:o,outSize:r}=e;this.outputShape=[s,r];const a=Math.floor(i/4)*4,l=i%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c="sumValue += dot(values * ".concat(Gd(d)?d.toPrecision(2):d,", ones);")}let u="";o%i>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(a,";\n        if (").concat(l===1,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class J$e{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:s,inSize:o,outSize:r}=e;this.outputShape=[s,r];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(i/4)*4,d=i%4;let h="\n      if (".concat(n==="sum",") {\n        sumValue += dot(values, ones);\n      } else if (").concat(n==="prod",") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(l,"(values, minMaxValue);\n        if (").concat(n==="min"," || ").concat(n==="max",") {\n          minMaxValue = ").concat(l,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";n==="all"?(a="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):n==="any"&&(a="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let f="";o%i>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(a,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        vec4 minMaxValue = vec4(").concat(a,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q$e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],i=Jv(n);e.push({inSize:n,windowSize:i,outSize:Math.ceil(n/i)})}return e}function Tu(t,e,n,i){const s=Q$e(t.shape);let o=t;for(let r=0;r<s.length;r++){const{inSize:a,windowSize:l,outSize:c}=s[r];let u,d;n==="mean"?u=r===0?new JN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new JN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new J$e({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),d=o,o=i.runWebGLProgram(u,[o],e),d.dataId!==t.dataId&&i.disposeIntermediateTensorInfo(d)}return o}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e3e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let r=0;r<i.length;r++)i[r]=e[n[r]];this.outputShape=i,this.rank=i.length;const s=At(this.rank),o=t3e(n);this.userCode="\n    void main() {\n      ".concat(s," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}}function t3e(t){const e=t.length;if(e>6)throw Error("Transpose for rank ".concat(e," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(e);for(let s=0;s<t.length;s++)i[t[s]]=n[s];return i.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n3e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(e.length);for(let u=0;u<i.length;u++)i[u]=e[n[u]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const s=At(this.rank),o=H7("rc",this.rank),r=new Array(this.rank);for(let u=0;u<n.length;u++)r[n[u]]=o[u];const a="vec2(".concat(r.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(i[this.rank-1]),c="getChannel(getA(".concat(r.join(),"), ").concat(a,")");this.userCode="\n    void main() {\n      ".concat(s," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(c,";\n      if(").concat(l,") {\n        result[1] = ").concat(c,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(i[this.rank-2],") {\n        result[2] = ").concat(c,";\n        if(").concat(l,") {\n          result[3] = ").concat(c,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m1(t,e,n){const i=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new n3e(t.shape,e):new e3e(t.shape,e);return n.runWebGLProgram(i,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i3e(t,e,n,i){const s=e,o=t.shape.length,r=ct(s,t.shape);let a=r;const l=sn(a,o),c=l!=null;let u=t;c&&(u=m1(t,l,i),a=xn(a.length,o)),pi("sum",a,o);const[d,h]=Zn(u.shape,a);let p=d;n&&(p=bn(d,r));const f=ae(h),b=ae(t.shape)/f,g=Ie({inputs:{x:u},attrs:{shape:[b,f]},backend:i}),x=XT(t.dtype),y=Tu(g,x,"sum",i),v=Ie({inputs:{x:y},attrs:{shape:p},backend:i});return i.disposeIntermediateTensorInfo(g),i.disposeIntermediateTensorInfo(y),c&&i.disposeIntermediateTensorInfo(u),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g1(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i;return i3e(s,o,r,n)}const s3e={kernelName:yv,backendName:"webgl",kernelFunc:g1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ri(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{perm:o}=i,r=n,a=s.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=s.shape[o[u]];let c;if(r.shouldExecuteOnCPU([s])){const d=r.texData.get(s.dataId).values,h=Z$(d,s.shape,s.dtype,o,l);c=r.makeTensorInfo(l,s.dtype);const p=r.texData.get(c.dataId);p.values=h}else c=m1(s,o,r);return c}const o3e={kernelName:Ed,backendName:"webgl",kernelFunc:Ri};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z7=1e3;function dx({a:t,b:e,transposeA:n,transposeB:i,backend:s,bias:o=null,preluActivationWeights:r=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],h=i?e.shape[u-1]:e.shape[u-2],p=n?t.shape[c-1]:t.shape[c-2],f=i?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),b=e.shape.slice(0,-2),g=ae(m),x=ae(b),v=Je(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([p,f]);R(d===h,()=>"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(e.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const w=n?[g,d,p]:[g,p,d],C=i?[x,f,h]:[x,h,f],k=Ie({inputs:{x:t},backend:s,attrs:{shape:w}}),E=Ie({inputs:{x:e},backend:s,attrs:{shape:C}}),T=[k,E],_=Math.max(g,x),z=n?k.shape[1]:k.shape[2],N=o!=null,O=r!=null,I=l==="leakyrelu",L=l!=null?Cf(l,!0):null,F=N||O||I||L!=null;let j;if((p===1||f===1)&&z>Z7&&F===!1){let M=k,U=E;n&&(M=Ri({inputs:{x:k},backend:s,attrs:{perm:[0,2,1]}}),T.push(M)),i&&(U=Ri({inputs:{x:E},backend:s,attrs:{perm:[0,2,1]}}),T.push(U));const B=f!==1,V=f===1;let ee=M;B&&(ee=Ie({inputs:{x:M},backend:s,attrs:{shape:[_,z,1]}}),T.push(ee));const J=f===1?2:1;let Z=U;V&&(Z=Ie({inputs:{x:U},backend:s,attrs:{shape:[_,1,z]}}),T.push(Z));const pe=Q$({inputs:{a:ee,b:Z},backend:s});j=g1({inputs:{x:pe},backend:s,attrs:{axis:J,keepDims:!0}}),T.push(pe)}else{const M=ds(t.dtype,e.dtype),U=new Y7(w,C,[_,p,f],n,i,N,L,O,I),B=[k,E];if(o!=null&&B.push(o),O&&B.push(r),I){const V=s.makeTensorInfo([],"float32",Ol(a,"float32"));B.push(V),T.push(V)}j=s.runWebGLProgram(U,B,M)}const H=Ie({inputs:{x:j},backend:s,attrs:{shape:v}});T.push(j);for(const M of T)s.disposeIntermediateTensorInfo(M);return H}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:o,bias:r,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;return dx({a:s,b:o,transposeA:l,transposeB:c,backend:n,bias:r,preluActivationWeights:a,leakyreluAlpha:d,activation:u})}const a3e={kernelName:B0,backendName:"webgl",kernelFunc:r3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QN="return abs(x);";function l3e(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])&&i.dtype!=="complex64"){const o=n.texData.get(i.dataId),r=U7(o.values);return n.makeTensorInfo(i.shape,i.dtype,r)}let s;return re().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ya(i.shape,QN):s=new fr(i.shape,QN),n.runWebGLProgram(s,[i],i.dtype)}const c3e={kernelName:Cy,backendName:"webgl",kernelFunc:l3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u3e=$o+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",d3e=wt({opSnippet:u3e}),h3e={kernelName:tm,backendName:"webgl",kernelFunc:d3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p3e=$o+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",f3e=wt({opSnippet:p3e}),m3e={kernelName:nm,backendName:"webgl",kernelFunc:f3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eD="return a + b;",g3e=mi({opSnippet:eD,packedOpSnippet:eD,supportsComplex:!0,cpuKernelImpl:TIe}),b3e={kernelName:Ch,backendName:"webgl",kernelFunc:g3e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x3e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((o,r)=>"T".concat(r));const i=[];this.variableNames.forEach(o=>{i.push("float v".concat(o," = get").concat(o,"AtOutCoords();"))});const s=this.variableNames.map(o=>"v".concat(o)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        float result = ").concat(s,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y3e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((o,r)=>"T".concat(r));const i=[];this.variableNames.forEach(o=>{i.push("vec4 v".concat(o," = get").concat(o,"AtOutCoords();"))});const s=this.variableNames.map(o=>"v".concat(o)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        vec4 result = ").concat(s,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pb(t){const{inputs:e,backend:n}=t,i=e;if(i.length===1)return gs({inputs:{x:i[0]},backend:n});if(i.length>re().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(i.length/2),c=Pb({inputs:i.slice(0,l),backend:n}),u=Pb({inputs:i.slice(l),backend:n});return Pb({inputs:[c,u],backend:n})}const s=i.map(l=>l.dtype).reduce((l,c)=>ds(l,c)),o=i.map(l=>l.shape),a=re().getBool("WEBGL_PACK")?new y3e(i[0].shape,o):new x3e(i[0].shape,o);return n.runWebGLProgram(a,i,s)}const v3e={kernelName:Ey,backendName:"webgl",kernelFunc:Pb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i,a=s.shape.length,l=ct(o,s.shape);let c=l;const u=sn(c,a);let d=s;u!=null&&(d=Ri({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xn(c.length,a)),pi("all",c,a);const[h,p]=Zn(d.shape,c),f=ae(p),m=Ie({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=Tu(m,m.dtype,"all",n);let g;if(r){const x=bn(h,l);g=Ie({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Ie({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const k3e={kernelName:HE,backendName:"webgl",kernelFunc:w3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i,a=s.shape.length,l=ct(o,s.shape);let c=l;const u=sn(c,a);let d=s;u!=null&&(d=Ri({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xn(c.length,a)),pi("any",c,a);const[h,p]=Zn(d.shape,c),f=ae(p),m=Ie({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=Tu(m,m.dtype,"any",n);let g;if(r){const x=bn(h,l);g=Ie({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Ie({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const C3e={kernelName:WE,backendName:"webgl",kernelFunc:S3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class E3e{constructor(e,n,i){this.variableNames=["A"];const{windowSize:s,batchSize:o,outSize:r}=e;i||this.variableNames.push("bestIndicesA"),this.outputShape=[o,r];const a=n==="max"?">":"<",l=i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(s,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(s,"; i++) {\n          int inIdx = ").concat(l,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(a," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T3e{constructor(e,n,i,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,R(e.length>2,()=>"Packed arg".concat(i.charAt(0).toUpperCase()+i.slice(1)," supports only inputs with rank above 2."));const o=e[e.length-1],r=Math.ceil(o/n);this.outputShape=e.slice(0,-1),r>1&&this.outputShape.push(r),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=At(l),u=_i("coords",l);let d,h;if(r===1){h=l+1;const E=At(h);d="\n        ".concat(E," sourceLocR = ").concat(E,"(").concat(u.join(),", 0);\n        ++").concat(u[l-1],";\n        ").concat(E," sourceLocG = ").concat(E,"(").concat(u.join(),", 0);\n        ++").concat(u[l-2],";\n        ").concat(E," sourceLocA = ").concat(E,"(").concat(u.join(),", 0);\n        --").concat(u[l-1],";\n        ").concat(E," sourceLocB = ").concat(E,"(").concat(u.join(),", 0);\n        --").concat(u[l-2],";")}else h=l,d="\n        ".concat(c," sourceLocR = coords;\n        ++").concat(u[l-1],";\n        ").concat(c," sourceLocG = coords;\n        ++").concat(u[l-2],";\n        ").concat(c," sourceLocA = coords;\n        --").concat(u[l-1],";\n        ").concat(c," sourceLocB = coords;\n        --").concat(u[l-2],";");const p=["x","y","z","w","u","v"].slice(0,h),f="."+p[h-1],m=p.map(E=>"int "+E),b=_i("sourceLocR",h-1).concat("inIdx.r"),g=_i("sourceLocG",h-1).concat("inIdx.g"),x=_i("sourceLocB",h-1).concat("inIdx.b"),y=_i("sourceLocA",h-1).concat("inIdx.a"),v=i==="max"?"greaterThan":"lessThan",w=s?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),")));"),C="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(y.join(),") : 0.)"),k=s?"":"\n      float getBestIndicesAChannel(".concat(m.join(),") {\n        return getChannel(getBestIndicesA(").concat(p.join(),"),\n                                          vec2(").concat(p.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(m.join(),") {\n        return getChannel(getA(").concat(p.join(),"),\n                               vec2(").concat(p.slice(-2).join(),"));\n      }\n      ").concat(k,"\n      void main() {\n        ").concat(c," coords = getOutputCoords();\n        bool hasNextCol = ").concat(u[l-1]," < ").concat(a[l-1]-1,";\n        bool hasNextRow = ").concat(u[l-2]," < ").concat(a[l-2]-1,";\n        ").concat(d,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(f,", sourceLocG").concat(f,",\n          sourceLocB").concat(f,", sourceLocA").concat(f,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(C,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(C,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(v,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J7(t,e,n,i=null){let s=e.shape[0],o=e.shape[1];i!=null&&(s=i.shape[0],o=i.shape[1]);const r=Jv(o),a={windowSize:r,inSize:o,batchSize:s,outSize:Math.ceil(o/r)},l=new E3e(a,n,i==null),c=[e];i!=null&&c.push(i);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=J7(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function Q7(t,e,n,i=null){const s=i!=null?i.shape:e.shape,o=s[s.length-1],r=Jv(o),a=new T3e(s,r,n,i==null),l=i==null?[e]:[e,i],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=Q7(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function e9(t,e,n,i){const s=[n];if(pi("arg"+i.charAt(0).toUpperCase()+i.slice(1),s,e.shape.length),!re().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const o=[],r=t.texData.get(e.dataId),a=r!==null&&r.isPacked;let l=e;a&&(l=t.unpackTensor(e),o.push(l));const[c,u]=Zn(l.shape,s),d=ae(u),h=Ie({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});o.push(h);const p=J7(t,h,i);o.push(p);const f=Ie({inputs:{x:p},backend:t,attrs:{shape:c}});return o.forEach(m=>t.disposeIntermediateTensorInfo(m)),f}return Q7(t,e,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o}=i;let r=ct(o,s.shape);const a=sn(r,s.shape.length);let l=s;const c=[];a!=null&&(l=Ri({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),r=xn(r.length,l.shape.length)),pi("argMax",[r[0]],l.shape.length);const u=e9(n,l,r[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const $3e={kernelName:Ty,backendName:"webgl",kernelFunc:I3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o}=i;let r=ct(o,s.shape);const a=sn(r,s.shape.length);let l=s;const c=[];a!=null&&(l=Ri({inputs:{x:s},backend:n,attrs:{perm:a}}),c.push(l),r=xn(r.length,l.shape.length)),pi("argMin",[r[0]],l.shape.length);const u=e9(n,l,r[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const A3e={kernelName:Iy,backendName:"webgl",kernelFunc:_3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N3e=$o+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",D3e=wt({opSnippet:N3e}),O3e={kernelName:im,backendName:"webgl",kernelFunc:D3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R3e=$o+"return log(x + sqrt(x * x + 1.0));",L3e=wt({opSnippet:R3e}),z3e={kernelName:sm,backendName:"webgl",kernelFunc:L3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F3e=$o+"\n  return atan(x);\n",P3e=wt({opSnippet:F3e}),B3e={kernelName:om,backendName:"webgl",kernelFunc:P3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M3e=J$+"\n  return atan(a, b);\n",j3e="\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Eu+"\n  return result;\n",U3e=mi({opSnippet:M3e,packedOpSnippet:j3e}),V3e={kernelName:am,backendName:"webgl",kernelFunc:U3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H3e=$o+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",W3e=wt({opSnippet:H3e}),G3e={kernelName:rm,backendName:"webgl",kernelFunc:W3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ef{constructor(e,n,i,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",b="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let x="0.0";if(m||(x="-1.0 / 1e-20"),i){const E=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(f,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(u,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(E," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(s?o?b:g:"wR * ".concat(h," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const y="max";let v="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(v="avgValue / max(count, 1.0)");const w=Math.floor(r/4)*4,C=r%4,k="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(y,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(f,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              getValue(batch, xR, xC + 3 * ").concat(u,", d)\n            );\n\n            ").concat(k,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(C===1,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(C===2,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(C===3,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              initializationValue\n            );\n\n            ").concat(k,"\n          }\n        }\n        setOutput(").concat(v,");\n      }\n    ")}}class e3{constructor(e,n,i,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,p=e.effectiveFilterDepth,f=e.effectiveFilterHeight,m=e.effectiveFilterWidth,b=e.padInfo.front,g=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;const y=n==="avg";let v="0.0";if(y||(v="-1.0 / 1e-20"),i){const _=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(u,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(f,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(h,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(_," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(s?o?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(f," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const w="max";let C="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(C="avgValue / max(count, 1.0)");const k=Math.floor(r/4)*4,E=r%4,T="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(u,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(h,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(k,";\n            if (").concat(E===1,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(E===2,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(E===3,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n        }\n        setOutput(").concat(C,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;bg(s,"avgPool");const{filterSize:o,strides:r,pad:a,dimRoundingMode:l}=i,c=1;R(hi(r,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'"));const u=To(s.shape,o,r,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&gt(u.inShape,u.outShape))return gs({inputs:{x:s},backend:n});const d=new Ef(u,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const K3e={kernelName:$y,backendName:"webgl",kernelFunc:q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:o,strides:r,pad:a,dimRoundingMode:l,dataFormat:c}=i,u=[1,1,1],d=xa(s.shape,o,r,u,a,l,c),h=new e3(d,"avg",!1);return n.runWebGLProgram(h,[s],"float32")}const Y3e={kernelName:_y,backendName:"webgl",kernelFunc:X3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Z3e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,r=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,h=1/(n*i);this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(d,");\n      const float avgMultiplier = float(").concat(h,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(l,";\n            wR += ").concat(r,") {\n          float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(a,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class J3e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,s=e.filterWidth,o=e.strideDepth,r=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=d-1-e.padInfo.front,m=h-1-e.padInfo.top,b=p-1-e.padInfo.left,g=1/(n*i*s);this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(m,", ").concat(b,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(l,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(h,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,r=o,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=xa(r.shape,a,l,d,c,u),p=new J3e(h);return n.runWebGLProgram(p,[s],r.dtype)}const e_e={kernelName:qE,backendName:"webgl",kernelFunc:Q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t_e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,r=o;bg([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=To(r.shape,a,l,1,c),d=new Z3e(u);return n.runWebGLProgram(d,[s],r.dtype)}const n_e={kernelName:GE,backendName:"webgl",kernelFunc:t_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i_e(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:o}=e,{transposeA:r,transposeB:a}=i;return dx({a:s,b:o,transposeA:r,transposeB:a,backend:n})}const s_e={kernelName:Ay,backendName:"webgl",kernelFunc:i_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o_e{constructor(e,n,i,s,o,r){this.outputShape=[],this.variableNames=["x","mean","variance"],Je(e,n),Je(e,i);let a="0.0";s!=null&&(Je(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";o!=null&&(Je(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(a,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(r,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r_e{constructor(e,n,i,s,o,r){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Je(e,n),Je(e,i);let a="vec4(0.0)";s!=null&&(Je(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";o!=null&&(Je(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(a,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(r,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a_e=({inputs:t,backend:e,attrs:n})=>{const{x:i,mean:s,variance:o,offset:r,scale:a}=t;R(s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),R(r==null||s.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),R(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[i,s,o];let u=null;r!=null&&(u=r.shape,c.push(r));let d=null;a!=null&&(d=a.shape,c.push(a));const h=re().getBool("WEBGL_PACK_NORMALIZATION")?new r_e(i.shape,s.shape,o.shape,u,d,l):new o_e(i.shape,s.shape,o.shape,u,d,l);return e.runWebGLProgram(h,c,c[0].dtype)},l_e={kernelName:Vy,backendName:"webgl",kernelFunc:a_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class c_e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=At(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=u_e(this.rank);let s;const o=e.map((r,a)=>"sourceLoc.".concat(CS[a]," = start[").concat(a,"] + coords.").concat(CS[a],";"));s="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(s,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")}}const CS=["x","y","z","w","u","v"];function u_e(t){if(t===1)return"sourceLoc";if(t<=6)return CS.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error("Slicing for rank ".concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d_e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=At(this.rank),i=_i("coords",this.rank),s=_i("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2(".concat(s.slice(-2).join(),")"),r="getChannel(getSource(".concat(s.join(),"), ").concat(o,")"),a="\n      result.x = ".concat(r,";\n      if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(s[this.rank-1],";\n        result.y = ").concat(r,";\n        --").concat(s[this.rank-1],";\n      }\n    "),l=this.rank===1?"":"\n      --".concat(i[this.rank-1],";\n      if (++").concat(i[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(s[this.rank-2],";\n        result.z = ").concat(r,";\n        if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(s[this.rank-1],";\n          result.w = ").concat(r,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(e.map((u,d)=>"start[".concat(d,"]")).join(),");"):e.map((u,d)=>"".concat(s[d]," = ").concat(i[d]," + start[").concat(d,"];")).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(a,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h_e(t,e,n,i){const s=i.texData.get(t.dataId),o=i.makeTensorInfo(n,t.dtype),r=i.texData.get(o.dataId);Object.assign(r,s),r.refCount=1,r.shape=n,r.dtype=t.dtype;let a=KI(e,He(t.shape));s.slice&&(a+=s.slice.flatOffset),r.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=i.dataRefCount.get(r.slice.origDataId)||1;return i.dataRefCount.set(r.slice.origDataId,l+1),o}function Ph(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:o,size:r}=i,[a,l]=Zv(s,o,r);if(WI(s,a,l),ae(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const d=n.texData.get(s.dataId),h=s$e(d.values,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,h)}const{isPacked:c}=n.texData.get(s.dataId),u=qI(s.shape,a,l);if(c||!u){const d=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new d_e(l):new c_e(l),h=[a];return n.runWebGLProgram(d,[s],s.dtype,h)}return n.uploadToGPU(s.dataId),h_e(s,a,l,n)}const p_e={kernelName:xv,backendName:"webgl",kernelFunc:Ph};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f_e=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:o,crops:r}=i;R(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((x,y)=>x*y),l=sg(s.shape,o,a),c=og(l.length,o.length),u=rg(s.shape,o,a),d=QI(r,o.length),h=e$(u,r,o.length),p=[],f=Ie({inputs:{x:s},backend:n,attrs:{shape:l}}),m=Ri({inputs:{x:f},backend:n,attrs:{perm:c}}),b=Ie({inputs:{x:m},backend:n,attrs:{shape:u}}),g=Ph({inputs:{x:b},backend:n,attrs:{begin:d,size:h}});return p.push(f),p.push(m),p.push(b),p.forEach(x=>n.disposeIntermediateTensorInfo(x)),g},m_e={kernelName:Ny,backendName:"webgl",kernelFunc:f_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:o}=e,{size:r}=i,a=n.readSync(s.dataId),l=n.readSync(o.dataId),c=j7(a,l,o.dtype,o.shape,r);return n.makeTensorInfo([r],o.dtype,c)}const b_e={kernelName:KE,backendName:"webgl",kernelFunc:g_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x_e="\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",y_e="\n  return float(int(a.r) & int(b.r));\n";function v_e(t){const{inputs:e,backend:n}=t,{a:i,b:s}=e,o=re().getBool("WEBGL_PACK_BINARY_OPERATIONS"),r=re().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([i,s])||r===1){const l=n.texData.get(i.dataId).values,c=n.texData.get(s.dataId).values,[u,d]=$Ie(i.shape,s.shape,l,c,i.dtype),h=n.makeTensorInfo(d,i.dtype),p=n.texData.get(h.dataId);return p.values=u,h}let a;return o?a=new zh(x_e,i.shape,s.shape,!1):a=new iu(y_e,i.shape,s.shape),n.runWebGLProgram(a,[i,s],i.dtype)}const w_e={kernelName:Dy,backendName:"webgl",kernelFunc:v_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_e(t){const{inputs:e,backend:n}=t,{s0:i,s1:s}=e,o=n.readSync(i.dataId),r=n.readSync(s.dataId),a=Je(Array.from(o),Array.from(r));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const S_e={kernelName:XE,backendName:"webgl",kernelFunc:k_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C_e="return float(a != b);",t9=mi({opSnippet:C_e,cpuKernelImpl:XIe,dtype:"bool"}),E_e={kernelName:rv,backendName:"webgl",kernelFunc:t9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yg(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.texData.get(i.dataId);return gs({inputs:{x:s.complexTensorInfos.real},backend:n})}const T_e={kernelName:$T,backendName:"webgl",kernelFunc:yg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I_e="return float(int(x));";function $_e(t,e){const n=new fr(t.shape,I_e),i=e.runWebGLProgram(n,[t],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ES(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dtype:o}=i;if(o==="complex64"){if(s.dtype==="complex64")return gs({inputs:{x:s},backend:n});const r=$n(s.shape),a=ES({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=Vl({inputs:{real:a,imag:r},backend:n});return r.dispose(),n.disposeIntermediateTensorInfo(a),l}if(s.dtype==="complex64"){const r=yg({inputs:{input:s},backend:n}),a=ES({inputs:{x:r},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(r),a}if(!f8(s.dtype,o)){const r=gs({inputs:{x:s},backend:n});return{dataId:r.dataId,shape:r.shape,dtype:o}}if(n.shouldExecuteOnCPU([s])){const r=n.texData.get(s.dataId).values,[a,l,c]=_Ie(r,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,c)}if(o==="int32")return $_e(s,n);if(o==="bool"){const r=n.makeTensorInfo([],"bool",li("bool",1)),l=t9({inputs:{a:s,b:r},backend:n});return n.disposeIntermediateTensorInfo(r),l}throw new Error("Error in Cast: failed to cast ".concat(s.dtype," to ").concat(o))}const __e={kernelName:lm,backendName:"webgl",kernelFunc:ES};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tD="return ceil(x);",A_e=wt({opSnippet:tD,packedOpSnippet:tD,cpuKernelImpl:AIe}),N_e={kernelName:cm,backendName:"webgl",kernelFunc:A_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D_e{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O_e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{clipValueMin:o,clipValueMax:r}=i;let a;re().getBool("WEBGL_PACK_CLIP")?a=new O_e(s.shape):a=new D_e(s.shape);const l=[[o],[r]];return n.runWebGLProgram(a,[s],s.dtype,l)}const L_e={kernelName:um,backendName:"webgl",kernelFunc:R_e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z_e{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nD(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function F_e(t){const{inputs:e,backend:n}=t,{x:i}=e,s=n.texData.get(i.dataId),o=new z_e(i.shape),r=[nD(i,s.complexTensorInfos.real),nD(i,s.complexTensorInfos.imag)];return n.runWebGLProgram(o,r,r[0].dtype)}const P_e={kernelName:Oy,backendName:"webgl",kernelFunc:F_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B_e{constructor(e){this.outputShape=[],this.outputShape=wr(e,1),this.variableNames=e.map((r,a)=>"T".concat(a));const n=new Array(e.length-1);n[0]=e[0][1];for(let r=1;r<n.length;r++)n[r]=n[r-1]+e[r][1];const i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")];for(let r=1;r<n.length;r++){const a=n[r-1];i.push("else if (yC < ".concat(n[r],") ")+"setOutput(getT".concat(r,"(yR, yC-").concat(a,"));"))}const s=n.length,o=n[n.length-1];i.push("else setOutput(getT".concat(s,"(yR, yC-").concat(o,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M_e{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=wr(e,n);const i=this.outputShape,s=i.length,o=At(s),r=_i("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((m,b)=>"T".concat(b));const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=a[n],u=a.slice(-2),d=a.join();let h="if (".concat(c," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(d,"), vec2(").concat(u.join(),"));\n        }");for(let m=1;m<l.length;m++){const b=l[m-1];h+="\n        if (".concat(c," < ").concat(l[m],"  && ").concat(c," >= ").concat(l[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(mb(a,c,b),"),\n            vec2(").concat(mb(u,c,b),"));\n        }")}const p=l.length,f=l[l.length-1];h+="\n        return getChannel(\n          getT".concat(p,"(").concat(mb(a,c,f),"),\n          vec2(").concat(mb(u,c,f),"));"),this.userCode="\n      float getValue(".concat(a.map(m=>"int "+m),") {\n        ").concat(h,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(r,"), 0., 0., 0.);\n\n        ").concat(r[s-1]," = ").concat(r[s-1]," + 1;\n        if (").concat(r[s-1]," < ").concat(i[s-1],") {\n          result.g = getValue(").concat(r,");\n        }\n\n        ").concat(r[s-2]," = ").concat(r[s-2]," + 1;\n        if (").concat(r[s-2]," < ").concat(i[s-2],") {\n          result.a = getValue(").concat(r,");\n        }\n\n        ").concat(r[s-1]," = ").concat(r[s-1]," - 1;\n        if (").concat(r[s-2]," < ").concat(i[s-2]," &&\n            ").concat(r[s-1]," < ").concat(i[s-1],") {\n          result.b = getValue(").concat(r,");\n        }\n        setOutput(result);\n      }\n    ")}}function mb(t,e,n){const i=t.indexOf(e);return t.map((o,r)=>r===i?"".concat(o," - ").concat(n):o).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.texData.get(i.dataId);return gs({inputs:{x:s.complexTensorInfos.imag},backend:n})}const j_e={kernelName:fT,backendName:"webgl",kernelFunc:b1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gp(t,e,n){const i=t[0].dtype;if(i==="complex64"){const p=t.map(x=>yg({inputs:{input:x},backend:n})),f=t.map(x=>b1({inputs:{input:x},backend:n})),m=gp(p,e,n),b=gp(f,e,n),g=Vl({inputs:{real:m,imag:b},backend:n});return p.forEach(x=>n.disposeIntermediateTensorInfo(x)),f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),g}let s=n.shouldExecuteOnCPU(t);if(i==="string"&&(s=!0),s){const p=t.map(v=>{const C=[-1,ae(v.shape.slice(e))];return Ie({inputs:{x:v},backend:n,attrs:{shape:C}})}),f=p.map(v=>({vals:n.readSync(v.dataId),shape:v.shape})),m=wr(p.map(v=>v.shape),1),b=p[0].shape[0]===1,g=NIe(f,m,i,b),x=wr(t.map(v=>v.shape),e),y=n.makeTensorInfo(x,i,g);return p.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const o=t.filter(p=>ae(p.shape)>0),r=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(o.length===1){const p=r?new fr(t[0].shape,Ba):new Ya(t[0].shape,Ba);return n.runWebGLProgram(p,t,i)}const a=re().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>a){const p=[];for(let m=0;m<o.length;m+=a){const b=o.slice(m,m+a);p.push(gp(b,e,n))}const f=gp(p,e,n);for(const m of p)n.disposeIntermediateTensorInfo(m);return f}if(r){const p=new M_e(o.map(f=>f.shape),e);return n.runWebGLProgram(p,o,i)}const{tensors2D:l,outShape:c}=U_e(o,e,n),u=new B_e(l.map(p=>p.shape)),d=n.runWebGLProgram(u,l,i);l.forEach(p=>n.disposeIntermediateTensorInfo(p));const h=Ie({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function U_e(t,e,n){const i=wr(t.map(o=>o.shape),e);return{tensors2D:t.map(o=>Ie({inputs:{x:o},attrs:{shape:[-1,ae(o.shape.slice(e))]},backend:n})),outShape:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n9(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i,o=ct(s,e[0].shape)[0],r=e.map(c=>c.shape);YI(r,o);const a=wr(e.map(c=>c.shape),o);if(ae(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>ae(c.shape)>0);return l.length===1?gs({inputs:{x:l[0]},backend:n}):gp(l,o,n)}const V_e={kernelName:Ry,backendName:"webgl",kernelFunc:n9};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i9{constructor(e,n=!1,i=null,s=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,p=e.filterWidth,f=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,b=e.dataFormat==="channelsLast",g=b?1:2,x=b?2:3,y=b?3:1;let v="",w="";i&&(s?v="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?v="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):v="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),w="result = activation(result);");const C=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(v,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(x,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(h,"; wR++) {\n          int xR = xRCorner + wR * ").concat(u,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(b,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(m===1,") {\n\n              if (").concat(b,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(f,") *\n                    getW(wR, wC, ").concat(f,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(f,", xR, xC) *\n                    getW(wR, wC, ").concat(f,", d2);\n              }\n\n            } else if (").concat(m===2,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2)\n              );\n\n              if (").concat(b,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(m===3,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2),\n                getW(wR, wC, ").concat(f," + 2, d2)\n              );\n\n              if (").concat(b,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1),\n                  getX(batch, xR, xC, ").concat(f," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC),\n                  getX(batch, ").concat(f," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(C,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}}class H_e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left,o=e.strideDepth,r=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,p=e.filterWidth,f=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(r,", ").concat(a,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(i,", ").concat(s,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(l,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(u,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(m===1,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(f,") *\n                  getW(wF, wR, wC, ").concat(f,", d2);\n              } else if (").concat(m===2,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(m===3,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1),\n                  getX(batch, xF, xR, xC, ").concat(f," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2),\n                  getW(wF, wR, wC, ").concat(f," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s9{constructor(e,n=!1,i=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ti(this.outputShape.length);const r=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let b=0;b<u;b++)h+="\n           vec4 xTexelC".concat(b*2,";\n           int xTexelC").concat(b*2,"Ready;\n           vec4 xTexelC").concat(b*2+1,";\n           int xTexelC").concat(b*2+1,"Ready;\n           vec4 xC").concat(b,";");h+="\n     for (int r = 0; r < ".concat(c,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let b=0;b<u;b++)h+="\n           xTexelC".concat(b*2," = vec4(0.0);\n           xTexelC").concat(b*2,"Ready = 0;\n           xTexelC").concat(b*2+1," = vec4(0.0);\n           xTexelC").concat(b*2+1,"Ready = 0;\n           xC").concat(b," = vec4(0.0);");h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let b=0;b<(d+1)/2;b++){const g=b*2;if(h+="\n           xC = xCCorner + ".concat(g*l,";\n           "),a===1){if(g<u&&(r%2===1?(h+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n               "),l===1&&g>0?h+="\n                 xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                 "):h+="\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                   } else {\n                     xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                   }\n                   ")):h+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xC").concat(g," = xTexelC").concat(g,";\n                 "),g+1<u)){const x=r%2===0?jE(l):l;l%2===0&&r%2===1||l%2!==0&&r%2!==1?(h+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                     xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(g+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(g+1,"Ready = 1;\n                   }\n                   "),l>1?h+="\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(g+1," = vec4(previous.zw, xTexelC").concat(g+1,".xy);\n                     } else {\n                      xC").concat(g+1," = vec4(0.0, 0.0, xTexelC").concat(g+1,".xy);\n                     }\n                     "):h+="\n                     xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                     ")):x===1?h+="\n                     xC".concat(g+1," = xTexelC").concat(g,";\n                     "):h+="\n                     xCOffset = xC + ".concat(x,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                       xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(g+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(g+1,"Ready = 1;\n                     }\n\n                     xC").concat(g+1," = xTexelC").concat(g+1,";\n                     ")}}else g<u&&(r%2===1?(h+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n               "),g+1<u&&(h+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                 "))):(h+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(\n                   xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n               "),g+1<u&&(h+="\n                   xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                 "))));g<u&&(h+="\n             wTexel = getW(r, ".concat(g,", d1, d2);\n             dotProd += xC").concat(g,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(g,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),g+1<u&&(h+="\n               wTexel = getW(r, ".concat(g+1,", d1, d2);\n               dotProd += xC").concat(g+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(g+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let p="",f="";i&&(s?p="vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(i,"\n         }"):o?p="vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(i,"\n         }"):p="vec4 activation(vec4 x) {\n           ".concat(i,"\n         }"),f="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(p,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(h,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(m,"\n         ").concat(f,"\n         setOutput(result);\n       }\n     ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class W_e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Ti(this.outputShape.length);const{dataFormat:i}=n,s=zi(),o=i==="channelsLast",r=o?1:2,a=o?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(u,";\n\n          ").concat(l,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(r,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(a,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(s.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hx(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function o9({x:t,filter:e,convInfo:n,backend:i,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:r=0,activation:a=null}){const l=t.shape,c=i.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],h=n.outChannels,p=n.dataFormat==="channelsLast",f=!1,m=!1;let b;const g=[];if(o!=null){const v=hx(o.shape,p);v!=null&&(o=Ie({inputs:{x:o},backend:i,attrs:{shape:v}}),g.push(o))}if(s!=null){const v=hx(s.shape,p);v!=null&&(s=Ie({inputs:{x:s},backend:i,attrs:{shape:v}}),g.push(s))}if(!((d===1||h===1)&&u>Z7)&&c.isPacked&&p&&c.texture!=null&&l[2]%2!==0&&gt(c.shape.slice(-3),l.slice(-3))){const v=l[0]*l[1]*(l[2]+1),w={dataId:t.dataId,shape:[1,v,n.inChannels],dtype:t.dtype},C=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,R(ux(c.shape,w.shape),()=>"packed reshape ".concat(c.shape," to ").concat(w.shape," isn't free"));const k=Ie({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(k);const E=dx({a:w,b:k,backend:i,transposeA:f,transposeB:m,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:r}),T=i.texData.get(E.dataId);R(T.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=C,T.shape=n.outShape,b=gs({inputs:{x:E},backend:i}),b.shape=n.outShape,g.push(E)}else{const v=n.outHeight*n.outWidth,w=Ie({inputs:{x:t},backend:i,attrs:{shape:p?[n.batchSize,v,n.inChannels]:[n.batchSize,n.inChannels,v]}}),C=Ie({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}}),k=dx({a:p?w:C,b:p?C:w,transposeA:!p,transposeB:m,backend:i,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:r});b=Ie({inputs:{x:k},backend:i,attrs:{shape:n.outShape}}),g.push(w),g.push(C),g.push(k)}for(const v of g)i.disposeIntermediateTensorInfo(v);return b}function r9({x:t,filter:e,convInfo:n,backend:i,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:r=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:h,dataFormat:p}=n,f=p==="channelsLast",m=l*c*u,b=h*d,g=[n.batchSize,m,b],x=!0,y=!1,v=[];if(o!=null){const H=hx(o.shape,f);H!=null&&(o=Ie({inputs:{x:o},backend:i,attrs:{shape:H}}),v.push(o))}if(s!=null){const H=hx(s.shape,f);H!=null&&(s=Ie({inputs:{x:s},backend:i,attrs:{shape:H}}),v.push(s))}const w=Ie({inputs:{x:e},backend:i,attrs:{shape:[1,m,ae(e.shape)/m]}});v.push(w);const C=new W_e(g,n),k=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],E=i.runWebGLProgram(C,[t],"float32",k),T=Ie({inputs:{x:E},backend:i,attrs:{shape:g}});v.push(E),v.push(T);const _=s!=null,z=o!=null,N=a==="leakyrelu",O=a?Cf(a,!0):null,I=new Y7(f?T.shape:w.shape,f?w.shape:T.shape,f?[n.batchSize,b,n.outChannels]:[n.batchSize,n.outChannels,b],x,y,_,O,z,N),L=f?[T,w]:[w,T];if(s&&L.push(s),z&&L.push(o),N){const H=i.makeTensorInfo([],"float32",Ol(r,"float32"));L.push(H),v.push(H)}const F=i.runWebGLProgram(I,L,"float32"),j=Ie({inputs:{x:F},backend:i,attrs:{shape:n.outShape}});v.push(F);for(const H of v)i.disposeIntermediateTensorInfo(H);return j}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i,d=ya(l),h=Yn(s.shape,o.shape,r,c,a,u,!1,d);let p;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))p=o9({x:s,filter:o,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&re().getBool("WEBGL_EXP_CONV")){const m=new s9(h),b=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(m,[s,o],"float32",b)}else if(re().getBool("WEBGL_CONV_IM2COL"))p=r9({x:s,filter:o,convInfo:h,backend:n});else{const m=new i9(h);p=n.runWebGLProgram(m,[s,o],"float32")}const f=Ie({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),f}const q_e={kernelName:Ly,backendName:"webgl",kernelFunc:G_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K_e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,o=e.padInfo.left,r=e.dataFormat==="channelsLast";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(s,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(r?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class X_e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,r=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=i-1-e.padInfo.left,c=r?1:2,u=r?2:3,d=r?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(u,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(r,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Y_e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.padInfo.front,r=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(i," - ").concat(r,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(s," - ").concat(a,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Z_e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,s=e.filterWidth,o=e.strideDepth,r=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=i-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(l,", ").concat(c,", ").concat(u,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(i,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(i," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(s,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(s," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i,d=ya(l),h=Yn(s.shape,u,r,1,a,c,!1,d),p=new K_e(h);return n.runWebGLProgram(p,[s,o],"float32")}const Q_e={kernelName:ZE,backendName:"webgl",kernelFunc:J_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eAe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Ti(this.outputShape.length);const n=e.filterHeight,i=e.filterWidth,s=n-1-e.padInfo.top,o=i-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tAe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{inputShape:r,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i,d=ya(c),h=Yn(r,o.shape,a,1,l,u,!1,d);if(re().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const p=[[h.strideHeight,h.strideWidth]],f=new eAe(h);return n.runWebGLProgram(f,[s,o],"float32",p)}else{const p=new X_e(h);return n.runWebGLProgram(p,[s,o],"float32")}}const nAe={kernelName:zy,backendName:"webgl",kernelFunc:tAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dilations:l}=i,c=zl(s.shape,o.shape,r,l,a),u=new H_e(c);return n.runWebGLProgram(u,[s,o],"float32")}const sAe={kernelName:Fy,backendName:"webgl",kernelFunc:iAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,pad:a,filterShape:l}=i,c=zl(s.shape,l,r,1,a),u=new Y_e(c);return n.runWebGLProgram(u,[s,o],"float32")}const rAe={kernelName:JE,backendName:"webgl",kernelFunc:oAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aAe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{pad:r,strides:a,inputShape:l}=i,c=zl(l,o.shape,a,1,r),u=new Z_e(c);return n.runWebGLProgram(u,[s,o],"float32")}const lAe={kernelName:QE,backendName:"webgl",kernelFunc:aAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cAe=Fh+"\n  return cos(x);\n",uAe="\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(Eu,"\n  return result;\n"),dAe=wt({opSnippet:cAe,packedOpSnippet:uAe}),hAe={kernelName:dm,backendName:"webgl",kernelFunc:dAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pAe="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",fAe=wt({opSnippet:pAe}),mAe={kernelName:hm,backendName:"webgl",kernelFunc:fAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gAe{constructor(e,n,i,s,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[r,a,l,c]=e,[u]=n,[d,h]=i;this.outputShape=[u,d,h,c];const p=s==="bilinear"?1:0,[f,m]=["".concat(a-1,".0"),"".concat(l-1,".0")],[b,g,x]=d>1?["".concat((a-1)/(d-1)),"(y2-y1) * height_ratio","y1*".concat(f," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(f)],[y,v,w]=h>1?["".concat((l-1)/(h-1)),"(x2-x1) * width_ratio","x1*".concat(m," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(m)];this.userCode="\n      const float height_ratio = float(".concat(b,");\n      const float width_ratio = float(").concat(y,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(r,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(v,";\n\n        float in_y = ").concat(x,";\n        if( in_y < 0.0 || in_y > ").concat(f," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(w,";\n        if( in_x < 0.0 || in_x > ").concat(m," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(p," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bAe=t=>{const{inputs:e,backend:n,attrs:i}=t,{image:s,boxes:o,boxInd:r}=e,{cropSize:a,method:l,extrapolationValue:c}=i,u=new gAe(s.shape,o.shape,a,l,c);return n.runWebGLProgram(u,[s,o,r],"float32")},xAe={kernelName:tT,backendName:"webgl",kernelFunc:bAe};var Tf;(function(t){t.Prod="*",t.Sum="+"})(Tf||(Tf={}));class iD{constructor(e,n,i,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,r=this.op===Tf.Prod?"1.0":"0.0",a=i?r:"getX(".concat(sD(o,"coords",this.op),")"),l=this.outputShape[this.outputShape.length-1];let c="",u="";i?(c=s?"end != ".concat(l-1):"end != 0",u=s?"end + 1":"end - 1"):(c=s?"end + pow2 < ".concat(l):"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(At(o)," coords = getOutputCoords();\n        int end = ").concat(oD(o,"coords",this.op),";\n        float val = ").concat(a,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(u,";\n          ").concat(oD(o,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(sD(o,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function sD(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".x, ").concat(e,".y");if(t===3)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z");if(t===4)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z, ").concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}function oD(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".y");if(t===3)return"".concat(e,".z");if(t===4)return"".concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a9(t,e,n,i,s,o){const r=e.shape.length,a=sn([i],r);let l=e;a!=null&&(l=Ri({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=xn(1,r)[0];if(c!==r-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(e.shape.length-1," ")+"but got axis=".concat(i));const u=l.shape[c];let d=gs({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const p=new iD(t,l.shape,!1,o),f=[[h]],m=d;d=n.runWebGLProgram(p,[d],d.dtype,f),n.disposeIntermediateTensorInfo(m)}if(s){const h=new iD(t,l.shape,s,o),p=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(p)}if(a!=null){const h=Fl(a),p=Ri({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),p}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,exclusive:r,reverse:a}=i;return a9(Tf.Prod,s,n,o,r,a)}const vAe={kernelName:eT,backendName:"webgl",kernelFunc:yAe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,exclusive:r,reverse:a}=i;return a9(Tf.Sum,s,n,o,r,a)}const kAe={kernelName:Py,backendName:"webgl",kernelFunc:wAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:o}=e,{size:r,binaryOutput:a}=i;if(s.shape.length===1){const l=n.readSync(s.dataId),c=n.readSync(o.dataId),u=j7(l,c,o.dtype,o.shape,r);return n.makeTensorInfo([r],o.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(o),u=IIe(l,c,r,a);return n.makeTensorInfo(u.shape,o.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(s.shape.length,"."))}const CAe={kernelName:nT,backendName:"webgl",kernelFunc:SAe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EAe{constructor(e,n,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=i,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockSize:o,dataFormat:r}=i,a=s.shape[0],l=r==="NHWC"?s.shape[1]:s.shape[2],c=r==="NHWC"?s.shape[2]:s.shape[3],u=r==="NHWC"?s.shape[3]:s.shape[1],d=l*o,h=c*o,p=u/(o*o),f=r==="NHWC"?[a,d,h,p]:[a,p,d,h],m=new EAe(f,o,r);return n.runWebGLProgram(m,[s],s.dtype)}const IAe={kernelName:iT,backendName:"webgl",kernelFunc:TAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l9{constructor(e,n=!1,i=null,s=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ti(this.outputShape.length);const r=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";i&&(s?c="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?c="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):c="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(l,";\n        int q = d2 - d1 * ").concat(l,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(r,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(a,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class c9{constructor(e,n=!1,i=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ti(this.outputShape.length);const r=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,h=d;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<d;g++)p+="\n          vec4 xTexelC".concat(g*2,";\n          int xTexelC").concat(g*2,"Ready;\n          vec4 xTexelC").concat(g*2+1,";\n          int xTexelC").concat(g*2+1,"Ready;\n          vec4 xC").concat(g,";");p+="\n    for (int r = 0; r < ".concat(u,"; r++) {\n      ");for(let g=0;g<d;g++)p+="\n          xTexelC".concat(g*2," = vec4(0.0);\n          xTexelC").concat(g*2,"Ready = 0;\n          xTexelC").concat(g*2+1," = vec4(0.0);\n          xTexelC").concat(g*2+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(h+1)/2;g++){const x=g*2;if(p+="\n          xC = xCCorner + ".concat(x*c,";\n          "),l===1){if(x<d&&(a%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n              "),c===1&&x>0?p+="\n                xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n                "):p+="\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n                  } else {\n                    xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xC").concat(x," = xTexelC").concat(x,";\n                "),x+1<d)){const y=a%2===0?jE(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                    xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(x+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(x+1,"Ready = 1;\n                  }\n                  "),c>1?p+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(x+1," = vec4(previous.zw, xTexelC").concat(x+1,".xy);\n                    } else {\n                     xC").concat(x+1," = vec4(0.0, 0.0, xTexelC").concat(x+1,".xy);\n                    }\n                    "):p+="\n                    xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n                    ")):y===1?p+="\n                    xC".concat(x+1," = xTexelC").concat(x,";\n                    "):p+="\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                      xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(x+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(x+1,"Ready = 1;\n                    }\n\n                    xC").concat(x+1," = xTexelC").concat(x+1,";\n                    ")}}else x<d&&(a%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n              "),x+1<d&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(\n                  xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n              "),x+1<d&&(p+="\n                  xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n                "))));x<d&&(p+="\n            wTexel = getW(r, ".concat(x,", d1, q);\n            dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n          "),x+1<d&&(p+="\n              wTexel = getW(r, ".concat(x+1,", d1, q);\n              dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";let f="",m="";i&&(s?f="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?f="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):f="vec4 activation(vec4 x) {\n          ".concat(i,"\n        }"),m="result = activation(result);");const b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(f,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(r,";\n        int q = d2 - d1 * ").concat(r,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(b,"\n        ").concat(m,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ae(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dilations:l,dimRoundingMode:c}=i;let u=l;u==null&&(u=[1,1]),R(hi(r,u),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(r," and dilations '").concat(u,"'"));const d=Yn(s.shape,o.shape,r,u,a,c,!0);let h;re().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new c9(d):h=new l9(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[s,o],"float32",p)}const _Ae={kernelName:By,backendName:"webgl",kernelFunc:$Ae};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AAe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,o=e.padInfo.left,r=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(r," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(s,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class NAe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,r=n-1-e.padInfo.top,a=i-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(r,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(l,"; dm++) {\n              int d2 = d1 * ").concat(l," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:o}=e,{strides:r,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i,d=Yn(s.shape,u,r,a,l,c,!0),h=new AAe(d);return n.runWebGLProgram(h,[s,o],"float32")}const OAe={kernelName:sT,backendName:"webgl",kernelFunc:DAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RAe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:o}=e,{strides:r,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i,d=Yn(u,o.shape,r,a,l,c,!0),h=new NAe(d);return n.runWebGLProgram(h,[s,o],"float32")}const LAe={kernelName:oT,backendName:"webgl",kernelFunc:RAe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zAe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FAe(t){const{inputs:e,backend:n}=t,{x:i}=e,s=[...i.shape,...i.shape],o=ae(i.shape),r=Ie({inputs:{x:i},backend:n,attrs:{shape:[o]}}),a=new zAe(o),l=n.runWebGLProgram(a,[r],r.dtype),c=Ie({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(l),c}const PAe={kernelName:rT,backendName:"webgl",kernelFunc:FAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BAe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:i,padInfo:s,strideHeight:o,strideWidth:r,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:h}=s;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(r,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(a,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(l,"; w++) {\n              int wIn = wBeg + w * ").concat(u,";\n\n              if (wIn >= 0 && wIn < ").concat(i,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o}=e,{strides:r,pad:a,dilations:l}=i,c=Zm(s.shape,o.shape,r,a,"NHWC",l);let u;const d=new BAe(c);u=n.runWebGLProgram(d,[s,o],"float32");const h=Ie({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}const jAe={kernelName:My,backendName:"webgl",kernelFunc:MAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UAe(t){const{inputs:e,backend:n,attrs:i}=t,{equation:s}=i,o=e,{allDims:r,summedDims:a,idDims:l}=l$(s,o.length);u$(r.length,l,o);const{path:c,steps:u}=d$(a,l),d=u.length;let h=null,p=r.length;const f=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=c$(p,l[b]);let y;h$(g)?y=o[b]:(y=Ri({inputs:{x:o[b]},backend:n,attrs:{perm:g}}),f.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);gt(y.shape,v)||(y=Ie({inputs:{x:y},backend:n,attrs:{shape:v}}),f.push(y)),h===null?h=y:(h=Q$({inputs:{a:y,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=g1({inputs:{x:h},backend:n,attrs:{axis:c[m]-(r.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const VAe={kernelName:aT,backendName:"webgl",kernelFunc:UAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HAe="return (x >= 0.0) ? x : (exp(x) - 1.0);",WAe="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",GAe=wt({opSnippet:HAe,packedOpSnippet:WAe}),qAe={kernelName:fm,backendName:"webgl",kernelFunc:GAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KAe="return (b >= 0.0) ? a : a * (b + 1.0);",XAe="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",YAe=t=>{const{inputs:e,backend:n}=t,{dy:i,y:s}=e,o=re().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zh(XAe,i.shape,s.shape):new iu(KAe,i.shape,s.shape);return n.runWebGLProgram(o,[i,s],i.dtype)},ZAe={kernelName:lT,backendName:"webgl",kernelFunc:YAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JAe="\n  return vec4(equal(a, b));\n",QAe="return float(a == b);",e4e=mi({opSnippet:QAe,packedOpSnippet:JAe,dtype:"bool",cpuKernelImpl:DIe}),t4e={kernelName:jy,backendName:"webgl",kernelFunc:e4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n4e='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(t$,";\n  float a1 = ").concat(n$,";\n  float a2 = ").concat(i$,";\n  float a3 = ").concat(s$,";\n  float a4 = ").concat(o$,";\n  float a5 = ").concat(r$,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),i4e=wt({opSnippet:n4e}),s4e={kernelName:mm,backendName:"webgl",kernelFunc:i4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o4e=Fh+"\n  return exp(x);\n",r4e="\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",u9=wt({opSnippet:o4e,packedOpSnippet:r4e,cpuKernelImpl:OIe,dtype:"float32"}),a4e={kernelName:gm,backendName:"webgl",kernelFunc:u9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TS(t){const{inputs:e,attrs:n,backend:i}=t,{dim:s}=n,{input:o}=e,r=o.shape.length,a=o.shape.slice();let l=s;return s<0&&(R(-(r+1)<=s,()=>"Axis must be in the interval [".concat(-(r+1),", ").concat(r,"]")),l=r+s+1),a.splice(l,0,1),Ie({inputs:{x:o},backend:i,attrs:{shape:a}})}const l4e={kernelName:Uy,backendName:"webgl",kernelFunc:TS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rD="return exp(x) - 1.0;",c4e=wt({opSnippet:rD,packedOpSnippet:rD,cpuKernelImpl:RIe}),u4e={kernelName:bm,backendName:"webgl",kernelFunc:c4e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aD{constructor(e,n,i){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const o=i?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),r=i?"".concat(s,".0"):"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(s,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(r,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d9(t,e,n){const i=n.texData.get(t.dataId),s=ae(t.shape),o=t.shape[t.shape.length-1],r=s/o,a=Ie({inputs:{x:t},backend:n,attrs:{shape:[r,o]}}),l=a.shape,c=new aD("real",l,e),u=new aD("imag",l,e),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:l},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:l}],h=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(u,d,"float32"),f=Vl({inputs:{real:h,imag:p},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p);const m=Ie({inputs:{x:f},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(f),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(t){const{inputs:e,backend:n}=t,{input:i}=e;return d9(i,!1,n)}const h4e={kernelName:cT,backendName:"webgl",kernelFunc:d4e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class p4e{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vg(t){const{backend:e,attrs:n}=t,{shape:i,value:s}=n;let{dtype:o}=n;if(o=o||kh(s),o==="string"){const r=mn(o,ae(i));return r.fill(s),e.makeTensorInfo(i,o,r)}else{const r=new p4e(i,s),a=[[s]];return e.runWebGLProgram(r,[],o,a)}}const f4e={kernelName:uT,backendName:"webgl",kernelFunc:vg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m4e{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g4e={kernelName:dT,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,i=e,s=new m4e(n.shape);return i.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lD="return floor(x);",b4e=wt({opSnippet:lD,packedOpSnippet:lD,cpuKernelImpl:LIe}),x4e={kernelName:xm,backendName:"webgl",kernelFunc:b4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y4e="\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",v4e="\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",w4e=mi({opSnippet:y4e,packedOpSnippet:v4e,dtype:"int32"}),k4e={kernelName:ym,backendName:"webgl",kernelFunc:w4e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S4e{constructor(e){this.variableNames=["A"];const n=zi(),[i,s]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(s,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class C4e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=zi(),[i,s]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(s,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E4e={kernelName:R2,backendName:"webgl",kernelFunc:T4e};let Fu,Xw=re().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function T4e(t){const{inputs:e,backend:n,attrs:i}=t;let{pixels:s}=e;const{numChannels:o}=i,r=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,c]=r?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],d=[c,l,o];if(a||r){const m=re().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Fu==null||m!==Xw)&&(Xw=m,Fu=document.createElement("canvas").getContext("2d",{willReadFrequently:Xw})),Fu.canvas.width=l,Fu.canvas.height=c,Fu.drawImage(s,0,0,l,c),s=Fu.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=$s.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),s);const p=re().getBool("WEBGL_PACK")?new C4e(d):new S4e(d),f=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o,bias:r,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=i,m=ya(u),b=Yn(s.shape,o.shape,l,d,c,h,!1,m);let g;const x=[],y=r!=null,v=a!=null,w=p==="leakyrelu",C=()=>{const E=[s,o],T=(_,z)=>{if(z==="NCHW"&&_.shape.length===1&&_.shape[0]!==1){const N=Ie({inputs:{x:_},backend:n,attrs:{shape:[_.shape[0],1,1]}});return x.push(N),N}return _};if(y&&E.push(T(r,u)),v&&E.push(T(a,u)),w){const _=n.makeTensorInfo([],"float32",Ol(f,"float32"));E.push(_),x.push(_)}return E};if(b.filterHeight===1&&b.filterWidth===1&&b.dilationHeight===1&&b.dilationWidth===1&&b.strideHeight===1&&b.strideWidth===1&&(b.padInfo.type==="SAME"||b.padInfo.type==="VALID"))g=o9({x:s,filter:o,convInfo:b,backend:n,bias:r,activation:p,preluActivationWeights:a,leakyreluAlpha:f});else if(b.strideWidth<=2&&m==="channelsLast"&&re().getBool("WEBGL_EXP_CONV")){const E=p?Cf(p,!0):null,T=new s9(b,y,E,v,w),_=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],z=C();g=n.runWebGLProgram(T,z,"float32",_)}else if(re().getBool("WEBGL_CONV_IM2COL"))g=r9({x:s,filter:o,convInfo:b,backend:n,bias:r,activation:p,preluActivationWeights:a,leakyreluAlpha:f});else{const E=p?Cf(p,!1):null,T=new i9(b,y,E,v,w),_=C();g=n.runWebGLProgram(T,_,"float32")}const k=Ie({inputs:{x:g},backend:n,attrs:{shape:b.outShape}});return x.push(g),x.forEach(E=>n.disposeIntermediateTensorInfo(E)),k}const $4e={kernelName:M0,backendName:"webgl",kernelFunc:I4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:o,bias:r,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=i,f=[];let m=u;m==null&&(m=[1,1]),R(hi(l,m),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'"));const b=Yn(s.shape,o.shape,l,m,c,d,!0),g=re().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,x=h?Cf(h,g):null,y=[s,o],v=r!=null,w=a!=null,C=h==="leakyrelu";if(v&&y.push(r),w&&y.push(a),C){const _=n.makeTensorInfo([],"float32",Ol(p,"float32"));y.push(_),f.push(_)}let k;g?k=new c9(b,v,x,w,C):k=new l9(b,v,x,w,C);const E=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],T=n.runWebGLProgram(k,y,"float32",E);return f.forEach(_=>n.disposeIntermediateTensorInfo(_)),T}const A4e={kernelName:j0,backendName:"webgl",kernelFunc:_4e};class N4e{constructor(e,n,i,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=i;const o=At(i.length);let r="\n    int index;";for(let a=0;a<this.sliceDim;a++)r+="\n          index = round(getIndices(coords[0], ".concat(a,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[a],";\n          flattenIndex += index * ").concat(this.strides[a],";");this.userCode="\n         void main() {\n          ".concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(r,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D4e(t){const{inputs:e,backend:n}=t,{params:i,indices:s}=e,o=s.shape,r=o[o.length-1],a=ae(i.shape),[l,c,u,d]=HI(i,s),h=Ie({inputs:{x:s},backend:n,attrs:{shape:[c,r]}}),p=Ie({inputs:{x:i},backend:n,attrs:{shape:[ae(i.shape)/u,u]}});if(n.shouldExecuteOnCPU([i,s])||i.dtype==="string"){const g=n.readSync(s.dataId),x=n.bufferSync(i),y=zIe(g,x,i.dtype,c,r,u,d,i.shape,a);return n.makeTensorInfo(l,i.dtype,y.values)}const f=new N4e(r,d,[c,u],i.shape),m=n.runWebGLProgram(f,[p,h],p.dtype),b=Ie({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),b}const O4e={kernelName:hT,backendName:"webgl",kernelFunc:D4e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R4e{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const i=At(this.rank),s=L4e(e);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(s,"));\n      }\n    ")}}function L4e(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let s=0;s<t.length;s++)s===2?i.push("index"):i.push("".concat(n[s]));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h9(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,indices:o}=e,{axis:r,batchDims:a}=i,l=ct(r,s.shape)[0];if(re().get("DEBUG")){const x=n.readSync(o.dataId),y=s.shape[l];for(let v=0;v<x.length;++v){const w=x[v];R(w<=y-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(y-1,"]"))}}const c=f$(s,o,l,a),u=ae(o.shape),d=[],h=Ie({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=Ie({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,o])||s.dtype==="string"){const x=n.bufferSync(p),y=n.bufferSync(h),v=FIe(y,x,f);return d.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.makeTensorInfo(c.outputShape,v.dtype,v.values)}const m=new R4e(h.shape,f),b=n.runWebGLProgram(m,[h,p],h.dtype);d.push(b);const g=Ie({inputs:{x:b},backend:n,attrs:{shape:c.outputShape}});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),g}const z4e={kernelName:Hy,backendName:"webgl",kernelFunc:h9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F4e="return float(a > b);",P4e="\n  return vec4(greaterThan(a, b));\n",B4e=mi({opSnippet:F4e,packedOpSnippet:P4e,cpuKernelImpl:PIe,dtype:"bool"}),M4e={kernelName:Wy,backendName:"webgl",kernelFunc:B4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j4e="return float(a >= b);",U4e="\n  return vec4(greaterThanEqual(a, b));\n",V4e=mi({opSnippet:j4e,packedOpSnippet:U4e,dtype:"bool",cpuKernelImpl:BIe}),H4e={kernelName:vm,backendName:"webgl",kernelFunc:V4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(t){const{inputs:e,backend:n}=t,{input:i}=e;return d9(i,!0,n)}const G4e={kernelName:pT,backendName:"webgl",kernelFunc:W4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q4e="return float(!isnan(x) && !isinf(x));",K4e=wt({opSnippet:q4e,dtype:"bool"}),X4e={kernelName:km,backendName:"webgl",kernelFunc:K4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y4e="return float(isinf(x));",Z4e=wt({opSnippet:Y4e,dtype:"bool"}),J4e={kernelName:Sm,backendName:"webgl",kernelFunc:Z4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q4e="return float(isnan(x));",eNe=wt({opSnippet:Q4e,dtype:"bool"}),tNe={kernelName:Cm,backendName:"webgl",kernelFunc:eNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nNe="return float(a < b);",iNe="\n  return vec4(lessThan(a, b));\n",sNe=mi({opSnippet:nNe,packedOpSnippet:iNe,cpuKernelImpl:MIe,dtype:"bool"}),oNe={kernelName:qy,backendName:"webgl",kernelFunc:sNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rNe="return float(a <= b);",aNe="\n  return vec4(lessThanEqual(a, b));\n",lNe=mi({opSnippet:rNe,packedOpSnippet:aNe,cpuKernelImpl:jIe,dtype:"bool"}),cNe={kernelName:Ky,backendName:"webgl",kernelFunc:lNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uNe(t){const{backend:e,attrs:n}=t,{start:i,stop:s,num:o}=n,r=UIe(i,s,o);return e.makeTensorInfo([r.length],"float32",r)}const dNe={kernelName:mT,backendName:"webgl",kernelFunc:uNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hNe=Fh+"\n  return x < 0.0 ? 0./0. : log(x);\n",pNe="\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",fNe=wt({opSnippet:hNe,packedOpSnippet:pNe,cpuKernelImpl:VIe}),mNe={kernelName:Em,backendName:"webgl",kernelFunc:fNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gNe=Fh+"\n  return log(1.0 + x);\n",bNe=wt({opSnippet:gNe}),xNe={kernelName:Tm,backendName:"webgl",kernelFunc:bNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yNe="return float(a >= 1.0 && b >= 1.0);",vNe="\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",wNe=mi({opSnippet:yNe,packedOpSnippet:vNe,dtype:"bool"}),kNe={kernelName:Xy,backendName:"webgl",kernelFunc:wNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SNe="return float(!(x >= 1.0));",CNe=wt({opSnippet:SNe}),ENe={kernelName:Yy,backendName:"webgl",kernelFunc:CNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TNe="return float(a >= 1.0 || b >= 1.0);",INe="\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",$Ne=mi({opSnippet:TNe,packedOpSnippet:INe,dtype:"bool"}),_Ne={kernelName:Zy,backendName:"webgl",kernelFunc:$Ne};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ANe{constructor(e,n,i,s,o){this.variableNames=["x"],this.outputShape=[];const r=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(s,") * sum");o===.5?l="inversesqrt(".concat(c,")"):o===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(r,"; j <= ").concat(r,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(a,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(l,";\n        setOutput(val);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NNe{constructor(e,n,i,s,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const r=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(s,") * sum");o===.5?l="inversesqrt(".concat(c,")"):o===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(r,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(r,"; j <= ").concat(r,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(a,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(l,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DNe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{depthRadius:o,bias:r,alpha:a,beta:l}=i,c=re().getBool("WEBGL_PACK_NORMALIZATION")?new NNe(s.shape,o,r,a,l):new ANe(s.shape,o,r,a,l);return n.runWebGLProgram(c,[s],s.dtype)},ONe={kernelName:Jy,backendName:"webgl",kernelFunc:DNe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RNe{constructor(e,n,i,s,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=i,this.alpha=s,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(s,") * norm + float(").concat(i,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(s,")\n                * float(").concat(o,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LNe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s,y:o,dy:r}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i,d=new RNe(s.shape,a,l,c,u);return n.runWebGLProgram(d,[s,o,r],s.dtype)},zNe={kernelName:gT,backendName:"webgl",kernelFunc:LNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FNe(t,e,n,i){const s=ae(e),r=ae(t.shape)/s,a=Ie({inputs:{x:t},attrs:{shape:[r,s]},backend:i}),l=Tu(a,t.dtype,"max",i),c=Ie({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p9(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reductionIndices:o,keepDims:r}=i,a=s.shape.length,l=ct(o,s.shape);let c=l;const u=sn(c,a),d=u!=null,h=n.shouldExecuteOnCPU([s]);let p=s;if(d){if(h){const y=n.texData.get(p.dataId).values,v=new Array(a);for(let k=0;k<v.length;k++)v[k]=s.shape[u[k]];const w=Z$(y,s.shape,s.dtype,u,v);p=n.makeTensorInfo(v,s.dtype);const C=n.texData.get(p.dataId);C.values=w}else p=m1(s,u,n);c=xn(c.length,a)}pi("max",c,a);const[f,m]=Zn(p.shape,c);let b=f;r&&(b=bn(f,l));let g;if(h){const y=n.texData.get(p.dataId).values,v=HIe(y,ae(m),b,s.dtype);g=n.makeTensorInfo(b,s.dtype);const w=n.texData.get(g.dataId);w.values=v}else g=FNe(p,m,b,n);return d&&n.disposeIntermediateTensorInfo(p),g}const PNe={kernelName:Qy,backendName:"webgl",kernelFunc:p9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BNe=J$+"\n  return max(a, b);\n",MNe="\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Eu+"\n  return result;\n",jNe=mi({opSnippet:BNe,packedOpSnippet:MNe,cpuKernelImpl:WIe}),UNe={kernelName:Im,backendName:"webgl",kernelFunc:jNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;bg(s,"maxPool");const{filterSize:o,strides:r,pad:a,dimRoundingMode:l}=i,c=1;R(hi(r,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(c,"'"));const u=To(s.shape,o,r,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&gt(u.inShape,u.outShape))return gs({inputs:{x:s},backend:n});const d=new Ef(u,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const HNe={kernelName:ev,backendName:"webgl",kernelFunc:VNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:o,strides:r,pad:a,dataFormat:l,dimRoundingMode:c}=i,u=[1,1,1],d=xa(s.shape,o,r,u,a,c,l),h=new e3(d,"max",!1);return n.runWebGLProgram(h,[s],s.dtype)}const GNe={kernelName:tv,backendName:"webgl",kernelFunc:WNe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qNe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,o=e.effectiveFilterHeight,r=e.effectiveFilterWidth,a=o-1-e.padInfo.top,l=r-1-e.padInfo.left,c=o*r-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(s,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(r," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class KNe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,r=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=c-1-e.padInfo.top,p=u-1-e.padInfo.left,f=l*c*u-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(h,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(l,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(r,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(u,";\n                wC += ").concat(a,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(f," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(u," +\n                  wR * ").concat(u," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XNe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o}=e,r=o,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=xa(r.shape,a,l,d,c,u),p=new e3(h,"max",!0),f=n.runWebGLProgram(p,[r],r.dtype),m=new KNe(h),b=n.runWebGLProgram(m,[s,f],r.dtype);return n.disposeIntermediateTensorInfo(f),b}const YNe={kernelName:xT,backendName:"webgl",kernelFunc:XNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZNe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:o,output:r}=e,a=o;bg([o,r],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=To(a.shape,l,c,1,u,d),p=!0,f=new Ef(h,"max",p),m=n.runWebGLProgram(f,[a],a.dtype),b=new qNe(h),g=n.runWebGLProgram(b,[s,m],a.dtype);return n.disposeIntermediateTensorInfo(m),g}const JNe={kernelName:bT,backendName:"webgl",kernelFunc:ZNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QNe(t,e,n,i){let s=new Ef(n,"max",!1);const o=i.runWebGLProgram(s,[t],"float32");s=new Ef(n,"max",!0,!0,e);const r=i.runWebGLProgram(s,[t],"float32");return[o,r]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eDe={kernelName:yT,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:s,strides:o,pad:r,includeBatchInIndex:a}=e,l=n;R(i.shape.length===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,"."));const c=[1,1];R(hi(o,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(c,"'"));const u=To(i.shape,s,o,c,r),[d,h]=QNe(i,a,u,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tDe(t,e,n,i){const s=ae(e),r=ae(t.shape)/s,a=Ie({inputs:{x:t},attrs:{shape:[r,s]},backend:i}),l=Tu(a,"float32","mean",i),c=Ie({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nDe={kernelName:nv,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{keepDims:s,axis:o}=e,r=n,a=i.shape.length,l=ct(o,i.shape);let c=l;const u=sn(c,a),d=u!=null,h=r.shouldExecuteOnCPU([i]),p=[];let f=i;if(d){if(h){const v=r.texData.get(f.dataId).values,w=new Array(a);for(let E=0;E<w.length;E++)w[E]=i.shape[u[E]];const C=Z$(v,i.shape,i.dtype,u,w);f=r.makeTensorInfo(w,i.dtype);const k=r.texData.get(f.dataId);k.values=C}else f=m1(i,u,r);p.push(f),c=xn(c.length,a)}pi("sum",c,a);const[m,b]=Zn(f.shape,c);let g=m;s&&(g=bn(m,l));const x=tDe(f,b,g,r);for(const y of p)r.disposeIntermediateTensorInfo(y);return x}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iDe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i,a=s.shape.length,l=ct(o,s.shape);let c=l;const u=sn(c,a);let d=s;u!=null&&(d=Ri({inputs:{x:s},backend:n,attrs:{perm:u}}),c=xn(c.length,s.shape.length)),pi("min",c,a);const[h,p]=Zn(d.shape,c),f=ae(p),m=Ie({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}}),b=Tu(m,m.dtype,"min",n);let g;if(r){const x=bn(h,l);g=Ie({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Ie({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const sDe={kernelName:iv,backendName:"webgl",kernelFunc:iDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oDe=J$+"\n  return min(a, b);\n",rDe="\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Eu+"\n  return result;\n",aDe=mi({opSnippet:oDe,packedOpSnippet:rDe,cpuKernelImpl:GIe}),lDe={kernelName:$m,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cDe{constructor(e,n,i){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const s=e.length,o=At(s),r=n.map(u=>u[0]).join(","),a=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),c=i==="reflect"?0:1;if(s===1){this.userCode="\n        int start = ".concat(r,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ");return}this.userCode="\n      ".concat(o," start = ").concat(o,"(").concat(r,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(s,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(l,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uDe{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((f,m)=>f[0]+e[m]+f[1]);const s=e.length,o=At(s),r=n.map(f=>f[0]).join(","),a=n.map((f,m)=>f[0]+e[m]).join(","),l=_i("rc",s),c=_i("source",s),u="".concat(l[s-1]," < ").concat(this.outputShape[s-1]),d=s===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=i==="reflect"?0:1;let p="";if(s===1){const f="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(h,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(h,";\n        }\n        source -= start;\n      ");p="\n        ".concat(o," rc = outputLoc;\n        ").concat(f,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[s-1]," += 1;\n        if(").concat(u,") {\n          ").concat(f,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{const f="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(h,") +\n                gte * ((end - 1) * 2 - source + ").concat(h,");\n        source -= start;\n      ");p="\n        ".concat(o," rc = outputLoc;\n        ").concat(f,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[s-1]," += 1;\n        if(").concat(u,") {\n          ").concat(f,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(l[s-2]," += 1;\n        if(").concat(l[s-2]," < ").concat(this.outputShape[s-2],") {\n          ").concat(f,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(l[s-1]," += 1;\n          if(").concat(u,") {\n            ").concat(f,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(r,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dDe=({inputs:t,backend:e,attrs:n})=>{const{x:i}=t,{paddings:s,mode:o}=n,r=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uDe(i.shape,s,o):new cDe(i.shape,s,o);return e.runWebGLProgram(r,[i],i.dtype)},hDe={kernelName:sv,backendName:"webgl",kernelFunc:dDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pDe="if (b == 0.0) return NAN;\n  return mod(a, b);",fDe="\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+Eu+"\n  return result;\n",mDe=mi({opSnippet:pDe,packedOpSnippet:fDe}),gDe={kernelName:_m,backendName:"webgl",kernelFunc:mDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bDe{constructor(e,n,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,i],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xDe="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",yDe="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",f9=mi({opSnippet:xDe,packedOpSnippet:yDe,checkOutOfBounds:!0}),vDe={kernelName:pm,backendName:"webgl",kernelFunc:f9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cD="return a - b;",m9=mi({opSnippet:cD,packedOpSnippet:cD,supportsComplex:!0,cpuKernelImpl:p$e}),wDe={kernelName:Wm,backendName:"webgl",kernelFunc:m9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g9(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{dim:o}=i,r=ct([o],s.shape),a=p9({inputs:{x:s},backend:n,attrs:{reductionIndices:r,keepDims:!1}}),l=bn(a.shape,r),c=Ie({inputs:{x:a},backend:n,attrs:{shape:l}}),u=m9({inputs:{a:s,b:c},backend:n}),d=u9({inputs:{x:u},backend:n}),h=g1({inputs:{x:d},backend:n,attrs:{axis:r,keepDims:!1}}),p=Ie({inputs:{x:h},backend:n,attrs:{shape:l}}),f=f9({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}const kDe={kernelName:kv,backendName:"webgl",kernelFunc:g9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SDe(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{numSamples:o,seed:r,normalized:a}=i,l=a?s:g9({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new bDe(c,u,o),h=[[r]],p=n.runWebGLProgram(d,[l],"int32",h);return a||n.disposeIntermediateTensorInfo(l),p}const CDe={kernelName:vT,backendName:"webgl",kernelFunc:SDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EDe=$o+"\n  return -x;\n",TDe="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";function IDe(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])){const o=n.texData.get(i.dataId),[r,a]=KIe(o.values,i.shape,i.dtype);return n.makeTensorInfo(a,i.dtype,r)}let s;return re().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ya(i.shape,TDe):s=new fr(i.shape,EDe),n.runWebGLProgram(s,[i],i.dtype)}const $De={kernelName:ov,backendName:"webgl",kernelFunc:IDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _De=FI;function ADe(t){Is("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l}=i,c=n.readSync(s.dataId),u=n.readSync(o.dataId),{selectedIndices:d}=_De(c,u,r,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const NDe={kernelName:wT,backendName:"webgl",kernelFunc:ADe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DDe=PI;function ODe(t){Is("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i,u=n.readSync(s.dataId),d=n.readSync(o.dataId),{selectedIndices:h,validOutputs:p}=DDe(u,d,r,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const RDe={kernelName:kT,backendName:"webgl",kernelFunc:ODe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LDe=BI;function zDe(t){Is("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:o}=e,{maxOutputSize:r,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i,u=n.readSync(s.dataId),d=n.readSync(o.dataId),h=r,p=a,f=l,m=c,{selectedIndices:b,selectedScores:g}=LDe(u,d,h,p,f,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const FDe={kernelName:ST,backendName:"webgl",kernelFunc:zDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PDe{constructor(e,n,i,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(s,"), float(").concat(i,"),\n                      float(index == coords.y)));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BDe=t=>{const{inputs:e,backend:n,attrs:i}=t,{indices:s}=e,{dtype:o,depth:r,onValue:a,offValue:l}=i,c=ae(s.shape),u=new PDe(c,r,a,l),d=Ie({inputs:{x:s},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],o);n.disposeIntermediateTensorInfo(d);const p=[...s.shape,r],f=Ie({inputs:{x:h},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),f},MDe={kernelName:lv,backendName:"webgl",kernelFunc:BDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function px(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="complex64"){const s=yg({inputs:{input:i},backend:n}),o=px({inputs:{x:s},backend:n}),r=b1({inputs:{input:i},backend:n}),a=px({inputs:{x:r},backend:n}),l=Vl({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),l}else return vg({attrs:{shape:i.shape,dtype:i.dtype,value:i.dtype==="string"?"":0},backend:n})}const jDe={kernelName:Tv,backendName:"webgl",kernelFunc:px};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b9(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(i.dtype==="complex64"){const s=yg({inputs:{input:i},backend:n}),o=b9({inputs:{x:s},backend:n}),r=b1({inputs:{input:i},backend:n}),a=px({inputs:{x:r},backend:n}),l=Vl({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),l}else return vg({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:n})}const UDe={kernelName:av,backendName:"webgl",kernelFunc:b9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i;if(e.length===1)return TS({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const o=e[0].shape,r=e[0].dtype;e.forEach(u=>{xs(o,u.shape,"All tensors passed to stack must have matching shapes"),R(r===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=TS({inputs:{input:u},backend:n,attrs:{dim:s}});return a.push(d),d}),c=n9({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const HDe={kernelName:cv,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WDe{constructor(e,n,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const s=e.length,o=At(s),r=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode="\n        int start = ".concat(r,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ");return}this.userCode="\n      ".concat(o," start = ").concat(o,"(").concat(r,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(l,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GDe{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,b)=>m[0]+e[b]+m[1]);const s=e.length,o=At(s),r=n.map(m=>m[0]).join(","),a=n.map((m,b)=>m[0]+e[b]).join(","),l=_i("rc",s),c=_i("source",s),u="".concat(l[s-1]," < ").concat(this.outputShape[s-1]),d=s===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=["".concat(o," rc = outputLoc;"),"".concat(l[s-1]," += 1;\n       if(").concat(u,") {\n      "),s===1?"":"}\n       rc = outputLoc;\n       ".concat(l[s-2]," += 1;\n       if(").concat(l[s-2]," < ").concat(this.outputShape[s-2],") {"),s===1?"":"  ".concat(l[s-1]," += 1;\n         if(").concat(u,") {")],p=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let f="";for(let m=0,b=s===1?2:4;m<b;m++)f+="\n        ".concat(h[m],"\n        if (").concat(p,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");f+=s===1?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(r,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x9=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:o,constantValue:r}=i;if(ae(s.shape)===0){const c=o.map((u,d)=>u[0]+s.shape[d]+u[1]);return vg({backend:n,attrs:{shape:c,value:r,dtype:s.dtype}})}const a=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new GDe(s.shape,o,r):new WDe(s.shape,o,r),l=[[r]];return n.runWebGLProgram(a,[s],s.dtype,l)},qDe={kernelName:uv,backendName:"webgl",kernelFunc:x9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KDe="\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",XDe="\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+Eu+"\n  return result;\n",YDe=mi({opSnippet:KDe,packedOpSnippet:XDe}),ZDe={kernelName:Nm,backendName:"webgl",kernelFunc:YDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:o,keepDims:r}=i,a=s.shape.length,l=[],c=ct(o,s.shape);let u=c;const d=sn(u,a);let h=s;d!=null&&(h=Ri({inputs:{x:s},backend:n,attrs:{perm:d}}),u=xn(u.length,a),l.push(h)),pi("prod",u,a);let p;if(n.shouldExecuteOnCPU([h])){const f=n.texData.get(h.dataId).values,{outVals:m,outShape:b,outDtype:g}=YIe(h.shape,h.dtype,f,u);p=n.makeTensorInfo(b,g,m)}else{const[f,m]=Zn(h.shape,u),b=ae(m),g=Ie({inputs:{x:h},backend:n,attrs:{shape:[-1,b]}}),x=XT(s.dtype),y=Tu(g,x,"prod",n);p=Ie({inputs:{x:y},backend:n,attrs:{shape:f}}),l.push(g),l.push(y)}if(r){l.push(p);const f=bn(p.shape,c);p=Ie({inputs:{x:p},backend:n,attrs:{shape:f}})}return l.forEach(f=>n.disposeIntermediateTensorInfo(f)),p}const QDe={kernelName:hv,backendName:"webgl",kernelFunc:JDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eOe(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:s,paramsDenseValues:o,indices:r}=e,{outputRaggedRank:a}=i,l=s.map(g=>n.readSync(g.dataId)),c=s.map(g=>g.shape),u=n.readSync(o.dataId),d=n.readSync(r.dataId),[h,p,f]=ZIe(l,c,u,o.shape,o.dtype,d,r.shape,a),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(f,o.dtype,p);return m.concat([b])}const tOe={kernelName:CT,backendName:"webgl",kernelFunc:eOe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nOe(t){const{inputs:e,backend:n}=t,{starts:i,limits:s,deltas:o}=e,r=n.readSync(i.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[c,u]=JIe(r,i.shape,i.dtype,a,s.shape,l,o.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const iOe={kernelName:ET,backendName:"webgl",kernelFunc:nOe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sOe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:s,values:o,defaultValue:r,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.readSync(s.dataId),u=n.readSync(o.dataId),d=n.readSync(r.dataId),h=a.map(b=>n.readSync(b.dataId)),p=a.map(b=>b.shape),[f,m]=QIe(c,s.shape,u,o.shape,o.dtype,d,r.shape,h,p,l);return n.makeTensorInfo(f,o.dtype,m)}const oOe={kernelName:TT,backendName:"webgl",kernelFunc:sOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y9=t=>{const{backend:e,attrs:n}=t,{start:i,stop:s,step:o,dtype:r}=n,a=e$e(i,s,o,r);return e.makeTensorInfo([a.length],r,a)},rOe={kernelName:IT,backendName:"webgl",kernelFunc:y9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aOe="return 1.0 / x;",lOe=wt({opSnippet:aOe}),cOe={kernelName:Dm,backendName:"webgl",kernelFunc:lOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uOe=$o+"\n  return (x < 0.0) ? 0.0 : x;\n",dOe="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",hOe=wt({opSnippet:uOe,packedOpSnippet:dOe}),pOe={kernelName:Om,backendName:"webgl",kernelFunc:hOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fOe=$o+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",mOe="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",gOe=wt({opSnippet:fOe,packedOpSnippet:mOe}),bOe={kernelName:Rm,backendName:"webgl",kernelFunc:gOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xOe{constructor(e,n,i,s,o){this.variableNames=["A"],this.outputShape=[];const[r,a,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?a-1:a,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i];let h;o?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yOe{constructor(e,n,i,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,a,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?a-1:a,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i];let h;o?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:o,halfPixelCenters:r,size:a}=i,[l,c]=a,u=re().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new yOe(s.shape,l,c,o,r):new xOe(s.shape,l,c,o,r);return n.runWebGLProgram(u,[s],"float32")}const wOe={kernelName:mv,backendName:"webgl",kernelFunc:vOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kOe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,r,a]=e,l=[i&&r>1?s-1:s,i&&a>1?o-1:o],c=[i&&r>1?r-1:r,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,f=Math.ceil(h)*2+2,m=Math.ceil(p)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(f,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(r,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(s-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:o}=e,{alignCorners:r}=i,a=new kOe(o.shape,s.shape,r);return n.runWebGLProgram(a,[o],o.dtype)}const COe={kernelName:AT,backendName:"webgl",kernelFunc:SOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EOe{constructor(e,n,i,s,o){this.variableNames=["A"],this.outputShape=[];const[r,a,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?a-1:a,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i],h=s?"0.5":"0.0";let p;o?p="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TOe{constructor(e,n,i,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,a,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?a-1:a,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i],h=s?"0.5":"0.0";let p;o?p="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:o,halfPixelCenters:r,size:a}=i,[l,c]=a,u=re().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new TOe(s.shape,l,c,o,r):new EOe(s.shape,l,c,o,r);return n.runWebGLProgram(u,[s],s.dtype)}const $Oe={kernelName:fv,backendName:"webgl",kernelFunc:IOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Oe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,r,a]=e,l=[i&&r>1?s-1:s,i&&a>1?o-1:o],c=[i&&r>1?r-1:r,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,p=1/d,f=Math.ceil(h)*2+2,m=Math.ceil(p)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(f,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(r,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(l[0],") *\n                (float(dyR) / float(").concat(c[0],"));\n\n            float sourceFracCol =\n                float(").concat(l[1],") *\n                  (float(dyC) / float(").concat(c[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(s,") - 1),\n                ").concat(i," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(i," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:o}=e,{alignCorners:r}=i,a=new _Oe(o.shape,s.shape,r);return n.runWebGLProgram(a,[o],o.dtype)}const NOe={kernelName:_T,backendName:"webgl",kernelFunc:AOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DOe{constructor(e,n){this.variableNames=["x"];const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));if(this.outputShape=e,i===1){this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      ");return}const s=a=>n.indexOf(a)!==-1&&e[a]!==1?"".concat(e[a]," - coords[").concat(a,"] - 1"):"coords[".concat(a,"]"),o=e.map((a,l)=>s(l)).join(","),r=At(i);this.userCode="\n      void main() {\n        ".concat(r," coords = getOutputCoords();\n        setOutput(getX(").concat(o,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OOe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));this.outputShape=e;const s=_i("rc",i),o="".concat(s[i-1]," + 1 < ").concat(this.outputShape[i-1]),r="".concat(s[i-2]," + 1 < ").concat(this.outputShape[i-2]),a=At(i);i===1?this.userCode="\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):this.userCode="\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(l(s.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(c(s.slice()),";\n          }\n          if(").concat(r,") {\n            result.b = ").concat(u(s.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(d(s.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ");function l(f){return h(f)}function c(f){return f[i-1]="("+f[i-1]+" + 1)",h(f)}function u(f){return f[i-2]="("+f[i-2]+" + 1)",h(f)}function d(f){return f[i-1]="("+f[i-1]+" + 1)",f[i-2]="("+f[i-2]+" + 1)",h(f)}function h(f){const m=e.map((x,y)=>p(y,f)),b=m.join(","),g=m.slice(-2).join(",");return"getChannel(getX(".concat(b,"), vec2(").concat(g,"))")}function p(f,m){return n.indexOf(f)!==-1&&e[f]!==1?"".concat(e[f]," - ").concat(m[f]," - 1"):"".concat(m[f])}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ROe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dims:o}=i,r=s.shape.length,a=ct(o,s.shape);if(r===0)return gs({inputs:{x:s},backend:n});const l=re().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new OOe(s.shape,a):new DOe(s.shape,a);return n.runWebGLProgram(l,[s],s.dtype)}const LOe={kernelName:gv,backendName:"webgl",kernelFunc:ROe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zOe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=e[1],s=e[2];this.outputShape=e;let o="";typeof n=="number"?o="float outputValue = ".concat(n.toFixed(2),";"):o="\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(s," && coordY >= 0 && coordY < ").concat(i,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FOe={kernelName:qT,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:s,fillValue:o,center:r}=e,a=n,l=new zOe(i.shape,o),[c,u]=JI(r,i.shape[1],i.shape[2]),d=[[c,u,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(l,[i],i.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const POe="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",BOe=wt({opSnippet:POe}),MOe={kernelName:Lm,backendName:"webgl",kernelFunc:BOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe="return inversesqrt(x);",UOe=wt({opSnippet:jOe,cpuKernelImpl:t$e}),VOe={kernelName:zm,backendName:"webgl",kernelFunc:UOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t3{constructor(e,n,i,s,o,r,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=r;const c=At(o.length),u=At(r.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let p="";s===1?p="i":s===2&&(p="i, coords[1]");const f="getUpdates(".concat(p,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(h,");\n              flattenedIndex += index * ").concat(g,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(f,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(b,", sum, float(found)));\n        }\n      ")}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HOe{constructor(e,n,i,s,o,r,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;const c=At(o.length),u=At(r.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let p="";s===1?p="i":s===2&&(p="i, coords[1]");const f="getUpdates(".concat(p,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides",x=n>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(n,"; j+=2) {\n              ivec4 index = round(").concat(h,");\n              flattenedIndex += index.xz * ").concat(g,";\n              if (j + 1 < ").concat(n,") {\n                flattenedIndex += index.yw * ").concat(x,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(f,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(b,", sum, found));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WOe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s,updates:o}=e,{shape:r}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=vu(o,s,r),h=[d/c,c];if(d===0)return n.makeTensorInfo(r,s.dtype);const p=Ie({inputs:{x:s},backend:n,attrs:{shape:[l,a]}}),f=Ie({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let b;re().getBool("WEBGL_PACK")?b=new HOe(l,a,p.shape.length,f.shape.length,u,h):b=new t3(l,a,p.shape.length,f.shape.length,u,h);const g=n.runWebGLProgram(b,[f,p,m],f.dtype),x=Ie({inputs:{x:g},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),x}const GOe={kernelName:NT,backendName:"webgl",kernelFunc:WOe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qOe{constructor(e,n,i,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,i];const o="while (left < right) {",r="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),a=re().getNumber("WEBGL_VERSION")===2?o:r,l=s==="left"?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(a,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(l," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KOe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:s,values:o}=e,{side:r}=i,a=new qOe(s.shape[0],s.shape[1],o.shape[1],r),l=[[s.shape[1]]];return n.runWebGLProgram(a,[s,o],"int32",l)}const XOe={kernelName:OT,backendName:"webgl",kernelFunc:KOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YOe{constructor(e,n,i){this.variableNames=["c","a","b"],this.outputShape=n;let s,o;if(i>4)throw Error("Where for rank ".concat(i," is not yet supported"));if(i===1)o="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push("".concat(a[u])),u<e&&l.push("".concat(a[u]));s=l.join(),o=c.join()}const r=At(i);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        float cVal = getC(").concat(s,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZOe(t){const{inputs:e,backend:n}=t,{condition:i,t:s,e:o}=e,r=new YOe(i.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(r,[i,s,o],ds(s.dtype,o.dtype))}const JOe={kernelName:bv,backendName:"webgl",kernelFunc:ZOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QOe="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(Qv,";\n  float scale = ").concat(e1,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),e5e=wt({opSnippet:QOe}),t5e={kernelName:Fm,backendName:"webgl",kernelFunc:e5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n5e=Fh+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",i5e="\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",s5e=wt({opSnippet:n5e,packedOpSnippet:i5e,cpuKernelImpl:i$e}),o5e={kernelName:jm,backendName:"webgl",kernelFunc:s5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r5e="\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n",a5e=wt({opSnippet:r5e}),l5e={kernelName:Mm,backendName:"webgl",kernelFunc:a5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c5e=Fh+"\n  return sin(x);\n",u5e="\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(Eu,"\n  return result;\n"),d5e=wt({opSnippet:c5e,packedOpSnippet:u5e}),h5e={kernelName:Pm,backendName:"webgl",kernelFunc:d5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p5e="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",f5e=wt({opSnippet:p5e}),m5e={kernelName:Bm,backendName:"webgl",kernelFunc:f5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g5e="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",b5e=wt({opSnippet:g5e}),x5e={kernelName:Um,backendName:"webgl",kernelFunc:b5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y5e=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:o,paddings:r}=i;R(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((g,x)=>g*x),l=[[0,0]];l.push(...r);for(let g=1+o.length;g<s.shape.length;++g)l.push([0,0]);const c=[],u=x9({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),d=sg(u.shape,o,a,!1),h=og(d.length,o.length,!1),p=rg(u.shape,o,a,!1),f=Ie({inputs:{x:u},backend:n,attrs:{shape:d}}),m=Ri({inputs:{x:f},backend:n,attrs:{perm:h}}),b=Ie({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),b},v5e={kernelName:vv,backendName:"webgl",kernelFunc:y5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w5e(t){const{inputs:e,backend:n}=t,{indices:i,values:s,denseShape:o,defaultValue:r}=e;if(o.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n         ".concat(i.shape));if(s.shape.length!==1)throw new Error("Values must be a vector, saw:\n         ".concat(s.shape));if(r.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(r.shape));const a=n.readSync(i.dataId),l=n.readSync(s.dataId),c=n.readSync(o.dataId),u=n.readSync(r.dataId)[0],[d,h,p,f,m]=o$e(a,i.shape,i.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],s.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const k5e={kernelName:RT,backendName:"webgl",kernelFunc:w5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5e(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:s,newShape:o}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape ".concat(i.shape));if(s.shape.length!==1)throw new Error("Input shape should be a vector but received shape ".concat(s.shape));if(o.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const r=Array.from(n.readSync(s.dataId)),a=n.readSync(i.dataId),l=Array.from(n.readSync(o.dataId)),[c,u,d]=r$e(a,i.shape,i.dtype,r,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const C5e={kernelName:LT,backendName:"webgl",kernelFunc:S5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5e(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error("Indices should be a vector but received shape\n              ".concat(s.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));const r=n.readSync(i.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[c,u]=V7(r,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const T5e={kernelName:zT,backendName:"webgl",kernelFunc:E5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error("Indices should be a vector but received shape\n             ".concat(s.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));const r=n.readSync(i.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[c,u]=V7(r,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const $5e={kernelName:FT,backendName:"webgl",kernelFunc:I5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _5e(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:s,sparseValues:o,defaultValue:r}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=vu(o,s,a),p=!1;if(o.dtype==="string"){const g=n.bufferSync(s),x=n.bufferSync(o),y=gl(n.readSync(r.dataId)[0]),v=n$e(g,x,a,h,u,c,l,d,y,p);return n.makeTensorInfo(a,v.dtype,v.values)}const f=new t3(c,l,s.shape.length,o.shape.length,d,[h,1],p),m=n.runWebGLProgram(f,[o,s,r],o.dtype),b=Ie({inputs:{x:m},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),b}const A5e={kernelName:PT,backendName:"webgl",kernelFunc:_5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{numOrSizeSplits:o,axis:r}=i,a=ct(r,s.shape)[0],l=p$(s,o,a),c=s.shape.length,u=new Array(c).fill(0),d=s.shape.slice();return l.map(h=>{const p=[...d];p[a]=h;const f=Ph({inputs:{x:s},backend:n,attrs:{begin:u,size:p}});return u[a]+=h,f})}const D5e={kernelName:wv,backendName:"webgl",kernelFunc:N5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uD="return sqrt(x);",O5e=wt({opSnippet:uD,packedOpSnippet:uD,cpuKernelImpl:a$e}),R5e={kernelName:Vm,backendName:"webgl",kernelFunc:O5e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L5e="return x * x;",z5e=wt({opSnippet:L5e}),F5e={kernelName:BT,backendName:"webgl",kernelFunc:z5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dD="return (a - b) * (a - b);",P5e=mi({opSnippet:dD,packedOpSnippet:dD}),B5e={kernelName:Hm,backendName:"webgl",kernelFunc:P5e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const o=n.readSync(s.dataId),r=ma(o),a=l$e(r,"string",i);return n.makeTensorInfo(s.shape,"string",a)}const j5e={kernelName:Sv,backendName:"webgl",kernelFunc:M5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U5e({inputs:t,attrs:e,backend:n}){const{x:i}=t,s=$o+"\n    return x > 0.0 ? 1.0 : float(".concat(e.alpha,");\n  "),o=new fr(i.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}const V5e={kernelName:Xm,backendName:"webgl",kernelFunc:U5e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H5e{constructor(e,n,i){this.variableNames=["x"],this.outputShape=i;const s=i.length,o=At(i.length),r=At(i.length);let a="";if(s===1)a="coords * strides + begin";else{let l=0;a=i.map((c,u)=>(l++,i.length===1?"coords * strides[".concat(u,"] + begin[").concat(u,"]"):"coords[".concat(l-1,"] * strides[").concat(u,"] + begin[").concat(u,"]"))).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(e,");\n      ").concat(o," strides = ").concat(o,"(").concat(n,");\n\n      void main() {\n        ").concat(r," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:o,end:r,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=XI(s.shape,o,r,a,l,c,u,d,h);let w;if(m)w=Ie({inputs:{x:s},backend:n,attrs:{shape:f}});else if(b||g){R(s.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(s.shape.length));const k=GI(x,y,v),E=Ph({inputs:{x:s},backend:n,attrs:{begin:x,size:k}});w=Ie({inputs:{x:E},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(E)}else if(n.shouldExecuteOnCPU([s])){const E=n.readSync(s.dataId),T=nt(s.shape,s.dtype,E),_=c$e(p,T,v,x);w=n.makeTensorInfo(f,s.dtype,_.values)}else{const E=new H5e(x,v,p);w=n.runWebGLProgram(E,[s],s.dtype)}const C=Ie({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),C}const G5e={kernelName:MT,backendName:"webgl",kernelFunc:W5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q5e(t){const{inputs:e,backend:n,attrs:i}=t,{separator:s,nGramWidths:o,leftPad:r,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[f,m]=u$e(h,p,s,o,r,a,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}const K5e={kernelName:jT,backendName:"webgl",kernelFunc:q5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5e(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:s}=i,{input:o,delimiter:r}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(r.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(r.shape));const a=n.readSync(o.dataId),l=n.readSync(r.dataId)[0],[c,u,d]=d$e(a,l,s),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const Y5e={kernelName:UT,backendName:"webgl",kernelFunc:X5e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:s}=i,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const r=n.readSync(o.dataId),a=h$e(r,s);return n.makeTensorInfo(o.shape,"int32",a)}const J5e={kernelName:VT,backendName:"webgl",kernelFunc:Z5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q5e="return tan(x);",eRe=wt({opSnippet:Q5e}),tRe={kernelName:Gm,backendName:"webgl",kernelFunc:eRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nRe="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",iRe=wt({opSnippet:nRe}),sRe={kernelName:qm,backendName:"webgl",kernelFunc:iRe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oRe(t){const{inputs:e,backend:n,attrs:i}=t,{tensor:s,indices:o,updates:r}=e,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=vu(r,o,s.shape),h=[d/c,c];if(d===0)return n.makeTensorInfo(s.shape,o.dtype);const p=Ie({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),f=Ie({inputs:{x:r},backend:n,attrs:{shape:[l,c]}}),m=Ie({inputs:{x:s},backend:n,attrs:{shape:h}}),b=new t3(l,a,p.shape.length,f.shape.length,u,h,!1,!0),g=n.runWebGLProgram(b,[f,p,m],m.dtype),x=Ie({inputs:{x:g},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),x}const rRe={kernelName:DT,backendName:"webgl",kernelFunc:oRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aRe{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let r=0;r<i.length;r++)i[r]=e[r]*n[r];this.outputShape=i,this.rank=i.length;const s=At(this.rank),o=lRe(e);this.userCode="\n      void main() {\n        ".concat(s," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}}function lRe(t){const e=t.length;if(e>5)throw Error("Tile for rank ".concat(e," is not yet supported"));if(e===1)return"imod(resRC, ".concat(t[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let s=0;s<t.length;s++)i.push("imod(".concat(n[s],", ").concat(t[s],")"));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v9(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reps:o}=i;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),c=s.dtype==="string"?l.map(h=>gl(h)):l,u=nt(s.shape,s.dtype,c),d=f$e(u,o);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const r=new aRe(s.shape,o);return n.runWebGLProgram(r,[s],s.dtype)}const cRe={kernelName:Km,backendName:"webgl",kernelFunc:v9};class uRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class dRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jl(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function hD(t){let e=1;for(;e<t;)e*=2;return e}function hRe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{k:o,sorted:r}=i,a=re().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=re().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<a||o>l){const _=n.readSync(s.dataId),[z,N]=m$e(_,c,s.dtype,o,r);return[n.makeTensorInfo(z.shape,z.dtype,z.values),n.makeTensorInfo(N.shape,N.dtype,N.values)]}if(o===0)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[s,vg({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(s.dataId),h=d!==null&&d.isPacked,p=h?n.unpackTensor(s):s,m=ae(c)/u,b=Ie({inputs:{x:p},attrs:{shape:[m,u]},backend:n});h&&Jl(n,p);const g=hD(o),x=hD(u);let y=null;const v=()=>y===null?[b,b]:[b,y],w=(_,z,N)=>{const O=v(),I=new uRe(N),F=[[u],[y===null?1:0],[Number.NEGATIVE_INFINITY],[_],[z]],j=y;y=n.runWebGLProgram(I,O,"int32",F),Jl(n,j)};for(let _=1;_<g;_*=2){const z=_*2;for(let N=_;N>=1;N/=2)w(z,N,[m,x])}for(let _=x;_>g;_/=2){const z=v(),N=new dRe([m,_/2]),I=[[u],[y===null?1:0],[g]],L=y;y=n.runWebGLProgram(N,z,"int32",I),Jl(n,L);const F=g/2,j=F*2;for(let H=F;H>=1;H/=2)w(j,H,y.shape)}let C=y;y=Ph({inputs:{x:y},backend:n,attrs:{begin:0,size:[m,o]}}),Jl(n,C);let k=h9({inputs:{x:b,indices:y},backend:n,attrs:{axis:1,batchDims:1}});Jl(n,b);const E=c.slice(0,-1);E.push(o),C=y,y=Ie({inputs:{x:y},attrs:{shape:E},backend:n}),Jl(n,C);const T=k;return k=Ie({inputs:{x:k},attrs:{shape:E},backend:n}),Jl(n,T),[k,y]}const pRe={kernelName:HT,backendName:"webgl",kernelFunc:hRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fRe{constructor(e,n,i,s,o,r){this.variableNames=["Image","Transforms"],this.outputShape=r;const a=i==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(l," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(a," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mRe(t){const{inputs:e,backend:n,attrs:i}=t,{image:s,transforms:o}=e,{interpolation:r,fillMode:a,fillValue:l,outputShape:c}=i,[u,d,h,p]=s.shape,[f,m]=c!=null?c:[d,h],b=[u,f,m,p],g=new fRe(d,h,r,a,l,b);return n.runWebGLProgram(g,[s,o],"float32")}const gRe={kernelName:WT,backendName:"webgl",kernelFunc:mRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bRe(t){const{inputs:e,attrs:n,backend:i}=t,{axis:s}=n,{x:o}=e;bg(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const r=i.readSync(o.dataId),{outputValues:a,outputShape:l,indices:c}=g$e(r,s,o.shape,o.dtype);return[i.makeTensorInfo(l,o.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const xRe={kernelName:GT,backendName:"webgl",kernelFunc:bRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yRe(t){const{inputs:e,backend:n,attrs:i}=t,{value:s}=e;let{axis:o}=i;o<0&&(o+=s.shape.length);const r=s,a=r.shape.length,l=s.shape[o],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==o&&(c[u++]=r.shape[m]);const d=[],h=new Array(a).fill(0),p=r.shape.slice();p[o]=1;const f=new Array(l);for(let m=0;m<f.length;m++){h[o]=m;const b=Ph({inputs:{x:r},backend:n,attrs:{begin:h,size:p}}),g=Ie({inputs:{x:b},backend:n,attrs:{shape:c}});f[m]=g,d.push(b)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),f}const vRe={kernelName:Cv,backendName:"webgl",kernelFunc:yRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wRe{constructor(e,n){this.variableNames=["x","segmentIds"];const i=e.windowSize,s=e.batchSize,o=e.inSize,r=e.numSegments,a=r*Math.ceil(o/i);this.outputShape=[s,a];const l="0.0",c="sumValue",u=Math.floor(i/4)*4,d=i%4,h="\n        sumValue += dot(values, segFilter);\n    ";let p="";o%i>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));let f="";o%i>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(l,";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(f,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(r,")) * float(").concat(i,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(r,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kRe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,segmentIds:o}=e,{numSegments:r}=i,a=s.shape.length,l=[];let c=0;const u=sn([c],a);let d=s;u!=null&&(d=Ri({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(d),c=xn(1,a)[0]);const h=JF(d.shape,c,r),p=ae([d.shape[c]]),f=Ie({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=XT(s.dtype),b=(v,w,C,k,E)=>{const T=v.shape[0],_=v.shape[1],z=ZF(_,E),N={windowSize:z,inSize:_,batchSize:T,numSegments:E},O=new wRe(N,w),I=n.compileAndRun(O,[v,C],k);if(l.push(I),I.shape[1]===E)return I;const L=y9({backend:n,attrs:{start:0,stop:E,step:1,dtype:"float32"}}),F=v9({inputs:{x:L},backend:n,attrs:{reps:[_/z]}});return l.push(L),l.push(F),b(I,w,F,k,E)},g=b(f,"unsortedSegmentSum",o,m,r),x=Ie({inputs:{x:g},backend:n,attrs:{shape:h}});let y=x;if(u!=null){l.push(x);const v=Fl(u);y=Ri({inputs:{x:y},backend:n,attrs:{perm:v}})}return l.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const SRe={kernelName:Ev,backendName:"webgl",kernelFunc:kRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CRe=[a3e,c3e,h3e,m3e,b3e,v3e,k3e,C3e,$3e,A3e,O3e,z3e,B3e,V3e,G3e,K3e,Y3e,e_e,n_e,s_e,l_e,m_e,b_e,w_e,S_e,__e,N_e,L_e,H$e,P_e,V_e,q_e,Q_e,nAe,sAe,rAe,lAe,hAe,mAe,xAe,vAe,kAe,CAe,IAe,_Ae,OAe,LAe,PAe,jAe,VAe,qAe,ZAe,t4e,s4e,a4e,l4e,u4e,h4e,f4e,g4e,x4e,k4e,E4e,$4e,A4e,O4e,z4e,M4e,H4e,V$e,G4e,j_e,X4e,J4e,tNe,G$e,oNe,cNe,dNe,mNe,xNe,kNe,ENe,_Ne,ONe,zNe,PNe,UNe,HNe,GNe,YNe,JNe,eDe,nDe,sDe,lDe,hDe,gDe,CDe,X$e,$De,NDe,RDe,FDe,E_e,MDe,UDe,HDe,qDe,ZDe,K$e,QDe,tOe,iOe,oOe,rOe,T_e,vDe,cOe,pOe,bOe,Z$e,wOe,COe,$Oe,NOe,LOe,FOe,MOe,VOe,GOe,XOe,JOe,t5e,o5e,l5e,h5e,m5e,p_e,kDe,x5e,v5e,k5e,C5e,T5e,$5e,A5e,D5e,R5e,F5e,B5e,j5e,V5e,G5e,K5e,Y5e,J5e,wDe,s3e,tRe,sRe,rRe,cRe,pRe,gRe,o3e,xRe,vRe,SRe,jDe];for(const t of CRe)y8(t);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Zu(t,e,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((i=i.apply(t,[])).next())})}function Ju(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{i=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ERe=function(t){t.startEndTensor.dispose(),t.startPoint.dispose(),t.endPoint.dispose()},IS=function(t){return{startEndTensor:t,startPoint:qe(t,[0,0],[-1,2]),endPoint:qe(t,[0,2],[-1,2])}},TRe=function(t,e){var n=K(t.startPoint,e),i=K(t.endPoint,e),s=Av([n,i],1);return IS(s)};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var IRe={strides:[8,16],anchors:[2,6]},pD=6;function $Re(t,e,n){for(var i=[],s=0;s<n.strides.length;s++)for(var o=n.strides[s],r=Math.floor((e+o-1)/o),a=Math.floor((t+o-1)/o),l=n.anchors[s],c=0;c<r;c++)for(var u=o*(c+.5),d=0;d<a;d++)for(var h=o*(d+.5),p=0;p<l;p++)i.push([h,u]);return i}function _Re(t,e,n){var i=qe(t,[0,1],[-1,2]),s=fe(i,e),o=qe(t,[0,3],[-1,2]),r=Oe(o,n),a=Oe(s,n),l=Oe(r,2),c=Ne(a,l),u=fe(a,l),d=K(c,n),h=K(u,n),p=1;return Av([d,h],p)}function ARe(t){return t instanceof It?[t.shape[0],t.shape[1]]:[t.height,t.width]}function fD(t,e){var n,i,s;if(t.topLeft instanceof It&&t.bottomRight instanceof It){var o=ie(function(){return[dn([qe(Ne(e-1,t.topLeft),0,1),qe(t.topLeft,1,1)]),dn([Ne(e-1,qe(t.bottomRight,0,1)),qe(t.bottomRight,1,1)])]}),r=o[0],a=o[1];n=r,i=a,t.landmarks!=null&&(s=ie(function(){var m=Ne(Hn([e-1,0]),t.landmarks),b=Hn([1,-1]),g=K(m,b);return g}))}else{var l=t.topLeft,c=l[0],u=l[1],d=t.bottomRight,h=d[0],p=d[1];n=[e-1-c,u],i=[e-1-h,p],t.landmarks!=null&&(s=t.landmarks.map(function(m){return[e-1-m[0],m[1]]}))}var f={topLeft:n,bottomRight:i};return s!=null&&(f.landmarks=s),t.probability!=null&&(f.probability=t.probability instanceof It?t.probability.clone():t.probability),f}function mD(t,e){return ie(function(){var n;return t.hasOwnProperty("box")?n=t.box:n=t,Go(TRe(n,e).startEndTensor)})}var NRe=function(){function t(e,n,i,s,o,r){this.blazeFaceModel=e,this.width=n,this.height=i,this.maxFaces=s,this.anchorsData=$Re(n,i,IRe),this.anchors=$c(this.anchorsData),this.inputSizeData=[n,i],this.inputSize=Hn([n,i]),this.iouThreshold=o,this.scoreThreshold=r}return t.prototype.getBoundingBoxes=function(e,n,i){return i===void 0&&(i=!0),Zu(this,void 0,void 0,function(){var s,o,r,a,l,c,u,d,h,p,f,m,b,g,x=this;return Ju(this,function(y){switch(y.label){case 0:return s=ie(function(){var v=uo.resizeBilinear(e,[x.width,x.height]),w=K(Ne(Oe(v,255),.5),2),C=x.blazeFaceModel.predict(w),k=Go(C),E=_Re(k,x.anchors,x.inputSize),T=qe(k,[0,0],[-1,1]),_=Go(Wo(T));return[k,E,_]}),o=s[0],r=s[1],a=s[2],l=console.warn,console.warn=function(){},c=uo.nonMaxSuppression(r,a,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=l,[4,c.array()];case 1:return u=y.sent(),c.dispose(),d=u.map(function(v){return qe(r,[v,0],[1,-1])}),n?[3,3]:[4,Promise.all(d.map(function(v){return Zu(x,void 0,void 0,function(){var w;return Ju(this,function(C){switch(C.label){case 0:return[4,v.array()];case 1:return w=C.sent(),v.dispose(),[2,w]}})})}))];case 2:d=y.sent(),y.label=3;case 3:for(h=e.shape[1],p=e.shape[2],n?f=Oe([p,h],this.inputSize):f=[p/this.inputSizeData[0],h/this.inputSizeData[1]],m=[],b=function(v){var w=d[v],C=ie(function(){var k=w instanceof It?IS(w):IS($c(w));if(!i)return k;var E=u[v],T;n?T=qe(x.anchors,[E,0],[1,2]):T=x.anchorsData[E];var _=Y(Go(qe(o,[E,pD-1],[1,-1])),[pD,-1]),z=qe(a,[E],[1]);return{box:k,landmarks:_,probability:z,anchor:T}});m.push(C)},g=0;g<d.length;g++)b(g);return r.dispose(),a.dispose(),o.dispose(),[2,{boxes:m,scaleFactor:f}]}})})},t.prototype.estimateFaces=function(e,n,i,s){return n===void 0&&(n=!1),i===void 0&&(i=!1),s===void 0&&(s=!0),Zu(this,void 0,void 0,function(){var o,r,a,l,c,u,d=this;return Ju(this,function(h){switch(h.label){case 0:return o=ARe(e),r=o[1],a=ie(function(){return e instanceof It||(e=Sge(e)),xi(_e(e,"float32"),0)}),[4,this.getBoundingBoxes(a,n,s)];case 1:return l=h.sent(),c=l.boxes,u=l.scaleFactor,a.dispose(),n?[2,c.map(function(p){var f=mD(p,u),m={topLeft:qe(f,[0],[2]),bottomRight:qe(f,[2],[2])};if(s){var b=p,g=b.landmarks,x=b.probability,y=b.anchor,v=K(fe(g,y),u);m.landmarks=v,m.probability=x}return i&&(m=fD(m,r)),m})]:[2,Promise.all(c.map(function(p){return Zu(d,void 0,void 0,function(){var f,m,x,b,g,x,y,v,w,C,k,E,T=this;return Ju(this,function(_){switch(_.label){case 0:return f=mD(p,u),s?[3,2]:[4,f.array()];case 1:return x=_.sent(),m={topLeft:x.slice(0,2),bottomRight:x.slice(2)},[3,4];case 2:return[4,Promise.all([p.landmarks,f,p.probability].map(function(z){return Zu(T,void 0,void 0,function(){return Ju(this,function(N){return[2,z.array()]})})}))];case 3:b=_.sent(),g=b[0],x=b[1],y=b[2],v=p.anchor,w=u,C=w[0],k=w[1],E=g.map(function(z){return[(z[0]+v[0])*C,(z[1]+v[1])*k]}),m={topLeft:x.slice(0,2),bottomRight:x.slice(2),landmarks:E,probability:y},ERe(p.box),p.landmarks.dispose(),p.probability.dispose(),_.label=4;case 4:return f.dispose(),i&&(m=fD(m,r)),[2,m]}})})}))]}})})},t.prototype.dispose=function(){this.blazeFaceModel.dispose(),this.anchors.dispose(),this.inputSize.dispose()},t}();/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var DRe="https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1";function ORe(t){var e=t===void 0?{}:t,n=e.maxFaces,i=n===void 0?10:n,s=e.inputWidth,o=s===void 0?128:s,r=e.inputHeight,a=r===void 0?128:r,l=e.iouThreshold,c=l===void 0?.3:l,u=e.scoreThreshold,d=u===void 0?.75:u,h=e.modelUrl;return Zu(this,void 0,void 0,function(){var p,f;return Ju(this,function(m){switch(m.label){case 0:return h==null?[3,2]:[4,DN(h)];case 1:return p=m.sent(),[3,4];case 2:return[4,DN(DRe,{fromTFHub:!0})];case 3:p=m.sent(),m.label=4;case 4:return f=new NRe(p,o,a,i,c,d),[2,f]}})})}const RRe=({initialEnabled:t=!1,onToggleChange:e,disabled:n})=>{const[i,s]=te.useState(t),[o,r]=te.useState(null),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(""),[p,f]=te.useState(!1),[m,b]=te.useState(!1),[g,x]=te.useState(""),[y,v]=te.useState(!1),w=te.useRef(null),C=te.useRef(null),k=te.useRef(null),E=te.useRef(null);te.useEffect(()=>(t&&T(),()=>H()),[]);const T=async()=>{try{const{data:{user:U}}=await Te.auth.getUser();if(!U)throw new Error("No authenticated user");const{data:B}=await Te.from("user_facial_enrollments").select("storage_path").eq("user_id",U.id).single();if(!(B!=null&&B.storage_path))throw new Error("No enrollment found");const{data:V}=await Te.storage.from("facial-recognition").createSignedUrl(B.storage_path,3600);if(!V)throw new Error("Failed to generate signed URL");r(V.signedUrl),s(!0)}catch(U){console.error("Photo check error:",U),await j()}},_=async()=>{try{await Jle(),await Zle("webgl");const U=await ORe({maxFaces:1,inputWidth:128,inputHeight:128,iouThreshold:.3,scoreThreshold:.75});return k.current=U,!0}catch(U){return console.error("Model loading error:",U),h("Failed to load face detection model"),u(!0),!1}},z=async()=>{if(!(!w.current||!k.current))try{const U=await k.current.estimateFaces(w.current,!1);if(U.length===1){x("Face detected! Capturing..."),await O();return}else U.length>1?x("Multiple faces detected. Please ensure only one face is visible."):x("Align your face in the center");E.current=requestAnimationFrame(z)}catch(U){console.error("Detection error:",U),E.current=requestAnimationFrame(z)}},N=async()=>{if(w.current)try{if(x("Loading face detection model..."),b(!0),!await _())return;x("Detecting faces..."),z()}catch(U){console.error("Face detection init error:",U),h("Automatic detection failed. Please try manually."),u(!0),b(!1),x("")}},O=async()=>{if(!w.current||!C.current)return;const U=C.current,B=U.getContext("2d");B&&(U.width=w.current.videoWidth,U.height=w.current.videoHeight,B.drawImage(w.current,0,0,U.width,U.height),U.toBlob(async V=>{V&&await L(V),M()},"image/jpeg",.9))},I=async()=>{try{f(!0),v(!0);const U=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});w.current&&(w.current.srcObject=U,w.current.style.transform="scaleX(-1)",w.current.style.width="100%",w.current.style.height="100%",w.current.style.objectFit="cover",await new Promise(B=>{w.current.onloadedmetadata=B}),await w.current.play(),v(!1),N())}catch(U){console.error("Camera error:",U),v(!1);let B="Camera access required";U instanceof Error&&(U.name==="NotAllowedError"?B="Camera permission denied":U.name==="NotFoundError"&&(B="No camera found")),h(B),u(!0),s(!1),e(!1)}},L=async U=>{l(!0);try{const{data:{user:B}}=await Te.auth.getUser();if(!B)throw new Error("Not authenticated");const V="".concat(B.id,"/profile_").concat(Date.now(),".jpg"),{error:ee}=await Te.storage.from("facial-recognition").upload(V,U,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(ee)throw ee;const{error:J}=await Te.from("user_facial_enrollments").upsert({user_id:B.id,storage_path:V},{onConflict:"user_id"});if(J)throw J;const{data:{publicUrl:Z}}=Te.storage.from("facial-recognition").getPublicUrl(V);r(Z),s(!0),e(!0),h("Face registered successfully!")}catch(B){console.error("Upload error:",B),h("Error: ".concat(B instanceof Error?B.message:"Failed to save")),s(!1),e(!1)}finally{l(!1)}},F=async U=>{if(!U.detail.checked){await j();return}o||await I()},j=async()=>{try{const{data:{user:U}}=await Te.auth.getUser();if(U){const{data:B}=await Te.from("user_facial_enrollments").select("storage_path").eq("user_id",U.id).single();await Te.from("user_facial_enrollments").delete().eq("user_id",U.id),B!=null&&B.storage_path&&await Te.storage.from("facial-recognition").remove([B.storage_path])}}catch(U){console.error("Cleanup error:",U)}finally{r(null),s(!1),e(!1)}},H=()=>{var U;E.current&&cancelAnimationFrame(E.current),(U=w.current)!=null&&U.srcObject&&w.current.srcObject.getTracks().forEach(B=>B.stop()),b(!1),x(""),v(!1)},M=()=>{H(),f(!1)};return S.jsxs("div",{className:"ion-padding",children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(ii,{children:S.jsx("strong",{children:"Facial Recognition"})}),a?S.jsx(fo,{name:"crescent"}):S.jsx(Vx,{checked:i,onIonChange:F,disabled:a||n})]}),o&&S.jsx(qi,{children:S.jsx(Gi,{children:S.jsx(rl,{children:S.jsx(Vo,{className:"ion-justify-content-center",children:S.jsxs(Os,{size:"12",className:"ion-text-center",children:[S.jsx(Ux,{src:o,style:{width:"150px",height:"150px",borderRadius:"50%",margin:"0 auto",objectFit:"cover"}}),S.jsx(_n,{color:"success",children:S.jsx("p",{children:"Face registered"})})]})})})})}),S.jsxs(yr,{isOpen:p,onDidDismiss:M,style:{"--width":"100%","--height":"100%","--border-radius":"0","--background":"#000"},children:[S.jsx(Gn,{children:S.jsx(qn,{color:"primary",children:S.jsx(wi,{children:"Register Your Face"})})}),S.jsx(nn,{children:S.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:[S.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,style:{transform:"scaleX(-1)",width:"100%",height:"100%",objectFit:"cover"}}),y&&S.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white"},children:[S.jsx(fo,{name:"lines"}),S.jsx("p",{style:{marginLeft:"10px"},children:"Initializing camera..."})]}),m&&!y&&S.jsxs("div",{style:{position:"absolute",bottom:"20px",left:0,right:0,textAlign:"center",color:"white",backgroundColor:"rgba(0,0,0,0.5)",padding:"10px"},children:[S.jsx(fo,{name:"crescent",color:"light"}),S.jsx("p",{children:g})]})]})}),S.jsx(fte,{children:S.jsxs(qn,{children:[S.jsxs(Ge,{expand:"block",onClick:O,color:"primary",disabled:a||y,children:[S.jsx(Qe,{icon:Boe,slot:"start"}),a?"Processing...":"Capture Manually"]}),S.jsxs(Ge,{expand:"block",color:"medium",onClick:M,disabled:y,children:[S.jsx(Qe,{icon:Qf,slot:"start"}),"Cancel"]})]})})]}),S.jsx(Al,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:3e3,position:"top"})]})},LRe=({initialEnabled:t,onToggleChange:e,disabled:n})=>{const[i,s]=te.useState(t),[o,r]=te.useState(""),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(""),[p,f]=te.useState("success"),[m,b]=te.useState(!1);te.useEffect(()=>{g()},[]),te.useEffect(()=>{s(t)},[t]);const g=async()=>{try{l(!0);const{data:{user:w},error:C}=await Te.auth.getUser();if(C||!w){console.log("No authenticated user");return}const{data:k,error:E}=await Te.from("user_voice_passwords").select("password").eq("user_id",w.id).single();if(E||!k){console.log("No existing voice password found");return}r(k.password),b(!0),s(!0),e(!0)}catch(w){console.error("Error checking for voice password:",w)}finally{l(!1)}},x=async w=>{!w&&m?await v():(r(""),s(w),e(w))},y=async()=>{if(!o.trim()){h("Please enter a voice password"),f("warning"),u(!0);return}l(!0);try{const{data:{user:w},error:C}=await Te.auth.getUser();if(C||!w)throw new Error((C==null?void 0:C.message)||"Not authenticated");const{error:k}=await Te.from("user_voice_passwords").upsert({user_id:w.id,password:o},{onConflict:"user_id"});if(k)throw k;h("Voice password saved successfully"),f("success"),s(!0),b(!0),e(!0)}catch(w){console.error("Error saving voice password:",w),h("Failed to save voice password"),f("danger"),s(!1),e(!1)}finally{l(!1),u(!0)}},v=async()=>{l(!0);try{const{data:{user:w}}=await Te.auth.getUser();w&&await Te.from("user_voice_passwords").delete().eq("user_id",w.id),r(""),s(!1),b(!1),e(!1),h("Voice password removed"),f("success"),u(!0)}catch(w){console.error("Error removing voice password:",w),h("Failed to remove voice password"),f("danger"),u(!0)}finally{l(!1)}};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[S.jsx(ii,{style:{marginLeft:"1rem"},children:S.jsx("strong",{children:"Enable Voice Password"})}),a?S.jsx(fo,{style:{marginLeft:"1rem"},name:"crescent"}):S.jsx(Vx,{style:{marginLeft:"1rem"},checked:i,onIonChange:w=>x(w.detail.checked),disabled:n||a})]}),i&&S.jsx(qi,{style:{width:"100%",maxWidth:"400px",marginLeft:"1rem"},children:S.jsx(Gi,{children:m?S.jsxs(S.Fragment,{children:[S.jsx(Cn,{label:"Your voice password is saved",labelPlacement:"floating",value:"********",disabled:!0,type:"password"}),S.jsx("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:S.jsx(Ge,{color:"danger",onClick:v,disabled:a||n,children:"Remove Voice Password"})})]}):S.jsxs(S.Fragment,{children:[S.jsx(Cn,{label:"Enter voice password",labelPlacement:"floating",value:o,onIonChange:w=>r(w.detail.value),disabled:a||n,type:"password"}),S.jsxs("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:[S.jsx(Ge,{onClick:y,disabled:a||n||!o.trim(),children:a?"Saving...":"Submit"}),S.jsx(Ge,{fill:"outline",color:"danger",onClick:v,disabled:a||n,children:"Cancel"})]})]})})}),S.jsx(Al,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:2e3,color:p,position:"top"})]})},zRe=()=>{const[t,e]=te.useState(!1),[n,i]=te.useState([]),[s,o]=te.useState(!1),[r,a]=te.useState(""),[l,c]=te.useState(!1),[u,d]=te.useState(!1),[h,p]=te.useState(!1),[f,m]=nle(),[b,g]=te.useState(null),[x,y]=te.useState(!0),[v,w]=te.useState(null);te.useEffect(()=>{(async()=>{var F;try{const{data:{user:j},error:H}=await Te.auth.getUser();if(H)throw H;if(j){g(j);const{data:M,error:U}=await Te.from("recovery_codes").select("code_hash, code_status").eq("user_id",j.id).eq("code_status","active");if(U)throw U;const{count:B}=await Te.from("totp_codes").select("*",{count:"exact",head:!0}).eq("user_id",j.id).is("used_at",null),{data:V}=await Te.storage.from("facial-recognition").list("".concat(j.id,"/")),{data:ee}=await Te.from("voice_passwords").select("*").eq("user_id",j.id).is("verified_at",null).single(),J=(B!=null?B:0)>0,Z=(F=V==null?void 0:V.some(ve=>ve.name==="profile.jpg"))!=null?F:!1,pe=ee!==null;M&&i(M),e(M&&M.length>0||J||Z||pe),w(J?"totp":Z?"facial":pe?"voice":null)}}catch(j){console.error("Error checking MFA status:",j),a("Failed to load MFA status"),c(!0)}finally{y(!1)}})()},[]);const C=async L=>{const F=Array.from({length:5},()=>Math.floor(1e7+Math.random()*9e7).toString()),{data:j,error:H}=await Te.from("recovery_codes").insert(F.map(M=>({user_id:L,code_hash:M,code_status:"active"}))).select("code_hash, code_status");if(H)throw H;return j||[]},k=async L=>{const{error:F}=await Te.from("recovery_codes").delete().eq("user_id",L);if(F)throw F},E=async L=>{if(L.detail.checked)if(n.length===0)try{p(!0);const j=await C((b==null?void 0:b.id)||"");i(j),e(!0),a("MFA enabled with recovery codes!"),c(!0)}catch(j){a("Failed to enable MFA"),c(!0)}finally{p(!1)}else e(!0);else d(!0)},T=async L=>{if(d(!1),!!b){p(!0);try{await k(b.id);const{error:F,count:j}=await Te.from("user_totp").delete({count:"exact"}).eq("user_id",b.id);if(F)throw F;console.log("Deleted ".concat(j||0," TOTP records"));const{error:H}=await Te.from("user_facial_enrollments").delete().eq("user_id",b.id);if(H)throw H;try{const{data:U,error:B}=await Te.storage.from("facial-recognition").list(b.id);if(B)throw B;if(U&&U.length>0){const V=U.map(J=>"".concat(b.id,"/").concat(J.name)),{error:ee}=await Te.storage.from("facial-recognition").remove(V);if(ee)throw ee;console.log("Deleted ".concat(V.length," facial recognition files"))}}catch(U){console.error("Facial storage cleanup error:",U)}const{error:M}=await Te.from("user_voice_passwords").delete().eq("user_id",b.id);if(M)throw M;i([]),e(!1),w(null),a("All MFA methods disabled successfully!"),c(!0),await Te.from("audit_logs").insert({user_id:b.id,action:"mfa_disabled",details:{methods:["totp","recovery_codes","facial","voice"]}})}catch(F){console.error("Error disabling MFA:",F),a(F.message||"Failed to completely disable MFA. Some elements may remain active."),c(!0)}finally{p(!1)}}},_=async L=>{if(L){if(w("totp"),e(!0),n.length===0)try{const F=await C((b==null?void 0:b.id)||"");i(F)}catch(F){a("Failed to generate recovery codes"),c(!0)}}else v==="totp"&&w(null)},z=async L=>{if(L){if(w("facial"),e(!0),n.length===0)try{const F=await C((b==null?void 0:b.id)||"");i(F)}catch(F){a("Failed to generate recovery codes"),c(!0)}}else v==="facial"&&w(null)},N=async L=>{if(L){if(w("voice"),e(!0),n.length===0)try{const F=await C((b==null?void 0:b.id)||"");i(F)}catch(F){a("Failed to generate recovery codes"),c(!0)}}else v==="voice"&&w(null)},O=()=>{const L=n.map(F=>F.code_hash).join("\n");m(L),o(!0),setTimeout(()=>o(!1),2e3)},I=async()=>{if(b){p(!0);try{await k(b.id);const L=await C(b.id);i(L),a("Recovery codes regenerated!"),c(!0)}catch(L){console.error("Error regenerating codes:",L),a(L.message||"Failed to regenerate codes"),c(!0)}finally{p(!1)}}};return x?S.jsx(nn,{className:"ion-padding",children:S.jsx(fo,{name:"crescent"})}):S.jsxs(nn,{className:"ion-padding",children:[S.jsx(qi,{children:S.jsx(Gi,{children:S.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1px"},children:S.jsxs("div",{style:{flexGrow:1},children:[S.jsx("h2",{style:{margin:0},children:"Multi-Factor Authentication"}),S.jsx("p",{style:{margin:0,fontSize:"0.9em",color:"#666"},children:"Add an extra layer of security to your account"}),S.jsx(Vx,{checked:t,onIonChange:E,disabled:h})]})})})}),t&&S.jsxs(S.Fragment,{children:[n.length>0&&S.jsxs(qi,{children:[S.jsxs(rE,{children:[S.jsx(ud,{children:"Your Recovery Codes"}),S.jsxs(Ge,{expand:"block",onClick:I,color:"warning",disabled:h,children:[S.jsx(Qe,{slot:"start",icon:ire}),"Regenerate All Codes"]})]}),S.jsxs(Gi,{children:[S.jsx(_n,{color:"medium",children:S.jsx("p",{children:"Save these codes in a secure place. Each code can be used only once."})}),S.jsx(U6,{lines:"full",className:"ion-margin-vertical",children:n.map((L,F)=>S.jsx(Ui,{children:S.jsxs(ii,{children:[S.jsx("h3",{children:L.code_hash}),S.jsxs("p",{children:["Status: ",L.code_status]})]})},F))}),S.jsxs(Ge,{expand:"block",onClick:O,color:"primary",children:[S.jsx(Qe,{slot:"start",icon:s?joe:jL}),s?"Copied!":"Copy All Codes"]})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0px",marginTop:"10px"},children:[S.jsx(ile,{userId:(b==null?void 0:b.id)||"",initialEnabled:v==="totp",onToggleChange:_,disabled:!1}),S.jsx(RRe,{initialEnabled:v==="facial",onToggleChange:z,disabled:!1}),S.jsx(LRe,{initialEnabled:v==="voice",onToggleChange:N,disabled:!1}),S.jsx("h1",{children:"................"})]})]}),S.jsx(_l,{isOpen:u,onDidDismiss:()=>d(!1),header:"Disable MFA?",message:"Are you sure you want to disable Multi-Factor Authentication? This will make your account less secure.",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:()=>T()}]}),S.jsx(Al,{isOpen:l,onDidDismiss:()=>c(!1),message:r,duration:3e3,position:"top"})]})},FRe=()=>{const[t,e]=te.useState(""),[n,i]=te.useState(""),[s,o]=te.useState(""),[r,a]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[h,p]=te.useState(""),[f,m]=te.useState(null),[b,g]=te.useState(null),[x,y]=te.useState(!1),[v,w]=te.useState(""),[C,k]=te.useState(!1),[E,T]=te.useState(!0),_=dy();te.useEffect(()=>(console.log("EditProfile component mounted"),(async()=>{T(!0),console.log("Starting to fetch session and user data...");try{const{data:F,error:j}=await Te.auth.getSession();if(console.log("Session data:",F),console.log("Session error:",j),j||!(F!=null&&F.session)){console.error("No valid session found:",j),w("You must be logged in to access this page."),y(!0),_.push("/Cephaline-Supabase/login");return}console.log("Fetching user data for email:",F.session.user.email);const{data:H,error:M}=await Te.from("users").select("user_firstname, user_lastname, user_avatar_url, user_email, username").eq("user_email",F.session.user.email).single();if(console.log("User data:",H),console.log("User error:",M),M||!H){console.error("Failed to fetch user data:",M),w("Failed to load user data. Please try again."),y(!0);return}c(H.user_firstname||""),d(H.user_lastname||""),g(H.user_avatar_url),e(H.user_email||""),p(H.username||""),console.log("User data set in state")}catch(F){console.error("Error in fetchSessionAndData:",F),w("An unexpected error occurred. Please try again."),y(!0)}finally{T(!1),console.log("Finished loading user data")}})(),()=>{console.log("Component unmounting - cleaning up"),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Revoked blob URL"))}),[_]);const z=L=>{var j;console.log("Avatar input changed");const F=(j=L.target.files)==null?void 0:j[0];if(F){console.log("File selected:",F.name,F.size,F.type),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Previous blob URL revoked")),m(F);const H=URL.createObjectURL(F);g(H),console.log("New preview URL created:",H)}else console.log("No file selected")},N=()=>(console.log("Validating form..."),s&&s!==r?(console.log("Validation failed: Passwords dont match"),w("Passwords don't match."),!1):s&&!n?(console.log("Validation failed: Current password required"),w("Please enter your current password to change your password."),!1):!l||!u?(console.log("Validation failed: Missing name fields"),w("First name and last name are required."),!1):(console.log("Form validation passed"),!0)),O=async L=>{if(!f)return b;if(console.log("Starting avatar upload for user:",L),f.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(f.type))throw new Error("Only JPG, PNG, GIF, or WebP images are allowed");const j=f.name.split(".").pop(),H="avatar.".concat(j),M="".concat(L,"/").concat(H);try{if(b&&b.includes("user-avatars"))try{const V=b.split("user-avatars/")[1].split("?")[0];await Te.storage.from("user-avatars").remove([V])}catch(V){console.warn("Could not delete old avatar:",V)}const{error:U}=await Te.storage.from("user-avatars").upload(M,f,{cacheControl:"3600",upsert:!0,contentType:f.type});if(U)throw U;const{data:{publicUrl:B}}=Te.storage.from("user-avatars").getPublicUrl(M,{transform:{width:200,height:200,resize:"cover",quality:80}});return B}catch(U){throw console.error("Avatar upload failed:",U),new Error("Failed to upload avatar. Please try again.")}},I=async()=>{if(console.log("Update button clicked"),!N()){console.log("Validation failed - showing alert"),y(!0);return}k(!0),console.log("Starting update process...");try{const{data:L,error:F}=await Te.auth.getSession();if(console.log("Current session:",L),console.log("Session error:",F),F||!(L!=null&&L.session)){console.error("No valid session found"),w("Session expired. Please log in again."),y(!0),_.push("/Cephaline-Supabase/login");return}const j=L.session.user;if(console.log("User ID:",j.id),console.log("User email:",j.email),!j.email||!j.id){console.error("Incomplete user information"),w("User information is incomplete. Please log in again."),y(!0);return}if(s){console.log("Password change requested - verifying current password");const{error:U}=await Te.auth.signInWithPassword({email:j.email,password:n});if(console.log("Password verification result:",U),U){console.error("Current password verification failed"),w("Incorrect current password."),y(!0);return}}let H=b;try{console.log("Processing avatar upload..."),H=await O(j.id),console.log("Avatar URL after upload:",H)}catch(U){console.error("Avatar upload error:",U),w(U instanceof Error?U.message:"Failed to upload avatar"),y(!0);return}console.log("Updating user profile in database...");const{error:M}=await Te.from("users").update({user_firstname:l,user_lastname:u,user_avatar_url:H,username:h}).eq("user_email",j.email);if(console.log("Profile update result:",M),M){console.error("Profile update failed:",M),w("Profile update failed: ".concat(M.message)),y(!0);return}if(s){console.log("Updating password...");const{error:U}=await Te.auth.updateUser({password:s});if(console.log("Password update result:",U),U){console.error("Password update failed:",U),w("Password update failed: ".concat(U.message)),y(!0);return}}console.log("Profile update successful!"),w("Profile updated successfully!"),y(!0),setTimeout(()=>{console.log("Navigating back to app..."),_.push("/Cephaline-Supabase/app")},1500)}catch(L){console.error("Update error:",L),w("An unexpected error occurred. Please try again."),y(!0)}finally{k(!1),console.log("Update process completed")}};return S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(Oi,{slot:"start",children:S.jsx(rf,{defaultHref:"/Cephaline-Supabase/app"})})}),S.jsxs(nn,{className:"ion-padding",children:[S.jsx(c2,{isOpen:E,message:"Loading profile..."}),S.jsx(Ui,{children:S.jsx(_n,{color:"secondary",children:S.jsx("h1",{children:"Edit Account"})})}),S.jsx("br",{}),S.jsx(Hae,{avatarPreview:b,handleAvatarChange:z}),S.jsx(Wae,{username:h,firstName:l,lastName:u,setUsername:p,setFirstName:c,setLastName:d}),S.jsx(Gae,{password:s,confirmPassword:r,currentPassword:n,setPassword:o,setConfirmPassword:a,setCurrentPassword:i}),S.jsx(Ge,{expand:"full",onClick:I,shape:"round",disabled:C,children:C?"Updating...":"Update Account"}),S.jsx(zRe,{}),S.jsx(_l,{isOpen:x,onDidDismiss:()=>y(!1),message:v,buttons:["OK"]})]})]})},PRe=({markdownContent:t,onContentChange:e})=>S.jsx(qi,{style:{height:"400px",margin:"0 0 20px 0"},children:S.jsx(Gi,{style:{height:"100%",padding:"0"},children:S.jsx(aE,{value:t,placeholder:"Write your journal entry (supports Markdown formatting)...",autoGrow:!0,rows:6,onIonChange:n=>e(n.detail.value),style:{height:"100%",fontSize:"14px",padding:"10px"}})})}),BRe=({onSave:t,disabled:e,loading:n})=>S.jsx(Ge,{onClick:t,disabled:e||n,expand:"block",children:n?S.jsxs(S.Fragment,{children:[S.jsx(fo,{name:"crescent"}),"Saving..."]}):"Save Page"}),MRe=({selectedMood:t,onMoodChange:e})=>{const n=[{level:"angry",display:"Angry",min:0,max:20,color:"#F44336",icon:zoe},{level:"sad",display:"Sad",min:20,max:40,color:"#FF9800",icon:ore},{level:"neutral",display:"Neutral",min:40,max:60,color:"#FFC107",icon:sre},{level:"happy",display:"Happy",min:60,max:80,color:"#8BC34A",icon:Goe},{level:"love",display:"Super Happy",min:80,max:100,color:"#4CAF50",icon:Koe}],[i,s]=te.useState(t&&n.findIndex(c=>c.level===t)*20+10||50),r=n.find(u=>i>=u.min&&i<=u.max)||n[2],a=c=>{s(c);const u=n.find(d=>c>=d.min&&c<=d.max)||n[2];e(u.level)},l=c=>{const u=c*20+10;s(u),e(n[c].level)};return S.jsxs(Ui,{lines:"none",style:{flexDirection:"column",alignItems:"flex-start",width:"100%",margin:"30px 0 50px 0",padding:"0 16px","--inner-padding-end":"0"},children:[S.jsx(ii,{children:"Mood Spectrum"}),S.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"8px 0"},children:[S.jsx(Qe,{icon:r.icon,style:{color:r.color,minWidth:"24px"}}),S.jsx(xte,{min:0,max:100,value:i,onIonChange:c=>a(c.detail.value),style:{flex:1,margin:"0 12px","--bar-background":"linear-gradient(to right, \n              ".concat(n.map(c=>"".concat(c.color," ").concat(c.min,"%, ").concat(c.color," ").concat(c.max,"%")).join(", "))}}),S.jsx(Qe,{icon:r.icon,style:{color:r.color,minWidth:"24px"}})]}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",gap:"8px",marginTop:"8px"},children:n.map((c,u)=>S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",flex:"1 0 calc(20% - 8px)",minWidth:"60px"},onClick:()=>l(u),children:[S.jsx(Qe,{icon:c.icon,style:{color:c.level===r.level?c.color:"#cccccc",fontSize:"24px",padding:"4px"}}),S.jsx("span",{style:{fontSize:"10px",marginTop:"4px",color:c.level===r.level?c.color:"#666666",textAlign:"center",wordBreak:"break-word"},children:c.display})]},c.level))}),S.jsxs(ii,{style:{fontSize:"14px",marginTop:"12px",color:r.color,fontWeight:"bold",width:"100%",textAlign:"center"},children:["Current Mood: ",r.display]})]})},jRe=({onAttach:t,isUploading:e})=>{const[n,i]=te.useState(null),[s,o]=te.useState(!1),[r,a]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(""),h=te.useRef(null),[p,f]=te.useState(null),[m,b]=te.useState(null),g=[{id:"link",icon:k2,label:"Attach Link"},{id:"image",icon:w2,label:"Attach Image"},{id:"file",icon:l4,label:"Attach File"}],x=T=>{var z;if(e)return;const _=(z=T.target.files)==null?void 0:z[0];_&&(_.type.startsWith("image/")?f(_):b(_))},y=T=>{if(!e)switch(T){case"link":o(!0);break;case"image":a(!0);break;case"file":c(!0);break}},v=()=>{if(e||!u.trim())return;let T=u;/^https?:\/\//i.test(u)||(T="http://"+u),t({type:"link",content:T}),o(!1),d("")},w=()=>{e||!p||(t({type:"image",content:p}),f(null),a(!1))},C=()=>{e||!m||(t({type:"file",content:m}),b(null),c(!1))},k=()=>{o(!1),a(!1),c(!1),d(""),f(null),b(null)},E=T=>{var z;switch((z=T.split(".").pop())==null?void 0:z.toLowerCase()){case"pdf":return S.jsx(Qe,{icon:Zh,color:"danger"});case"doc":case"docx":return S.jsx(Qe,{icon:Zh,color:"primary"});case"xls":case"xlsx":return S.jsx(Qe,{icon:Zh,color:"success"});case"ppt":case"pptx":return S.jsx(Qe,{icon:Zh,color:"warning"});default:return S.jsx(Qe,{icon:Zh})}};return S.jsxs(S.Fragment,{children:[S.jsx(Vo,{style:{justifyContent:"flex-start",gap:"8px",padding:"8px"},children:g.map(({id:T,icon:_,label:z})=>S.jsx(Os,{size:"auto",children:S.jsxs("div",{onMouseEnter:()=>!e&&i(T),onMouseLeave:()=>i(null),style:{position:"relative",display:"inline-block",opacity:e?.6:1},children:[S.jsx(Qe,{icon:_,size:"large",onClick:()=>y(T),style:{cursor:e?"not-allowed":"pointer",padding:"4px"}}),n===T&&S.jsx("div",{style:{position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap",zIndex:1e3,fontSize:"14px"},children:z})]})},T))}),S.jsxs(yr,{isOpen:s,onDidDismiss:k,children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(wi,{children:"Attach Link"}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{onClick:k,children:S.jsx(Qe,{icon:Rb})})})]})}),S.jsxs(nn,{className:"ion-padding",children:[S.jsx(Cn,{value:u,placeholder:"Enter URL (e.g., example.com)",onIonChange:T=>d(T.detail.value),style:{marginBottom:"16px"},disabled:e}),S.jsx(Ge,{expand:"block",onClick:v,disabled:e||!u.trim(),children:e?"Uploading...":"Attach Link"})]})]}),S.jsxs(yr,{isOpen:r,onDidDismiss:k,children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(wi,{children:"Attach Image"}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{onClick:k,children:S.jsx(Qe,{icon:Rb})})})]})}),S.jsx(nn,{className:"ion-padding",children:S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[S.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:p?S.jsx("img",{src:URL.createObjectURL(p),alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"}}):S.jsxs(S.Fragment,{children:[S.jsx(Qe,{icon:w2,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),S.jsx(_n,{color:"medium",children:S.jsx("p",{children:"Drag and drop images here or"})}),S.jsx(Ge,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var T;return!e&&((T=h.current)==null?void 0:T.click())},disabled:e,children:"Select Image"}),S.jsx("input",{type:"file",accept:"image/*",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),S.jsx(Ge,{expand:"block",onClick:w,disabled:e||!p,children:e?"Uploading...":"Attach Image"})]})})]}),S.jsxs(yr,{isOpen:l,onDidDismiss:k,children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(wi,{children:"Attach File"}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{onClick:k,children:S.jsx(Qe,{icon:Rb})})})]})}),S.jsx(nn,{className:"ion-padding",children:S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[S.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:m?S.jsxs(Ui,{lines:"none",style:{width:"100%"},children:[S.jsx(wte,{slot:"start",children:E(m.name)}),S.jsxs(ii,{children:[S.jsx("h3",{children:m.name}),S.jsxs("p",{children:[(m.size/1024).toFixed(2)," KB"]})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(Qe,{icon:l4,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),S.jsx(_n,{color:"medium",children:S.jsx("p",{children:"Drag and drop files here or"})}),S.jsx(Ge,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var T;return!e&&((T=h.current)==null?void 0:T.click())},disabled:e,children:"Select File"}),S.jsx("input",{type:"file",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),S.jsx(Ge,{expand:"block",onClick:C,disabled:e||!m,children:e?"Uploading...":"Attach File"})]})})]})]})},URe=t=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),VRe=()=>{const t=jc(),{journalId:e}=hy(),n=e!=null&&e.startsWith(":")?e.slice(1):e,[i,s]=te.useState(""),[o,r]=te.useState(""),[a,l]=te.useState(null),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[p,f]=te.useState(!1),[m]=Hx();if(!n||!URe(n))return S.jsx(Rs,{children:S.jsx(nn,{className:"ion-padding",children:S.jsx(qi,{color:"danger",children:S.jsx(Gi,{children:"Invalid Journal ID format. Please go back and try again."})})})});const b=async C=>{h(!0);try{const{data:{user:k},error:E}=await Te.auth.getUser(),T=k==null?void 0:k.id;if(E||!T)throw new Error("You must be logged in to upload files");const _=Date.now(),z=C.name.replace(/[^a-zA-Z0-9._-]/g,"_"),N="".concat(T,"/").concat(n,"/").concat(_,"_").concat(z),{data:O,error:I}=await Te.storage.from("journal-contents").upload(N,C,{cacheControl:"3600",upsert:!1,contentType:C.type});if(I)throw I;const{data:L}=Te.storage.from("journal-contents").getPublicUrl(N);return L.publicUrl}catch(k){return m({message:"Upload failed: ".concat(k.message),duration:3e3,color:"danger"}),null}finally{h(!1)}},g=async C=>{try{let k=C.content;if(C.content instanceof File){const E=await b(C.content);if(!E)return;k=E}s(E=>E+"\n".concat(k,"\n"))}catch(k){m({message:"Failed to attach file",duration:3e3,color:"danger"})}},x=C=>{const k=[],E=C.split("\n");for(const T of E)if(T.trim())try{new URL(T.trim()),k.push({type:"link",content:T.trim()});continue}catch(_){k.push({type:"paragraph",content:T})}return k},y=()=>o.trim()?o.length>100?(m({message:"Title is too long (max 100 characters)",duration:2e3,color:"warning"}),!1):i.trim()?!0:(m({message:"Journal content cannot be empty",duration:2e3,color:"warning"}),!1):(m({message:"Page title cannot be empty",duration:2e3,color:"warning"}),!1),v=async()=>{var C;if(!(!y()||d)){u(!0);try{const{data:k,error:E}=await Te.from("journal_pages").select("page_no").eq("journal_id",n).order("page_no",{ascending:!1}).limit(1);if(E)throw E;const T=(C=k==null?void 0:k[0])!=null&&C.page_no?k[0].page_no+1:1,{data:_,error:z}=await Te.from("journal_pages").insert({journal_id:n,page_title:o.trim(),page_no:T,mood:a}).select().single();if(z)throw z;const O=x(i).map((L,F)=>({page_id:_.page_id,content_order:F+1,paragraph:L.type==="paragraph"?L.content:null,link:L.type==="link"?L.content:null})),{error:I}=await Te.from("journal_page_contents").insert(O);if(I)throw I;m({message:"Journal page saved successfully!",duration:2e3,color:"success"}),s(""),r(""),l(null)}catch(k){m({message:"Failed to save: ".concat(k.message),duration:3e3,color:"danger"})}finally{u(!1)}t.push("/Cephaline-Supabase/app","forward","replace")}},w=async()=>{try{u(!0);const{data:{user:C}}=await Te.auth.getUser();if(C){const T="".concat(C.id,"/").concat(n),{error:_}=await Te.storage.from("journal-contents").remove([T]);_&&console.error("Error deleting files:",_)}const{error:k}=await Te.from("journal_pages").delete().eq("journal_id",n);if(k)throw k;const{error:E}=await Te.from("journals").delete().eq("journal_id",n);if(E)throw E;m({message:"Journal deleted successfully",duration:2e3,color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(C){m({message:"Failed to delete journal: ".concat(C.message),duration:3e3,color:"danger"})}finally{u(!1),f(!1)}};return S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(qn,{})}),S.jsx(_l,{isOpen:p,onDidDismiss:()=>f(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal and all its contents? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:w}]}),S.jsxs(nn,{className:"ion-padding",children:[S.jsx(qi,{style:{marginBottom:"20px"},children:S.jsxs(Gi,{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[S.jsx(Oi,{slot:"start",children:S.jsx(rf,{defaultHref:"/Cephaline-Supabase/app/home"})}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{color:"danger",onClick:()=>f(!0),children:S.jsx(Qe,{slot:"icon-only",icon:dre})})})]}),S.jsxs("p",{children:["Viewing journal entry ",S.jsx("strong",{children:n})]}),S.jsx(Ui,{children:S.jsx(Cn,{value:o,placeholder:"Page Title",onIonChange:C=>r(C.detail.value)})})]})}),S.jsx("h2",{style:{margin:"20px 0"},children:"How are you feeling today?"}),S.jsx(MRe,{selectedMood:a,onMoodChange:l}),S.jsx(PRe,{markdownContent:i,onContentChange:s}),S.jsx(jRe,{onAttach:g,isUploading:d}),S.jsx(BRe,{onSave:v,disabled:!o.trim()||!i.trim()||c||d,loading:c})]})]})},HRe=({journalId:t,journalTitle:e,journalDescription:n="",onUpdate:i})=>{const s=jc(),[o,r]=te.useState(e||""),[a,l]=te.useState(n||""),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[p,f]=te.useState(!1),[m,b]=te.useState(!1),[g,x]=te.useState(""),[y,v]=te.useState(!1),w=jc();te.useEffect(()=>{r(e||""),l(n||"")},[e,n]);const C=()=>{s.push("/Cephaline-Supabase/app/JournalPage/".concat(t))},k=async()=>{r(e||""),l(n||""),u(!0)},E=async()=>{if(!(o!=null&&o.trim())){x("Title cannot be empty"),b(!0);return}f(!0);try{const{error:_}=await Te.from("journals").update({title:o.trim(),description:a.trim(),updated_at:new Date().toISOString()}).eq("journal_id",t);if(_)throw _;x("Journal updated successfully"),b(!0),i&&i(),u(!1)}catch(_){console.error("Error updating journal:",_),x("Failed to update journal"),b(!0)}finally{f(!1)}},T=async()=>{try{const{data:{user:_}}=await Te.auth.getUser();if(_){const{data:L,error:F}=await Te.storage.from("journal-contents").list("".concat(_.id,"/").concat(t));if(F)throw F;if(L&&L.length>0){const j=L.map(M=>"".concat(_.id,"/").concat(t,"/").concat(M.name)),{error:H}=await Te.storage.from("journal-contents").remove(j);if(H)throw H}await Te.storage.from("journal-contents").remove(["".concat(_.id,"/").concat(t)])}const{data:z,error:N}=await Te.from("journal_pages").select("page_id").eq("journal_id",t);if(N)throw N;if(z&&z.length>0){const L=z.map(j=>j.page_id),{error:F}=await Te.from("journal_page_contents").delete().in("page_id",L);if(F)throw F}const{error:O}=await Te.from("journal_pages").delete().eq("journal_id",t);if(O)throw O;const{error:I}=await Te.from("journals").delete().eq("journal_id",t);if(I)throw I;x("Journal and all contents deleted successfully"),b(!0),setTimeout(()=>{s.push("/Cephaline-Supabase/app/journals")},1e3)}catch(_){console.error("Error deleting journal:",_),x("Failed to delete journal. Please try again."),b(!0)}finally{w.push("/Cephaline-Supabase/app","forward","replace")}};return S.jsxs(S.Fragment,{children:[S.jsx(qi,{className:"overview-main-card",children:S.jsx(Gi,{children:S.jsxs("div",{className:"card-actions-container",children:[S.jsxs(Ge,{size:"small",onClick:C,className:"action-button",children:[S.jsx(Qe,{slot:"start",icon:Roe}),"Add Page"]}),S.jsxs(Ge,{size:"small",color:"medium",onClick:k,className:"action-button",disabled:y,children:[S.jsx(Qe,{slot:"start",icon:are}),y?"Loading...":"Settings"]})]})})}),S.jsxs(yr,{isOpen:c,onDidDismiss:()=>u(!1),children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(Oi,{slot:"start",children:S.jsx(Ge,{onClick:()=>u(!1),children:S.jsx(Qe,{slot:"icon-only",icon:Qf})})}),S.jsx(wi,{children:"Journal Settings"}),S.jsx(Oi,{slot:"end",children:S.jsx(Ge,{color:"danger",onClick:()=>h(!0),disabled:p,children:S.jsx(Qe,{slot:"icon-only",icon:ure})})})]})}),S.jsxs(nn,{className:"ion-padding",children:[S.jsxs(Ui,{children:[S.jsx(ii,{position:"stacked",children:"Title *"}),S.jsx(Cn,{value:o,onIonChange:_=>{var z;return r((z=_.detail.value)!=null?z:"")},placeholder:"Enter new journal title",clearInput:!0})]}),S.jsxs(Ui,{children:[S.jsx(ii,{position:"stacked",children:"Description"}),S.jsx(aE,{value:a,onIonChange:_=>{var z;return l((z=_.detail.value)!=null?z:"")},placeholder:"Enter new journal description",rows:4,autoGrow:!0})]}),S.jsx("div",{className:"ion-padding-top",children:S.jsx(Ge,{expand:"block",onClick:E,disabled:!(o!=null&&o.trim())||p,children:p?"Updating...":"Save Changes"})})]})]}),S.jsx(_l,{isOpen:d,onDidDismiss:()=>h(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal? All pages will be permanently deleted.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:T}]}),S.jsx(Al,{isOpen:m,onDidDismiss:()=>b(!1),message:g,duration:2e3})]})},WRe=({journalId:t})=>{const e=jc(),[n]=Hx();console.log("OverviewSideCard received journalId:",t);const i=async()=>{if(console.log("Page List button clicked with journalId:",t),!t){console.error("No journalId provided to OverviewSideCard"),await n({message:"Journal ID is missing! Cannot navigate.",duration:2e3,color:"danger",position:"top"});return}const s="/Cephaline-Supabase/app/page-list/".concat(t);console.log("Attempting to navigate to:",s),e.push(s)};return S.jsx(qi,{className:"overview-side-card",children:S.jsxs(Gi,{children:[S.jsx("h2",{children:"Journal Navigation"}),S.jsxs(Ge,{expand:"block",fill:"outline",onClick:i,disabled:!t,style:{zIndex:10},children:[S.jsx(Qe,{icon:Joe,slot:"start"}),"Page List"]})]})})},GRe=()=>{const{journalId:t}=hy(),[e,n]=te.useState(""),[i,s]=te.useState(""),[o,r]=te.useState(""),[a,l]=te.useState({titleColor:"#3880ff",descriptionColor:"#555555",cardColor:"#ffffff"}),[c,u]=te.useState(!0),[d,h]=te.useState(""),[p,f]=te.useState(!1),[m,b]=te.useState(null),g=jc();te.useEffect(()=>{t&&(x(),y())},[t]);const x=async()=>{u(!0);try{const{data:w,error:C}=await Te.from("journals").select("title, description, created_at, title_color, description_color, card_color").eq("journal_id",t).single();if(C)throw C;n(w.title),s(w.description||""),r(w.created_at),l({titleColor:w.title_color||"#3880ff",descriptionColor:w.description_color||"#555555",cardColor:w.card_color||"#ffffff"})}catch(w){console.error("Error fetching journal:",w),h("Failed to load journal"),f(!0)}finally{u(!1)}},y=async()=>{try{const{data:w,error:C}=await Te.from("journal_pages").select("page_id").eq("journal_id",t).order("page_no",{ascending:!0}).limit(1).single();if(C)throw C;b((w==null?void 0:w.page_id)||null)}catch(w){console.error("Error fetching first page:",w)}},v=()=>{m?g.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat(m)):(h("This journal has no pages yet"),f(!0))};return t?S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(Oi,{slot:"start",children:S.jsx(V6,{})}),S.jsx(wi,{children:"Journal Overview"})]})}),S.jsxs(nn,{fullscreen:!0,children:[S.jsxs("div",{className:"overview-container",style:{padding:"16px"},children:[c?S.jsx(fo,{name:"crescent"}):S.jsx(S.Fragment,{children:S.jsx(HRe,{journalId:t,journalTitle:e,journalDescription:i,onUpdate:x})}),S.jsx(WRe,{journalId:t})]}),S.jsxs("div",{className:"journal-cover clickable-book",onClick:v,style:{backgroundColor:a.cardColor,padding:"16px",borderRadius:"12px",margin:"20px auto",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",height:"650px",width:"500px",position:"relative",borderBottom:"4px solid #d3d3d3",borderRight:"4px solid #d3d3d3",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer"},children:[S.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",top:0,left:0}}),S.jsxs("div",{style:{paddingTop:"20px"},children:[S.jsx("h1",{style:{color:a.titleColor,marginBottom:"8px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},children:e}),S.jsx("p",{style:{color:a.descriptionColor,textAlign:"center",marginTop:"50px",fontSize:"1.2rem",padding:"0 20px"},children:i})]}),S.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:S.jsxs("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Created:"," ",new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})}),S.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",bottom:0,left:0}})]}),S.jsx(Al,{isOpen:p,onDidDismiss:()=>f(!1),message:d,duration:2e3})]})]}):S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(qn,{children:S.jsx(wi,{children:"Error: No Journal Selected"})})}),S.jsx(nn,{children:S.jsx("p",{children:"Please select a journal from the main page."})})]})},qRe=()=>{const{journalId:t}=hy(),[e,n]=te.useState([]),[i,s]=te.useState(!0);te.useEffect(()=>{t&&(async()=>{try{const{data:a,error:l}=await Te.from("journal_pages").select("page_id, page_no, page_title, mood, created_at, updated_at").eq("journal_id",t).order("page_no",{ascending:!0});if(l)throw l;n(a||[])}catch(a){console.error("Error fetching pages:",a)}finally{s(!1)}})()},[t]);const o=r=>new Date(r).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsx(qn,{})}),S.jsx(nn,{children:i?S.jsx("div",{className:"ion-padding",children:"Loading pages..."}):e.length===0?S.jsx("div",{className:"ion-padding",children:"No pages found for this journal."}):S.jsxs(U6,{children:[S.jsx(Oi,{slot:"start",children:S.jsx(rf,{defaultHref:"/Cephaline-Supabase/app/Overviewing/".concat(t)})}),e.map(r=>S.jsx(Ui,{routerLink:"/Cephaline-Supabase/app/JournalPageView/".concat(t,"/").concat(r.page_id),detail:!0,children:S.jsxs(ii,{children:[S.jsxs("h2",{children:[S.jsx(D0,{color:"medium",style:{marginRight:"8px"},children:r.page_no}),r.page_title]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[r.mood&&S.jsx(D0,{color:"tertiary",style:{marginRight:"8px"},children:r.mood}),S.jsxs(bte,{style:{fontSize:"0.8rem"},children:["Created: ",o(r.created_at)]})]})]})},r.page_id))]})})]})};function gb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var w9={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,o){function r(c,u){if(!s[c]){if(!i[c]){var d=typeof gb=="function"&&gb;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=s[c]={exports:{}};i[c][0].call(p.exports,function(f){var m=i[c][1][f];return r(m||f)},p,p.exports,n,i,s,o)}return s[c].exports}for(var a=typeof gb=="function"&&gb,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(n,i,s){var o=n("./utils"),r=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,u,d,h,p,f,m,b=[],g=0,x=l.length,y=x,v=o.getTypeOf(l)!=="string";g<l.length;)y=x-g,d=v?(c=l[g++],u=g<x?l[g++]:0,g<x?l[g++]:0):(c=l.charCodeAt(g++),u=g<x?l.charCodeAt(g++):0,g<x?l.charCodeAt(g++):0),h=c>>2,p=(3&c)<<4|u>>4,f=1<y?(15&u)<<2|d>>6:64,m=2<y?63&d:64,b.push(a.charAt(h)+a.charAt(p)+a.charAt(f)+a.charAt(m));return b.join("")},s.decode=function(l){var c,u,d,h,p,f,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,y=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&y--,l.charAt(l.length-2)===a.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=r.uint8array?new Uint8Array(0|y):new Array(0|y);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(h=a.indexOf(l.charAt(m++)))>>4,u=(15&h)<<4|(p=a.indexOf(l.charAt(m++)))>>2,d=(3&p)<<6|(f=a.indexOf(l.charAt(m++))),x[b++]=c,p!==64&&(x[b++]=u),f!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,i,s){var o=n("./external"),r=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,h,p,f){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=p,this.compressedContent=f}c.prototype={getContentWorker:function(){var u=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,s){var o=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,s){var o=n("./utils"),r=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(c,u,d,h){var p=r,f=h+d;c^=-1;for(var m=h;m<f;m++)c=c>>>8^p[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,d,h){var p=r,f=h+d;c^=-1;for(var m=h;m<f;m++)c=c>>>8^p[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,i,s){var o=null;o=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}s.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},s.compressWorker=function(d){return new u("Deflate",d)},s.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,s){function o(p,f){var m,b="";for(m=0;m<f;m++)b+=String.fromCharCode(255&p),p>>>=8;return b}function r(p,f,m,b,g,x){var y,v,w=p.file,C=p.compression,k=x!==c.utf8encode,E=a.transformTo("string",x(w.name)),T=a.transformTo("string",c.utf8encode(w.name)),_=w.comment,z=a.transformTo("string",x(_)),N=a.transformTo("string",c.utf8encode(_)),O=T.length!==w.name.length,I=N.length!==_.length,L="",F="",j="",H=w.dir,M=w.date,U={crc32:0,compressedSize:0,uncompressedSize:0};f&&!m||(U.crc32=p.crc32,U.compressedSize=p.compressedSize,U.uncompressedSize=p.uncompressedSize);var B=0;f&&(B|=8),k||!O&&!I||(B|=2048);var V=0,ee=0;H&&(V|=16),g==="UNIX"?(ee=798,V|=function(Z,pe){var ve=Z;return Z||(ve=pe?16893:33204),(65535&ve)<<16}(w.unixPermissions,H)):(ee=20,V|=function(Z){return 63&(Z||0)}(w.dosPermissions)),y=M.getUTCHours(),y<<=6,y|=M.getUTCMinutes(),y<<=5,y|=M.getUTCSeconds()/2,v=M.getUTCFullYear()-1980,v<<=4,v|=M.getUTCMonth()+1,v<<=5,v|=M.getUTCDate(),O&&(F=o(1,1)+o(u(E),4)+T,L+="up"+o(F.length,2)+F),I&&(j=o(1,1)+o(u(z),4)+N,L+="uc"+o(j.length,2)+j);var J="";return J+="\n\0",J+=o(B,2),J+=C.magic,J+=o(y,2),J+=o(v,2),J+=o(U.crc32,4),J+=o(U.compressedSize,4),J+=o(U.uncompressedSize,4),J+=o(E.length,2),J+=o(L.length,2),{fileRecord:d.LOCAL_FILE_HEADER+J+E+L,dirRecord:d.CENTRAL_FILE_HEADER+o(ee,2)+J+o(z.length,2)+"\0\0\0\0"+o(V,4)+o(b,4)+E+L+z}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function h(p,f,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(p){var f=p.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(f+100*(m-b-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var f=this.streamFiles&&!p.file.dir;if(f){var m=r(p,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var f=this.streamFiles&&!p.file.dir,m=r(p,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),f)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var m=this.bytesWritten-p,b=function(g,x,y,v,w){var C=a.transformTo("string",w(v));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(x,4)+o(y,4)+o(C.length,2)+C}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var f=this;return p.on("data",function(m){f.processChunk(m)}),p.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),p.on("error",function(m){f.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var f=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<f.length;m++)try{f[m].error(p)}catch(b){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,f=0;f<p.length;f++)p[f].lock()},i.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,s){var o=n("../compressions"),r=n("./ZipFileWorker");s.generateWorker=function(a,l,c){var u=new r(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,p){d++;var f=function(x,y){var v=x||y,w=o[v];if(!w)throw new Error(v+" is not a valid compression method !");return w}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,g=p.date;p._compressWorker(f,m).withStreamInfo("file",{name:h,dir:b,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new o;for(var a in this)typeof this[a]!="function"&&(r[a]=this[a]);return r}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(r,a){return new o().loadAsync(r,a)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,s){var o=n("./utils"),r=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(h){return new r.Promise(function(p,f){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){f(b)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}i.exports=function(h,p){var f=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(h)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var b=new l(p);return b.load(m),b}).then(function(m){var b=[r.Promise.resolve(m)],g=m.files;if(p.checkCRC32)for(var x=0;x<g.length;x++)b.push(d(g[x]));return r.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,x=0;x<g.length;x++){var y=g[x],v=y.fileNameStr,w=o.resolve(y.fileNameStr);f.file(w,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:p.createFolders}),y.dir||(f.file(w).unsafeOriginalName=v)}return b.zipComment.length&&(f.comment=b.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,s){var o=n("../utils"),r=n("../stream/GenericWorker");function a(l,c){r.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,r),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,s){var o=n("readable-stream").Readable;function r(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(r,o),r.prototype._read=function(){this._helper.resume()},i.exports=r},{"../utils":32,"readable-stream":16}],14:[function(n,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,r);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,r)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var r=new Buffer(o);return r.fill(0),r},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,s){function o(w,C,k){var E,T=a.getTypeOf(C),_=a.extend(k||{},u);_.date=_.date||new Date,_.compression!==null&&(_.compression=_.compression.toUpperCase()),typeof _.unixPermissions=="string"&&(_.unixPermissions=parseInt(_.unixPermissions,8)),_.unixPermissions&&16384&_.unixPermissions&&(_.dir=!0),_.dosPermissions&&16&_.dosPermissions&&(_.dir=!0),_.dir&&(w=g(w)),_.createFolders&&(E=b(w))&&x.call(this,E,!0);var z=T==="string"&&_.binary===!1&&_.base64===!1;k&&k.binary!==void 0||(_.binary=!z),(C instanceof d&&C.uncompressedSize===0||_.dir||!C||C.length===0)&&(_.base64=!1,_.binary=!0,C="",_.compression="STORE",T="string");var N=null;N=C instanceof d||C instanceof l?C:f.isNode&&f.isStream(C)?new m(w,C):a.prepareContent(w,C,_.binary,_.optimizedBinaryString,_.base64);var O=new h(w,N,_);this.files[w]=O}var r=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),f=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),b=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},x=function(w,C){return C=C!==void 0?C:u.createFolders,w=g(w),this.files[w]||o.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function y(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,k,E;for(C in this.files)E=this.files[C],(k=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(k,E)},filter:function(w){var C=[];return this.forEach(function(k,E){w(k,E)&&C.push(E)}),C},file:function(w,C,k){if(arguments.length!==1)return w=this.root+w,o.call(this,w,C,k),this;if(y(w)){var E=w;return this.filter(function(_,z){return!z.dir&&E.test(_)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(y(w))return this.filter(function(T,_){return _.dir&&w.test(T)});var C=this.root+w,k=x.call(this,C),E=this.clone();return E.root=k.name,E},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var k=this.filter(function(T,_){return _.name.slice(0,w.length)===w}),E=0;E<k.length;E++)delete this.files[k[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,k={};try{if((k=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");a.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var E=k.comment||this.comment||"";C=p.generateWorker(this,k,E)}catch(T){(C=new l("error")).error(T)}return new c(C,k.type||"string",k.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};i.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,s){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,s){var o=n("./DataReader");function r(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(r,o),r.prototype.byteAt=function(a){return this.data[this.zero+a]},r.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=r},{"../utils":32,"./DataReader":18}],18:[function(n,i,s){var o=n("../utils");function r(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=r},{"../utils":32}],19:[function(n,i,s){var o=n("./Uint8ArrayReader");function r(a){o.call(this,a)}n("../utils").inherits(r,o),r.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,s){var o=n("./DataReader");function r(a){o.call(this,a)}n("../utils").inherits(r,o),r.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},r.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},r.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},r.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=r},{"../utils":32,"./DataReader":18}],21:[function(n,i,s){var o=n("./ArrayReader");function r(a){o.call(this,a)}n("../utils").inherits(r,o),r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,s){var o=n("../utils"),r=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");i.exports=function(d){var h=o.getTypeOf(d);return o.checkSupport(h),h!=="string"||r.uint8array?h==="nodebuffer"?new c(d):r.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,s){var o=n("./GenericWorker"),r=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}r.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:r.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,s){var o=n("./GenericWorker"),r=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=r(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,s){var o=n("../utils"),r=n("./GenericWorker");function a(l){r.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,r),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}r.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,s){var o=n("../utils"),r=n("./GenericWorker");function a(l){r.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,s){function o(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,a){return this._listeners[r].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,a){if(this._listeners[r])for(var l=0;l<this._listeners[r].length;l++)this._listeners[r][l].call(this,a)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var a=this;return r.on("data",function(l){a.processChunk(l)}),r.on("end",function(){a.end()}),r.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,a){return this.extraStreamInfo[r]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},i.exports=o},{}],29:[function(n,i,s){var o=n("../utils"),r=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch(f){}function h(f,m){return new u.Promise(function(b,g){var x=[],y=f._internalType,v=f._outputType,w=f._mimeType;f.on("data",function(C,k){x.push(C),m&&m(k)}).on("error",function(C){x=[],g(C)}).on("end",function(){try{var C=function(k,E,T){switch(k){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),T);case"base64":return l.encode(E);default:return o.transformTo(k,E)}}(v,function(k,E){var T,_=0,z=null,N=0;for(T=0;T<E.length;T++)N+=E[T].length;switch(k){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(z=new Uint8Array(N),T=0;T<E.length;T++)z.set(E[T],_),_+=E[T].length;return z;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+k+"'")}}(y,x),w);b(C)}catch(k){g(k)}x=[]}).resume()})}function p(f,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,o.checkSupport(g),this._worker=f.pipe(new r(g)),f.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}p.prototype={accumulate:function(f){return h(this,f)},on:function(f,m){var b=this;return f==="data"?this._worker.on(f,function(g){m.call(b,g.data,g.meta)}):this._worker.on(f,function(){o.delay(m,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},f)}},i.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch(a){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),s.blob=r.getBlob("application/zip").size===0}catch(l){s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch(a){s.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,s){for(var o=n("./utils"),r=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}s.utf8encode=function(p){return r.nodebuffer?a.newBufferFrom(p,"utf-8"):function(f){var m,b,g,x,y,v=f.length,w=0;for(x=0;x<v;x++)(64512&(b=f.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=f.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),w+=b<128?1:b<2048?2:b<65536?3:4;for(m=r.uint8array?new Uint8Array(w):new Array(w),x=y=0;y<w;x++)(64512&(b=f.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=f.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),b<128?m[y++]=b:(b<2048?m[y++]=192|b>>>6:(b<65536?m[y++]=224|b>>>12:(m[y++]=240|b>>>18,m[y++]=128|b>>>12&63),m[y++]=128|b>>>6&63),m[y++]=128|63&b);return m}(p)},s.utf8decode=function(p){return r.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(f){var m,b,g,x,y=f.length,v=new Array(2*y);for(m=b=0;m<y;)if((g=f[m++])<128)v[b++]=g;else if(4<(x=c[g]))v[b++]=65533,m+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&m<y;)g=g<<6|63&f[m++],x--;1<x?v[b++]=65533:g<65536?v[b++]=g:(g-=65536,v[b++]=55296|g>>10&1023,v[b++]=56320|1023&g)}return v.length!==b&&(v.subarray?v=v.subarray(0,b):v.length=b),o.applyFromCharCode(v)}(p=o.transformTo(r.uint8array?"uint8array":"array",p))},o.inherits(d,l),d.prototype.processChunk=function(p){var f=o.transformTo(r.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var m=f;(f=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),f.set(m,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var b=function(x,y){var v;for((y=y||x.length)>x.length&&(y=x.length),v=y-1;0<=v&&(192&x[v])==128;)v--;return v<0||v===0?y:v+c[x[v]]>y?v:y}(f),g=f;b!==f.length&&(r.uint8array?(g=f.subarray(0,b),this.leftOver=f.subarray(b,f.length)):(g=f.slice(0,b),this.leftOver=f.slice(b,f.length))),this.push({data:s.utf8decode(g),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=d,o.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,s){var o=n("./support"),r=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}n("setimmediate"),s.newBlob=function(m,b){s.checkSupport("blob");try{return new Blob([m],{type:b})}catch(x){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,b,g){var x=[],y=0,v=m.length;if(v<=g)return String.fromCharCode.apply(null,m);for(;y<v;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(y,Math.min(y+g,v)))):x.push(String.fromCharCode.apply(null,m.subarray(y,Math.min(y+g,v)))),y+=g;return x.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(m){return!1}}()}};function h(m){var b=65536,g=s.getTypeOf(m),x=!0;if(g==="uint8array"?x=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(m,g,b)}catch(y){b=Math.floor(b/2)}return d.stringifyByChar(m)}function p(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}s.applyFromCharCode=h;var f={};f.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return f.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},f.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},f.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},f.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},f.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return f.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},s.transformTo=function(m,b){if(b=b||"",!m)return b;s.checkSupport(m);var g=s.getTypeOf(b);return f[g][m](b)},s.resolve=function(m){for(var b=m.split("/"),g=[],x=0;x<b.length;x++){var y=b[x];y==="."||y===""&&x!==0&&x!==b.length-1||(y===".."?g.pop():g.push(y))}return g.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var b,g,x="";for(g=0;g<(m||"").length;g++)x+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return x},s.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},s.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},s.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},s.prepareContent=function(m,b,g,x,y){return l.Promise.resolve(b).then(function(v){return o.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,C){var k=new FileReader;k.onload=function(E){w(E.target.result)},k.onerror=function(E){C(E.target.error)},k.readAsArrayBuffer(v)}):v}).then(function(v){var w=s.getTypeOf(v);return w?(w==="arraybuffer"?v=s.transformTo("uint8array",v):w==="string"&&(y?v=r.decode(v):g&&x!==!0&&(v=function(C){return u(C,o.uint8array?new Uint8Array(C.length):new Array(C.length))}(v))),v):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,s){var o=n("./reader/readerFor"),r=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(h)+", expected "+r.pretty(d)+")")}},isSignature:function(d,h){var p=this.reader.index;this.reader.setIndex(d);var f=this.reader.readString(4)===h;return this.reader.setIndex(p),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=r.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,p,f=this.zip64EndOfCentralSize-44;0<f;)d=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var f=h-p;if(0<f)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,s){var o=n("./reader/readerFor"),r=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function h(p,f){this.options=p,this.loadOptions=f}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var f,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,f,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var f=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(f),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var f,m,b,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)f=p.readInt(2),m=p.readInt(2),b=p.readData(m),this.extraFields[f]={id:f,length:m,value:b};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var m=r.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=r.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var f=o(p.value);return f.readInt(1)!==1||l(this.fileName)!==f.readInt(4)?null:c.utf8decode(f.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var f=o(p.value);return f.readInt(1)!==1||l(this.fileComment)!==f.readInt(4)?null:c.utf8decode(f.readData(p.length-5))}return null}},i.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,s){function o(f,m,b){this.name=f,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var r=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(f){var m=null,b="string";try{if(!f)throw new Error("No output type specified.");var g=(b=f.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(y){(m=new u("error")).error(y)}return new r(m,b,"")},async:function(f,m){return this.internalStream(f).accumulate(m)},nodeStream:function(f,m){return this.internalStream(f||"nodebuffer").toNodejsStream(m)},_compressWorker:function(f,m){if(this._data instanceof c&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,f,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)o.prototype[d[p]]=h;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,s){(function(o){var r,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(f),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),r=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)r="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){f(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(f,0)};else{var h=new o.MessageChannel;h.port1.onmessage=f,r=function(){h.port2.postMessage(0)}}var p=[];function f(){var m,b;a=!0;for(var g=p.length;g;){for(b=p,p=[],m=-1;++m<g;)b[m]();g=p.length}a=!1}i.exports=function(m){p.push(m)!==1||a||r()}}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,s){var o=n("immediate");function r(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==r&&m(this,g)}function h(g,x,y){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function p(g,x,y){o(function(){var v;try{v=x(y)}catch(w){return a.reject(g,w)}v===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,v)})}function f(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function m(g,x){var y=!1;function v(k){y||(y=!0,a.reject(g,k))}function w(k){y||(y=!0,a.resolve(g,k))}var C=b(function(){x(w,v)});C.status==="error"&&v(C.value)}function b(g,x){var y={};try{y.value=g(x),y.status="success"}catch(v){y.status="error",y.value=v}return y}(i.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(y){return x.resolve(g()).then(function(){return y})},function(y){return x.resolve(g()).then(function(){throw y})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,x){if(typeof g!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var y=new this.constructor(r);return this.state!==u?p(y,this.state===c?g:x,this.outcome):this.queue.push(new h(y,g,x)),y},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},a.resolve=function(g,x){var y=b(f,x);if(y.status==="error")return a.reject(g,y.value);var v=y.value;if(v)m(g,v);else{g.state=c,g.outcome=x;for(var w=-1,C=g.queue.length;++w<C;)g.queue[w].callFulfilled(x)}return g},a.reject=function(g,x){g.state=l,g.outcome=x;for(var y=-1,v=g.queue.length;++y<v;)g.queue[y].callRejected(x);return g},d.resolve=function(g){return g instanceof this?g:a.resolve(new this(r),g)},d.reject=function(g){var x=new this(r);return a.reject(x,g)},d.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=new Array(y),C=0,k=-1,E=new this(r);++k<y;)T(g[k],k);return E;function T(_,z){x.resolve(_).then(function(N){w[z]=N,++C!==y||v||(v=!0,a.resolve(E,w))},function(N){v||(v=!0,a.reject(E,N))})}},d.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=-1,C=new this(r);++w<y;)k=g[w],x.resolve(k).then(function(E){v||(v=!0,a.resolve(C,E))},function(E){v||(v=!0,a.reject(C,E))});var k;return C}},{immediate:36}],38:[function(n,i,s){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,s){var o=n("./zlib/deflate"),r=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,p=0,f=8;function m(g){if(!(this instanceof m))return new m(g);this.options=r.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(y!==d)throw new Error(l[y]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var v;if(v=typeof x.dictionary=="string"?a.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(y=o.deflateSetDictionary(this.strm,v))!==d)throw new Error(l[y]);this._dict_set=!0}}function b(g,x){var y=new m(x);if(y.push(g,!0),y.err)throw y.msg||l[y.err];return y.result}m.prototype.push=function(g,x){var y,v,w=this.strm,C=this.options.chunkSize;if(this.ended)return!1;v=x===~~x?x:x===!0?4:0,typeof g=="string"?w.input=a.string2buf(g):u.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new r.Buf8(C),w.next_out=0,w.avail_out=C),(y=o.deflate(w,v))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(r.shrinkBuf(w.output,w.next_out))):this.onData(r.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&y!==1);return v===4?(y=o.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):v!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=m,s.deflate=b,s.deflateRaw=function(g,x){return(x=x||{}).raw=!0,b(g,x)},s.gzip=function(g,x){return(x=x||{}).gzip=!0,b(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,s){var o=n("./zlib/inflate"),r=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function f(m,b){var g=new p(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}p.prototype.push=function(m,b){var g,x,y,v,w,C,k=this.strm,E=this.options.chunkSize,T=this.options.dictionary,_=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?k.input=a.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new r.Buf8(E),k.next_out=0,k.avail_out=E),(g=o.inflate(k,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(C=typeof T=="string"?a.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=o.inflateSetDictionary(this.strm,C)),g===l.Z_BUF_ERROR&&_===!0&&(g=l.Z_OK,_=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&g!==l.Z_STREAM_END&&(k.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=a.utf8border(k.output,k.next_out),v=k.next_out-y,w=a.buf2string(k.output,y),k.next_out=v,k.avail_out=E-v,v&&r.arraySet(k.output,k.output,y,v,0),this.onData(w)):this.onData(r.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(_=!0)}while((0<k.avail_in||k.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=p,s.inflate=f,s.inflateRaw=function(m,b){return(b=b||{}).raw=!0,f(m,b)},s.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var r={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var p=0;p<d;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,d,h,p,f;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(f=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)p=l[c],f.set(p,h),h+=p.length;return f}},a={arraySet:function(l,c,u,d,h){for(var p=0;p<d;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,r)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(o)},{}],42:[function(n,i,s){var o=n("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(d){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(d,h));for(var p="",f=0;f<h;f++)p+=String.fromCharCode(d[f]);return p}l[254]=l[254]=1,s.string2buf=function(d){var h,p,f,m,b,g=d.length,x=0;for(m=0;m<g;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(f=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),m++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new o.Buf8(x),m=b=0;b<x;m++)(64512&(p=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(f=d.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),m++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h},s.buf2binstring=function(d){return u(d,d.length)},s.binstring2buf=function(d){for(var h=new o.Buf8(d.length),p=0,f=h.length;p<f;p++)h[p]=d.charCodeAt(p);return h},s.buf2string=function(d,h){var p,f,m,b,g=h||d.length,x=new Array(2*g);for(p=f=0;p<g;)if((m=d[p++])<128)x[f++]=m;else if(4<(b=l[m]))x[f++]=65533,p+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&p<g;)m=m<<6|63&d[p++],b--;1<b?x[f++]=65533:m<65536?x[f++]=m:(m-=65536,x[f++]=55296|m>>10&1023,x[f++]=56320|1023&m)}return u(x,f)},s.utf8border=function(d,h){var p;for((h=h||d.length)>d.length&&(h=d.length),p=h-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?h:p+l[d[p]]>h?p:h}},{"./common":41}],43:[function(n,i,s){i.exports=function(o,r,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+r[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,s){var o=function(){for(var r,a=[],l=0;l<256;l++){r=l;for(var c=0;c<8;c++)r=1&r?3988292384^r>>>1:r>>>1;a[l]=r}return a}();i.exports=function(r,a,l,c){var u=o,d=c+l;r^=-1;for(var h=c;h<d;h++)r=r>>>8^u[255&(r^a[h])];return-1^r}},{}],46:[function(n,i,s){var o,r=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,h=4,p=0,f=-2,m=-1,b=4,g=2,x=8,y=9,v=286,w=30,C=19,k=2*v+1,E=15,T=3,_=258,z=_+T+1,N=42,O=113,I=1,L=2,F=3,j=4;function H(A,le){return A.msg=u[le],le}function M(A){return(A<<1)-(4<A?9:0)}function U(A){for(var le=A.length;0<=--le;)A[le]=0}function B(A){var le=A.state,oe=le.pending;oe>A.avail_out&&(oe=A.avail_out),oe!==0&&(r.arraySet(A.output,le.pending_buf,le.pending_out,oe,A.next_out),A.next_out+=oe,le.pending_out+=oe,A.total_out+=oe,A.avail_out-=oe,le.pending-=oe,le.pending===0&&(le.pending_out=0))}function V(A,le){a._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,le),A.block_start=A.strstart,B(A.strm)}function ee(A,le){A.pending_buf[A.pending++]=le}function J(A,le){A.pending_buf[A.pending++]=le>>>8&255,A.pending_buf[A.pending++]=255&le}function Z(A,le){var oe,G,W=A.max_chain_length,ne=A.strstart,de=A.prev_length,ge=A.nice_match,se=A.strstart>A.w_size-z?A.strstart-(A.w_size-z):0,we=A.window,$e=A.w_mask,ke=A.prev,Me=A.strstart+_,ft=we[ne+de-1],Ye=we[ne+de];A.prev_length>=A.good_match&&(W>>=2),ge>A.lookahead&&(ge=A.lookahead);do if(we[(oe=le)+de]===Ye&&we[oe+de-1]===ft&&we[oe]===we[ne]&&we[++oe]===we[ne+1]){ne+=2,oe++;do;while(we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&we[++ne]===we[++oe]&&ne<Me);if(G=_-(Me-ne),ne=Me-_,de<G){if(A.match_start=le,ge<=(de=G))break;ft=we[ne+de-1],Ye=we[ne+de]}}while((le=ke[le&$e])>se&&--W!=0);return de<=A.lookahead?de:A.lookahead}function pe(A){var le,oe,G,W,ne,de,ge,se,we,$e,ke=A.w_size;do{if(W=A.window_size-A.lookahead-A.strstart,A.strstart>=ke+(ke-z)){for(r.arraySet(A.window,A.window,ke,ke,0),A.match_start-=ke,A.strstart-=ke,A.block_start-=ke,le=oe=A.hash_size;G=A.head[--le],A.head[le]=ke<=G?G-ke:0,--oe;);for(le=oe=ke;G=A.prev[--le],A.prev[le]=ke<=G?G-ke:0,--oe;);W+=ke}if(A.strm.avail_in===0)break;if(de=A.strm,ge=A.window,se=A.strstart+A.lookahead,we=W,$e=void 0,$e=de.avail_in,we<$e&&($e=we),oe=$e===0?0:(de.avail_in-=$e,r.arraySet(ge,de.input,de.next_in,$e,se),de.state.wrap===1?de.adler=l(de.adler,ge,$e,se):de.state.wrap===2&&(de.adler=c(de.adler,ge,$e,se)),de.next_in+=$e,de.total_in+=$e,$e),A.lookahead+=oe,A.lookahead+A.insert>=T)for(ne=A.strstart-A.insert,A.ins_h=A.window[ne],A.ins_h=(A.ins_h<<A.hash_shift^A.window[ne+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[ne+T-1])&A.hash_mask,A.prev[ne&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=ne,ne++,A.insert--,!(A.lookahead+A.insert<T)););}while(A.lookahead<z&&A.strm.avail_in!==0)}function ve(A,le){for(var oe,G;;){if(A.lookahead<z){if(pe(A),A.lookahead<z&&le===d)return I;if(A.lookahead===0)break}if(oe=0,A.lookahead>=T&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+T-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),oe!==0&&A.strstart-oe<=A.w_size-z&&(A.match_length=Z(A,oe)),A.match_length>=T)if(G=a._tr_tally(A,A.strstart-A.match_start,A.match_length-T),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=T){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+T-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else G=a._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(G&&(V(A,!1),A.strm.avail_out===0))return I}return A.insert=A.strstart<T-1?A.strstart:T-1,le===h?(V(A,!0),A.strm.avail_out===0?F:j):A.last_lit&&(V(A,!1),A.strm.avail_out===0)?I:L}function ye(A,le){for(var oe,G,W;;){if(A.lookahead<z){if(pe(A),A.lookahead<z&&le===d)return I;if(A.lookahead===0)break}if(oe=0,A.lookahead>=T&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+T-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=T-1,oe!==0&&A.prev_length<A.max_lazy_match&&A.strstart-oe<=A.w_size-z&&(A.match_length=Z(A,oe),A.match_length<=5&&(A.strategy===1||A.match_length===T&&4096<A.strstart-A.match_start)&&(A.match_length=T-1)),A.prev_length>=T&&A.match_length<=A.prev_length){for(W=A.strstart+A.lookahead-T,G=a._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-T),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=W&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+T-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=T-1,A.strstart++,G&&(V(A,!1),A.strm.avail_out===0))return I}else if(A.match_available){if((G=a._tr_tally(A,0,A.window[A.strstart-1]))&&V(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return I}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(G=a._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<T-1?A.strstart:T-1,le===h?(V(A,!0),A.strm.avail_out===0?F:j):A.last_lit&&(V(A,!1),A.strm.avail_out===0)?I:L}function Ce(A,le,oe,G,W){this.good_length=A,this.max_lazy=le,this.nice_length=oe,this.max_chain=G,this.func=W}function Fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*k),this.dyn_dtree=new r.Buf16(2*(2*w+1)),this.bl_tree=new r.Buf16(2*(2*C+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(E+1),this.heap=new r.Buf16(2*v+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*v+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(A){var le;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=g,(le=A.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?N:O,A.adler=le.wrap===2?0:1,le.last_flush=d,a._tr_init(le),p):H(A,f)}function Ze(A){var le=Re(A);return le===p&&function(oe){oe.window_size=2*oe.w_size,U(oe.head),oe.max_lazy_match=o[oe.level].max_lazy,oe.good_match=o[oe.level].good_length,oe.nice_match=o[oe.level].nice_length,oe.max_chain_length=o[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=T-1,oe.match_available=0,oe.ins_h=0}(A.state),le}function st(A,le,oe,G,W,ne){if(!A)return f;var de=1;if(le===m&&(le=6),G<0?(de=0,G=-G):15<G&&(de=2,G-=16),W<1||y<W||oe!==x||G<8||15<G||le<0||9<le||ne<0||b<ne)return H(A,f);G===8&&(G=9);var ge=new Fe;return(A.state=ge).strm=A,ge.wrap=de,ge.gzhead=null,ge.w_bits=G,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=W+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+T-1)/T),ge.window=new r.Buf8(2*ge.w_size),ge.head=new r.Buf16(ge.hash_size),ge.prev=new r.Buf16(ge.w_size),ge.lit_bufsize=1<<W+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new r.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=le,ge.strategy=ne,ge.method=oe,Ze(A)}o=[new Ce(0,0,0,0,function(A,le){var oe=65535;for(oe>A.pending_buf_size-5&&(oe=A.pending_buf_size-5);;){if(A.lookahead<=1){if(pe(A),A.lookahead===0&&le===d)return I;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var G=A.block_start+oe;if((A.strstart===0||A.strstart>=G)&&(A.lookahead=A.strstart-G,A.strstart=G,V(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-z&&(V(A,!1),A.strm.avail_out===0))return I}return A.insert=0,le===h?(V(A,!0),A.strm.avail_out===0?F:j):(A.strstart>A.block_start&&(V(A,!1),A.strm.avail_out),I)}),new Ce(4,4,8,4,ve),new Ce(4,5,16,8,ve),new Ce(4,6,32,32,ve),new Ce(4,4,16,16,ye),new Ce(8,16,32,32,ye),new Ce(8,16,128,128,ye),new Ce(8,32,128,256,ye),new Ce(32,128,258,1024,ye),new Ce(32,258,258,4096,ye)],s.deflateInit=function(A,le){return st(A,le,x,15,8,0)},s.deflateInit2=st,s.deflateReset=Ze,s.deflateResetKeep=Re,s.deflateSetHeader=function(A,le){return A&&A.state?A.state.wrap!==2?f:(A.state.gzhead=le,p):f},s.deflate=function(A,le){var oe,G,W,ne;if(!A||!A.state||5<le||le<0)return A?H(A,f):f;if(G=A.state,!A.output||!A.input&&A.avail_in!==0||G.status===666&&le!==h)return H(A,A.avail_out===0?-5:f);if(G.strm=A,oe=G.last_flush,G.last_flush=le,G.status===N)if(G.wrap===2)A.adler=0,ee(G,31),ee(G,139),ee(G,8),G.gzhead?(ee(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ee(G,255&G.gzhead.time),ee(G,G.gzhead.time>>8&255),ee(G,G.gzhead.time>>16&255),ee(G,G.gzhead.time>>24&255),ee(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ee(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ee(G,255&G.gzhead.extra.length),ee(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(A.adler=c(A.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ee(G,0),ee(G,0),ee(G,0),ee(G,0),ee(G,0),ee(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ee(G,3),G.status=O);else{var de=x+(G.w_bits-8<<4)<<8;de|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(de|=32),de+=31-de%31,G.status=O,J(G,de),G.strstart!==0&&(J(G,A.adler>>>16),J(G,65535&A.adler)),A.adler=1}if(G.status===69)if(G.gzhead.extra){for(W=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),B(A),W=G.pending,G.pending!==G.pending_buf_size));)ee(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){W=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),B(A),W=G.pending,G.pending===G.pending_buf_size)){ne=1;break}ne=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ee(G,ne)}while(ne!==0);G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),ne===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){W=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),B(A),W=G.pending,G.pending===G.pending_buf_size)){ne=1;break}ne=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ee(G,ne)}while(ne!==0);G.gzhead.hcrc&&G.pending>W&&(A.adler=c(A.adler,G.pending_buf,G.pending-W,W)),ne===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&B(A),G.pending+2<=G.pending_buf_size&&(ee(G,255&A.adler),ee(G,A.adler>>8&255),A.adler=0,G.status=O)):G.status=O),G.pending!==0){if(B(A),A.avail_out===0)return G.last_flush=-1,p}else if(A.avail_in===0&&M(le)<=M(oe)&&le!==h)return H(A,-5);if(G.status===666&&A.avail_in!==0)return H(A,-5);if(A.avail_in!==0||G.lookahead!==0||le!==d&&G.status!==666){var ge=G.strategy===2?function(se,we){for(var $e;;){if(se.lookahead===0&&(pe(se),se.lookahead===0)){if(we===d)return I;break}if(se.match_length=0,$e=a._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,$e&&(V(se,!1),se.strm.avail_out===0))return I}return se.insert=0,we===h?(V(se,!0),se.strm.avail_out===0?F:j):se.last_lit&&(V(se,!1),se.strm.avail_out===0)?I:L}(G,le):G.strategy===3?function(se,we){for(var $e,ke,Me,ft,Ye=se.window;;){if(se.lookahead<=_){if(pe(se),se.lookahead<=_&&we===d)return I;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=T&&0<se.strstart&&(ke=Ye[Me=se.strstart-1])===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]){ft=se.strstart+_;do;while(ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&ke===Ye[++Me]&&Me<ft);se.match_length=_-(ft-Me),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=T?($e=a._tr_tally(se,1,se.match_length-T),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):($e=a._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),$e&&(V(se,!1),se.strm.avail_out===0))return I}return se.insert=0,we===h?(V(se,!0),se.strm.avail_out===0?F:j):se.last_lit&&(V(se,!1),se.strm.avail_out===0)?I:L}(G,le):o[G.level].func(G,le);if(ge!==F&&ge!==j||(G.status=666),ge===I||ge===F)return A.avail_out===0&&(G.last_flush=-1),p;if(ge===L&&(le===1?a._tr_align(G):le!==5&&(a._tr_stored_block(G,0,0,!1),le===3&&(U(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),B(A),A.avail_out===0))return G.last_flush=-1,p}return le!==h?p:G.wrap<=0?1:(G.wrap===2?(ee(G,255&A.adler),ee(G,A.adler>>8&255),ee(G,A.adler>>16&255),ee(G,A.adler>>24&255),ee(G,255&A.total_in),ee(G,A.total_in>>8&255),ee(G,A.total_in>>16&255),ee(G,A.total_in>>24&255)):(J(G,A.adler>>>16),J(G,65535&A.adler)),B(A),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?p:1)},s.deflateEnd=function(A){var le;return A&&A.state?(le=A.state.status)!==N&&le!==69&&le!==73&&le!==91&&le!==103&&le!==O&&le!==666?H(A,f):(A.state=null,le===O?H(A,-3):p):f},s.deflateSetDictionary=function(A,le){var oe,G,W,ne,de,ge,se,we,$e=le.length;if(!A||!A.state||(ne=(oe=A.state).wrap)===2||ne===1&&oe.status!==N||oe.lookahead)return f;for(ne===1&&(A.adler=l(A.adler,le,$e,0)),oe.wrap=0,$e>=oe.w_size&&(ne===0&&(U(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),we=new r.Buf8(oe.w_size),r.arraySet(we,le,$e-oe.w_size,oe.w_size,0),le=we,$e=oe.w_size),de=A.avail_in,ge=A.next_in,se=A.input,A.avail_in=$e,A.next_in=0,A.input=le,pe(oe);oe.lookahead>=T;){for(G=oe.strstart,W=oe.lookahead-(T-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[G+T-1])&oe.hash_mask,oe.prev[G&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=G,G++,--W;);oe.strstart=G,oe.lookahead=T-1,pe(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=T-1,oe.match_available=0,A.next_in=ge,A.input=se,A.avail_in=de,oe.wrap=ne,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,s){i.exports=function(o,r){var a,l,c,u,d,h,p,f,m,b,g,x,y,v,w,C,k,E,T,_,z,N,O,I,L;a=o.state,l=o.next_in,I=o.input,c=l+(o.avail_in-5),u=o.next_out,L=o.output,d=u-(r-o.avail_out),h=u+(o.avail_out-257),p=a.dmax,f=a.wsize,m=a.whave,b=a.wnext,g=a.window,x=a.hold,y=a.bits,v=a.lencode,w=a.distcode,C=(1<<a.lenbits)-1,k=(1<<a.distbits)-1;e:do{y<15&&(x+=I[l++]<<y,y+=8,x+=I[l++]<<y,y+=8),E=v[x&C];t:for(;;){if(x>>>=T=E>>>24,y-=T,(T=E>>>16&255)===0)L[u++]=65535&E;else{if(!(16&T)){if(!(64&T)){E=v[(65535&E)+(x&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}_=65535&E,(T&=15)&&(y<T&&(x+=I[l++]<<y,y+=8),_+=x&(1<<T)-1,x>>>=T,y-=T),y<15&&(x+=I[l++]<<y,y+=8,x+=I[l++]<<y,y+=8),E=w[x&k];n:for(;;){if(x>>>=T=E>>>24,y-=T,!(16&(T=E>>>16&255))){if(!(64&T)){E=w[(65535&E)+(x&(1<<T)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(z=65535&E,y<(T&=15)&&(x+=I[l++]<<y,(y+=8)<T&&(x+=I[l++]<<y,y+=8)),p<(z+=x&(1<<T)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=T,y-=T,(T=u-d)<z){if(m<(T=z-T)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(O=g,(N=0)===b){if(N+=f-T,T<_){for(_-=T;L[u++]=g[N++],--T;);N=u-z,O=L}}else if(b<T){if(N+=f+b-T,(T-=b)<_){for(_-=T;L[u++]=g[N++],--T;);if(N=0,b<_){for(_-=T=b;L[u++]=g[N++],--T;);N=u-z,O=L}}}else if(N+=b-T,T<_){for(_-=T;L[u++]=g[N++],--T;);N=u-z,O=L}for(;2<_;)L[u++]=O[N++],L[u++]=O[N++],L[u++]=O[N++],_-=3;_&&(L[u++]=O[N++],1<_&&(L[u++]=O[N++]))}else{for(N=u-z;L[u++]=L[N++],L[u++]=L[N++],L[u++]=L[N++],2<(_-=3););_&&(L[u++]=L[N++],1<_&&(L[u++]=L[N++]))}break}}break}}while(l<c&&u<h);l-=_=y>>3,x&=(1<<(y-=_<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<h?h-u+257:257-(u-h),a.hold=x,a.bits=y}},{}],49:[function(n,i,s){var o=n("../utils/common"),r=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,h=0,p=-2,f=1,m=852,b=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(N){var O;return N&&N.state?(O=N.state,N.total_in=N.total_out=O.total=0,N.msg="",O.wrap&&(N.adler=1&O.wrap),O.mode=f,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new o.Buf32(m),O.distcode=O.distdyn=new o.Buf32(b),O.sane=1,O.back=-1,h):p}function v(N){var O;return N&&N.state?((O=N.state).wsize=0,O.whave=0,O.wnext=0,y(N)):p}function w(N,O){var I,L;return N&&N.state?(L=N.state,O<0?(I=0,O=-O):(I=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?p:(L.window!==null&&L.wbits!==O&&(L.window=null),L.wrap=I,L.wbits=O,v(N))):p}function C(N,O){var I,L;return N?(L=new x,(N.state=L).window=null,(I=w(N,O))!==h&&(N.state=null),I):p}var k,E,T=!0;function _(N){if(T){var O;for(k=new o.Buf32(512),E=new o.Buf32(32),O=0;O<144;)N.lens[O++]=8;for(;O<256;)N.lens[O++]=9;for(;O<280;)N.lens[O++]=7;for(;O<288;)N.lens[O++]=8;for(c(u,N.lens,0,288,k,0,N.work,{bits:9}),O=0;O<32;)N.lens[O++]=5;c(d,N.lens,0,32,E,0,N.work,{bits:5}),T=!1}N.lencode=k,N.lenbits=9,N.distcode=E,N.distbits=5}function z(N,O,I,L){var F,j=N.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new o.Buf8(j.wsize)),L>=j.wsize?(o.arraySet(j.window,O,I-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(L<(F=j.wsize-j.wnext)&&(F=L),o.arraySet(j.window,O,I-L,F,j.wnext),(L-=F)?(o.arraySet(j.window,O,I-L,L,0),j.wnext=L,j.whave=j.wsize):(j.wnext+=F,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=F))),0}s.inflateReset=v,s.inflateReset2=w,s.inflateResetKeep=y,s.inflateInit=function(N){return C(N,15)},s.inflateInit2=C,s.inflate=function(N,O){var I,L,F,j,H,M,U,B,V,ee,J,Z,pe,ve,ye,Ce,Fe,Re,Ze,st,A,le,oe,G,W=0,ne=new o.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(I=N.state).mode===12&&(I.mode=13),H=N.next_out,F=N.output,U=N.avail_out,j=N.next_in,L=N.input,M=N.avail_in,B=I.hold,V=I.bits,ee=M,J=U,le=h;e:for(;;)switch(I.mode){case f:if(I.wrap===0){I.mode=13;break}for(;V<16;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(2&I.wrap&&B===35615){ne[I.check=0]=255&B,ne[1]=B>>>8&255,I.check=a(I.check,ne,2,0),V=B=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&B)<<8)+(B>>8))%31){N.msg="incorrect header check",I.mode=30;break}if((15&B)!=8){N.msg="unknown compression method",I.mode=30;break}if(V-=4,A=8+(15&(B>>>=4)),I.wbits===0)I.wbits=A;else if(A>I.wbits){N.msg="invalid window size",I.mode=30;break}I.dmax=1<<A,N.adler=I.check=1,I.mode=512&B?10:12,V=B=0;break;case 2:for(;V<16;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(I.flags=B,(255&I.flags)!=8){N.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){N.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=B>>8&1),512&I.flags&&(ne[0]=255&B,ne[1]=B>>>8&255,I.check=a(I.check,ne,2,0)),V=B=0,I.mode=3;case 3:for(;V<32;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.head&&(I.head.time=B),512&I.flags&&(ne[0]=255&B,ne[1]=B>>>8&255,ne[2]=B>>>16&255,ne[3]=B>>>24&255,I.check=a(I.check,ne,4,0)),V=B=0,I.mode=4;case 4:for(;V<16;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.head&&(I.head.xflags=255&B,I.head.os=B>>8),512&I.flags&&(ne[0]=255&B,ne[1]=B>>>8&255,I.check=a(I.check,ne,2,0)),V=B=0,I.mode=5;case 5:if(1024&I.flags){for(;V<16;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.length=B,I.head&&(I.head.extra_len=B),512&I.flags&&(ne[0]=255&B,ne[1]=B>>>8&255,I.check=a(I.check,ne,2,0)),V=B=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(M<(Z=I.length)&&(Z=M),Z&&(I.head&&(A=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),o.arraySet(I.head.extra,L,j,Z,A)),512&I.flags&&(I.check=a(I.check,L,Z,j)),M-=Z,j+=Z,I.length-=Z),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(M===0)break e;for(Z=0;A=L[j+Z++],I.head&&A&&I.length<65536&&(I.head.name+=String.fromCharCode(A)),A&&Z<M;);if(512&I.flags&&(I.check=a(I.check,L,Z,j)),M-=Z,j+=Z,A)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(M===0)break e;for(Z=0;A=L[j+Z++],I.head&&A&&I.length<65536&&(I.head.comment+=String.fromCharCode(A)),A&&Z<M;);if(512&I.flags&&(I.check=a(I.check,L,Z,j)),M-=Z,j+=Z,A)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;V<16;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(B!==(65535&I.check)){N.msg="header crc mismatch",I.mode=30;break}V=B=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),N.adler=I.check=0,I.mode=12;break;case 10:for(;V<32;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}N.adler=I.check=g(B),V=B=0,I.mode=11;case 11:if(I.havedict===0)return N.next_out=H,N.avail_out=U,N.next_in=j,N.avail_in=M,I.hold=B,I.bits=V,2;N.adler=I.check=1,I.mode=12;case 12:if(O===5||O===6)break e;case 13:if(I.last){B>>>=7&V,V-=7&V,I.mode=27;break}for(;V<3;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}switch(I.last=1&B,V-=1,3&(B>>>=1)){case 0:I.mode=14;break;case 1:if(_(I),I.mode=20,O!==6)break;B>>>=2,V-=2;break e;case 2:I.mode=17;break;case 3:N.msg="invalid block type",I.mode=30}B>>>=2,V-=2;break;case 14:for(B>>>=7&V,V-=7&V;V<32;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if((65535&B)!=(B>>>16^65535)){N.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&B,V=B=0,I.mode=15,O===6)break e;case 15:I.mode=16;case 16:if(Z=I.length){if(M<Z&&(Z=M),U<Z&&(Z=U),Z===0)break e;o.arraySet(F,L,j,Z,H),M-=Z,j+=Z,U-=Z,H+=Z,I.length-=Z;break}I.mode=12;break;case 17:for(;V<14;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(I.nlen=257+(31&B),B>>>=5,V-=5,I.ndist=1+(31&B),B>>>=5,V-=5,I.ncode=4+(15&B),B>>>=4,V-=4,286<I.nlen||30<I.ndist){N.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;V<3;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.lens[de[I.have++]]=7&B,B>>>=3,V-=3}for(;I.have<19;)I.lens[de[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,oe={bits:I.lenbits},le=c(0,I.lens,0,19,I.lencode,0,I.work,oe),I.lenbits=oe.bits,le){N.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;Ce=(W=I.lencode[B&(1<<I.lenbits)-1])>>>16&255,Fe=65535&W,!((ye=W>>>24)<=V);){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(Fe<16)B>>>=ye,V-=ye,I.lens[I.have++]=Fe;else{if(Fe===16){for(G=ye+2;V<G;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(B>>>=ye,V-=ye,I.have===0){N.msg="invalid bit length repeat",I.mode=30;break}A=I.lens[I.have-1],Z=3+(3&B),B>>>=2,V-=2}else if(Fe===17){for(G=ye+3;V<G;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}V-=ye,A=0,Z=3+(7&(B>>>=ye)),B>>>=3,V-=3}else{for(G=ye+7;V<G;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}V-=ye,A=0,Z=11+(127&(B>>>=ye)),B>>>=7,V-=7}if(I.have+Z>I.nlen+I.ndist){N.msg="invalid bit length repeat",I.mode=30;break}for(;Z--;)I.lens[I.have++]=A}}if(I.mode===30)break;if(I.lens[256]===0){N.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,oe={bits:I.lenbits},le=c(u,I.lens,0,I.nlen,I.lencode,0,I.work,oe),I.lenbits=oe.bits,le){N.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,oe={bits:I.distbits},le=c(d,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,oe),I.distbits=oe.bits,le){N.msg="invalid distances set",I.mode=30;break}if(I.mode=20,O===6)break e;case 20:I.mode=21;case 21:if(6<=M&&258<=U){N.next_out=H,N.avail_out=U,N.next_in=j,N.avail_in=M,I.hold=B,I.bits=V,l(N,J),H=N.next_out,F=N.output,U=N.avail_out,j=N.next_in,L=N.input,M=N.avail_in,B=I.hold,V=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;Ce=(W=I.lencode[B&(1<<I.lenbits)-1])>>>16&255,Fe=65535&W,!((ye=W>>>24)<=V);){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(Ce&&!(240&Ce)){for(Re=ye,Ze=Ce,st=Fe;Ce=(W=I.lencode[st+((B&(1<<Re+Ze)-1)>>Re)])>>>16&255,Fe=65535&W,!(Re+(ye=W>>>24)<=V);){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}B>>>=Re,V-=Re,I.back+=Re}if(B>>>=ye,V-=ye,I.back+=ye,I.length=Fe,Ce===0){I.mode=26;break}if(32&Ce){I.back=-1,I.mode=12;break}if(64&Ce){N.msg="invalid literal/length code",I.mode=30;break}I.extra=15&Ce,I.mode=22;case 22:if(I.extra){for(G=I.extra;V<G;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.length+=B&(1<<I.extra)-1,B>>>=I.extra,V-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;Ce=(W=I.distcode[B&(1<<I.distbits)-1])>>>16&255,Fe=65535&W,!((ye=W>>>24)<=V);){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(!(240&Ce)){for(Re=ye,Ze=Ce,st=Fe;Ce=(W=I.distcode[st+((B&(1<<Re+Ze)-1)>>Re)])>>>16&255,Fe=65535&W,!(Re+(ye=W>>>24)<=V);){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}B>>>=Re,V-=Re,I.back+=Re}if(B>>>=ye,V-=ye,I.back+=ye,64&Ce){N.msg="invalid distance code",I.mode=30;break}I.offset=Fe,I.extra=15&Ce,I.mode=24;case 24:if(I.extra){for(G=I.extra;V<G;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}I.offset+=B&(1<<I.extra)-1,B>>>=I.extra,V-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){N.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(U===0)break e;if(Z=J-U,I.offset>Z){if((Z=I.offset-Z)>I.whave&&I.sane){N.msg="invalid distance too far back",I.mode=30;break}pe=Z>I.wnext?(Z-=I.wnext,I.wsize-Z):I.wnext-Z,Z>I.length&&(Z=I.length),ve=I.window}else ve=F,pe=H-I.offset,Z=I.length;for(U<Z&&(Z=U),U-=Z,I.length-=Z;F[H++]=ve[pe++],--Z;);I.length===0&&(I.mode=21);break;case 26:if(U===0)break e;F[H++]=I.length,U--,I.mode=21;break;case 27:if(I.wrap){for(;V<32;){if(M===0)break e;M--,B|=L[j++]<<V,V+=8}if(J-=U,N.total_out+=J,I.total+=J,J&&(N.adler=I.check=I.flags?a(I.check,F,J,H-J):r(I.check,F,J,H-J)),J=U,(I.flags?B:g(B))!==I.check){N.msg="incorrect data check",I.mode=30;break}V=B=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;V<32;){if(M===0)break e;M--,B+=L[j++]<<V,V+=8}if(B!==(4294967295&I.total)){N.msg="incorrect length check",I.mode=30;break}V=B=0}I.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return p}return N.next_out=H,N.avail_out=U,N.next_in=j,N.avail_in=M,I.hold=B,I.bits=V,(I.wsize||J!==N.avail_out&&I.mode<30&&(I.mode<27||O!==4))&&z(N,N.output,N.next_out,J-N.avail_out)?(I.mode=31,-4):(ee-=N.avail_in,J-=N.avail_out,N.total_in+=ee,N.total_out+=J,I.total+=J,I.wrap&&J&&(N.adler=I.check=I.flags?a(I.check,F,J,N.next_out-J):r(I.check,F,J,N.next_out-J)),N.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(ee==0&&J===0||O===4)&&le===h&&(le=-5),le)},s.inflateEnd=function(N){if(!N||!N.state)return p;var O=N.state;return O.window&&(O.window=null),N.state=null,h},s.inflateGetHeader=function(N,O){var I;return N&&N.state&&2&(I=N.state).wrap?((I.head=O).done=!1,h):p},s.inflateSetDictionary=function(N,O){var I,L=O.length;return N&&N.state?(I=N.state).wrap!==0&&I.mode!==11?p:I.mode===11&&r(1,O,L,0)!==I.check?-3:z(N,O,L,L)?(I.mode=31,-4):(I.havedict=1,h):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,s){var o=n("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,d,h,p,f,m,b,g){var x,y,v,w,C,k,E,T,_,z=g.bits,N=0,O=0,I=0,L=0,F=0,j=0,H=0,M=0,U=0,B=0,V=null,ee=0,J=new o.Buf16(16),Z=new o.Buf16(16),pe=null,ve=0;for(N=0;N<=15;N++)J[N]=0;for(O=0;O<p;O++)J[d[h+O]]++;for(F=z,L=15;1<=L&&J[L]===0;L--);if(L<F&&(F=L),L===0)return f[m++]=20971520,f[m++]=20971520,g.bits=1,0;for(I=1;I<L&&J[I]===0;I++);for(F<I&&(F=I),N=M=1;N<=15;N++)if(M<<=1,(M-=J[N])<0)return-1;if(0<M&&(u===0||L!==1))return-1;for(Z[1]=0,N=1;N<15;N++)Z[N+1]=Z[N]+J[N];for(O=0;O<p;O++)d[h+O]!==0&&(b[Z[d[h+O]]++]=O);if(k=u===0?(V=pe=b,19):u===1?(V=r,ee-=257,pe=a,ve-=257,256):(V=l,pe=c,-1),N=I,C=m,H=O=B=0,v=-1,w=(U=1<<(j=F))-1,u===1&&852<U||u===2&&592<U)return 1;for(;;){for(E=N-H,_=b[O]<k?(T=0,b[O]):b[O]>k?(T=pe[ve+b[O]],V[ee+b[O]]):(T=96,0),x=1<<N-H,I=y=1<<j;f[C+(B>>H)+(y-=x)]=E<<24|T<<16|_|0,y!==0;);for(x=1<<N-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,O++,--J[N]==0){if(N===L)break;N=d[h+b[O]]}if(F<N&&(B&w)!==v){for(H===0&&(H=F),C+=I,M=1<<(j=N-H);j+H<L&&!((M-=J[j+H])<=0);)j++,M<<=1;if(U+=1<<j,u===1&&852<U||u===2&&592<U)return 1;f[v=B&w]=F<<24|j<<16|C-m|0}}return B!==0&&(f[C+B]=N-H<<24|64<<16|0),g.bits=F,0}},{"../utils/common":41}],51:[function(n,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,s){var o=n("../utils/common"),r=0,a=1;function l(W){for(var ne=W.length;0<=--ne;)W[ne]=0}var c=0,u=29,d=256,h=d+1+u,p=30,f=19,m=2*h+1,b=15,g=16,x=7,y=256,v=16,w=17,C=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(h+2));l(z);var N=new Array(2*p);l(N);var O=new Array(512);l(O);var I=new Array(256);l(I);var L=new Array(u);l(L);var F,j,H,M=new Array(p);function U(W,ne,de,ge,se){this.static_tree=W,this.extra_bits=ne,this.extra_base=de,this.elems=ge,this.max_length=se,this.has_stree=W&&W.length}function B(W,ne){this.dyn_tree=W,this.max_code=0,this.stat_desc=ne}function V(W){return W<256?O[W]:O[256+(W>>>7)]}function ee(W,ne){W.pending_buf[W.pending++]=255&ne,W.pending_buf[W.pending++]=ne>>>8&255}function J(W,ne,de){W.bi_valid>g-de?(W.bi_buf|=ne<<W.bi_valid&65535,ee(W,W.bi_buf),W.bi_buf=ne>>g-W.bi_valid,W.bi_valid+=de-g):(W.bi_buf|=ne<<W.bi_valid&65535,W.bi_valid+=de)}function Z(W,ne,de){J(W,de[2*ne],de[2*ne+1])}function pe(W,ne){for(var de=0;de|=1&W,W>>>=1,de<<=1,0<--ne;);return de>>>1}function ve(W,ne,de){var ge,se,we=new Array(b+1),$e=0;for(ge=1;ge<=b;ge++)we[ge]=$e=$e+de[ge-1]<<1;for(se=0;se<=ne;se++){var ke=W[2*se+1];ke!==0&&(W[2*se]=pe(we[ke]++,ke))}}function ye(W){var ne;for(ne=0;ne<h;ne++)W.dyn_ltree[2*ne]=0;for(ne=0;ne<p;ne++)W.dyn_dtree[2*ne]=0;for(ne=0;ne<f;ne++)W.bl_tree[2*ne]=0;W.dyn_ltree[2*y]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function Ce(W){8<W.bi_valid?ee(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function Fe(W,ne,de,ge){var se=2*ne,we=2*de;return W[se]<W[we]||W[se]===W[we]&&ge[ne]<=ge[de]}function Re(W,ne,de){for(var ge=W.heap[de],se=de<<1;se<=W.heap_len&&(se<W.heap_len&&Fe(ne,W.heap[se+1],W.heap[se],W.depth)&&se++,!Fe(ne,ge,W.heap[se],W.depth));)W.heap[de]=W.heap[se],de=se,se<<=1;W.heap[de]=ge}function Ze(W,ne,de){var ge,se,we,$e,ke=0;if(W.last_lit!==0)for(;ge=W.pending_buf[W.d_buf+2*ke]<<8|W.pending_buf[W.d_buf+2*ke+1],se=W.pending_buf[W.l_buf+ke],ke++,ge===0?Z(W,se,ne):(Z(W,(we=I[se])+d+1,ne),($e=k[we])!==0&&J(W,se-=L[we],$e),Z(W,we=V(--ge),de),($e=E[we])!==0&&J(W,ge-=M[we],$e)),ke<W.last_lit;);Z(W,y,ne)}function st(W,ne){var de,ge,se,we=ne.dyn_tree,$e=ne.stat_desc.static_tree,ke=ne.stat_desc.has_stree,Me=ne.stat_desc.elems,ft=-1;for(W.heap_len=0,W.heap_max=m,de=0;de<Me;de++)we[2*de]!==0?(W.heap[++W.heap_len]=ft=de,W.depth[de]=0):we[2*de+1]=0;for(;W.heap_len<2;)we[2*(se=W.heap[++W.heap_len]=ft<2?++ft:0)]=1,W.depth[se]=0,W.opt_len--,ke&&(W.static_len-=$e[2*se+1]);for(ne.max_code=ft,de=W.heap_len>>1;1<=de;de--)Re(W,we,de);for(se=Me;de=W.heap[1],W.heap[1]=W.heap[W.heap_len--],Re(W,we,1),ge=W.heap[1],W.heap[--W.heap_max]=de,W.heap[--W.heap_max]=ge,we[2*se]=we[2*de]+we[2*ge],W.depth[se]=(W.depth[de]>=W.depth[ge]?W.depth[de]:W.depth[ge])+1,we[2*de+1]=we[2*ge+1]=se,W.heap[1]=se++,Re(W,we,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(Ye,on){var ws,wn,_o,Et,Sa,Hl,Ao=on.dyn_tree,wg=on.max_code,x1=on.stat_desc.static_tree,y1=on.stat_desc.has_stree,v1=on.stat_desc.extra_bits,kg=on.stat_desc.extra_base,Wl=on.stat_desc.max_length,Iu=0;for(Et=0;Et<=b;Et++)Ye.bl_count[Et]=0;for(Ao[2*Ye.heap[Ye.heap_max]+1]=0,ws=Ye.heap_max+1;ws<m;ws++)Wl<(Et=Ao[2*Ao[2*(wn=Ye.heap[ws])+1]+1]+1)&&(Et=Wl,Iu++),Ao[2*wn+1]=Et,wg<wn||(Ye.bl_count[Et]++,Sa=0,kg<=wn&&(Sa=v1[wn-kg]),Hl=Ao[2*wn],Ye.opt_len+=Hl*(Et+Sa),y1&&(Ye.static_len+=Hl*(x1[2*wn+1]+Sa)));if(Iu!==0){do{for(Et=Wl-1;Ye.bl_count[Et]===0;)Et--;Ye.bl_count[Et]--,Ye.bl_count[Et+1]+=2,Ye.bl_count[Wl]--,Iu-=2}while(0<Iu);for(Et=Wl;Et!==0;Et--)for(wn=Ye.bl_count[Et];wn!==0;)wg<(_o=Ye.heap[--ws])||(Ao[2*_o+1]!==Et&&(Ye.opt_len+=(Et-Ao[2*_o+1])*Ao[2*_o],Ao[2*_o+1]=Et),wn--)}}(W,ne),ve(we,ft,W.bl_count)}function A(W,ne,de){var ge,se,we=-1,$e=ne[1],ke=0,Me=7,ft=4;for($e===0&&(Me=138,ft=3),ne[2*(de+1)+1]=65535,ge=0;ge<=de;ge++)se=$e,$e=ne[2*(ge+1)+1],++ke<Me&&se===$e||(ke<ft?W.bl_tree[2*se]+=ke:se!==0?(se!==we&&W.bl_tree[2*se]++,W.bl_tree[2*v]++):ke<=10?W.bl_tree[2*w]++:W.bl_tree[2*C]++,we=se,ft=(ke=0)===$e?(Me=138,3):se===$e?(Me=6,3):(Me=7,4))}function le(W,ne,de){var ge,se,we=-1,$e=ne[1],ke=0,Me=7,ft=4;for($e===0&&(Me=138,ft=3),ge=0;ge<=de;ge++)if(se=$e,$e=ne[2*(ge+1)+1],!(++ke<Me&&se===$e)){if(ke<ft)for(;Z(W,se,W.bl_tree),--ke!=0;);else se!==0?(se!==we&&(Z(W,se,W.bl_tree),ke--),Z(W,v,W.bl_tree),J(W,ke-3,2)):ke<=10?(Z(W,w,W.bl_tree),J(W,ke-3,3)):(Z(W,C,W.bl_tree),J(W,ke-11,7));we=se,ft=(ke=0)===$e?(Me=138,3):se===$e?(Me=6,3):(Me=7,4)}}l(M);var oe=!1;function G(W,ne,de,ge){J(W,(c<<1)+(ge?1:0),3),function(se,we,$e,ke){Ce(se),ee(se,$e),ee(se,~$e),o.arraySet(se.pending_buf,se.window,we,$e,se.pending),se.pending+=$e}(W,ne,de)}s._tr_init=function(W){oe||(function(){var ne,de,ge,se,we,$e=new Array(b+1);for(se=ge=0;se<u-1;se++)for(L[se]=ge,ne=0;ne<1<<k[se];ne++)I[ge++]=se;for(I[ge-1]=se,se=we=0;se<16;se++)for(M[se]=we,ne=0;ne<1<<E[se];ne++)O[we++]=se;for(we>>=7;se<p;se++)for(M[se]=we<<7,ne=0;ne<1<<E[se]-7;ne++)O[256+we++]=se;for(de=0;de<=b;de++)$e[de]=0;for(ne=0;ne<=143;)z[2*ne+1]=8,ne++,$e[8]++;for(;ne<=255;)z[2*ne+1]=9,ne++,$e[9]++;for(;ne<=279;)z[2*ne+1]=7,ne++,$e[7]++;for(;ne<=287;)z[2*ne+1]=8,ne++,$e[8]++;for(ve(z,h+1,$e),ne=0;ne<p;ne++)N[2*ne+1]=5,N[2*ne]=pe(ne,5);F=new U(z,k,d+1,h,b),j=new U(N,E,0,p,b),H=new U(new Array(0),T,0,f,x)}(),oe=!0),W.l_desc=new B(W.dyn_ltree,F),W.d_desc=new B(W.dyn_dtree,j),W.bl_desc=new B(W.bl_tree,H),W.bi_buf=0,W.bi_valid=0,ye(W)},s._tr_stored_block=G,s._tr_flush_block=function(W,ne,de,ge){var se,we,$e=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ke){var Me,ft=4093624447;for(Me=0;Me<=31;Me++,ft>>>=1)if(1&ft&&ke.dyn_ltree[2*Me]!==0)return r;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return a;for(Me=32;Me<d;Me++)if(ke.dyn_ltree[2*Me]!==0)return a;return r}(W)),st(W,W.l_desc),st(W,W.d_desc),$e=function(ke){var Me;for(A(ke,ke.dyn_ltree,ke.l_desc.max_code),A(ke,ke.dyn_dtree,ke.d_desc.max_code),st(ke,ke.bl_desc),Me=f-1;3<=Me&&ke.bl_tree[2*_[Me]+1]===0;Me--);return ke.opt_len+=3*(Me+1)+5+5+4,Me}(W),se=W.opt_len+3+7>>>3,(we=W.static_len+3+7>>>3)<=se&&(se=we)):se=we=de+5,de+4<=se&&ne!==-1?G(W,ne,de,ge):W.strategy===4||we===se?(J(W,2+(ge?1:0),3),Ze(W,z,N)):(J(W,4+(ge?1:0),3),function(ke,Me,ft,Ye){var on;for(J(ke,Me-257,5),J(ke,ft-1,5),J(ke,Ye-4,4),on=0;on<Ye;on++)J(ke,ke.bl_tree[2*_[on]+1],3);le(ke,ke.dyn_ltree,Me-1),le(ke,ke.dyn_dtree,ft-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,$e+1),Ze(W,W.dyn_ltree,W.dyn_dtree)),ye(W),ge&&Ce(W)},s._tr_tally=function(W,ne,de){return W.pending_buf[W.d_buf+2*W.last_lit]=ne>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&ne,W.pending_buf[W.l_buf+W.last_lit]=255&de,W.last_lit++,ne===0?W.dyn_ltree[2*de]++:(W.matches++,ne--,W.dyn_ltree[2*(I[de]+d+1)]++,W.dyn_dtree[2*V(ne)]++),W.last_lit===W.lit_bufsize-1},s._tr_align=function(W){J(W,2,3),Z(W,y,z),function(ne){ne.bi_valid===16?(ee(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(n,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,s){(function(o){(function(r,a){if(!r.setImmediate){var l,c,u,d,h=1,p={},f=!1,m=r.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(r);b=b&&b.setTimeout?b:r,l={}.toString.call(r.process)==="[object process]"?function(v){process.nextTick(function(){x(v)})}:function(){if(r.postMessage&&!r.importScripts){var v=!0,w=r.onmessage;return r.onmessage=function(){v=!1},r.postMessage("","*"),r.onmessage=w,v}}()?(d="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",y,!1):r.attachEvent("onmessage",y),function(v){r.postMessage(d+v,"*")}):r.MessageChannel?((u=new MessageChannel).port1.onmessage=function(v){x(v.data)},function(v){u.port2.postMessage(v)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(v){var w=m.createElement("script");w.onreadystatechange=function(){x(v),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(v){setTimeout(x,0,v)},b.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var k={callback:v,args:w};return p[h]=k,l(h),h++},b.clearImmediate=g}function g(v){delete p[v]}function x(v){if(f)setTimeout(x,0,v);else{var w=p[v];if(w){f=!0;try{(function(C){var k=C.callback,E=C.args;switch(E.length){case 0:k();break;case 1:k(E[0]);break;case 2:k(E[0],E[1]);break;case 3:k(E[0],E[1],E[2]);break;default:k.apply(a,E)}})(w)}finally{g(v),f=!1}}}}function y(v){v.source===r&&typeof v.data=="string"&&v.data.indexOf(d)===0&&x(+v.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(w9);var KRe=w9.exports;const XRe=ga(KRe),gD={happy:qoe,sad:rre,love:Xoe,angry:Foe,like:cre,dislike:lre,default:Yoe},YRe=()=>{const{journalId:t,pageId:e}=hy(),[n,i]=te.useState(null),[s,o]=te.useState([]),[r,a]=te.useState(!0),[l,c]=te.useState({prev:null,next:null}),[u,d]=te.useState(null),[h,p]=te.useState(!1),[f,m]=te.useState(!1),[b,g]=te.useState(!1),[x]=Hx(),y=dy();te.useEffect(()=>{t&&e&&(async()=>{try{a(!0);const{data:I,error:L}=await Te.from("journal_pages").select("*").eq("page_id",e).single();if(L)throw L;i(I);const{data:F,error:j}=await Te.from("journal_page_contents").select("*").eq("page_id",e).order("content_order",{ascending:!0});if(j)throw j;o(F||[]);const{data:H,error:M}=await Te.from("journal_pages").select("page_id, page_no").eq("journal_id",t).order("page_no",{ascending:!0});if(M)throw M;const U=H.findIndex(B=>B.page_id===e);c({prev:U>0?H[U-1].page_id:null,next:U<H.length-1?H[U+1].page_id:null})}catch(I){console.error("Error fetching page:",I),x({message:"Failed to load page data",duration:3e3,color:"danger"})}finally{a(!1)}})()},[t,e,x]);const v=O=>new Date(O).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=O=>{const I=O.toLowerCase();return gD[I]||gD.default},C=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e))},k=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e,"/content"))},E=async()=>{if(!n)throw new Error("Page data not loaded");const O=new XRe,L=(H=>H.replace(/[^a-zA-Z0-9\-_]/g,"_"))(n.page_title||"page_".concat(n.page_no)),F=O.folder(L);let j="Title: ".concat(n.page_title||"Untitled Page","\n");j+="Page Number: ".concat(n.page_no,"\n"),j+="Mood: ".concat(n.mood||"Not specified","\n"),j+="Created: ".concat(new Date(n.created_at).toLocaleString(),"\n"),n.updated_at!==n.created_at&&(j+="Updated: ".concat(new Date(n.updated_at).toLocaleString(),"\n")),j+="\n==== Contents ====\n\n";for(const H of s)if(j+="[Item ".concat(H.content_order,"]\n"),j+="Type: ".concat(H.paragraph?"Text":H.link?"Link":H.image_url?"Image":H.file_url?"File":H.folder_name?"Folder":"Unknown","\n"),H.paragraph)j+="".concat(H.paragraph,"\n\n"),F==null||F.file("content_".concat(H.content_order,".txt"),H.paragraph);else if(H.link)j+="URL: ".concat(H.link,"\n\n"),F==null||F.file("link_".concat(H.content_order,".url"),"[InternetShortcut]\nURL=".concat(H.link));else if(H.image_url||H.file_url){const M=H.image_url||H.file_url||"",U=M.split("/").pop()||"file_".concat(H.content_order);j+="Filename: ".concat(U,"\n");try{const B=await fetch(M);if(!B.ok)throw new Error("HTTP ".concat(B.status));const V=await B.blob();F==null||F.file(U,V),j+="Status: Downloaded successfully\n\n"}catch(B){const V=B;j+="Status: Download failed (".concat(V.message,")\n\n")}}else H.folder_name&&(j+="Folder: ".concat(H.folder_name,"\n\n"));return F==null||F.file("page_contents.txt",j),await O.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})},T=async()=>{try{a(!0);const O=await E(),I=document.createElement("a");I.href=URL.createObjectURL(O),I.download="".concat(n.page_title||"journal-page",".zip"),document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href),x({message:"Download started successfully",duration:3e3,color:"success"})}catch(O){console.error("Error creating zip:",O),x({message:"Failed to prepare download. Please try again.",duration:3e3,color:"danger"})}finally{a(!1)}},_=async()=>{try{g(!0);const O=await E();await new Promise(I=>setTimeout(I,2e3)),x({message:'File "'.concat(n.page_title||"journal-page",'.zip" would be uploaded to Google Drive in a real implementation.'),duration:3e3,color:"success"})}catch(O){console.error("Error uploading to Google Drive:",O),x({message:"Failed to upload to Google Drive. Please try again.",duration:3e3,color:"danger"})}finally{g(!1)}},z=O=>{if(h)return;const I=O==="prev"?l.prev:l.next;I&&(p(!0),d(O==="prev"?"right":"left"),setTimeout(()=>{y.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat(I)),p(!1),d(null)},300))},N=O=>{const I=()=>O.paragraph?c4:O.image_url?w2:O.link?k2:O.file_url||O.folder_name?d4:c4;return S.jsx(qi,{className:"content-item",children:S.jsxs(Gi,{children:[S.jsxs(Ui,{lines:"none",children:[S.jsx(Qe,{icon:I(),slot:"start"}),S.jsxs(ii,{children:["Item #",O.content_order]})]}),O.paragraph&&S.jsx("div",{className:"content-paragraph",children:S.jsx(_n,{children:O.paragraph})}),O.image_url&&S.jsx("div",{className:"content-image",children:S.jsx(Ux,{src:O.image_url,alt:"Content ".concat(O.content_order),style:{maxHeight:"300px",objectFit:"contain"}})}),O.link&&S.jsxs(Ge,{fill:"clear",href:O.link,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(Qe,{icon:k2,slot:"start"}),"Open Link"]}),O.file_url&&S.jsxs(Ge,{fill:"clear",href:O.file_url,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(Qe,{icon:d4,slot:"start"}),"View File"]}),O.folder_name&&S.jsx(_n,{color:"medium",children:S.jsxs("p",{children:["Folder: ",O.folder_name]})})]})},O.content_id)};return r?S.jsx(Rs,{children:S.jsx(c2,{isOpen:r,message:"Loading page..."})}):n?S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsxs(wi,{children:["Page ",n.page_no]}),S.jsxs(Oi,{slot:"end",children:[S.jsx(Ge,{onClick:k,children:S.jsx(Qe,{slot:"icon-only",icon:Loe})}),S.jsx(Ge,{onClick:C,children:S.jsx(Qe,{slot:"icon-only",icon:Woe})})]})]})}),S.jsx(nn,{className:"journal-page-content",children:S.jsx("div",{className:"slide-container ".concat(u?"slide-"+u:""),children:S.jsxs("div",{className:"journal-page-container",children:[S.jsx(Oi,{slot:"start",children:S.jsx(rf,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t),style:{color:"skyblue"}})}),S.jsxs("div",{className:"journal-page-header",children:[S.jsxs("div",{className:"page-title-with-download",children:[S.jsx("h1",{style:{marginRight:"12px"},children:n.page_title}),S.jsxs(Ge,{fill:"clear",size:"small",onClick:()=>m(!0),children:[S.jsx(Qe,{icon:u4,slot:"start"}),"Export"]})]}),n.mood&&S.jsxs("div",{className:"mood-display",children:[S.jsx(Qe,{icon:w(n.mood),style:{marginRight:"6px",color:"var(--ion-color-primary)"}}),S.jsx(D0,{color:"tertiary",children:n.mood.charAt(0).toUpperCase()+n.mood.slice(1)})]}),S.jsx("div",{className:"page-metadata",children:S.jsxs(_n,{color:"medium",children:[S.jsxs("small",{children:["Created: ",v(n.created_at)]}),n.updated_at!==n.created_at&&S.jsxs("small",{children:["  Updated: ",v(n.updated_at)]})]})})]}),S.jsxs("div",{className:"contents-section",children:[S.jsxs("h2",{className:"contents-title",children:["Page Contents",S.jsx(D0,{color:"primary",style:{marginLeft:"8px"},children:s.length})]}),s.length===0?S.jsxs("div",{className:"empty-contents",children:[S.jsx(_n,{color:"medium",children:"No content items yet."}),S.jsx(Ge,{fill:"clear",onClick:k,children:"Add Content"})]}):S.jsx("div",{className:"contents-list",children:s.map(N)})]}),S.jsxs("div",{className:"page-navigation",children:[S.jsxs(Ge,{fill:"clear",disabled:!l.prev||h,onClick:()=>z("prev"),children:[S.jsx(Qe,{slot:"start",icon:Uoe}),"Previous"]}),S.jsxs(Ge,{fill:"clear",disabled:!l.next||h,onClick:()=>z("next"),children:["Next",S.jsx(Qe,{slot:"end",icon:Voe})]})]})]})})}),S.jsx(Cte,{isOpen:f,onDidDismiss:()=>m(!1),buttons:[{text:"Download to Device",icon:u4,handler:()=>{T()}},{text:"Upload to Google Drive",icon:Hoe,handler:()=>{_()}},{text:"Cancel",icon:Rb,role:"cancel"}]}),S.jsx(c2,{isOpen:b,message:"Uploading to Google Drive..."})]}):S.jsxs(Rs,{children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(Oi,{slot:"start",children:S.jsx(rf,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t)})}),S.jsx(wi,{children:"Page Not Found"})]})}),S.jsx(nn,{children:S.jsx("div",{className:"ion-padding",children:"The requested page could not be found."})})]})},ZRe=()=>{const t=dy(),e=[{name:"Home",url:"/Cephaline-Supabase/app/home",icon:Zoe},{name:"Profile",url:"/Cephaline-Supabase/app/editProfile",icon:nre}],i={...{animation:"blink 2s infinite",filter:"drop-shadow(0 0 8px white)"},animationDelay:"0.1s",color:"black"},s={display:"flex",color:"black",margin:"3%"},o={display:"flex",color:"white"},r=async()=>{try{const{error:a}=await Te.auth.signOut();if(a)throw a;t.push("/Cephaline-Supabase")}catch(a){console.error("Error logging out:",a)}};return S.jsxs(S.Fragment,{children:[S.jsxs(mte,{contentId:"main-content",children:[S.jsx(Gn,{children:S.jsx(qn,{children:S.jsx(wi,{style:i,children:"Menu Content"})})}),S.jsxs(nn,{className:"ion-padding",children:[e.map((a,l)=>S.jsx(gte,{children:S.jsxs(Ui,{style:s,routerLink:a.url,routerDirection:"forward",children:[S.jsx(Qe,{style:i,icon:a.icon,slot:"start"}),a.name]})},l)),S.jsxs(Ge,{onClick:r,expand:"full",style:{marginTop:"10%",width:"90vw",maxWidth:"250px",height:"auto",padding:"1rem"},children:[S.jsx(Qe,{icon:Qoe,slot:"start"}),"Logout"]})]})]}),S.jsxs(Rs,{id:"main-content",children:[S.jsx(Gn,{children:S.jsxs(qn,{children:[S.jsx(Oi,{slot:"start",children:S.jsx(V6,{style:i})}),S.jsx(wi,{style:o,children:"Menu"})]})}),S.jsxs(dd,{id:"main",children:[S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/home",component:Vae}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/editProfile",component:FRe}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/JournalPage/:journalId?",component:VRe}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/page-list/:journalId",component:qRe}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/JournalPageView/:journalId/:pageId",component:YRe}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app/Overviewing/:journalId",component:GRe}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/app",children:S.jsx(eie,{to:"/Cephaline-Supabase/app/home"})})]})]})]})};Wte();const JRe=()=>S.jsx(H6,{children:S.jsx(fie,{children:S.jsxs(dd,{children:[S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase",component:wae}),S.jsx(Ro,{exact:!0,path:"/Cephaline-Supabase/registration",component:Fae}),S.jsx(Ro,{path:"/Cephaline-Supabase/app",component:ZRe})]})})}),QRe=document.getElementById("root"),e6e=DV.createRoot(QRe);e6e.render(S.jsx(xe.StrictMode,{children:S.jsx(JRe,{})}));export{f6 as K,i6e as __vite_legacy_guard,ji as a,Ko as b,Uf as c,Ds as d,NC as e,E0 as f,$R as g,i2 as h,sa as i,_t as j,Xn as k,e2 as l,k6e as m,Ee as n,o6e as o,s6e as p,ga as q,zc as r,w6e as s,cs as w};
