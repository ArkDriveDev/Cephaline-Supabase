function Bre(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function KI(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var l4={exports:{}},$p={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=Symbol.for("react.transitional.element"),XI=Symbol.for("react.fragment");function c4(n,e,t){var r=null;if(t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:YI,type:n,key:r,ref:e!==void 0?e:null,props:t}}$p.Fragment=XI;$p.jsx=c4;$p.jsxs=c4;l4.exports=$p;var k=l4.exports,u4={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=Symbol.for("react.transitional.element"),ZI=Symbol.for("react.portal"),JI=Symbol.for("react.fragment"),QI=Symbol.for("react.strict_mode"),e8=Symbol.for("react.profiler"),t8=Symbol.for("react.consumer"),n8=Symbol.for("react.context"),r8=Symbol.for("react.forward_ref"),i8=Symbol.for("react.suspense"),o8=Symbol.for("react.memo"),d4=Symbol.for("react.lazy"),Dw=Symbol.iterator;function a8(n){return n===null||typeof n!="object"?null:(n=Dw&&n[Dw]||n["@@iterator"],typeof n=="function"?n:null)}var h4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f4=Object.assign,p4={};function Sc(n,e,t){this.props=n,this.context=e,this.refs=p4,this.updater=t||h4}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Sc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function m4(){}m4.prototype=Sc.prototype;function ux(n,e,t){this.props=n,this.context=e,this.refs=p4,this.updater=t||h4}var dx=ux.prototype=new m4;dx.constructor=ux;f4(dx,Sc.prototype);dx.isPureReactComponent=!0;var Ow=Array.isArray,Rt={H:null,A:null,T:null,S:null},g4=Object.prototype.hasOwnProperty;function hx(n,e,t,r,i,o){return t=o.ref,{$$typeof:cx,type:n,key:e,ref:t!==void 0?t:null,props:o}}function s8(n,e){return hx(n.type,e,void 0,void 0,void 0,n.props)}function fx(n){return typeof n=="object"&&n!==null&&n.$$typeof===cx}function l8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Mw=/\/+/g;function gg(n,e){return typeof n=="object"&&n!==null&&n.key!=null?l8(""+n.key):e.toString(36)}function Bw(){}function c8(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(Bw,Bw):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function ml(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case cx:case ZI:a=!0;break;case d4:return a=n._init,ml(a(n._payload),e,t,r,i)}}if(a)return i=i(n),a=r===""?"."+gg(n,0):r,Ow(i)?(t="",a!=null&&(t=a.replace(Mw,"$&/")+"/"),ml(i,e,t,"",function(c){return c})):i!=null&&(fx(i)&&(i=s8(i,t+(i.key==null||n&&n.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+a)),e.push(i)),1;a=0;var s=r===""?".":r+":";if(Ow(n))for(var l=0;l<n.length;l++)r=n[l],o=s+gg(r,l),a+=ml(r,e,t,o,i);else if(l=a8(n),typeof l=="function")for(n=l.call(n),l=0;!(r=n.next()).done;)r=r.value,o=s+gg(r,l++),a+=ml(r,e,t,o,i);else if(o==="object"){if(typeof n.then=="function")return ml(c8(n),e,t,r,i);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function oh(n,e,t){if(n==null)return n;var r=[],i=0;return ml(n,r,"","",function(o){return e.call(t,o,i++)}),r}function u8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Pw=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function d8(){}Ze.Children={map:oh,forEach:function(n,e,t){oh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return oh(n,function(){e++}),e},toArray:function(n){return oh(n,function(e){return e})||[]},only:function(n){if(!fx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ze.Component=Sc;Ze.Fragment=JI;Ze.Profiler=e8;Ze.PureComponent=ux;Ze.StrictMode=QI;Ze.Suspense=i8;Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;Ze.act=function(){throw Error("act(...) is not supported in production builds of React.")};Ze.cache=function(n){return function(){return n.apply(null,arguments)}};Ze.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var r=f4({},n.props),i=n.key,o=void 0;if(e!=null)for(a in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(i=""+e.key),e)!g4.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}return hx(n.type,i,void 0,void 0,o,r)};Ze.createContext=function(n){return n={$$typeof:n8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:t8,_context:n},n};Ze.createElement=function(n,e,t){var r,i={},o=null;if(e!=null)for(r in e.key!==void 0&&(o=""+e.key),e)g4.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return hx(n,o,void 0,void 0,null,i)};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(n){return{$$typeof:r8,render:n}};Ze.isValidElement=fx;Ze.lazy=function(n){return{$$typeof:d4,_payload:{_status:-1,_result:n},_init:u8}};Ze.memo=function(n,e){return{$$typeof:o8,type:n,compare:e===void 0?null:e}};Ze.startTransition=function(n){var e=Rt.T,t={};Rt.T=t;try{var r=n(),i=Rt.S;i!==null&&i(t,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(d8,Pw)}catch(o){Pw(o)}finally{Rt.T=e}};Ze.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};Ze.use=function(n){return Rt.H.use(n)};Ze.useActionState=function(n,e,t){return Rt.H.useActionState(n,e,t)};Ze.useCallback=function(n,e){return Rt.H.useCallback(n,e)};Ze.useContext=function(n){return Rt.H.useContext(n)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(n,e){return Rt.H.useDeferredValue(n,e)};Ze.useEffect=function(n,e){return Rt.H.useEffect(n,e)};Ze.useId=function(){return Rt.H.useId()};Ze.useImperativeHandle=function(n,e,t){return Rt.H.useImperativeHandle(n,e,t)};Ze.useInsertionEffect=function(n,e){return Rt.H.useInsertionEffect(n,e)};Ze.useLayoutEffect=function(n,e){return Rt.H.useLayoutEffect(n,e)};Ze.useMemo=function(n,e){return Rt.H.useMemo(n,e)};Ze.useOptimistic=function(n,e){return Rt.H.useOptimistic(n,e)};Ze.useReducer=function(n,e,t){return Rt.H.useReducer(n,e,t)};Ze.useRef=function(n){return Rt.H.useRef(n)};Ze.useState=function(n){return Rt.H.useState(n)};Ze.useSyncExternalStore=function(n,e,t){return Rt.H.useSyncExternalStore(n,e,t)};Ze.useTransition=function(){return Rt.H.useTransition()};Ze.version="19.0.0";u4.exports=Ze;var K=u4.exports;const de=js(K);var b4={exports:{}},Up={},v4={exports:{}},x4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,z){var U=L.length;L.push(z);e:for(;0<U;){var P=U-1>>>1,$=L[P];if(0<i($,z))L[P]=z,L[U]=$,U=P;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],U=L.pop();if(U!==z){L[0]=U;e:for(var P=0,$=L.length,F=$>>>1;P<F;){var N=2*(P+1)-1,ee=L[N],X=N+1,J=L[X];if(0>i(ee,U))X<$&&0>i(J,ee)?(L[P]=J,L[X]=U,P=X):(L[P]=ee,L[N]=U,P=N);else if(X<$&&0>i(J,U))L[P]=J,L[X]=U,P=X;else break e}}return z}function i(L,z){var U=L.sortIndex-z.sortIndex;return U!==0?U:L.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function x(L){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function y(L){if(m=!1,x(L),!p)if(t(l)!==null)p=!0,T();else{var z=t(c);z!==null&&B(y,z.startTime-L)}}var w=!1,E=-1,C=5,S=-1;function _(){return!(n.unstable_now()-S<C)}function A(){if(w){var L=n.unstable_now();S=L;var z=!0;try{e:{p=!1,m&&(m=!1,g(E),E=-1),f=!0;var U=h;try{t:{for(x(L),d=t(l);d!==null&&!(d.expirationTime>L&&_());){var P=d.callback;if(typeof P=="function"){d.callback=null,h=d.priorityLevel;var $=P(d.expirationTime<=L);if(L=n.unstable_now(),typeof $=="function"){d.callback=$,x(L),z=!0;break t}d===t(l)&&r(l),x(L)}else r(l);d=t(l)}if(d!==null)z=!0;else{var F=t(c);F!==null&&B(y,F.startTime-L),z=!1}}break e}finally{d=null,h=U,f=!1}z=void 0}}finally{z?D():w=!1}}}var D;if(typeof v=="function")D=function(){v(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=A,D=function(){M.postMessage(null)}}else D=function(){b(A,0)};function T(){w||(w=!0,D())}function B(L,z){E=b(function(){L(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,T())},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var U=h;h=z;try{return L()}finally{h=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=h;h=L;try{return z()}finally{h=U}},n.unstable_scheduleCallback=function(L,z,U){var P=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,L={id:u++,callback:z,priorityLevel:L,startTime:U,expirationTime:$,sortIndex:-1},U>P?(L.sortIndex=U,e(c,L),t(l)===null&&L===t(c)&&(m?(g(E),E=-1):m=!0,B(y,U-P))):(L.sortIndex=$,e(l,L),p||f||(p=!0,T())),L},n.unstable_shouldYield=_,n.unstable_wrapCallback=function(L){var z=h;return function(){var U=h;h=z;try{return L.apply(this,arguments)}finally{h=U}}}})(x4);v4.exports=x4;var h8=v4.exports,y4={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8=K;function w4(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $o(){}var Xn={d:{f:$o,r:function(){throw Error(w4(522))},D:$o,C:$o,L:$o,m:$o,X:$o,S:$o,M:$o},p:0,findDOMNode:null},p8=Symbol.for("react.portal");function m8(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p8,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}var bu=f8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Hp(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xn;tr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(w4(299));return m8(n,e,null,t)};tr.flushSync=function(n){var e=bu.T,t=Xn.p;try{if(bu.T=null,Xn.p=2,n)return n()}finally{bu.T=e,Xn.p=t,Xn.d.f()}};tr.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Xn.d.C(n,e))};tr.prefetchDNS=function(n){typeof n=="string"&&Xn.d.D(n)};tr.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,r=Hp(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?Xn.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):t==="script"&&Xn.d.X(n,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};tr.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Hp(e.as,e.crossOrigin);Xn.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Xn.d.M(n)};tr.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,r=Hp(t,e.crossOrigin);Xn.d.L(n,t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};tr.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Hp(e.as,e.crossOrigin);Xn.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Xn.d.m(n)};tr.requestFormReset=function(n){Xn.d.r(n)};tr.unstable_batchedUpdates=function(n,e){return n(e)};tr.useFormState=function(n,e,t){return bu.H.useFormState(n,e,t)};tr.useFormStatus=function(){return bu.H.useHostTransitionStatus()};tr.version="19.0.0";function k4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k4)}catch(n){console.error(n)}}k4(),y4.exports=tr;var px=y4.exports;const g8=js(px);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=h8,_4=K,b8=px;function ce(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var v8=Symbol.for("react.element"),ah=Symbol.for("react.transitional.element"),uu=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),E4=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),S4=Symbol.for("react.consumer"),xo=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),sb=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),T4=Symbol.for("react.offscreen"),y8=Symbol.for("react.memo_cache_sentinel"),Lw=Symbol.iterator;function Vc(n){return n===null||typeof n!="object"?null:(n=Lw&&n[Lw]||n["@@iterator"],typeof n=="function"?n:null)}var w8=Symbol.for("react.client.reference");function lb(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===w8?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Il:return"Fragment";case uu:return"Portal";case ob:return"Profiler";case E4:return"StrictMode";case ab:return"Suspense";case sb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case xo:return(n.displayName||"Context")+".Provider";case S4:return(n._context.displayName||"Context")+".Consumer";case mx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case gx:return e=n.displayName||null,e!==null?e:lb(n.type)||"Memo";case ea:e=n._payload,n=n._init;try{return lb(n(e))}catch(t){}}return null}var Ve=_4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St=Object.assign,bg,zw;function du(n){if(bg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bg=e&&e[1]||"",zw=-1<t.stack.indexOf("\n    at")?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+bg+n+zw}var vg=!1;function xg(n,e){if(!n||vg)return"";vg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(n,[],d)}else{try{d.call()}catch(f){h=f}n.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=n())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=r&&0<=i);break}}}finally{vg=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?du(t):""}function k8(n){switch(n.tag){case 26:case 27:case 5:return du(n.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 15:return n=xg(n.type,!1),n;case 11:return n=xg(n.type.render,!1),n;case 1:return n=xg(n.type,!0),n;default:return""}}function jw(n){try{var e="";do e+=k8(n),n=n.return;while(n);return e}catch(t){return"\nError generating stack: "+t.message+"\n"+t.stack}}function Tc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function A4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Nw(n){if(Tc(n)!==n)throw Error(ce(188))}function _8(n){var e=n.alternate;if(!e){if(e=Tc(n),e===null)throw Error(ce(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return Nw(i),n;if(o===r)return Nw(i),e;o=o.sibling}throw Error(ce(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===t){a=!0,t=i,r=o;break}if(s===r){a=!0,r=i,t=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===t){a=!0,t=o,r=i;break}if(s===r){a=!0,r=o,t=i;break}s=s.sibling}if(!a)throw Error(ce(189))}}if(t.alternate!==r)throw Error(ce(190))}if(t.tag!==3)throw Error(ce(188));return t.stateNode.current===t?n:e}function I4(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=I4(n),e!==null)return e;n=n.sibling}return null}var hu=Array.isArray,Et=b8.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gs={pending:!1,data:null,method:null,action:null},cb=[],Rl=-1;function Yi(n){return{current:n}}function vn(n){0>Rl||(n.current=cb[Rl],cb[Rl]=null,Rl--)}function Tt(n,e){Rl++,cb[Rl]=n.current,n.current=e}var Ni=Yi(null),Fu=Yi(null),pa=Yi(null),xf=Yi(null);function yf(n,e){switch(Tt(pa,e),Tt(Fu,n),Tt(Ni,null),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?F2(e):0;break;default:if(n=n===8?e.parentNode:e,e=n.tagName,n=n.namespaceURI)n=F2(n),e=$E(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}vn(Ni),Tt(Ni,e)}function sc(){vn(Ni),vn(Fu),vn(pa)}function ub(n){n.memoizedState!==null&&Tt(xf,n);var e=Ni.current,t=$E(e,n.type);e!==t&&(Tt(Fu,n),Tt(Ni,t))}function wf(n){Fu.current===n&&(vn(Ni),vn(Fu)),xf.current===n&&(vn(xf),Zu._currentValue=gs)}var db=Object.prototype.hasOwnProperty,bx=rn.unstable_scheduleCallback,yg=rn.unstable_cancelCallback,C8=rn.unstable_shouldYield,E8=rn.unstable_requestPaint,Fi=rn.unstable_now,S8=rn.unstable_getCurrentPriorityLevel,R4=rn.unstable_ImmediatePriority,D4=rn.unstable_UserBlockingPriority,kf=rn.unstable_NormalPriority,T8=rn.unstable_LowPriority,O4=rn.unstable_IdlePriority,A8=rn.log,I8=rn.unstable_setDisableYieldValue,yd=null,Sr=null;function R8(n){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(yd,n,void 0,(n.current.flags&128)===128)}catch(e){}}function ua(n){if(typeof A8=="function"&&I8(n),Sr&&typeof Sr.setStrictMode=="function")try{Sr.setStrictMode(yd,n)}catch(e){}}var Tr=Math.clz32?Math.clz32:M8,D8=Math.log,O8=Math.LN2;function M8(n){return n>>>=0,n===0?32:31-(D8(n)/O8|0)|0}var sh=128,lh=4194304;function Za(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Wp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=n.warmLanes;n=n.finishedLanes!==0;var s=t&134217727;return s!==0?(t=s&~i,t!==0?r=Za(t):(o&=s,o!==0?r=Za(o):n||(a=s&~a,a!==0&&(r=Za(a))))):(s=t&~i,s!==0?r=Za(s):o!==0?r=Za(o):n||(a=t&~a,a!==0&&(r=Za(a)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===32&&(a&4194176)!==0)?e:r}function wd(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function B8(n,e){switch(n){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M4(){var n=sh;return sh<<=1,!(sh&4194176)&&(sh=128),n}function B4(){var n=lh;return lh<<=1,!(lh&62914560)&&(lh=4194304),n}function wg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function kd(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function P8(n,e,t,r,i,o){var a=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var s=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(t=a&~t;0<t;){var u=31-Tr(t),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];f!==null&&(f.lane&=-536870913)}t&=~d}r!==0&&P4(n,r,0),o!==0&&i===0&&n.tag!==0&&(n.suspendedLanes|=o&~(a&~e))}function P4(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var r=31-Tr(e);n.entangledLanes|=e,n.entanglements[r]=n.entanglements[r]|1073741824|t&4194218}function L4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Tr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}function z4(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function j4(){var n=Et.p;return n!==0?n:(n=window.event,n===void 0?32:ZE(n.type))}function L8(n,e){var t=Et.p;try{return Et.p=n,e()}finally{Et.p=t}}var Pa=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Pa,cr="__reactProps$"+Pa,Ac="__reactContainer$"+Pa,hb="__reactEvents$"+Pa,z8="__reactListeners$"+Pa,j8="__reactHandles$"+Pa,Fw="__reactResources$"+Pa,$u="__reactMarker$"+Pa;function vx(n){delete n[Nn],delete n[cr],delete n[hb],delete n[z8],delete n[j8]}function ss(n){var e=n[Nn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ac]||t[Nn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=U2(n);n!==null;){if(t=n[Nn])return t;n=U2(n)}return e}n=t,t=n.parentNode}return null}function Ic(n){if(n=n[Nn]||n[Ac]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function fu(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(ce(33))}function Ul(n){var e=n[Fw];return e||(e=n[Fw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function mn(n){n[$u]=!0}var N4=new Set,F4={};function Ns(n,e){lc(n,e),lc(n+"Capture",e)}function lc(n,e){for(F4[n]=e,n=0;n<e.length;n++)N4.add(e[n])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$w={},Uw={};function F8(n){return db.call(Uw,n)?!0:db.call($w,n)?!1:N8.test(n)?Uw[n]=!0:($w[n]=!0,!1)}function Jh(n,e,t){if(F8(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function ch(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function ro(n,e,t,r){if(r===null)n.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+r)}}function $r(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $8(n){var e=$4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function _f(n){n._valueTracker||(n._valueTracker=$8(n))}function U4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=$4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Cf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}var U8=/[\n"\\]/g;function Vr(n){return n.replace(U8,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fb(n,e,t,r,i,o,a,s){n.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?n.type=a:n.removeAttribute("type"),e!=null?a==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+$r(e)):n.value!==""+$r(e)&&(n.value=""+$r(e)):a!=="submit"&&a!=="reset"||n.removeAttribute("value"),e!=null?pb(n,a,$r(e)):t!=null?pb(n,a,$r(t)):r!=null&&n.removeAttribute("value"),i==null&&o!=null&&(n.defaultChecked=!!o),i!=null&&(n.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.name=""+$r(s):n.removeAttribute("name")}function H4(n,e,t,r,i,o,a,s){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+$r(t):"",e=e!=null?""+$r(e):t,s||e===n.value||(n.value=e),n.defaultValue=e}r=r!=null?r:i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=s?n.checked:!!r,n.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.name=a)}function pb(n,e,t){e==="number"&&Cf(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Hl(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+$r(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function W4(n,e,t){if(e!=null&&(e=""+$r(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+$r(t):""}function V4(n,e,t,r){if(e==null){if(r!=null){if(t!=null)throw Error(ce(92));if(hu(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),e=t}t=$r(e),n.defaultValue=t,r=n.textContent,r===t&&r!==""&&r!==null&&(n.value=r)}function cc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var H8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hw(n,e,t){var r=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?r?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":r?n.setProperty(e,t):typeof t!="number"||t===0||H8.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function q4(n,e,t){if(e!=null&&typeof e!="object")throw Error(ce(62));if(n=n.style,t!=null){for(var r in t)!t.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&t[i]!==r&&Hw(n,i,r)}else for(var o in e)e.hasOwnProperty(o)&&Hw(n,o,e[o])}function xx(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qh(n){return V8.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var mb=null;function yx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dl=null,Wl=null;function Ww(n){var e=Ic(n);if(e&&(n=e.stateNode)){var t=n[cr]||null;e:switch(n=e.stateNode,e.type){case"input":if(fb(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Vr(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=r[cr]||null;if(!i)throw Error(ce(90));fb(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)r=t[e],r.form===n.form&&U4(r)}break e;case"textarea":W4(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Hl(n,!!t.multiple,e,!1)}}}var kg=!1;function G4(n,e,t){if(kg)return n(e,t);kg=!0;try{var r=n(e);return r}finally{if(kg=!1,(Dl!==null||Wl!==null)&&(em(),Dl&&(e=Dl,n=Wl,Wl=Dl=null,Ww(e),n)))for(e=0;e<n.length;e++)Ww(n[e])}}function Uu(n,e){var t=n.stateNode;if(t===null)return null;var r=t[cr]||null;if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ce(231,e,typeof t));return t}var gb=!1;if(Ro)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){gb=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch(n){gb=!1}var da=null,wx=null,ef=null;function K4(){if(ef)return ef;var n,e=wx,t=e.length,r,i="value"in da?da.value:da.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return ef=i.slice(n,1<r?1-r:void 0)}function tf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function uh(){return!0}function Vw(){return!1}function pr(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uh:Vw,this.isPropagationStopped=Vw,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=pr(Fs),_d=St({},Fs,{view:0,detail:0}),q8=pr(_d),_g,Cg,Gc,qp=St({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gc&&(Gc&&n.type==="mousemove"?(_g=n.screenX-Gc.screenX,Cg=n.screenY-Gc.screenY):Cg=_g=0,Gc=n),_g)},movementY:function(n){return"movementY"in n?n.movementY:Cg}}),qw=pr(qp),G8=St({},qp,{dataTransfer:0}),K8=pr(G8),Y8=St({},_d,{relatedTarget:0}),Eg=pr(Y8),X8=St({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Z8=pr(X8),J8=St({},Fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Q8=pr(J8),eR=St({},Fs,{data:0}),Gw=pr(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rR[n])?!!e[n]:!1}function kx(){return iR}var oR=St({},_d,{key:function(n){if(n.key){var e=tR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kx,charCode:function(n){return n.type==="keypress"?tf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aR=pr(oR),sR=St({},qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=pr(sR),lR=St({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kx}),cR=pr(lR),uR=St({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=pr(uR),hR=St({},qp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=pr(hR),pR=St({},Fs,{newState:0,oldState:0}),mR=pr(pR),gR=[9,13,27,32],_x=Ro&&"CompositionEvent"in window,vu=null;Ro&&"documentMode"in document&&(vu=document.documentMode);var bR=Ro&&"TextEvent"in window&&!vu,Y4=Ro&&(!_x||vu&&8<vu&&11>=vu),Yw=" ",Xw=!1;function X4(n,e){switch(n){case"keyup":return gR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ol=!1;function vR(n,e){switch(n){case"compositionend":return Z4(e);case"keypress":return e.which!==32?null:(Xw=!0,Yw);case"textInput":return n=e.data,n===Yw&&Xw?null:n;default:return null}}function xR(n,e){if(Ol)return n==="compositionend"||!_x&&X4(n,e)?(n=K4(),ef=wx=da=null,Ol=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y4&&e.locale!=="ko"?null:e.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!yR[n.type]:e==="textarea"}function J4(n,e,t,r){Dl?Wl?Wl.push(r):Wl=[r]:Dl=r,e=Ff(e,"onChange"),0<e.length&&(t=new Vp("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var xu=null,Hu=null;function wR(n){jE(n,0)}function Gp(n){var e=fu(n);if(U4(e))return n}function Jw(n,e){if(n==="change")return e}var Q4=!1;if(Ro){var Sg;if(Ro){var Tg="oninput"in document;if(!Tg){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),Tg=typeof Qw.oninput=="function"}Sg=Tg}else Sg=!1;Q4=Sg&&(!document.documentMode||9<document.documentMode)}function e2(){xu&&(xu.detachEvent("onpropertychange",eC),Hu=xu=null)}function eC(n){if(n.propertyName==="value"&&Gp(Hu)){var e=[];J4(e,Hu,n,yx(n)),G4(wR,e)}}function kR(n,e,t){n==="focusin"?(e2(),xu=e,Hu=t,xu.attachEvent("onpropertychange",eC)):n==="focusout"&&e2()}function _R(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gp(Hu)}function CR(n,e){if(n==="click")return Gp(e)}function ER(n,e){if(n==="input"||n==="change")return Gp(e)}function SR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Mr=typeof Object.is=="function"?Object.is:SR;function Wu(n,e){if(Mr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!db.call(e,i)||!Mr(n[i],e[i]))return!1}return!0}function t2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function n2(n,e){var t=t2(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=t2(t)}}function tC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?tC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function nC(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=Cf(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(r){t=!1}if(t)n=e.contentWindow;else break;e=Cf(n.document)}return e}function Cx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function TR(n,e){var t=nC(e);e=n.focusedElem;var r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&tC(e.ownerDocument.documentElement,e)){if(r!==null&&Cx(e)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(t,e.value.length);else if(t=(n=e.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=n2(e,o);var a=n2(e,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(n),t.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),t.addRange(n)))}}for(n=[],t=e;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<n.length;e++)t=n[e],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AR=Ro&&"documentMode"in document&&11>=document.documentMode,Ml=null,bb=null,yu=null,vb=!1;function r2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;vb||Ml==null||Ml!==Cf(r)||(r=Ml,"selectionStart"in r&&Cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yu&&Wu(yu,r)||(yu=r,r=Ff(bb,"onSelect"),0<r.length&&(e=new Vp("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ml)))}function Ga(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Bl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Ag={},rC={};Ro&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function $s(n){if(Ag[n])return Ag[n];if(!Bl[n])return n;var e=Bl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in rC)return Ag[n]=e[t];return n}var iC=$s("animationend"),oC=$s("animationiteration"),aC=$s("animationstart"),IR=$s("transitionrun"),RR=$s("transitionstart"),DR=$s("transitioncancel"),sC=$s("transitionend"),lC=new Map,i2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wi(n,e){lC.set(n,e),Ns(e,[n])}var Fr=[],Pl=0,Ex=0;function Kp(){for(var n=Pl,e=Ex=Pl=0;e<n;){var t=Fr[e];Fr[e++]=null;var r=Fr[e];Fr[e++]=null;var i=Fr[e];Fr[e++]=null;var o=Fr[e];if(Fr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}o!==0&&cC(t,i,o)}}function Yp(n,e,t,r){Fr[Pl++]=n,Fr[Pl++]=e,Fr[Pl++]=t,Fr[Pl++]=r,Ex|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Sx(n,e,t,r){return Yp(n,e,t,r),Ef(n)}function Ta(n,e){return Yp(n,null,null,e),Ef(n)}function cC(n,e,t){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t);for(var i=!1,o=n.return;o!==null;)o.childLanes|=t,r=o.alternate,r!==null&&(r.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(i=!0)),n=o,o=o.return;i&&e!==null&&n.tag===3&&(o=n.stateNode,i=31-Tr(t),o=o.hiddenUpdates,n=o[i],n===null?o[i]=[e]:n.push(e),e.lane=t|536870912)}function Ef(n){if(50<Ou)throw Ou=0,Fb=null,Error(ce(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var Ll={},o2=new WeakMap;function qr(n,e){if(typeof n=="object"&&n!==null){var t=o2.get(n);return t!==void 0?t:(e={value:n,source:e,stack:jw(e)},o2.set(n,e),e)}return{value:n,source:e,stack:jw(e)}}var zl=[],jl=0,Sf=null,Tf=0,Ur=[],Hr=0,bs=null,yo=1,wo="";function Ja(n,e){zl[jl++]=Tf,zl[jl++]=Sf,Sf=n,Tf=e}function uC(n,e,t){Ur[Hr++]=yo,Ur[Hr++]=wo,Ur[Hr++]=bs,bs=n;var r=yo;n=wo;var i=32-Tr(r)-1;r&=~(1<<i),t+=1;var o=32-Tr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yo=1<<32-Tr(e)+i|t<<i|r,wo=o+n}else yo=1<<o|t<<i|r,wo=n}function Tx(n){n.return!==null&&(Ja(n,1),uC(n,1,0))}function Ax(n){for(;n===Sf;)Sf=zl[--jl],zl[jl]=null,Tf=zl[--jl],zl[jl]=null;for(;n===bs;)bs=Ur[--Hr],Ur[Hr]=null,wo=Ur[--Hr],Ur[Hr]=null,yo=Ur[--Hr],Ur[Hr]=null}var Gn=null,In=null,lt=!1,di=null,Bi=!1,xb=Error(ce(519));function Es(n){var e=Error(ce(418,""));throw Vu(qr(e,n)),xb}function a2(n){var e=n.stateNode,t=n.type,r=n.memoizedProps;switch(e[Nn]=n,e[cr]=r,t){case"dialog":ot("cancel",e),ot("close",e);break;case"iframe":case"object":case"embed":ot("load",e);break;case"video":case"audio":for(t=0;t<Ku.length;t++)ot(Ku[t],e);break;case"source":ot("error",e);break;case"img":case"image":case"link":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"input":ot("invalid",e),H4(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),_f(e);break;case"select":ot("invalid",e);break;case"textarea":ot("invalid",e),V4(e,r.value,r.defaultValue,r.children),_f(e)}t=r.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||r.suppressHydrationWarning===!0||FE(e.textContent,t)?(r.popover!=null&&(ot("beforetoggle",e),ot("toggle",e)),r.onScroll!=null&&ot("scroll",e),r.onScrollEnd!=null&&ot("scrollend",e),r.onClick!=null&&(e.onclick=nm),e=!0):e=!1,e||Es(n)}function s2(n){for(Gn=n.return;Gn;)switch(Gn.tag){case 3:case 27:Bi=!0;return;case 5:case 13:Bi=!1;return;default:Gn=Gn.return}}function Kc(n){if(n!==Gn)return!1;if(!lt)return s2(n),lt=!0,!1;var e=!1,t;if((t=n.tag!==3&&n.tag!==27)&&((t=n.tag===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Gb(n.type,n.memoizedProps)),t=!t),t&&(e=!0),e&&In&&Es(n),s2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){In=gi(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}In=null}}else In=Gn?gi(n.stateNode.nextSibling):null;return!0}function Cd(){In=Gn=null,lt=!1}function Vu(n){di===null?di=[n]:di.push(n)}var wu=Error(ce(460)),dC=Error(ce(474)),yb={then:function(){}};function l2(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dh(){}function hC(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(dh,dh),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,n===wu?Error(ce(483)):n;default:if(typeof e.status=="string")e.then(dh,dh);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(ce(482));n=e,n.status="pending",n.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,n===wu?Error(ce(483)):n}throw ku=e,wu}}var ku=null;function c2(){if(ku===null)throw Error(ce(459));var n=ku;return ku=null,n}var Vl=null,qu=0;function hh(n){var e=qu;return qu+=1,Vl===null&&(Vl=[]),hC(Vl,n,e)}function Yc(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function fh(n,e){throw e.$$typeof===v8?Error(ce(525)):(n=Object.prototype.toString.call(e),Error(ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function u2(n){var e=n._init;return e(n._payload)}function fC(n){function e(g,v){if(n){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g){for(var v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(g,v){return g=ba(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,n?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=33554434,v):x):(g.flags|=33554434,v)):(g.flags|=1048576,v)}function a(g){return n&&g.alternate===null&&(g.flags|=33554434),g}function s(g,v,x,y){return v===null||v.tag!==6?(v=Fg(x,g.mode,y),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,y){var w=x.type;return w===Il?u(g,v,x.props.children,y,x.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ea&&u2(w)===v.type)?(v=i(v,x.props),Yc(v,x),v.return=g,v):(v=sf(x.type,x.key,x.props,null,g.mode,y),Yc(v,x),v.return=g,v)}function c(g,v,x,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=$g(x,g.mode,y),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function u(g,v,x,y,w){return v===null||v.tag!==7?(v=xs(x,g.mode,y,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function d(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Fg(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ah:return x=sf(v.type,v.key,v.props,null,g.mode,x),Yc(x,v),x.return=g,x;case uu:return v=$g(v,g.mode,x),v.return=g,v;case ea:var y=v._init;return v=y(v._payload),d(g,v,x)}if(hu(v)||Vc(v))return v=xs(v,g.mode,x,null),v.return=g,v;if(typeof v.then=="function")return d(g,hh(v),x);if(v.$$typeof===xo)return d(g,ph(g,v),x);fh(g,v)}return null}function h(g,v,x,y){var w=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return w!==null?null:s(g,v,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ah:return x.key===w?l(g,v,x,y):null;case uu:return x.key===w?c(g,v,x,y):null;case ea:return w=x._init,x=w(x._payload),h(g,v,x,y)}if(hu(x)||Vc(x))return w!==null?null:u(g,v,x,y,null);if(typeof x.then=="function")return h(g,v,hh(x),y);if(x.$$typeof===xo)return h(g,v,ph(g,x),y);fh(g,x)}return null}function f(g,v,x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(x)||null,s(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return g=g.get(y.key===null?x:y.key)||null,l(v,g,y,w);case uu:return g=g.get(y.key===null?x:y.key)||null,c(v,g,y,w);case ea:var E=y._init;return y=E(y._payload),f(g,v,x,y,w)}if(hu(y)||Vc(y))return g=g.get(x)||null,u(v,g,y,w,null);if(typeof y.then=="function")return f(g,v,x,hh(y),w);if(y.$$typeof===xo)return f(g,v,x,ph(v,y),w);fh(v,y)}return null}function p(g,v,x,y){for(var w=null,E=null,C=v,S=v=0,_=null;C!==null&&S<x.length;S++){C.index>S?(_=C,C=null):_=C.sibling;var A=h(g,C,x[S],y);if(A===null){C===null&&(C=_);break}n&&C&&A.alternate===null&&e(g,C),v=o(A,v,S),E===null?w=A:E.sibling=A,E=A,C=_}if(S===x.length)return t(g,C),lt&&Ja(g,S),w;if(C===null){for(;S<x.length;S++)C=d(g,x[S],y),C!==null&&(v=o(C,v,S),E===null?w=C:E.sibling=C,E=C);return lt&&Ja(g,S),w}for(C=r(C);S<x.length;S++)_=f(C,g,S,x[S],y),_!==null&&(n&&_.alternate!==null&&C.delete(_.key===null?S:_.key),v=o(_,v,S),E===null?w=_:E.sibling=_,E=_);return n&&C.forEach(function(D){return e(g,D)}),lt&&Ja(g,S),w}function m(g,v,x,y){if(x==null)throw Error(ce(151));for(var w=null,E=null,C=v,S=v=0,_=null,A=x.next();C!==null&&!A.done;S++,A=x.next()){C.index>S?(_=C,C=null):_=C.sibling;var D=h(g,C,A.value,y);if(D===null){C===null&&(C=_);break}n&&C&&D.alternate===null&&e(g,C),v=o(D,v,S),E===null?w=D:E.sibling=D,E=D,C=_}if(A.done)return t(g,C),lt&&Ja(g,S),w;if(C===null){for(;!A.done;S++,A=x.next())A=d(g,A.value,y),A!==null&&(v=o(A,v,S),E===null?w=A:E.sibling=A,E=A);return lt&&Ja(g,S),w}for(C=r(C);!A.done;S++,A=x.next())A=f(C,g,S,A.value,y),A!==null&&(n&&A.alternate!==null&&C.delete(A.key===null?S:A.key),v=o(A,v,S),E===null?w=A:E.sibling=A,E=A);return n&&C.forEach(function(I){return e(g,I)}),lt&&Ja(g,S),w}function b(g,v,x,y){if(typeof x=="object"&&x!==null&&x.type===Il&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ah:e:{for(var w=x.key;v!==null;){if(v.key===w){if(w=x.type,w===Il){if(v.tag===7){t(g,v.sibling),y=i(v,x.props.children),y.return=g,g=y;break e}}else if(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ea&&u2(w)===v.type){t(g,v.sibling),y=i(v,x.props),Yc(y,x),y.return=g,g=y;break e}t(g,v);break}else e(g,v);v=v.sibling}x.type===Il?(y=xs(x.props.children,g.mode,y,x.key),y.return=g,g=y):(y=sf(x.type,x.key,x.props,null,g.mode,y),Yc(y,x),y.return=g,g=y)}return a(g);case uu:e:{for(w=x.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){t(g,v.sibling),y=i(v,x.children||[]),y.return=g,g=y;break e}else{t(g,v);break}else e(g,v);v=v.sibling}y=$g(x,g.mode,y),y.return=g,g=y}return a(g);case ea:return w=x._init,x=w(x._payload),b(g,v,x,y)}if(hu(x))return p(g,v,x,y);if(Vc(x)){if(w=Vc(x),typeof w!="function")throw Error(ce(150));return x=w.call(x),m(g,v,x,y)}if(typeof x.then=="function")return b(g,v,hh(x),y);if(x.$$typeof===xo)return b(g,v,ph(g,x),y);fh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,v!==null&&v.tag===6?(t(g,v.sibling),y=i(v,x),y.return=g,g=y):(t(g,v),y=Fg(x,g.mode,y),y.return=g,g=y),a(g)):t(g,v)}return function(g,v,x,y){try{qu=0;var w=b(g,v,x,y);return Vl=null,w}catch(C){if(C===wu)throw C;var E=Kr(29,C,null,g.mode);return E.lanes=y,E.return=g,E}finally{}}}var Ss=fC(!0),pC=fC(!1),uc=Yi(null),Af=Yi(0);function d2(n,e){n=Mo,Tt(Af,n),Tt(uc,e),Mo=n|e.baseLanes}function wb(){Tt(Af,Mo),Tt(uc,uc.current)}function Ix(){Mo=Af.current,vn(uc),vn(Af)}var Jr=Yi(null),$i=null;function ia(n){var e=n.alternate;Tt(en,en.current&1),Tt(Jr,n),$i===null&&(e===null||uc.current!==null||e.memoizedState!==null)&&($i=n)}function mC(n){if(n.tag===22){if(Tt(en,en.current),Tt(Jr,n),$i===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&($i=n)}}else oa()}function oa(){Tt(en,en.current),Tt(Jr,Jr.current)}function ko(n){vn(Jr),$i===n&&($i=null),vn(en)}var en=Yi(0);function If(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var OR=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,r){n.push(r)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},MR=rn.unstable_scheduleCallback,BR=rn.unstable_NormalPriority,Jt={$$typeof:xo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rx(){return{controller:new OR,data:new Map,refCount:0}}function Ed(n){n.refCount--,n.refCount===0&&MR(BR,function(){n.controller.abort()})}var _u=null,kb=0,dc=0,ql=null;function PR(n,e){if(_u===null){var t=_u=[];kb=0,dc=Qx(),ql={status:"pending",value:void 0,then:function(r){t.push(r)}}}return kb++,e.then(h2,h2),e}function h2(){if(--kb===0&&_u!==null){ql!==null&&(ql.status="fulfilled");var n=_u;_u=null,dc=0,ql=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function LR(n,e){var t=[],r={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return n.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),r}var f2=Ve.S;Ve.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&PR(n,e),f2!==null&&f2(n,e)};var vs=Yi(null);function Dx(){var n=vs.current;return n!==null?n:kt.pooledCache}function nf(n,e){e===null?Tt(vs,vs.current):Tt(vs,e.pool)}function gC(){var n=Dx();return n===null?null:{parent:Jt._currentValue,pool:n}}var Aa=0,Je=null,mt=null,qt=null,Rf=!1,Gl=!1,Ts=!1,Df=0,Gu=0,Kl=null,zR=0;function Ut(){throw Error(ce(321))}function Ox(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Mr(n[t],e[t]))return!1;return!0}function Mx(n,e,t,r,i,o){return Aa=o,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ve.H=n===null||n.memoizedState===null?Us:La,Ts=!1,o=t(r,i),Ts=!1,Gl&&(o=vC(e,t,r,i)),bC(n),o}function bC(n){Ve.H=qi;var e=mt!==null&&mt.next!==null;if(Aa=0,qt=mt=Je=null,Rf=!1,Gu=0,Kl=null,e)throw Error(ce(300));n===null||bn||(n=n.dependencies,n!==null&&Bf(n)&&(bn=!0))}function vC(n,e,t,r){Je=n;var i=0;do{if(Gl&&(Kl=null),Gu=0,Gl=!1,25<=i)throw Error(ce(301));if(i+=1,qt=mt=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Ve.H=Hs,o=e(t,r)}while(Gl);return o}function jR(){var n=Ve.H,e=n.useState()[0];return e=typeof e.then=="function"?Sd(e):e,n=n.useState()[0],(mt!==null?mt.memoizedState:null)!==n&&(Je.flags|=1024),e}function Bx(){var n=Df!==0;return Df=0,n}function Px(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function Lx(n){if(Rf){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Rf=!1}Aa=0,qt=mt=Je=null,Gl=!1,Gu=Df=0,Kl=null}function rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Je.memoizedState=qt=n:qt=qt.next=n,qt}function Kt(){if(mt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var e=qt===null?Je.memoizedState:qt.next;if(e!==null)qt=e,mt=n;else{if(n===null)throw Je.alternate===null?Error(ce(467)):Error(ce(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},qt===null?Je.memoizedState=qt=n:qt=qt.next=n}return qt}var Xp;Xp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sd(n){var e=Gu;return Gu+=1,Kl===null&&(Kl=[]),n=hC(Kl,n,e),e=Je,(qt===null?e.memoizedState:qt.next)===null&&(e=e.alternate,Ve.H=e===null||e.memoizedState===null?Us:La),n}function Zp(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sd(n);if(n.$$typeof===xo)return Fn(n)}throw Error(ce(438,String(n)))}function zx(n){var e=null,t=Je.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var r=Je.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Xp(),Je.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),r=0;r<n;r++)t[r]=y8;return e.index++,t}function Do(n,e){return typeof e=="function"?e(n):e}function rf(n){var e=Kt();return jx(e,mt,n)}function jx(n,e,t){var r=n.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,r.pending=null}if(o=n.baseState,i===null)n.memoizedState=o;else{e=i.next;var s=a=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(at&d)===d:(Aa&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===dc&&(u=!0);else if((Aa&h)===h){c=c.next,h===dc&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=d,a=o):l=l.next=d,Je.lanes|=h,Ra|=h;d=c.action,Ts&&t(o,d),o=c.hasEagerState?c.eagerState:t(o,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=h,a=o):l=l.next=h,Je.lanes|=d,Ra|=d;c=c.next}while(c!==null&&c!==e);if(l===null?a=o:l.next=s,!Mr(o,n.memoizedState)&&(bn=!0,u&&(t=ql,t!==null)))throw t;n.memoizedState=o,n.baseState=a,n.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Ig(n){var e=Kt(),t=e.queue;if(t===null)throw Error(ce(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Mr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function xC(n,e,t){var r=Je,i=Kt(),o=lt;if(o){if(t===void 0)throw Error(ce(407));t=t()}else t=e();var a=!Mr((mt||i).memoizedState,t);if(a&&(i.memoizedState=t,bn=!0),i=i.queue,Nx(kC.bind(null,r,i,n),[n]),i.getSnapshot!==e||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,hc(9,wC.bind(null,r,i,t,e),{destroy:void 0},null),kt===null)throw Error(ce(349));o||Aa&60||yC(r,e,t)}return t}function yC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Je.updateQueue,e===null?(e=Xp(),Je.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function wC(n,e,t,r){e.value=t,e.getSnapshot=r,_C(e)&&CC(n)}function kC(n,e,t){return t(function(){_C(e)&&CC(n)})}function _C(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Mr(n,t)}catch(r){return!0}}function CC(n){var e=Ta(n,2);e!==null&&Jn(e,n,2)}function _b(n){var e=rr();if(typeof n=="function"){var t=n;if(n=t(),Ts){ua(!0);try{t()}finally{ua(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:n},e}function EC(n,e,t,r){return n.baseState=t,jx(n,mt,typeof r=="function"?r:Do)}function NR(n,e,t,r,i){if(Qp(n))throw Error(ce(485));if(n=e.action,n!==null){var o={payload:i,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Ve.T!==null?t(!0):o.isTransition=!1,r(o),t=e.pending,t===null?(o.next=e.pending=o,SC(e,o)):(o.next=t.next,e.pending=t.next=o)}}function SC(n,e){var t=e.action,r=e.payload,i=n.state;if(e.isTransition){var o=Ve.T,a={};Ve.T=a;try{var s=t(i,r),l=Ve.S;l!==null&&l(a,s),p2(n,e,s)}catch(c){Cb(n,e,c)}finally{Ve.T=o}}else try{o=t(i,r),p2(n,e,o)}catch(c){Cb(n,e,c)}}function p2(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(r){m2(n,e,r)},function(r){return Cb(n,e,r)}):m2(n,e,t)}function m2(n,e,t){e.status="fulfilled",e.value=t,TC(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,SC(n,t)))}function Cb(n,e,t){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=t,TC(e),e=e.next;while(e!==r)}n.action=null}function TC(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function AC(n,e){return e}function IC(n,e){if(lt){var t=kt.formState;if(t!==null){e:{var r=Je;if(lt){if(In){t:{for(var i=In,o=Bi;i.nodeType!==8;){if(!o){i=null;break t}if(i=gi(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){In=gi(i.nextSibling),r=i.data==="F!";break e}}Es(r)}r=!1}r&&(e=t[0])}}return t=rr(),t.memoizedState=t.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AC,lastRenderedState:e},t.queue=r,t=qC.bind(null,Je,r),r.dispatch=t,r=_b(!1),o=Hx.bind(null,Je,!1,r.queue),r=rr(),i={state:e,dispatch:null,action:n,pending:null},r.queue=i,t=NR.bind(null,Je,i,o,t),i.dispatch=t,r.memoizedState=n,[e,t,!1]}function RC(n){var e=Kt();return DC(e,mt,n)}function DC(n,e,t){e=jx(n,e,AC)[0],n=rf(Do)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Sd(e):e;var r=Kt(),i=r.queue,o=i.dispatch;return t!==r.memoizedState&&(Je.flags|=2048,hc(9,FR.bind(null,i,t),{destroy:void 0},null)),[e,o,n]}function FR(n,e){n.action=e}function OC(n){var e=Kt(),t=mt;if(t!==null)return DC(e,t,n);Kt(),e=e.memoizedState,t=Kt();var r=t.queue.dispatch;return t.memoizedState=n,[e,r,!1]}function hc(n,e,t,r){return n={tag:n,create:e,inst:t,deps:r,next:null},e=Je.updateQueue,e===null&&(e=Xp(),Je.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n),n}function MC(){return Kt().memoizedState}function of(n,e,t,r){var i=rr();Je.flags|=n,i.memoizedState=hc(1|e,t,{destroy:void 0},r===void 0?null:r)}function Jp(n,e,t,r){var i=Kt();r=r===void 0?null:r;var o=i.memoizedState.inst;mt!==null&&r!==null&&Ox(r,mt.memoizedState.deps)?i.memoizedState=hc(e,t,o,r):(Je.flags|=n,i.memoizedState=hc(1|e,t,o,r))}function g2(n,e){of(8390656,8,n,e)}function Nx(n,e){Jp(2048,8,n,e)}function BC(n,e){return Jp(4,2,n,e)}function PC(n,e){return Jp(4,4,n,e)}function LC(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zC(n,e,t){t=t!=null?t.concat([n]):null,Jp(4,4,LC.bind(null,e,n),t)}function Fx(){}function jC(n,e){var t=Kt();e=e===void 0?null:e;var r=t.memoizedState;return e!==null&&Ox(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function NC(n,e){var t=Kt();e=e===void 0?null:e;var r=t.memoizedState;if(e!==null&&Ox(e,r[1]))return r[0];if(r=n(),Ts){ua(!0);try{n()}finally{ua(!1)}}return t.memoizedState=[r,e],r}function $x(n,e,t){return t===void 0||Aa&1073741824?n.memoizedState=e:(n.memoizedState=t,n=TE(),Je.lanes|=n,Ra|=n,t)}function FC(n,e,t,r){return Mr(t,e)?t:uc.current!==null?(n=$x(n,t,r),Mr(n,e)||(bn=!0),n):Aa&42?(n=TE(),Je.lanes|=n,Ra|=n,e):(bn=!0,n.memoizedState=t)}function $C(n,e,t,r,i){var o=Et.p;Et.p=o!==0&&8>o?o:8;var a=Ve.T,s={};Ve.T=s,Hx(n,!1,e,t);try{var l=i(),c=Ve.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=LR(l,r);Cu(n,e,u,Ar(n))}else Cu(n,e,r,Ar(n))}catch(d){Cu(n,e,{then:function(){},status:"rejected",reason:d},Ar())}finally{Et.p=o,Ve.T=a}}function $R(){}function Eb(n,e,t,r){if(n.tag!==5)throw Error(ce(476));var i=UC(n).queue;$C(n,i,e,gs,t===null?$R:function(){return HC(n),t(r)})}function UC(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:gs,baseState:gs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:gs},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function HC(n){var e=UC(n).next.queue;Cu(n,e,{},Ar())}function Ux(){return Fn(Zu)}function WC(){return Kt().memoizedState}function VC(){return Kt().memoizedState}function UR(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=Ar();n=ma(t);var r=ga(e,n,t);r!==null&&(Jn(r,e,t),Su(r,e,t)),e={cache:Rx()},n.payload=e;return}e=e.return}}function HR(n,e,t){var r=Ar();t={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Qp(n)?GC(e,t):(t=Sx(n,e,t,r),t!==null&&(Jn(t,n,r),KC(t,e,r)))}function qC(n,e,t){var r=Ar();Cu(n,e,t,r)}function Cu(n,e,t,r){var i={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Qp(n))GC(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,t);if(i.hasEagerState=!0,i.eagerState=s,Mr(s,a))return Yp(n,e,i,0),kt===null&&Kp(),!1}catch(l){}finally{}if(t=Sx(n,e,i,r),t!==null)return Jn(t,n,r),KC(t,e,r),!0}return!1}function Hx(n,e,t,r){if(r={lane:2,revertLane:Qx(),action:r,hasEagerState:!1,eagerState:null,next:null},Qp(n)){if(e)throw Error(ce(479))}else e=Sx(n,t,r,2),e!==null&&Jn(e,n,2)}function Qp(n){var e=n.alternate;return n===Je||e!==null&&e===Je}function GC(n,e){Gl=Rf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function KC(n,e,t){if(t&4194176){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,L4(n,t)}}var qi={readContext:Fn,use:Zp,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};qi.useCacheRefresh=Ut;qi.useMemoCache=Ut;qi.useHostTransitionStatus=Ut;qi.useFormState=Ut;qi.useActionState=Ut;qi.useOptimistic=Ut;var Us={readContext:Fn,use:Zp,useCallback:function(n,e){return rr().memoizedState=[n,e===void 0?null:e],n},useContext:Fn,useEffect:g2,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,of(4194308,4,LC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return of(4194308,4,n,e)},useInsertionEffect:function(n,e){of(4,2,n,e)},useMemo:function(n,e){var t=rr();e=e===void 0?null:e;var r=n();if(Ts){ua(!0);try{n()}finally{ua(!1)}}return t.memoizedState=[r,e],r},useReducer:function(n,e,t){var r=rr();if(t!==void 0){var i=t(e);if(Ts){ua(!0);try{t(e)}finally{ua(!1)}}}else i=e;return r.memoizedState=r.baseState=i,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},r.queue=n,n=n.dispatch=HR.bind(null,Je,n),[r.memoizedState,n]},useRef:function(n){var e=rr();return n={current:n},e.memoizedState=n},useState:function(n){n=_b(n);var e=n.queue,t=qC.bind(null,Je,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:Fx,useDeferredValue:function(n,e){var t=rr();return $x(t,n,e)},useTransition:function(){var n=_b(!1);return n=$C.bind(null,Je,n.queue,!0,!1),rr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var r=Je,i=rr();if(lt){if(t===void 0)throw Error(ce(407));t=t()}else{if(t=e(),kt===null)throw Error(ce(349));at&60||yC(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,g2(kC.bind(null,r,o,n),[n]),r.flags|=2048,hc(9,wC.bind(null,r,o,t,e),{destroy:void 0},null),t},useId:function(){var n=rr(),e=kt.identifierPrefix;if(lt){var t=wo,r=yo;t=(r&~(1<<32-Tr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Df++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=zR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},useCacheRefresh:function(){return rr().memoizedState=UR.bind(null,Je)}};Us.useMemoCache=zx;Us.useHostTransitionStatus=Ux;Us.useFormState=IC;Us.useActionState=IC;Us.useOptimistic=function(n){var e=rr();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Hx.bind(null,Je,!0,t),t.dispatch=e,[n,e]};var La={readContext:Fn,use:Zp,useCallback:jC,useContext:Fn,useEffect:Nx,useImperativeHandle:zC,useInsertionEffect:BC,useLayoutEffect:PC,useMemo:NC,useReducer:rf,useRef:MC,useState:function(){return rf(Do)},useDebugValue:Fx,useDeferredValue:function(n,e){var t=Kt();return FC(t,mt.memoizedState,n,e)},useTransition:function(){var n=rf(Do)[0],e=Kt().memoizedState;return[typeof n=="boolean"?n:Sd(n),e]},useSyncExternalStore:xC,useId:WC};La.useCacheRefresh=VC;La.useMemoCache=zx;La.useHostTransitionStatus=Ux;La.useFormState=RC;La.useActionState=RC;La.useOptimistic=function(n,e){var t=Kt();return EC(t,mt,n,e)};var Hs={readContext:Fn,use:Zp,useCallback:jC,useContext:Fn,useEffect:Nx,useImperativeHandle:zC,useInsertionEffect:BC,useLayoutEffect:PC,useMemo:NC,useReducer:Ig,useRef:MC,useState:function(){return Ig(Do)},useDebugValue:Fx,useDeferredValue:function(n,e){var t=Kt();return mt===null?$x(t,n,e):FC(t,mt.memoizedState,n,e)},useTransition:function(){var n=Ig(Do)[0],e=Kt().memoizedState;return[typeof n=="boolean"?n:Sd(n),e]},useSyncExternalStore:xC,useId:WC};Hs.useCacheRefresh=VC;Hs.useMemoCache=zx;Hs.useHostTransitionStatus=Ux;Hs.useFormState=OC;Hs.useActionState=OC;Hs.useOptimistic=function(n,e){var t=Kt();return mt!==null?EC(t,mt,n,e):(t.baseState=n,[n,t.queue.dispatch])};function Rg(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:St({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Sb={isMounted:function(n){return(n=n._reactInternals)?Tc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ar(),i=ma(r);i.payload=e,t!=null&&(i.callback=t),e=ga(n,i,r),e!==null&&(Jn(e,n,r),Su(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ar(),i=ma(r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ga(n,i,r),e!==null&&(Jn(e,n,r),Su(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ar(),r=ma(t);r.tag=2,e!=null&&(r.callback=e),e=ga(n,r,t),e!==null&&(Jn(e,n,t),Su(e,n,t))}};function b2(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Wu(t,r)||!Wu(i,o):!0}function v2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Sb.enqueueReplaceState(e,e.state,null)}function As(n,e){var t=e;if("ref"in e){t={};for(var r in e)r!=="ref"&&(t[r]=e[r])}if(n=n.defaultProps){t===e&&(t=St({},t));for(var i in n)t[i]===void 0&&(t[i]=n[i])}return t}var Of=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function YC(n){Of(n)}function XC(n){console.error(n)}function ZC(n){Of(n)}function Mf(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function x2(n,e,t){try{var r=n.onCaughtError;r(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Tb(n,e,t){return t=ma(t),t.tag=3,t.payload={element:null},t.callback=function(){Mf(n,e)},t}function JC(n){return n=ma(n),n.tag=3,n}function QC(n,e,t,r){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;n.payload=function(){return i(o)},n.callback=function(){x2(e,t,r)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){x2(e,t,r),typeof i!="function"&&(va===null?va=new Set([this]):va.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function WR(n,e,t,r,i){if(t.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=t.alternate,e!==null&&Td(e,t,i,!0),t=Jr.current,t!==null){switch(t.tag){case 13:return $i===null?Ub():t.alternate===null&&jt===0&&(jt=3),t.flags&=-257,t.flags|=65536,t.lanes=i,r===yb?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([r]):e.add(r),Hg(n,r,i)),!1;case 22:return t.flags|=65536,r===yb?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([r]):t.add(r)),Hg(n,r,i)),!1}throw Error(ce(435,t.tag))}return Hg(n,r,i),Ub(),!1}if(lt)return e=Jr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==xb&&(n=Error(ce(422),{cause:r}),Vu(qr(n,t)))):(r!==xb&&(e=Error(ce(423),{cause:r}),Vu(qr(e,t))),n=n.current.alternate,n.flags|=65536,i&=-i,n.lanes|=i,r=qr(r,t),i=Tb(n.stateNode,r,i),Lg(n,i),jt!==4&&(jt=2)),!1;var o=Error(ce(520),{cause:r});if(o=qr(o,t),Ru===null?Ru=[o]:Ru.push(o),jt!==4&&(jt=2),e===null)return!0;r=qr(r,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=i&-i,t.lanes|=n,n=Tb(t.stateNode,r,n),Lg(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(va===null||!va.has(o))))return t.flags|=65536,i&=-i,t.lanes|=i,i=JC(i),QC(i,n,t,r),Lg(t,i),!1}t=t.return}while(t!==null);return!1}var eE=Error(ce(461)),bn=!1;function En(n,e,t,r){e.child=n===null?pC(e,null,t,r):Ss(e,n.child,t,r)}function y2(n,e,t,r,i){t=t.render;var o=e.ref;if("ref"in r){var a={};for(var s in r)s!=="ref"&&(a[s]=r[s])}else a=r;return Is(e),r=Mx(n,e,t,a,o,i),s=Bx(),n!==null&&!bn?(Px(n,e,i),Oo(n,e,i)):(lt&&s&&Tx(e),e.flags|=1,En(n,e,r,i),e.child)}function w2(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!Kx(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,tE(n,e,o,r,i)):(n=sf(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Wx(n,i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:Wu,t(a,r)&&n.ref===e.ref)return Oo(n,e,i)}return e.flags|=1,n=ba(o,r),n.ref=e.ref,n.return=e,e.child=n}function tE(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Wu(o,r)&&n.ref===e.ref)if(bn=!1,e.pendingProps=r=o,Wx(n,i))n.flags&131072&&(bn=!0);else return e.lanes=n.lanes,Oo(n,e,i)}return Ab(n,e,t,r,i)}function nE(n,e,t){var r=e.pendingProps,i=r.children,o=(e.stateNode._pendingVisibility&2)!==0,a=n!==null?n.memoizedState:null;if(Eu(n,e),r.mode==="hidden"||o){if(e.flags&128){if(r=a!==null?a.baseLanes|t:t,n!==null){for(i=e.child=n.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;e.childLanes=o&~r}else e.childLanes=0,e.child=null;return k2(n,e,r,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&nf(e,a!==null?a.cachePool:null),a!==null?d2(e,a):wb(),mC(e);else return e.lanes=e.childLanes=536870912,k2(n,e,a!==null?a.baseLanes|t:t,t)}else a!==null?(nf(e,a.cachePool),d2(e,a),oa(),e.memoizedState=null):(n!==null&&nf(e,null),wb(),oa());return En(n,e,i,t),e.child}function k2(n,e,t,r){var i=Dx();return i=i===null?null:{parent:Jt._currentValue,pool:i},e.memoizedState={baseLanes:t,cachePool:i},n!==null&&nf(e,null),wb(),mC(e),n!==null&&Td(n,e,r,!0),null}function Eu(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=2097664);else{if(typeof t!="function"&&typeof t!="object")throw Error(ce(284));(n===null||n.ref!==t)&&(e.flags|=2097664)}}function Ab(n,e,t,r,i){return Is(e),t=Mx(n,e,t,r,void 0,i),r=Bx(),n!==null&&!bn?(Px(n,e,i),Oo(n,e,i)):(lt&&r&&Tx(e),e.flags|=1,En(n,e,t,i),e.child)}function _2(n,e,t,r,i,o){return Is(e),e.updateQueue=null,t=vC(e,r,t,i),bC(n),r=Bx(),n!==null&&!bn?(Px(n,e,o),Oo(n,e,o)):(lt&&r&&Tx(e),e.flags|=1,En(n,e,t,o),e.child)}function C2(n,e,t,r,i){if(Is(e),e.stateNode===null){var o=Ll,a=t.contextType;typeof a=="object"&&a!==null&&(o=Fn(a)),o=new t(r,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sb,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=r,o.state=e.memoizedState,o.refs={},Vx(e),a=t.contextType,o.context=typeof a=="object"&&a!==null?Fn(a):Ll,o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Rg(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&Sb.enqueueReplaceState(o,o.state,null),Au(e,r,o,i),Tu(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(n===null){o=e.stateNode;var s=e.memoizedProps,l=As(t,s);o.props=l;var c=o.context,u=t.contextType;a=Ll,typeof u=="object"&&u!==null&&(a=Fn(u));var d=t.getDerivedStateFromProps;u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s||c!==a)&&v2(e,o,r,a),ta=!1;var h=e.memoizedState;o.state=h,Au(e,r,o,i),Tu(),c=e.memoizedState,s||h!==c||ta?(typeof d=="function"&&(Rg(e,t,d,r),c=e.memoizedState),(l=ta||b2(e,t,l,r,h,c,a))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bb(n,e),a=e.memoizedProps,u=As(t,a),o.props=u,d=e.pendingProps,h=o.context,c=t.contextType,l=Ll,typeof c=="object"&&c!==null&&(l=Fn(c)),s=t.getDerivedStateFromProps,(c=typeof s=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&v2(e,o,r,l),ta=!1,h=e.memoizedState,o.state=h,Au(e,r,o,i),Tu();var f=e.memoizedState;a!==d||h!==f||ta||n!==null&&n.dependencies!==null&&Bf(n.dependencies)?(typeof s=="function"&&(Rg(e,t,s,r),f=e.memoizedState),(u=ta||b2(e,t,u,r,h,f,l)||n!==null&&n.dependencies!==null&&Bf(n.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return o=r,Eu(n,e),r=(e.flags&128)!==0,o||r?(o=e.stateNode,t=r&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&r?(e.child=Ss(e,n.child,null,i),e.child=Ss(e,null,t,i)):En(n,e,t,i),e.memoizedState=o.state,n=e.child):n=Oo(n,e,i),n}function E2(n,e,t,r){return Cd(),e.flags|=256,En(n,e,t,r),e.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Og(n){return{baseLanes:n,cachePool:gC()}}function Mg(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=Yr),n}function rE(n,e,t){var r=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(en.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,n===null){if(lt){if(i?ia(e):oa(),lt){var s=In,l;if(l=s){e:{for(l=s,s=Bi;l.nodeType!==8;){if(!s){s=null;break e}if(l=gi(l.nextSibling),l===null){s=null;break e}}s=l}s!==null?(e.memoizedState={dehydrated:s,treeContext:bs!==null?{id:yo,overflow:wo}:null,retryLane:536870912},l=Kr(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,Gn=e,In=null,l=!0):l=!1}l||Es(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return s.data==="$!"?e.lanes=16:e.lanes=536870912,null;ko(e)}return s=r.children,r=r.fallback,i?(oa(),i=e.mode,s=Rb({mode:"hidden",children:s},i),r=xs(r,i,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,i=e.child,i.memoizedState=Og(t),i.childLanes=Mg(n,a,t),e.memoizedState=Dg,r):(ia(e),Ib(e,s))}if(l=n.memoizedState,l!==null&&(s=l.dehydrated,s!==null)){if(o)e.flags&256?(ia(e),e.flags&=-257,e=Bg(n,e,t)):e.memoizedState!==null?(oa(),e.child=n.child,e.flags|=128,e=null):(oa(),i=r.fallback,s=e.mode,r=Rb({mode:"visible",children:r.children},s),i=xs(i,s,t,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Ss(e,n.child,null,t),r=e.child,r.memoizedState=Og(t),r.childLanes=Mg(n,a,t),e.memoizedState=Dg,e=i);else if(ia(e),s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(ce(419)),r.stack="",r.digest=a,Vu({value:r,source:null,stack:null}),e=Bg(n,e,t)}else if(bn||Td(n,e,t,!1),a=(t&n.childLanes)!==0,bn||a){if(a=kt,a!==null){if(r=t&-t,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(a.suspendedLanes|t)?0:r,r!==0&&r!==l.retryLane)throw l.retryLane=r,Ta(n,r),Jn(a,n,r),eE}s.data==="$?"||Ub(),e=Bg(n,e,t)}else s.data==="$?"?(e.flags|=128,e.child=n.child,e=oD.bind(null,n),s._reactRetry=e,e=null):(n=l.treeContext,In=gi(s.nextSibling),Gn=e,lt=!0,di=null,Bi=!1,n!==null&&(Ur[Hr++]=yo,Ur[Hr++]=wo,Ur[Hr++]=bs,yo=n.id,wo=n.overflow,bs=e),e=Ib(e,r.children),e.flags|=4096);return e}return i?(oa(),i=r.fallback,s=e.mode,l=n.child,c=l.sibling,r=ba(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&31457280,c!==null?i=ba(c,i):(i=xs(i,s,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=n.child.memoizedState,s===null?s=Og(t):(l=s.cachePool,l!==null?(c=Jt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=gC(),s={baseLanes:s.baseLanes|t,cachePool:l}),i.memoizedState=s,i.childLanes=Mg(n,a,t),e.memoizedState=Dg,r):(ia(e),t=n.child,n=t.sibling,t=ba(t,{mode:"visible",children:r.children}),t.return=e,t.sibling=null,n!==null&&(a=e.deletions,a===null?(e.deletions=[n],e.flags|=16):a.push(n)),e.child=t,e.memoizedState=null,t)}function Ib(n,e){return e=Rb({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function Rb(n,e){return EE(n,e,0,null)}function Bg(n,e,t){return Ss(e,n.child,null,t),n=Ib(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function S2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Ob(n.return,e,t)}function Pg(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function iE(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(En(n,e,r.children,t),r=en.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&S2(n,t,e);else if(n.tag===19)S2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}switch(Tt(en,r),i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&If(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Pg(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&If(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Pg(e,!0,t,null,o);break;case"together":Pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ra|=e.lanes,!(t&e.childLanes))if(n!==null){if(Td(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(ce(153));if(e.child!==null){for(n=e.child,t=ba(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ba(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Wx(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Bf(n)))}function VR(n,e,t){switch(e.tag){case 3:yf(e,e.stateNode.containerInfo),aa(e,Jt,n.memoizedState.cache),Cd();break;case 27:case 5:ub(e);break;case 4:yf(e,e.stateNode.containerInfo);break;case 10:aa(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ia(e),e.flags|=128,null):t&e.child.childLanes?rE(n,e,t):(ia(e),n=Oo(n,e,t),n!==null?n.sibling:null);ia(e);break;case 19:var i=(n.flags&128)!==0;if(r=(t&e.childLanes)!==0,r||(Td(n,e,t,!1),r=(t&e.childLanes)!==0),i){if(r)return iE(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(en,en.current),r)break;return null;case 22:case 23:return e.lanes=0,nE(n,e,t);case 24:aa(e,Jt,n.memoizedState.cache)}return Oo(n,e,t)}function oE(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)bn=!0;else{if(!Wx(n,t)&&!(e.flags&128))return bn=!1,VR(n,e,t);bn=!!(n.flags&131072)}else bn=!1,lt&&e.flags&1048576&&uC(e,Tf,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Kx(r)?(n=As(r,n),e.tag=1,e=C2(null,e,r,n,t)):(e.tag=0,e=Ab(null,e,r,n,t));else{if(r!=null){if(i=r.$$typeof,i===mx){e.tag=11,e=y2(null,e,r,n,t);break e}else if(i===gx){e.tag=14,e=w2(null,e,r,n,t);break e}}throw e=lb(r)||r,Error(ce(306,e,""))}}return e;case 0:return Ab(n,e,e.type,e.pendingProps,t);case 1:return r=e.type,i=As(r,e.pendingProps),C2(n,e,r,i,t);case 3:e:{if(yf(e,e.stateNode.containerInfo),n===null)throw Error(ce(387));var o=e.pendingProps;i=e.memoizedState,r=i.element,Bb(n,e),Au(e,o,null,t);var a=e.memoizedState;if(o=a.cache,aa(e,Jt,o),o!==i.cache&&Mb(e,[Jt],t,!0),Tu(),o=a.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=E2(n,e,o,t);break e}else if(o!==r){r=qr(Error(ce(424)),e),Vu(r),e=E2(n,e,o,t);break e}else for(In=gi(e.stateNode.containerInfo.firstChild),Gn=e,lt=!0,di=null,Bi=!0,t=pC(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Cd(),o===r){e=Oo(n,e,t);break e}En(n,e,o,t)}e=e.child}return e;case 26:return Eu(n,e),n===null?(t=W2(e.type,null,e.pendingProps,null))?e.memoizedState=t:lt||(t=e.type,n=e.pendingProps,r=$f(pa.current).createElement(t),r[Nn]=e,r[cr]=n,Rn(r,t,n),mn(r),e.stateNode=r):e.memoizedState=W2(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return ub(e),n===null&&lt&&(r=e.stateNode=HE(e.type,e.pendingProps,pa.current),Gn=e,Bi=!0,In=gi(r.firstChild)),r=e.pendingProps.children,n!==null||lt?En(n,e,r,t):e.child=Ss(e,null,r,t),Eu(n,e),e.child;case 5:return n===null&&lt&&((i=r=In)&&(r=wD(r,e.type,e.pendingProps,Bi),r!==null?(e.stateNode=r,Gn=e,In=gi(r.firstChild),Bi=!1,i=!0):i=!1),i||Es(e)),ub(e),i=e.type,o=e.pendingProps,a=n!==null?n.memoizedProps:null,r=o.children,Gb(i,o)?r=null:a!==null&&Gb(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Mx(n,e,jR,null,null,t),Zu._currentValue=i),Eu(n,e),En(n,e,r,t),e.child;case 6:return n===null&&lt&&((n=t=In)&&(t=kD(t,e.pendingProps,Bi),t!==null?(e.stateNode=t,Gn=e,In=null,n=!0):n=!1),n||Es(e)),null;case 13:return rE(n,e,t);case 4:return yf(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ss(e,null,r,t):En(n,e,r,t),e.child;case 11:return y2(n,e,e.type,e.pendingProps,t);case 7:return En(n,e,e.pendingProps,t),e.child;case 8:return En(n,e,e.pendingProps.children,t),e.child;case 12:return En(n,e,e.pendingProps.children,t),e.child;case 10:return r=e.pendingProps,aa(e,e.type,r.value),En(n,e,r.children,t),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Is(e),i=Fn(i),r=r(i),e.flags|=1,En(n,e,r,t),e.child;case 14:return w2(n,e,e.type,e.pendingProps,t);case 15:return tE(n,e,e.type,e.pendingProps,t);case 19:return iE(n,e,t);case 22:return nE(n,e,t);case 24:return Is(e),r=Fn(Jt),n===null?(i=Dx(),i===null&&(i=kt,o=Rx(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=t),i=o),e.memoizedState={parent:r,cache:i},Vx(e),aa(e,Jt,i)):(n.lanes&t&&(Bb(n,e),Au(e,null,null,t),Tu()),i=n.memoizedState,o=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),aa(e,Jt,r)):(r=o.cache,aa(e,Jt,r),r!==i.cache&&Mb(e,[Jt],t,!0))),En(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(ce(156,e.tag))}var Db=Yi(null),Ws=null,_o=null;function aa(n,e,t){Tt(Db,e._currentValue),e._currentValue=t}function Eo(n){n._currentValue=Db.current,vn(Db)}function Ob(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Mb(n,e,t,r){var i=n.child;for(i!==null&&(i.return=n);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;e:for(;o!==null;){var s=o;o=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){o.lanes|=t,s=o.alternate,s!==null&&(s.lanes|=t),Ob(o.return,t,n),r||(a=null);break e}o=s.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(ce(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Ob(a,t,n),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===n){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Td(n,e,t,r){n=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(ce(387));if(a=a.memoizedProps,a!==null){var s=i.type;Mr(i.pendingProps.value,a.value)||(n!==null?n.push(s):n=[s])}}else if(i===xf.current){if(a=i.alternate,a===null)throw Error(ce(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(n!==null?n.push(Zu):n=[Zu])}i=i.return}n!==null&&Mb(e,n,t,r),e.flags|=262144}function Bf(n){for(n=n.firstContext;n!==null;){if(!Mr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Is(n){Ws=n,_o=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fn(n){return aE(Ws,n)}function ph(n,e){return Ws===null&&Is(n),aE(n,e)}function aE(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},_o===null){if(n===null)throw Error(ce(308));_o=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else _o=_o.next=e;return t}var ta=!1;function Vx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bb(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ma(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ga(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ef(n),cC(n,null,t),e}return Yp(n,r,e,t),Ef(n)}function Su(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194176)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,L4(n,t)}}function Lg(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var Pb=!1;function Tu(){if(Pb){var n=ql;if(n!==null)throw n}}function Au(n,e,t,r){Pb=!1;var i=n.updateQueue;ta=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var h=s.lane&-536870913,f=h!==s.lane;if(f?(at&h)===h:(r&h)===h){h!==0&&h===dc&&(Pb=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=n,m=s;h=e;var b=t;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(b,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(b,d,h):p,h==null)break e;d=St({},d,h);break e;case 2:ta=!0}}h=s.callback,h!==null&&(n.flags|=64,f&&(n.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,o===null&&(i.shared.lanes=0),Ra|=a,n.lanes=a,n.memoizedState=d}}function sE(n,e){if(typeof n!="function")throw Error(ce(191,n));n.call(e)}function lE(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)sE(t[n],e)}function Ad(n,e){try{var t=e.updateQueue,r=t!==null?t.lastEffect:null;if(r!==null){var i=r.next;t=i;do{if((t.tag&n)===n){r=void 0;var o=t.create,a=t.inst;r=o(),a.destroy=r}t=t.next}while(t!==i)}}catch(s){vt(e,e.return,s)}}function Ia(n,e,t){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&n)===n){var a=r.inst,s=a.destroy;if(s!==void 0){a.destroy=void 0,i=e;var l=t;try{s()}catch(c){vt(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){vt(e,e.return,c)}}function cE(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{lE(e,t)}catch(r){vt(n,n.return,r)}}}function uE(n,e,t){t.props=As(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(r){vt(n,e,r)}}function ls(n,e){try{var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(o){vt(n,e,o)}}function kr(n,e){var t=n.ref,r=n.refCleanup;if(t!==null)if(typeof r=="function")try{r()}catch(i){vt(n,e,i)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){vt(n,e,i)}else t.current=null}function dE(n){var e=n.type,t=n.memoizedProps,r=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(i){vt(n,n.return,i)}}function T2(n,e,t){try{var r=n.stateNode;gD(r,n.type,t,e),r[cr]=e}catch(i){vt(n,n.return,i)}}function hE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function zg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=nm));else if(r!==4&&r!==27&&(n=n.child,n!==null))for(Lb(n,e,t),n=n.sibling;n!==null;)Lb(n,e,t),n=n.sibling}function Pf(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&r!==27&&(n=n.child,n!==null))for(Pf(n,e,t),n=n.sibling;n!==null;)Pf(n,e,t),n=n.sibling}var po=!1,zt=!1,jg=!1,A2=typeof WeakSet=="function"?WeakSet:Set,pn=null,I2=!1;function qR(n,e){if(n=n.containerInfo,Vb=Vf,n=nC(n),Cx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(m){t=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var f;d!==t||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===n)break t;if(h===t&&++c===i&&(s=a),h===o&&++u===r&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(qb={focusedElem:n,selectionRange:t},Vf=!1,pn=e;pn!==null;)if(e=pn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,pn=n;else for(;pn!==null;){switch(e=pn,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,i=o.memoizedProps,o=o.memoizedState,r=t.stateNode;try{var p=As(t.type,i,t.elementType===t.type);n=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=n}catch(m){vt(t,t.return,m)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Kb(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Kb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(ce(163))}if(n=e.sibling,n!==null){n.return=e.return,pn=n;break}pn=e.return}return p=I2,I2=!1,p}function fE(n,e,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:oo(n,t),r&4&&Ad(5,t);break;case 1:if(oo(n,t),r&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){vt(t,t.return,s)}else{var i=As(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(i,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){vt(t,t.return,s)}}r&64&&cE(t),r&512&&ls(t,t.return);break;case 3:if(oo(n,t),r&64&&(r=t.updateQueue,r!==null)){if(n=null,t.child!==null)switch(t.child.tag){case 27:case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}try{lE(r,n)}catch(s){vt(t,t.return,s)}}break;case 26:oo(n,t),r&512&&ls(t,t.return);break;case 27:case 5:oo(n,t),e===null&&r&4&&dE(t),r&512&&ls(t,t.return);break;case 12:oo(n,t);break;case 13:oo(n,t),r&4&&gE(n,t);break;case 22:if(i=t.memoizedState!==null||po,!i){e=e!==null&&e.memoizedState!==null||zt;var o=po,a=zt;po=i,(zt=e)&&!a?Zo(n,t,(t.subtreeFlags&8772)!==0):oo(n,t),po=o,zt=a}r&512&&(t.memoizedProps.mode==="manual"?ls(t,t.return):kr(t,t.return));break;default:oo(n,t)}}function pE(n){var e=n.alternate;e!==null&&(n.alternate=null,pE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&vx(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Vt=null,gr=!1;function io(n,e,t){for(t=t.child;t!==null;)mE(n,e,t),t=t.sibling}function mE(n,e,t){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(yd,t)}catch(a){}switch(t.tag){case 26:zt||kr(t,e),io(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:zt||kr(t,e);var r=Vt,i=gr;for(Vt=t.stateNode,io(n,e,t),t=t.stateNode,e=t.attributes;e.length;)t.removeAttributeNode(e[0]);vx(t),Vt=r,gr=i;break;case 5:zt||kr(t,e);case 6:i=Vt;var o=gr;if(Vt=null,io(n,e,t),Vt=i,gr=o,Vt!==null)if(gr)try{n=Vt,r=t.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)}catch(a){vt(t,e,a)}else try{Vt.removeChild(t.stateNode)}catch(a){vt(t,e,a)}break;case 18:Vt!==null&&(gr?(e=Vt,t=t.stateNode,e.nodeType===8?Xg(e.parentNode,t):e.nodeType===1&&Xg(e,t),ed(e)):Xg(Vt,t.stateNode));break;case 4:r=Vt,i=gr,Vt=t.stateNode.containerInfo,gr=!0,io(n,e,t),Vt=r,gr=i;break;case 0:case 11:case 14:case 15:zt||Ia(2,t,e),zt||Ia(4,t,e),io(n,e,t);break;case 1:zt||(kr(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"&&uE(t,e,r)),io(n,e,t);break;case 21:io(n,e,t);break;case 22:zt||kr(t,e),zt=(r=zt)||t.memoizedState!==null,io(n,e,t),zt=r;break;default:io(n,e,t)}}function gE(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ed(n)}catch(t){vt(e,e.return,t)}}function GR(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new A2),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new A2),e;default:throw Error(ce(435,n.tag))}}function Ng(n,e){var t=GR(n);e.forEach(function(r){var i=aD.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}function zr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r],o=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 27:case 5:Vt=s.stateNode,gr=!1;break e;case 3:Vt=s.stateNode.containerInfo,gr=!0;break e;case 4:Vt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(Vt===null)throw Error(ce(160));mE(o,a,i),Vt=null,gr=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)bE(e,n),e=e.sibling}var li=null;function bE(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zr(e,n),jr(n),r&4&&(Ia(3,n,n.return),Ad(3,n),Ia(5,n,n.return));break;case 1:zr(e,n),jr(n),r&512&&(zt||t===null||kr(t,t.return)),r&64&&po&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?r:t.concat(r))));break;case 26:var i=li;if(zr(e,n),jr(n),r&512&&(zt||t===null||kr(t,t.return)),r&4){var o=t!==null?t.memoizedState:null;if(r=n.memoizedState,t===null)if(r===null)if(n.stateNode===null){e:{r=n.type,t=n.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[$u]||o[Nn]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Rn(o,r,t),o[Nn]=n,mn(o),r=o;break e;case"link":var a=q2("link","href",i).get(r+(t.href||""));if(a){for(var s=0;s<a.length;s++)if(o=a[s],o.getAttribute("href")===(t.href==null?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(s,1);break t}}o=i.createElement(r),Rn(o,r,t),i.head.appendChild(o);break;case"meta":if(a=q2("meta","content",i).get(r+(t.content||""))){for(s=0;s<a.length;s++)if(o=a[s],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(s,1);break t}}o=i.createElement(r),Rn(o,r,t),i.head.appendChild(o);break;default:throw Error(ce(468,r))}o[Nn]=n,mn(o),r=o}n.stateNode=r}else G2(i,n.type,n.stateNode);else n.stateNode=V2(i,r,n.memoizedProps);else o!==r?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,r===null?G2(i,n.type,n.stateNode):V2(i,r,n.memoizedProps)):r===null&&n.stateNode!==null&&T2(n,n.memoizedProps,t.memoizedProps)}break;case 27:if(r&4&&n.alternate===null){i=n.stateNode,o=n.memoizedProps;try{for(var l=i.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[$u]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||i.removeChild(l),l=c}for(var d=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rn(i,d,o),i[Nn]=n,i[cr]=o}catch(p){vt(n,n.return,p)}}case 5:if(zr(e,n),jr(n),r&512&&(zt||t===null||kr(t,t.return)),n.flags&32){i=n.stateNode;try{cc(i,"")}catch(p){vt(n,n.return,p)}}r&4&&n.stateNode!=null&&(i=n.memoizedProps,T2(n,i,t!==null?t.memoizedProps:i)),r&1024&&(jg=!0);break;case 6:if(zr(e,n),jr(n),r&4){if(n.stateNode===null)throw Error(ce(162));r=n.memoizedProps,t=n.stateNode;try{t.nodeValue=r}catch(p){vt(n,n.return,p)}}break;case 3:if(cf=null,i=li,li=Uf(e.containerInfo),zr(e,n),li=i,jr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ed(e.containerInfo)}catch(p){vt(n,n.return,p)}jg&&(jg=!1,vE(n));break;case 4:r=li,li=Uf(n.stateNode.containerInfo),zr(e,n),jr(n),li=r;break;case 12:zr(e,n),jr(n);break;case 13:zr(e,n),jr(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Zx=Fi()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Ng(n,r)));break;case 22:if(r&512&&(zt||t===null||kr(t,t.return)),l=n.memoizedState!==null,c=t!==null&&t.memoizedState!==null,u=po,d=zt,po=u||l,zt=d||c,zr(e,n),zt=d,po=u,jr(n),e=n.stateNode,e._current=n,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=po||zt,t===null||c||e||gl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(t=null,e=n;;){if(e.tag===5||e.tag===26||e.tag===27){if(t===null){c=t=e;try{if(i=c.stateNode,l)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{a=c.stateNode,s=c.memoizedProps.style;var f=s!=null&&s.hasOwnProperty("display")?s.display:null;a.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){vt(c,c.return,p)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){vt(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=n.updateQueue,r!==null&&(t=r.retryQueue,t!==null&&(r.retryQueue=null,Ng(n,t))));break;case 19:zr(e,n),jr(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,Ng(n,r)));break;case 21:break;default:zr(e,n),jr(n)}}function jr(n){var e=n.flags;if(e&2){try{if(n.tag!==27){e:{for(var t=n.return;t!==null;){if(hE(t)){var r=t;break e}t=t.return}throw Error(ce(160))}switch(r.tag){case 27:var i=r.stateNode,o=zg(n);Pf(n,o,i);break;case 5:var a=r.stateNode;r.flags&32&&(cc(a,""),r.flags&=-33);var s=zg(n);Pf(n,s,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=zg(n);Lb(n,c,l);break;default:throw Error(ce(161))}}}catch(u){vt(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;vE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function oo(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)fE(n,e.alternate,e),e=e.sibling}function gl(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Ia(4,e,e.return),gl(e);break;case 1:kr(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&uE(e,e.return,t),gl(e);break;case 26:case 27:case 5:kr(e,e.return),gl(e);break;case 22:kr(e,e.return),e.memoizedState===null&&gl(e);break;default:gl(e)}n=n.sibling}}function Zo(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=n,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:Zo(i,o,t),Ad(4,o);break;case 1:if(Zo(i,o,t),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){vt(r,r.return,c)}if(r=o,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)sE(l[i],s)}catch(c){vt(r,r.return,c)}}t&&a&64&&cE(o),ls(o,o.return);break;case 26:case 27:case 5:Zo(i,o,t),t&&r===null&&a&4&&dE(o),ls(o,o.return);break;case 12:Zo(i,o,t);break;case 13:Zo(i,o,t),t&&a&4&&gE(i,o);break;case 22:o.memoizedState===null&&Zo(i,o,t),ls(o,o.return);break;default:Zo(i,o,t)}e=e.sibling}}function qx(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Ed(t))}function Gx(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ed(n))}function Uo(n,e,t,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xE(n,e,t,r),e=e.sibling}function xE(n,e,t,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Uo(n,e,t,r),i&2048&&Ad(9,e);break;case 3:Uo(n,e,t,r),i&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ed(n)));break;case 12:if(i&2048){Uo(n,e,t,r),n=e.stateNode;try{var o=e.memoizedProps,a=o.id,s=o.onPostCommit;typeof s=="function"&&s(a,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){vt(e,e.return,l)}}else Uo(n,e,t,r);break;case 23:break;case 22:o=e.stateNode,e.memoizedState!==null?o._visibility&4?Uo(n,e,t,r):Iu(n,e):o._visibility&4?Uo(n,e,t,r):(o._visibility|=4,bl(n,e,t,r,(e.subtreeFlags&10256)!==0)),i&2048&&qx(e.alternate,e);break;case 24:Uo(n,e,t,r),i&2048&&Gx(e.alternate,e);break;default:Uo(n,e,t,r)}}function bl(n,e,t,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,a=e,s=t,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:bl(o,a,s,l,i),Ad(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&4?bl(o,a,s,l,i):Iu(o,a):(u._visibility|=4,bl(o,a,s,l,i)),i&&c&2048&&qx(a.alternate,a);break;case 24:bl(o,a,s,l,i),i&&c&2048&&Gx(a.alternate,a);break;default:bl(o,a,s,l,i)}e=e.sibling}}function Iu(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,r=e,i=r.flags;switch(r.tag){case 22:Iu(t,r),i&2048&&qx(r.alternate,r);break;case 24:Iu(t,r),i&2048&&Gx(r.alternate,r);break;default:Iu(t,r)}e=e.sibling}}var pu=8192;function nl(n){if(n.subtreeFlags&pu)for(n=n.child;n!==null;)yE(n),n=n.sibling}function yE(n){switch(n.tag){case 26:nl(n),n.flags&pu&&n.memoizedState!==null&&PD(li,n.memoizedState,n.memoizedProps);break;case 5:nl(n);break;case 3:case 4:var e=li;li=Uf(n.stateNode.containerInfo),nl(n),li=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=pu,pu=16777216,nl(n),pu=e):nl(n));break;default:nl(n)}}function wE(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Xc(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];pn=r,_E(r,n)}wE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kE(n),n=n.sibling}function kE(n){switch(n.tag){case 0:case 11:case 15:Xc(n),n.flags&2048&&Ia(9,n,n.return);break;case 3:Xc(n);break;case 12:Xc(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&4&&(n.return===null||n.return.tag!==13)?(e._visibility&=-5,af(n)):Xc(n);break;default:Xc(n)}}function af(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var r=e[t];pn=r,_E(r,n)}wE(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Ia(8,e,e.return),af(e);break;case 22:t=e.stateNode,t._visibility&4&&(t._visibility&=-5,af(e));break;default:af(e)}n=n.sibling}}function _E(n,e){for(;pn!==null;){var t=pn;switch(t.tag){case 0:case 11:case 15:Ia(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var r=t.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ed(t.memoizedState.cache)}if(r=t.child,r!==null)r.return=t,pn=r;else e:for(t=n;pn!==null;){r=pn;var i=r.sibling,o=r.return;if(pE(r),r===t){pn=null;break e}if(i!==null){i.return=o,pn=i;break e}pn=o}}}function KR(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(n,e,t,r){return new KR(n,e,t,r)}function Kx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ba(n,e){var t=n.alternate;return t===null?(t=Kr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&31457280,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function CE(n,e){n.flags&=31457282;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function sf(n,e,t,r,i,o){var a=0;if(r=n,typeof n=="function")Kx(n)&&(a=1);else if(typeof n=="string")a=MD(n,t,Ni.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Il:return xs(t.children,i,o,e);case E4:a=8,i|=24;break;case ob:return n=Kr(12,t,e,i|2),n.elementType=ob,n.lanes=o,n;case ab:return n=Kr(13,t,e,i),n.elementType=ab,n.lanes=o,n;case sb:return n=Kr(19,t,e,i),n.elementType=sb,n.lanes=o,n;case T4:return EE(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x8:case xo:a=10;break e;case S4:a=9;break e;case mx:a=11;break e;case gx:a=14;break e;case ea:a=16,r=null;break e}a=29,t=Error(ce(130,n===null?"null":typeof n,"")),r=null}return e=Kr(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function xs(n,e,t,r){return n=Kr(7,n,r,e),n.lanes=t,n}function EE(n,e,t,r){n=Kr(22,n,r,e),n.elementType=T4,n.lanes=t;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var o=i._current;if(o===null)throw Error(ce(456));if(!(i._pendingVisibility&2)){var a=Ta(o,2);a!==null&&(i._pendingVisibility|=2,Jn(a,o,2))}},attach:function(){var o=i._current;if(o===null)throw Error(ce(456));if(i._pendingVisibility&2){var a=Ta(o,2);a!==null&&(i._pendingVisibility&=-3,Jn(a,o,2))}}};return n.stateNode=i,n}function Fg(n,e,t){return n=Kr(6,n,null,e),n.lanes=t,n}function $g(n,e,t){return e=Kr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ao(n){n.flags|=4}function R2(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!qE(e)){if(e=Jr.current,e!==null&&((at&4194176)===at?$i!==null:(at&62914560)!==at&&!(at&536870912)||e!==$i))throw ku=yb,dC;n.flags|=8192}}function mh(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?B4():536870912,n.lanes|=e,fc|=e)}function Zc(n,e){if(!lt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function At(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function YR(n,e,t){var r=e.pendingProps;switch(Ax(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return At(e),null;case 3:return t=e.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Eo(Jt),sc(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Kc(e)?ao(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&($b(di),di=null))),At(e),null;case 26:return t=e.memoizedState,n===null?(ao(e),t!==null?(At(e),R2(e,t)):(At(e),e.flags&=-16777217)):t?t!==n.memoizedState?(ao(e),At(e),R2(e,t)):(At(e),e.flags&=-16777217):(n.memoizedProps!==r&&ao(e),At(e),e.flags&=-16777217),null;case 27:wf(e),t=pa.current;var i=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==r&&ao(e);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return At(e),null}n=Ni.current,Kc(e)?a2(e):(n=HE(i,r,t),e.stateNode=n,ao(e))}return At(e),null;case 5:if(wf(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==r&&ao(e);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return At(e),null}if(n=Ni.current,Kc(e))a2(e);else{switch(i=$f(pa.current),n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=i.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?i.createElement(t,{is:r.is}):i.createElement(t)}}n[Nn]=e,n[cr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=n;e:switch(Rn(n,t,r),t){case"button":case"input":case"select":case"textarea":n=!!r.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ao(e)}}return At(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==r&&ao(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=pa.current,Kc(e)){if(n=e.stateNode,t=e.memoizedProps,r=null,i=Gn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}n[Nn]=e,n=!!(n.nodeValue===t||r!==null&&r.suppressHydrationWarning===!0||FE(n.nodeValue,t)),n||Es(e)}else n=$f(n).createTextNode(r),n[Nn]=e,e.stateNode=n}return At(e),null;case 13:if(r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(i=Kc(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[Nn]=e}else Cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),i=!1}else di!==null&&($b(di),di=null),i=!0;if(!i)return e.flags&256?(ko(e),e):(ko(e),null)}if(ko(e),e.flags&128)return e.lanes=t,e;if(t=r!==null,n=n!==null&&n.memoizedState!==null,t){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),mh(e,e.updateQueue),At(e),null;case 4:return sc(),n===null&&ey(e.stateNode.containerInfo),At(e),null;case 10:return Eo(e.type),At(e),null;case 19:if(vn(en),i=e.memoizedState,i===null)return At(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Zc(i,!1);else{if(jt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=If(n),o!==null){for(e.flags|=128,Zc(i,!1),n=o.updateQueue,e.updateQueue=n,mh(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)CE(t,n),t=t.sibling;return Tt(en,en.current&1|2),e.child}n=n.sibling}i.tail!==null&&Fi()>Lf&&(e.flags|=128,r=!0,Zc(i,!1),e.lanes=4194304)}else{if(!r)if(n=If(o),n!==null){if(e.flags|=128,r=!0,n=n.updateQueue,e.updateQueue=n,mh(e,n),Zc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return At(e),null}else 2*Fi()-i.renderingStartTime>Lf&&t!==536870912&&(e.flags|=128,r=!0,Zc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fi(),e.sibling=null,n=en.current,Tt(en,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return ko(e),Ix(),r=e.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?t&536870912&&!(e.flags&128)&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),t=e.updateQueue,t!==null&&mh(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==t&&(e.flags|=2048),n!==null&&vn(vs),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Eo(Jt),At(e),null;case 25:return null}throw Error(ce(156,e.tag))}function XR(n,e){switch(Ax(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Eo(Jt),sc(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return wf(e),null;case 13:if(ko(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Cd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vn(en),null;case 4:return sc(),null;case 10:return Eo(e.type),null;case 22:case 23:return ko(e),Ix(),n!==null&&vn(vs),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Eo(Jt),null;case 25:return null;default:return null}}function SE(n,e){switch(Ax(e),e.tag){case 3:Eo(Jt),sc();break;case 26:case 27:case 5:wf(e);break;case 4:sc();break;case 13:ko(e);break;case 19:vn(en);break;case 10:Eo(e.type);break;case 22:case 23:ko(e),Ix(),n!==null&&vn(vs);break;case 24:Eo(Jt)}}var ZR={getCacheForType:function(n){var e=Fn(Jt),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},JR=typeof WeakMap=="function"?WeakMap:Map,Dt=0,kt=null,tt=null,at=0,yt=0,br=null,mo=!1,Rc=!1,Yx=!1,Mo=0,jt=0,Ra=0,ys=0,Xx=0,Yr=0,fc=0,Ru=null,Pi=null,zb=!1,Zx=0,Lf=1/0,zf=null,va=null,gh=!1,rs=null,Du=0,jb=0,Nb=null,Ou=0,Fb=null;function Ar(){if(Dt&2&&at!==0)return at&-at;if(Ve.T!==null){var n=dc;return n!==0?n:Qx()}return j4()}function TE(){Yr===0&&(Yr=!(at&536870912)||lt?M4():536870912);var n=Jr.current;return n!==null&&(n.flags|=32),Yr}function Jn(n,e,t){(n===kt&&yt===2||n.cancelPendingCommit!==null)&&(pc(n,0),go(n,at,Yr,!1)),kd(n,t),(!(Dt&2)||n!==kt)&&(n===kt&&(!(Dt&2)&&(ys|=t),jt===4&&go(n,at,Yr,!1)),Xi(n))}function AE(n,e,t){if(Dt&6)throw Error(ce(327));var r=!t&&(e&60)===0&&(e&n.expiredLanes)===0||wd(n,e),i=r?tD(n,e):Ug(n,e,!0),o=r;do{if(i===0){Rc&&!r&&go(n,e,0,!1);break}else if(i===6)go(n,e,0,!mo);else{if(t=n.current.alternate,o&&!QR(t)){i=Ug(n,e,!1),o=!1;continue}if(i===2){if(o=e,n.errorRecoveryDisabledLanes&o)var a=0;else a=n.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var s=n;i=Ru;var l=s.current.memoizedState.isDehydrated;if(l&&(pc(s,a).flags|=256),a=Ug(s,a,!1),a!==2){if(Yx&&!l){s.errorRecoveryDisabledLanes|=o,ys|=o,i=4;break e}o=Pi,Pi=i,o!==null&&$b(o)}i=a}if(o=!1,i!==2)continue}}if(i===1){pc(n,0),go(n,e,0,!0);break}e:{switch(r=n,i){case 0:case 1:throw Error(ce(345));case 4:if((e&4194176)===e){go(r,e,Yr,!mo);break e}break;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(ce(329))}if(r.finishedWork=t,r.finishedLanes=e,(e&62914560)===e&&(o=Zx+300-Fi(),10<o)){if(go(r,e,Yr,!mo),Wp(r,0)!==0)break e;r.timeoutHandle=UE(D2.bind(null,r,t,Pi,zf,zb,e,Yr,ys,fc,mo,2,-0,0),o);break e}D2(r,t,Pi,zf,zb,e,Yr,ys,fc,mo,0,-0,0)}}break}while(!0);Xi(n)}function $b(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function D2(n,e,t,r,i,o,a,s,l,c,u,d,h){var f=e.subtreeFlags;if((f&8192||(f&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:BD},yE(e),e=LD(),e!==null)){n.cancelPendingCommit=e(M2.bind(null,n,t,r,i,a,s,l,1,d,h)),go(n,o,a,!c);return}M2(n,t,r,i,a,s,l,u,d,h)}function QR(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Mr(o(),i))return!1}catch(a){return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(n,e,t,r){e&=~Xx,e&=~ys,n.suspendedLanes|=e,n.pingedLanes&=~e,r&&(n.warmLanes|=e),r=n.expirationTimes;for(var i=e;0<i;){var o=31-Tr(i),a=1<<o;r[o]=-1,i&=~a}t!==0&&P4(n,t,e)}function em(){return Dt&6?!0:(Id(0),!1)}function Jx(){if(tt!==null){if(yt===0)var n=tt.return;else n=tt,_o=Ws=null,Lx(n),Vl=null,qu=0,n=tt;for(;n!==null;)SE(n.alternate,n),n=n.return;tt=null}}function pc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,vD(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),Jx(),kt=n,tt=t=ba(n.current,null),at=e,yt=0,br=null,mo=!1,Rc=wd(n,e),Yx=!1,fc=Yr=Xx=ys=Ra=jt=0,Pi=Ru=null,zb=!1,e&8&&(e|=e&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=e;0<r;){var i=31-Tr(r),o=1<<i;e|=n[i],r&=~o}return Mo=e,Kp(),t}function IE(n,e){Je=null,Ve.H=qi,e===wu?(e=c2(),yt=3):e===dC?(e=c2(),yt=4):yt=e===eE?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,br=e,tt===null&&(jt=1,Mf(n,qr(e,n.current)))}function RE(){var n=Ve.H;return Ve.H=qi,n===null?qi:n}function DE(){var n=Ve.A;return Ve.A=ZR,n}function Ub(){jt=4,mo||(at&4194176)!==at&&Jr.current!==null||(Rc=!0),!(Ra&134217727)&&!(ys&134217727)||kt===null||go(kt,at,Yr,!1)}function Ug(n,e,t){var r=Dt;Dt|=2;var i=RE(),o=DE();(kt!==n||at!==e)&&(zf=null,pc(n,e)),e=!1;var a=jt;e:do try{if(yt!==0&&tt!==null){var s=tt,l=br;switch(yt){case 8:Jx(),a=6;break e;case 3:case 2:case 6:Jr.current===null&&(e=!0);var c=yt;if(yt=0,br=null,Nl(n,s,l,c),t&&Rc){a=0;break e}break;default:c=yt,yt=0,br=null,Nl(n,s,l,c)}}eD(),a=jt;break}catch(u){IE(n,u)}while(!0);return e&&n.shellSuspendCounter++,_o=Ws=null,Dt=r,Ve.H=i,Ve.A=o,tt===null&&(kt=null,at=0,Kp()),a}function eD(){for(;tt!==null;)OE(tt)}function tD(n,e){var t=Dt;Dt|=2;var r=RE(),i=DE();kt!==n||at!==e?(zf=null,Lf=Fi()+500,pc(n,e)):Rc=wd(n,e);e:do try{if(yt!==0&&tt!==null){e=tt;var o=br;t:switch(yt){case 1:yt=0,br=null,Nl(n,e,o,1);break;case 2:if(l2(o)){yt=0,br=null,O2(e);break}e=function(){yt===2&&kt===n&&(yt=7),Xi(n)},o.then(e,e);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:l2(o)?(yt=0,br=null,O2(e)):(yt=0,br=null,Nl(n,e,o,7));break;case 5:var a=null;switch(tt.tag){case 26:a=tt.memoizedState;case 5:case 27:var s=tt;if(!a||qE(a)){yt=0,br=null;var l=s.sibling;if(l!==null)tt=l;else{var c=s.return;c!==null?(tt=c,tm(c)):tt=null}break t}}yt=0,br=null,Nl(n,e,o,5);break;case 6:yt=0,br=null,Nl(n,e,o,6);break;case 8:Jx(),jt=6;break e;default:throw Error(ce(462))}}nD();break}catch(u){IE(n,u)}while(!0);return _o=Ws=null,Ve.H=r,Ve.A=i,Dt=t,tt!==null?0:(kt=null,at=0,Kp(),jt)}function nD(){for(;tt!==null&&!C8();)OE(tt)}function OE(n){var e=oE(n.alternate,n,Mo);n.memoizedProps=n.pendingProps,e===null?tm(n):tt=e}function O2(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=_2(t,e,e.pendingProps,e.type,void 0,at);break;case 11:e=_2(t,e,e.pendingProps,e.type.render,e.ref,at);break;case 5:Lx(e);default:SE(t,e),e=tt=CE(e,Mo),e=oE(t,e,Mo)}n.memoizedProps=n.pendingProps,e===null?tm(n):tt=e}function Nl(n,e,t,r){_o=Ws=null,Lx(e),Vl=null,qu=0;var i=e.return;try{if(WR(n,i,e,t,at)){jt=1,Mf(n,qr(t,n.current)),tt=null;return}}catch(o){if(i!==null)throw tt=i,o;jt=1,Mf(n,qr(t,n.current)),tt=null;return}e.flags&32768?(lt||r===1?n=!0:Rc||at&536870912?n=!1:(mo=n=!0,(r===2||r===3||r===6)&&(r=Jr.current,r!==null&&r.tag===13&&(r.flags|=16384))),ME(e,n)):tm(e)}function tm(n){var e=n;do{if(e.flags&32768){ME(e,mo);return}n=e.return;var t=YR(e.alternate,e,Mo);if(t!==null){tt=t;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=n}while(e!==null);jt===0&&(jt=5)}function ME(n,e){do{var t=XR(n.alternate,n);if(t!==null){t.flags&=32767,tt=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){tt=n;return}tt=n=t}while(n!==null);jt=6,tt=null}function M2(n,e,t,r,i,o,a,s,l,c){var u=Ve.T,d=Et.p;try{Et.p=2,Ve.T=null,rD(n,e,t,r,d,i,o,a,s,l,c)}finally{Ve.T=u,Et.p=d}}function rD(n,e,t,r,i,o,a,s){do Yl();while(rs!==null);if(Dt&6)throw Error(ce(327));var l=n.finishedWork;if(r=n.finishedLanes,l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(ce(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=Ex,P8(n,r,c,o,a,s),n===kt&&(tt=kt=null,at=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||gh||(gh=!0,jb=c,Nb=t,sD(kf,function(){return Yl(),null})),t=(l.flags&15990)!==0,l.subtreeFlags&15990||t?(t=Ve.T,Ve.T=null,o=Et.p,Et.p=2,a=Dt,Dt|=4,qR(n,l),bE(l,n),TR(qb,n.containerInfo),Vf=!!Vb,qb=Vb=null,n.current=l,fE(n,l.alternate,l),E8(),Dt=a,Et.p=o,Ve.T=t):n.current=l,gh?(gh=!1,rs=n,Du=r):BE(n,c),c=n.pendingLanes,c===0&&(va=null),R8(l.stateNode),Xi(n),e!==null)for(i=n.onRecoverableError,l=0;l<e.length;l++)c=e[l],i(c.value,{componentStack:c.stack});return Du&3&&Yl(),c=n.pendingLanes,r&4194218&&c&42?n===Fb?Ou++:(Ou=0,Fb=n):Ou=0,Id(0),null}function BE(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Ed(e)))}function Yl(){if(rs!==null){var n=rs,e=jb;jb=0;var t=z4(Du),r=Ve.T,i=Et.p;try{if(Et.p=32>t?32:t,Ve.T=null,rs===null)var o=!1;else{t=Nb,Nb=null;var a=rs,s=Du;if(rs=null,Du=0,Dt&6)throw Error(ce(331));var l=Dt;if(Dt|=4,kE(a.current),xE(a,a.current,s,t),Dt=l,Id(0,!1),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(yd,a)}catch(c){}o=!0}return o}finally{Et.p=i,Ve.T=r,BE(n,e)}}return!1}function B2(n,e,t){e=qr(t,e),e=Tb(n.stateNode,e,2),n=ga(n,e,2),n!==null&&(kd(n,2),Xi(n))}function vt(n,e,t){if(n.tag===3)B2(n,n,t);else for(;e!==null;){if(e.tag===3){B2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){n=qr(t,n),t=JC(2),r=ga(e,t,2),r!==null&&(QC(t,r,e,n),kd(r,2),Xi(r));break}}e=e.return}}function Hg(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new JR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(Yx=!0,i.add(t),n=iD.bind(null,n,e,t),e.then(n,n))}function iD(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,kt===n&&(at&t)===t&&(jt===4||jt===3&&(at&62914560)===at&&300>Fi()-Zx?!(Dt&2)&&pc(n,0):Xx|=t,fc===at&&(fc=0)),Xi(n)}function PE(n,e){e===0&&(e=B4()),n=Ta(n,e),n!==null&&(kd(n,e),Xi(n))}function oD(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),PE(n,t)}function aD(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(ce(314))}r!==null&&r.delete(e),PE(n,t)}function sD(n,e){return bx(n,e)}var jf=null,vl=null,Hb=!1,Nf=!1,Wg=!1,ws=0;function Xi(n){n!==vl&&n.next===null&&(vl===null?jf=vl=n:vl=vl.next=n),Nf=!0,Hb||(Hb=!0,cD(lD))}function Id(n,e){if(!Wg&&Nf){Wg=!0;do for(var t=!1,r=jf;r!==null;){if(n!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Tr(42|n)+1)-1,o&=i&~(a&~s),o=o&201326677?o&201326677|1:o?o|2:0}o!==0&&(t=!0,P2(r,o))}else o=at,o=Wp(r,r===kt?o:0),!(o&3)||wd(r,o)||(t=!0,P2(r,o));r=r.next}while(t);Wg=!1}}function lD(){Nf=Hb=!1;var n=0;ws!==0&&(bD()&&(n=ws),ws=0);for(var e=Fi(),t=null,r=jf;r!==null;){var i=r.next,o=LE(r,e);o===0?(r.next=null,t===null?jf=i:t.next=i,i===null&&(vl=t)):(t=r,(n!==0||o&3)&&(Nf=!0)),r=i}Id(n)}function LE(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var a=31-Tr(o),s=1<<a,l=i[a];l===-1?(!(s&t)||s&r)&&(i[a]=B8(s,e)):l<=e&&(n.expiredLanes|=s),o&=~s}if(e=kt,t=at,t=Wp(n,n===e?t:0),r=n.callbackNode,t===0||n===e&&yt===2||n.cancelPendingCommit!==null)return r!==null&&r!==null&&yg(r),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||wd(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(r!==null&&yg(r),z4(t)){case 2:case 8:t=D4;break;case 32:t=kf;break;case 268435456:t=O4;break;default:t=kf}return r=zE.bind(null,n),t=bx(t,r),n.callbackPriority=e,n.callbackNode=t,e}return r!==null&&r!==null&&yg(r),n.callbackPriority=2,n.callbackNode=null,2}function zE(n,e){var t=n.callbackNode;if(Yl()&&n.callbackNode!==t)return null;var r=at;return r=Wp(n,n===kt?r:0),r===0?null:(AE(n,r,e),LE(n,Fi()),n.callbackNode!=null&&n.callbackNode===t?zE.bind(null,n):null)}function P2(n,e){if(Yl())return null;AE(n,e,!0)}function cD(n){xD(function(){Dt&6?bx(R4,n):n()})}function Qx(){return ws===0&&(ws=M4()),ws}function L2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qh(""+n)}function z2(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function uD(n,e,t,r,i){if(e==="submit"&&t&&t.stateNode===i){var o=L2((i[cr]||null).action),a=r.submitter;a&&(e=(e=a[cr]||null)?L2(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var s=new Vp("action","action",null,r,i);n.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ws!==0){var l=a?z2(i,a):new FormData(i);Eb(t,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(s.preventDefault(),l=a?z2(i,a):new FormData(i),Eb(t,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var Vg=0;Vg<i2.length;Vg++){var qg=i2[Vg],dD=qg.toLowerCase(),hD=qg[0].toUpperCase()+qg.slice(1);wi(dD,"on"+hD)}wi(iC,"onAnimationEnd");wi(oC,"onAnimationIteration");wi(aC,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(IR,"onTransitionRun");wi(RR,"onTransitionStart");wi(DR,"onTransitionCancel");wi(sC,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function jE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){Of(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){Of(u)}i.currentTarget=null,o=l}}}}function ot(n,e){var t=e[hb];t===void 0&&(t=e[hb]=new Set);var r=n+"__bubble";t.has(r)||(NE(e,n,2,!1),t.add(r))}function Gg(n,e,t){var r=0;e&&(r|=4),NE(t,n,r,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function ey(n){if(!n[bh]){n[bh]=!0,N4.forEach(function(t){t!=="selectionchange"&&(fD.has(t)||Gg(t,!1,n),Gg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[bh]||(e[bh]=!0,Gg("selectionchange",!1,e))}}function NE(n,e,t,r){switch(ZE(e)){case 2:var i=ND;break;case 8:i=FD;break;default:i=iy}t=i.bind(null,e,t,n),i=void 0,!gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Kg(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ss(s),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=o=a;continue e}s=s.parentNode}}r=r.return}G4(function(){var c=o,u=yx(t),d=[];e:{var h=lC.get(n);if(h!==void 0){var f=Vp,p=n;switch(n){case"keypress":if(tf(t)===0)break e;case"keydown":case"keyup":f=aR;break;case"focusin":p="focus",f=Eg;break;case"focusout":p="blur",f=Eg;break;case"beforeblur":case"afterblur":f=Eg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=K8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cR;break;case iC:case oC:case aC:f=Z8;break;case sC:f=dR;break;case"scroll":case"scrollend":f=q8;break;case"wheel":f=fR;break;case"copy":case"cut":case"paste":f=Q8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kw;break;case"toggle":case"beforetoggle":f=mR}var m=(e&4)!==0,b=!m&&(n==="scroll"||n==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,x;v!==null;){var y=v;if(x=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||x===null||g===null||(y=Uu(v,g),y!=null&&m.push(Yu(v,y,x))),b)break;v=v.return}0<m.length&&(h=new f(h,p,null,t,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&t!==mb&&(p=t.relatedTarget||t.fromElement)&&(ss(p)||p[Ac]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=t.relatedTarget||t.toElement,f=c,p=p?ss(p):null,p!==null&&(b=Tc(p),m=p.tag,p!==b||m!==5&&m!==27&&m!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=qw,y="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(m=Kw,y="onPointerLeave",g="onPointerEnter",v="pointer"),b=f==null?h:fu(f),x=p==null?h:fu(p),h=new m(y,v+"leave",f,t,u),h.target=b,h.relatedTarget=x,y=null,ss(u)===c&&(m=new m(g,v+"enter",p,t,u),m.target=x,m.relatedTarget=b,y=m),b=y,f&&p)t:{for(m=f,g=p,v=0,x=m;x;x=rl(x))v++;for(x=0,y=g;y;y=rl(y))x++;for(;0<v-x;)m=rl(m),v--;for(;0<x-v;)g=rl(g),x--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=rl(m),g=rl(g)}m=null}else m=null;f!==null&&j2(d,h,f,m,!1),p!==null&&b!==null&&j2(d,b,p,m,!0)}}e:{if(h=c?fu(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=Jw;else if(Zw(h))if(Q4)w=ER;else{w=_R;var E=kR}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&xx(c.elementType)&&(w=Jw):w=CR;if(w&&(w=w(n,c))){J4(d,w,t,u);break e}E&&E(n,h,c),n==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&pb(h,"number",h.value)}switch(E=c?fu(c):window,n){case"focusin":(Zw(E)||E.contentEditable==="true")&&(Ml=E,bb=c,yu=null);break;case"focusout":yu=bb=Ml=null;break;case"mousedown":vb=!0;break;case"contextmenu":case"mouseup":case"dragend":vb=!1,r2(d,t,u);break;case"selectionchange":if(AR)break;case"keydown":case"keyup":r2(d,t,u)}var C;if(_x)e:{switch(n){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ol?X4(n,t)&&(S="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(S="onCompositionStart");S&&(Y4&&t.locale!=="ko"&&(Ol||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ol&&(C=K4()):(da=u,wx="value"in da?da.value:da.textContent,Ol=!0)),E=Ff(c,S),0<E.length&&(S=new Gw(S,n,null,t,u),d.push({event:S,listeners:E}),C?S.data=C:(C=Z4(t),C!==null&&(S.data=C)))),(C=bR?vR(n,t):xR(n,t))&&(S=Ff(c,"onBeforeInput"),0<S.length&&(E=new Gw("onBeforeInput","beforeinput",null,t,u),d.push({event:E,listeners:S}),E.data=C)),uD(d,n,c,t,u)}jE(d,e)})}function Yu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ff(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Uu(n,t),i!=null&&r.unshift(Yu(n,i,o)),i=Uu(n,e),i!=null&&r.push(Yu(n,i,o))),n=n.return}return r}function rl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function j2(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||c===null||(l=c,i?(c=Uu(t,o),c!=null&&a.unshift(Yu(t,c,l))):i||(c=Uu(t,o),c!=null&&a.push(Yu(t,c,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var pD=/\r\n?/g,mD=/\u0000|\uFFFD/g;function N2(n){return(typeof n=="string"?n:""+n).replace(pD,"\n").replace(mD,"")}function FE(n,e){return e=N2(e),N2(n)===e}function nm(){}function pt(n,e,t,r,i,o){switch(t){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||cc(n,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&cc(n,""+r);break;case"className":ch(n,"class",r);break;case"tabIndex":ch(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ch(n,t,r);break;case"style":q4(n,r,o);break;case"data":if(e!=="object"){ch(n,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=Qh(""+r),n.setAttribute(t,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&pt(n,e,"name",i.name,i,null),pt(n,e,"formEncType",i.formEncType,i,null),pt(n,e,"formMethod",i.formMethod,i,null),pt(n,e,"formTarget",i.formTarget,i,null)):(pt(n,e,"encType",i.encType,i,null),pt(n,e,"method",i.method,i,null),pt(n,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(t);break}r=Qh(""+r),n.setAttribute(t,r);break;case"onClick":r!=null&&(n.onclick=nm);break;case"onScroll":r!=null&&ot("scroll",n);break;case"onScrollEnd":r!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ce(61));if(t=r.__html,t!=null){if(i.children!=null)throw Error(ce(60));n.innerHTML=t}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}t=Qh(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""+r):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":r===!0?n.setAttribute(t,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(t,r):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(t,r):n.removeAttribute(t);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(t):n.setAttribute(t,r);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Jh(n,"popover",r);break;case"xlinkActuate":ro(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ro(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ro(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ro(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ro(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ro(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ro(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ro(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ro(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jh(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=W8.get(t)||t,Jh(n,t,r))}}function Wb(n,e,t,r,i,o){switch(t){case"style":q4(n,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ce(61));if(t=r.__html,t!=null){if(i.children!=null)throw Error(ce(60));n.innerHTML=t}}break;case"children":typeof r=="string"?cc(n,r):(typeof r=="number"||typeof r=="bigint")&&cc(n,""+r);break;case"onScroll":r!=null&&ot("scroll",n);break;case"onScrollEnd":r!=null&&ot("scrollend",n);break;case"onClick":r!=null&&(n.onclick=nm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!F4.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),o=n[cr]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,r,i);break e}t in n?n[t]=r:r===!0?n.setAttribute(t,""):Jh(n,t,r)}}}function Rn(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var r=!1,i=!1,o;for(o in t)if(t.hasOwnProperty(o)){var a=t[o];if(a!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:pt(n,e,o,a,t,null)}}i&&pt(n,e,"srcSet",t.srcSet,t,null),r&&pt(n,e,"src",t.src,t,null);return;case"input":ot("invalid",n);var s=o=a=i=null,l=null,c=null;for(r in t)if(t.hasOwnProperty(r)){var u=t[r];if(u!=null)switch(r){case"name":i=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":o=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(ce(137,e));break;default:pt(n,e,r,u,t,null)}}H4(n,o,s,l,c,a,i,!1),_f(n);return;case"select":ot("invalid",n),r=a=o=null;for(i in t)if(t.hasOwnProperty(i)&&(s=t[i],s!=null))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:pt(n,e,i,s,t,null)}e=o,t=a,n.multiple=!!r,e!=null?Hl(n,!!r,e,!1):t!=null&&Hl(n,!!r,t,!0);return;case"textarea":ot("invalid",n),o=i=r=null;for(a in t)if(t.hasOwnProperty(a)&&(s=t[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(ce(91));break;default:pt(n,e,a,s,t,null)}V4(n,r,i,o),_f(n);return;case"option":for(l in t)if(t.hasOwnProperty(l)&&(r=t[l],r!=null))switch(l){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:pt(n,e,l,r,t,null)}return;case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(r=0;r<Ku.length;r++)ot(Ku[r],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in t)if(t.hasOwnProperty(c)&&(r=t[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(ce(137,e));default:pt(n,e,c,r,t,null)}return;default:if(xx(e)){for(u in t)t.hasOwnProperty(u)&&(r=t[u],r!==void 0&&Wb(n,e,u,r,t,void 0));return}}for(s in t)t.hasOwnProperty(s)&&(r=t[s],r!=null&&pt(n,e,s,r,t,null))}function gD(n,e,t,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,c=null,u=null;for(f in t){var d=t[f];if(t.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(f)||pt(n,e,f,null,r,d)}}for(var h in r){var f=r[h];if(d=t[h],r.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":o=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ce(137,e));break;default:f!==d&&pt(n,e,h,f,r,d)}}fb(n,a,s,l,c,u,o,i);return;case"select":f=a=s=h=null;for(o in t)if(l=t[o],t.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(o)||pt(n,e,o,null,r,l)}for(i in r)if(o=r[i],l=t[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&pt(n,e,i,o,r,l)}e=s,t=a,r=f,h!=null?Hl(n,!!t,h,!1):!!r!=!!t&&(e!=null?Hl(n,!!t,e,!0):Hl(n,!!t,t?[]:"",!1));return;case"textarea":f=h=null;for(s in t)if(i=t[s],t.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:pt(n,e,s,null,r,i)}for(a in r)if(i=r[a],o=t[a],r.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ce(91));break;default:i!==o&&pt(n,e,a,i,r,o)}W4(n,h,f);return;case"option":for(var p in t)if(h=t[p],t.hasOwnProperty(p)&&h!=null&&!r.hasOwnProperty(p))switch(p){case"selected":n.selected=!1;break;default:pt(n,e,p,null,r,h)}for(l in r)if(h=r[l],f=t[l],r.hasOwnProperty(l)&&h!==f&&(h!=null||f!=null))switch(l){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pt(n,e,l,h,r,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in t)h=t[m],t.hasOwnProperty(m)&&h!=null&&!r.hasOwnProperty(m)&&pt(n,e,m,null,r,h);for(c in r)if(h=r[c],f=t[c],r.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ce(137,e));break;default:pt(n,e,c,h,r,f)}return;default:if(xx(e)){for(var b in t)h=t[b],t.hasOwnProperty(b)&&h!==void 0&&!r.hasOwnProperty(b)&&Wb(n,e,b,void 0,r,h);for(u in r)h=r[u],f=t[u],!r.hasOwnProperty(u)||h===f||h===void 0&&f===void 0||Wb(n,e,u,h,r,f);return}}for(var g in t)h=t[g],t.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&pt(n,e,g,null,r,h);for(d in r)h=r[d],f=t[d],!r.hasOwnProperty(d)||h===f||h==null&&f==null||pt(n,e,d,h,r,f)}var Vb=null,qb=null;function $f(n){return n.nodeType===9?n:n.ownerDocument}function F2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $E(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Gb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yg=null;function bD(){var n=window.event;return n&&n.type==="popstate"?n===Yg?!1:(Yg=n,!0):(Yg=null,!1)}var UE=typeof setTimeout=="function"?setTimeout:void 0,vD=typeof clearTimeout=="function"?clearTimeout:void 0,$2=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof $2<"u"?function(n){return $2.resolve(null).then(n).catch(yD)}:UE;function yD(n){setTimeout(function(){throw n})}function Xg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ed(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ed(e)}function Kb(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Kb(t),vx(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function wD(n,e,t,r){for(;n.nodeType===1;){var i=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[$u])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==i.rel||n.getAttribute("href")!==(i.href==null?null:i.href)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||n.getAttribute("title")!==(i.title==null?null:i.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(i.src==null?null:i.src)||n.getAttribute("type")!==(i.type==null?null:i.type)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=gi(n.nextSibling),n===null)break}return null}function kD(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=gi(n.nextSibling),n===null))return null;return n}function gi(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}function U2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function HE(n,e,t){switch(e=$f(t),n){case"html":if(n=e.documentElement,!n)throw Error(ce(452));return n;case"head":if(n=e.head,!n)throw Error(ce(453));return n;case"body":if(n=e.body,!n)throw Error(ce(454));return n;default:throw Error(ce(451))}}var Qr=new Map,H2=new Set;function Uf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Bo=Et.d;Et.d={f:_D,r:CD,D:ED,C:SD,L:TD,m:AD,X:RD,S:ID,M:DD};function _D(){var n=Bo.f(),e=em();return n||e}function CD(n){var e=Ic(n);e!==null&&e.tag===5&&e.type==="form"?HC(e):Bo.r(n)}var Dc=typeof document>"u"?null:document;function WE(n,e,t){var r=Dc;if(r&&typeof e=="string"&&e){var i=Vr(e);i='link[rel="'+n+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),H2.has(i)||(H2.add(i),n={rel:n,crossOrigin:t,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Rn(e,"link",n),mn(e),r.head.appendChild(e)))}}function ED(n){Bo.D(n),WE("dns-prefetch",n,null)}function SD(n,e){Bo.C(n,e),WE("preconnect",n,e)}function TD(n,e,t){Bo.L(n,e,t);var r=Dc;if(r&&n&&e){var i='link[rel="preload"][as="'+Vr(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+Vr(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+Vr(t.imageSizes)+'"]')):i+='[href="'+Vr(n)+'"]';var o=i;switch(e){case"style":o=mc(n);break;case"script":o=Oc(n)}Qr.has(o)||(n=St({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),Qr.set(o,n),r.querySelector(i)!==null||e==="style"&&r.querySelector(Rd(o))||e==="script"&&r.querySelector(Dd(o))||(e=r.createElement("link"),Rn(e,"link",n),mn(e),r.head.appendChild(e)))}}function AD(n,e){Bo.m(n,e);var t=Dc;if(t&&n){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Vr(r)+'"][href="'+Vr(n)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Oc(n)}if(!Qr.has(o)&&(n=St({rel:"modulepreload",href:n},e),Qr.set(o,n),t.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Dd(o)))return}r=t.createElement("link"),Rn(r,"link",n),mn(r),t.head.appendChild(r)}}}function ID(n,e,t){Bo.S(n,e,t);var r=Dc;if(r&&n){var i=Ul(r).hoistableStyles,o=mc(n);e=e||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Rd(o)))s.loading=5;else{n=St({rel:"stylesheet",href:n,"data-precedence":e},t),(t=Qr.get(o))&&ty(n,t);var l=a=r.createElement("link");mn(l),Rn(l,"link",n),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,lf(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}}function RD(n,e){Bo.X(n,e);var t=Dc;if(t&&n){var r=Ul(t).hoistableScripts,i=Oc(n),o=r.get(i);o||(o=t.querySelector(Dd(i)),o||(n=St({src:n,async:!0},e),(e=Qr.get(i))&&ny(n,e),o=t.createElement("script"),mn(o),Rn(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function DD(n,e){Bo.M(n,e);var t=Dc;if(t&&n){var r=Ul(t).hoistableScripts,i=Oc(n),o=r.get(i);o||(o=t.querySelector(Dd(i)),o||(n=St({src:n,async:!0,type:"module"},e),(e=Qr.get(i))&&ny(n,e),o=t.createElement("script"),mn(o),Rn(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function W2(n,e,t,r){var i=(i=pa.current)?Uf(i):null;if(!i)throw Error(ce(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=mc(t.href),t=Ul(i).hoistableStyles,r=t.get(e),r||(r={type:"style",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=mc(t.href);var o=Ul(i).hoistableStyles,a=o.get(n);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,a),(o=i.querySelector(Rd(n)))&&!o._p&&(a.instance=o,a.state.loading=5),Qr.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Qr.set(n,t),o||OD(i,n,t,a.state))),e&&r===null)throw Error(ce(528,""));return a}if(e&&r!==null)throw Error(ce(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Oc(t),t=Ul(i).hoistableScripts,r=t.get(e),r||(r={type:"script",instance:null,count:0,state:null},t.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ce(444,n))}}function mc(n){return'href="'+Vr(n)+'"'}function Rd(n){return'link[rel="stylesheet"]['+n+"]"}function VE(n){return St({},n,{"data-precedence":n.precedence,precedence:null})}function OD(n,e,t,r){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=n.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Rn(e,"link",t),mn(e),n.head.appendChild(e))}function Oc(n){return'[src="'+Vr(n)+'"]'}function Dd(n){return"script[async]"+n}function V2(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var r=n.querySelector('style[data-href~="'+Vr(t.href)+'"]');if(r)return e.instance=r,mn(r),r;var i=St({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),mn(r),Rn(r,"style",i),lf(r,t.precedence,n),e.instance=r;case"stylesheet":i=mc(t.href);var o=n.querySelector(Rd(i));if(o)return e.state.loading|=4,e.instance=o,mn(o),o;r=VE(t),(i=Qr.get(i))&&ty(r,i),o=(n.ownerDocument||n).createElement("link"),mn(o);var a=o;return a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Rn(o,"link",r),e.state.loading|=4,lf(o,t.precedence,n),e.instance=o;case"script":return o=Oc(t.src),(i=n.querySelector(Dd(o)))?(e.instance=i,mn(i),i):(r=t,(i=Qr.get(o))&&(r=St({},t),ny(r,i)),n=n.ownerDocument||n,i=n.createElement("script"),mn(i),Rn(i,"link",r),n.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ce(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,lf(r,t.precedence,n));return e.instance}function lf(n,e,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===e)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function ty(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function ny(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var cf=null;function q2(n,e,t){if(cf===null){var r=new Map,i=cf=new Map;i.set(t,r)}else i=cf,r=i.get(t),r||(r=new Map,i.set(t,r));if(r.has(n))return r;for(r.set(n,null),t=t.getElementsByTagName(n),i=0;i<t.length;i++){var o=t[i];if(!(o[$u]||o[Nn]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=n+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function G2(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function MD(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qE(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Xu=null;function BD(){}function PD(n,e,t){if(Xu===null)throw Error(ce(475));var r=Xu;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=mc(t.href),o=n.querySelector(Rd(i));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Hf.bind(r),n.then(r,r)),e.state.loading|=4,e.instance=o,mn(o);return}o=n.ownerDocument||n,t=VE(t),(i=Qr.get(i))&&ty(t,i),o=o.createElement("link"),mn(o);var a=o;a._p=new Promise(function(s,l){a.onload=s,a.onerror=l}),Rn(o,"link",t),e.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Hf.bind(r),n.addEventListener("load",e),n.addEventListener("error",e))}}function LD(){if(Xu===null)throw Error(ce(475));var n=Xu;return n.stylesheets&&n.count===0&&Yb(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&Yb(n,n.stylesheets),n.unsuspend){var r=n.unsuspend;n.unsuspend=null,r()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function Hf(){if(this.count--,this.count===0){if(this.stylesheets)Yb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wf=null;function Yb(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wf=new Map,e.forEach(zD,n),Wf=null,Hf.call(n))}function zD(n,e){if(!(e.state.loading&4)){var t=Wf.get(n);if(t)var r=t.get(null);else{t=new Map,Wf.set(n,t);for(var i=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),r=a)}r&&t.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),o=t.get(a)||r,o===r&&t.set(null,i),t.set(a,i),this.count++,r=Hf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(i,n.firstChild)),e.state.loading|=4}}var Zu={$$typeof:xo,Provider:null,Consumer:null,_currentValue:gs,_currentValue2:gs,_threadCount:0};function jD(n,e,t,r,i,o,a,s){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.hiddenUpdates=wg(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function GE(n,e,t,r,i,o,a,s,l,c,u,d){return n=new jD(n,e,t,a,s,l,c,d),e=1,o===!0&&(e|=24),o=Kr(3,null,null,e),n.current=o,o.stateNode=n,e=Rx(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:t,cache:e},Vx(o),n}function KE(n){return n?(n=Ll,n):Ll}function YE(n,e,t,r,i,o){i=KE(i),r.context===null?r.context=i:r.pendingContext=i,r=ma(e),r.payload={element:t},o=o===void 0?null:o,o!==null&&(r.callback=o),t=ga(n,r,e),t!==null&&(Jn(t,n,e),Su(t,n,e))}function K2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ry(n,e){K2(n,e),(n=n.alternate)&&K2(n,e)}function XE(n){if(n.tag===13){var e=Ta(n,67108864);e!==null&&Jn(e,n,67108864),ry(n,67108864)}}var Vf=!0;function ND(n,e,t,r){var i=Ve.T;Ve.T=null;var o=Et.p;try{Et.p=2,iy(n,e,t,r)}finally{Et.p=o,Ve.T=i}}function FD(n,e,t,r){var i=Ve.T;Ve.T=null;var o=Et.p;try{Et.p=8,iy(n,e,t,r)}finally{Et.p=o,Ve.T=i}}function iy(n,e,t,r){if(Vf){var i=Xb(r);if(i===null)Kg(n,e,r,qf,t),Y2(n,r);else if(UD(i,n,e,t,r))r.stopPropagation();else if(Y2(n,r),e&4&&-1<$D.indexOf(n)){for(;i!==null;){var o=Ic(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=Za(o.pendingLanes);if(a!==0){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Tr(a);s.entanglements[1]|=l,a&=~l}Xi(o),!(Dt&6)&&(Lf=Fi()+500,Id(0))}}break;case 13:s=Ta(o,2),s!==null&&Jn(s,o,2),em(),ry(o,2)}if(o=Xb(r),o===null&&Kg(n,e,r,qf,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kg(n,e,r,null,t)}}function Xb(n){return n=yx(n),oy(n)}var qf=null;function oy(n){if(qf=null,n=ss(n),n!==null){var e=Tc(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=A4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return qf=n,null}function ZE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S8()){case R4:return 2;case D4:return 8;case kf:case T8:return 32;case O4:return 268435456;default:return 32}default:return 32}}var Zb=!1,xa=null,ya=null,wa=null,Ju=new Map,Qu=new Map,sa=[],$D="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y2(n,e){switch(n){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Jc(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ic(e),e!==null&&XE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function UD(n,e,t,r,i){switch(e){case"focusin":return xa=Jc(xa,n,e,t,r,i),!0;case"dragenter":return ya=Jc(ya,n,e,t,r,i),!0;case"mouseover":return wa=Jc(wa,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Ju.set(o,Jc(Ju.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qu.set(o,Jc(Qu.get(o)||null,n,e,t,r,i)),!0}return!1}function JE(n){var e=ss(n.target);if(e!==null){var t=Tc(e);if(t!==null){if(e=t.tag,e===13){if(e=A4(t),e!==null){n.blockedOn=e,L8(n.priority,function(){if(t.tag===13){var r=Ar(),i=Ta(t,r);i!==null&&Jn(i,t,r),ry(t,r)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Xb(n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);mb=r,t.target.dispatchEvent(r),mb=null}else return e=Ic(t),e!==null&&XE(e),n.blockedOn=t,!1;e.shift()}return!0}function X2(n,e,t){uf(n)&&t.delete(e)}function HD(){Zb=!1,xa!==null&&uf(xa)&&(xa=null),ya!==null&&uf(ya)&&(ya=null),wa!==null&&uf(wa)&&(wa=null),Ju.forEach(X2),Qu.forEach(X2)}function vh(n,e){n.blockedOn===e&&(n.blockedOn=null,Zb||(Zb=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,HD)))}var xh=null;function Z2(n){xh!==n&&(xh=n,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,function(){xh===n&&(xh=null);for(var e=0;e<n.length;e+=3){var t=n[e],r=n[e+1],i=n[e+2];if(typeof r!="function"){if(oy(r||t)===null)continue;break}var o=Ic(t);o!==null&&(n.splice(e,3),e-=3,Eb(o,{pending:!0,data:i,method:t.method,action:r},r,i))}}))}function ed(n){function e(l){return vh(l,n)}xa!==null&&vh(xa,n),ya!==null&&vh(ya,n),wa!==null&&vh(wa,n),Ju.forEach(e),Qu.forEach(e);for(var t=0;t<sa.length;t++){var r=sa[t];r.blockedOn===n&&(r.blockedOn=null)}for(;0<sa.length&&(t=sa[0],t.blockedOn===null);)JE(t),t.blockedOn===null&&sa.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],a=i[cr]||null;if(typeof o=="function")a||Z2(t);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[cr]||null)s=a.formAction;else if(oy(i)!==null)continue}else s=a.action;typeof s=="function"?t[r+1]=s:(t.splice(r,3),r-=3),Z2(t)}}}function ay(n){this._internalRoot=n}rm.prototype.render=ay.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ce(409));var t=e.current,r=Ar();YE(t,r,n,e,null,null)};rm.prototype.unmount=ay.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;n.tag===0&&Yl(),YE(n.current,2,null,n,null,null),em(),e[Ac]=null}};function rm(n){this._internalRoot=n}rm.prototype.unstable_scheduleHydration=function(n){if(n){var e=j4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<sa.length&&e!==0&&e<sa[t].priority;t++);sa.splice(t,0,n),t===0&&JE(n)}};var J2=_4.version;if(J2!=="19.0.0")throw Error(ce(527,J2,"19.0.0"));Et.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ce(188)):(n=Object.keys(n).join(","),Error(ce(268,n)));return n=_8(e),n=n!==null?I4(n):null,n=n===null?null:n.stateNode,n};var WD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Ve,findFiberByHostInstance:ss,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{yd=yh.inject(WD),Sr=yh}catch(n){}}Up.createRoot=function(n,e){if(!C4(n))throw Error(ce(299));var t=!1,r="",i=YC,o=XC,a=ZC,s=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=GE(n,1,!1,null,null,t,r,i,o,a,s,null),n[Ac]=e.current,ey(n.nodeType===8?n.parentNode:n),new ay(e)};Up.hydrateRoot=function(n,e,t){if(!C4(n))throw Error(ce(299));var r=!1,i="",o=YC,a=XC,s=ZC,l=null,c=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks),t.formState!==void 0&&(c=t.formState)),e=GE(n,1,!0,e,t!=null?t:null,r,i,o,a,s,l,c),e.context=KE(null),t=e.current,r=Ar(),i=ma(r),i.callback=null,ga(t,i,r),e.current.lanes=r,kd(e,r),Xi(e),n[Ac]=e.current,ey(n),new rm(e)};Up.version="19.0.0";function QE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QE)}catch(n){console.error(n)}}QE(),b4.exports=Up;var VD=b4.exports;const qD="modulepreload",GD=function(n){return"/Cephaline-Supabase/"+n},Q2={},Qt=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(t.map(s=>{if(s=GD(s),s in Q2)return;Q2[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(s,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":qD,l||(u.as="script",u.crossOrigin=""),u.href=s,a&&u.setAttribute("nonce",a),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(s))))})}))}return i.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var fi={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},KD=Object.defineProperty,YD=(n,e)=>{for(var t in e)KD(n,t,{get:e[t],enumerable:!0})},XD={isBrowser:!0},eS=new WeakMap,za=n=>eS.get(n),ZD=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return eS.set(n,t)},ek=(n,e)=>e in n,Od=(n,e)=>(0,console.error)(n,e),Gf=new Map,tS=[],JD="slot-fb{display:contents}slot-fb[hidden]{display:none}",tk="http://www.w3.org/1999/xlink",Md=typeof window<"u"?window:{},bi=Md.document||{head:{}},Ae=Md.HTMLElement||class{},Mn={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,r)=>n.addEventListener(e,t,r),rel:(n,e,t,r)=>n.removeEventListener(e,t,r),ce:(n,e)=>new CustomEvent(n,e)},QD=(()=>{let n=!1;try{bi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),eO=n=>Promise.resolve(n),tO=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),Jb=!1,Qb=[],nS=[],rS=(n,e)=>t=>{n.push(t),Jb||(Jb=!0,e&&Mn.$flags$&4?nO(ev):Mn.raf(ev))},nk=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){Od(t)}n.length=0},ev=()=>{nk(Qb),nk(nS),(Jb=Qb.length>0)&&Mn.raf(ev)},nO=n=>eO().then(n),Rs=rS(Qb,!1),ur=rS(nS,!0),iS=n=>{const e=new URL(n,Mn.$resourcesUrl$);return e.origin!==Md.location.origin?e.href:e.pathname},rk={},rO="http://www.w3.org/2000/svg",iO="http://www.w3.org/1999/xhtml",oO=n=>n!=null,sy=n=>(n=typeof n,n==="object"||n==="function");function aO(n){var e,t,r;return(r=(t=(e=n.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:t.getAttribute("content"))!=null?r:void 0}var sO={};YD(sO,{err:()=>oS,map:()=>lO,ok:()=>tv,unwrap:()=>cO,unwrapErr:()=>uO});var tv=n=>({isOk:!0,isErr:!1,value:n}),oS=n=>({isOk:!1,isErr:!0,value:n});function lO(n,e){if(n.isOk){const t=e(n.value);return t instanceof Promise?t.then(r=>tv(r)):tv(t)}if(n.isErr){const t=n.value;return oS(t)}throw"should never get here"}var cO=n=>{if(n.isOk)return n.value;throw n.value},uO=n=>{if(n.isErr)return n.value;throw n.value},Ds=(n,e="")=>()=>{},O=(n,e,...t)=>{let r=null,i=null,o=null,a=!1,s=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)r=d[h],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((a=typeof n!="function"&&!sy(r))&&(r=String(r)),a&&s?l[l.length-1].$text$+=r:l.push(a?Kf(null,r):r),s=a)};if(c(t),e){e.key&&(i=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,hO);const u=Kf(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},Kf=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},Be={},dO=n=>n&&n.$tag$===Be,hO={forEach:(n,e)=>n.map(ik).forEach(e),map:(n,e)=>n.map(ik).map(e).map(fO)},ik=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),fO=n=>{if(typeof n.vtag=="function"){const t={...n.vattrs};return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),O(n.vtag,t,...n.vchildren||[])}const e=Kf(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},pO=n=>tS.map(e=>e(n)).find(e=>!!e),mO=n=>tS.push(n),gO=n=>za(n).$modeName$,bO=(n,e)=>n!=null&&!sy(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,vO=n=>n,ae=(n,e,t)=>{const r=vO(n);return{emit:i=>xO(r,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:i})}},xO=(n,e,t)=>{const r=Mn.ce(e,t);return n.dispatchEvent(r),r},ok=new WeakMap,yO=(n,e,t)=>{let r=Gf.get(n);tO&&t?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Gf.set(n,r)},wO=(n,e,t)=>{var r;const i=aS(e,t),o=Gf.get(i);if(n=n.nodeType===11?n:bi,o)if(typeof o=="string"){n=n.head||n;let a=ok.get(n),s;if(a||ok.set(n,a=new Set),!a.has(i)){{s=bi.createElement("style"),s.innerHTML=o;const l=(r=Mn.$nonce$)!=null?r:aO(bi);l!=null&&s.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&n.nodeName!=="HEAD")&&n.insertBefore(s,n.querySelector("link"))}e.$flags$&4&&(s.innerHTML+=JD),a&&a.add(i)}}else n.adoptedStyleSheets.includes(o)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return i},kO=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,r=e.$flags$,i=Ds("attachStyles",e.$tagName$),o=wO(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);r&10&&r&2&&(t["s-sc"]=o,t.classList.add(o+"-h"),r&2&&t.classList.add(o+"-s")),i()},aS=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),ak=(n,e,t,r,i,o)=>{if(t!==r){let a=ek(n,e),s=e.toLowerCase();if(e==="class"){const l=n.classList,c=sk(t),u=sk(r);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!r||r[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in r)(!t||r[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,r[l]):n.style[l]=r[l])}else if(e!=="key")if(e==="ref")r&&r(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):ek(Md,s)?e=s.slice(2):e=s[2]+e.slice(3),t||r){const l=e.endsWith(sS);e=e.replace(CO,""),t&&Mn.rel(n,e,t,l),r&&Mn.ael(n,e,r,l)}}else{const l=sy(r);if((a||l&&r!==null)&&!i)try{if(n.tagName.includes("-"))n[e]=r;else{const u=r==null?"":r;e==="list"?a=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,c=!0),r==null||r===!1?(r!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(tk,e):n.removeAttribute(e)):(!a||o&4||i)&&!l&&(r=r===!0?"":r,c?n.setAttributeNS(tk,e,r):n.setAttribute(e,r))}}},_O=/\s/,sk=n=>n?n.split(_O):[],sS="Capture",CO=new RegExp(sS+"$"),lS=(n,e,t)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=n&&n.$attrs$||rk,o=e.$attrs$||rk;for(const a of lk(Object.keys(i)))a in o||ak(r,a,i[a],void 0,t,e.$flags$);for(const a of lk(Object.keys(o)))ak(r,a,i[a],o[a],t,e.$flags$)};function lk(n){return n.includes("ref")?[...n.filter(e=>e!=="ref"),"ref"]:n}var xl,nv,td,Yf=!1,Xf=!1,ly=!1,vr=!1,Zf=(n,e,t,r)=>{var i;const o=e.$children$[t];let a=0,s,l,c;if(Yf||(ly=!0,o.$tag$==="slot"&&(xl&&r.classList.add(xl+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)s=o.$elm$=bi.createTextNode(o.$text$);else if(o.$flags$&1)s=o.$elm$=bi.createTextNode("");else{if(vr||(vr=o.$tag$==="svg"),s=o.$elm$=bi.createElementNS(vr?rO:iO,!Yf&&fi.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),vr&&o.$tag$==="foreignObject"&&(vr=!1),lS(null,o,vr),!!s.getRootNode().querySelector("body")&&fi.scoped&&oO(xl)&&s["s-si"]!==xl&&s.classList.add(s["s-si"]=xl),uy(s,r),o.$children$)for(a=0;a<o.$children$.length;++a)l=Zf(n,o,a,s),l&&s.appendChild(l);o.$tag$==="svg"?vr=!1:s.tagName==="foreignObject"&&(vr=!0)}return s["s-hn"]=td,o.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=nv,s["s-sn"]=o.$name$||"",s["s-rf"]=(i=o.$attrs$)==null?void 0:i.ref,c=n&&n.$children$&&n.$children$[t],c&&c.$tag$===o.$tag$&&n.$elm$&&nd(n.$elm$,!1)),s},nd=(n,e)=>{Mn.$flags$|=1;const t=Array.from(n.childNodes);n["s-sr"]&&fi.experimentalSlotFixes;for(let r=t.length-1;r>=0;r--){const i=t[r];i["s-hn"]!==td&&i["s-ol"]&&(ka(dS(i),i,cy(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,ly=!0),e&&nd(i,e)}Mn.$flags$&=-2},cS=(n,e,t,r,i,o)=>{let a=n["s-cr"]&&n["s-cr"].parentNode||n,s;for(a.shadowRoot&&a.tagName===td&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=Zf(null,t,i,n),s&&(r[i].$elm$=s,ka(a,s,cy(e))))},uS=(n,e,t)=>{for(let r=e;r<=t;++r){const i=n[r];if(i){const o=i.$elm$;pS(i),o&&(Xf=!0,o["s-ol"]?o["s-ol"].remove():nd(o,!0),o.remove())}}},EO=(n,e,t,r,i=!1)=>{let o=0,a=0,s=0,l=0,c=e.length-1,u=e[0],d=e[c],h=r.length-1,f=r[0],p=r[h],m,b;for(;o<=c&&a<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(f==null)f=r[++a];else if(p==null)p=r[--h];else if(wh(u,f,i))yl(u,f,i),u=e[++o],f=r[++a];else if(wh(d,p,i))yl(d,p,i),d=e[--c],p=r[--h];else if(wh(u,p,i))(u.$tag$==="slot"||p.$tag$==="slot")&&nd(u.$elm$.parentNode,!1),yl(u,p,i),ka(n,u.$elm$,d.$elm$.nextSibling),u=e[++o],p=r[--h];else if(wh(d,f,i))(u.$tag$==="slot"||p.$tag$==="slot")&&nd(d.$elm$.parentNode,!1),yl(d,f,i),ka(n,d.$elm$,u.$elm$),d=e[--c],f=r[++a];else{for(s=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===f.$key$){s=l;break}s>=0?(b=e[s],b.$tag$!==f.$tag$?m=Zf(e&&e[a],t,s,n):(yl(b,f,i),e[s]=void 0,m=b.$elm$),f=r[++a]):(m=Zf(e&&e[a],t,a,n),f=r[++a]),m&&ka(dS(u.$elm$),m,cy(u.$elm$))}o>c?cS(n,r[h+1]==null?null:r[h+1].$elm$,t,r,a,h):a>h&&uS(e,o,c)},wh=(n,e,t=!1)=>n.$tag$===e.$tag$?n.$tag$==="slot"?"$nodeId$"in n&&t&&n.$elm$.nodeType!==8?!1:n.$name$===e.$name$:t?!0:n.$key$===e.$key$:!1,cy=n=>n&&n["s-ol"]||n,dS=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,yl=(n,e,t=!1)=>{const r=e.$elm$=n.$elm$,i=n.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;let l;s===null?(vr=a==="svg"?!0:a==="foreignObject"?!1:vr,a==="slot"&&!Yf||lS(n,e,vr),i!==null&&o!==null?EO(r,i,e,o,t):o!==null?(n.$text$!==null&&(r.textContent=""),cS(r,null,e,o,0,o.length-1)):!t&&fi.updatable&&i!==null&&uS(i,0,i.length-1),vr&&a==="svg"&&(vr=!1)):(l=r["s-cr"])?l.parentNode.textContent=s:n.$text$!==s&&(r.data=s)},hS=n=>{const e=n.childNodes;for(const t of e)if(t.nodeType===1){if(t["s-sr"]){const r=t["s-sn"];t.hidden=!1;for(const i of e)if(i!==t){if(i["s-hn"]!==t["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){t.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){t.hidden=!0;break}}}hS(t)}},ho=[],fS=n=>{let e,t,r;for(const i of n.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){t=e.parentNode.childNodes;const o=i["s-sn"];for(r=t.length-1;r>=0;r--)if(e=t[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(ck(e,o)){let a=ho.find(s=>s.$nodeToRelocate$===e);Xf=!0,e["s-sn"]=e["s-sn"]||o,a?(a.$nodeToRelocate$["s-sh"]=i["s-hn"],a.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],ho.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&ho.map(s=>{ck(s.$nodeToRelocate$,e["s-sn"])&&(a=ho.find(l=>l.$nodeToRelocate$===e),a&&!s.$slotRefNode$&&(s.$slotRefNode$=a.$slotRefNode$))})}else ho.some(a=>a.$nodeToRelocate$===e)||ho.push({$nodeToRelocate$:e})}i.nodeType===1&&fS(i)}},ck=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",pS=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(pS)},ka=(n,e,t)=>{const r=n==null?void 0:n.insertBefore(e,t);return uy(e,n),r},mS=n=>{const e=[];return n&&e.push(...n["s-scs"]||[],n["s-si"],n["s-sc"],...mS(n.parentElement)),e},uy=(n,e,t=!1)=>{var r;if(n&&e&&n.nodeType===1){const i=new Set(mS(e).filter(Boolean));if(i.size&&((r=n.classList)==null||r.add(...n["s-scs"]=[...i]),n["s-ol"]||t))for(const o of Array.from(n.childNodes))uy(o,n,!0)}},SO=(n,e,t=!1)=>{var r,i,o,a,s;const l=n.$hostElement$,c=n.$cmpMeta$,u=n.$vnode$||Kf(null,null),d=dO(e)?e:O(null,null,e);if(td=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,f])=>d.$attrs$[f]=l[h])),t&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,n.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,xl=l["s-sc"],Yf=(c.$flags$&1)!==0,nv=l["s-cr"],Xf=!1,yl(u,d,t);{if(Mn.$flags$|=1,ly){fS(d.$elm$);for(const h of ho){const f=h.$nodeToRelocate$;if(!f["s-ol"]){const p=bi.createTextNode("");p["s-nr"]=f,ka(f.parentNode,f["s-ol"]=p,f)}}for(const h of ho){const f=h.$nodeToRelocate$,p=h.$slotRefNode$;if(p){const m=p.parentNode;let b=p.nextSibling;{let g=(r=f["s-ol"])==null?void 0:r.previousSibling;for(;g;){let v=(i=g["s-nr"])!=null?i:null;if(v&&v["s-sn"]===f["s-sn"]&&m===v.parentNode){for(v=v.nextSibling;v===f||v!=null&&v["s-sr"];)v=v==null?void 0:v.nextSibling;if(!v||!v["s-nr"]){b=v;break}}g=g.previousSibling}}(!b&&m!==f.parentNode||f.nextSibling!==b)&&f!==b&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),ka(m,f,b),f.nodeType===1&&(f.hidden=(o=f["s-ih"])!=null?o:!1)),f&&typeof p["s-rf"]=="function"&&p["s-rf"](f)}else f.nodeType===1&&(t&&(f["s-ih"]=(a=f.hidden)!=null?a:!1),f.hidden=!0)}}Xf&&hS(d.$elm$),Mn.$flags$&=-2,ho.length=0}if(fi.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==td&&!h["s-sh"]&&(t&&h["s-ih"]==null&&(h["s-ih"]=(s=h.hidden)!=null?s:!1),h.hidden=!0);nv=void 0},TO=(n,e)=>{},dy=(n,e)=>(n.$flags$|=16,TO(n,n.$ancestorComponent$),ur(()=>AO(n,e))),AO=(n,e)=>{const t=n.$hostElement$,r=Ds("scheduleUpdate",n.$cmpMeta$.$tagName$),i=t;if(!i)throw new Error("Can't render component <".concat(t.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let o;return e?o=Xl(i,"componentWillLoad"):o=Xl(i,"componentWillUpdate"),o=uk(o,()=>Xl(i,"componentWillRender")),r(),uk(o,()=>RO(n,i,e))},uk=(n,e)=>IO(n)?n.then(e).catch(t=>{console.error(t),e()}):e(),IO=n=>n instanceof Promise||n&&n.then&&typeof n.then=="function",RO=async(n,e,t)=>{const r=n.$hostElement$,i=Ds("update",n.$cmpMeta$.$tagName$);r["s-rc"],t&&kO(n);const o=Ds("render",n.$cmpMeta$.$tagName$);DO(n,e,r,t),o(),i(),OO(n)},dk=null,DO=(n,e,t,r)=>{try{dk=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(fi.hasRenderFn||fi.reflect)&&(fi.vdomRender||fi.reflect)&&(fi.hydrateServerSide||SO(n,e,r))}catch(l){Od(l,n.$hostElement$)}return dk=null,null},OO=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,r=Ds("postUpdate",e),i=t;n.$ancestorComponent$,Xl(i,"componentDidRender"),n.$flags$&64?(Xl(i,"componentDidUpdate"),r()):(n.$flags$|=64,Xl(i,"componentDidLoad"),r())},On=n=>{{const e=za(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&dy(e,!1),t}},Xl=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(r){Od(r)}},MO=(n,e)=>za(n).$instanceValues$.get(e),BO=(n,e,t,r)=>{const i=za(n),o=n,a=i.$instanceValues$.get(e),s=i.$flags$,l=o;t=bO(t,r.$members$[e][0]);const c=Number.isNaN(a)&&Number.isNaN(t);if(t!==a&&!c){i.$instanceValues$.set(e,t);{if(r.$watchers$&&s&128){const d=r.$watchers$[e];d&&d.map(h=>{try{l[h](t,a,e)}catch(f){Od(f,o)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,a,e)===!1)return;dy(i,!1)}}}},PO=(n,e,t)=>{var r,i;const o=n.prototype;if(e.$members$||e.$watchers$||n.watchers){n.watchers&&!e.$watchers$&&(e.$watchers$=n.watchers);const a=Object.entries((r=e.$members$)!=null?r:{});a.map(([s,[l]])=>{(l&31||l&32)&&Object.defineProperty(o,s,{get(){return MO(this,s)},set(c){BO(this,s,c,e)},configurable:!0,enumerable:!0})});{const s=new Map;o.attributeChangedCallback=function(l,c,u){Mn.jmp(()=>{var d;const h=s.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const f=za(this),p=f==null?void 0:f.$flags$;if(p&&!(p&8)&&p&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(v=>{b[v]!=null&&b[v].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},n.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...a.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return s.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return n},LO=async(n,e,t,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,t.$lazyBundleId$;{i=n.constructor;const a=n.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"?a=i.style:typeof i.style!="string"&&(e.$modeName$=pO(n),e.$modeName$&&(a=i.style[e.$modeName$]));const s=aS(t,e.$modeName$);if(!Gf.has(s)){const l=Ds("registerStyles",t.$tagName$);yO(s,a,!!(t.$flags$&1)),l()}}}e.$ancestorComponent$,dy(e,!0)},hk=n=>{},zO=n=>{if(!(Mn.$flags$&1)){const e=za(n),t=e.$cmpMeta$,r=Ds("connectedCallback",t.$tagName$);e.$flags$&1?(gS(n,e,t.$listeners$),e!=null&&e.$lazyInstance$?hk(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>hk(e.$lazyInstance$))):(e.$flags$|=1,t.$flags$&12&&jO(n),t.$members$&&Object.entries(t.$members$).map(([i,[o]])=>{if(o&31&&n.hasOwnProperty(i)){const a=n[i];delete n[i],n[i]=a}}),LO(n,e,t)),r()}},jO=n=>{const e=n["s-cr"]=bi.createComment("");e["s-cn"]=!0,ka(n,e,n.firstChild)},NO=async n=>{if(!(Mn.$flags$&1)){const e=za(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},Oe=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const r=n.prototype.connectedCallback,i=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){ZD(this,t)},connectedCallback(){const o=za(this);gS(this,o,t.$listeners$),zO(this),r&&r.call(this)},disconnectedCallback(){NO(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(t.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),n.is=t.$tagName$,PO(n,t)},gS=(n,e,t,r)=>{t&&t.map(([i,o,a])=>{const s=$O(n,i),l=FO(e,a),c=UO(i);Mn.ael(s,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Mn.rel(s,o,l,c))})},FO=(n,e)=>t=>{var r;try{fi.lazyLoad||n.$hostElement$[e](t)}catch(i){Od(i)}},$O=(n,e)=>e&4?bi:e&8?Md:e&16?bi.body:n,UO=n=>QD?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class HO{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const r=this.m.get(e);return r!==void 0?r:t}getBoolean(e,t=!1){const r=this.m.get(e);return r===void 0?t:typeof r=="string"?r==="true":!!r}getNumber(e,t){const r=parseFloat(this.m.get(e));return isNaN(r)?t!==void 0?t:NaN:r}set(e,t){this.m.set(e,t)}}const Le=new HO,WO=n=>{try{const e=n.sessionStorage.getItem(bS);return e!==null?JSON.parse(e):{}}catch(e){return{}}},VO=(n,e)=>{try{n.sessionStorage.setItem(bS,JSON.stringify(e))}catch(t){return}},qO=n=>{const e={};return n.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,r])=>{try{return[decodeURIComponent(t),decodeURIComponent(r)]}catch(i){return["",""]}}).filter(([t])=>GO(t,fk)).map(([t,r])=>[t.slice(fk.length),r]).forEach(([t,r])=>{e[t]=r}),e},GO=(n,e)=>n.substr(0,e.length)===e,fk="ionic:",bS="ionic-persist-config";var ks;(function(n){n.OFF="OFF",n.ERROR="ERROR",n.WARN="WARN"})(ks||(ks={}));const wt=(n,...e)=>{const t=Le.get("logLevel",ks.WARN);if([ks.WARN].includes(t))return console.warn("[Ionic Warning]: ".concat(n),...e)},ei=(n,...e)=>{const t=Le.get("logLevel",ks.ERROR);if([ks.ERROR,ks.WARN].includes(t))return console.error("[Ionic Error]: ".concat(n),...e)},KO=(n,...e)=>console.error("<".concat(n.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ht=typeof window<"u"?window:void 0,Ir=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Zg;const YO=n=>{if(Zg===void 0){const e=n.style.animationName!==void 0,t=n.style.webkitAnimationName!==void 0;Zg=!e&&t?"-webkit-":""}return Zg},Jg=(n,e,t)=>{const r=e.startsWith("animation")?YO(n):"";n.style.setProperty(r+e,t)},kh=(n=[],e)=>{if(e!==void 0){const t=Array.isArray(e)?e:[e];return[...n,...t]}return n},ge=n=>{let e,t,r,i,o,a,s=[],l=[],c=[],u=!1,d,h={},f=[],p=[],m={},b=0,g=!1,v=!1,x,y,w,E=!0,C=!1,S=!0,_,A=!1;const D=n,I=[],M=[],T=[],B=[],L=[],z=[],U=[],P=[],$=[],F=[],N=[],ee=typeof AnimationEffect=="function"||ht!==void 0&&typeof ht.AnimationEffect=="function",X=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ee,J=()=>N,be=ie=>(L.forEach(Ce=>{Ce.destroy(ie)}),we(ie),B.length=0,L.length=0,s.length=0,Fe(),u=!1,S=!0,_),we=ie=>{R(),ie&&ne()},ve=()=>{g=!1,v=!1,S=!0,x=void 0,y=void 0,w=void 0,b=0,C=!1,E=!0,A=!1},ke=()=>b!==0&&!A,He=(ie,Ce)=>{const Qe=Ce.findIndex($t=>$t.c===ie);Qe>-1&&Ce.splice(Qe,1)},Me=(ie,Ce)=>(T.push({c:ie,o:Ce}),_),We=(ie,Ce)=>((Ce!=null&&Ce.oneTimeCallback?M:I).push({c:ie,o:Ce}),_),Fe=()=>(I.length=0,M.length=0,_),R=()=>{X&&(N.forEach(ie=>{ie.cancel()}),N.length=0)},ne=()=>{z.forEach(ie=>{ie!=null&&ie.parentNode&&ie.parentNode.removeChild(ie)}),z.length=0},Q=ie=>(U.push(ie),_),V=ie=>(P.push(ie),_),H=ie=>($.push(ie),_),Y=ie=>(F.push(ie),_),se=ie=>(l=kh(l,ie),_),le=ie=>(c=kh(c,ie),_),Z=(ie={})=>(h=ie,_),he=(ie=[])=>{for(const Ce of ie)h[Ce]="";return _},ye=ie=>(f=kh(f,ie),_),fe=ie=>(p=kh(p,ie),_),Pe=(ie={})=>(m=ie,_),it=(ie=[])=>{for(const Ce of ie)m[Ce]="";return _},ze=()=>o!==void 0?o:d?d.getFill():"both",Ft=()=>x!==void 0?x:a!==void 0?a:d?d.getDirection():"normal",oi=()=>g?"linear":r!==void 0?r:d?d.getEasing():"linear",Yt=()=>v?0:y!==void 0?y:t!==void 0?t:d?d.getDuration():0,ai=()=>i!==void 0?i:d?d.getIterations():1,dt=()=>w!==void 0?w:e!==void 0?e:d?d.getDelay():0,Si=()=>s,no=ie=>(a=ie,Lr(!0),_),si=ie=>(o=ie,Lr(!0),_),nh=ie=>(e=ie,Lr(!0),_),fg=ie=>(r=ie,Lr(!0),_),pg=ie=>(!X&&ie===0&&(ie=1),t=ie,Lr(!0),_),mg=ie=>(i=ie,Lr(!0),_),rh=ie=>(d=ie,_),Va=ie=>{if(ie!=null)if(ie.nodeType===1)B.push(ie);else if(ie.length>=0)for(let Ce=0;Ce<ie.length;Ce++)B.push(ie[Ce]);else ei("createAnimation - Invalid addElement value.");return _},tl=ie=>{if(ie!=null)if(Array.isArray(ie))for(const Ce of ie)Ce.parent(_),L.push(Ce);else ie.parent(_),L.push(ie);return _},PI=ie=>{const Ce=s!==ie;return s=ie,Ce&&LI(s),_},LI=ie=>{X&&J().forEach(Ce=>{const Qe=Ce.effect;if(Qe.setKeyframes)Qe.setKeyframes(ie);else{const $t=new KeyframeEffect(Qe.target,ie,Qe.getTiming());Ce.effect=$t}})},zI=()=>{U.forEach($t=>$t()),P.forEach($t=>$t());const ie=l,Ce=c,Qe=h;B.forEach($t=>{const qn=$t.classList;ie.forEach(Ti=>qn.add(Ti)),Ce.forEach(Ti=>qn.remove(Ti));for(const Ti in Qe)Qe.hasOwnProperty(Ti)&&Jg($t,Ti,Qe[Ti])})},jI=()=>{$.forEach(qn=>qn()),F.forEach(qn=>qn());const ie=E?1:0,Ce=f,Qe=p,$t=m;B.forEach(qn=>{const Ti=qn.classList;Ce.forEach(qa=>Ti.add(qa)),Qe.forEach(qa=>Ti.remove(qa));for(const qa in $t)$t.hasOwnProperty(qa)&&Jg(qn,qa,$t[qa])}),y=void 0,x=void 0,w=void 0,I.forEach(qn=>qn.c(ie,_)),M.forEach(qn=>qn.c(ie,_)),M.length=0,S=!0,E&&(C=!0),E=!0},ih=()=>{b!==0&&(b--,b===0&&(jI(),d&&d.animationFinish()))},NI=()=>{B.forEach(ie=>{const Ce=ie.animate(s,{id:D,delay:dt(),duration:Yt(),easing:oi(),iterations:ai(),fill:ze(),direction:Ft()});Ce.pause(),N.push(Ce)}),N.length>0&&(N[0].onfinish=()=>{ih()})},Sw=()=>{zI(),s.length>0&&X&&NI(),u=!0},Wc=ie=>{ie=Math.min(Math.max(ie,0),.9999),X&&N.forEach(Ce=>{Ce.currentTime=Ce.effect.getComputedTiming().delay+Yt()*ie,Ce.pause()})},Tw=ie=>{N.forEach(Ce=>{Ce.effect.updateTiming({delay:dt(),duration:Yt(),easing:oi(),iterations:ai(),fill:ze(),direction:Ft()})}),ie!==void 0&&Wc(ie)},Lr=(ie=!1,Ce=!0,Qe)=>(ie&&L.forEach($t=>{$t.update(ie,Ce,Qe)}),X&&Tw(Qe),_),FI=(ie=!1,Ce)=>(L.forEach(Qe=>{Qe.progressStart(ie,Ce)}),Aw(),g=ie,u||Sw(),Lr(!1,!0,Ce),_),$I=ie=>(L.forEach(Ce=>{Ce.progressStep(ie)}),Wc(ie),_),UI=(ie,Ce,Qe)=>(g=!1,L.forEach($t=>{$t.progressEnd(ie,Ce,Qe)}),Qe!==void 0&&(y=Qe),C=!1,E=!0,ie===0?(x=Ft()==="reverse"?"normal":"reverse",x==="reverse"&&(E=!1),X?(Lr(),Wc(1-Ce)):(w=(1-Ce)*Yt()*-1,Lr(!1,!1))):ie===1&&(X?(Lr(),Wc(Ce)):(w=Ce*Yt()*-1,Lr(!1,!1))),ie!==void 0&&!d&&Iw(),_),Aw=()=>{u&&(X?N.forEach(ie=>{ie.pause()}):B.forEach(ie=>{Jg(ie,"animation-play-state","paused")}),A=!0)},HI=()=>(L.forEach(ie=>{ie.pause()}),Aw(),_),WI=()=>{ih()},VI=()=>{N.forEach(ie=>{ie.play()}),(s.length===0||B.length===0)&&ih()},qI=()=>{X&&(Wc(0),Tw())},Iw=ie=>new Promise(Ce=>{ie!=null&&ie.sync&&(v=!0,We(()=>v=!1,{oneTimeCallback:!0})),u||Sw(),C&&(qI(),C=!1),S&&(b=L.length+1,S=!1);const Qe=()=>{He($t,M),Ce()},$t=()=>{He(Qe,T),Ce()};We($t,{oneTimeCallback:!0}),Me(Qe,{oneTimeCallback:!0}),L.forEach(qn=>{qn.play()}),X?VI():WI(),A=!1}),GI=()=>{L.forEach(ie=>{ie.stop()}),u&&(R(),u=!1),ve(),T.forEach(ie=>ie.c(0,_)),T.length=0},Rw=(ie,Ce)=>{const Qe=s[0];return Qe!==void 0&&(Qe.offset===void 0||Qe.offset===0)?Qe[ie]=Ce:s=[{offset:0,[ie]:Ce},...s],_};return _={parentAnimation:d,elements:B,childAnimations:L,id:D,animationFinish:ih,from:Rw,to:(ie,Ce)=>{const Qe=s[s.length-1];return Qe!==void 0&&(Qe.offset===void 0||Qe.offset===1)?Qe[ie]=Ce:s=[...s,{offset:1,[ie]:Ce}],_},fromTo:(ie,Ce,Qe)=>Rw(ie,Ce).to(ie,Qe),parent:rh,play:Iw,pause:HI,stop:GI,destroy:be,keyframes:PI,addAnimation:tl,addElement:Va,update:Lr,fill:si,direction:no,iterations:mg,duration:pg,easing:fg,delay:nh,getWebAnimations:J,getKeyframes:Si,getFill:ze,getDirection:Ft,getDelay:dt,getIterations:ai,getEasing:oi,getDuration:Yt,afterAddRead:H,afterAddWrite:Y,afterClearStyles:it,afterStyles:Pe,afterRemoveClass:fe,afterAddClass:ye,beforeAddRead:Q,beforeAddWrite:V,beforeClearStyles:he,beforeStyles:Z,beforeRemoveClass:le,beforeAddClass:se,onFinish:We,isRunning:ke,progressStart:FI,progressStep:$I,progressEnd:UI}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yi=(n,e)=>{n.componentOnReady?n.componentOnReady().then(t=>e(t)):on(()=>e(n))},rd=n=>n.componentOnReady!==void 0,Zi=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},XO=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ki=(n,e)=>Zi(n,XO),hy=(n,e,t,r)=>n.addEventListener(e,t,r),vS=(n,e,t,r)=>n.removeEventListener(e,t,r),Nt=(n,e=n)=>n.shadowRoot||e,on=n=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(n):typeof requestAnimationFrame=="function"?requestAnimationFrame(n):setTimeout(n),ZO=n=>!!n.shadowRoot&&!!n.attachShadow,Jf=n=>{if(n.focus(),n.classList.contains("ion-focusable")){const e=n.closest("ion-app");e&&e.setFocus([n])}},Bd=(n,e,t,r,i)=>{{let o=e.querySelector("input.aux-input");o||(o=e.ownerDocument.createElement("input"),o.type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=i,o.name=t,o.value=r||""}},Kn=(n,e,t)=>Math.max(n,Math.min(e,t)),un=(n,e)=>{if(!n){const t="ASSERT: "+e;ei(t);debugger;throw new Error(t)}},Pre=n=>{if(n){const e=n.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(n.pageX!==void 0)return{x:n.pageX,y:n.pageY}}return{x:0,y:0}},pk=n=>{const e=document.dir==="rtl";switch(n){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(n,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},im=(n,e)=>{const t=n._original||n;return{_original:n,emit:JO(t.emit.bind(t),e)}},JO=(n,e=0)=>{let t;return(...r)=>{clearTimeout(t),t=setTimeout(n,e,...r)}},xS=(n,e)=>{if(n!=null||(n={}),e!=null||(e={}),n===e)return!0;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!(r in e)||n[r]!==e[r])return!1;return!0},na=n=>typeof n=="number"&&!isNaN(n)&&isFinite(n),QO="ionViewWillEnter",e9="ionViewDidEnter",yS="ionViewWillLeave",wS="ionViewDidLeave",Qg="ionViewWillUnload",Qc=n=>{n.tabIndex=-1,n.focus()},_h=n=>n.offsetParent!==null,t9=()=>({saveViewFocus:t=>{if(Le.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&(t!=null&&t.contains(i))&&i.setAttribute(mk,"true")}},setViewFocus:t=>{const r=Le.get("focusManagerPriority",!1);if(Array.isArray(r)&&!t.contains(document.activeElement)){const i=t.querySelector("[".concat(mk,"]"));if(i&&_h(i)){Qc(i);return}for(const o of r)switch(o){case"content":const a=t.querySelector('main, [role="main"]');if(a&&_h(a)){Qc(a);return}break;case"heading":const s=t.querySelector('h1, [role="heading"][aria-level="1"]');if(s&&_h(s)){Qc(s);return}break;case"banner":const l=t.querySelector('header, [role="banner"]');if(l&&_h(l)){Qc(l);return}break;default:wt("Unrecognized focus manager priority value ".concat(o));break}Qc(t)}}}),mk="ion-last-focus",n9=()=>Qt(()=>import("./ios.transition-CWfIJvF7.js"),[]),r9=()=>Qt(()=>import("./md.transition-DgIkpUmJ.js"),[]),kS=t9(),_S=n=>new Promise((e,t)=>{ur(()=>{i9(n),o9(n).then(r=>{r.animation&&r.animation.destroy(),gk(n),e(r)},r=>{gk(n),t(r)})})}),i9=n=>{const e=n.enteringEl,t=n.leavingEl;kS.saveViewFocus(t),d9(e,t,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),rv(e,!1),e.style.setProperty("pointer-events","none"),t&&(rv(t,!1),t.style.setProperty("pointer-events","none"))},o9=async n=>{const e=await a9(n);return e&&XD.isBrowser?s9(e,n):l9(n)},gk=n=>{const e=n.enteringEl,t=n.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),t!==void 0&&(t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events")),kS.setViewFocus(e)},a9=async n=>!n.leavingEl||!n.animated||n.duration===0?void 0:n.animationBuilder?n.animationBuilder:n.mode==="ios"?(await n9()).iosTransitionAnimation:(await r9()).mdTransitionAnimation,s9=async(n,e)=>{await CS(e,!0);const t=n(e.baseEl,e);ES(e.enteringEl,e.leavingEl);const r=await u9(t,e);return e.progressCallback&&e.progressCallback(void 0),r&&SS(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:t}},l9=async n=>{const e=n.enteringEl,t=n.leavingEl,r=Le.get("focusManagerPriority",!1);return await CS(n,r),ES(e,t),SS(e,t),{hasCompleted:!0}},CS=async(n,e)=>{(n.deepWait!==void 0?n.deepWait:e)&&await Promise.all([id(n.enteringEl),id(n.leavingEl)]),await c9(n.viewIsReady,n.enteringEl)},c9=async(n,e)=>{n&&await n(e)},u9=(n,e)=>{const t=e.progressCallback,r=new Promise(i=>{n.onFinish(o=>i(o===1))});return t?(n.progressStart(!0),t(n)):n.play(),r},ES=(n,e)=>{bo(e,yS),bo(n,QO)},SS=(n,e)=>{bo(n,e9),bo(e,wS)},bo=(n,e)=>{if(n){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},TS=()=>new Promise(n=>on(()=>on(()=>n()))),id=async n=>{const e=n;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>on(r));return}await Promise.all(Array.from(e.children).map(id))}},rv=(n,e)=>{e?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},d9=(n,e,t)=>{n!==void 0&&(n.style.zIndex=t==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},Lre=n=>{if(n.classList.contains("ion-page"))return n;const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Os=(n,e,t,r,i)=>f9(n[1],e[1],t[1],r[1],i).map(o=>h9(n[0],e[0],t[0],r[0],o)),h9=(n,e,t,r,i)=>{const o=3*e*Math.pow(i-1,2),a=-3*t*i+3*t+r*i,s=n*Math.pow(i-1,3);return i*(o+i*a)-s},f9=(n,e,t,r,i)=>(n-=i,e-=i,t-=i,r-=i,m9(r-3*t+3*e-n,3*t-6*e+3*n,3*e-3*n,n).filter(a=>a>=0&&a<=1)),p9=(n,e,t)=>{const r=e*e-4*n*t;return r<0?[]:[(-e+Math.sqrt(r))/(2*n),(-e-Math.sqrt(r))/(2*n)]},m9=(n,e,t,r)=>{if(n===0)return p9(e,t,r);e/=n,t/=n,r/=n;const i=(3*t-e*e)/3,o=(2*e*e*e-9*e*t+27*r)/27;if(i===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const a=Math.pow(o/2,2)+Math.pow(i/3,3);if(a===0)return[Math.pow(o/2,1/2)-e/3];if(a>0)return[Math.pow(-(o/2)+Math.sqrt(a),1/3)-Math.pow(o/2+Math.sqrt(a),1/3)-e/3];const s=Math.sqrt(Math.pow(-(i/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(i/3),3))))),c=2*Math.pow(s,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class g9{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new b9(this,this.newID(),e.name,(t=e.priority)!==null&&t!==void 0?t:0,!!e.disableScroll)}createBlocker(e={}){return new v9(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,r){return this.canStart(e)?(this.requestedStart.set(t,r),!0):(this.requestedStart.delete(t),!1)}capture(e,t,r){if(!this.start(e,t,r))return!1;const i=this.requestedStart;let o=-1e4;if(i.forEach(a=>{o=Math.max(o,a)}),o===r){this.capturedId=t,i.clear();const a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(a),!0}return i.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let r=this.disabledGestures.get(e);r===void 0&&(r=new Set,this.disabledGestures.set(e,r)),r.add(t)}enableGesture(e,t){const r=this.disabledGestures.get(e);r!==void 0&&r.delete(t)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Qf)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Qf)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}class b9{constructor(e,t,r,i,o){this.id=t,this.name=r,this.disableScroll=o,this.priority=i*1e6+t,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class v9{constructor(e,t,r,i){this.id=t,this.disable=r,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Qf="backdrop-no-scroll",fy=new g9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ka=(n,e,t,r)=>{const i=x9(n)?{capture:!1,passive:!!r.passive}:!1;let o,a;return n.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),n[o](e,t,i),()=>{n[a](e,t,i)}},x9=n=>{if(Ch===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{Ch=!0}});n.addEventListener("optsTest",()=>{},e)}catch(e){Ch=!1}return!!Ch};let Ch;const y9=2e3,w9=(n,e,t,r,i)=>{let o,a,s,l,c,u,d,h=0;const f=E=>{h=Date.now()+y9,e(E)&&(!a&&t&&(a=Ka(n,"touchmove",t,i)),s||(s=Ka(E.target,"touchend",m,i)),l||(l=Ka(E.target,"touchcancel",m,i)))},p=E=>{h>Date.now()||e(E)&&(!u&&t&&(u=Ka(bk(n),"mousemove",t,i)),d||(d=Ka(bk(n),"mouseup",b,i)))},m=E=>{g(),r&&r(E)},b=E=>{v(),r&&r(E)},g=()=>{a&&a(),s&&s(),l&&l(),a=s=l=void 0},v=()=>{u&&u(),d&&d(),u=d=void 0},x=()=>{g(),v()},y=(E=!0)=>{E?(o||(o=Ka(n,"touchstart",f,i)),c||(c=Ka(n,"mousedown",p,i))):(o&&o(),c&&c(),o=c=void 0,x())};return{enable:y,stop:x,destroy:()=>{y(!1),r=t=e=void 0}}},bk=n=>n instanceof Document?n:n.ownerDocument,k9=(n,e,t)=>{const r=t*(Math.PI/180),i=n==="x",o=Math.cos(r),a=e*e;let s=0,l=0,c=!1,u=0;return{start(d,h){s=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-s,p=h-l,m=f*f+p*p;if(m<a)return!1;const b=Math.sqrt(m),g=(i?f:p)/b;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Pd=n=>{let e=!1,t=!1,r=!0,i=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},n),a=o.canStart,s=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,p=o.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=k9(o.direction,o.threshold,o.maxAngle),g=fy.createGesture({name:n.gestureName,priority:n.gesturePriority,disableScroll:n.disableScroll}),v=I=>{const M=IS(I);return t||!r||(AS(I,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=M,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=I,a&&a(m)===!1)||(g.release(),!g.start())?!1:(t=!0,h===0?w():(b.start(m.startX,m.startY),!0))},x=I=>{if(e){!i&&r&&(i=!0,e0(m,I),requestAnimationFrame(y));return}e0(m,I),b.detect(m.currentX,m.currentY)&&(!b.isGesture()||!w())&&D()},y=()=>{e&&(i=!1,d&&d(m))},w=()=>g.capture()?(e=!0,r=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,s?s(m).then(C):C(),!0):!1,E=()=>{if(typeof document<"u"){const I=document.activeElement;I!=null&&I.blur&&I.blur()}},C=()=>{p&&E(),l&&l(m),r=!0},S=()=>{e=!1,t=!1,i=!1,r=!0,g.release()},_=I=>{const M=e,T=r;if(S(),!!T){if(e0(m,I),M){c&&c(m);return}u&&u(m)}},A=w9(o.el,v,x,_,{passive:f}),D=()=>{S(),A.stop(),u&&u(m)};return{enable(I=!0){I||(e&&_(void 0),S()),A.enable(I)},destroy(){g.destroy(),A.destroy()}}},e0=(n,e)=>{if(!e)return;const t=n.currentX,r=n.currentY,i=n.currentTime;AS(e,n);const o=n.currentX,a=n.currentY,l=(n.currentTime=IS(e))-i;if(l>0&&l<100){const c=(o-t)/l,u=(a-r)/l;n.velocityX=c*.7+n.velocityX*.3,n.velocityY=u*.7+n.velocityY*.3}n.deltaX=o-n.startX,n.deltaY=a-n.startY,n.event=e},AS=(n,e)=>{let t=0,r=0;if(n){const i=n.changedTouches;if(i&&i.length>0){const o=i[0];t=o.clientX,r=o.clientY}else n.pageX!==void 0&&(t=n.pageX,r=n.pageY)}e.currentX=t,e.currentY=r},IS=n=>n.timeStamp||Date.now(),py=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:fy,createGesture:Pd},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _9=n=>RS(n),Xr=(n,e)=>(typeof n=="string"&&(e=n,n=void 0),_9(n).includes(e)),RS=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return e==null&&(e=n.Ionic.platforms=C9(n),e.forEach(t=>n.document.documentElement.classList.add("plt-".concat(t)))),e},C9=n=>{const e=Le.get("platform");return Object.keys(vk).filter(t=>{const r=e==null?void 0:e[t];return typeof r=="function"?r(n):vk[t](n)})},E9=n=>om(n)&&!OS(n),my=n=>!!(Ms(n,/iPad/i)||Ms(n,/Macintosh/i)&&om(n)),S9=n=>Ms(n,/iPhone/i),T9=n=>Ms(n,/iPhone|iPod/i)||my(n),DS=n=>Ms(n,/android|sink/i),A9=n=>DS(n)&&!Ms(n,/mobile/i),I9=n=>{const e=n.innerWidth,t=n.innerHeight,r=Math.min(e,t),i=Math.max(e,t);return r>390&&r<520&&i>620&&i<800},R9=n=>{const e=n.innerWidth,t=n.innerHeight,r=Math.min(e,t),i=Math.max(e,t);return my(n)||A9(n)||r>460&&r<820&&i>780&&i<1400},om=n=>B9(n,"(any-pointer:coarse)"),D9=n=>!om(n),OS=n=>MS(n)||BS(n),MS=n=>!!(n.cordova||n.phonegap||n.PhoneGap),BS=n=>{const e=n.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},O9=n=>Ms(n,/electron/i),M9=n=>{var e;return!!(!((e=n.matchMedia)===null||e===void 0)&&e.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},Ms=(n,e)=>e.test(n.navigator.userAgent),B9=(n,e)=>{var t;return(t=n.matchMedia)===null||t===void 0?void 0:t.call(n,e).matches},vk={ipad:my,iphone:S9,ios:T9,android:DS,phablet:I9,tablet:R9,cordova:MS,capacitor:BS,electron:O9,pwa:M9,mobile:om,mobileweb:E9,desktop:D9,hybrid:OS};let wl;const pe=n=>n&&gO(n)||wl,P9=(n={})=>{if(typeof window>"u")return;const e=window.document,t=window,r=t.Ionic=t.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WO(t)),{persistConfig:!1}),r.config),qO(t)),n);Le.reset(i),Le.getBoolean("persistConfig")&&VO(t,i),RS(t),r.config=Le,r.mode=wl=Le.get("mode",e.documentElement.getAttribute("mode")||(Xr(t,"ios")?"ios":"md")),Le.set("mode",wl),e.documentElement.setAttribute("mode",wl),e.documentElement.classList.add(wl),Le.getBoolean("_testing")&&Le.set("animated",!1);const o=s=>{var l;return(l=s.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},a=s=>["ios","md"].includes(s);mO(s=>{for(;s;){const l=s.mode||s.getAttribute("mode");if(l){if(a(l))return l;o(s)&&wt('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}s=s.parentElement}return wl})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gy=n=>{try{if(n instanceof N9)return n.value;if(!L9()||typeof n!="string"||n==="")return n;if(n.includes("onload="))return"";const e=document.createDocumentFragment(),t=document.createElement("div");e.appendChild(t),t.innerHTML=n,j9.forEach(a=>{const s=e.querySelectorAll(a);for(let l=s.length-1;l>=0;l--){const c=s[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=ov(c);for(let d=0;d<u.length;d++)iv(u[d])}});const r=ov(e);for(let a=0;a<r.length;a++)iv(r[a]);const i=document.createElement("div");i.appendChild(e);const o=i.querySelector("div");return o!==null?o.innerHTML:i.innerHTML}catch(e){return ei("sanitizeDOMString",e),""}},iv=n=>{if(n.nodeType&&n.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(n.attributes instanceof NamedNodeMap)){n.remove();return}for(let t=n.attributes.length-1;t>=0;t--){const r=n.attributes.item(t),i=r.name;if(!z9.includes(i.toLowerCase())){n.removeAttribute(i);continue}const o=r.value,a=n[i];(o!=null&&o.toLowerCase().includes("javascript:")||a!=null&&a.toLowerCase().includes("javascript:"))&&n.removeAttribute(i)}const e=ov(n);for(let t=0;t<e.length;t++)iv(e[t])},ov=n=>n.children!=null?n.children:n.childNodes,L9=()=>{var n;const e=window,t=(n=e==null?void 0:e.Ionic)===null||n===void 0?void 0:n.config;return t?t.get?t.get("sanitizerEnabled",!0):t.sanitizerEnabled===!0||t.sanitizerEnabled===void 0:!0},z9=["class","id","href","src","name","slot"],j9=["script","style","iframe","meta","link","object","embed"];class N9{constructor(e){this.value=e}}const by=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mt=(n,e)=>e.closest(n)!==null,gt=(n,e)=>typeof n=="string"&&n.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(n)]:!0},e):e,F9=n=>n!==void 0?(Array.isArray(n)?n:n.split(" ")).filter(t=>t!=null).map(t=>t.trim()).filter(t=>t!==""):[],Un=n=>{const e={};return F9(n).forEach(t=>e[t]=!0),e},$9=/^[a-z][a-z0-9+\-.]*:/,am=async(n,e,t,r)=>{if(n!=null&&n[0]!=="#"&&!$9.test(n)){const i=document.querySelector("ion-router");if(i)return e!=null&&e.preventDefault(),i.push(n,t,r)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gc=()=>Le.get("experimentalCloseWatcher",!1)&&ht!==void 0&&"CloseWatcher"in ht,U9=()=>{document.addEventListener("backbutton",()=>{})},H9=()=>{const n=document;let e=!1;const t=()=>{if(e)return;let r=0,i=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){i.push({priority:l,handler:c,id:r++})}}});n.dispatchEvent(o);const a=async l=>{try{if(l!=null&&l.handler){const c=l.handler(s);c!=null&&await c}}catch(c){ei("[ion-app] - Exception in startHardwareBackButton:",c)}},s=()=>{if(i.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,i=i.filter(c=>c.id!==l.id),a(l).then(()=>e=!1)}};s()};if(gc()){let r;const i=()=>{r==null||r.destroy(),r=new ht.CloseWatcher,r.onclose=()=>{t(),i()}};i()}else n.addEventListener("backbutton",t)},PS=100,LS=99,W9=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:LS,OVERLAY_BACK_BUTTON_PRIORITY:PS,blockHardwareBackButton:U9,shouldUseCloseWatcher:gc,startHardwareBackButton:H9},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vy=n=>ge().duration(n?400:300),V9=n=>{let e,t;const r=n.width+8,i=ge(),o=ge();n.isEndSide?(e=r+"px",t="0px"):(e=-r+"px",t="0px"),i.addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(t,")"));const s=pe(n)==="ios",l=s?.2:.25;return o.addElement(n.backdropEl).fromTo("opacity",.01,l),vy(s).addAnimation([i,o])},q9=n=>{let e,t;const r=pe(n),i=n.width;n.isEndSide?(e=-i+"px",t=i+"px"):(e=i+"px",t=-i+"px");const o=ge().addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(0px)"),a=ge().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),s=ge().addElement(n.backdropEl).fromTo("opacity",.01,.32);return vy(r==="ios").addAnimation([o,a,s])},G9=n=>{const e=pe(n),t=n.width*(n.isEndSide?-1:1)+"px",r=ge().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")"));return vy(e==="ios").addAnimation(r)},K9=()=>{const n=new Map,e=[],t=async C=>{const S=await c(C,!0);return S?S.open():!1},r=async C=>{const S=await(C!==void 0?c(C,!0):u());return S!==void 0?S.close():!1},i=async C=>{const S=await c(C,!0);return S?S.toggle():!1},o=async(C,S)=>{const _=await c(S);return _&&(_.disabled=!C),_},a=async(C,S)=>{const _=await c(S);return _&&(_.swipeGesture=C),_},s=async C=>{if(C!=null){const S=await c(C);return S!==void 0&&S.isOpen()}else return await u()!==void 0},l=async C=>{const S=await c(C);return S?!S.disabled:!1},c=async(C,S=!1)=>{if(await E(),C==="start"||C==="end"){const A=e.filter(I=>I.side===C&&!I.disabled);if(A.length>=1)return A.length>1&&S&&wt('menuController queried for a menu on the "'.concat(C,'" side, but ').concat(A.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),A.map(I=>I.el)),A[0].el;const D=e.filter(I=>I.side===C);if(D.length>=1)return D.length>1&&S&&wt('menuController queried for a menu on the "'.concat(C,'" side, but ').concat(D.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),D.map(I=>I.el)),D[0].el}else if(C!=null)return w(A=>A.menuId===C);const _=w(A=>!A.disabled);return _||(e.length>0?e[0].el:void 0)},u=async()=>(await E(),v()),d=async()=>(await E(),x()),h=async()=>(await E(),y()),f=(C,S)=>{n.set(C,S)},p=C=>{e.indexOf(C)<0&&e.push(C)},m=C=>{const S=e.indexOf(C);S>-1&&e.splice(S,1)},b=async(C,S,_,A)=>{if(y())return!1;if(S){const D=await u();D&&C.el!==D&&await D.setOpen(!1,!1)}return C._setOpen(S,_,A)},g=(C,S)=>{const _=n.get(C);if(!_)throw new Error("animation not registered");return _(S)},v=()=>w(C=>C._isOpen),x=()=>e.map(C=>C.el),y=()=>e.some(C=>C.isAnimating),w=C=>{const S=e.find(C);if(S!==void 0)return S.el},E=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(C=>new Promise(S=>yi(C,S))));return f("reveal",G9),f("push",q9),f("overlay",V9),Ir==null||Ir.addEventListener("ionBackButton",C=>{const S=v();S&&C.detail.register(LS,()=>S.close())}),{registerAnimation:f,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:a,isAnimating:h,isOpen:s,enable:o,toggle:i,close:r,open:t,_getOpenSync:v,_createAnimation:g,_register:p,_unregister:m,_setOpen:b}},la=K9();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ld=async(n,e,t,r,i,o)=>{var a;if(n)return n.attachViewToDom(e,t,i,r);if(!o&&typeof t!="string"&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const s=typeof t=="string"?(a=e.ownerDocument)===null||a===void 0?void 0:a.createElement(t):t;return r&&r.forEach(l=>s.classList.add(l)),i&&Object.assign(s,i),e.appendChild(s),await new Promise(l=>yi(s,l)),s},xy=(n,e)=>{if(e){if(n){const t=e.parentElement;return n.removeViewFromDom(t,e)}e.remove()}return Promise.resolve()},yy=()=>{let n,e;return{attachViewToDom:async(i,o,a={},s=[])=>{var l,c;n=i;let u;if(o){const h=typeof o=="string"?(l=n.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;s.forEach(f=>h.classList.add(f)),Object.assign(h,a),n.appendChild(h),u=h,await new Promise(f=>yi(h,f))}else if(n.children.length>0&&(n.tagName==="ION-MODAL"||n.tagName==="ION-POPOVER")&&!(u=n.children[0]).classList.contains("ion-delegate-host")){const f=(c=n.ownerDocument)===null||c===void 0?void 0:c.createElement("div");f.classList.add("ion-delegate-host"),s.forEach(p=>f.classList.add(p)),f.append(...n.children),n.appendChild(f),u=f}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),n.parentNode.insertBefore(e,n),d.appendChild(n),u!=null?u:n},removeViewFromDom:()=>(n&&e&&(e.parentNode.insertBefore(n,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ep=(n,e)=>{const t=n.querySelector(zd);zS(t,e!=null?e:n)},av=(n,e)=>{const t=Array.from(n.querySelectorAll(zd)),r=t.length>0?t[t.length-1]:null;zS(r,e!=null?e:n)},zS=(n,e)=>{let t=n;const r=n==null?void 0:n.shadowRoot;if(r&&(t=r.querySelector(zd)||n),t){const i=t.closest("ion-radio-group");i?i.setFocus():Jf(t)}else e.focus()};let sv=0,Y9=0;const tp=new WeakMap,jd=n=>({create(e){return t7(n,e)},dismiss(e,t,r){return o7(document,e,t,n,r)},async getTop(){return bc(document,n)}}),X9=jd("ion-alert"),Z9=jd("ion-action-sheet"),J9=jd("ion-modal"),Q9=jd("ion-popover"),e7=jd("ion-toast"),Mc=n=>{typeof document<"u"&&i7(document);const e=sv++;n.overlayIndex=e},Bc=n=>(n.hasAttribute("id")||(n.id="ion-overlay-".concat(++Y9)),n.id),t7=(n,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(n).then(()=>{const t=document.createElement(n);return t.classList.add("overlay-hidden"),Object.assign(t,Object.assign(Object.assign({},e),{hasController:!0})),NS(document).appendChild(t),new Promise(r=>yi(t,r))}):Promise.resolve(),n7=n=>n.classList.contains("overlay-hidden"),xk=(n,e)=>{let t=n;const r=n==null?void 0:n.shadowRoot;r&&(t=r.querySelector(zd)||n),t?Jf(t):e.focus()},r7=(n,e)=>{const t=bc(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),r=n.target;if(!t||!r||t.classList.contains(od))return;const i=()=>{if(t===r)t.lastFocus=void 0;else if(r.tagName==="ION-TOAST")xk(t.lastFocus,t);else{const a=Nt(t);if(!a.contains(r))return;const s=a.querySelector(".ion-overlay-wrapper");if(!s)return;if(s.contains(r)||r===a.querySelector("ion-backdrop"))t.lastFocus=r;else{const l=t.lastFocus;ep(s,t),l===e.activeElement&&av(s,t),t.lastFocus=e.activeElement}}},o=()=>{if(t.contains(r))t.lastFocus=r;else if(r.tagName==="ION-TOAST")xk(t.lastFocus,t);else{const a=t.lastFocus;ep(t),a===e.activeElement&&av(t),t.lastFocus=e.activeElement}};t.shadowRoot?o():i()},i7=n=>{sv===0&&(sv=1,n.addEventListener("focus",e=>{r7(e,n)},!0),n.addEventListener("ionBackButton",e=>{const t=bc(n);t!=null&&t.backdropDismiss&&e.detail.register(PS,()=>{t.dismiss(void 0,Gi)})}),gc()||n.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=bc(n);t!=null&&t.backdropDismiss&&t.dismiss(void 0,Gi)}}))},o7=(n,e,t,r,i)=>{const o=bc(n,r,i);return o?o.dismiss(e,t):Promise.reject("overlay does not exist")},a7=(n,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)),sm=(n,e)=>a7(n,e).filter(t=>!n7(t)),bc=(n,e,t)=>{const r=sm(n,e);return t===void 0?r[r.length-1]:r.find(i=>i.id===t)},jS=(n=!1)=>{const t=NS(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},Pc=async(n,e,t,r,i)=>{var o,a;if(n.presented)return;n.el.tagName!=="ION-TOAST"&&(jS(!0),document.body.classList.add(Qf)),u7(n.el),US(n.el),n.presented=!0,n.willPresent.emit(),(o=n.willPresentShorthand)===null||o===void 0||o.emit();const s=pe(n),l=n.enterAnimation?n.enterAnimation:Le.get(e,s==="ios"?t:r);await FS(n,l,n.el,i)&&(n.didPresent.emit(),(a=n.didPresentShorthand)===null||a===void 0||a.emit()),n.el.tagName!=="ION-TOAST"&&s7(n.el),n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))&&n.el.focus(),n.el.removeAttribute("aria-hidden")},s7=async n=>{let e=document.activeElement;if(!e)return;const t=e==null?void 0:e.shadowRoot;t&&(e=t.querySelector(zd)||e),await n.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},Lc=async(n,e,t,r,i,o,a)=>{var s,l;if(!n.presented)return!1;const u=(Ir!==void 0?sm(Ir):[]).filter(h=>h.tagName!=="ION-TOAST");u.length===1&&u[0].id===n.el.id&&(jS(!1),document.body.classList.remove(Qf)),n.presented=!1;try{US(n.el),n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:e,role:t}),(s=n.willDismissShorthand)===null||s===void 0||s.emit({data:e,role:t});const h=pe(n),f=n.leaveAnimation?n.leaveAnimation:Le.get(r,h==="ios"?i:o);t!==So&&await FS(n,f,n.el,a),n.didDismiss.emit({data:e,role:t}),(l=n.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:t}),(tp.get(n)||[]).forEach(m=>m.destroy()),tp.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),n.el.lastFocus!==void 0&&(n.el.lastFocus=void 0)}catch(h){ei("[".concat(n.el.tagName.toLowerCase(),"] - "),h)}return n.el.remove(),d7(),!0},NS=n=>n.querySelector("ion-app")||n.body,FS=async(n,e,t,r)=>{t.classList.remove("overlay-hidden");const i=n.el,o=e(i,r);(!n.animated||!Le.getBoolean("animated",!0))&&o.duration(0),n.keyboardClose&&o.beforeAddWrite(()=>{const s=t.ownerDocument.activeElement;s!=null&&s.matches("input,ion-input, ion-textarea")&&s.blur()});const a=tp.get(n)||[];return tp.set(n,[...a,o]),await o.play(),!0},ti=(n,e)=>{let t;const r=new Promise(i=>t=i);return l7(n,e,i=>{t(i.detail)}),r},l7=(n,e,t)=>{const r=i=>{vS(n,e,r),t(i)};hy(n,e,r)},Bs=n=>n==="cancel"||n===Gi,c7=n=>n(),_s=(n,e)=>{if(typeof n=="function")return Le.get("_zoneGate",c7)(()=>{try{return n(e)}catch(r){throw r}})},Gi="backdrop",So="gesture",$S=39,lm=n=>{let e=!1,t;const r=yy(),i=(s=!1)=>{if(t&&!s)return{delegate:t,inline:e};const{el:l,hasController:c,delegate:u}=n;return e=l.parentNode!==null&&!c,t=e?u||r:u,{inline:e,delegate:t}};return{attachViewToDom:async s=>{const{delegate:l}=i(!0);if(l)return await l.attachViewToDom(n.el,s);const{hasController:c}=n;if(c&&s!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:s}=i();s&&n.el!==void 0&&s.removeViewFromDom(n.el.parentElement,n.el)}}},Nd=()=>{let n;const e=()=>{n&&(n(),n=void 0)};return{addClickListener:(r,i)=>{e();const o=i!==void 0?document.getElementById(i):null;if(!o){wt("[".concat(r.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(i,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),r);return}n=((s,l)=>{const c=()=>{l.present()};return s.addEventListener("click",c),()=>{s.removeEventListener("click",c)}})(o,r)},removeClickListener:e}},US=n=>{Ir!==void 0&&Xr("android")&&n.setAttribute("aria-hidden","true")},u7=n=>{var e;if(Ir===void 0)return;const t=sm(Ir);for(let r=t.length-1;r>=0;r--){const i=t[r],o=(e=t[r+1])!==null&&e!==void 0?e:n;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&i.setAttribute("aria-hidden","true")}},d7=()=>{if(Ir===void 0)return;const n=sm(Ir);for(let e=n.length-1;e>=0;e--){const t=n[e];if(t.removeAttribute("aria-hidden"),t.tagName!=="ION-TOAST")break}},od="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",h7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",f7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",m7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",yk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",WS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",VS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",g7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",b7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",v7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",x7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",y7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",wk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",w7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",k7="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let t0;const _7=()=>{if(typeof window>"u")return new Map;if(!t0){const n=window;n.Ionicons=n.Ionicons||{},t0=n.Ionicons.map=n.Ionicons.map||new Map}return t0},C7=n=>{let e=n0(n.src);return e||(e=qS(n.name,n.icon,n.mode,n.ios,n.md),e?E7(e,n):n.icon&&(e=n0(n.icon),e||(e=n0(n.icon[n.mode]),e))?e:null)},E7=(n,e)=>{const t=_7().get(n);if(t)return t;try{return iS("svg/".concat(n,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(n,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},qS=(n,e,t,r,i)=>(t=(t&&Eh(t))==="ios"?"ios":"md",r&&t==="ios"?n=Eh(r):i&&t==="md"?n=Eh(i):(!n&&e&&!GS(e)&&(n=e),np(n)&&(n=Eh(n))),!np(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),n0=n=>np(n)&&(n=n.trim(),GS(n))?n:null,GS=n=>n.length>0&&/(\/|\.)/.test(n),np=n=>typeof n=="string",Eh=n=>n.toLowerCase(),S7=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},T7=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",A7=n=>{const e=document.createElement("div");e.innerHTML=n;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const r=t.getAttribute("class")||"";if(t.setAttribute("class",(r+" s-ion-icon").trim()),KS(t))return e.innerHTML}return""},KS=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(np(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!KS(n.childNodes[e]))return!1}return!0},I7=n=>n.startsWith("data:image/svg+xml"),R7=n=>n.indexOf(";utf8,")!==-1,cs=new Map,kk=new Map;let r0;const D7=(n,e)=>{let t=kk.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(I7(n)&&R7(n)){r0||(r0=new DOMParser);const i=r0.parseFromString(n,"text/html").querySelector("svg");return i&&cs.set(n,i.outerHTML),Promise.resolve()}else t=fetch(n).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=A7(i)),cs.set(n,i||"")});cs.set(n,"")}),kk.set(n,t);else return cs.set(n,""),Promise.resolve();return t},O7=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",M7=O7,B7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=P7(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=S7(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:t});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=C7(this);e&&(cs.has(e)?this.svgContent=cs.get(e):D7(e,this.sanitize).then(()=>this.svgContent=cs.get(e)),this.didLoadIcon=!0)}this.iconName=qS(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:r,el:i}=this,o=this.mode||"md",a=t?(t.includes("arrow")||t.includes("chevron"))&&e!==!1:!1,s=e||a;return O(Be,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},L7(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":s,"icon-rtl":s&&T7(i)})},r),this.svgContent?O("div",{class:"icon-inner",innerHTML:this.svgContent}):O("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return M7}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),P7=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",L7=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function ni(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,B7);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z7=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",j7=z7,N7=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",F7=N7,$7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return O(Be,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:pe(this)},O("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:j7,md:F7}}},[33,"ion-avatar"]);function U7(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,$7);break}})}const H7=U7;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W7=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",V7=W7,q7=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",G7=q7,K7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ae(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=pe(this);return O(Be,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:V7,md:G7}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Vs(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,K7);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y7=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",X7=Y7,Z7=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",J7=Z7,Q7=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return O(Be,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:gt(this.color,{[e]:!0})},O("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:X7,md:J7}}},[33,"ion-badge",{color:[513]}]);function eM(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,Q7);break}})}const tM=eM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nM=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",rM=nM,iM=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",oM=iM,aM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=pe(this);return O(Be,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},O("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:rM,md:oM}}},[38,"ion-buttons",{collapse:[4]}]);function wy(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,aM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sM=wy;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lM="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",cM=lM,uM="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",dM=uM,hM=Oe(class extends Ae{constructor(){super(),this.__registerHost()}render(){const e=pe(this);return O(Be,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:cM,md:dM}}},[32,"ion-card-content"]);function fM(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,hM);break}})}const pM=fM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mM=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",gM=mM,bM=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",vM=bM,xM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=pe(this);return O(Be,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:gt(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},O("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:gM,md:vM}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function yM(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,xM);break}})}const wM=yM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kM=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",_M=kM,CM=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",EM=CM,SM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return O(Be,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:gt(this.color,{"ion-inherit-color":!0,[e]:!0})},O("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:_M,md:EM}}},[33,"ion-card-subtitle",{color:[513]}]);function TM(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,SM);break}})}const AM=TM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IM=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",RM=IM,DM=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",OM=DM,MM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return O(Be,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:gt(this.color,{"ion-inherit-color":!0,[e]:!0})},O("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:RM,md:OM}}},[33,"ion-card-title",{color:[513]}]);function BM(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,MM);break}})}const PM=BM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LM=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",zM=LM,jM=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",NM=jM,FM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-cb-".concat($M++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.setChecked=e=>{const t=this.checked=e;this.ionChange.emit({checked:t,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked(e))},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}componentWillLoad(){this.inheritedAttributes=Object.assign({},ki(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return O("div",{class:"checkbox-bottom"},O("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),O("div",{id:i,class:"error-text",part:"supporting-text error-text"},t))}render(){const{color:e,checked:t,disabled:r,el:i,getSVGPath:o,indeterminate:a,inheritedAttributes:s,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:f,required:p}=this,m=pe(this),b=o(m,a),g=i.textContent!=="";return Bd(!0,i,d,t?h:"",r),O(Be,{key:"90bb17a4fae17088524555968a002327400807cf",role:"checkbox","aria-checked":a?"mixed":"".concat(t),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-labelledby":g?this.inputLabelId:null,"aria-label":s["aria-label"]||null,"aria-disabled":r?"true":null,tabindex:r?void 0:0,onKeyDown:this.onKeyDown,class:gt(e,{[m]:!0,"in-item":Mt("ion-item",i),"checkbox-checked":t,"checkbox-disabled":r,"checkbox-indeterminate":a,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(f)]:f!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},O("label",{key:"58b5762aa358dff81910874631e06620a2ae1561",class:"checkbox-wrapper",htmlFor:l},O("input",Object.assign({key:"6abe299d690c345d36d6fd76ab113fdccfbbac52",type:"checkbox",checked:t?!0:void 0,disabled:r,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:v=>this.focusEl=v,required:p},s)),O("div",{key:"2654168e45ccfdbcfe13af8c97e0e21d61ba0150",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!g},part:"label",id:this.inputLabelId},O("slot",{key:"a91f3f67d9ddd6b616e48799aba11cae3564d1ab"}),this.renderHintText()),O("div",{key:"d5a9170b084d09df6b02f416e744085b5bcf0dde",class:"native-wrapper"},O("svg",{key:"b1968ce4aa9d652a9f2bdc427ea3a65e6c04df51",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},b))))}getSVGPath(e,t){let r=t?O("path",{d:"M6 12L18 12",part:"mark"}):O("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(r=t?O("path",{d:"M2 12H22",part:"mark"}):O("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),r}get el(){return this}static get style(){return{ios:zM,md:NM}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],setFocus:[64]}]);let $M=0;function ky(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,FM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UM=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",HM=UM,WM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise(r=>{Rs(()=>{const i=this.el.getBoundingClientRect(),o=i.width,a=i.height,s=Math.sqrt(o*o+a*a),l=Math.max(a,o),c=this.unbounded?l:s+qM,u=Math.floor(l*GM),d=c/u;let h=e-i.left,f=t-i.top;this.unbounded&&(h=o*.5,f=a*.5);const p=h-u*.5,m=f-u*.5,b=o*.5-h,g=a*.5-f;ur(()=>{const v=document.createElement("div");v.classList.add("ripple-effect");const x=v.style;x.top=m+"px",x.left=p+"px",x.width=x.height=u+"px",x.setProperty("--final-scale","".concat(d)),x.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(v),setTimeout(()=>{r(()=>{VM(v)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=pe(this);return O(Be,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return HM}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),VM=n=>{n.classList.add("fade-out"),setTimeout(()=>{n.remove()},200)},qM=10,GM=.5;function ri(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,WM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KM={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},YM=n=>{if(n===void 0||n==="")return!0;if(window.matchMedia){const e=KM[n];return window.matchMedia(e).matches}return!1},XM=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",ZM=XM,Sh=typeof window<"u"?window:void 0,_k=Sh&&!!(Sh.CSS&&Sh.CSS.supports&&Sh.CSS.supports("--a: 0")),JM=["","xs","sm","md","lg","xl"],QM=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){On(this)}getColumns(e){let t;for(const r of JM){const i=YM(r),o=this[e+r.charAt(0).toUpperCase()+r.slice(1)];i&&o!==void 0&&(t=o)}return t}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const t=e==="auto"?"auto":_k?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}calculatePosition(e,t){const r=this.getColumns(e);if(!r)return;const i=_k?"calc(calc(".concat(r," / var(--ion-grid-columns, 12)) * 100%)"):r>0&&r<12?r/12*100+"%":"auto";return{[t]:i}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",t=pe(this);return O(Be,{key:"32ed75d81dd09d9bc8999f6d42e5b3cb99c84d91",class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},O("slot",{key:"38f8d0440c20cc6d1b1d6a654d07f16de61d8134"}))}static get style(){return ZM}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function eB(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,QM);break}})}const tB=eB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const To=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nB=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',rB=nB,iB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ae(this,"ionScrollStart",7),this.ionScroll=ae(this,"ionScroll",7),this.ionScrollEnd=ae(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=ki(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,rd(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),rd(this.el)){const{tabsElement:e,tabsLoadCallback:t}=this;e!==null&&t!==void 0&&e.removeEventListener("ionTabBarLoaded",t),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=pe(this);return e===void 0?t==="ios"&&Xr("ios"):e}resize(){this.fullscreen?Rs(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,On(this))}readDimensions(){const e=aB(this.el),t=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||r!==this.cBottom)&&(this.cTop=t,this.cBottom=r,On(this))}onScroll(e){const t=Date.now(),r=!this.isScrolling;this.lastScroll=t,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Rs(i=>{this.queued=!1,this.detail.event=e,sB(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>yi(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>yi(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),r=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,t,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,t+i.scrollTop,r)}async scrollToPoint(e,t,r=0){const i=await this.getScrollElement();if(r<32){t!=null&&(i.scrollTop=t),e!=null&&(i.scrollLeft=e);return}let o,a=0;const s=new Promise(f=>o=f),l=i.scrollTop,c=i.scrollLeft,u=t!=null?t-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-a)/r)-1,m=Math.pow(p,3)+1;u!==0&&(i.scrollTop=Math.floor(m*u+l)),d!==0&&(i.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{a=f,h(f)}),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:t,isMainContent:r,scrollX:i,scrollY:o,el:a}=this,s=To(a)?"rtl":"ltr",l=pe(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),O(Be,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:gt(this.color,{[l]:!0,"content-sizing":Mt("ion-popover",this.el),overscroll:c,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},t),O("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?O("slot",{name:"fixed"}):null,O("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},O("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?O("div",{class:"transition-effect"},O("div",{class:"transition-cover"}),O("div",{class:"transition-shadow"})):null,e==="after"?O("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return rB}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),oB=n=>{var e;return n.parentElement?n.parentElement:!((e=n.parentNode)===null||e===void 0)&&e.host?n.parentNode.host:null},aB=n=>{const e=n.closest("ion-tabs");if(e)return e;const t=n.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return t||oB(n)},sB=(n,e,t,r)=>{const i=n.currentX,o=n.currentY,a=n.currentTime,s=e.scrollLeft,l=e.scrollTop,c=t-a;if(r&&(n.startTime=t,n.startX=s,n.startY=l,n.velocityX=n.velocityY=0),n.currentTime=t,n.currentX=n.scrollLeft=s,n.currentY=n.scrollTop=l,n.deltaX=s-n.startX,n.deltaY=l-n.startY,c>0&&c<100){const u=(s-i)/c,d=(l-o)/c;n.velocityX=u*.7+n.velocityX*.3,n.velocityY=d*.7+n.velocityY*.3}};function _y(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,iB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lB=_y;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cB=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',uB=cB,dB=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',hB=dB,YS=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;this.type==="button"?am(this.href,e,this.routerDirection,this.routerAnimation):ZO(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(t!==null&&e.contains(t))return;const r=this.formButtonEl=document.createElement("button");r.type=this.type,r.style.display="none",r.disabled=this.disabled,e.appendChild(r)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=ki(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(wt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(wt('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(wt('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=pe(this),{buttonType:t,type:r,disabled:i,rel:o,target:a,size:s,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,m=s===void 0&&this.inItem?"small":s,b=l===void 0?"button":"a",g=b==="button"?{type:r}:{download:this.download,href:l,rel:o,target:a};let v=this.fill;return v==null&&(v=this.inToolbar||this.inListHeader?"clear":"solid"),r!=="button"&&this.renderHiddenButton(),O(Be,{key:"e213b0bb76b3f90f883b1a0ea463bb86c2df69c3",onClick:this.handleClick,"aria-disabled":i?"true":null,class:gt(c,{[e]:!0,[t]:!0,["".concat(t,"-").concat(u)]:u!==void 0,["".concat(t,"-").concat(m)]:m!==void 0,["".concat(t,"-").concat(h)]:h!==void 0,["".concat(t,"-").concat(v)]:!0,["".concat(t,"-strong")]:f,"in-toolbar":Mt("ion-toolbar",this.el),"in-toolbar-color":Mt("ion-toolbar[color]",this.el),"in-buttons":Mt("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":i,"ion-activatable":!0,"ion-focusable":!0})},O(b,Object.assign({key:"b7c2a46fb994024841219316f4089335fa463d84"},g,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur},p),O("span",{key:"3e07a5c9f86836f9fbaefc6c617bdde6eb6f70cd",class:"button-inner"},O("slot",{key:"41c08ae09aed16faaa57707d229ff75d97f0731c",name:"icon-only",onSlotchange:this.slotChanged}),O("slot",{key:"ab8b749e4572884cc04970a7594466b4a24c886e",name:"start"}),O("slot",{key:"397f7ff48ea45e82029414be95d29ae86e12c3a9"}),O("slot",{key:"9a5627713002e8be3738d392b616f6e951b70e12",name:"end"})),e==="md"&&O("ion-ripple-effect",{key:"105566543ceda102474edab7ca8a44c7e71af589",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:uB,md:hB}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function Cy(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,YS);break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rp=()=>{if(ht!==void 0)return ht.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var lv;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(lv||(lv={}));var Ck;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(Ck||(Ck={}));const Fd={getEngine(){const n=rp();if(n!=null&&n.isPluginAvailable("Haptics"))return n.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=rp();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(n){const e=this.getEngine();e&&e.impact({style:n.style})},notification(n){const e=this.getEngine();e&&e.notification({type:n.type})},selection(){this.impact({style:lv.Light})},selectionStart(){const n=this.getEngine();n&&n.selectionStart()},selectionChanged(){const n=this.getEngine();n&&n.selectionChanged()},selectionEnd(){const n=this.getEngine();n&&n.selectionEnd()}},cm=()=>Fd.available(),fB=()=>{cm()&&Fd.selection()},pB=()=>{cm()&&Fd.selectionStart()},mB=()=>{cm()&&Fd.selectionChanged()},gB=()=>{cm()&&Fd.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qs=()=>{let n;return{lock:async()=>{const t=n;let r;return n=new Promise(i=>r=i),t!==void 0&&await t,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bB=n=>{if(!n)return{arrowWidth:0,arrowHeight:0};const{width:e,height:t}=n.getBoundingClientRect();return{arrowWidth:e,arrowHeight:t}},XS=(n,e,t)=>{const r=e.getBoundingClientRect(),i=r.height;let o=r.width;return n==="cover"&&t&&(o=t.getBoundingClientRect().width),{contentWidth:o,contentHeight:i}},vB=(n,e,t,r)=>{let i=[];const a=Nt(r).querySelector(".popover-content");switch(e){case"hover":i=[{eventName:"mouseenter",callback:s=>{document.elementFromPoint(s.clientX,s.clientY)!==n&&t.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:i=[{eventName:"click",callback:s=>{if(s.target.closest("[data-ion-popover-trigger]")===n){s.stopPropagation();return}t.dismiss(void 0,void 0,!1)}}];break}return i.forEach(({eventName:s,callback:l})=>a.addEventListener(s,l)),()=>{i.forEach(({eventName:s,callback:l})=>a.removeEventListener(s,l))}},xB=(n,e,t)=>{let r=[];switch(e){case"hover":let i;r=[{eventName:"mouseenter",callback:async o=>{o.stopPropagation(),i&&clearTimeout(i),i=setTimeout(()=>{on(()=>{t.presentFromTrigger(o),i=void 0})},100)}},{eventName:"mouseleave",callback:o=>{i&&clearTimeout(i);const a=o.relatedTarget;a&&a.closest("ion-popover")!==t&&t.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break;case"context-menu":r=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),t.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break;case"click":default:r=[{eventName:"click",callback:o=>t.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>t.presentFromTrigger(o,!0)}];break}return r.forEach(({eventName:i,callback:o})=>n.addEventListener(i,o)),n.setAttribute("data-ion-popover-trigger","true"),()=>{r.forEach(({eventName:i,callback:o})=>n.removeEventListener(i,o)),n.removeAttribute("data-ion-popover-trigger")}},ZS=(n,e)=>!e||e.tagName!=="ION-ITEM"?-1:n.findIndex(t=>t===e),yB=(n,e)=>{const t=ZS(n,e);return n[t+1]},wB=(n,e)=>{const t=ZS(n,e);return n[t-1]},Th=n=>{const t=Nt(n).querySelector("button");t&&on(()=>t.focus())},kB=n=>n.hasAttribute("data-ion-popover-trigger"),_B=n=>{const e=async t=>{var r;const i=document.activeElement;let o=[];const a=(r=t.target)===null||r===void 0?void 0:r.tagName;if(!(a!=="ION-POPOVER"&&a!=="ION-ITEM")){try{o=Array.from(n.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(s){}switch(t.key){case"ArrowLeft":await n.getParentPopover()&&n.dismiss(void 0,void 0,!1);break;case"ArrowDown":t.preventDefault();const l=yB(o,i);l!==void 0&&Th(l);break;case"ArrowUp":t.preventDefault();const c=wB(o,i);c!==void 0&&Th(c);break;case"Home":t.preventDefault();const u=o[0];u!==void 0&&Th(u);break;case"End":t.preventDefault();const d=o[o.length-1];d!==void 0&&Th(d);break;case"ArrowRight":case" ":case"Enter":if(i&&kB(i)){const h=new CustomEvent("ionPopoverActivateTrigger");i.dispatchEvent(h)}break}}};return n.addEventListener("keydown",e),()=>n.removeEventListener("keydown",e)},JS=(n,e,t,r,i,o,a,s,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(o){case"event":if(!u)return l;const w=u;h={top:w.clientY,left:w.clientX,width:1,height:1};break;case"trigger":default:const E=u,C=c||((d=E==null?void 0:E.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(E==null?void 0:E.target);if(!C)return l;const S=C.getBoundingClientRect();h={top:S.top,left:S.left,width:S.width,height:S.height};break}const f=SB(a,h,e,t,r,i,n),p=TB(s,a,h,e,t),m=f.top+p.top,b=f.left+p.left,{arrowTop:g,arrowLeft:v}=EB(a,r,i,m,b,e,t,n),{originX:x,originY:y}=CB(a,s,n);return{top:m,left:b,referenceCoordinates:h,arrowTop:g,arrowLeft:v,originX:x,originY:y}},CB=(n,e,t)=>{switch(n){case"top":return{originX:Ek(e),originY:"bottom"};case"bottom":return{originX:Ek(e),originY:"top"};case"left":return{originX:"right",originY:Ah(e)};case"right":return{originX:"left",originY:Ah(e)};case"start":return{originX:t?"left":"right",originY:Ah(e)};case"end":return{originX:t?"right":"left",originY:Ah(e)}}},Ek=n=>{switch(n){case"start":return"left";case"center":return"center";case"end":return"right"}},Ah=n=>{switch(n){case"start":return"top";case"center":return"center";case"end":return"bottom"}},EB=(n,e,t,r,i,o,a,s)=>{const l={arrowTop:r+a/2-e/2,arrowLeft:i+o-e/2},c={arrowTop:r+a/2-e/2,arrowLeft:i-e*1.5};switch(n){case"top":return{arrowTop:r+a,arrowLeft:i+o/2-e/2};case"bottom":return{arrowTop:r-t,arrowLeft:i+o/2-e/2};case"left":return l;case"right":return c;case"start":return s?c:l;case"end":return s?l:c;default:return{arrowTop:0,arrowLeft:0}}},SB=(n,e,t,r,i,o,a)=>{const s={top:e.top,left:e.left-t-i},l={top:e.top,left:e.left+e.width+i};switch(n){case"top":return{top:e.top-r-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return s;case"start":return a?l:s;case"end":return a?s:l}},TB=(n,e,t,r,i)=>{switch(n){case"center":return IB(e,t,r,i);case"end":return AB(e,t,r,i);case"start":default:return{top:0,left:0}}},AB=(n,e,t,r)=>{switch(n){case"start":case"end":case"left":case"right":return{top:-(r-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(t-e.width)}}},IB=(n,e,t,r)=>{switch(n){case"start":case"end":case"left":case"right":return{top:-(r/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(t/2-e.width/2)}}},QS=(n,e,t,r,i,o,a,s,l,c,u,d,h=0,f=0,p=0)=>{let m=h;const b=f;let g=t,v=e,x,y=c,w=u,E=!1,C=!1;const S=d?d.top+d.height:o/2-s/2,_=d?d.height:0;let A=!1;return g<r+l?(g=r,E=!0,y="left"):a+r+g+l>i&&(C=!0,g=i-a-r,y="right"),S+_+s>o&&(n==="top"||n==="bottom")&&(S-s>0?(v=Math.max(12,S-s-_-(p-1)),m=v+s,w="bottom",A=!0):x=r),{top:v,left:g,bottom:x,originX:y,originY:w,checkSafeAreaLeft:E,checkSafeAreaRight:C,arrowTop:m,arrowLeft:b,addPopoverBottomClass:A}},RB=(n,e=!1,t,r)=>!(!t&&!r||n!=="top"&&n!=="bottom"&&e),DB=5,OB=(n,e)=>{var t;const{event:r,size:i,trigger:o,reference:a,side:s,align:l}=e,c=n.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Nt(n),p=f.querySelector(".popover-content"),m=f.querySelector(".popover-arrow"),b=o||((t=r==null?void 0:r.detail)===null||t===void 0?void 0:t.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:g,contentHeight:v}=XS(i,p,b),{arrowWidth:x,arrowHeight:y}=bB(m),w={top:h/2-v/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},E=JS(u,g,v,x,y,a,s,l,w,o,r),C=i==="cover"?0:DB,S=i==="cover"?0:25,{originX:_,originY:A,top:D,left:I,bottom:M,checkSafeAreaLeft:T,checkSafeAreaRight:B,arrowTop:L,arrowLeft:z,addPopoverBottomClass:U}=QS(s,E.top,E.left,C,d,h,g,v,S,E.originX,E.originY,E.referenceCoordinates,E.arrowTop,E.arrowLeft,y),P=ge(),$=ge(),F=ge();return $.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),F.addElement(f.querySelector(".popover-arrow")).addElement(f.querySelector(".popover-content")).fromTo("opacity",.01,1),P.easing("ease").duration(100).beforeAddWrite(()=>{i==="cover"&&n.style.setProperty("--width","".concat(g,"px")),U&&n.classList.add("popover-bottom"),M!==void 0&&p.style.setProperty("bottom","".concat(M,"px"));const N=" + var(--ion-safe-area-left, 0)",ee=" - var(--ion-safe-area-right, 0)";let X="".concat(I,"px");if(T&&(X="".concat(I,"px").concat(N)),B&&(X="".concat(I,"px").concat(ee)),p.style.setProperty("top","calc(".concat(D,"px + var(--offset-y, 0))")),p.style.setProperty("left","calc(".concat(X," + var(--offset-x, 0))")),p.style.setProperty("transform-origin","".concat(A," ").concat(_)),m!==null){const J=E.top!==D||E.left!==I;RB(s,J,r,o)?(m.style.setProperty("top","calc(".concat(L,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(z,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}}).addAnimation([$,F])},MB=n=>{const e=Nt(n),t=e.querySelector(".popover-content"),r=e.querySelector(".popover-arrow"),i=ge(),o=ge(),a=ge();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),a.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{n.style.removeProperty("--width"),n.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin"),r&&(r.style.removeProperty("top"),r.style.removeProperty("left"),r.style.removeProperty("display"))}).duration(300).addAnimation([o,a])},BB=12,PB=(n,e)=>{var t;const{event:r,size:i,trigger:o,reference:a,side:s,align:l}=e,c=n.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Nt(n),p=f.querySelector(".popover-content"),m=o||((t=r==null?void 0:r.detail)===null||t===void 0?void 0:t.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:b,contentHeight:g}=XS(i,p,m),v={top:h/2-g/2,left:d/2-b/2,originX:u?"right":"left",originY:"top"},x=JS(u,b,g,0,0,a,s,l,v,o,r),y=i==="cover"?0:BB,{originX:w,originY:E,top:C,left:S,bottom:_}=QS(s,x.top,x.left,y,d,h,b,g,0,x.originX,x.originY,x.referenceCoordinates),A=ge(),D=ge(),I=ge(),M=ge(),T=ge();return D.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),I.addElement(f.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),M.addElement(p).beforeStyles({top:"calc(".concat(C,"px + var(--offset-y, 0px))"),left:"calc(".concat(S,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(E," ").concat(w)}).beforeAddWrite(()=>{_!==void 0&&p.style.setProperty("bottom","".concat(_,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),T.addElement(f.querySelector(".popover-viewport")).fromTo("opacity",.01,1),A.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{i==="cover"&&n.style.setProperty("--width","".concat(b,"px")),E==="bottom"&&n.classList.add("popover-bottom")}).addAnimation([D,I,M,T])},LB=n=>{const e=Nt(n),t=e.querySelector(".popover-content"),r=ge(),i=ge(),o=ge();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{n.style.removeProperty("--width"),n.classList.remove("popover-bottom"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("transform-origin")}).duration(150).addAnimation([i,o])},zB=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',jB=zB,NB=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",FB=NB,$B=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionPopoverDidPresent",7),this.willPresent=ae(this,"ionPopoverWillPresent",7),this.willDismiss=ae(this,"ionPopoverWillDismiss",7),this.didDismiss=ae(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.ionMount=ae(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=yy(),this.lockController=qs(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Gi)},this.onLifecycle=e=>{const t=this.usersElement,r=UB[e.type];if(t&&r){const i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:t,el:r,destroyTriggerInteraction:i}=this;if(i&&i(),e===void 0)return;const o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){wt('[ion-popover] - A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=xB(o,t,r)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:t}=this;e&&e(),this.destroyKeyboardInteraction=_B(t)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:t,triggerAction:r,triggerEl:i,el:o}=this;!t||!i||(e&&e(),this.destroyDismissInteraction=vB(i,r,o,t))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:t}=this;Mc(t),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,t;const{el:r}=this,i=(t=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:Bc(r);this.parentPopover=r.closest("ion-popover:not(#".concat(i,")")),this.alignment===void 0&&(this.alignment=pe(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:t}=this;t===!0&&on(()=>this.present()),e&&hy(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,t=!1){this.focusDescendantOnPresent=t,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,r=this.inline=t!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}async present(e){const t=await this.lockController.lock();if(this.presented){t();return}const{el:r}=this,{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Ld(o,r,this.component,["popover-viewport"],this.componentProps,i),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),rd(r)?await id(this.usersElement):this.keepContentsMounted||await TS(),await Pc(this,"popoverEnter",OB,PB,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&ep(r),t()}async dismiss(e,t,r=!0){const i=await this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:a}=this;r&&this.parentPopover&&this.parentPopover.dismiss(e,t,r);const s=await Lc(this,e,t,"popoverLeave",MB,LB,this.event);if(s){o&&(o(),this.destroyKeyboardInteraction=void 0),a&&(a(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await xy(l,this.usersElement)}return i(),s}async getParentPopover(){return this.parentPopover}onDidDismiss(){return ti(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return ti(this.el,"ionPopoverWillDismiss")}render(){const e=pe(this),{onLifecycle:t,parentPopover:r,dismissOnSelect:i,side:o,arrow:a,htmlAttributes:s,focusTrap:l}=this,c=Xr("desktop"),u=a&&!r;return O(Be,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},Un(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(o)]:!0,[od]:l===!1,"popover-nested":!!r}),onIonPopoverDidPresent:t,onIonPopoverWillPresent:t,onIonPopoverWillDismiss:t,onIonPopoverDidDismiss:t,onIonBackdropTap:this.onBackdropTap}),!r&&O("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),O("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:i?()=>this.dismiss():void 0},u&&O("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),O("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},O("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:jB,md:FB}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),UB={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function HB(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,$B);break;case"ion-backdrop":customElements.get(e)||Vs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WB="ION-CONTENT",e5="ion-content",t5=".ion-content-scroll-host",n5="".concat(e5,", ").concat(t5),Ui=n=>n.tagName===WB,cv=async n=>Ui(n)?(await new Promise(e=>yi(n,e)),n.getScrollElement()):n,ip=n=>{const e=n.querySelector(t5);return e||n.querySelector(n5)},op=n=>n.closest(n5),Jre=(n,e)=>Ui(n)?n.scrollToTop(e):Promise.resolve(n.scrollTo({top:0,left:0,behavior:"smooth"})),Qre=(n,e,t,r)=>Ui(n)?n.scrollByPoint(e,t,r):Promise.resolve(n.scrollBy({top:t,left:e,behavior:r>0?"smooth":"auto"})),ap=n=>KO(n,e5),uv=n=>{if(Ui(n)){const e=n,t=e.scrollY;return e.scrollY=!1,t}else return n.style.setProperty("overflow","hidden"),!0},r5=(n,e)=>{Ui(n)?n.scrollY=e:n.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var dv;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(dv||(dv={}));var hv;(function(n){n.Body="body",n.Ionic="ionic",n.Native="native",n.None="none"})(hv||(hv={}));const i5={getEngine(){const n=rp();if(n!=null&&n.isPluginAvailable("Keyboard"))return n.Plugins.Keyboard},getResizeMode(){const n=this.getEngine();return n!=null&&n.getResizeMode?n.getResizeMode().catch(e=>{if(e.code!==dv.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const o5=n=>{if(Ir===void 0||n===hv.None||n===void 0)return null;const e=Ir.querySelector("ion-app");return e!=null?e:Ir.body},Sk=n=>{const e=o5(n);return e===null?0:e.clientHeight},a5=async n=>{let e,t,r,i;const o=async()=>{const u=await i5.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{i===void 0&&(i=Sk(d)),r=!0,a(r,d)},t=()=>{r=!1,a(r,d)},ht==null||ht.addEventListener("keyboardWillShow",e),ht==null||ht.addEventListener("keyboardWillHide",t)},a=(u,d)=>{n&&n(u,s(d))},s=u=>{if(i===0||i===Sk(u))return;const d=o5(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===i&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{ht==null||ht.removeEventListener("keyboardWillShow",e),ht==null||ht.removeEventListener("keyboardWillHide",t),e=t=void 0},c=()=>r;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tk=(n,e)=>{Rs(()=>{const t=n.scrollTop,r=n.scrollHeight-n.clientHeight,i=10,o=r-i,a=t-o,s=Kn(0,1-a/i,1);ur(()=>{e.style.setProperty("--opacity-scale",s.toString())})})},VB="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",qB=VB,GB="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",KB=GB,YB=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(pe(this)!=="ios")return;const{collapse:t}=this,r=t==="fade";if(this.destroyCollapsibleFooter(),r){const i=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=i?ip(i):null;if(!o){ap(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const t=this.scrollEl=await cv(e);this.contentScrollCallback=()=>{Tk(t,this.el)},t.addEventListener("scroll",this.contentScrollCallback),Tk(t,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await a5(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:t}=this,r=pe(this),i=this.el.closest("ion-tabs"),o=i==null?void 0:i.querySelector(":scope > ion-tab-bar");return O(Be,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[r]:!0,["footer-".concat(r)]:!0,"footer-translucent":e,["footer-translucent-".concat(r)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!o||o.slot!=="bottom"),["footer-collapse-".concat(t)]:t!==void 0}},r==="ios"&&e&&O("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),O("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:qB,md:KB}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function XB(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,YB);break}})}const ZB=XB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JB=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",QB=JB,eP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=pe(this);return O(Be,{key:"617127ecfabf9bf615bef1dda1be3fed5a065949",class:{[e]:!0,"grid-fixed":this.fixed}},O("slot",{key:"c781fff853b093d8f44bdb7943bbc4f17c903803"}))}static get style(){return QB}},[1,"ion-grid",{fixed:[4]}]);function tP(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,eP);break}})}const nP=tP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rP="all 0.2s ease-in-out",Ak=n=>{const e=document.querySelector("".concat(n,".ion-cloned-element"));if(e!==null)return e;const t=document.createElement(n);return t.classList.add("ion-cloned-element"),t.style.setProperty("display","none"),document.body.appendChild(t),t},Ik=n=>{if(!n)return;const e=n.querySelectorAll("ion-toolbar");return{el:n,toolbars:Array.from(e).map(t=>{const r=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:r,innerTitleEl:r?r.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}})}},iP=(n,e,t)=>{Rs(()=>{const r=n.scrollTop,i=Kn(1,1+-r/500,1.1);t.querySelector("ion-refresher.refresher-native")===null&&ur(()=>{sP(e.toolbars,i)})})},Ey=(n,e)=>{n.collapse!=="fade"&&(e===void 0?n.style.removeProperty("--opacity-scale"):n.style.setProperty("--opacity-scale",e.toString()))},oP=(n,e,t)=>{if(!n[0].isIntersecting)return;const r=n[0].intersectionRatio>.9||t<=0?0:(1-n[0].intersectionRatio)*100/75;Ey(e.el,r===1?void 0:r)},aP=(n,e,t,r)=>{ur(()=>{const i=r.scrollTop;oP(n,e,i);const o=n[0],a=o.intersectionRect,s=a.width*a.height,l=o.rootBounds.width*o.rootBounds.height,c=s===0&&l===0,u=Math.abs(a.left-o.boundingClientRect.left),d=Math.abs(a.right-o.boundingClientRect.right),h=s>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(mu(e,!1),mu(t)):(a.x===0&&a.y===0||a.width!==0&&a.height!==0)&&i>0&&(mu(e),mu(t,!1),Ey(e.el)))})},mu=(n,e=!0)=>{const t=n.el,i=n.toolbars.map(o=>o.ionTitleEl);e?(t.classList.remove("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.removeAttribute("aria-hidden")})):(t.classList.add("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.setAttribute("aria-hidden","true")}))},sP=(n=[],e=1,t=!1)=>{n.forEach(r=>{const i=r.ionTitleEl,o=r.innerTitleEl;!i||i.size!=="large"||(o.style.transition=t?rP:"",o.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},Rk=(n,e,t)=>{Rs(()=>{const r=n.scrollTop,i=e.clientHeight,o=t?t.clientHeight:0;if(t!==null&&r<o){e.style.setProperty("--opacity-scale","0"),n.style.setProperty("clip-path","inset(".concat(i,"px 0px 0px 0px)"));return}const a=r-o,l=Kn(0,a/10,1);ur(()=>{n.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},lP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",cP=lP,uP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",dP=uP,hP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const r=this.scrollEl=await cv(e);this.contentScrollCallback=()=>{Rk(this.scrollEl,this.el,t)},r.addEventListener("scroll",this.contentScrollCallback),Rk(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=ki(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(pe(this)!=="ios")return;const{collapse:t}=this,r=t==="condense",i=t==="fade";if(this.destroyCollapsibleHeader(),r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=o?ip(o):null;ur(()=>{const s=Ak("ion-title");s.size="large",Ak("ion-back-button")}),await this.setupCondenseHeader(a,o)}else if(i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=o?ip(o):null;if(!a){ap(this.el);return}const s=a.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(a,s)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t){ap(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await cv(e);const r=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(r).find(s=>s.collapse!=="condense"),!this.collapsibleMainHeader)return;const i=Ik(this.collapsibleMainHeader),o=Ik(this.el);if(!i||!o)return;mu(i,!1),Ey(i.el,0);const a=s=>{aP(s,i,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(a,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{iP(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),ur(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:t}=this,r=pe(this),i=this.collapse||"none",o=Mt("ion-menu",this.el)?"none":"banner";return O(Be,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[r]:!0,["header-".concat(r)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(i)]:!0,["header-translucent-".concat(r)]:this.translucent}},t),r==="ios"&&e&&O("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),O("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:cP,md:dP}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function Sy(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,hP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fP=Sy;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pP=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",mP=pP,gP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ae(this,"ionImgWillLoad",7),this.ionImgDidLoad=ae(this,"ionImgDidLoad",7),this.ionError=ae(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=Zi(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:r,loadError:i,inheritedAttributes:o}=this,{draggable:a}=o;return O(Be,{key:"da600442894427dee1974a28e545613afac69fca",class:pe(this)},O("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:t,onLoad:r,onError:i,part:"image",draggable:bP(a)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return mP}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),bP=n=>{switch(n){case"true":return!0;case"false":return!1;default:return}};function vP(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,gP);break}})}const xP=vP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yP={bubbles:{dur:1e3,circles:9,fn:(n,e,t)=>{const r="".concat(n*e/t-n,"ms"),i=2*Math.PI*e/t;return{r:5,style:{top:"".concat(32*Math.sin(i),"%"),left:"".concat(32*Math.cos(i),"%"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:(n,e,t)=>{const r=e/t,i="".concat(n*r-n,"ms"),o=2*Math.PI*r;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,e)=>{const t=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":t}}}},lines:{dur:1e3,lines:8,fn:(n,e,t)=>{const r="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:14,y2:26,style:{transform:r,"animation-delay":i}}}},"lines-small":{dur:1e3,lines:8,fn:(n,e,t)=>{const r="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:r,"animation-delay":i}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,e,t)=>{const r="rotate(".concat(30*e+(e<6?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:17,y2:29,style:{transform:r,"animation-delay":i}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,e,t)=>{const r="rotate(".concat(30*e+(e<6?180:-180),"deg)"),i="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:r,"animation-delay":i}}}}},Dk=yP,wP=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",kP=wP,_P=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||Le.get("spinner"),t=pe(this);return e||(t==="ios"?"lines":"circular")}render(){var e;const t=this,r=pe(t),i=t.getName(),o=(e=Dk[i])!==null&&e!==void 0?e:Dk.lines,a=typeof t.duration=="number"&&t.duration>10?t.duration:o.dur,s=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)s.push(CP(o,a,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)s.push(EP(o,a,l,o.lines));return O(Be,{key:"e0dfa8a3ee2a0469eb31323f506750bd77d65797",class:gt(t.color,{[r]:!0,["spinner-".concat(i)]:!0,"spinner-paused":t.paused||Le.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:a+"ms"}:{}},s)}static get style(){return kP}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),CP=(n,e,t,r)=>{const i=n.fn(e,t,r);return i.style["animation-duration"]=e+"ms",O("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},O("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:n.elmDuration?{animationDuration:e+"ms"}:{}}))},EP=(n,e,t,r)=>{const i=n.fn(e,t,r);return i.style["animation-duration"]=e+"ms",O("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},O("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};function s5(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,_P);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ty=(n,e,t)=>{let r;const i=()=>!(e()===void 0||n.label!==void 0||t()===null),o=()=>{i()&&on(()=>{a()})},a=()=>{const l=e();if(l===void 0)return;if(!i()){l.style.removeProperty("width");return}const c=t().scrollWidth;if(c===0&&l.offsetParent===null&&ht!==void 0&&"IntersectionObserver"in ht){if(r!==void 0)return;const u=r=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(a(),u.disconnect(),r=void 0)},{threshold:.01,root:n});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:o,destroy:()=>{r&&(r.disconnect(),r=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l5=(n,e,t)=>{let r,i;if(ht!==void 0&&"MutationObserver"in ht){const l=Array.isArray(e)?e:[e];r=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){t(),on(()=>o(d));return}}),r.observe(n,{childList:!0,subtree:!0})}const o=l=>{var c;i&&(i.disconnect(),i=void 0),i=new MutationObserver(u=>{t();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&s()}),i.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},a=()=>{r&&(r.disconnect(),r=void 0),s()},s=()=>{i&&(i.disconnect(),i=void 0)};return{destroy:a}},c5=(n,e,t)=>{const r=n==null?0:n.toString().length,i=SP(r,e);if(t===void 0)return i;try{return t(r,e)}catch(o){return ei("[ion-input] - Exception in provided `counterFormatter`:",o),i}},SP=(n,e)=>"".concat(n," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TP=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",AP=TP,IP=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",RP=IP,DP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionInput=ae(this,"ionInput",7),this.ionChange=ae(this,"ionChange",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.inputId="ion-input-".concat(OP++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:im(e,t)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),On(this)}onClickCapture(e){const t=this.nativeInput;t&&e.target===t&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},ki(this.el)),Zi(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=l5(e,["label","start","end"],()=>On(this)),this.notchController=Ty(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>yi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this,r=t==null?t:t.toString();this.ionInput.emit({value:r,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return t===void 0?e==="password":t}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const r=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!r&&(this.value="",this.emitInputChange(e)),r||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[O("div",{id:r,class:"helper-text"},e),O("div",{id:i,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderCounter(){const{counter:e,maxlength:t,counterFormatter:r,value:i}=this;if(!(e!==!0||t===void 0))return O("div",{class:"counter"},c5(i,t,r))}renderBottomContent(){const{counter:e,helperText:t,errorText:r,maxlength:i}=this;if(!(!(t||r)&&!(e===!0&&i!==void 0)))return O("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return O("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?O("slot",{name:"label"}):O("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[O("div",{class:"input-outline-container"},O("div",{class:"input-outline-start"}),O("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},O("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),O("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:t,readonly:r,shape:i,inputId:o,labelPlacement:a,el:s,hasFocus:l,clearInputIcon:c}=this,u=pe(this),d=this.getValue(),h=Mt("ion-item",this.el),f=u==="md"&&t!=="outline"&&!h,p=u==="ios"?WS:VS,m=c!=null?c:p,b=this.hasValue(),g=s.querySelector('[slot="start"], [slot="end"]')!==null,v=a==="stacked"||a==="floating"&&(b||l||g);return O(Be,{key:"1094be43093d71694bf0e503d3015401b8cd9574",class:gt(this.color,{[u]:!0,"has-value":b,"has-focus":l,"label-floating":v,["input-fill-".concat(t)]:t!==void 0,["input-shape-".concat(i)]:i!==void 0,["input-label-placement-".concat(a)]:!0,"in-item":h,"in-item-color":Mt("ion-item.ion-color",this.el),"input-disabled":e})},O("label",{key:"697c6decb1fb8403777db7a37f54853863421ad9",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),O("div",{key:"d35f44c3afcf8e075f7f845416cb8500606d3546",class:"native-wrapper"},O("slot",{key:"41ef868873ffd8262d53fd1a5e506c62030dc3f1",name:"start"}),O("input",Object.assign({key:"d98e0aaa285b5424e9589ce36ed4f9910a6859cd",class:"native-input",ref:x=>this.nativeInput=x,id:o,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:r,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!r&&!e&&O("button",{key:"367d1a1c2eb69d4887fe29ab96ead3230d7dd513","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:x=>{x.preventDefault()},onFocusin:x=>{x.stopPropagation()},onClick:this.clearTextInput},O("ion-icon",{key:"69afc5c7ea6bfa1bff301635281b536e84277965","aria-hidden":"true",icon:m})),O("slot",{key:"6f770a0ab703b4d19e936a0e1955274bc9f3e941",name:"end"})),f&&O("div",{key:"a048e240432c4d5e11b2c92fa99a0cff07f9a778",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:AP,md:RP}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let OP=0;function MP(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,DP);break;case"ion-icon":customElements.get(e)||ni();break}})}const BP=MP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PP="",LP=PP,zP="",jP=zP,NP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type=e.type==="text"?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){if(e!=="text"&&e!=="password"){wt('[ion-input-password-toggle] - Only inputs of type "text" or "password" are supported. Input of type "'.concat(e,'" is not compatible.'),this.el);return}}connectedCallback(){const{el:e}=this,t=this.inputElRef=e.closest("ion-input");if(!t){wt("[ion-input-password-toggle] - No ancestor ion-input found. This component must be slotted inside of an ion-input.",e);return}this.type=t.type}disconnectedCallback(){this.inputElRef=null}render(){var e,t;const{color:r,type:i}=this,o=pe(this),a=(e=this.showIcon)!==null&&e!==void 0?e:b7,s=(t=this.hideIcon)!==null&&t!==void 0?t:v7,l=i==="text";return O(Be,{key:"1a28e078c83e74c72d8bb8189ece93ec2e3fa3d0",class:gt(r,{[o]:!0})},O("ion-button",{key:"039d1bab764093bb6fe4a34299b0872abda087fd",mode:o,color:r,fill:"clear",shape:"round","aria-checked":l?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:c=>{c.preventDefault()},onClick:this.togglePasswordVisibility},O("ion-icon",{key:"26477ee97b808c3d79944bf5e33d4e05f1ae0b3f",slot:"icon-only","aria-hidden":"true",icon:l?s:a})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:LP,md:jP}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);function FP(){if(typeof customElements>"u")return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,NP);break;case"ion-button":customElements.get(e)||Cy();break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}const $P=FP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UP=(n,e,t)=>{if(typeof MutationObserver>"u")return;const r=new MutationObserver(i=>{t(HP(i,e))});return r.observe(n,{childList:!0,subtree:!0}),r},HP=(n,e)=>{let t;return n.forEach(r=>{for(let i=0;i<r.addedNodes.length;i++)t=WP(r.addedNodes[i],e)||t}),t},WP=(n,e)=>{if(n.nodeType!==1)return;const t=n;return(t.tagName===e.toUpperCase()?[t]:Array.from(t.querySelectorAll(e))).find(i=>i.value===t.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VP=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",qP=VP,GP=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",KP=GP,YP=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionColor=ae(this,"ionColor",7),this.ionStyle=ae(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,["label-".concat(t)]:t!==void 0})}render(){const e=this.position,t=pe(this);return O(Be,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:gt(this.color,{[t]:!0,"in-item-color":Mt("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},O("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:qP,md:KP}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function Ay(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,YP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XP=Ay;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ZP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",JP=ZP,QP="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",eL=QP,tL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=pe(this),{lines:t,inset:r}=this;return O(Be,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":r,["list-lines-".concat(t)]:t!==void 0,["list-".concat(e,"-lines-").concat(t)]:t!==void 0}})}get el(){return this}static get style(){return{ios:JP,md:eL}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function um(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,tL);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nL=um;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rL=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",iL=rL,oL=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",aL=oL,sL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,t=pe(this);return O(Be,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:gt(this.color,{[t]:!0,["list-header-lines-".concat(e)]:e!==void 0})},O("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},O("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:iL,md:aL}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function u5(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,sL);break}})}const lL=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",cL=lL,uL=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",dL=uL,hL="cubic-bezier(0.32,0.72,0,1)",fL="cubic-bezier(0.0,0.0,0.2,1)",pL="cubic-bezier(1, 0, 0.68, 0.28)",mL="cubic-bezier(0.4, 0, 0.6, 1)",gL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ae(this,"ionWillOpen",7),this.ionWillClose=ae(this,"ionWillClose",7),this.ionDidOpen=ae(this,"ionDidOpen",7),this.ionDidClose=ae(this,"ionDidClose",7),this.ionMenuChange=ae(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=fy.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=bc(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const r=this.contentEl;r&&(t!==void 0&&r.classList.remove("menu-content-".concat(t)),r.classList.add("menu-content-".concat(e)),r.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=pk(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=Le.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){ei('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&ei('[ion-menu] - The "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),la._register(this),this.menuChanged(),this.gesture=(await Qt(()=>Promise.resolve().then(()=>py),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=ki(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),la._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const t=this.el.closest("ion-split-pane");t!==null&&t===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,Gi))}onKeydown(e){e.key==="Escape"&&this.close(void 0,Gi)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,t){return this.setOpen(!1,e,t)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0,r){return la._setOpen(this,e,t,r)}trapKeyboardFocus(e,t){const r=e.target;if(r)if(this.el.contains(r))this.lastFocus=r;else{const{el:i}=this;ep(i),this.lastFocus===t.activeElement&&av(i)}}async _setOpen(e,t=!0,r){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,r),await this.loadAnimation(),await this.startAnimation(e,t),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,r),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=pk(this.side);if(e===this.width&&this.animation!==void 0&&t===this.isEndSide)return;this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0);const r=this.animation=await la._createAnimation(this.type,this);Le.getBoolean("animated",!0)||r.duration(0),r.fill("both")}async startAnimation(e,t){const r=!e,i=pe(this),o=i==="ios"?hL:fL,a=i==="ios"?pL:mL,s=this.animation.direction(r?"reverse":"normal").easing(r?a:o);t?await s.play():s.play({sync:!0}),s.getDirection()==="reverse"&&s.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:la._getOpenSync()?!1:bL(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,So),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){un(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){un(!1,"isAnimating has to be true");return}const r=Ok(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-r:r)}onEnd(e){if(!this.isAnimating||!this.animation){un(!1,"isAnimating has to be true");return}const t=this._isOpen,r=this.isEndSide,i=Ok(e.deltaX,t,r),o=this.width,a=i/o,s=e.velocityX,l=o/2,c=s>=0&&(s>.2||e.deltaX>l),u=s<=0&&(s<-.2||e.deltaX<-l),d=t?r?c:u:r?u:c;let h=!t&&d;t&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let f=d?.001:-.001;const p=a<0?.01:a;f+=Os([0,0],[.4,0],[.6,1],[1,1],Kn(0,p,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h,So),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-f:f,300)}beforeAnimation(e,t){un(!this.isAnimating,"_before() should not be called while animating"),Xr("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(Mk),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(Bk),this.contentEl&&(this.contentEl.classList.add(Pk),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:t})}afterAnimation(e,t){var r;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(Xr("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((r=document.activeElement)===null||r===void 0?void 0:r.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(Mk),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(Pk),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(Bk),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:t}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,So))}render(){const{type:e,disabled:t,el:r,isPaneVisible:i,inheritedAttributes:o,side:a}=this,s=pe(this);return O(Be,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:gc()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[s]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!t,["menu-side-".concat(a)]:!0,"menu-pane-visible":i,"split-pane-side":Mt("ion-split-pane",r)}},O("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},O("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),O("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:cL,md:dL}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),Ok=(n,e,t)=>Math.max(0,e!==t?-n:n),bL=(n,e,t,r)=>t?e>=n.innerWidth-r:e<=r,Mk="show-menu",Bk="show-backdrop",Pk="menu-content-open";function vL(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,gL);break;case"ion-backdrop":customElements.get(e)||Vs();break}})}const xL=vL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const d5=async n=>{const e=await la.get(n);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yL=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',wL=yL,kL=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',_L=kL,CL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>la.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=ki(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await d5(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:r}=this,i=pe(this),o=Le.get("menuIcon",i==="ios"?x7:y7),a=this.autoHide&&!this.visible,s={type:this.type},l=r["aria-label"]||"menu";return O(Be,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":a?"true":null,class:gt(e,{[i]:!0,button:!0,"menu-button-hidden":a,"menu-button-disabled":t,"in-toolbar":Mt("ion-toolbar",this.el),"in-toolbar-color":Mt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},O("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},s,{disabled:t,class:"button-native",part:"native","aria-label":l}),O("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},O("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},O("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:o,mode:i,lazy:!1,"aria-hidden":"true"}))),i==="md"&&O("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:wL,md:_L}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function EL(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,CL);break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}const SL=EL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TL=":host(.menu-toggle-hidden){display:none}",AL=TL,IL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>la.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await d5(this.menu)}render(){const e=pe(this),t=this.autoHide&&!this.visible;return O(Be,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},O("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return AL}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function RL(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,IL);break}})}const DL=RL,h5=1,f5=2,sp=3;class fv{constructor(e,t){this.component=e,this.params=t,this.state=h5}async init(e){if(this.state=f5,!this.element){const t=this.component;this.element=await Ld(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){un(this.state!==sp,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=sp}}const Lk=(n,e,t)=>!n||n.component!==e?!1:xS(n.params,t),zk=(n,e)=>n?n instanceof fv?n:new fv(n,e):null,OL=n=>n.map(e=>e instanceof fv?e:"component"in e?zk(e.component,e.componentProps===null?void 0:e.componentProps):zk(e,void 0)).filter(e=>e!==null),ML=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",BL=ML,PL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionNavWillChange=ae(this,"ionNavWillChange",3),this.ionNavDidChange=ae(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=pe(this);this.swipeGesture=Le.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Qt(()=>import("./swipe-back-CW0X5PCw.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)bo(e.element,Qg),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,r,i){return this.insert(-1,e,t,r,i)}insert(e,t,r,i,o){return this.insertPages(e,[{component:t,componentProps:r}],i,o)}insertPages(e,t,r,i){return this.queueTrns({insertStart:e,insertViews:t,opts:r},i)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,r){const i={removeStart:-1,removeCount:-1,opts:t};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,r,i){return this.queueTrns({removeStart:e,removeCount:t,opts:r},i)}setRoot(e,t,r,i){return this.setPages([{component:e,componentProps:t}],r,i)}setPages(e,t,r){return t!=null||(t={}),t.animated!==!0&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},r)}setRouteId(e,t,r,i){const o=this.getActiveSync();if(Lk(o,e,t))return Promise.resolve({changed:!1,element:o.element});let a;const s=new Promise(u=>a=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return a({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(r==="root")l=this.setRoot(e,t,c);else{const u=this.views.find(d=>Lk(d,e,t));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):r==="forward"?l=this.push(e,t,Object.assign(Object.assign({},c),{animationBuilder:i})):r==="back"&&(l=this.setRoot(e,t,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,r=t.indexOf(e);return r>0?t[r-1]:void 0}async queueTrns(e,t){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const o=new Promise((a,s)=>{e.resolve=a,e.reject=s});if(e.done=t,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const a=document.querySelector("ion-router");if(a){const s=await a.canTransition();if(s===!1)return!1;if(typeof s=="string")return a.push(s,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),t.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}this.transInstr.length=0,this.fireError(e,t)}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),r=this.getEnteringView(e,t);if(!t&&!r)throw new Error("no views in the stack to be removed");r&&r.state===h5&&await r.init(this.el),this.postViewInit(r,t,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==t;i&&e.opts&&t&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(r==null?void 0:r.animationBuilder)),t.animationBuilder=e.opts.animationBuilder);let o;i?o=await this.transition(r,t,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,r,i;const o=this.views.length;if((t=e.opts)!==null&&t!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){un(e.removeStart!==void 0,"removeView needs removeStart"),un(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const a=e.insertViews;if(!a)return;un(a.length>0,"length can not be zero");const s=OL(a);if(s.length===0)throw new Error("invalid views to insert");for(const l of s){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===sp)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const o=this.views,a=i+e.removeCount;for(let s=o.length-1;s>=0;s--){const l=o[s];if((s<i||s>=a)&&l!==t)return l}}}postViewInit(e,t,r){var i,o,a;un(t||e,"Both leavingView and enteringView are null"),un(r.resolve,"resolve must be valid"),un(r.reject,"reject must be valid");const s=r.opts,{insertViews:l,removeStart:c,removeCount:u}=r;let d;if(c!==void 0&&u!==void 0){un(c>=0,"removeStart can not be negative"),un(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==t&&d.push(p)}(i=s.direction)!==null&&i!==void 0||(s.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(un(h>=0,"final balance can not be negative"),h===0)throw wt("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=r.insertStart;for(const p of l)this.insertViewAt(p,f),f++;r.enteringRequiresTransition&&((a=s.direction)!==null&&a!==void 0||(s.direction="forward"))}if(d&&d.length>0){for(const f of d)bo(f.element,yS),bo(f.element,wS),bo(f.element,Qg);for(const f of d)this.destroyView(f)}}async transition(e,t,r){const i=r.opts,o=i.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,a=pe(this),s=e.element,l=t&&t.element,c=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&Le.getBoolean("animated",!0),enteringEl:s,leavingEl:l},i),{animationBuilder:i.animationBuilder||this.animation||Le.get("navAnimation")}),{hasCompleted:u}=await _S(c);return this.transitionFinish(u,e,t,i)}transitionFinish(e,t,r,i){const o=e?t:r;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:r,direction:i.direction}}insertViewAt(e,t){const r=this.views,i=r.indexOf(e);i>-1?(un(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(t,0,e)):(un(!e.nav,"nav is used"),e.nav=this,r.splice(t,0,e))}removeView(e){un(e.state===f5||e.state===sp,"view state should be loaded or destroyed");const t=this.views,r=t.indexOf(e);un(r>-1,"view must be part of the stack"),r>=0&&t.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,r=t.indexOf(e);for(let i=t.length-1;i>=0;i--){const o=t[i],a=o.element;a&&(i>r?(bo(a,Qg),this.destroyView(o)):i<r&&rv(a,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=Os([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Os([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return O("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return BL}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function LL(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,PL);break}})}const zL=LL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jL=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",NL=jL,FL=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",$L=FL,UL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return O(Be,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:gt(this.color,{[e]:!0})},O("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:NL,md:$L}}},[33,"ion-note",{color:[513]}]);function HL(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,UL);break}})}const WL=HL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pv=(n,e,t)=>typeof t=="function"?t(n,e):typeof t=="string"?n[t]===e[t]:Array.isArray(e)?e.includes(n):n===e,df=(n,e,t)=>n===void 0?!1:Array.isArray(n)?n.some(r=>pv(r,e,t)):pv(n,e,t),VL=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',qL=VL,GL=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',KL=GL,YL=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-rb-".concat(XL++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:t}=this.radioGroup;this.checked=df(t,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:t,disabled:r}=this;r||(t&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),hy(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(vS(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return O("div",{class:"radio-icon",part:"container"},O("div",{class:"radio-inner",part:"mark"}),O("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:t,color:r,el:i,justify:o,labelPlacement:a,hasLabel:s,buttonTabindex:l,alignment:c}=this,u=pe(this),d=Mt("ion-item",i);return O(Be,{key:"8badd4aec277addc0793e14df21f73bb345e99b7",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:gt(r,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":t,["radio-justify-".concat(o)]:o!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(a)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":t?"true":null,tabindex:l},O("label",{key:"8765b847edc93a1b5a16506e155ed03da807bb10",class:"radio-wrapper"},O("div",{key:"3d568a0192a32d4f0b8a920019c79ff02639b5c9",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!s},part:"label"},O("slot",{key:"331f3dc2ce5f6ed8f124fc4560f92e0f7c668a85"})),O("div",{key:"473bd4aaf448753e385f2dda3fddc9f56379aa19",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:qL,md:KL}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let XL=0;function Iy(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,YL);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ZL="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",JL=ZL,QL="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",ez=QL,tz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionChange=ae(this,"ionChange",7),this.ionValueChange=ae(this,"ionValueChange",7),this.inputId="ion-rg-".concat(nz++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const t=this.getRadios(),r=t.find(a=>!a.disabled),i=t.find(a=>a.value===e&&!a.disabled);if(!r&&!i)return;const o=i||r;for(const a of t){const s=a===o?0:-1;a.setButtonTabindex(s)}},this.onClick=e=>{e.preventDefault();const t=e.target&&e.target.closest("ion-radio");if(t&&!t.disabled){const r=this.value,i=t.value;i!==r?(this.value=i,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0,this.helperText=void 0,this.errorText=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const t=this.label=e.querySelector("ion-label");t&&(this.labelId=t.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:t}=this;this.ionChange.emit({value:t,event:e})}onKeydown(e){const t=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const r=this.getRadios().filter(i=>!i.disabled);if(e.target&&r.includes(e.target)){const i=r.findIndex(s=>s===e.target),o=r[i];let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=i===r.length-1?r[0]:r[i+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=i===0?r[r.length-1]:r[i-1]),a&&r.includes(a)&&(a.setFocus(e),t||(this.value=a.value,this.emitValueChange(e))),[" "].includes(e.key)){const s=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:o.value,(s!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(t=>t.tabIndex!==-1);e==null||e.setFocus()}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return O("div",{class:"radio-group-top"},O("div",{id:r,class:"helper-text"},e),O("div",{id:i,class:"error-text"},t))}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}render(){const{label:e,labelId:t,el:r,name:i,value:o}=this,a=pe(this);return Bd(!0,r,i,o,!1),O(Be,{key:"cac92777297029d7fd1b6af264d92850e35dfbba",role:"radiogroup","aria-labelledby":e?t:null,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,onClick:this.onClick,class:a},this.renderHintText(),O("div",{key:"6b5c634dba30d54eedc031b077863f3d6a9d9e9b",class:"radio-group-wrapper"},O("slot",{key:"443edb3ff6f4c59d4c4324c8a19f2d6def47a322"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:JL,md:ez}}},[36,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],helperText:[1,"helper-text"],errorText:[1,"error-text"],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let nz=0;function Ry(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,tz);break}})}function rz(n){return!na(n)||n%1===0?0:n.toString().split(".")[1].length}function iz(n,...e){if(!na(n))return 0;const t=Math.max(...e.map(r=>rz(r)));return Number(n.toFixed(t))}const oz=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:2px;--height:42px}:host(.range-item-start-adjustment){-webkit-padding-start:24px;padding-inline-start:24px}:host(.range-item-end-adjustment){-webkit-padding-end:24px;padding-inline-end:24px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:calc(8px + 0.75rem)}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:calc(8px + 0.75rem)}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  100%,  0) scale(0.01);transform:translate3d(0,  100%,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:0.75rem;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 11px), 0) scale(1);transform:translate3d(0, calc(-100% + 11px), 0) scale(1)}:host(.range-disabled){opacity:0.3}",az=oz,sz=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.26);--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #0054e9);--pin-color:var(--ion-color-primary-contrast, #fff)}::slotted(:not(ion-icon)[slot=start]),::slotted(:not(ion-icon)[slot=end]),.native-wrapper{font-size:0.75rem}:host(.range-item-start-adjustment){-webkit-padding-start:18px;padding-inline-start:18px}:host(.range-item-end-adjustment){-webkit-padding-end:18px;padding-inline-end:18px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:1.75rem}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:1.75rem}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}.range-knob::before{inset-inline-start:0}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.75rem;height:1.75rem;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color)}.range-pin::before{bottom:-1px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}.range-pin::before{inset-inline-start:50%}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 4px), 0) scale(1);transform:translate3d(0, calc(-100% + 4px), 0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',lz=sz,cz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionInput=ae(this,"ionInput",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.ionKnobMoveStart=ae(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=ae(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(uz++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.compareValues=(e,t)=>typeof e=="object"&&typeof t=="object"?e.lower!==t.lower||e.upper!==t.upper:e!==t,this.clampBounds=e=>Kn(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await Qt(()=>Promise.resolve().then(()=>py),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:10,onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:r}=this;let i=this.step;i=i>0?i:1,i=i/(this.max-this.min),t||(i*=-1),e==="A"?this.ratioA=Kn(0,this.ratioA+i,1):this.ratioB=Kn(0,this.ratioB+i,1),this.ionKnobMoveStart.emit({value:r(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:r(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start"}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:im(e,t)}minChanged(e){na(e)||(this.min=0),this.noUpdate||this.updateRatio()}maxChanged(e){na(e)||(this.max=100),this.noUpdate||this.updateRatio()}stepChanged(e){na(e)||(this.step=1)}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(wt("[ion-range] - The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(wt("[ion-range] - The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}valueChanged(e,t){this.compareValues(e,t)&&this.ionInput.emit({value:this.value}),this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=ki(this.el),this.min=na(this.min)?this.min:0,this.max=na(this.max)?this.max:100,this.step=na(this.step)?this.step:1}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.updateRatio(),this.didLoad=!0}connectedCallback(){var e;this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture();const t=op(this.el);this.contentEl=(e=t==null?void 0:t.querySelector(".ion-content-scroll-host"))!==null&&e!==void 0?e:t}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof t=="object"?t:{lower:0,upper:t}:typeof t=="object"?t.upper:t}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(){this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){const{contentEl:t,pressedKnob:r}=this,i=e.currentX;t&&this.pressedKnob===void 0&&(this.initialContentScrollY=uv(t)),r===void 0&&this.setPressedKnob(i),this.update(i)}onEnd(e){var t;const{contentEl:r,initialContentScrollY:i}=this,o=(t=e.currentX)!==null&&t!==void 0?t:e.clientX;this.pressedKnob===void 0&&this.setPressedKnob(o),r&&this.pressedKnob!==void 0&&r5(r,i),this.update(o),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let r=Kn(0,(e-t.left)/t.width,1);To(this.el)&&(r=1-r),this.snaps&&(r=il(i0(r,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=r:this.ratioB=r,this.updateValue()}setPressedKnob(e){const t=this.rect=this.rangeSlider.getBoundingClientRect();let r=Kn(0,(e-t.left)/t.width,1);To(this.el)&&(r=1-r),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-r)<Math.abs(this.ratioB-r)?"A":"B",this.setFocus(this.pressedKnob)}get valA(){return i0(this.ratioA,this.min,this.max,this.step)}get valB(){return i0(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:il(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:r}=this;this.dualKnobs?(this.ratioA=il(e.lower,t,r),this.ratioB=il(e.upper,t,r)):this.ratioA=il(e,t,r)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");t&&t.focus()}}get hasStartSlotContent(){return this.el.querySelector('[slot="start"]')!==null}get hasEndSlotContent(){return this.el.querySelector('[slot="end"]')!==null}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:t,max:r,step:i,handleKeyboard:o,pressedKnob:a,disabled:s,pin:l,ratioLower:c,ratioUpper:u,pinFormatter:d,inheritedAttributes:h}=this;let f="".concat(c*100,"%"),p="".concat(100-u*100,"%");const m=To(this.el),b=m?"right":"left",g=m?"left":"right",v=w=>({[b]:w[b]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(f="".concat(u*100,"%"),p="".concat(100-c*100,"%")):(f="".concat(c*100,"%"),p="".concat(100-u*100,"%")));const x={[b]:f,[g]:p},y=[];if(this.snaps&&this.ticks)for(let w=t;w<=r;w+=i){const E=il(w,t,r),C=Math.min(c,u),S=Math.max(c,u),_={ratio:E,active:E>=C&&E<=S};_[b]="".concat(E*100,"%"),y.push(_)}return O("div",{class:"range-slider",ref:w=>this.rangeSlider=w,onPointerUp:w=>{this.pressedKnob===void 0&&(this.onStart(),this.onEnd(w))}},y.map(w=>O("div",{style:v(w),role:"presentation",class:{"range-tick":!0,"range-tick-active":w.active},part:w.active?"tick-active":"tick"})),O("div",{class:"range-bar-container"},O("div",{class:"range-bar",role:"presentation",part:"bar"}),O("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":y.length>0},role:"presentation",style:x,part:"bar-active"})),jk(m,{knob:"A",pressed:a==="A",value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:d,disabled:s,handleKeyboard:o,min:t,max:r,inheritedAttributes:h}),this.dualKnobs&&jk(m,{knob:"B",pressed:a==="B",value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:d,disabled:s,handleKeyboard:o,min:t,max:r,inheritedAttributes:h}))}render(){const{disabled:e,el:t,hasLabel:r,rangeId:i,pin:o,pressedKnob:a,labelPlacement:s,label:l}=this,c=Mt("ion-item",t),u=r&&(s==="start"||s==="fixed")||this.hasStartSlotContent,d=c&&!u,h=r&&s==="end"||this.hasEndSlotContent,f=c&&!h,p=pe(this);return Bd(!0,t,this.name,JSON.stringify(this.getValue()),e),O(Be,{key:"3e065039ee048f1f70d97dba5dae98fa1315d867",onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:gt(this.color,{[p]:!0,"in-item":c,"range-disabled":e,"range-pressed":a!==void 0,"range-has-pin":o,["range-label-placement-".concat(s)]:!0,"range-item-start-adjustment":d,"range-item-end-adjustment":f})},O("label",{key:"27ff22842c9ea79a1b9495302b926f70c9080a95",class:"range-wrapper",id:"range-label"},O("div",{key:"da1f9784be02dfe87d2fef34931d8b7f2148189e",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!r},part:"label"},l!==void 0?O("div",{class:"label-text"},l):O("slot",{name:"label"})),O("div",{key:"4389bf30b08214f5b5917fc30976b38f7bcdd29b",class:"native-wrapper"},O("slot",{key:"ad1b2745f8b061ee189617bb5c567e4f1d02250c",name:"start"}),this.renderRangeSlider(),O("slot",{key:"c6dec9e843e232af2a5f16a0f8ee56439c545d7a",name:"end"}))))}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:az,md:lz}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],ratioA:[32],ratioB:[32],pressedKnob:[32]},void 0,{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}]),jk=(n,{knob:e,value:t,ratio:r,min:i,max:o,disabled:a,pressed:s,pin:l,handleKeyboard:c,pinFormatter:u,inheritedAttributes:d})=>{const h=n?"right":"left",f=()=>{const m={};return m[h]="".concat(r*100,"%"),m},p=d["aria-label"];return O("div",{onKeyDown:m=>{const b=m.key;b==="ArrowLeft"||b==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(b==="ArrowRight"||b==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":s,"range-knob-min":t===i,"range-knob-max":t===o,"ion-activatable":!0,"ion-focusable":!0},style:f(),role:"slider",tabindex:a?-1:0,"aria-label":p!==void 0?p:null,"aria-labelledby":p===void 0?"range-label":null,"aria-valuemin":i,"aria-valuemax":o,"aria-disabled":a?"true":null,"aria-valuenow":t},l&&O("div",{class:"range-pin",role:"presentation",part:"pin"},u(t)),O("div",{class:"range-knob",role:"presentation",part:"knob"}))},i0=(n,e,t,r)=>{let i=(t-e)*n;r>0&&(i=Math.round(i/r)*r+e);const o=Kn(e,i,t);return iz(o,e,t,r)},il=(n,e,t)=>Kn(0,(n-e)/(t-e),1);let uz=0;function dz(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,cz);break}})}const hz=dz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fz=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",pz=fz,mz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return O(Be,{key:"a690022e2abdce6946d24264574e4aa0886a8ea5",class:pe(this)},O("slot",{key:"d1a0e831dd1dbfe7877d3ad01d0a3045a5fb29e3"}))}static get style(){return pz}},[1,"ion-row"]);function gz(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,mz);break}})}const bz=gz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vz=".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",xz=vz,yz=".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}",wz=yz,kz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionInput=ae(this,"ionInput",7),this.ionChange=ae(this,"ionChange",7),this.ionCancel=ae(this,"ionCancel",7),this.ionClear=ae(this,"ionClear",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.ionStyle=ae(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-".concat(_z++),this.inheritedAttributes={},this.onClearInput=async e=>(this.ionClear.emit(),new Promise(t=>{setTimeout(()=>{const r=this.getValue();r!==""&&(this.value="",this.emitInputChange(),e&&!this.focused&&(this.setFocus(),this.focusedValue=r)),t()},16*4)})),this.onCancelSearchbar=async e=>{e&&(e.preventDefault(),e.stopPropagation()),this.ionCancel.emit();const t=this.getValue(),r=this.focused;await this.onClearInput(),t&&!r&&this.emitValueChange(e),this.nativeInput&&this.nativeInput.blur()},this.onInput=e=>{const t=e.target;t&&(this.value=t.value),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(e),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=Le.get("backButtonIcon",HS),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:e}),On(this)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),On(this)}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:im(e,t)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&(e.value=t)}showCancelButtonChanged(){requestAnimationFrame(()=>{this.positionElements(),On(this)})}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},Zi(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout(()=>{this.noAnimate=!1},300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>yi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this;this.ionInput.emit({value:t,event:e})}positionElements(){const e=this.getValue(),t=this.shouldAlignLeft,r=pe(this),i=!this.animated||e.trim()!==""||!!this.focused;this.shouldAlignLeft=i,r==="ios"&&(t!==i&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const e=this.nativeInput;if(!e)return;const t=To(this.el),r=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)e.removeAttribute("style"),r.removeAttribute("style");else{const i=document,o=i.createElement("span");o.innerText=this.placeholder||"",i.body.appendChild(o),on(()=>{const a=o.offsetWidth;o.remove();const s="calc(50% - "+a/2+"px)",l="calc(50% - "+(a/2+r.clientWidth+8)+"px)";t?(e.style.paddingRight=s,r.style.marginRight=l):(e.style.paddingLeft=s,r.style.marginLeft=l)})}}positionCancelButton(){const e=To(this.el),t=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),r=this.shouldShowCancelButton();if(t!==null&&r!==this.isCancelVisible){const i=t.style;if(this.isCancelVisible=r,r)e?i.marginLeft="0":i.marginRight="0";else{const o=t.offsetWidth;o>0&&(e?i.marginLeft=-o+"px":i.marginRight=-o+"px")}}}getValue(){return this.value||""}hasValue(){return this.getValue()!==""}shouldShowCancelButton(){return!(this.showCancelButton==="never"||this.showCancelButton==="focus"&&!this.focused)}shouldShowClearButton(){return!(this.showClearButton==="never"||this.showClearButton==="focus"&&!this.focused)}render(){const{cancelButtonText:e,autocapitalize:t}=this,r=this.animated&&Le.getBoolean("animated",!0),i=pe(this),o=this.clearIcon||(i==="ios"?WS:VS),a=this.searchIcon||(i==="ios"?w7:k7),s=this.shouldShowCancelButton(),l=this.showCancelButton!=="never"&&O("button",{key:"989f3e84c472ada6e66dd9b249d0d268bf17ce26","aria-label":e,"aria-hidden":s?void 0:"true",type:"button",tabIndex:i==="ios"&&!s?-1:void 0,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},O("div",{key:"7d335d4fde33822dc79d26b748ba2e98db7494bb","aria-hidden":"true"},i==="md"?O("ion-icon",{"aria-hidden":"true",mode:i,icon:this.cancelButtonIcon,lazy:!1}):e));return O(Be,{key:"d1a1972725e949fb102c91487aaa7b9d10c2d718",role:"search","aria-disabled":this.disabled?"true":null,class:gt(this.color,{[i]:!0,"searchbar-animated":r,"searchbar-disabled":this.disabled,"searchbar-no-animate":r&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},O("div",{key:"add53640b2994cb6b2bf02792dafe51aba6b1684",class:"searchbar-input-container"},O("input",Object.assign({key:"160cc36459a4a652e7f41ccd14dcdc782278779e","aria-label":"search text",disabled:this.disabled,ref:c=>this.nativeInput=c,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:t==="default"?void 0:t,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),i==="md"&&l,O("ion-icon",{key:"8825fd13af0d2dea451ccc0e00ae7b5021dc01c4","aria-hidden":"true",mode:i,icon:a,lazy:!1,class:"searchbar-search-icon"}),O("button",{key:"8a7b56da278b9ca5c4f5a4ee9c01924fd5ae29d8","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:c=>{c.preventDefault()},onClick:()=>this.onClearInput(!0)},O("ion-icon",{key:"24c55274516ab012d8c25f03525c6cdb9409e52f","aria-hidden":"true",mode:i,icon:o,lazy:!1,class:"searchbar-clear-icon"}))),i==="ios"&&l)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:xz,md:wz}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);let _z=0;function Cz(){if(typeof customElements>"u")return;["ion-searchbar","ion-icon"].forEach(e=>{switch(e){case"ion-searchbar":customElements.get(e)||customElements.define(e,kz);break;case"ion-icon":customElements.get(e)||ni();break}})}const Ez=Cz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const p5=(n,e)=>{let t,r;const i=(s,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(s,l);if(!u||!e(u)||u.disabled){a();return}u!==t&&(a(),o(u,c))},o=(s,l)=>{t=s,r||(r=t);const c=t;ur(()=>c.classList.add("ion-activated")),l()},a=(s=!1)=>{if(!t)return;const l=t;ur(()=>l.classList.remove("ion-activated")),s&&r!==t&&t.click(),t=void 0};return Pd({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:s=>i(s.currentX,s.currentY,pB),onMove:s=>i(s.currentX,s.currentY,mB),onEnd:()=>{a(!0),gB(),r=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([t,r])},Tz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([t,r])},Az=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([t,r])},Iz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(n).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([t,r])},Rz='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',Dz=Rz,Oz='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',Mz=Oz,Bz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionActionSheetDidPresent",7),this.willPresent=ae(this,"ionActionSheetWillPresent",7),this.willDismiss=ae(this,"ionActionSheetWillDismiss",7),this.didDismiss=ae(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=lm(this),this.lockController=qs(),this.triggerController=Nd(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Gi)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Bs(t)){const r=this.getButtons().find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Pc(this,"actionSheetEnter",Sz,Az),e()}async dismiss(e,t){const r=await this.lockController.lock(),i=await Lc(this,e,t,"actionSheetLeave",Tz,Iz);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return ti(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return ti(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const t=e.role;return Bs(t)?this.dismiss(e.data,t):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await _s(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){Mc(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Bc(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:t}=this;!this.gesture&&pe(this)==="ios"&&t&&e&&Rs(()=>{e.scrollHeight>e.clientHeight||(this.gesture=p5(t,i=>i.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&on(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:t,overlayIndex:r}=this,i=pe(this),o=this.getButtons(),a=o.find(c=>c.role==="cancel"),s=o.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(r,"-header");return O(Be,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},t,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[i]:!0},Un(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),O("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),O("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),O("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},O("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},O("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&O("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&O("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),s.map(c=>O("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:Nk(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),O("span",{class:"action-sheet-button-inner"},c.icon&&O("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),i==="md"&&O("ion-ripple-effect",null)))),a&&O("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},O("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},a.htmlAttributes,{type:"button",class:Nk(a),onClick:()=>this.buttonClick(a)}),O("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},a.icon&&O("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:a.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),a.text),i==="md"&&O("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),O("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Dz,md:Mz}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Nk=n=>Object.assign({"action-sheet-button":!0,"ion-activatable":!n.disabled,"ion-focusable":!n.disabled,["action-sheet-".concat(n.role)]:n.role!==void 0},Un(n.cssClass));function m5(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,Bz);break;case"ion-backdrop":customElements.get(e)||Vs();break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},Lz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},zz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,r])},jz=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,r])},Nz=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",Fz=Nz,$z=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",Uz=$z,Hz=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionAlertDidPresent",7),this.willPresent=ae(this,"ionAlertWillPresent",7),this.willDismiss=ae(this,"ionAlertWillDismiss",7),this.didDismiss=ae(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=lm(this),this.lockController=qs(),this.triggerController=Nd(),this.customHTMLEnabled=Le.get("innerHTMLTemplatesEnabled",by),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Gi)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Bs(t)){const r=this.processedButtons.find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}onKeydown(e){var t;const r=new Set(this.processedInputs.map(l=>l.type));if(r.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(e.target.classList.contains("alert-wrapper")&&e.key==="Tab"&&e.shiftKey){e.preventDefault(),((t=this.wrapperEl)===null||t===void 0?void 0:t.querySelector(".alert-button:last-child")).focus();return}if(!r.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),o=Array.from(i).filter(l=>!l.disabled),a=o.findIndex(l=>l.id===e.target.id);let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=a===o.length-1?o[0]:o[a+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=a===0?o[o.length-1]:o[a-1]),s&&o.includes(s)){const l=this.processedInputs.find(c=>c.id===(s==null?void 0:s.id));l&&(this.rbClick(l),s.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(t=>typeof t=="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":void 0}:t)}inputsChanged(){const e=this.inputs,t=e.find(a=>!a.disabled),i=e.find(a=>a.checked&&!a.disabled)||t,o=new Set(e.map(a=>a.type));o.has("checkbox")&&o.has("radio")&&wt("[ion-alert] - Alert cannot mix input types: ".concat(Array.from(o.values()).join("/"),". Please see alert docs for more info.")),this.inputType=o.values().next().value,this.processedInputs=e.map((a,s)=>{var l;return{type:a.type||"text",name:a.name||"".concat(s),placeholder:a.placeholder||"",value:a.value,label:a.label,checked:!!a.checked,disabled:!!a.disabled,id:a.id||"alert-input-".concat(this.overlayIndex,"-").concat(s),handler:a.handler,min:a.min,max:a.max,cssClass:(l=a.cssClass)!==null&&l!==void 0?l:"",attributes:a.attributes||{},tabindex:a.type==="radio"&&a!==i?-1:0}})}connectedCallback(){Mc(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Bc(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&pe(this)==="ios"&&this.wrapperEl&&(this.gesture=p5(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&on(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Pc(this,"alertEnter",Pz,zz).then(()=>{var t,r;this.buttons.length===1&&this.inputs.length===0?((t=this.wrapperEl)===null||t===void 0?void 0:t.querySelector(".alert-button")).focus():(r=this.wrapperEl)===null||r===void 0||r.focus()}),e()}async dismiss(e,t){const r=await this.lockController.lock(),i=await Lc(this,e,t,"alertLeave",Lz,jz);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return ti(this.el,"ionAlertDidDismiss")}onWillDismiss(){return ti(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,_s(e.handler,e),On(this)}cbClick(e){e.checked=!e.checked,_s(e.handler,e),On(this)}async buttonClick(e){const t=e.role,r=this.getValues();if(Bs(t))return this.dismiss({values:r},t);const i=await this.callButtonHandler(e,r);return i!==!1?this.dismiss(Object.assign({values:r},i),e.role):!1}async callButtonHandler(e,t){if(e!=null&&e.handler){const r=await _s(e.handler,t);if(r===!1)return!1;if(typeof r=="object")return r}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const t=this.processedInputs.find(r=>!!r.checked);return t?t.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(t=>t.checked).map(t=>t.value);const e={};return this.processedInputs.forEach(t=>{e[t.name]=t.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=pe(this);return e.length===0?null:O("div",{class:"alert-checkbox-group"},e.map(r=>O("button",{type:"button",onClick:()=>this.cbClick(r),"aria-checked":"".concat(r.checked),id:r.id,disabled:r.disabled,tabIndex:r.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Un(r.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":r.disabled||!1})},O("div",{class:"alert-button-inner"},O("div",{class:"alert-checkbox-icon"},O("div",{class:"alert-checkbox-inner"})),O("div",{class:"alert-checkbox-label"},r.label)),t==="md"&&O("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:O("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(t=>O("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":"".concat(t.checked),disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},Un(t.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},O("div",{class:"alert-button-inner"},O("div",{class:"alert-radio-icon"},O("div",{class:"alert-radio-inner"})),O("div",{class:"alert-radio-label"},t.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:O("div",{class:"alert-input-group"},e.map(t=>{var r,i,o,a;return t.type==="textarea"?O("div",{class:"alert-input-wrapper"},O("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(i=(r=t.attributes)===null||r===void 0?void 0:r.disabled)!==null&&i!==void 0?i:t.disabled,class:Fk(t),onInput:s=>{var l;t.value=s.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(s)}}))):O("div",{class:"alert-input-wrapper"},O("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(a=(o=t.attributes)===null||o===void 0?void 0:o.disabled)!==null&&a!==void 0?a:t.disabled,class:Fk(t),onInput:s=>{var l;t.value=s.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(s)}})))}))}renderAlertButtons(){const e=this.processedButtons,t=pe(this),r={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return O("div",{class:r},e.map(i=>O("button",Object.assign({},i.htmlAttributes,{type:"button",id:i.id,class:Wz(i),tabIndex:0,onClick:()=>this.buttonClick(i)}),O("span",{class:"alert-button-inner"},i.text),t==="md"&&O("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:r}=this;return t?O("div",{id:e,class:"alert-message",innerHTML:gy(r)}):O("div",{id:e,class:"alert-message"},r)}render(){const{overlayIndex:e,header:t,subHeader:r,message:i,htmlAttributes:o}=this,a=pe(this),s="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-msg"),c="alert-".concat(e,"-sub-hdr"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=t&&r?"".concat(s," ").concat(c):t?s:r?c:null;return O(Be,{key:"f8ee04fe6a97a2585b302c8e1a9eea3b122e3479",tabindex:"-1",style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},Un(this.cssClass)),{[a]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap},O("ion-backdrop",{key:"e9592e879f51c27ef20016beec12c986be632cf3",tappable:this.backdropDismiss}),O("div",{key:"5e9425c3c8acdea6f8006389689c73220e2ce423",tabindex:"0","aria-hidden":"true"}),O("div",Object.assign({key:"615465703e357619681fc36ed7276591a6fe3787",class:"alert-wrapper ion-overlay-wrapper",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":i!==void 0?l:null,tabindex:"0",ref:h=>this.wrapperEl=h},o),O("div",{key:"934eba3759456cd4660e10f274edc7859f908461",class:"alert-head"},t&&O("h2",{key:"7d5d98d71f81f59a2cba227121b6fa01e6cc53b6",id:s,class:"alert-title"},t),r&&!t&&O("h2",{key:"e5f5d35748c58a98ee933eb15cb1dcaf8113e9a7",id:c,class:"alert-sub-title"},r),r&&t&&O("h3",{key:"a5cb89ca02bfa9c4828e694cb0835493a9088b05",id:c,class:"alert-sub-title"},r)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),O("div",{key:"cacffc31c911882df73e6845d15c8bb2d4acab56",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:Fz,md:Uz}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),Fk=n=>{var e,t,r;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((t=(e=n.attributes)===null||e===void 0?void 0:e.disabled)!==null&&t!==void 0?t:n.disabled)||!1},Un(n.cssClass)),Un(n.attributes?(r=n.attributes.class)===null||r===void 0?void 0:r.toString():""))},Wz=n=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(n.role)]:n.role!==void 0},Un(n.cssClass));function g5(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Hz);break;case"ion-backdrop":customElements.get(e)||Vs();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',qz=Vz,Gz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',Kz=Gz,b5=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=yk,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:t}=this;t===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,r=e.detail,i={},o=this.itemStyles.get(t)||{};let a=!1;Object.keys(r).forEach(s=>{if(r[s]){const l="item-".concat(s);o[l]||(a=!0),i[l]=!0}}),!a&&Object.keys(i).length!==Object.keys(o).length&&(a=!0),a&&(this.itemStyles.set(t,i),On(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Zi(this.el,["aria-label"])}componentDidLoad(){on(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),r=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+r.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:t,download:r,labelColorStyles:i,lines:o,disabled:a,href:s,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:f}=this,p={},m=pe(this),b=this.isClickable(),g=this.canActivate(),v=b?s===void 0?"button":"a":"div",x=v==="button"?{type:this.type}:{download:r,href:s,rel:l,target:c};let y={};const w=this.getFirstInteractive();(b||w!==void 0&&!f)&&(y={onClick:A=>{if(b&&am(s,A,d,u),w!==void 0&&!f){const I=A.composedPath()[0];A.isTrusted&&this.el.shadowRoot.contains(I)&&((w.tagName==="ION-INPUT"||w.tagName==="ION-TEXTAREA")&&w.setFocus(),w.click(),A.stopImmediatePropagation())}}});const E=e!==void 0?e:m==="ios"&&b;this.itemStyles.forEach(A=>{Object.assign(p,A)});const C=a||p["item-interactive-disabled"]?"true":null,S=Mt("ion-list",this.el)&&!Mt("ion-radio-group",this.el),_=w!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return O(Be,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":C,class:Object.assign(Object.assign(Object.assign({},p),i),gt(this.color,{item:!0,[m]:!0,"item-lines-default":o===void 0,["item-lines-".concat(o)]:o!==void 0,"item-control-needs-pointer-cursor":_,"item-disabled":a,"in-list":S,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:S?"listitem":null},O(v,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},x,h,{class:"item-native",part:"native",disabled:a},y),O("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),O("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},O("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},O("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),O("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),E&&O("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:t,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":t===yk})),g&&m==="md"&&O("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:qz,md:Kz}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function Dy(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,b5);break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lp="ionKeyboardDidShow",v5="ionKeyboardDidHide",Yz=150;let cp={},Ao={},zc=!1;const Xz=()=>{cp={},Ao={},zc=!1},Zz=n=>{if(i5.getEngine())Jz(n);else{if(!n.visualViewport)return;Ao=Py(n.visualViewport),n.visualViewport.onresize=()=>{w5(n),x5()||y5(n)?Oy(n):By(n)&&My(n)}}},Jz=n=>{n.addEventListener("keyboardDidShow",e=>Oy(n,e)),n.addEventListener("keyboardDidHide",()=>My(n))},Oy=(n,e)=>{Qz(n,e),zc=!0},My=n=>{ej(n),zc=!1},x5=()=>{const n=(cp.height-Ao.height)*Ao.scale;return!zc&&cp.width===Ao.width&&n>Yz},y5=n=>zc&&!By(n),By=n=>zc&&Ao.height===n.innerHeight,Qz=(n,e)=>{const t=e?e.keyboardHeight:n.innerHeight-Ao.height,r=new CustomEvent(lp,{detail:{keyboardHeight:t}});n.dispatchEvent(r)},ej=n=>{const e=new CustomEvent(v5);n.dispatchEvent(e)},w5=n=>{cp=Object.assign({},Ao),Ao=Py(n.visualViewport)},Py=n=>({width:Math.round(n.width),height:Math.round(n.height),offsetTop:n.offsetTop,offsetLeft:n.offsetLeft,pageTop:n.pageTop,pageLeft:n.pageLeft,scale:n.scale}),tj=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:v5,KEYBOARD_DID_OPEN:lp,copyVisualViewport:Py,keyboardDidClose:By,keyboardDidOpen:x5,keyboardDidResize:y5,resetKeyboardAssist:Xz,setKeyboardClose:My,setKeyboardOpen:Oy,startKeyboardAssist:Zz,trackViewportChanges:w5},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var vc;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(vc||(vc={}));const Ly={getEngine(){const n=rp();if(n!=null&&n.isPluginAvailable("StatusBar"))return n.Plugins.StatusBar},setStyle(n){const e=this.getEngine();e&&e.setStyle(n)},getStyle:async function(){const n=this.getEngine();if(!n)return vc.Default;const{style:e}=await n.getInfo();return e}},mv=(n,e)=>{if(e===1)return 0;const t=1/(1-e),r=-(e*t);return n*t+r},k5=()=>{!ht||ht.innerWidth>=768||Ly.setStyle({style:vc.Dark})},gv=(n=vc.Default)=>{!ht||ht.innerWidth>=768||Ly.setStyle({style:n})},_5=async(n,e)=>{typeof n.canDismiss!="function"||!await n.canDismiss(void 0,So)||(e.isRunning()?e.onFinish(()=>{n.dismiss(void 0,"handler")},{oneTimeCallback:!0}):n.dismiss(void 0,"handler"))},bv=n=>.00255275*2.71828**(-14.9619*n)-1.00255*2.71828**(-.0380968*n)+1,up={MIN_PRESENTING_SCALE:.915},nj=(n,e,t,r)=>{const o=n.offsetHeight;let a=!1,s=!1,l=null,c=null;const u=.2;let d=!0,h=0;const f=()=>l&&Ui(l)?l.scrollY:!0,v=Pd({el:n,gestureName:"modalSwipeToClose",gesturePriority:$S,direction:"y",threshold:10,canStart:x=>{const y=x.event.target;return y===null||!y.closest?!0:(l=op(y),l?(Ui(l)?c=Nt(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):y.closest("ion-footer")===null)},onStart:x=>{const{deltaY:y}=x;d=f(),s=n.canDismiss!==void 0&&n.canDismiss!==!0,y>0&&l&&uv(l),e.progressStart(!0,a?1:0)},onMove:x=>{const{deltaY:y}=x;y>0&&l&&uv(l);const w=x.deltaY/o,E=w>=0&&s,C=E?u:.9999,S=E?bv(w/C):w,_=Kn(1e-4,S,C);e.progressStep(_),_>=.5&&h<.5?gv(t):_<.5&&h>=.5&&k5(),h=_},onEnd:x=>{const y=x.velocityY,w=x.deltaY/o,E=w>=0&&s,C=E?u:.9999,S=E?bv(w/C):w,_=Kn(1e-4,S,C),A=(x.deltaY+y*1e3)/o,D=!E&&A>=.5;let I=D?-.001:.001;D?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),I+=Os([0,0],[.32,.72],[0,1],[1,1],_)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),I+=Os([0,0],[1,0],[.68,.28],[1,1],_)[0]);const M=$k(D?w*o:(1-_)*o,y);a=D,v.enable(!1),l&&r5(l,d),e.onFinish(()=>{D||v.enable(!0)}).progressEnd(D?1:0,I,M),E&&_>C/4?_5(n,e):D&&r()}});return v},$k=(n,e)=>Kn(400,n/Math.abs(e*1.1),500),C5=n=>{const{currentBreakpoint:e,backdropBreakpoint:t,expandToScroll:r}=n,i=t===void 0||t<e,o=i?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",a=ge("backdropAnimation").fromTo("opacity",0,o);i&&a.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const s=ge("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),l=r?void 0:ge("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-e)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(e*100,"%")}]);return{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}},E5=n=>{const{currentBreakpoint:e,backdropBreakpoint:t}=n,r="calc(var(--backdrop-opacity) * ".concat(mv(e,t),")"),i=[{offset:0,opacity:r},{offset:1,opacity:0}],o=[{offset:0,opacity:r},{offset:t,opacity:0},{offset:1,opacity:0}],a=ge("backdropAnimation").keyframes(t!==0?o:i);return{wrapperAnimation:ge("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:a}},rj=()=>{const n=ge().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=ge().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:n,wrapperAnimation:e,contentAnimation:void 0}},Uk=(n,e)=>{const{presentingEl:t,currentBreakpoint:r,expandToScroll:i}=e,o=Nt(n),{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}=r!==void 0?C5(e):rj();s.addElement(o.querySelector("ion-backdrop")),a.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!i&&(l==null||l.addElement(n.querySelector(".ion-page")));const c=ge("entering-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([a]).beforeAddWrite(()=>{if(i)return;const u=n.querySelector("ion-footer"),d=n.shadowRoot.querySelector("ion-footer");if(u&&!d){const h=u.clientHeight,f=u.cloneNode(!0);n.shadowRoot.appendChild(f),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(h,"px"))}});if(l&&c.addAnimation(l),t){const u=window.innerWidth<768,d=t.tagName==="ION-MODAL"&&t.presentingElement!==void 0,h=Nt(t),f=ge().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=up.MIN_PRESENTING_SCALE,v="translateY(".concat(b,") scale(").concat(g,")");f.afterStyles({transform:v}).beforeAddWrite(()=>p.style.setProperty("background-color","black")).addElement(t).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"}]),c.addAnimation(f)}else if(c.addAnimation(s),!d)a.fromTo("opacity","0","1");else{const m=d?up.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.afterStyles({transform:b}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=ge().afterStyles({transform:b}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);c.addAnimation([f,g])}}else c.addAnimation(s);return c},ij=()=>{const n=ge().fromTo("opacity","var(--backdrop-opacity)",0),e=ge().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:n,wrapperAnimation:e}},Hk=(n,e,t=500)=>{const{presentingEl:r,currentBreakpoint:i,expandToScroll:o}=e,a=Nt(n),{wrapperAnimation:s,backdropAnimation:l}=i!==void 0?E5(e):ij();l.addElement(a.querySelector("ion-backdrop")),s.addElement(a.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const c=ge("leaving-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(t).addAnimation(s).beforeAddWrite(()=>{if(o)return;const u=n.querySelector("ion-footer");if(u){const d=n.shadowRoot.querySelector("ion-footer");u.style.removeProperty("display"),u.removeAttribute("aria-hidden"),d.style.setProperty("display","none"),d.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(r){const u=window.innerWidth<768,d=r.tagName==="ION-MODAL"&&r.presentingElement!==void 0,h=Nt(r),f=ge().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(m=>{if(m!==1)return;r.style.setProperty("overflow",""),Array.from(p.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(g=>g.presentingElement!==void 0).length<=1&&p.style.setProperty("background-color","")}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=up.MIN_PRESENTING_SCALE,v="translateY(".concat(b,") scale(").concat(g,")");f.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(f)}else if(c.addAnimation(l),!d)s.fromTo("opacity","1","0");else{const m=d?up.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.addElement(h.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:b},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const g=ge().addElement(h.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:b},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([f,g])}}else c.addAnimation(l);return c},oj=()=>{const n=ge().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=ge().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:n,wrapperAnimation:e,contentAnimation:void 0}},aj=(n,e)=>{const{currentBreakpoint:t,expandToScroll:r}=e,i=Nt(n),{wrapperAnimation:o,backdropAnimation:a,contentAnimation:s}=t!==void 0?C5(e):oj();a.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),r&&(s==null||s.addElement(n.querySelector(".ion-page")));const l=ge().addElement(n).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,o]).beforeAddWrite(()=>{if(r)return;const c=n.querySelector("ion-footer"),u=n.shadowRoot.querySelector("ion-footer");if(c&&!u){const d=c.clientHeight,h=c.cloneNode(!0);n.shadowRoot.appendChild(h),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(d,"px"))}});return s&&l.addAnimation(s),l},sj=()=>{const n=ge().fromTo("opacity","var(--backdrop-opacity)",0),e=ge().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:n,wrapperAnimation:e}},lj=(n,e)=>{const{currentBreakpoint:t,expandToScroll:r}=e,i=Nt(n),{wrapperAnimation:o,backdropAnimation:a}=t!==void 0?E5(e):sj();return a.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),ge().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,o]).beforeAddWrite(()=>{if(r)return;const l=n.querySelector("ion-footer");if(l){const c=n.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),n.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},cj=(n,e,t,r,i,o,a=[],s,l,c,u)=>{const d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-i,opacity:0},{offset:1,opacity:0}],f={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:i!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},p=n.querySelector("ion-content"),m=t.clientHeight;let b=r,g=0,v=!1,x=null;const y=.95,w=a[a.length-1],E=a[0],C=o.childAnimations.find(P=>P.id==="wrapperAnimation"),S=o.childAnimations.find(P=>P.id==="backdropAnimation"),_=o.childAnimations.find(P=>P.id==="contentAnimation"),A=()=>{n.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),n.classList.remove(od)},D=()=>{n.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),n.classList.add(od)},I=P=>{const $=n.querySelector("ion-footer");if(!$)return;const F=t.nextElementSibling,N=P==="original"?F:$,ee=P==="original"?$:F;ee.style.removeProperty("display"),ee.removeAttribute("aria-hidden");const X=n.querySelector(".ion-page");if(P==="original")X.style.removeProperty("padding-bottom");else{const J=ee.clientHeight;X.style.setProperty("padding-bottom","".concat(J,"px"))}N.style.setProperty("display","none"),N.setAttribute("aria-hidden","true")};C&&S&&(C.keyframes([...f.WRAPPER_KEYFRAMES]),S.keyframes([...f.BACKDROP_KEYFRAMES]),_==null||_.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-b),b>i?A():D()),p&&b!==w&&s&&(p.scrollY=!1);const M=P=>{const $=op(P.event.target);if(b=l(),!s&&$)return(Ui($)?Nt($).querySelector(".inner-scroll"):$).scrollTop===0;if(b===1&&$){const F=Ui($)?Nt($).querySelector(".inner-scroll"):$;return!!!$.querySelector("ion-refresher")&&F.scrollTop===0}return!0},T=P=>{if(v=n.canDismiss!==void 0&&n.canDismiss!==!0&&E===0,!s){const $=op(P.event.target);x=$&&Ui($)?Nt($).querySelector(".inner-scroll"):$}s||I("original"),P.deltaY>0&&p&&(p.scrollY=!1),on(()=>{n.focus()}),o.progressStart(!0,1-b)},B=P=>{if(!s&&P.deltaY<=0&&x)return;P.deltaY>0&&p&&(p.scrollY=!1);const $=1-b,F=a.length>1?1-a[1]:void 0,N=$+P.deltaY/m,ee=F!==void 0&&N>=F&&v,X=ee?y:.9999,J=ee&&F!==void 0?F+bv((N-F)/(X-F)):N;g=Kn(1e-4,J,X),o.progressStep(g)},L=P=>{if(!s&&P.deltaY<=0&&x&&x.scrollTop>0)return;const $=P.velocityY,F=(P.deltaY+$*350)/m,N=b-F,ee=a.reduce((X,J)=>Math.abs(J-N)<Math.abs(X-N)?J:X);z({breakpoint:ee,breakpointOffset:g,canDismiss:v,animated:!0})},z=P=>{const{breakpoint:$,canDismiss:F,breakpointOffset:N,animated:ee}=P,X=F&&$===0,J=X?b:$,be=J!==0;return b=0,C&&S&&(C.keyframes([{offset:0,transform:"translateY(".concat(N*100,"%)")},{offset:1,transform:"translateY(".concat((1-J)*100,"%)")}]),S.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(mv(1-N,i),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(mv(J,i),")")}]),_&&_.keyframes([{offset:0,maxHeight:"".concat((1-N)*100,"%")},{offset:1,maxHeight:"".concat(J*100,"%")}]),o.progressStep(0)),U.enable(!1),!s&&be&&I("cloned"),X?_5(n,o):be||c(),p&&(J===a[a.length-1]||!s)&&(p.scrollY=!0),new Promise(we=>{o.onFinish(()=>{be?C&&S?on(()=>{C.keyframes([...f.WRAPPER_KEYFRAMES]),S.keyframes([...f.BACKDROP_KEYFRAMES]),_==null||_.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-J),b=J,u(b),b>i?A():D(),U.enable(!0),we()}):(U.enable(!0),we()):we()},{oneTimeCallback:!0}).progressEnd(1,0,ee?500:0)})},U=Pd({el:t,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:M,onStart:T,onMove:B,onEnd:L});return{gesture:U,moveSheetToBreakpoint:z}},uj=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',dj=uj,hj=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',fj=hj,pj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionModalDidPresent",7),this.willPresent=ae(this,"ionModalWillPresent",7),this.willDismiss=ae(this,"ionModalWillDismiss",7),this.didDismiss=ae(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ae(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.ionMount=ae(this,"ionMount",7),this.lockController=qs(),this.triggerController=Nd(),this.coreDelegate=yy(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;t!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,Gi)},this.onLifecycle=e=>{const t=this.usersElement,r=mj[e.type];if(t&&r){const i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((t,r)=>t-r))}connectedCallback(){const{el:e}=this;Mc(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:t,initialBreakpoint:r,el:i,htmlAttributes:o}=this,a=this.isSheetModal=t!==void 0&&r!==void 0,s=["aria-label","role"];this.inheritedAttributes=Zi(i,s),o!==void 0&&s.forEach(l=>{o[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:o[l]}),delete o[l])}),a&&(this.currentBreakpoint=this.initialBreakpoint),t!==void 0&&r!==void 0&&!t.includes(r)&&wt("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Bc(this.el)}componentDidLoad(){this.isOpen===!0&&on(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,r=this.inline=t!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}async checkCanDismiss(e,t){const{canDismiss:r}=this;return typeof r=="function"?r(e,t):r}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:t,el:r}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Ld(o,r,this.component,["ion-page"],this.componentProps,i),rd(r)?await id(this.usersElement):this.keepContentsMounted||await TS(),ur(()=>this.el.classList.add("show-modal"));const a=t!==void 0;a&&pe(this)==="ios"&&(this.statusBarStyle=await Ly.getStyle(),k5()),await Pc(this,"modalEnter",Uk,aj,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),on(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(lp,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():a&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(pe(this)!=="ios")return;const{el:t}=this,r=this.leaveAnimation||Le.get("modalLeave",Hk),i=this.animation=r(t,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!ip(t)){ap(t);return}const a=(e=this.statusBarStyle)!==null&&e!==void 0?e:vc.Default;this.gesture=nj(t,i,a,()=>{this.gestureAnimationDismissing=!0,gv(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,So),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:r}=this;if(!e||t===void 0)return;const i=this.enterAnimation||Le.get("modalEnter",Uk),o=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:r,expandToScroll:this.expandToScroll});o.progressStart(!0,1);const{gesture:a,moveSheetToBreakpoint:s}=cj(this.el,this.backdropEl,e,t,r,o,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=a,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,So),this.gestureAnimationDismissing=!1})}async dismiss(e,t){var r;if(this.gestureAnimationDismissing&&t!==So)return!1;const i=await this.lockController.lock();if(t!=="handler"&&!await this.checkCanDismiss(e,t))return i(),!1;const{presentingElement:o}=this;o!==void 0&&pe(this)==="ios"&&gv(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(lp,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const s=await Lc(this,e,t,"modalLeave",Hk,lj,{presentingEl:o,currentBreakpoint:(r=this.currentBreakpoint)!==null&&r!==void 0?r:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(s){const{delegate:l}=this.getDelegate();await xy(l,this.usersElement),ur(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,i(),s}onDidDismiss(){return ti(this.el,"ionModalDidDismiss")}onWillDismiss(){return ti(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){wt("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){wt("[ion-modal] - Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:t,moveSheetToBreakpoint:r,canDismiss:i,breakpoints:o,animated:a}=this;t!==e&&r&&(this.sheetTransition=r({breakpoint:e,breakpointOffset:1-t,canDismiss:i!==void 0&&i!==!0&&o[0]===0,animated:a}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||t==null)return!1;const r=e.filter(s=>s!==0),o=(r.indexOf(t)+1)%r.length,a=r[o];return await this.setCurrentBreakpoint(a),!0}render(){const{handle:e,isSheetModal:t,presentingElement:r,htmlAttributes:i,handleBehavior:o,inheritedAttributes:a,focusTrap:s,expandToScroll:l}=this,c=e!==!1&&t,u=pe(this),d=r!==void 0&&u==="ios",h=o==="cycle";return O(Be,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},i,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[u]:!0,"modal-default":!d&&!t,"modal-card":d,"modal-sheet":t,"modal-no-expand-scroll":t&&!l,"overlay-hidden":!0,[od]:s===!1},Un(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),O("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:f=>this.backdropEl=f,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&O("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),O("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},a,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:f=>this.wrapperEl=f}),c&&O("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),O("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:dj,md:fj}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mj={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function S5(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,pj);break;case"ion-backdrop":customElements.get(e)||Vs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gj=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",bj=gj,vj=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",xj=vj,yj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ae(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=pe(this),t=this.getSize();return O(Be,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:gt(this.color,{[e]:!0,["title-".concat(t)]:!0,"title-rtl":document.dir==="rtl"})},O("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},O("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:bj,md:xj}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function zy(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,yj);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wj=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",kj=wj,_j=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",Cj=_j,Ej=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find(o=>o.slot==="start");t&&t.classList.add("buttons-first-slot");const r=e.reverse(),i=r.find(o=>o.slot==="end")||r.find(o=>o.slot==="primary")||r.find(o=>o.slot==="secondary");i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,r=e.detail,i={},o=this.childrenStyles.get(t)||{};let a=!1;Object.keys(r).forEach(s=>{const l="toolbar-".concat(s),c=r[s];c!==o[l]&&(a=!0),c&&(i[l]=!0)}),a&&(this.childrenStyles.set(t,i),On(this))}render(){const e=pe(this),t={};return this.childrenStyles.forEach(r=>{Object.assign(t,r)}),O(Be,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},t),gt(this.color,{[e]:!0,"in-toolbar":Mt("ion-toolbar",this.el)}))},O("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),O("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},O("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),O("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),O("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},O("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),O("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),O("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:kj,md:Cj}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function jy(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,Ej);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sj=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Tj=Sj,Aj='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',Ij=Aj,Rj=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Dj=Rj,Oj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:t}=this;return t.find(r=>r.value===e.target.value)}getValues(e){const{multiple:t,options:r}=this;if(t)return r.filter(o=>o.checked).map(o=>o.value);const i=e?this.findOptionFromEvent(e):null;return i?i.value:void 0}callOptionHandler(e){const t=this.findOptionFromEvent(e),r=this.getValues(e);t!=null&&t.handler&&_s(t.handler,r)}setChecked(e){const{multiple:t}=this,r=this.findOptionFromEvent(e);t&&r&&(r.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(t=>t.checked).map(t=>t.value)[0];return O("ion-radio-group",{value:e,onIonChange:t=>this.callOptionHandler(t)},this.options.map(t=>O("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":t.value===e},Un(t.cssClass))},O("ion-radio",{value:t.value,disabled:t.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:r=>{r.key===" "&&this.closeModal()}},t.text))))}renderCheckboxOptions(){return this.options.map(e=>O("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},Un(e.cssClass))},O("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:t=>{this.setChecked(t),this.callOptionHandler(t),On(this)}},e.text)))}render(){return O(Be,{key:"885198a9f21884e3bfb9bf0af53e0ee3ae37b231",class:pe(this)},O("ion-header",{key:"d8b63726869747ac711e4fda78a50ce46f72970c"},O("ion-toolbar",{key:"9ab2a4c1480dd74eeae38d7b580a2e87fb71270e"},this.header!==void 0&&O("ion-title",{key:"87a7034385ef57f55cefdd0371dbb66a64827290"},this.header),O("ion-buttons",{key:"0a35424ea13ca002abc9a43b6138730254f187d0",slot:"end"},O("ion-button",{key:"238bf40b47128d9aa995d14d9ff9ebcae4f79492",onClick:()=>this.closeModal()},"Close")))),O("ion-content",{key:"4a256f3381f8cabbc7194337b8ae4aa1c3ab1066"},O("ion-list",{key:"acd38fc52024632176467ed6a84106a454021544"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:Tj,ios:Ij,md:Dj}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function Mj(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,Oj);break;case"ion-button":customElements.get(e)||Cy();break;case"ion-buttons":customElements.get(e)||wy();break;case"ion-checkbox":customElements.get(e)||ky();break;case"ion-content":customElements.get(e)||_y();break;case"ion-header":customElements.get(e)||Sy();break;case"ion-icon":customElements.get(e)||ni();break;case"ion-item":customElements.get(e)||Dy();break;case"ion-list":customElements.get(e)||um();break;case"ion-radio":customElements.get(e)||Iy();break;case"ion-radio-group":customElements.get(e)||Ry();break;case"ion-ripple-effect":customElements.get(e)||ri();break;case"ion-title":customElements.get(e)||zy();break;case"ion-toolbar":customElements.get(e)||jy();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bj=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",Pj=Bj,Lj=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",zj=Lj,jj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:t}=this;return t.find(r=>r.value===e.target.value)}callOptionHandler(e){const t=this.findOptionFromEvent(e),r=this.getValues(e);t!=null&&t.handler&&_s(t.handler,r)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:t}=this,r=this.findOptionFromEvent(e);t&&r&&(r.checked=e.detail.checked)}getValues(e){const{multiple:t,options:r}=this;if(t)return r.filter(o=>o.checked).map(o=>o.value);const i=this.findOptionFromEvent(e);return i?i.value:void 0}renderOptions(e){const{multiple:t}=this;switch(t){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(t=>O("ion-item",{class:Object.assign({"item-checkbox-checked":t.checked},Un(t.cssClass))},O("ion-checkbox",{value:t.value,disabled:t.disabled,checked:t.checked,justify:"start",labelPlacement:"end",onIonChange:r=>{this.setChecked(r),this.callOptionHandler(r),On(this)}},t.text)))}renderRadioOptions(e){const t=e.filter(r=>r.checked).map(r=>r.value)[0];return O("ion-radio-group",{value:t,onIonChange:r=>this.callOptionHandler(r)},e.map(r=>O("ion-item",{class:Object.assign({"item-radio-checked":r.value===t},Un(r.cssClass))},O("ion-radio",{value:r.value,disabled:r.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:i=>{i.key===" "&&this.dismissParentPopover()}},r.text))))}render(){const{header:e,message:t,options:r,subHeader:i}=this,o=i!==void 0||t!==void 0;return O(Be,{key:"542367ab8fb72bfebf7e65630b91017d68827fd6",class:pe(this)},O("ion-list",{key:"f2f0f37e1365cd7780b02de1a1698700d0df48a7"},e!==void 0&&O("ion-list-header",{key:"4b8800a68e800f19277a44b7074ca24b70218daf"},e),o&&O("ion-item",{key:"932b7903daf97d5a57d289b7ee49e868bb9b0cf5"},O("ion-label",{key:"fc3f1b69aa2a0bc6125d35692dcad3a8a99fd160",class:"ion-text-wrap"},i!==void 0&&O("h3",{key:"eceab2f47afa95f04b138342b0bdbfa1f50919a8"},i),t!==void 0&&O("p",{key:"70f4e27ad1316318efd0c17efce31e5e45c8fa02"},t))),this.renderOptions(r)))}get el(){return this}static get style(){return{ios:Pj,md:zj}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function Nj(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,jj);break;case"ion-checkbox":customElements.get(e)||ky();break;case"ion-icon":customElements.get(e)||ni();break;case"ion-item":customElements.get(e)||Dy();break;case"ion-label":customElements.get(e)||Ay();break;case"ion-list":customElements.get(e)||um();break;case"ion-list-header":customElements.get(e)||u5();break;case"ion-radio":customElements.get(e)||Iy();break;case"ion-radio-group":customElements.get(e)||Ry();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fj=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",$j=Fj,Uj=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.select-expanded.select-fill-solid.ion-valid),:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.has-focus){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.in-item.select-expanded.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-solid) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.has-focus){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host(.in-item.select-expanded.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-outline) .select-wrapper .select-icon{color:var(--highlight-color)}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.has-focus) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.has-focus) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.has-focus) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.in-item.select-expanded) .select-wrapper .select-icon,:host(.in-item.has-focus) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid) .select-wrapper .select-icon{color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.has-focus) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",Hj=Uj,Wj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionCancel=ae(this,"ionCancel",7),this.ionDismiss=ae(this,"ionDismiss",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.ionStyle=ae(this,"ionStyle",7),this.inputId="ion-sel-".concat(Gj++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.onClick=e=>{const t=e.target,r=t.closest('[slot="start"], [slot="end"]');t===this.el||r===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.hasFocus=!0,this.ionFocus.emit()},this.onBlur=()=>{this.hasFocus=!1,this.ionBlur.emit()},this.isExpanded=!1,this.hasFocus=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.errorText=void 0,this.helperText=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0,this.required=!1}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=Ty(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=UP(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),On(this)})}componentWillLoad(){this.inheritedAttributes=Zi(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const t=this.overlay=await this.createOverlay(e),r=()=>{const i=this.childOpts.findIndex(o=>o.value===this.value);if(i>-1){const o=t.querySelector(".select-interface-option:nth-child(".concat(i+1,")"));if(o){const a=o.querySelector("ion-radio, ion-checkbox");a&&(o.scrollIntoView({block:"nearest"}),a.setFocus()),Jf(o)}}else{const o=t.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");o&&(o.setFocus(),Jf(o.closest("ion-item")))}};if(this.interface==="modal")t.addEventListener("ionModalWillPresent",r,{once:!0});else if(this.interface==="popover")t.addEventListener("ionPopoverWillPresent",r,{once:!0});else{const i=()=>{requestAnimationFrame(()=>{r()})};this.interface==="alert"?t.addEventListener("ionAlertWillPresent",i,{once:!0}):this.interface==="action-sheet"&&t.addEventListener("ionActionSheetWillPresent",i,{once:!0})}return t.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await t.present(),t}createOverlay(e){let t=this.interface;return t==="action-sheet"&&this.multiple&&(wt('[ion-select] - Interface cannot be "'.concat(t,'" with a multi-value select. Using the "alert" interface instead.')),t="alert"),t==="popover"&&!e&&(wt('[ion-select] - Interface cannot be a "'.concat(t,'" without passing an event. Using the "alert" interface instead.')),t="alert"),t==="action-sheet"?this.openActionSheet():t==="popover"?this.openPopover(e):t==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const t=this.childOpts,r=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(t,r);break;case"popover":const i=e.querySelector("ion-select-popover");i&&(i.options=this.createOverlaySelectOptions(t,r));break;case"modal":const o=e.querySelector("ion-select-modal");o&&(o.options=this.createOverlaySelectOptions(t,r));break;case"alert":const a=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(t,a,r);break}}createActionSheetButtons(e,t){const r=e.map(i=>{const o=hf(i),a=Array.from(i.classList).filter(l=>l!=="hydrated").join(" "),s="".concat(o0," ").concat(a);return{role:df(t,o,this.compareWith)?"selected":"",text:i.textContent,cssClass:s,handler:()=>{this.setValue(o)}}});return r.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),r}createAlertInputs(e,t,r){return e.map(o=>{const a=hf(o),s=Array.from(o.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(o0," ").concat(s);return{type:t,cssClass:l,label:o.textContent||"",value:a,checked:df(r,a,this.compareWith),disabled:o.disabled}})}createOverlaySelectOptions(e,t){return e.map(i=>{const o=hf(i),a=Array.from(i.classList).filter(l=>l!=="hydrated").join(" "),s="".concat(o0," ").concat(a);return{text:i.textContent||"",cssClass:s,value:o,checked:df(t,o,this.compareWith),disabled:i.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:t,labelPlacement:r}=this,i=this.interfaceOptions,o=pe(this),a=o!=="md",s=this.multiple,l=this.value;let c=e,u="auto";r==="floating"||r==="stacked"||o==="md"&&t!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:o,event:c,alignment:"center",size:u,showBackdrop:a},i),{component:"ion-select-popover",cssClass:["select-popover",i.cssClass],componentProps:{header:i.header,subHeader:i.subHeader,message:i.message,multiple:s,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return Q9.create(h)}async openActionSheet(){const e=pe(this),t=this.interfaceOptions,r=Object.assign(Object.assign({mode:e},t),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",t.cssClass]});return Z9.create(r)}async openAlert(){const e=this.interfaceOptions,t=this.multiple?"checkbox":"radio",r=pe(this),i=Object.assign(Object.assign({mode:r},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,t,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:o=>{this.setValue(o)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return X9.create(i)}openModal(){const{multiple:e,value:t,interfaceOptions:r}=this,i=pe(this),o=Object.assign(Object.assign({},r),{mode:i,cssClass:["select-modal",r.cssClass],component:"ion-select-modal",componentProps:{header:r.header,multiple:e,value:t,options:this.createOverlaySelectOptions(this.childOpts,t)}});return J9.create(o)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:t}=this;if(t!==null)return t.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:qj(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,t={"interactive-disabled":e};this.ionStyle.emit(t)}renderLabel(){const{label:e}=this;return O("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?O("slot",{name:"label"}):O("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[O("div",{class:"select-outline-container"},O("div",{class:"select-outline-start"}),O("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},O("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),O("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,t=this.getText();let r=!1,i=t;return i===""&&e!==void 0&&(i=e,r=!0),O("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":r},part:r?"placeholder":"text"},i)}renderSelectIcon(){const e=pe(this),{isExpanded:t,toggleIcon:r,expandedIcon:i}=this;let o;if(t&&i!==void 0)o=i;else{const a=e==="ios"?m7:h7;o=r!=null?r:a}return O("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:o})}get ariaLabel(){var e;const{placeholder:t,inheritedAttributes:r}=this,i=this.getText(),o=(e=r["aria-label"])!==null&&e!==void 0?e:this.labelText;let a=i;return a===""&&t!==void 0&&(a=t),o!==void 0&&(a=a===""?o:"".concat(o,", ").concat(a)),a}renderListbox(){const{disabled:e,inputId:t,isExpanded:r,required:i}=this;return O("button",{disabled:e,id:t,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(r),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-required":"".concat(i),onFocus:this.onFocus,onBlur:this.onBlur,ref:o=>this.focusEl=o})}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[O("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),O("div",{id:i,class:"error-text",part:"supporting-text error-text"},t)]}renderBottomContent(){const{helperText:e,errorText:t}=this;if(e||t)return O("div",{class:"select-bottom"},this.renderHintText())}render(){const{disabled:e,el:t,isExpanded:r,expandedIcon:i,labelPlacement:o,justify:a,placeholder:s,fill:l,shape:c,name:u,value:d,hasFocus:h}=this,f=pe(this),p=o==="floating"||o==="stacked",m=!p&&a!==void 0,b=To(t)?"rtl":"ltr",g=Mt("ion-item",this.el),v=f==="md"&&l!=="outline"&&!g,x=this.hasValue(),y=t.querySelector('[slot="start"], [slot="end"]')!==null;Bd(!0,t,u,Vj(d),e);const w=o==="stacked"||o==="floating"&&(x||r||y);return O(Be,{key:"e6c0498d6c275f89344f4b5146752a047058ad88",onClick:this.onClick,class:gt(this.color,{[f]:!0,"in-item":g,"in-item-color":Mt("ion-item.ion-color",t),"select-disabled":e,"select-expanded":r,"has-expanded-icon":i!==void 0,"has-value":x,"label-floating":w,"has-placeholder":s!==void 0,"has-focus":h,"ion-focusable":!0,["select-".concat(b)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(a)]:m,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(o)]:!0})},O("label",{key:"f030b6bd329f8014c7227f5e5f1aeb7efa0e641a",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),O("div",{key:"7480e1b40d09e53a2942295d6c9dae474c9de810",class:"select-wrapper-inner"},O("slot",{key:"250fd2ff08b3e6ed04c7062455a044863481fe1c",name:"start"}),O("div",{key:"11b73ad5b7decfe2d307f9d54293c21c0df3ddb8",class:"native-wrapper",ref:E=>this.nativeWrapperEl=E,part:"container"},this.renderSelectText(),this.renderListbox()),O("slot",{key:"ddedafc89061372567bd46354ef972f08c60e19d",name:"end"}),!p&&this.renderSelectIcon()),p&&this.renderSelectIcon(),v&&O("div",{key:"792ce27aea18a0020c17dceb0f0e293171ded3a3",class:"select-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:$j,md:Hj}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],errorText:[1,"error-text"],helperText:[1,"helper-text"],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],required:[4],isExpanded:[32],hasFocus:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),hf=n=>{const e=n.value;return e===void 0?n.textContent||"":e},Vj=n=>{if(n!=null)return Array.isArray(n)?n.join(","):n.toString()},qj=(n,e,t)=>e===void 0?"":Array.isArray(e)?e.map(r=>Wk(n,r,t)).filter(r=>r!==null).join(", "):Wk(n,e,t)||"",Wk=(n,e,t)=>{const r=n.find(i=>pv(e,hf(i),t));return r?r.textContent:null};let Gj=0;const o0="select-interface-option";function Kj(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,Wj);break;case"ion-action-sheet":customElements.get(e)||m5();break;case"ion-alert":customElements.get(e)||g5();break;case"ion-backdrop":customElements.get(e)||Vs();break;case"ion-button":customElements.get(e)||Cy();break;case"ion-buttons":customElements.get(e)||wy();break;case"ion-checkbox":customElements.get(e)||ky();break;case"ion-content":customElements.get(e)||_y();break;case"ion-header":customElements.get(e)||Sy();break;case"ion-icon":customElements.get(e)||ni();break;case"ion-item":customElements.get(e)||Dy();break;case"ion-label":customElements.get(e)||Ay();break;case"ion-list":customElements.get(e)||um();break;case"ion-list-header":customElements.get(e)||u5();break;case"ion-modal":customElements.get(e)||S5();break;case"ion-popover":customElements.get(e)||HB();break;case"ion-radio":customElements.get(e)||Iy();break;case"ion-radio-group":customElements.get(e)||Ry();break;case"ion-ripple-effect":customElements.get(e)||ri();break;case"ion-select-modal":customElements.get(e)||Mj();break;case"ion-select-popover":customElements.get(e)||Nj();break;case"ion-title":customElements.get(e)||zy();break;case"ion-toolbar":customElements.get(e)||jy();break}})}const Yj=Kj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xj=":host{display:none}",Zj=Xj,Jj=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat(Qj++),this.disabled=!1,this.value=void 0}render(){return O(Be,{key:"8c96c199ce3a3065de3fe446500f567236e0610a",role:"option",id:this.inputId,class:pe(this)})}get el(){return this}static get style(){return Zj}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let Qj=0;function eN(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,Jj);break}})}const tN=eN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nN=s5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rN=":host(.tab-hidden){display:none !important}",iN=rN,oN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return Ld(this.delegate,this.el,this.component,["ion-page"])}catch(e){ei("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:t,component:r}=this;return O(Be,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":t?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":r===void 0,"tab-hidden":!t}},O("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return iN}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function aN(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,oN);break}})}const sN=aN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lN=":host(.ion-color){color:var(--ion-color-base)}",cN=lN,uN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=pe(this);return O(Be,{key:"0c2546ea3f24b0a6bfd606199441d0a4edfa4ca1",class:gt(this.color,{[e]:!0})},O("slot",{key:"b7623ccb06f9461090a1f33e9f85886c7a4d5eff"}))}static get style(){return cN}},[1,"ion-text",{color:[513]}]);function dN(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,uN);break}})}const hN=dN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fN='.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',pN=fN,mN='.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}',gN=mN,bN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.ionChange=ae(this,"ionChange",7),this.ionInput=ae(this,"ionInput",7),this.ionBlur=ae(this,"ionBlur",7),this.ionFocus=ae(this,"ionFocus",7),this.inputId="ion-textarea-".concat(vN++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:r}=this;this.ionInput=t===void 0?r!=null?r:e:im(e,t)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&(e.value=t),this.runAutoGrow()}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),On(this)}onClickCapture(e){const t=this.nativeInput;t&&e.target===t&&(e.stopPropagation(),this.el.click())}connectedCallback(){const{el:e}=this;this.slotMutationController=l5(e,["label","start","end"],()=>On(this)),this.notchController=Ty(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},ki(this.el)),Zi(this.el,["data-form-type","title","tabindex","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>yi(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,r=t==null?t:t.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:t}=this;this.ionInput.emit({value:t,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&ur(()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=(e=this.value)!==null&&e!==void 0?e:"")})}checkClearOnEdit(e){if(!this.clearOnEdit)return;const r=["Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didTextareaClearOnEdit&&this.hasValue()&&!r&&(this.value="",this.emitInputChange(e)),r||(this.didTextareaClearOnEdit=!0)}hasValue(){return this.getValue()!==""}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return O("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?O("slot",{name:"label"}):O("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return pe(this)==="md"&&this.fill==="outline"?[O("div",{class:"textarea-outline-container"},O("div",{class:"textarea-outline-start"}),O("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},O("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),O("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;return[O("div",{id:r,class:"helper-text"},e),O("div",{id:i,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderCounter(){const{counter:e,maxlength:t,counterFormatter:r,value:i}=this;if(!(e!==!0||t===void 0))return O("div",{class:"counter"},c5(i,t,r))}renderBottomContent(){const{counter:e,helperText:t,errorText:r,maxlength:i}=this;if(!(!(t||r)&&!(e===!0&&i!==void 0)))return O("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:t,fill:r,shape:i,labelPlacement:o,el:a,hasFocus:s}=this,l=pe(this),c=this.getValue(),u=Mt("ion-item",this.el),d=l==="md"&&r!=="outline"&&!u,h=this.hasValue(),f=a.querySelector('[slot="start"], [slot="end"]')!==null,p=o==="stacked"||o==="floating"&&(h||s||f);return O(Be,{key:"f53b9060248d885b0b8639401871e52017e497db",class:gt(this.color,{[l]:!0,"has-value":h,"has-focus":s,"label-floating":p,["textarea-fill-".concat(r)]:r!==void 0,["textarea-shape-".concat(i)]:i!==void 0,["textarea-label-placement-".concat(o)]:!0,"textarea-disabled":t})},O("label",{key:"3bc32a0799d1dd7253eb5a963877964de620ccd0",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),O("div",{key:"f5302723f4561b179b249cb28f5a31223c5c4394",class:"textarea-wrapper-inner"},O("div",{key:"75b85c5bd85af72a41da3310f10877a654397eaf",class:"start-slot-wrapper"},O("slot",{key:"7adc67b4c2917d20c35eecc11a5530e93bc581ea",name:"start"})),O("div",{key:"35cbeca046ec7a40bcbcbc4a70eb83628350ba54",class:"native-wrapper",ref:m=>this.textareaWrapper=m},O("textarea",Object.assign({key:"e3496262d163b70558a0188abdf322cbd8b44dfd",class:"native-textarea",ref:m=>this.nativeInput=m,id:e,disabled:t,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),c)),O("div",{key:"f274576d2e0bb6dace2ec36c362cb68ecfcd2c69",class:"end-slot-wrapper"},O("slot",{key:"70c881103410e74b3a3ffda4cc889be66f89bf20",name:"end"}))),d&&O("div",{key:"cf33a473dfb637d284acc2b62ca59c2839ee1104",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:pN,md:gN}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}]);let vN=0;function xN(){if(typeof customElements>"u")return;["ion-textarea"].forEach(e=>{switch(e){case"ion-textarea":customElements.get(e)||customElements.define(e,bN);break}})}const yN=xN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wN=":host{--size:48px;--border-radius:0;border-radius:var(--border-radius);display:block;width:var(--size);height:var(--size)}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}",kN=wN,_N=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return O(Be,{key:"7f5fd6c056da2d82feb2c3c33f3e6dec898787f5",class:pe(this)},O("slot",{key:"d15fd2b6cdc03777edc1930be95ad838e1b376c8"}))}static get style(){return kN}},[1,"ion-thumbnail"]);function CN(){if(typeof customElements>"u")return;["ion-thumbnail"].forEach(e=>{switch(e){case"ion-thumbnail":customElements.get(e)||customElements.define(e,_N);break}})}const EN=CN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SN=zy,TN=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--track-background-checked:var(--ion-color-primary, #0054e9);--border-radius:15.5px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 4px rgba(0, 0, 0, 0.06), 0 3px 8px rgba(0, 0, 0, 0.06);--handle-height:calc(31px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(31px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms}.native-wrapper .toggle-icon{width:51px;height:31px;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark, #222428)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}",AN=TN,IN=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--track-background-checked:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #0054e9);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1)}.native-wrapper .toggle-icon{width:36px;height:14px}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}:host(.toggle-disabled){opacity:0.38}",RN=IN,DN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ae(this,"ionChange",7),this.ionFocus=ae(this,"ionFocus",7),this.ionBlur=ae(this,"ionBlur",7),this.inputId="ion-tg-".concat(MN++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.lastDrag=0,this.inheritedAttributes={},this.didLoad=!1,this.setupGesture=async()=>{const{toggleTrack:e}=this;e&&(this.gesture=(await Qt(()=>Promise.resolve().then(()=>py),void 0)).createGesture({el:e,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.disabledChanged())},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked())},this.onClick=e=>{this.disabled||(e.preventDefault(),this.lastDrag+300<Date.now()&&this.toggleChecked())},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.getSwitchLabelIcon=(e,t)=>e==="md"?t?f7:wk:t?wk:g7,this.activated=!1,this.color=void 0,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.enableOnOffLabels=Le.get("toggleOnOffLabels"),this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}toggleChecked(){const{checked:e,value:t}=this,r=!e;this.checked=r,this.setFocus(),this.ionChange.emit({checked:r,value:t})}async connectedCallback(){this.didLoad&&this.setupGesture()}componentDidLoad(){this.setupGesture(),this.didLoad=!0}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign({},ki(this.el))}onStart(){this.activated=!0,this.setFocus()}onMove(e){ON(To(this.el),this.checked,e.deltaX,-10)&&(this.toggleChecked(),fB())}onEnd(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.focusEl&&this.focusEl.focus()}renderOnOffSwitchLabels(e,t){const r=this.getSwitchLabelIcon(e,t);return O("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":t},icon:r,"aria-hidden":"true"})}renderToggleControl(){const e=pe(this),{enableOnOffLabels:t,checked:r}=this;return O("div",{class:"toggle-icon",part:"track",ref:i=>this.toggleTrack=i},t&&e==="ios"&&[this.renderOnOffSwitchLabels(e,!0),this.renderOnOffSwitchLabels(e,!1)],O("div",{class:"toggle-icon-wrapper"},O("div",{class:"toggle-inner",part:"handle"},t&&e==="md"&&this.renderOnOffSwitchLabels(e,r))))}get hasLabel(){return this.el.textContent!==""}getHintTextID(){const{el:e,helperText:t,errorText:r,helperTextId:i,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&r)return o;if(t)return i}renderHintText(){const{helperText:e,errorText:t,helperTextId:r,errorTextId:i}=this;if(e||t)return O("div",{class:"toggle-bottom"},O("div",{id:r,class:"helper-text",part:"supporting-text helper-text"},e),O("div",{id:i,class:"error-text",part:"supporting-text error-text"},t))}render(){const{activated:e,alignment:t,checked:r,color:i,disabled:o,el:a,errorTextId:s,hasLabel:l,inheritedAttributes:c,inputId:u,inputLabelId:d,justify:h,labelPlacement:f,name:p,required:m}=this,b=pe(this),g=this.getValue(),v=To(a)?"rtl":"ltr";return Bd(!0,a,p,r?g:"",o),O(Be,{key:"63c67d52dc47661c5758049f6278e873ab867a22",role:"switch","aria-checked":"".concat(r),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===s,onClick:this.onClick,"aria-labelledby":l?d:null,"aria-label":c["aria-label"]||null,"aria-disabled":o?"true":null,tabindex:o?void 0:0,onKeyDown:this.onKeyDown,class:gt(i,{[b]:!0,"in-item":Mt("ion-item",a),"toggle-activated":e,"toggle-checked":r,"toggle-disabled":o,["toggle-justify-".concat(h)]:h!==void 0,["toggle-alignment-".concat(t)]:t!==void 0,["toggle-label-placement-".concat(f)]:!0,["toggle-".concat(v)]:!0})},O("label",{key:"723cfac071ee5ec5c75984fc64762209452e9eea",class:"toggle-wrapper",htmlFor:u},O("input",Object.assign({key:"8fa79f49348afbce5e083d454b751f7f9cc04d3f",type:"checkbox",role:"switch","aria-checked":"".concat(r),checked:r,disabled:o,id:u,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:x=>this.focusEl=x,required:m},c)),O("div",{key:"00a4415539ef677be9f6981afddcec61f7fe9487",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!l},part:"label",id:d},O("slot",{key:"7ce338bd5116337c9ea90805fdee7285ef7c5811"}),this.renderHintText()),O("div",{key:"ecb5dfd2c7b534e357cba272dd4f189728555b3a",class:"native-wrapper"},this.renderToggleControl())))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:AN,md:RN}}},[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],activated:[32]},void 0,{disabled:["disabledChanged"]}]),ON=(n,e,t,r)=>e?!n&&r>t||n&&10<t:!n&&10<t||n&&r>t;let MN=0;function BN(){if(typeof customElements>"u")return;["ion-toggle","ion-icon"].forEach(e=>{switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,DN);break;case"ion-icon":customElements.get(e)||ni();break}})}const PN=BN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LN=jy;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zN=YS;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jN=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",NN=jN,FN=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",$N=FN,UN=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=Zi(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const t=this.isClickable();if(!t)return[O("slot",null)];const{href:r,routerAnimation:i,routerDirection:o,inheritedAriaAttributes:a}=this,s=t?r===void 0?"button":"a":"div",l=s==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return O(s,Object.assign({},l,a,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>am(r,c,o,i)}),O("slot",null),t&&e==="md"&&O("ion-ripple-effect",null))}render(){const e=pe(this);return O(Be,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:gt(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:NN,md:$N}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),HN=UN;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WN=b5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VN=g5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qN=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},GN=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},KN=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},YN=n=>{const e=ge(),t=ge(),r=ge();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(n.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,r])},XN=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",ZN=XN,JN=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",QN=JN,eF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.didPresent=ae(this,"ionLoadingDidPresent",7),this.willPresent=ae(this,"ionLoadingWillPresent",7),this.willDismiss=ae(this,"ionLoadingWillDismiss",7),this.didDismiss=ae(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=lm(this),this.lockController=qs(),this.triggerController=Nd(),this.customHTMLEnabled=Le.get("innerHTMLTemplatesEnabled",by),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Gi)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}connectedCallback(){Mc(this.el),this.triggerChanged()}componentWillLoad(){var e;if(this.spinner===void 0){const t=pe(this);this.spinner=Le.get("loadingSpinner",Le.get("spinner",t==="ios"?"lines":"crescent"))}!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Bc(this.el)}componentDidLoad(){this.isOpen===!0&&on(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Pc(this,"loadingEnter",qN,KN),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,t){const r=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const i=await Lc(this,e,t,"loadingLeave",GN,YN);return i&&this.delegateController.removeViewFromDom(),r(),i}onDidDismiss(){return ti(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return ti(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:t,message:r}=this;return t?O("div",{class:"loading-content",id:e,innerHTML:gy(r)}):O("div",{class:"loading-content",id:e},r)}render(){const{message:e,spinner:t,htmlAttributes:r,overlayIndex:i}=this,o=pe(this),a="loading-".concat(i,"-msg");return O(Be,Object.assign({key:"d6066c8b56b1fe4b597a243a7dab191ef0d21286",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?a:null,tabindex:"-1"},r,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Un(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),O("ion-backdrop",{key:"2431eda00a2a3f510f5dfc39b7c7d47c056dfa3d",visible:this.showBackdrop,tappable:this.backdropDismiss}),O("div",{key:"cf210aaf5e754e4eccdb49cf7ead4647b3f9b2d1",tabindex:"0","aria-hidden":"true"}),O("div",{key:"fa9375143d391656d70e181d25b952c77c2fc6ec",class:"loading-wrapper ion-overlay-wrapper"},t&&O("div",{key:"8e4a4ed994f7f62df86b03696ac95162df41f52d",class:"loading-spinner"},O("ion-spinner",{key:"e5b323c272d365853ba92bd211e390b4fd4751d2",name:t,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(a)),O("div",{key:"cae35ec8c34800477bff3ebcec8010e632158233",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:ZN,md:QN}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function tF(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,eF);break;case"ion-backdrop":customElements.get(e)||Vs();break;case"ion-spinner":customElements.get(e)||s5();break}})}const nF=tF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function rF(n,e,t,r){let i;if(t==="md"?i=n==="top"?8:-8:i=n==="top"?10:-10,e&&ht){iF(e,r);const o=e.getBoundingClientRect();return n==="top"?i+=o.bottom:n==="bottom"&&(i-=ht.innerHeight-o.top),{top:"".concat(i,"px"),bottom:"".concat(i,"px")}}else return{top:"calc(".concat(i,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(i,"px - var(--ion-safe-area-bottom, 0px))")}}function iF(n,e){n.offsetParent===null&&wt("[ion-toast] - The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const Ny=(n,e)=>Math.floor(n/2-e/2),oF=(n,e)=>{const t=ge(),r=ge(),{position:i,top:o,bottom:a}=e,l=Nt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=Ny(n.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat(a,")"));break}return t.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},aF=(n,e)=>{const t=ge(),r=ge(),{position:i,top:o,bottom:a}=e,l=Nt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":r.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat(a,")"),"translateY(100%)");break}return t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},sF=(n,e)=>{const t=ge(),r=ge(),{position:i,top:o,bottom:a}=e,l=Nt(n).querySelector(".toast-wrapper");switch(r.addElement(l),i){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),r.fromTo("opacity",.01,1);break;case"middle":const c=Ny(n.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),r.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(a,")")),r.fromTo("opacity",.01,1);break}return t.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},lF=n=>{const e=ge(),t=ge(),i=Nt(n).querySelector(".toast-wrapper");return t.addElement(i).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(t)},cF=(n,e,t)=>{const r=Nt(n).querySelector(".toast-wrapper"),i=n.clientHeight,o=r.getBoundingClientRect();let a=0;const s=.5,l=n.position==="middle"?.5:0,c=n.position==="top"?-1:1,u=Ny(i,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=ge("toast-swipe-to-dismiss-animation").addElement(r).duration(100);switch(n.position){case"middle":a=i+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":a=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:a=i-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const f=g=>g*c/a,b=Pd({el:r,gestureName:"toast-swipe-to-dismiss",gesturePriority:$S,direction:"y",onMove:g=>{const v=l+f(g.deltaY);h.progressStep(v)},onEnd:g=>{const v=g.velocityY,x=(g.deltaY+v*1e3)/a*c;b.enable(!1);let y=!0,w=1,E=0,C=0;if(n.position==="middle"){y=x>=s/2||x<=-.5/2,w=1,E=0;const _=r.getBoundingClientRect(),A=_.top-u,D="".concat(A,"px"),I=g.deltaY<=0?-1:1,M=(u+_.height)*I,T=y?"".concat(M,"px"):"0px",B=[{offset:0,transform:"translateY(".concat(D,")")},{offset:1,transform:"translateY(".concat(T,")")}];h.keyframes(B),C=M-A}else y=x>=s,w=y?1:0,E=f(g.deltaY),C=(y?1-E:E)*a;const S=Math.min(Math.abs(C)/Math.abs(v),200);h.onFinish(()=>{y?(t(),h.destroy()):(n.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(w,E,S)}});return b},uF=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",dF=uF,hF=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",fF=hF,pF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ae(this,"ionToastDidPresent",7),this.willPresent=ae(this,"ionToastWillPresent",7),this.willDismiss=ae(this,"ionToastWillDismiss",7),this.didDismiss=ae(this,"ionToastDidDismiss",7),this.didPresentShorthand=ae(this,"didPresent",7),this.willPresentShorthand=ae(this,"willPresent",7),this.willDismissShorthand=ae(this,"willDismiss",7),this.didDismissShorthand=ae(this,"didDismiss",7),this.delegateController=lm(this),this.lockController=qs(),this.triggerController=Nd(),this.customHTMLEnabled=Le.get("innerHTMLTemplatesEnabled",by),this.presented=!1,this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Bs(t)){const r=this.getButtons().find(i=>i.role==="cancel");this.callButtonHandler(r)}},this.createSwipeGesture=e=>{(this.gesture=cF(this.el,e,()=>{this.dismiss(void 0,So)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=Le.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:r}=this;e&&r.addClickListener(t,e)}connectedCallback(){Mc(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Bc(this.el)}componentDidLoad(){this.isOpen===!0&&on(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:t,position:r}=this,i=this.getAnchorElement(),o=rF(r,i,pe(this),t);this.lastPresentedPosition=o,await Pc(this,"toastEnter",oF,sF,{position:r,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,t){var r,i;const o=await this.lockController.lock(),{durationTimeout:a,position:s,lastPresentedPosition:l}=this;a&&clearTimeout(a);const c=await Lc(this,e,t,"toastLeave",aF,lF,{position:s,top:(r=l==null?void 0:l.top)!==null&&r!==void 0?r:"",bottom:(i=l==null?void 0:l.bottom)!==null&&i!==void 0?i:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return ti(this.el,"ionToastDidDismiss")}onWillDismiss(){return ti(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(t=>typeof t=="string"?{text:t}:t):[]}getAnchorElement(){const{position:e,positionAnchor:t,el:r}=this;if(t!==void 0){if(e==="middle"&&t!==void 0){wt('[ion-toast] - The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof t=="string"){const i=document.getElementById(t);if(i===null){wt('[ion-toast] - An anchor element with an ID of "'.concat(t,'" was not found in the DOM.'),r);return}return i}if(t instanceof Ae)return t;wt("[ion-toast] - Invalid positionAnchor value:",t,r)}}async buttonClick(e){const t=e.role;return Bs(t)?this.dismiss(void 0,t):await this.callButtonHandler(e)?this.dismiss(void 0,t):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await _s(e.handler)===!1)return!1}catch(t){ei("[ion-toast] - Exception in callButtonHandler:",t)}return!0}renderButtons(e,t){if(e.length===0)return;const r=pe(this),i={"toast-button-group":!0,["toast-button-group-".concat(t)]:!0};return O("div",{class:i},e.map(o=>O("button",Object.assign({},o.htmlAttributes,{type:"button",class:mF(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:gF(o)}),O("div",{class:"toast-button-inner"},o.icon&&O("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),r==="md"&&O("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,t=null){const{customHTMLEnabled:r,message:i}=this;return r?O("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message",innerHTML:gy(i)}):O("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message"},i)}renderHeader(e,t=null){return O("div",{key:e,class:"toast-header","aria-hidden":t,part:"header"},this.header)}render(){const{layout:e,el:t,revealContentToScreenReader:r,header:i,message:o}=this,a=this.getButtons(),s=a.filter(d=>d.side==="start"),l=a.filter(d=>d.side!=="start"),c=pe(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&s.length>0&&l.length>0&&wt("[ion-toast] - This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",t),O(Be,Object.assign({key:"a2216d860255c99337464370dcb12f6125871a50",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:gt(this.color,Object.assign(Object.assign({[c]:!0},Un(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),O("div",{key:"d5adf8bc4c6c52431600033a76c4795689f9b412",class:u},O("div",{key:"ab694497ae37ceba123217eb48800129b9bebb84",class:"toast-container",part:"container"},this.renderButtons(s,"start"),this.icon!==void 0&&O("ion-icon",{key:"224854fa3989ce0eb69416cb5b0cc55fc9f131ea",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),O("div",{key:"c8e11fb5bdac202987f5c8613a0ebbd42bda946e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!r&&i!==void 0&&this.renderHeader("oldHeader","true"),!r&&o!==void 0&&this.renderToastMessage("oldMessage","true"),r&&i!==void 0&&this.renderHeader("header"),r&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:dF,md:fF}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mF=n=>({"toast-button":!0,"toast-button-icon-only":n.icon!==void 0&&n.text===void 0,["toast-button-".concat(n.role)]:n.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),gF=n=>Bs(n.role)?"button cancel":"button";function bF(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,pF);break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}const T5=bF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vF=m5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xF=S5,yF="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",wF=yF,kF=Oe(class extends Ae{constructor(){super(),this.__registerHost()}componentDidLoad(){CF(async()=>{const e=Xr(window,"hybrid");if(Le.getBoolean("_testing")||Qt(()=>import("./index9-B1f5j3zr.js"),[]).then(i=>i.startTapClick(Le)),Le.getBoolean("statusTap",e)&&Qt(()=>import("./status-tap-CyV4N16G.js"),[]).then(i=>i.startStatusTap()),Le.getBoolean("inputShims",_F())){const i=Xr(window,"ios")?"ios":"android";Qt(()=>import("./input-shims-CIRd6ymU.js"),[]).then(o=>o.startInputShims(Le,i))}const t=await Qt(()=>Promise.resolve().then(()=>W9),void 0),r=e||gc();Le.getBoolean("hardwareBackButton",r)?t.startHardwareBackButton():(gc()&&wt("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),t.blockHardwareBackButton()),typeof window<"u"&&Qt(()=>Promise.resolve().then(()=>tj),void 0).then(i=>i.startKeyboardAssist(window)),Qt(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=pe(this);return O(Be,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Le.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return wF}},[0,"ion-app",{setFocus:[64]}]),_F=()=>!!(Xr(window,"ios")&&Xr(window,"mobile")||Xr(window,"android")&&Xr(window,"mobileweb")),CF=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function EF(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,kF);break}})}const SF=EF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TF=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',AF=TF,IF=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',RF=IF,DF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):am(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=ki(this.el),this.defaultHref===void 0&&(this.defaultHref=Le.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:pe(this)==="ios"?Le.get("backButtonIcon",p7):Le.get("backButtonIcon",HS)}get backButtonText(){const e=pe(this)==="ios"?"Back":null;return this.text!=null?this.text:Le.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:r,type:i,hasIconOnly:o,backButtonIcon:a,backButtonText:s,icon:l,inheritedAttributes:c}=this,u=t!==void 0,d=pe(this),h=c["aria-label"]||s||"back";return O(Be,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:gt(e,{[d]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":o,"in-toolbar":Mt("ion-toolbar",this.el),"in-toolbar-color":Mt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},O("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:r,class:"button-native",part:"native","aria-label":h},O("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},a&&O("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),s&&O("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},s)),d==="md"&&O("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:AF,md:RF}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function OF(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,DF);break;case"ion-icon":customElements.get(e)||ni();break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}const MF=OF,BF=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",PF=BF,LF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionNavWillChange=ae(this,"ionNavWillChange",3),this.ionNavDidChange=ae(this,"ionNavDidChange",3),this.lockController=qs(),this.gestureOrAnimationInProgress=!1,this.mode=pe(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Qt(()=>import("./swipe-back-CW0X5PCw.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),t=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(t)},(t,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)},{oneTimeCallback:!0});let o=t?-.001:.001;t?o+=Os([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Os([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(t?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,r){const i=await this.lockController.lock();let o=!1;try{o=await this.transition(e,t,r)}catch(a){ei("[ion-router-outlet] - Exception in commit:",a)}return i(),o}async setRouteId(e,t,r,i){return{changed:await this.setRoot(e,t,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,r){if(this.activeComponent===e&&xS(t,this.activeParams))return!1;const i=this.activeEl,o=await Ld(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=o,this.activeParams=t,await this.commit(o,i,r),await xy(this.delegate,i),!0}async transition(e,t,r={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:o}=this,a=this.animated&&Le.getBoolean("animated",!0),s=r.animationBuilder||this.animation||Le.get("navAnimation");return await _S(Object.assign(Object.assign({mode:o,animated:a,enteringEl:e,leavingEl:t,baseEl:i,deepWait:rd(i),progressCallback:r.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},r),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return O("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return PF}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function zF(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,LF);break}})}const jF=zF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NF=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",FF=NF,$F=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",UF=$F,HF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ae(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ae(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await a5(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:r}=this,i=pe(this),o=r&&this.el.getAttribute("slot")!=="top";return O(Be,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":o?"true":null,class:gt(e,{[i]:!0,"tab-bar-translucent":t,"tab-bar-hidden":o})},O("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:FF,md:UF}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function WF(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,HF);break}})}const VF=WF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qF=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',GF=qF,KF=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',YF=KF,XF=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ae(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||t!=null&&t.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Zi(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Le.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:r,href:i,rel:o,target:a,layout:s,selected:l,tab:c,inheritedAttributes:u}=this,d=pe(this),h={download:this.download,href:i,rel:o,target:a};return O(Be,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":t,"tab-has-label-only":r&&!t,"tab-has-icon-only":t&&!r,["tab-layout-".concat(s)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},O("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),O("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},O("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),d==="md"&&O("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:GF,md:YF}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function ZF(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,XF);break;case"ion-ripple-effect":customElements.get(e)||ri();break}})}const JF=ZF;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QF=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",e$=QF,t$=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ae(this,"ionNavWillLoad",7),this.ionTabsWillChange=ae(this,"ionTabsWillChange",3),this.ionTabsDidChange=ae(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:t,tab:r}=e.detail;if(this.useRouter&&t!==void 0){const i=document.querySelector("ion-router");i&&i.push(t)}else this.select(r)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const t=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=t}}async select(e){const t=a0(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return a0(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const t=a0(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const t=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return t!==void 0?{id:t,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,t=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&t!==e&&(t&&(t.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const t=this.selectedTab;return e!==void 0&&e!==t&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return O(Be,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},O("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),O("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},O("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),O("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return e$}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),a0=(n,e)=>{const t=typeof e=="string"?n.find(r=>r.tab===e):e;return t||ei('[ion-tabs] - Tab with id: "'.concat(t,'" does not exist')),t};function n$(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,t$);break}})}const r$=n$;let s0;const i$=()=>{if(typeof window>"u")return new Map;if(!s0){const n=window;n.Ionicons=n.Ionicons||{},s0=n.Ionicons.map=n.Ionicons.map||new Map}return s0},o$=n=>{let e=l0(n.src);return e||(e=A5(n.name,n.icon,n.mode,n.ios,n.md),e?a$(e,n):n.icon&&(e=l0(n.icon),e||(e=l0(n.icon[n.mode]),e))?e:null)},a$=(n,e)=>{const t=i$().get(n);if(t)return t;try{return iS("svg/".concat(n,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(n,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},A5=(n,e,t,r,i)=>(t=(t&&Ih(t))==="ios"?"ios":"md",r&&t==="ios"?n=Ih(r):i&&t==="md"?n=Ih(i):(!n&&e&&!I5(e)&&(n=e),dp(n)&&(n=Ih(n))),!dp(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),l0=n=>dp(n)&&(n=n.trim(),I5(n))?n:null,I5=n=>n.length>0&&/(\/|\.)/.test(n),dp=n=>typeof n=="string",Ih=n=>n.toLowerCase(),s$=(n,e=[])=>{const t={};return e.forEach(r=>{n.hasAttribute(r)&&(n.getAttribute(r)!==null&&(t[r]=n.getAttribute(r)),n.removeAttribute(r))}),t},l$=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",c$=n=>{const e=document.createElement("div");e.innerHTML=n;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const r=t.getAttribute("class")||"";if(t.setAttribute("class",(r+" s-ion-icon").trim()),R5(t))return e.innerHTML}return""},R5=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(dp(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!R5(n.childNodes[e]))return!1}return!0},u$=n=>n.startsWith("data:image/svg+xml"),d$=n=>n.indexOf(";utf8,")!==-1,us=new Map,Vk=new Map;let c0;const h$=(n,e)=>{let t=Vk.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(u$(n)&&d$(n)){c0||(c0=new DOMParser);const i=c0.parseFromString(n,"text/html").querySelector("svg");return i&&us.set(n,i.outerHTML),Promise.resolve()}else t=fetch(n).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=c$(i)),us.set(n,i||"")});us.set(n,"")}),Vk.set(n,t);else return us.set(n,""),Promise.resolve();return t},f$=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",p$=Oe(class extends Ae{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=m$(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=s$(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:t});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=o$(this);e&&(us.has(e)?this.svgContent=us.get(e):h$(e,this.sanitize).then(()=>this.svgContent=us.get(e)),this.didLoadIcon=!0)}this.iconName=A5(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:r,el:i}=this,o=this.mode||"md",a=t?(t.includes("arrow")||t.includes("chevron"))&&e!==!1:!1,s=e||a;return O(Be,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},g$(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":s,"icon-rtl":s&&l$(i)})},r),this.svgContent?O("div",{class:"icon-inner",innerHTML:this.svgContent}):O("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return f$}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),m$=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",g$=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function b$(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,p$);break}})}const v$=b$,dm=de.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),x$=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(n){if(n.id){const e=this.ionViewWillEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillEnterCallbacks[e]=n:this.ionViewWillEnterCallbacks.push(n)}else this.ionViewWillEnterCallbacks.push(n)}teardownCallback(n,e){const t=e.filter(r=>r.id===n.id);t.length!==0&&(t.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==n.id))}cleanupIonViewWillEnter(n){this.teardownCallback(n,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(n){this.teardownCallback(n,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(n){this.teardownCallback(n,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(n){this.teardownCallback(n,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewWillEnterDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewDidEnter(n){if(n.id){const e=this.ionViewDidEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidEnterCallbacks[e]=n:this.ionViewDidEnterCallbacks.push(n)}else this.ionViewDidEnterCallbacks.push(n)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewDidEnterDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewWillLeave(n){if(n.id){const e=this.ionViewWillLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillLeaveCallbacks[e]=n:this.ionViewWillLeaveCallbacks.push(n)}else this.ionViewWillLeaveCallbacks.push(n)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:n.id,destructor:e})})}onIonViewDidLeave(n){if(n.id){const e=this.ionViewDidLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidLeaveCallbacks[e]=n:this.ionViewDidLeaveCallbacks.push(n)}else this.ionViewDidLeaveCallbacks.push(n)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(n=>{const e=n();n.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:n.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(n){this.componentCanBeDestroyedCallback=n}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},y$=(n,e=[])=>{const t=K.useContext(dm),r=K.useRef();r.current=r.current||Math.floor(Math.random()*1e6),K.useEffect(()=>(n.id=r.current,t.onIonViewWillEnter(n),()=>{t.cleanupIonViewWillEnter(n)}),e)},_i=de.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:n=>{typeof window<"u"&&(typeof n=="string"?window.location.pathname=n:window.history.back())},navigate:n=>{typeof window<"u"&&(window.location.pathname=n)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),Fy=n=>n.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),hm=n=>n.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),fm=(n,e,t={})=>{if(n instanceof Element){const r=w$(n.classList,e,t);r!==""&&(n.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const o=i.substring(2),a=o[0].toLowerCase()+o.substring(1);$d(a)||_$(n,a,e[i])}else n[i]=e[i],typeof e[i]==="string"&&n.setAttribute(hm(i),e[i])})}},w$=(n,e,t)=>{const r=e.className||e.class,i=t.className||t.class,o=u0(n),a=u0(r?r.split(" "):[]),s=u0(i?i.split(" "):[]),l=[];return o.forEach(c=>{a.has(c)?(l.push(c),a.delete(c)):s.has(c)||l.push(c)}),a.forEach(c=>l.push(c)),l.join(" ")},k$=n=>{switch(n){case"doubleclick":return"dblclick"}return n};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const $d=n=>{if(typeof document>"u")return!0;{const e="on"+k$(n);let t=e in document;if(!t){const r=document.createElement("div");r.setAttribute(e,"return;"),t=typeof r[e]=="function"}return t}},_$=(n,e,t)=>{const r=n.__events||(n.__events={}),i=r[e];i&&n.removeEventListener(e,i),n.addEventListener(e,r[e]=function(a){t&&t.call(this,a)})},u0=n=>{const e=new Map;return n.forEach(t=>e.set(t,t)),e},C$=(n,e)=>{typeof n=="function"?n(e):n!=null&&(n.current=e)},pm=(...n)=>e=>{n.forEach(t=>{C$(t,e)})},E$=(n,e)=>{const t=(r,i)=>k.jsx(n,{...r,forwardedRef:i});return t.displayName=e,de.forwardRef(t)},S$=(n,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(n)&&customElements.define(n,e)},qe=(n,e,t,r)=>{r!==void 0&&r();const i=Fy(n),o=class extends de.Component{constructor(a){super(a),this.setComponentElRef=s=>{this.componentEl=s}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(a){fm(this.componentEl,this.props,a)}render(){const{children:a,forwardedRef:s,style:l,className:c,ref:u,...d}=this.props,f={...Object.keys(d).reduce((p,m)=>{const b=d[m];if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const g=m.substring(2).toLowerCase();typeof document<"u"&&$d(g)&&(p[m]=b)}else{const g=typeof b;(g==="string"||g==="boolean"||g==="number")&&(p[hm(m)]=b)}return p},{}),ref:pm(s,this.setComponentElRef),style:l};return K.createElement(n,f,a)}static get displayName(){return i}};return E$(o,i)},D5=qe("ion-avatar",void 0,void 0,H7),hp=qe("ion-badge",void 0,void 0,tM),Hn=qe("ion-buttons",void 0,void 0,sM),Qn=qe("ion-card-content",void 0,void 0,pM),$y=qe("ion-card-header",void 0,void 0,wM),d0=qe("ion-card-subtitle",void 0,void 0,AM),Fl=qe("ion-card-title",void 0,void 0,PM),Rr=qe("ion-col",void 0,void 0,tB),Bt=qe("ion-content",void 0,void 0,lB),T$=qe("ion-footer",void 0,void 0,ZB),_a=qe("ion-grid",void 0,void 0,nP),xn=qe("ion-header",void 0,void 0,fP),mm=qe("ion-img",void 0,void 0,xP),Ht=qe("ion-input",void 0,void 0,BP),Zl=qe("ion-input-password-toggle",void 0,void 0,$P),gn=qe("ion-label",void 0,void 0,XP),O5=qe("ion-list",void 0,void 0,nL),A$=qe("ion-menu",void 0,void 0,xL),M5=qe("ion-menu-button",void 0,void 0,SL),I$=qe("ion-menu-toggle",void 0,void 0,DL),R$=qe("ion-note",void 0,void 0,WL),D$=qe("ion-range",void 0,void 0,hz),vi=qe("ion-row",void 0,void 0,bz),O$=qe("ion-searchbar",void 0,void 0,Ez),ff=qe("ion-select",void 0,void 0,Yj),fo=qe("ion-select-option",void 0,void 0,tN),ja=qe("ion-spinner",void 0,void 0,nN),M$=qe("ion-tab",void 0,void 0,sN),Dn=qe("ion-text",void 0,void 0,hN),Uy=qe("ion-textarea",void 0,void 0,yN),B$=qe("ion-thumbnail",void 0,void 0,EN),Wn=qe("ion-title",void 0,void 0,SN),gm=qe("ion-toggle",void 0,void 0,PN),yn=qe("ion-toolbar",void 0,void 0,LN),Gs=(n,e)=>{const t=(r,i)=>k.jsx(n,{...r,forwardedRef:i});return t.displayName=e,de.forwardRef(t)},Hy=()=>{if(typeof window<"u"){const n=window.Ionic;if(n&&n.config)return n.config}return null},Wy=(n,e)=>{S$(n,e);const t=Fy(n),r=class extends de.Component{constructor(i){super(i),this.handleClick=o=>{const{routerLink:a,routerDirection:s,routerOptions:l,routerAnimation:c}=this.props;a!==void 0&&(o.preventDefault(),this.context.navigate(a,s,void 0,c,l))},this.ref=de.createRef(),this.stableMergedRefs=pm(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(i){const o=this.ref.current;fm(o,this.props,i)}render(){const{children:i,forwardedRef:o,style:a,className:s,ref:l,...c}=this.props,d={...Object.keys(c).reduce((h,f)=>{if(f.indexOf("on")===0&&f[2]===f[2].toUpperCase()){const p=f.substring(2).toLowerCase();$d(p)&&(h[f]=c[f])}else["string","boolean","number"].includes(typeof c[f])&&(h[hm(f)]=c[f]);return h},{}),ref:this.stableMergedRefs,style:a};if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const h=d.onClick;d.onClick=f=>{h(f),f.defaultPrevented||this.handleClick(f)}}else d.onClick=this.handleClick;return K.createElement(n,d,i)}static get displayName(){return t}static get contextType(){return _i}};return Gs(r,t)},je=Wy("ion-button",zN),er=Wy("ion-card",HN),Yn=Wy("ion-item",WN),P$=(n,e)=>{n instanceof Element&&Object.keys(e).forEach(t=>{if(t.indexOf("on")===0&&t[2]===t[2].toUpperCase()){const r=t.substring(2),i=r[0].toLowerCase()+r.substring(1);$d(i)||L$(n,i)}})},L$=(n,e)=>{const t=n.__events||(n.__events={}),r=t[e];r&&(n.removeEventListener(e,r),t[e]=void 0)},Ud=(n,e,t)=>{e&&e();const r=Fy(n),i=class extends de.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=a=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(a)},this.handleDidDismiss=a=>{const s=this.wrapperRef.current,l=this.ref.current;s&&l&&(l.append(s),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(a)},this.ref=de.createRef(),this.stableMergedRefs=pm(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=de.createRef()}componentDidMount(){var o,a,s;this.componentDidUpdate(this.props),(o=this.ref.current)==null||o.addEventListener("ionMount",this.handleIonMount),(a=this.ref.current)==null||a.addEventListener("willPresent",this.handleWillPresent),(s=this.ref.current)==null||s.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const a=this.ref.current,{onDidDismiss:s,onWillPresent:l,...c}=this.props;fm(a,c,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),P$(o,this.props))}render(){const{children:o,forwardedRef:a,style:s,className:l,ref:c,...u}=this.props,h={...Object.keys(u).reduce((p,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const b=m.substring(2).toLowerCase();$d(b)&&(p[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(p[hm(m)]=u[m]);return p},{}),ref:this.stableMergedRefs,style:s},f=()=>t?"".concat(qk," ion-page"):qk;return K.createElement("template",{},K.createElement(n,h,this.state.isOpen||this.props.keepContentsMounted?K.createElement("div",{ref:this.wrapperRef,className:f()},o):null))}static get displayName(){return r}};return Gs(i,r)},qk="ion-delegate-host",Na=Ud("ion-alert",VN),fp=Ud("ion-loading",nF),Fa=Ud("ion-toast",T5),z$=Ud("ion-action-sheet",vF),Io=Ud("ion-modal",xF,!0),j$=de.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),N$=({onAddOverlay:n,onRemoveOverlay:e})=>{const[t,r]=K.useState({}),i=K.useRef({});K.useEffect(()=>{n(o),e(a)},[]);const o=(l,c,u)=>{const d={...i.current};d[l]={component:c,containerElement:u},i.current=d,r(d)},a=l=>{const c={...i.current};delete c[l],i.current=c,r(c)},s=Object.keys(t);return k.jsx(k.Fragment,{children:s.map(l=>{const c=t[l];return g8.createPortal(c.component,c.containerElement,"overlay-".concat(l))})})},F$=qe("ion-tab-button",void 0,void 0,JF),$$=qe("ion-tab-bar",void 0,void 0,VF),Gk=qe("ion-tabs",void 0,void 0,r$),U$=qe("ion-back-button",void 0,void 0,MF),vv=qe("ion-router-outlet",void 0,void 0,jF),H$=qe("ion-app",void 0,void 0,SF),W$=qe("ion-icon",void 0,void 0,v$);class B5 extends de.Component{constructor(e){super(e),this.ionContext={addOverlay:(t,r,i)=>{this.addOverlayCallback&&this.addOverlayCallback(t,r,i)},removeOverlay:t=>{this.removeOverlayCallback&&this.removeOverlayCallback(t)}}}render(){return k.jsxs(j$.Provider,{value:this.ionContext,children:[k.jsx(H$,{...this.props,children:this.props.children}),k.jsx(N$,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}B5.displayName="IonApp";const Vy=de.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class qy extends de.PureComponent{constructor(e){super(e),this.ionPageElementRef=de.createRef(),this.stableMergedRefs=pm(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:t,routeInfo:r,forwardedRef:i,...o}=this.props;return k.jsx(dm.Consumer,{children:a=>(this.ionLifeCycleContext=a,k.jsx("div",{className:e?"".concat(e," ion-page"):"ion-page",ref:this.stableMergedRefs,...o,children:t}))})}static get contextType(){return Vy}}class V$ extends de.Component{constructor(e){super(e)}render(){const{className:e,children:t,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?k.jsx(qy,{className:e?"".concat(e):"",routeInfo:this.context.routeInfo,forwardedRef:r,...i,children:t}):k.jsx("div",{className:e?"ion-page ".concat(e):"ion-page",ref:r,...i,children:t})}static get displayName(){return"IonPage"}static get contextType(){return _i}}const Dr=Gs(V$,"IonPage"),Kk={main:0},ad=(n="main")=>{var t;const e=((t=Kk[n])!=null?t:0)+1;return Kk[n]=e,e.toString()},q$=(n,e)=>{const t=new WeakMap,r="react-delegate-".concat(ad());let i=0;return{attachViewToDom:async(s,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),s.appendChild(d);const h=l(c),f="".concat(r,"-").concat(i++),p=px.createPortal(h,d,f);return t.set(d,p),n(p),Promise.resolve(d)},removeViewFromDom:(s,l)=>{const c=t.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},G$=qe("ion-nav",void 0,void 0,zL),K$=({children:n,forwardedRef:e,...t})=>{const[r,i]=K.useState([]),o=l=>i(c=>[...c,l]),a=l=>i(c=>c.filter(u=>u!==l)),s=K.useMemo(()=>q$(o,a),[]);return k.jsx(G$,{delegate:s,ref:e,...t,children:r})};Gs(K$,"IonNav");const P5=de.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:de.createRef()}}),Y$=typeof HTMLElement<"u"?HTMLElement:class{};class X$ extends de.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||yi(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:t,routeInfo:r,...i}=this.props;return k.jsx(dm.Consumer,{children:o=>(this.ionLifeCycleContext=o,k.jsx(e,{routeInfo:r,children:k.jsx(vv,{setRef:a=>this.ionRouterOutlet=a,...i,children:t})}))})}static get contextType(){return Vy}}class Z$ extends de.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:t,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?i.ionPage?k.jsx(X$,{StackManager:e,routeInfo:this.context.routeInfo,...i,children:t}):k.jsx(e,{routeInfo:this.context.routeInfo,children:k.jsx(vv,{...i,forwardedRef:r,children:t})}):k.jsx(vv,{ref:r,...this.props,children:this.props.children})}static get contextType(){return _i}}const $l=Gs(Z$,"IonRouterOutlet");class J$ extends Y${constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",J$));class Vie extends de.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=de.createRef(),this.tabBarRef=de.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,t){return k.jsx(Gk,{...this.props,children:de.Children.map(e,r=>de.isValidElement(r)&&(r.type===$l||r.type.isRouterOutlet||r.type===K.Fragment&&r.props.children[0].type===$l)?t:r)})}render(){let e,t=!1;const{className:r,onIonTabsDidChange:i,onIonTabsWillChange:o,...a}=this.props,s=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(de.Children.forEach(s,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===$l||l.type.isRouterOutlet?e=de.cloneElement(l):l.type===K.Fragment&&l.props.children[0].type===$l?e=de.cloneElement(l.props.children[0]):l.type===M$&&(t=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};i!==void 0&&(c={...c,onIonTabsDidChange:i}),o!==void 0&&(c={...c,onIonTabsWillChange:o}),this.ionTabContextState.tabBarProps=c}),!e&&!t)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&t)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return t?k.jsx(Gk,{...this.props}):k.jsx(P5.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?k.jsx(qy,{className:r?"".concat(r):"",routeInfo:this.context.routeInfo,...a,children:this.renderTabsInner(s,e)}):this.renderTabsInner(s,e)})}static get contextType(){return _i}}class h0 extends de.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...t}=this.props;return k.jsx(F$,{onIonTabButtonClick:this.handleIonTabButtonClick,...t})}static get displayName(){return"IonTabButton"}}class Q$ extends de.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const t={};de.Children.forEach(e.children,r=>{var i,o,a,s;r!=null&&typeof r=="object"&&r.props&&(r.type===h0||r.type.isTabButton)&&(t[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===((i=e.routeInfo)==null?void 0:i.pathname)?(o=e.routeInfo)==null?void 0:o.routeOptions:void 0,currentRouteOptions:r.props.href===((a=e.routeInfo)==null?void 0:a.pathname)?(s=e.routeInfo)==null?void 0:s.routeOptions:void 0})}),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const o=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(o)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return t?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,t){var s,l,c;const r={...t.tabs},o=Object.keys(t.tabs).find(u=>{const d=t.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});de.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===h0||u.type.isTabButton)){const d=r[u.props.tab];(!d||d.originalHref!==u.props.href)&&(r[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:a}=t;if(o&&a){const u=t.tabs[a].currentHref,d=t.tabs[a].currentRouteOptions;(o!==a||u!==((s=e.routeInfo)==null?void 0:s.pathname)||d!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(r[o]={originalHref:r[o].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[o].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&o!==a&&(r[a]={originalHref:r[a].originalHref,currentHref:r[a].originalHref,originalRouteOptions:r[a].originalRouteOptions,currentRouteOptions:r[a].currentRouteOptions}))}return o&&e.onSetCurrentTab(o,e.routeInfo),{activeTab:o,tabs:r}}onTabButtonClick(e,t){var l;const r=this.state.tabs[e.detail.tab],i=r.originalHref,o=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,a=o?e.detail.href:"",{activeTab:s}=this.state;t&&t(e),s===e.detail.tab?i!==a&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return t=>{var r,i;if(t!=null&&t.props&&(t.type===h0||t.type.isTabButton)){const o=t.props.tab===e?(r=this.props.routeInfo)==null?void 0:r.pathname:this.state.tabs[t.props.tab].currentHref,a=t.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return de.cloneElement(t,{href:o,routeOptions:a,onClick:s=>this.onTabButtonClick(s,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return k.jsx($$,{...this.props,selectedTab:e,children:de.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return _i}}const eU=de.memo(({forwardedRef:n,...e})=>{const t=K.useContext(_i),r=K.useContext(P5),i=n||r.tabBarProps.ref,o={...r.tabBarProps,ref:i};return k.jsx(Q$,{ref:i,...e,routeInfo:e.routeInfo||t.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:t.setCurrentTab,tabsContext:{...r,tabBarProps:o},children:e.children})});Gs(eU,"IonTabBar");class sd extends de.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:t,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,r)):t!==void 0&&(window.location.href=t)}}render(){return k.jsx(U$,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return _i}shouldComponentUpdate(){return!0}}class tU extends de.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var c,u;const{icon:e,ios:t,md:r,mode:i,...o}=this.props;let a;const s=Hy(),l=i||(s==null?void 0:s.get("mode"));return t||r?l==="ios"?a=(c=t!=null?t:r)!=null?c:e:a=(u=r!=null?r:t)!=null?u:e:a=e,k.jsx(W$,{ref:this.props.forwardedRef,icon:a,...o,children:this.props.children})}static get contextType(){return _i}}const Ye=Gs(tU,"IonIcon");class Gy extends de.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!Gy?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):k.jsx(e,{...this.props})}static get contextType(){return _i}}class L5 extends de.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!L5?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):k.jsx(e,{...this.props})}static get contextType(){return _i}}const z5=de.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Da(){const n=K.useContext(z5);return K.useMemo(()=>({back:n.back,push:n.push,goBack:n.back,canGoBack:n.canGoBack,routeInfo:n.routeInfo}),[n.back,n.push,n.canGoBack,n.routeInfo])}class qie extends de.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=ge(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),Yk(t,e),Xk(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,r=this.props;Yk(t,r,e),nU(t,r,e),Xk(t,r,e)}render(){const{children:e}=this.props;return k.jsx(k.Fragment,{children:de.Children.map(e,(t,r)=>de.cloneElement(t,{ref:i=>this.nodes.set(r,i)}))})}}const Yk=(n,e={},t={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!r.includes(l)&&e[l]!==t[l]&&n[l](e[l]);const i=e.from;i&&i!==t.from&&(Array.isArray(i)?i:[i]).forEach(c=>n.from(c.property,c.value));const o=e.to;o&&o!==t.to&&(Array.isArray(o)?o:[o]).forEach(c=>n.to(c.property,c.value));const a=e.fromTo;a&&a!==t.fromTo&&(Array.isArray(a)?a:[a]).forEach(c=>n.fromTo(c.property,c.fromValue,c.toValue));const s=e.onFinish;s&&s!==t.onFinish&&(Array.isArray(s)?s:[s]).forEach(c=>n.onFinish(c.callback,c.opts))},nU=(n,e={},t={})=>{var a,s,l,c,u;const{progressStart:r,progressStep:i,progressEnd:o}=e;r&&(((a=t.progressStart)==null?void 0:a.forceLinearEasing)!==(r==null?void 0:r.forceLinearEasing)||((s=t.progressStart)==null?void 0:s.step)!==(r==null?void 0:r.step))&&n.progressStart(r.forceLinearEasing,r.step),i&&((l=t.progressStep)==null?void 0:l.step)!==(i==null?void 0:i.step)&&n.progressStep(i.step),o&&(((c=t.progressEnd)==null?void 0:c.playTo)!==(o==null?void 0:o.playTo)||((u=t.progressEnd)==null?void 0:u.step)!==(o==null?void 0:o.step)||(t==null?void 0:t.dur)!==(o==null?void 0:o.dur))&&n.progressEnd(o.playTo,o.step,o.dur)},Xk=(n,e={},t={})=>{!t.play&&e.play&&n.play(),!t.pause&&e.pause&&n.pause(),!t.stop&&e.stop&&n.stop(),!t.destroy&&e.destroy&&n.destroy()};function rU(n,e,t){const r=K.useRef(),i=K.useMemo(()=>"on".concat(n,"DidDismiss"),[n]),o=K.useMemo(()=>"on".concat(n,"DidPresent"),[n]),a=K.useMemo(()=>"on".concat(n,"WillDismiss"),[n]),s=K.useMemo(()=>"on".concat(n,"WillPresent"),[n]);t();const l=K.useCallback(async u=>{if(r.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:f,onWillPresent:p,...m}=u,b=g=>{d&&d(g),r.current=void 0};r.current=await e.create({...m}),fm(r.current,{[i]:b,[o]:g=>f&&f(g),[a]:g=>h&&h(g),[s]:g=>p&&p(g)}),r.current.present()},[e]),c=K.useCallback(async()=>{r.current&&await r.current.dismiss(),r.current=void 0},[]);return{present:l,dismiss:c}}function bm(){const n=rU("IonToast",e7,T5);return[K.useCallback((t,r)=>typeof t=="string"?n.present({message:t,duration:r}):n.present(t),[n.present]),n.dismiss]}const iU=(n={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),P9({...n})},j5=de.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Zk extends de.Component{constructor(e){super(e),this.ionLifeCycleContext=new x$,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return k.jsx(dm.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class oU{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex(i=>i.id===e.id);t>-1&&this.locationHistory.splice(t,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(o=>o.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!e||!t?!1:e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(t=>this.tabHistory[t]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let r=t.length-2;r>=0;r--){const i=t[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class aU extends de.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(t,r,i,o,a)=>{this.navigate(t,r,i,a,o)},back:t=>{this.goBack(void 0,t)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,t=>{this.nativeGoBack(),t()})}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",r="push",i,o,a){this.props.onNavigate(e,r,t,i,o,a)}getPageManager(){return qy}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return k.jsx(_i.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:k.jsx(z5.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class sU{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,r=this.viewStacks[t];if(r){const i=r.find(o=>o.id===e.id);i&&(i.mount=!1,this.viewStacks[t]=r.filter(o=>o.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach(r=>{t.push(...this.viewStacks[r])}),t}}function ld(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dr(){return dr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dr.apply(null,arguments)}function Rh(n){return n.charAt(0)==="/"}function f0(n,e){for(var t=e,r=t+1,i=n.length;r<i;t+=1,r+=1)n[t]=n[r];n.pop()}function lU(n,e){e===void 0&&(e="");var t=n&&n.split("/")||[],r=e&&e.split("/")||[],i=n&&Rh(n),o=e&&Rh(e),a=i||o;if(n&&Rh(n)?r=t:t.length&&(r.pop(),r=r.concat(t)),!r.length)return"/";var s;if(r.length){var l=r[r.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var c=0,u=r.length;u>=0;u--){var d=r[u];d==="."?f0(r,u):d===".."?(f0(r,u),c++):c&&(f0(r,u),c--)}if(!a)for(;c--;c)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Rh(r[0]))&&r.unshift("");var h=r.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}function Jk(n){return n.valueOf?n.valueOf():Object.prototype.valueOf.call(n)}function pf(n,e){if(n===e)return!0;if(n==null||e==null)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(i,o){return pf(i,e[o])});if(typeof n=="object"||typeof e=="object"){var t=Jk(n),r=Jk(e);return t!==n||r!==e?pf(t,r):Object.keys(Object.assign({},n,e)).every(function(i){return pf(n[i],e[i])})}return!1}var cU="Invariant failed";function Ks(n,e){throw new Error(cU)}function Mu(n){return n.charAt(0)==="/"?n:"/"+n}function Qk(n){return n.charAt(0)==="/"?n.substr(1):n}function uU(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function N5(n,e){return uU(n,e)?n.substr(e.length):n}function F5(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function dU(n){var e=n||"/",t="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(t=e.substr(o),e=e.substr(0,o)),{pathname:e,search:t==="?"?"":t,hash:r==="#"?"":r}}function Nr(n){var e=n.pathname,t=n.search,r=n.hash,i=e||"/";return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function sr(n,e,t,r){var i;typeof n=="string"?(i=dU(n),i.state=e):(i=dr({},n),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return t&&(i.key=t),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=lU(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function hU(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash===e.hash&&n.key===e.key&&pf(n.state,e.state)}function Ky(){var n=null;function e(a){return n=a,function(){n===a&&(n=null)}}function t(a,s,l,c){if(n!=null){var u=typeof n=="function"?n(a,s):n;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var r=[];function i(a){var s=!0;function l(){s&&a.apply(void 0,arguments)}return r.push(l),function(){s=!1,r=r.filter(function(c){return c!==l})}}function o(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];r.forEach(function(c){return c.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:i,notifyListeners:o}}var $5=!!(typeof window<"u"&&window.document&&window.document.createElement);function U5(n,e){e(window.confirm(n))}function fU(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function pU(){return window.navigator.userAgent.indexOf("Trident")===-1}function mU(){return window.navigator.userAgent.indexOf("Firefox")===-1}function gU(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var e_="popstate",t_="hashchange";function n_(){try{return window.history.state||{}}catch(n){return{}}}function bU(n){n===void 0&&(n={}),$5||Ks();var e=window.history,t=fU(),r=!pU(),i=n,o=i.forceRefresh,a=o===void 0?!1:o,s=i.getUserConfirmation,l=s===void 0?U5:s,c=i.keyLength,u=c===void 0?6:c,d=n.basename?F5(Mu(n.basename)):"";function h(P){var $=P||{},F=$.key,N=$.state,ee=window.location,X=ee.pathname,J=ee.search,be=ee.hash,we=X+J+be;return d&&(we=N5(we,d)),sr(we,N,F)}function f(){return Math.random().toString(36).substr(2,u)}var p=Ky();function m(P){dr(U,P),U.length=e.length,p.notifyListeners(U.location,U.action)}function b(P){gU(P)||x(h(P.state))}function g(){x(h(n_()))}var v=!1;function x(P){if(v)v=!1,m();else{var $="POP";p.confirmTransitionTo(P,$,l,function(F){F?m({action:$,location:P}):y(P)})}}function y(P){var $=U.location,F=E.indexOf($.key);F===-1&&(F=0);var N=E.indexOf(P.key);N===-1&&(N=0);var ee=F-N;ee&&(v=!0,A(ee))}var w=h(n_()),E=[w.key];function C(P){return d+Nr(P)}function S(P,$){var F="PUSH",N=sr(P,$,f(),U.location);p.confirmTransitionTo(N,F,l,function(ee){if(ee){var X=C(N),J=N.key,be=N.state;if(t)if(e.pushState({key:J,state:be},null,X),a)window.location.href=X;else{var we=E.indexOf(U.location.key),ve=E.slice(0,we+1);ve.push(N.key),E=ve,m({action:F,location:N})}else window.location.href=X}})}function _(P,$){var F="REPLACE",N=sr(P,$,f(),U.location);p.confirmTransitionTo(N,F,l,function(ee){if(ee){var X=C(N),J=N.key,be=N.state;if(t)if(e.replaceState({key:J,state:be},null,X),a)window.location.replace(X);else{var we=E.indexOf(U.location.key);we!==-1&&(E[we]=N.key),m({action:F,location:N})}else window.location.replace(X)}})}function A(P){e.go(P)}function D(){A(-1)}function I(){A(1)}var M=0;function T(P){M+=P,M===1&&P===1?(window.addEventListener(e_,b),r&&window.addEventListener(t_,g)):M===0&&(window.removeEventListener(e_,b),r&&window.removeEventListener(t_,g))}var B=!1;function L(P){P===void 0&&(P=!1);var $=p.setPrompt(P);return B||(T(1),B=!0),function(){return B&&(B=!1,T(-1)),$()}}function z(P){var $=p.appendListener(P);return T(1),function(){T(-1),$()}}var U={length:e.length,action:"POP",location:w,createHref:C,push:S,replace:_,go:A,goBack:D,goForward:I,block:L,listen:z};return U}var r_="hashchange",vU={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Qk(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Qk,decodePath:Mu},slash:{encodePath:Mu,decodePath:Mu}};function H5(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function eu(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function xU(n){window.location.hash=n}function p0(n){window.location.replace(H5(window.location.href)+"#"+n)}function yU(n){n===void 0&&(n={}),$5||Ks();var e=window.history;mU();var t=n,r=t.getUserConfirmation,i=r===void 0?U5:r,o=t.hashType,a=o===void 0?"slash":o,s=n.basename?F5(Mu(n.basename)):"",l=vU[a],c=l.encodePath,u=l.decodePath;function d(){var $=u(eu());return s&&($=N5($,s)),sr($)}var h=Ky();function f($){dr(P,$),P.length=e.length,h.notifyListeners(P.location,P.action)}var p=!1,m=null;function b($,F){return $.pathname===F.pathname&&$.search===F.search&&$.hash===F.hash}function g(){var $=eu(),F=c($);if($!==F)p0(F);else{var N=d(),ee=P.location;if(!p&&b(ee,N)||m===Nr(N))return;m=null,v(N)}}function v($){if(p)p=!1,f();else{var F="POP";h.confirmTransitionTo($,F,i,function(N){N?f({action:F,location:$}):x($)})}}function x($){var F=P.location,N=C.lastIndexOf(Nr(F));N===-1&&(N=0);var ee=C.lastIndexOf(Nr($));ee===-1&&(ee=0);var X=N-ee;X&&(p=!0,D(X))}var y=eu(),w=c(y);y!==w&&p0(w);var E=d(),C=[Nr(E)];function S($){var F=document.querySelector("base"),N="";return F&&F.getAttribute("href")&&(N=H5(window.location.href)),N+"#"+c(s+Nr($))}function _($,F){var N="PUSH",ee=sr($,void 0,void 0,P.location);h.confirmTransitionTo(ee,N,i,function(X){if(X){var J=Nr(ee),be=c(s+J),we=eu()!==be;if(we){m=J,xU(be);var ve=C.lastIndexOf(Nr(P.location)),ke=C.slice(0,ve+1);ke.push(J),C=ke,f({action:N,location:ee})}else f()}})}function A($,F){var N="REPLACE",ee=sr($,void 0,void 0,P.location);h.confirmTransitionTo(ee,N,i,function(X){if(X){var J=Nr(ee),be=c(s+J),we=eu()!==be;we&&(m=J,p0(be));var ve=C.indexOf(Nr(P.location));ve!==-1&&(C[ve]=J),f({action:N,location:ee})}})}function D($){e.go($)}function I(){D(-1)}function M(){D(1)}var T=0;function B($){T+=$,T===1&&$===1?window.addEventListener(r_,g):T===0&&window.removeEventListener(r_,g)}var L=!1;function z($){$===void 0&&($=!1);var F=h.setPrompt($);return L||(B(1),L=!0),function(){return L&&(L=!1,B(-1)),F()}}function U($){var F=h.appendListener($);return B(1),function(){B(-1),F()}}var P={length:e.length,action:"POP",location:E,createHref:S,push:_,replace:A,go:D,goBack:I,goForward:M,block:z,listen:U};return P}function i_(n,e,t){return Math.min(Math.max(n,e),t)}function wU(n){n===void 0&&(n={});var e=n,t=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,l=s===void 0?6:s,c=Ky();function u(S){dr(C,S),C.length=C.entries.length,c.notifyListeners(C.location,C.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=i_(a,0,i.length-1),f=i.map(function(S){return typeof S=="string"?sr(S,void 0,d()):sr(S,void 0,S.key||d())}),p=Nr;function m(S,_){var A="PUSH",D=sr(S,_,d(),C.location);c.confirmTransitionTo(D,A,t,function(I){if(I){var M=C.index,T=M+1,B=C.entries.slice(0);B.length>T?B.splice(T,B.length-T,D):B.push(D),u({action:A,location:D,index:T,entries:B})}})}function b(S,_){var A="REPLACE",D=sr(S,_,d(),C.location);c.confirmTransitionTo(D,A,t,function(I){I&&(C.entries[C.index]=D,u({action:A,location:D}))})}function g(S){var _=i_(C.index+S,0,C.entries.length-1),A="POP",D=C.entries[_];c.confirmTransitionTo(D,A,t,function(I){I?u({action:A,location:D,index:_}):u()})}function v(){g(-1)}function x(){g(1)}function y(S){var _=C.index+S;return _>=0&&_<C.entries.length}function w(S){return S===void 0&&(S=!1),c.setPrompt(S)}function E(S){return c.appendListener(S)}var C={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:m,replace:b,go:g,goBack:v,goForward:x,canGo:y,block:w,listen:E};return C}function xv(n,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xv(n,e)}function Oa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xv(n,e)}var W5={exports:{}},kU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_U=kU,CU=_U;function V5(){}function q5(){}q5.resetWarningCache=V5;var EU=function(){function n(r,i,o,a,s,l){if(l!==CU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q5,resetWarningCache:V5};return t.PropTypes=t,t};W5.exports=EU();var SU=W5.exports;const o_=js(SU);var jc={exports:{}},TU=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},pp=TU;jc.exports=Y5;jc.exports.parse=Yy;jc.exports.compile=RU;jc.exports.tokensToFunction=G5;jc.exports.tokensToRegExp=K5;var AU=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Yy(n,e){for(var t=[],r=0,i=0,o="",a=e&&e.delimiter||"/",s;(s=AU.exec(n))!=null;){var l=s[0],c=s[1],u=s.index;if(o+=n.slice(i,u),i=u+l.length,c){o+=c[1];continue}var d=n[i],h=s[2],f=s[3],p=s[4],m=s[5],b=s[6],g=s[7];o&&(t.push(o),o="");var v=h!=null&&d!=null&&d!==h,x=b==="+"||b==="*",y=b==="?"||b==="*",w=h||a,E=p||m,C=h||(typeof t[t.length-1]=="string"?t[t.length-1]:"");t.push({name:f||r++,prefix:h||"",delimiter:w,optional:y,repeat:x,partial:v,asterisk:!!g,pattern:E?MU(E):g?".*":IU(w,C)})}return i<n.length&&(o+=n.substr(i)),o&&t.push(o),t}function IU(n,e){return!e||e.indexOf(n)>-1?"[^"+ds(n)+"]+?":ds(e)+"|(?:(?!"+ds(e)+")[^"+ds(n)+"])+?"}function RU(n,e){return G5(Yy(n,e),e)}function DU(n){return encodeURI(n).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function OU(n){return encodeURI(n).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function G5(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)typeof n[r]=="object"&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Zy(e)));return function(i,o){for(var a="",s=i||{},l=o||{},c=l.pretty?DU:encodeURIComponent,u=0;u<n.length;u++){var d=n[u];if(typeof d=="string"){a+=d;continue}var h=s[d.name],f;if(h==null)if(d.optional){d.partial&&(a+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(pp(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!t[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?OU(h):c(h),!t[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');a+=d.prefix+f}return a}}function ds(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function MU(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Xy(n,e){return n.keys=e,n}function Zy(n){return n&&n.sensitive?"":"i"}function BU(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Xy(n,e)}function PU(n,e,t){for(var r=[],i=0;i<n.length;i++)r.push(Y5(n[i],e,t).source);var o=new RegExp("(?:"+r.join("|")+")",Zy(t));return Xy(o,e)}function LU(n,e,t){return K5(Yy(n,t),e,t)}function K5(n,e,t){pp(e)||(t=e||t,e=[]),t=t||{};for(var r=t.strict,i=t.end!==!1,o="",a=0;a<n.length;a++){var s=n[a];if(typeof s=="string")o+=ds(s);else{var l=ds(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),s.optional?s.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=ds(t.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),i?o+="$":o+=r&&d?"":"(?="+u+"|$)",Xy(new RegExp("^"+o,Zy(t)),e)}function Y5(n,e,t){return pp(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?BU(n,e):pp(n)?PU(n,e,t):LU(n,e,t)}var zU=jc.exports;const X5=js(zU);var bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,Jy=_n?Symbol.for("react.element"):60103,Qy=_n?Symbol.for("react.portal"):60106,vm=_n?Symbol.for("react.fragment"):60107,xm=_n?Symbol.for("react.strict_mode"):60108,ym=_n?Symbol.for("react.profiler"):60114,wm=_n?Symbol.for("react.provider"):60109,km=_n?Symbol.for("react.context"):60110,e1=_n?Symbol.for("react.async_mode"):60111,_m=_n?Symbol.for("react.concurrent_mode"):60111,Cm=_n?Symbol.for("react.forward_ref"):60112,Em=_n?Symbol.for("react.suspense"):60113,jU=_n?Symbol.for("react.suspense_list"):60120,Sm=_n?Symbol.for("react.memo"):60115,Tm=_n?Symbol.for("react.lazy"):60116,NU=_n?Symbol.for("react.block"):60121,FU=_n?Symbol.for("react.fundamental"):60117,$U=_n?Symbol.for("react.responder"):60118,UU=_n?Symbol.for("react.scope"):60119;function Br(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Jy:switch(n=n.type,n){case e1:case _m:case vm:case ym:case xm:case Em:return n;default:switch(n=n&&n.$$typeof,n){case km:case Cm:case Tm:case Sm:case wm:return n;default:return e}}case Qy:return e}}}function Z5(n){return Br(n)===_m}bt.AsyncMode=e1;bt.ConcurrentMode=_m;bt.ContextConsumer=km;bt.ContextProvider=wm;bt.Element=Jy;bt.ForwardRef=Cm;bt.Fragment=vm;bt.Lazy=Tm;bt.Memo=Sm;bt.Portal=Qy;bt.Profiler=ym;bt.StrictMode=xm;bt.Suspense=Em;bt.isAsyncMode=function(n){return Z5(n)||Br(n)===e1};bt.isConcurrentMode=Z5;bt.isContextConsumer=function(n){return Br(n)===km};bt.isContextProvider=function(n){return Br(n)===wm};bt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Jy};bt.isForwardRef=function(n){return Br(n)===Cm};bt.isFragment=function(n){return Br(n)===vm};bt.isLazy=function(n){return Br(n)===Tm};bt.isMemo=function(n){return Br(n)===Sm};bt.isPortal=function(n){return Br(n)===Qy};bt.isProfiler=function(n){return Br(n)===ym};bt.isStrictMode=function(n){return Br(n)===xm};bt.isSuspense=function(n){return Br(n)===Em};bt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===vm||n===_m||n===ym||n===xm||n===Em||n===jU||typeof n=="object"&&n!==null&&(n.$$typeof===Tm||n.$$typeof===Sm||n.$$typeof===wm||n.$$typeof===km||n.$$typeof===Cm||n.$$typeof===FU||n.$$typeof===$U||n.$$typeof===UU||n.$$typeof===NU)};bt.typeOf=Br;function J5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Q5={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cn=typeof Symbol=="function"&&Symbol.for,t1=Cn?Symbol.for("react.element"):60103,n1=Cn?Symbol.for("react.portal"):60106,Am=Cn?Symbol.for("react.fragment"):60107,Im=Cn?Symbol.for("react.strict_mode"):60108,Rm=Cn?Symbol.for("react.profiler"):60114,Dm=Cn?Symbol.for("react.provider"):60109,Om=Cn?Symbol.for("react.context"):60110,r1=Cn?Symbol.for("react.async_mode"):60111,Mm=Cn?Symbol.for("react.concurrent_mode"):60111,Bm=Cn?Symbol.for("react.forward_ref"):60112,Pm=Cn?Symbol.for("react.suspense"):60113,HU=Cn?Symbol.for("react.suspense_list"):60120,Lm=Cn?Symbol.for("react.memo"):60115,zm=Cn?Symbol.for("react.lazy"):60116,WU=Cn?Symbol.for("react.block"):60121,VU=Cn?Symbol.for("react.fundamental"):60117,qU=Cn?Symbol.for("react.responder"):60118,GU=Cn?Symbol.for("react.scope"):60119;function Pr(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case t1:switch(n=n.type,n){case r1:case Mm:case Am:case Rm:case Im:case Pm:return n;default:switch(n=n&&n.$$typeof,n){case Om:case Bm:case zm:case Lm:case Dm:return n;default:return e}}case n1:return e}}}function e6(n){return Pr(n)===Mm}ft.AsyncMode=r1;ft.ConcurrentMode=Mm;ft.ContextConsumer=Om;ft.ContextProvider=Dm;ft.Element=t1;ft.ForwardRef=Bm;ft.Fragment=Am;ft.Lazy=zm;ft.Memo=Lm;ft.Portal=n1;ft.Profiler=Rm;ft.StrictMode=Im;ft.Suspense=Pm;ft.isAsyncMode=function(n){return e6(n)||Pr(n)===r1};ft.isConcurrentMode=e6;ft.isContextConsumer=function(n){return Pr(n)===Om};ft.isContextProvider=function(n){return Pr(n)===Dm};ft.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===t1};ft.isForwardRef=function(n){return Pr(n)===Bm};ft.isFragment=function(n){return Pr(n)===Am};ft.isLazy=function(n){return Pr(n)===zm};ft.isMemo=function(n){return Pr(n)===Lm};ft.isPortal=function(n){return Pr(n)===n1};ft.isProfiler=function(n){return Pr(n)===Rm};ft.isStrictMode=function(n){return Pr(n)===Im};ft.isSuspense=function(n){return Pr(n)===Pm};ft.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Am||n===Mm||n===Rm||n===Im||n===Pm||n===HU||typeof n=="object"&&n!==null&&(n.$$typeof===zm||n.$$typeof===Lm||n.$$typeof===Dm||n.$$typeof===Om||n.$$typeof===Bm||n.$$typeof===VU||n.$$typeof===qU||n.$$typeof===GU||n.$$typeof===WU)};ft.typeOf=Pr;Q5.exports=ft;var KU=Q5.exports,i1=KU,YU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},t6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o1={};o1[i1.ForwardRef]=ZU;o1[i1.Memo]=t6;function a_(n){return i1.isMemo(n)?t6:o1[n.$$typeof]||YU}var JU=Object.defineProperty,QU=Object.getOwnPropertyNames,s_=Object.getOwnPropertySymbols,eH=Object.getOwnPropertyDescriptor,tH=Object.getPrototypeOf,l_=Object.prototype;function n6(n,e,t){if(typeof e!="string"){if(l_){var r=tH(e);r&&r!==l_&&n6(n,r,t)}var i=QU(e);s_&&(i=i.concat(s_(e)));for(var o=a_(n),a=a_(e),s=0;s<i.length;++s){var l=i[s];if(!XU[l]&&!(t&&t[l])&&!(a&&a[l])&&!(o&&o[l])){var c=eH(e,l);try{JU(n,l,c)}catch(u){}}}}return n}var nH=n6;const rH=js(nH);var m0=1073741823,c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function iH(){var n="__global_unique_id__";return c_[n]=(c_[n]||0)+1}function oH(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function aH(n){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return n},set:function(r,i){n=r,e.forEach(function(o){return o(n,i)})}}}function sH(n){return Array.isArray(n)?n[0]:n}function lH(n,e){var t,r,i="__create-react-context-"+iH()+"__",o=function(s){Oa(l,s);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=s.call.apply(s,[this].concat(h))||this,u.emitter=aH(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;oH(h,f)?p=0:(p=typeof e=="function"?e(h,f):m0,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(de.Component);o.childContextTypes=(t={},t[i]=o_.object.isRequired,t);var a=function(s){Oa(l,s);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=s.call.apply(s,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?m0:h},c.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?m0:d},c.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},c.getValue=function(){return this.context[i]?this.context[i].get():n},c.render=function(){return sH(this.props.children)(this.state.value)},l}(de.Component);return a.contextTypes=(r={},r[i]=o_.object,r),{Provider:o,Consumer:a}}var cH=de.createContext||lH,r6=function(e){var t=cH();return t.displayName=e,t},i6=r6("Router-History"),Ps=r6("Router"),Hd=function(n){Oa(e,n),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=n.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var t=e.prototype;return t.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return de.createElement(Ps.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},de.createElement(i6.Provider,{children:this.props.children||null,value:this.props.history}))},e}(de.Component);de.Component;var uH=function(n){Oa(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(de.Component),g0={},dH=1e4,u_=0;function hH(n){if(g0[n])return g0[n];var e=X5.compile(n);return u_<dH&&(g0[n]=e,u_++),e}function d_(n,e){return n===void 0&&(n="/"),e===void 0&&(e={}),n==="/"?n:hH(n)(e,{pretty:!0})}function fH(n){var e=n.computedMatch,t=n.to,r=n.push,i=r===void 0?!1:r;return de.createElement(Ps.Consumer,null,function(o){o||Ks();var a=o.history,s=o.staticContext,l=i?a.push:a.replace,c=sr(e?typeof t=="string"?d_(t,e.params):dr({},t,{pathname:d_(t.pathname,e.params)}):t);return s?(l(c),null):de.createElement(uH,{onMount:function(){l(c)},onUpdate:function(d,h){var f=sr(h.to);hU(f,dr({},c,{key:f.key}))||l(c)},to:t})})}var h_={},pH=1e4,f_=0;function mH(n,e){var t=""+e.end+e.strict+e.sensitive,r=h_[t]||(h_[t]={});if(r[n])return r[n];var i=[],o=X5(n,i,e),a={regexp:o,keys:i};return f_<pH&&(r[n]=a,f_++),a}function a1(n,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,r=t.path,i=t.exact,o=i===void 0?!1:i,a=t.strict,s=a===void 0?!1:a,l=t.sensitive,c=l===void 0?!1:l,u=[].concat(r);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=mH(h,{end:o,strict:s,sensitive:c}),p=f.regexp,m=f.keys,b=p.exec(n);if(!b)return null;var g=b[0],v=b.slice(1),x=n===g;return o&&!x?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:x,params:m.reduce(function(y,w,E){return y[w.name]=v[E],y},{})}},null)}function gH(n){return de.Children.count(n)===0}var ci=function(n){Oa(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var i=this;return de.createElement(Ps.Consumer,null,function(o){o||Ks();var a=i.props.location||o.location,s=i.props.computedMatch?i.props.computedMatch:i.props.path?a1(a.pathname,i.props):o.match,l=dr({},o,{location:a,match:s}),c=i.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&gH(u)&&(u=null),de.createElement(Ps.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?de.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(de.Component);function s1(n){return n.charAt(0)==="/"?n:"/"+n}function bH(n,e){return n?dr({},e,{pathname:s1(n)+e.pathname}):e}function vH(n,e){if(!n)return e;var t=s1(n);return e.pathname.indexOf(t)!==0?e:dr({},e,{pathname:e.pathname.substr(t.length)})}function p_(n){return typeof n=="string"?n:Nr(n)}function b0(n){return function(){Ks()}}function m_(){}de.Component;de.Component;function xH(n){var e="withRouter("+(n.displayName||n.name)+")",t=function(i){var o=i.wrappedComponentRef,a=J5(i,["wrappedComponentRef"]);return de.createElement(Ps.Consumer,null,function(s){return s||Ks(),de.createElement(n,dr({},a,s,{ref:o}))})};return t.displayName=e,t.WrappedComponent=n,rH(t,n)}var o6=de.useContext;function l1(){return o6(i6)}function jm(){var n=o6(Ps).match;return n?n.params:{}}class yH extends de.PureComponent{render(){return de.createElement(ci,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const cd=({pathname:n,componentProps:e})=>{const{exact:t,component:r}=e,i=e.path||e.from,a=a1(n,{exact:t,path:i,component:r});return a||!1};class wH extends sU{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,r,i){const o={id:ad("viewItem"),outletId:e,ionPageElement:i,reactElement:t,mount:!0,ionRoute:!1};return t.type===Gy&&(o.ionRoute=!0,o.disableIonPageManagement=t.props.disableIonPageManagement),o.routeData={match:cd({pathname:r.pathname,componentProps:t.props}),childProps:t.props},o}getChildrenToRender(e,t,r){const i=this.getViewItemsForOutlet(e);return de.Children.forEach(t.props.children,a=>{const s=i.find(l=>g_(a,l.routeData.childProps.path||l.routeData.childProps.from));s&&(s.reactElement=a)}),i.map(a=>{let s;if(a.ionRoute&&!a.disableIonPageManagement)s=de.createElement(Zk,{key:"view-".concat(a.id),mount:a.mount,removeView:()=>this.remove(a)},de.cloneElement(a.reactElement,{computedMatch:a.routeData.match}));else{const l=g_(a.reactElement,r.pathname);s=de.createElement(Zk,{key:"view-".concat(a.id),mount:a.mount,removeView:()=>this.remove(a)},de.cloneElement(a.reactElement,{computedMatch:a.routeData.match})),!l&&a.routeData.match&&(a.routeData.match=void 0,a.mount=!1)}return s})}findViewItemByRouteInfo(e,t,r){const{viewItem:i,match:o}=this.findViewItemByPath(e.pathname,t);return(r===void 0||r===!0)&&i&&o&&(i.routeData.match=o),i}findLeavingViewItemByRouteInfo(e,t,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,t,r);return i}findViewItemByPathname(e,t){const{viewItem:r}=this.findViewItemByPath(e,t);return r}findViewItemByPath(e,t,r){let i,o,a;if(t)a=this.getViewItemsForOutlet(t),a.some(s),i||a.some(l);else{const c=this.getAllViewItems();c.some(s),i||c.some(l)}return{viewItem:i,match:o};function s(c){var u,d;if(r&&!c.ionRoute)return!1;if(o=cd({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return i=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},i=c,!0):!1}}}function g_(n,e){return cd({pathname:e,componentProps:n.props})}function kH(n){let e;if(typeof n=="string"?e=n:e=n.outerHTML,document){const t=document.createElement("div");t.innerHTML=e,t.style.zIndex="";const r=t.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),t.firstChild}}const b_=n=>!n.classList.contains("ion-page-invisible")&&!n.classList.contains("ion-page-hidden");class _H extends de.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=ad("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:r}=e.routeInfo;t!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((t=e.routeOptions)===null||t===void 0)&&t.unmount&&(o.mount=!1):e.routeDirection!=="none"&&i!==o&&(o.mount=!1));const a=CH((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=a:a&&(i=this.context.createViewItem(this.id,a,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===o&&i.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),b_(i.ionPageElement)&&o!==void 0&&!b_(o.ionPageElement)))return;this.transitionPage(e,i,o)}else o&&!a&&!i&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,t){const r=this.context.findViewItemByRouteInfo(t,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){const t=()=>{const o=Hy();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:s}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==s.pathname},r=async()=>{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},s=this.context.findViewItemByRouteInfo(a,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return s&&l&&await this.transitionPage(o,s,l,"back",!0),Promise.resolve()},i=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:a}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(s,this.id,!1),c=this.context.findViewItemByRouteInfo(a,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:t,onStart:r,onEnd:i}}async transitionPage(e,t,r,i,o=!1){const a=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await s.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},s=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=i!=null?i:l;if(t&&t.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&t===r)if(EH(r.reactElement,e.pathname,!0)){const d=kH(r.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await a(t.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await a(t.ionPageElement,void 0);else await a(t.ionPageElement,r==null?void 0:r.ionPageElement),r&&r.ionPageElement&&!o&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=de.Children.only(e);this.ionRouterOutlet=t;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return de.createElement(Vy.Provider,{value:this.stackContextValue},de.cloneElement(t,{ref:i=>{t.props.setRef&&t.props.setRef(i),t.props.forwardedRef&&(t.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:o}=t;typeof o=="function"&&o(i)}},r))}static get contextType(){return j5}}function CH(n,e){let t;return de.Children.forEach(n,r=>{cd({pathname:e.pathname,componentProps:r.props})&&(t=r)}),t||(de.Children.forEach(n,r=>{r.props.path||r.props.from||(t=r)}),t)}function EH(n,e,t){return cd({pathname:e,componentProps:Object.assign(Object.assign({},n.props),{exact:t})})}class SH extends de.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new oU,this.viewStack=new wH,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:ad("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,r){if(!t)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[o,a]=t.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===o?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=a?"?"+a:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(o+(a?"?"+a:"")))):this.handleNavigate(o,"push","none",void 0,r,e)}handleHistoryChange(e,t){var r,i,o;let a;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?a=this.locationHistory.previous():a=this.locationHistory.current():a=this.locationHistory.current(),a.pathname+a.search!==e.pathname){if(!this.incomingRouteParams){if(t==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),t==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:a.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:ad("routeInfo")},this.incomingRouteParams),{lastPathname:a.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:a.lastPathname}),c)l.tab=a.tab,l.pushedByRoute=a.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==a.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,r,i,o,a){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:r,routeOptions:o,routeAnimation:i,tab:a}),t==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const r=Hy();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const o=this.locationHistory.findLastLocation(i);if(o){const a=t||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:a}),i.lastPathname===i.pushedByRoute||o.pathname===i.pushedByRoute&&i.tab===""&&o.tab===""){const s=this.props.history;(s.goBack||s.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",a)}else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const o=Object.assign({},i);o.pathname=t,o.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return de.createElement(j5.Provider,{value:this.routeMangerContextState},de.createElement(aU,{ionRoute:yH,ionRedirect:{},stackManager:_H,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const Nm=xH(SH);Nm.displayName="IonRouter";class TH extends de.Component{constructor(e){super(e);const{history:t}=e,r=ld(e,["history"]);this.history=t||bU(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=ld(e,["children"]);return de.createElement(Hd,Object.assign({history:this.history},r),de.createElement(Nm,{registerHistoryListener:this.registerHistoryListener},t))}}class Gie extends de.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=ld(e,["children"]);return de.createElement(Hd,Object.assign({},r),de.createElement(Nm,{registerHistoryListener:this.registerHistoryListener},t))}}class Kie extends de.Component{constructor(e){super(e);const{history:t}=e,r=ld(e,["history"]);this.history=t||yU(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const r=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,r=ld(e,["children"]);return de.createElement(Hd,Object.assign({history:this.history},r),de.createElement(Nm,{registerHistoryListener:this.registerHistoryListener},t))}}const AH=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Qt(()=>Promise.resolve().then(()=>Nc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class c1 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class IH extends c1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class RH extends c1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class DH extends c1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yv;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(yv||(yv={}));var OH=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class MH{constructor(e,{headers:t={},customFetch:r,region:i=yv.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=AH(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e,t={}){var r;return OH(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:a}=t;let s={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(s["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(s["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:c}).catch(p=>{throw new IH(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new RH(u);if(!u.ok)throw new DH(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ir={},u1={},Fm={},Wd={},$m={},Um={},BH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xc=BH();const PH=xc.fetch,a6=xc.fetch.bind(xc),s6=xc.Headers,LH=xc.Request,zH=xc.Response,Nc=Object.freeze(Object.defineProperty({__proto__:null,Headers:s6,Request:LH,Response:zH,default:a6,fetch:PH},Symbol.toStringTag,{value:"Module"})),jH=KI(Nc);var Hm={};Object.defineProperty(Hm,"__esModule",{value:!0});let NH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Hm.default=NH;var l6=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Um,"__esModule",{value:!0});const FH=l6(jH),$H=l6(Hm);let UH=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=FH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,s,l;let c=null,u=null,d=null,h=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,f="OK")}catch(b){o.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new $H.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,l;return{error:{message:"".concat((a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError",": ").concat(o==null?void 0:o.message),details:"".concat((s=o==null?void 0:o.stack)!==null&&s!==void 0?s:""),hint:"",code:"".concat((l=o==null?void 0:o.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};Um.default=UH;var HH=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($m,"__esModule",{value:!0});const WH=HH(Um);let VH=class extends WH.default{select(e){let t=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const a=o?"".concat(o,".order"):"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(r===void 0?"":r?".nullsfirst":".nullslast")),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":"".concat(i,".offset"),a=typeof i>"u"?"limit":"".concat(i,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(c,'"; options=').concat(l,";"),a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$m.default=VH;var qH=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wd,"__esModule",{value:!0});const GH=qH($m);let KH=class extends GH.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?'"'.concat(i,'"'):"".concat(i)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=r===void 0?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?"".concat(r,".or"):"or";return this.url.searchParams.append(i,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}};Wd.default=KH;var YH=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fm,"__esModule",{value:!0});const tu=YH(Wd);let XH=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let o=!1;const a=(e!=null?e:"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer="count=".concat(r)),new tu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push("count=".concat(t)),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(a.length>0){const s=[...new Set(a)].map(l=>'"'.concat(l,'"'));this.url.searchParams.set("columns",s.join(","))}}return new tu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const a="POST",s=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push("count=".concat(i)),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>'"'.concat(u,'"'));this.url.searchParams.set("columns",c.join(","))}}return new tu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push("count=".concat(t)),this.headers.Prefer=i.join(","),new tu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push("count=".concat(e)),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new tu.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Fm.default=XH;var Wm={},Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.version=void 0;Vm.version="0.0.0-automated";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.DEFAULT_HEADERS=void 0;const ZH=Vm;Wm.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(ZH.version)};var c6=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(u1,"__esModule",{value:!0});const JH=c6(Fm),QH=c6(Wd),eW=Wm;let tW=class u6{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},eW.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new JH.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new u6(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){let a;const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?"{".concat(d.join(","),"}"):"".concat(d)]).forEach(([u,d])=>{s.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new QH.default({method:a,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};u1.default=tW;var Fc=jn&&jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ir,"__esModule",{value:!0});ir.PostgrestError=ir.PostgrestBuilder=ir.PostgrestTransformBuilder=ir.PostgrestFilterBuilder=ir.PostgrestQueryBuilder=ir.PostgrestClient=void 0;const d6=Fc(u1);ir.PostgrestClient=d6.default;const h6=Fc(Fm);ir.PostgrestQueryBuilder=h6.default;const f6=Fc(Wd);ir.PostgrestFilterBuilder=f6.default;const p6=Fc($m);ir.PostgrestTransformBuilder=p6.default;const m6=Fc(Um);ir.PostgrestBuilder=m6.default;const g6=Fc(Hm);ir.PostgrestError=g6.default;var nW=ir.default={PostgrestClient:d6.default,PostgrestQueryBuilder:h6.default,PostgrestFilterBuilder:f6.default,PostgrestTransformBuilder:p6.default,PostgrestBuilder:m6.default,PostgrestError:g6.default};const{PostgrestClient:rW,PostgrestQueryBuilder:eoe,PostgrestFilterBuilder:toe,PostgrestTransformBuilder:noe,PostgrestBuilder:roe,PostgrestError:ioe}=nW,iW="2.11.2",oW={"X-Client-Info":"realtime-js/".concat(iW)},aW="1.0.0",b6=1e4,sW=1e3;var Jl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Jl||(Jl={}));var mr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(mr||(mr={}));var ui;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ui||(ui={}));var wv;(function(n){n.websocket="websocket"})(wv||(wv={}));var is;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(is||(is={}));class lW{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class v6{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(xt||(xt={}));const v_=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,a)=>(o[a]=cW(a,n,e,i),o),{})},cW=(n,e,t,r)=>{const i=e.find(s=>s.name===n),o=i==null?void 0:i.type,a=t[n];return o&&!r.includes(o)?x6(o,a):kv(a)},x6=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return fW(e,t)}switch(n){case xt.bool:return uW(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return dW(e);case xt.json:case xt.jsonb:return hW(e);case xt.timestamp:return pW(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return kv(e);default:return kv(e)}},kv=n=>n,uW=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},dW=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},hW=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log("JSON parse error: ".concat(e)),n}return n},fW=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const a=n.slice(1,t);try{o=JSON.parse("["+a+"]")}catch(s){o=a?a.split(","):[]}return o.map(s=>x6(e,s))}return n},pW=n=>typeof n=="string"?n.replace(" ","T"):n,y6=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class v0{constructor(e,t,r={},i=b6){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var x_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(x_||(x_={}));class Bu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bu.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Bu.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bu.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),a=this.transformState(t),s={},l={};return this.map(o,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=o[c];if(d){const h=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),p=u.filter(b=>f.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(s[c]=p),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const u=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),u.length>0){const d=e[s].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[s].unshift(...h)}r(s,u,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(y_||(y_={}));var w_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(w_||(w_={}));var uo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));class d1{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new v0(this,ui.join,this.params,this.timeout),this.rejoinTimer=new v6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=mr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),i),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Bu(this),this.broadcastEndpointURL=y6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(u=>e==null?void 0:e(uo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(uo.CLOSED));const l={},c={broadcast:o,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(uo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<f;m++){const b=h[m],{filter:{event:g,schema:v,table:x,filter:y}}=b,w=u&&u[m];if(w&&w.event===g&&w.schema===v&&w.table===x&&w.filter===y)p.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(uo.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mr.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ui.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new v0(this,ui.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let i=new v0(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=ui;if(r&&[s,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,m,b;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(f=>{var p,m,b,g,v,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const y=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return y&&((m=t.ids)===null||m===void 0?void 0:m.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const y=(v=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return y==="*"||y===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:b,commit_timestamp:g,type:v,errors:x}=p;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===mr.closed}_isJoined(){return this.state===mr.joined}_isJoining(){return this.state===mr.joining}_isLeaving(){return this.state===mr.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&d1.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ui.close,{},e)}_onError(e){this._on(ui.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=v_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=v_(e.columns,e.old_record)),t}}const mW=()=>{},gW=typeof WebSocket<"u",bW='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class vW{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oW,this.params={},this.timeout=b6,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mW,this.conn=null,this.sendBuffer=[],this.serializer=new lW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>Qt(()=>Promise.resolve().then(()=>Nc),void 0).then(({default:l})=>l(...s)):a=fetch,(...s)=>a(...s)},this.endPoint="".concat(e,"/").concat(wv.websocket),this.httpEndpoint=y6(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gW){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xW(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Qt(()=>import("./browser-DV8asVNt.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aW}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jl.connecting:return is.Connecting;case Jl.open:return is.Open;case Jl.closing:return is.Closing;default:return is.Closed}}isConnected(){return this.connectionState()===is.Open}channel(e,t={config:{}}){const r=new d1("realtime:".concat(e),t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push","".concat(t," ").concat(r," (").concat(o,")"),i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch(i){}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp));this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(ui.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(sW,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(o.status||""," ").concat(r," ").concat(i," ").concat(a&&"("+a+")"||""),o),this.channels.filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ui.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return"".concat(e).concat(r).concat(i)}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([bW],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class xW{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class h1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class yW extends h1{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _v extends h1{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wW=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const w6=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Qt(()=>Promise.resolve().then(()=>Nc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},kW=()=>wW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qt(()=>Promise.resolve().then(()=>Nc),void 0)).Response:Response}),Cv=n=>{if(Array.isArray(n))return n.map(t=>Cv(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Cv(r)}),e};var Ys=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const x0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_W=(n,e,t)=>Ys(void 0,void 0,void 0,function*(){const r=yield kW();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new yW(x0(i),n.status||500))}).catch(i=>{e(new _v(x0(i),i))}):e(new _v(x0(n),n))}),CW=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Vd(n,e,t,r,i,o){return Ys(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,CW(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>_W(l,s,r))})})}function mp(n,e,t,r){return Ys(this,void 0,void 0,function*(){return Vd(n,"GET",e,t,r)})}function ra(n,e,t,r,i){return Ys(this,void 0,void 0,function*(){return Vd(n,"POST",e,r,i,t)})}function EW(n,e,t,r,i){return Ys(this,void 0,void 0,function*(){return Vd(n,"PUT",e,r,i,t)})}function SW(n,e,t,r){return Ys(this,void 0,void 0,function*(){return Vd(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function k6(n,e,t,r,i){return Ys(this,void 0,void 0,function*(){return Vd(n,"DELETE",e,r,i,t)})}var nr=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const TW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AW{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=w6(i)}uploadOrUpdate(e,t,r,i){return nr(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},k_),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]="max-age=".concat(a.cacheControl),s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:o,headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(dn(o))return{data:null,error:o};throw o}})}upload(e,t,r){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return nr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+"/object/upload/sign/".concat(a));s.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:k_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]="max-age=".concat(c.cacheControl),u["content-type"]=c.contentType);const d=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(dn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return nr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=yield ra(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new h1("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}update(e,t,r){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return nr(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}copy(e,t,r){return nr(this,void 0,void 0,function*(){try{return{data:{path:(yield ra(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return nr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield ra(this.fetch,"".concat(this.url,"/object/sign/").concat(i),Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?"&download=".concat(r.download===!0?"":r.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(a))},{data:o,error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return nr(this,void 0,void 0,function*(){try{const i=yield ra(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?"&download=".concat(r.download===!0?"":r.download):"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI("".concat(this.url).concat(a.signedURL).concat(o)):null})),error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}download(e,t){return nr(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=o?"?".concat(o):"";try{const s=this._getFinalPath(e);return{data:yield(yield mp(this.fetch,"".concat(this.url,"/").concat(i,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}info(e){return nr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield mp(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Cv(r),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}exists(e){return nr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield SW(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(dn(r)&&r instanceof _v){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t!=null&&t.download?"download=".concat(t.download===!0?"":t.download):"";o!==""&&i.push(o);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c="?".concat(c)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(c))}}}remove(e){return nr(this,void 0,void 0,function*(){try{return{data:yield k6(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(dn(t))return{data:null,error:t};throw t}})}list(e,t,r){return nr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TW),t),{prefix:e||""});return{data:yield ra(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},r),error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const IW="2.7.1",RW={"X-Client-Info":"storage-js/".concat(IW)};var ol=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class DW{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},RW),t),this.fetch=w6(r)}listBuckets(){return ol(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(dn(e))return{data:null,error:e};throw e}})}getBucket(e){return ol(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(dn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ol(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ol(this,void 0,void 0,function*(){try{return{data:yield EW(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ol(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(dn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ol(this,void 0,void 0,function*(){try{return{data:yield k6(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(dn(t))return{data:null,error:t};throw t}})}}class OW extends DW{constructor(e,t={},r){super(e,t,r)}from(e){return new AW(this.url,this.headers,e,this.fetch)}}const MW="2.49.4";let gu="";typeof Deno<"u"?gu="deno":typeof document<"u"?gu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gu="react-native":gu="node";const BW={"X-Client-Info":"supabase-js-".concat(gu,"/").concat(MW)},PW={headers:BW},LW={schema:"public"},zW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jW={};var NW=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};const FW=n=>{let e;return n?e=n:typeof fetch>"u"?e=a6:e=fetch,(...t)=>e(...t)},$W=()=>typeof Headers>"u"?s6:Headers,UW=(n,e,t)=>{const r=FW(t),i=$W();return(o,a)=>NW(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:n;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),r(o,Object.assign(Object.assign({},a),{headers:c}))})};var HW=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};function WW(n){return n.replace(/\/$/,"")}function VW(n,e){const{db:t,auth:r,realtime:i,global:o}=n,{db:a,auth:s,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>HW(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const _6="2.69.1",kl=30*1e3,Ev=3,y0=Ev*kl,qW="http://localhost:9999",GW="supabase.auth.token",KW={"X-Client-Info":"gotrue-js/".concat(_6)},Sv="X-Supabase-Api-Version",C6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XW=6e5;class f1 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ke(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ZW extends f1{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function JW(n){return Ke(n)&&n.name==="AuthApiError"}class E6 extends f1{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $a extends f1{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Jo extends $a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QW(n){return Ke(n)&&n.name==="AuthSessionMissingError"}class w0 extends $a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dh extends $a{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oh extends $a{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eV(n){return Ke(n)&&n.name==="AuthImplicitGrantRedirectError"}class __ extends $a{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tv extends $a{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function k0(n){return Ke(n)&&n.name==="AuthRetryableFetchError"}class C_ extends $a{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Pu extends $a{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const E_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S_=" 	\n\r=".split(""),tV=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<S_.length;e+=1)n[S_[e].charCodeAt(0)]=-2;for(let e=0;e<E_.length;e+=1)n[E_[e].charCodeAt(0)]=e;return n})();function S6(n,e,t){const r=tV[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(n),'"'))}}function T_(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{iV(a,r,t)};for(let a=0;a<n.length;a+=1)S6(n.charCodeAt(a),i,o);return e.join("")}function nV(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(n.toString(16)))}function rV(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}nV(r,e)}}function iV(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function oV(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)S6(n.charCodeAt(i),t,r);return new Uint8Array(e)}function aV(n){const e=[];return rV(n,t=>e.push(t)),new Uint8Array(e)}function sV(n){return Math.round(Date.now()/1e3)+n}function lV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ri=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},Lu=()=>{if(!Ri())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Ya.tested)return Ya.writable;const n="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ya.tested=!0,Ya.writable=!0}catch(e){Ya.tested=!0,Ya.writable=!1}return Ya.writable};function cV(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch(r){}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const T6=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Qt(()=>Promise.resolve().then(()=>Nc),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},uV=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",A6=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Mh=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}},Bh=async(n,e)=>{await n.removeItem(e)};class qm{constructor(){this.promise=new qm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}qm.promiseConstructor=Promise;function _0(n){const e=n.split(".");if(e.length!==3)throw new Pu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!YW.test(e[r]))throw new Pu("JWT not in base64url format");return{header:JSON.parse(T_(e[0])),payload:JSON.parse(T_(e[1])),signature:oV(e[2]),raw:{header:e[0],payload:e[1]}}}async function dV(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function hV(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await n(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function fV(n){return("0"+n.toString(16)).substr(-2)}function pV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,fV).join("")}async function mV(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function gV(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await mV(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function al(n,e,t=!1){const r=pV();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await A6(n,"".concat(e,"-code-verifier"),i);const o=await gV(r);return[o,r===o?"plain":"s256"]}const bV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vV(n){const e=n.headers.get(Sv);if(!e||!e.match(bV))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(t){return null}}function xV(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function yV(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Qa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kV=[502,503,504];async function A_(n){var e;if(!uV(n))throw new Tv(Qa(n),0);if(kV.includes(n.status))throw new Tv(Qa(n),n.status);let t;try{t=await n.json()}catch(o){throw new E6(Qa(o),o)}let r;const i=vV(n);if(i&&i.getTime()>=C6["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new C_(Qa(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new C_(Qa(t),n.status,t.weak_password.reasons);throw new ZW(Qa(t),n.status||500,r)}const _V=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function rt(n,e,t,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Sv]||(o[Sv]=C6["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization="Bearer ".concat(r.jwt));const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await CV(n,e,t+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function CV(n,e,t,r,i,o){const a=_V(e,r,i,o);let s;try{s=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new Tv(Qa(l),0)}if(s.ok||await A_(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await A_(l)}}function Qo(n){var e;let t=null;AV(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=sV(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function I_(n){const e=Qo(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ca(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function EV(n){return{data:n,error:null}}function SV(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,a=wV(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function TV(n){return n}function AV(n){return n.access_token&&n.refresh_token&&n.expires_in}var IV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class RV{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=T6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await rt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await rt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ca})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=IV(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await rt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:i,headers:this.headers,xform:SV,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ke(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await rt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ca})}catch(t){if(Ke(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await rt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:TV});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);c["".concat(b,"Page")]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await rt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ca})}catch(t){if(Ke(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await rt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ca})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await rt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ca})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await rt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await rt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}}const DV={getItem:n=>Lu()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Lu()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Lu()&&globalThis.localStorage.removeItem(n)}};function R_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function OV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(n){typeof self<"u"&&(self.globalThis=self)}}const sl={debug:!!(globalThis&&Lu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MV extends I6{}async function BV(n,e,t){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),sl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new MV('Acquiring an exclusive Navigator LockManager lock "'.concat(n,'" immediately failed'));if(sl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}OV();const PV={url:qW,storageKey:GW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D_(n,e,t){return await t()}class ud{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ud.nextInstanceID,ud.nextInstanceID+=1,this.instanceID>0&&Ri()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PV),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RV({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=T6(i.fetch),this.lock=i.lock||D_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ri()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=BV:this.lock=D_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Lu()?this.storage=DV:(this.memoryStorage={},this.storage=R_(this.memoryStorage)):(this.memoryStorage={},this.storage=R_(this.memoryStorage)),Ri()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(_6,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cV(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ri()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),eV(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ke(t)?{error:t}:{error:new E6("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await rt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qo}),{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await al(this.storage,this.storageKey)),o=await rt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Qo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await rt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qo})}else throw new Dh("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return{data:{user:null,session:null},error:s};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:a,options:s}=e;t=await rt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:I_})}else if("phone"in e){const{phone:o,password:a,options:s}=e;t=await rt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:I_})}else throw new Dh("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new w0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Mh(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,i]=(t!=null?t:"").split("/");try{const{data:o,error:a}=await rt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qo});if(await Bh(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new w0}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i!=null?i:null}),error:a})}catch(o){if(Ke(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:a}=e,s=await rt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Qo}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new w0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await al(this.storage,this.storageKey));const{error:d}=await rt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:s,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:u}=await rt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Dh("You must provide either an email or phone number.")}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await rt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Qo});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await al(this.storage,this.storageKey)),await rt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:EV})}catch(o){if(Ke(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Jo;const{error:i}=await rt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await rt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await rt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s}}throw new Dh("You must provide either an email or phone number and a type")}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch(o){}})()),i}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch(i){}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Mh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<y0:!1;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ca}):await this._useSession(async t=>{var r,i,o;const{data:a,error:s}=t;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jo}:await rt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ca})})}catch(t){if(Ke(t))return QW(t)&&(await this._removeSession(),await Bh(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Jo;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await al(this.storage,this.storageKey));const{data:c,error:u}=await rt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:ca});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jo;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:a}=_0(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Ke(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:s}=t;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Jo;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ri())throw new Oh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new __("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new __("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new Oh("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=kl&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(d,"s"));const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const g={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Mh(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{error:o};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(JW(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Bh(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t=lV(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await al(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Ke(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ri()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:a}=t;if(a)throw a;return await rt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await hV(async i=>(i>0&&await dV(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await rt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Qo})),(i,o)=>{const a=200*Math.pow(2,i);return o&&k0(o)&&Date.now()+a-r<kl})}catch(r){if(this._debug(t,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ri()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Mh(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<y0;if(this._debug(t,"session has".concat(i?"":" not"," expired with margin of ").concat(y0,"s")),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),k0(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(i,"begin");try{this.refreshingDeferred=new qm;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Jo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={session:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Ke(o)){const a={session:null,error:o};return k0(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i="#_notifyAllSubscribers(".concat(e,")");this._debug(i,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await A6(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Bh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ri()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/kl);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(i," ticks, a tick lasts ").concat(kl,"ms, refresh threshold is ").concat(Ev," ticks")),i<=Ev&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ri()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=["provider=".concat(encodeURIComponent(t))];if(r!=null&&r.redirectTo&&i.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),r!=null&&r.scopes&&i.push("scopes=".concat(encodeURIComponent(r.scopes))),this.flowType==="pkce"){const[o,a]=await al(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(a))});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(i.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await rt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await rt(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code="data:image/svg+xml;utf-8,".concat(l.totp.qr_code)),{data:l,error:null})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:s}=await rt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await rt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_0(i.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+XW>Date.now()))return r;const{data:i,error:o}=await rt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Pu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(a=>a.kid===e),!r)throw new Pu("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=_0(r);if(xV(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:o,header:i,signature:a},error:null}}const c=yV(i.alg),u=await this.fetchJwk(i.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,aV("".concat(s,".").concat(l))))throw new Pu("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}ud.nextInstanceID=0;const LV=ud;class zV extends LV{constructor(e){super(e)}}var jV=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,e||[])).next())})};class NV{constructor(e,t,r){var i,o,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=WW(e);this.realtimeUrl="".concat(s,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(s,"/auth/v1"),this.storageUrl="".concat(s,"/storage/v1"),this.functionsUrl="".concat(s,"/functions/v1");const l="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),c={db:LW,realtime:jW,auth:Object.assign(Object.assign({},zW),{storageKey:l}),global:PW},u=VW(r!=null?r:{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(h)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=UW(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new rW("".concat(s,"/rest/v1"),{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new MH(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OW(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:a,lock:s,debug:l},c,u){const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new zV({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:s,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vW(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FV=(n,e,t)=>new NV(n,e,t),R6="https://dofkgpqpyxfgxwwbiifj.supabase.co",mf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvZmtncHFweXhmZ3h3d2JpaWZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY1MzMzNjYsImV4cCI6MjA2MjEwOTM2Nn0.XZekoiM7DjAU8VidqhMlU0SuSB1QEvqCf5V8YKElTiA";console.log("[Supabase] Initializing with:",{url:R6,key:(mf==null?void 0:mf.slice(0,5))+"..."});const me=FV(R6,mf,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});var Av=function(n,e){return Av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Av(n,e)};function $V(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Av(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var fn=function(){return fn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fn.apply(this,arguments)};function UV(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ll(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,[])).next())})}function cl(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Oi(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function m1(n,e){return n(e={exports:{}},e.exports),e.exports}var es=m1(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});p1(es);var HV=p1(m1(function(n,e){var t=os&&os.__awaiter||function(u,d,h,f){return new(h||(h=Promise))(function(p,m){function b(x){try{v(f.next(x))}catch(y){m(y)}}function g(x){try{v(f.throw(x))}catch(y){m(y)}}function v(x){x.done?p(x.value):new h(function(y){y(x.value)}).then(b,g)}v((f=f.apply(u,d||[])).next())})},r=os&&os.__generator||function(u,d){var h,f,p,m,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(v){return function(x){return function(y){if(h)throw new TypeError("Generator is already executing.");for(;b;)try{if(h=1,f&&(p=2&y[0]?f.return:y[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,y[1])).done)return p;switch(f=0,p&&(y=[2&y[0],p.value]),y[0]){case 0:case 1:p=y;break;case 4:return b.label++,{value:y[1],done:!1};case 5:b.label++,f=y[1],y=[0];continue;case 7:y=b.ops.pop(),b.trys.pop();continue;default:if(p=b.trys,!((p=p.length>0&&p[p.length-1])||y[0]!==6&&y[0]!==2)){b=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){b.label=y[1];break}if(y[0]===6&&b.label<p[1]){b.label=p[1],p=y;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(y);break}p[2]&&b.ops.pop(),b.trys.pop();continue}y=d.call(u,b)}catch(w){y=[6,w],f=0}finally{h=p=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([v,x])}}},i=os;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return t(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return t(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function s(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="",f=0;f<u;f++)h+=d[Math.floor(Math.random()*d.length)];return h}var c=function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,h){return h===void 0&&(h=5e3),t(this,void 0,void 0,function(){var f,p,m,b,g,v,x;return r(this,function(y){switch(y.label){case 0:f=Date.now()+l(4),p=Date.now()+h,m=o+"-"+d,b=this.storageHandler===void 0?a:this.storageHandler,y.label=1;case 1:return Date.now()<p?[4,s(30)]:[3,8];case 2:return y.sent(),b.getItemSync(m)!==null?[3,5]:(g=this.id+"-"+d+"-"+f,[4,s(Math.floor(25*Math.random()))]);case 3:return y.sent(),b.setItemSync(m,JSON.stringify({id:this.id,iat:f,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return y.sent(),(v=b.getItemSync(m))!==null&&(x=JSON.parse(v)).id===this.id&&x.iat===f?(this.acquiredIatSet.add(f),this.refreshLockWhileAcquired(m,f),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:y.sent(),y.label=7;case 7:return f=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,h){return t(this,void 0,void 0,function(){var f=this;return r(this,function(p){return setTimeout(function(){return t(f,void 0,void 0,function(){var m,b,g;return r(this,function(v){switch(v.label){case 0:return[4,es.default().lock(h)];case 1:return v.sent(),this.acquiredIatSet.has(h)?(m=this.storageHandler===void 0?a:this.storageHandler,(b=m.getItemSync(d))===null?(es.default().unlock(h),[2]):((g=JSON.parse(b)).timeRefreshed=Date.now(),m.setItemSync(d,JSON.stringify(g)),es.default().unlock(h),this.refreshLockWhileAcquired(d,h),[2])):(es.default().unlock(h),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return t(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,new Promise(function(f){var p=!1,m=Date.now(),b=!1;function g(){if(b||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(v),b=!0),!p){p=!0;var x=50-(Date.now()-m);x>0?setTimeout(f,x):f(null)}}window.addEventListener("storage",g),u.addToWaiting(g);var v=setTimeout(g,Math.max(0,d-Date.now()))})];case 1:return h.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(h){return h!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return t(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,h.sent()]}})})},u.prototype.releaseLock__private__=function(d){return t(this,void 0,void 0,function(){var h,f,p,m;return r(this,function(b){switch(b.label){case 0:return h=this.storageHandler===void 0?a:this.storageHandler,f=o+"-"+d,(p=h.getItemSync(f))===null?[2]:(m=JSON.parse(p)).id!==this.id?[3,2]:[4,es.default().lock(m.iat)];case 1:b.sent(),this.acquiredIatSet.delete(m.iat),h.removeItemSync(f),es.default().unlock(m.iat),u.notifyWaiters(),b.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var h=Date.now()-5e3,f=d,p=[],m=0;;){var b=f.keySync(m);if(b===null)break;p.push(b),m++}for(var g=!1,v=0;v<p.length;v++){var x=p[v];if(x.includes(o)){var y=f.getItemSync(x);if(y!==null){var w=JSON.parse(y);(w.timeRefreshed===void 0&&w.timeAcquired<h||w.timeRefreshed!==void 0&&w.timeRefreshed<h)&&(f.removeItemSync(x),g=!0)}}}g&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const WV={timeoutInSeconds:60},D6={name:"auth0-spa-js",version:"2.1.3"},O6=()=>Date.now();let xr=class Iv extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Iv.prototype)}static fromPayload({error:e,error_description:t}){return new Iv(e,t)}},VV=class M6 extends xr{constructor(e,t,r,i=null){super(e,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,M6.prototype)}},Rv=class B6 extends xr{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,B6.prototype)}},qV=class P6 extends Rv{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,P6.prototype)}},GV=class L6 extends xr{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,L6.prototype)}};class g1 extends xr{constructor(e,t,r){super(e,t),this.mfa_token=r,Object.setPrototypeOf(this,g1.prototype)}}let z6=class j6 extends xr{constructor(e,t){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(O_(e,["default"]),"', scope: '").concat(O_(t),"')")),this.audience=e,this.scope=t,Object.setPrototypeOf(this,j6.prototype)}};function O_(n,e=[]){return n&&!e.includes(n)?n:""}const gf=()=>window.crypto,C0=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(gf().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},M_=n=>btoa(n),Dv=n=>{var{clientId:e}=n,t=Oi(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:e},t))).toString()},B_=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),KV=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json()}},YV=async(n,e,t)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([KV(n,e),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})},XV=async(n,e,t,r,i,o,a)=>{return s={auth:{audience:e,scope:t},timeout:i,fetchUrl:n,fetchOptions:r,useFormData:a},l=o,new Promise(function(c,u){const d=new MessageChannel;d.port1.onmessage=function(h){h.data.error?u(new Error(h.data.error)):c(h.data),d.port1.close()},l.postMessage(s,[d.port2])});var s,l},ZV=async(n,e,t,r,i,o,a=1e4)=>i?XV(n,e,t,r,a,i,o):YV(n,r,a);async function JV(n,e){var{baseUrl:t,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s}=n,l=Oi(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const c=s?Dv(l):JSON.stringify(l);return await async function(u,d,h,f,p,m,b){let g,v=null;for(let S=0;S<3;S++)try{g=await ZV(u,h,f,p,m,b,d),v=null;break}catch(_){v=_}if(v)throw v;const x=g.json,{error:y,error_description:w}=x,E=Oi(x,["error","error_description"]),{ok:C}=g;if(!C){const S=w||"HTTP error. Unable to fetch ".concat(u);throw y==="mfa_required"?new g1(y,S,E.mfa_token):y==="missing_refresh_token"?new z6(h,f):new xr(y||"request_error",S)}return E}("".concat(t,"/oauth/token"),r,i||"default",o,{method:"POST",body:c,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||D6))}},e,s)}const Ph=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let hs=class Ov{constructor(e,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,r,i,o]=e.split("::");return new Ov({clientId:r,scope:o,audience:i},t)}static fromCacheEntry(e){const{scope:t,audience:r,client_id:i}=e;return new Ov({scope:t,audience:r,clientId:i})}},QV=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(r){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},N6=class{constructor(){this.enclosedCache=function(){let e={};return{set(t,r){e[t]=r},get(t){const r=e[t];if(r)return r},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}},eq=class{constructor(e,t,r){this.cache=e,this.keyManifest=t,this.nowProvider=r||O6}async setIdToken(e,t,r){var i;const o=this.getIdTokenCacheKey(e);await this.cache.set(o,{id_token:t,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var r;let i=await this.cache.get(e.toKey());if(!i){const s=await this.getCacheKeys();if(!s)return;const l=this.matchExistingCacheKey(e,s);l&&(i=await this.cache.get(l))}if(!i)return;const o=await this.nowProvider(),a=Math.floor(o/1e3);return i.expiresAt-t<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var t;const r=new hs({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey()))}async clear(e){var t;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new hs({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(r=>{var i;const o=hs.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],l=o.scope&&s.reduce((c,u)=>c&&a.has(u),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId&&o.audience===e.audience&&l})[0]}},tq=class{constructor(e,t,r){this.storage=e,this.clientId=t,this.cookieDomain=r,this.storageKey="a0.spajs.txs.".concat(this.clientId)}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const nu=n=>typeof n=="number",nq=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],rq=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(o=>{const a=o.split("."),[s,l,c]=a;if(a.length!==3||!s||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse(B_(l)),d={__raw:o},h={};return Object.keys(u).forEach(f=>{d[f]=u[f],nq.includes(f)||(h[f]=u[f])}),{encoded:{header:s,payload:l,signature:c},header:JSON.parse(B_(s)),claims:d,user:h}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(n.iss,'", found "').concat(e.claims.iss,'"'));if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error('Signature algorithm of "'.concat(e.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(n.aud,'" but was not one of "').concat(e.claims.aud.join(", "),'"'));if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(n.aud,'", found "').concat(e.claims.azp,'"'))}}else if(e.claims.aud!==n.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(n.aud,'" but found "').concat(e.claims.aud,'"'));if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(n.nonce,'", found "').concat(e.claims.nonce,'"'))}if(n.max_age&&!nu(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!nu(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!nu(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,r=new Date(n.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+t),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(r,") is after expiration time (").concat(i,")"));if(e.claims.nbf!=null&&nu(e.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(e.claims.nbf-t),r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(r,") is before ").concat(o))}if(e.claims.auth_time!=null&&nu(e.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),r>o)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(r,") is after last auth at ").concat(o))}if(n.organization){const o=n.organization.trim();if(o.startsWith("org_")){const a=o;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(a,'", found "').concat(e.claims.org_id,'"'))}else{const a=o.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(a,'", found "').concat(e.claims.org_name,'"'))}}return e};var fs=m1(function(n,e){var t=os&&os.__assign||function(){return t=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},t.apply(this,arguments)};function r(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function i(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return r("Expires",d.expires?d.expires.toUTCString():"")+r("Domain",d.domain)+r("Path",d.path)+r("Secure",d.secure)+r("SameSite",d.sameSite)}(u)}function o(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{c[f[0].replace(d,decodeURIComponent)]=p.replace(d,decodeURIComponent)}catch(m){}}return c}function a(){return o(document.cookie)}function s(l,c,u){document.cookie=i(l,c,t({path:"/"},u))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=a,e.get=function(l){return a()[l]},e.set=s,e.remove=function(l,c){s(l,"",t(t({},c),{expires:-1}))}});p1(fs),fs.encode,fs.parse,fs.getAll;var iq=fs.get,F6=fs.set,$6=fs.remove;const _l={get(n){const e=iq(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),F6(n,JSON.stringify(e),r)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),$6(n,t)}},oq={get(n){return _l.get(n)||_l.get("_legacy_".concat(n))},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),F6("_legacy_".concat(n),JSON.stringify(e),r),_l.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),$6(n,t),_l.remove(n,e),_l.remove("_legacy_".concat(n),e)}},aq={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function sq(n,e,t){var r=e===void 0?null:e,i=function(l,c){var u=atob(l);if(c){for(var d=new Uint8Array(u.length),h=0,f=u.length;h<f;++h)d[h]=u.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return u}(n,t!==void 0&&t),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var P_,L_,z_,E0,lq=(P_="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",L_=null,z_=!1,function(n){return E0=E0||sq(P_,L_,z_),new Worker(E0,n)});const S0={};let cq=class{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const r=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const r=new Set(t.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return"@@auth0spajs@@::".concat(e)}};const uq={memory:()=>new N6().enclosedCache,localstorage:()=>new QV},j_=n=>uq[n],N_=n=>{const{openUrl:e,onRedirect:t}=n,r=Oi(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:t})},T0=new HV;let dq=class{constructor(e){let t,r;if(this.userCache=new N6().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await T0.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!gf())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(gf().subtle===void 0)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(t=e.cacheLocation||"memory",!j_(t))throw new Error('Invalid cache location "'.concat(t,'"'));r=j_(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?_l:oq,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(a=>"auth0.".concat(a,".is.authenticated"))(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:aq;var o;this.scope=Ph("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new tq(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||O6,this.cacheManager=new eq(r,r.allKeys?void 0:new cq(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:"https://".concat(o)),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:"https://".concat(a,"/"):"".concat(s,"/"))(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new lq)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||D6)));return"".concat(this.domainUrl).concat(e,"&auth0Client=").concat(t)}_authorizeUrl(e){return this._url("/authorize?".concat(Dv(e)))}async _verifyIdToken(e,t,r){const i=await this.nowProvider();return rq({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,r){const i=M_(C0()),o=M_(C0()),a=C0(),s=(u=>{const d=new Uint8Array(u);return(h=>{const f={"+":"-","/":"_","=":""};return h.replace(/[+/=]/g,p=>f[p])})(window.btoa(String.fromCharCode(...Array.from(d))))})(await(async u=>await gf().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(a)),l=((u,d,h,f,p,m,b,g)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),h),{scope:Ph(d,h.scope),response_type:"code",response_mode:g||"query",state:f,nonce:p,redirect_uri:b||u.authorizationParams.redirect_uri,code_challenge:m,code_challenge_method:"S256"}))(this.options,this.scope,e,i,o,s,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,t==null?void 0:t.response_mode),c=this._authorizeUrl(l);return{nonce:o,code_verifier:a,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:i,url:c}}async loginWithPopup(e,t){var r;if(e=e||{},!(t=t||{}).popup&&(t.popup=(s=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup","left=".concat(l,",top=").concat(c,",width=400,height=600,resizable,scrollbars=yes,status=1"))})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;const o=await(s=>new Promise((l,c)=>{let u;const d=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(d),clearTimeout(h),window.removeEventListener("message",u,!1),c(new GV(s.popup)))},1e3),h=setTimeout(()=>{clearInterval(d),c(new qV(s.popup)),window.removeEventListener("message",u,!1)},1e3*(s.timeoutInSeconds||60));u=function(f){if(f.data&&f.data.type==="authorization_response"){if(clearTimeout(h),clearInterval(d),window.removeEventListener("message",u,!1),s.popup.close(),f.data.response.error)return c(xr.fromPayload(f.data.response));l(f.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new xr("state_mismatch","Invalid state");const a=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const r=N_(e),{openUrl:i,fragment:o,appState:a}=r,s=Oi(r,["openUrl","fragment","appState"]),l=((t=s.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:u}=c,d=Oi(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:a}),l&&{organization:l}));const h=o?"".concat(u,"#").concat(o):u;i?await i(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:o,error_description:a}=(d=>{d.indexOf("#")>-1&&(d=d.substring(0,d.indexOf("#")));const h=new URLSearchParams(d);return{state:h.get("state"),code:h.get("code")||void 0,error:h.get("error")||void 0,error_description:h.get("error_description")||void 0}})(t.join("")),s=this.transactionManager.get();if(!s)throw new xr("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new VV(o,a||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new xr("state_mismatch","Invalid state");const l=s.organization,c=s.nonce,u=s.redirect_uri;return await this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:c,organization:l}),{appState:s.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch(t){}}async getTokenSilently(e={}){var t;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Ph(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=await((o,a)=>{let s=S0[a];return s||(s=o().finally(()=>{delete S0[a],s=null}),S0[a]=s),s})(()=>this._getTokenSilently(r),"".concat(this.options.clientId,"::").concat(r.authorizationParams.audience,"::").concat(r.authorizationParams.scope));return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,r=Oi(e,["cacheMode"]);if(t!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!await(async(i,o=3)=>{for(let a=0;a<o;a++)if(await i())return!0;return!1})(()=>T0.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new Rv;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const c=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(c)return c}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:l}=i;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:l})}finally{await T0.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Ph(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},WV),t),await this.loginWithPopup(i,t),(await this.cacheManager.get(new hs({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:r}=t,i=Oi(t,["federated"]),o=r?"&federated":"";return this._url("/v2/logout?".concat(Dv(Object.assign({clientId:e.clientId},i))))+o}async logout(e={}){const t=N_(e),{openUrl:r}=t,i=Oi(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(i);r?await r(o):r!==!1&&window.location.assign(o)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);const{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new xr("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((p,m,b=60)=>new Promise((g,v)=>{const x=window.document.createElement("iframe");x.setAttribute("width","0"),x.setAttribute("height","0"),x.style.display="none";const y=()=>{window.document.body.contains(x)&&(window.document.body.removeChild(x),window.removeEventListener("message",w,!1))};let w;const E=setTimeout(()=>{v(new Rv),y()},1e3*b);w=function(C){if(C.origin!=m||!C.data||C.data.type!=="authorization_response")return;const S=C.source;S&&S.close(),C.data.response.error?v(xr.fromPayload(C.data.response)):g(C.data.response),clearTimeout(E),window.removeEventListener("message",w,!1),setTimeout(y,2e3)},window.addEventListener("message",w,!1),window.document.body.appendChild(x),x.setAttribute("src",p)}))(i,this.domainUrl,d);if(o!==h.state)throw new xr("state_mismatch","Invalid state");const f=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:s,code:h.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},f),{scope:c,oauthTokenScope:f.scope,audience:u})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new hs({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new z6(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const o=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:e.authorizationParams.scope,oauthTokenScope:o.scope,audience:e.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw o}}async _saveEntryInCache(e){const{id_token:t,decodedToken:r}=e,i=Oi(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new hs({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:r}){const i=await this.cacheManager.get(new hs({scope:e,audience:t,clientId:r}),60);if(i&&i.access_token){const{access_token:o,oauthTokenScope:a,expires_in:s}=i,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:o},a?{scope:a}:null),{expires_in:s})}}async _requestToken(e,t){const{nonceIn:r,organization:i}=t||{},o=await JV(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(o.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:e.scope,audience:e.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})}};var U6={isAuthenticated:!1,isLoading:!0},so=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},hq=fn(fn({},U6),{buildAuthorizeUrl:so,buildLogoutUrl:so,getAccessTokenSilently:so,getAccessTokenWithPopup:so,getIdTokenClaims:so,loginWithRedirect:so,loginWithPopup:so,logout:so,handleRedirectCallback:so}),H6=K.createContext(hq),F_=function(n){$V(e,n);function e(t,r){var i=n.call(this,r||t)||this;return i.error=t,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return e}(Error),fq=/[?&]code=[^&]+/,pq=/[?&]state=[^&]+/,mq=/[?&]error=[^&]+/,gq=function(n){return n===void 0&&(n=window.location.search),(fq.test(n)||mq.test(n))&&pq.test(n)},W6=function(n){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new F_(e.error,e.error_description):new F_(e.error):new Error(n)}},$_=W6("Login failed"),A0=W6("Get access token failed"),V6=function(n){var e;n!=null&&n.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=n.authorizationParams||{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((e=n==null?void 0:n.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},bq=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return fn(fn({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return fn(fn({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:fn(fn({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return fn(fn({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return fn(fn({},n),{isLoading:!1,error:e.error})}},vq=function(n){return V6(n),fn(fn({},n),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},xq=function(n){window.history.replaceState({},document.title,(n==null?void 0:n.returnTo)||window.location.pathname)},yq=function(n){var e=n.children,t=n.skipRedirectCallback,r=n.onRedirectCallback,i=r===void 0?xq:r,o=n.context,a=o===void 0?H6:o,s=UV(n,["children","skipRedirectCallback","onRedirectCallback","context"]),l=K.useState(function(){return new dq(vq(s))})[0],c=K.useReducer(bq,U6),u=c[0],d=c[1],h=K.useRef(!1),f=K.useCallback(function(E){return d({type:"ERROR",error:E}),E},[]);K.useEffect(function(){h.current||(h.current=!0,function(){return ll(void 0,void 0,void 0,function(){var E,C,S;return cl(this,function(_){switch(_.label){case 0:return _.trys.push([0,7,,8]),E=void 0,gq()&&!t?[4,l.handleRedirectCallback()]:[3,3];case 1:return C=_.sent().appState,[4,l.getUser()];case 2:return E=_.sent(),i(C,E),[3,6];case 3:return[4,l.checkSession()];case 4:return _.sent(),[4,l.getUser()];case 5:E=_.sent(),_.label=6;case 6:return d({type:"INITIALISED",user:E}),[3,8];case 7:return S=_.sent(),f($_(S)),[3,8];case 8:return[2]}})})}())},[l,i,t,f]);var p=K.useCallback(function(E){return V6(E),l.loginWithRedirect(E)},[l]),m=K.useCallback(function(E,C){return ll(void 0,void 0,void 0,function(){var S,_;return cl(this,function(A){switch(A.label){case 0:d({type:"LOGIN_POPUP_STARTED"}),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,l.loginWithPopup(E,C)];case 2:return A.sent(),[3,4];case 3:return S=A.sent(),f($_(S)),[2];case 4:return[4,l.getUser()];case 5:return _=A.sent(),d({type:"LOGIN_POPUP_COMPLETE",user:_}),[2]}})})},[l]),b=K.useCallback(function(E){return E===void 0&&(E={}),ll(void 0,void 0,void 0,function(){return cl(this,function(C){switch(C.label){case 0:return[4,l.logout(E)];case 1:return C.sent(),(E.openUrl||E.openUrl===!1)&&d({type:"LOGOUT"}),[2]}})})},[l]),g=K.useCallback(function(E){return ll(void 0,void 0,void 0,function(){var C,S,_,A;return cl(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,5]),[4,l.getTokenSilently(E)];case 1:return C=D.sent(),[3,5];case 2:throw S=D.sent(),A0(S);case 3:return _=d,A={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return _.apply(void 0,[(A.user=D.sent(),A)]),[7];case 5:return[2,C]}})})},[l]),v=K.useCallback(function(E,C){return ll(void 0,void 0,void 0,function(){var S,_,A,D;return cl(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(E,C)];case 1:return S=I.sent(),[3,5];case 2:throw _=I.sent(),A0(_);case 3:return A=d,D={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return A.apply(void 0,[(D.user=I.sent(),D)]),[7];case 5:return[2,S]}})})},[l]),x=K.useCallback(function(){return l.getIdTokenClaims()},[l]),y=K.useCallback(function(E){return ll(void 0,void 0,void 0,function(){var C,S,_;return cl(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(E)];case 1:return[2,A.sent()];case 2:throw C=A.sent(),A0(C);case 3:return S=d,_={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return S.apply(void 0,[(_.user=A.sent(),_)]),[7];case 5:return[2]}})})},[l]),w=K.useMemo(function(){return fn(fn({},u),{getAccessTokenSilently:g,getAccessTokenWithPopup:v,getIdTokenClaims:x,loginWithRedirect:p,loginWithPopup:m,logout:b,handleRedirectCallback:y})},[u,g,v,x,p,m,b,y]);return de.createElement(a.Provider,{value:w},e)},wq=function(n){return n===void 0&&(n=H6),K.useContext(n)};const kq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_q="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Cq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",Eq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Sq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Tq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",Aq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Iq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Rq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Gm="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",bf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Dq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 255.79l-64-64-64 64M256 448.21V207.79' class='ionicon-fill-none ionicon-stroke-width'/></svg>",q6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Oq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",U_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M288 72v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",H_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ru="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",W_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M176 272l80 80 80-80M256 48v288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",V_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440 432H72a40 40 0 01-40-40V120a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H440a40 40 0 0140 40v240a40 40 0 01-40 40zM32 192h448' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Mq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm167.67 106.17c-12 40.3-50.2 69.83-95.62 69.83s-83.62-29.53-95.72-69.83a8 8 0 017.83-10.17h175.69a8 8 0 017.82 10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",Bq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Pq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",Lq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",zq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>",jq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Mv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Bv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",Nq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Fq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",$q="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",Uq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>",Hq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",Wq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Vq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",qq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm-23.67 149.83c12-40.3 50.2-69.83 95.62-69.83s83.62 29.53 95.71 69.83a8 8 0 01-7.82 10.17H168.15a8 8 0 01-7.82-10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",Gq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Kq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",Yq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 53.84S208 48 256 48s74 16 96 32h64a64 64 0 0164 64v48a64 64 0 01-64 64h-30a32.34 32.34 0 00-27.37 15.4S350 290.19 324 335.22 248 448 240 464c-29 0-43-22-34-47.71 10.28-29.39 23.71-54.38 27.46-87.09.54-4.78-3.14-12-8-12L96 307' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M96 241l80 2c20 1.84 32 12.4 32 30h0c0 17.6-14 28.84-32 30l-80 4c-17.6 0-32-16.4-32-34v-.17A32 32 0 0196 241zM64 176l112 2c18 .84 32 12.41 32 30h0c0 17.61-14 28.86-32 30l-112 2a32.1 32.1 0 01-32-32h0a32.1 32.1 0 0132-32zM112 48l64 3c21 1.84 32 11.4 32 29h0c0 17.6-14.4 30-32 30l-64 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32zM80 112l96 2c19 .84 32 12.4 32 30h0c0 17.6-13 28.84-32 30l-96 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Xq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 458.16S304 464 256 464s-74-16-96-32H96a64 64 0 01-64-64v-48a64 64 0 0164-64h30a32.34 32.34 0 0027.37-15.4S162 221.81 188 176.78 264 64 272 48c29 0 43 22 34 47.71-10.28 29.39-23.71 54.38-27.46 87.09-.54 4.78 3.14 12 7.95 12L416 205' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 271l-80-2c-20-1.84-32-12.4-32-30h0c0-17.6 14-28.84 32-30l80-4c17.6 0 32 16.4 32 34v.17A32 32 0 01416 271zM448 336l-112-2c-18-.84-32-12.41-32-30h0c0-17.61 14-28.86 32-30l112-2a32.1 32.1 0 0132 32h0a32.1 32.1 0 01-32 32zM400 464l-64-3c-21-1.84-32-11.4-32-29h0c0-17.6 14.4-30 32-30l64-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32zM432 400l-96-2c-19-.84-32-12.4-32-30h0c0-17.6 13-28.84 32-30l96-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Zq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",Jq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Qq=()=>{const n=Da(),[e]=bm(),t=async()=>{try{const{data:r,error:i}=await me.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/Cephaline-Supabase/app"}});if(i)throw i;await e({message:"Google login successful!",duration:2e3,position:"top",color:"success"}),n.push("/Cephaline-Supabase/app","forward","replace")}catch(r){await e({message:r.message||"Google login failed",duration:3e3,position:"top",color:"danger"}),console.error("Google login error:",r)}};return k.jsxs(je,{expand:"block",onClick:t,fill:"outline",className:"google-login-button",children:[k.jsx(Ye,{slot:"start",icon:$q,className:"google-icon"}),"Continue with Google"]})};//! otpauth 9.4.0 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.7.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const eG=n=>{const e=new ArrayBuffer(8),t=new Uint8Array(e);let r=n;for(let i=7;i>=0&&r!==0;i--)t[i]=r&255,r-=t[i],r/=256;return t};function gp(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function tG(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Km(n,...e){if(!tG(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function nG(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gp(n.outputLen),gp(n.blockLen)}function yc(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function G6(n,e){Km(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rG(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function I0(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Ai(n,e){return n<<32-e|n>>>e}function R0(n,e){return n<<e|n>>>32-e>>>0}const q_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function iG(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function G_(n){for(let e=0;e<n.length;e++)n[e]=iG(n[e])}function oG(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function Ym(n){return typeof n=="string"&&(n=oG(n)),Km(n),n}class b1{clone(){return this._cloneInto()}}function $c(n){const e=r=>n().update(Ym(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}class K6 extends b1{update(e){return yc(this),this.iHash.update(e),this}digestInto(e){yc(this),Km(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nG(e);const r=Ym(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}}const Pv=(n,e,t)=>new K6(n,e).update(t).digest();Pv.create=(n,e)=>new K6(n,e);function aG(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(t>>i&o),s=Number(t&o),l=r?4:0,c=r?0:4;n.setUint32(e+l,a,r),n.setUint32(e+c,s,r)}function Y6(n,e,t){return n&e^~n&t}function X6(n,e,t){return n&e^n&t^e&t}class v1 extends b1{update(e){yc(this);const{view:t,buffer:r,blockLen:i}=this;e=Ym(e);const o=e.length;for(let a=0;a<o;){const s=Math.min(i-this.pos,o-a);if(s===i){const l=I0(e);for(;i<=o-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){yc(this),G6(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)t[d]=0;aG(r,i-8,BigInt(this.length*8),o),this.process(r,0);const s=I0(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)s.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%t&&e.buffer.set(r),e}constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=I0(this.buffer)}}const iu=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ho=new Uint32Array(80);class sG extends v1{get(){const{A:e,B:t,C:r,D:i,E:o}=this;return[e,t,r,i,o]}set(e,t,r,i,o){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0}process(e,t){for(let l=0;l<16;l++,t+=4)Ho[l]=e.getUint32(t,!1);for(let l=16;l<80;l++)Ho[l]=R0(Ho[l-3]^Ho[l-8]^Ho[l-14]^Ho[l-16],1);let{A:r,B:i,C:o,D:a,E:s}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=Y6(i,o,a),u=1518500249):l<40?(c=i^o^a,u=1859775393):l<60?(c=X6(i,o,a),u=2400959708):(c=i^o^a,u=3395469782);const d=R0(r,5)+c+s+u+Ho[l]|0;s=a,a=o,o=R0(i,30),i=r,r=d}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,this.set(r,i,o,a,s)}roundClean(){Ho.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=iu[0]|0,this.B=iu[1]|0,this.C=iu[2]|0,this.D=iu[3]|0,this.E=iu[4]|0}}const lG=$c(()=>new sG),cG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vo=new Uint32Array(64);class Z6 extends v1{get(){const{A:e,B:t,C:r,D:i,E:o,F:a,G:s,H:l}=this;return[e,t,r,i,o,a,s,l]}set(e,t,r,i,o,a,s,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=l|0}process(e,t){for(let d=0;d<16;d++,t+=4)Vo[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=Vo[d-15],f=Vo[d-2],p=Ai(h,7)^Ai(h,18)^h>>>3,m=Ai(f,17)^Ai(f,19)^f>>>10;Vo[d]=m+Vo[d-7]+p+Vo[d-16]|0}let{A:r,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=Ai(s,6)^Ai(s,11)^Ai(s,25),f=u+h+Y6(s,l,c)+cG[d]+Vo[d]|0,m=(Ai(r,2)^Ai(r,13)^Ai(r,22))+X6(r,i,o)|0;u=c,c=l,l=s,s=a+f|0,a=o,o=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,a,s,l,c,u)}roundClean(){Vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=Wo[0]|0,this.B=Wo[1]|0,this.C=Wo[2]|0,this.D=Wo[3]|0,this.E=Wo[4]|0,this.F=Wo[5]|0,this.G=Wo[6]|0,this.H=Wo[7]|0}}class uG extends Z6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const dG=$c(()=>new Z6),hG=$c(()=>new uG),Lh=BigInt(2**32-1),Lv=BigInt(32);function J6(n,e=!1){return e?{h:Number(n&Lh),l:Number(n>>Lv&Lh)}:{h:Number(n>>Lv&Lh)|0,l:Number(n&Lh)|0}}function Q6(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:o,l:a}=J6(n[i],e);[t[i],r[i]]=[o,a]}return[t,r]}const fG=(n,e)=>BigInt(n>>>0)<<Lv|BigInt(e>>>0),pG=(n,e,t)=>n>>>t,mG=(n,e,t)=>n<<32-t|e>>>t,gG=(n,e,t)=>n>>>t|e<<32-t,bG=(n,e,t)=>n<<32-t|e>>>t,vG=(n,e,t)=>n<<64-t|e>>>t-32,xG=(n,e,t)=>n>>>t-32|e<<64-t,yG=(n,e)=>e,wG=(n,e)=>n,eT=(n,e,t)=>n<<t|e>>>32-t,tT=(n,e,t)=>e<<t|n>>>32-t,nT=(n,e,t)=>e<<t-32|n>>>64-t,rT=(n,e,t)=>n<<t-32|e>>>64-t;function kG(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const _G=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),CG=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,EG=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),SG=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,TG=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),AG=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0,Xe={fromBig:J6,split:Q6,toBig:fG,shrSH:pG,shrSL:mG,rotrSH:gG,rotrSL:bG,rotrBH:vG,rotrBL:xG,rotr32H:yG,rotr32L:wG,rotlSH:eT,rotlSL:tT,rotlBH:nT,rotlBL:rT,add:kG,add3L:_G,add3H:CG,add4L:EG,add4H:SG,add5H:AG,add5L:TG},[IG,RG]=Xe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),qo=new Uint32Array(80),Go=new Uint32Array(80);class iT extends v1{get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:a,Dh:s,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:b}=this;return[e,t,r,i,o,a,s,l,c,u,d,h,f,p,m,b]}set(e,t,r,i,o,a,s,l,c,u,d,h,f,p,m,b){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=b|0}process(e,t){for(let x=0;x<16;x++,t+=4)qo[x]=e.getUint32(t),Go[x]=e.getUint32(t+=4);for(let x=16;x<80;x++){const y=qo[x-15]|0,w=Go[x-15]|0,E=Xe.rotrSH(y,w,1)^Xe.rotrSH(y,w,8)^Xe.shrSH(y,w,7),C=Xe.rotrSL(y,w,1)^Xe.rotrSL(y,w,8)^Xe.shrSL(y,w,7),S=qo[x-2]|0,_=Go[x-2]|0,A=Xe.rotrSH(S,_,19)^Xe.rotrBH(S,_,61)^Xe.shrSH(S,_,6),D=Xe.rotrSL(S,_,19)^Xe.rotrBL(S,_,61)^Xe.shrSL(S,_,6),I=Xe.add4L(C,D,Go[x-7],Go[x-16]),M=Xe.add4H(I,E,A,qo[x-7],qo[x-16]);qo[x]=M|0,Go[x]=I|0}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:s,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:b,Hh:g,Hl:v}=this;for(let x=0;x<80;x++){const y=Xe.rotrSH(d,h,14)^Xe.rotrSH(d,h,18)^Xe.rotrBH(d,h,41),w=Xe.rotrSL(d,h,14)^Xe.rotrSL(d,h,18)^Xe.rotrBL(d,h,41),E=d&f^~d&m,C=h&p^~h&b,S=Xe.add5L(v,w,C,RG[x],Go[x]),_=Xe.add5H(S,g,y,E,IG[x],qo[x]),A=S|0,D=Xe.rotrSH(r,i,28)^Xe.rotrBH(r,i,34)^Xe.rotrBH(r,i,39),I=Xe.rotrSL(r,i,28)^Xe.rotrBL(r,i,34)^Xe.rotrBL(r,i,39),M=r&o^r&s^o&s,T=i&a^i&l^a&l;g=m|0,v=b|0,m=f|0,b=p|0,f=d|0,p=h|0,{h:d,l:h}=Xe.add(c|0,u|0,_|0,A|0),c=s|0,u=l|0,s=o|0,l=a|0,o=r|0,a=i|0;const B=Xe.add3L(A,I,T);r=Xe.add3H(B,_,D,M),i=B|0}({h:r,l:i}=Xe.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:a}=Xe.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l}=Xe.add(this.Ch|0,this.Cl|0,s|0,l|0),{h:c,l:u}=Xe.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Xe.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Xe.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:b}=Xe.add(this.Gh|0,this.Gl|0,m|0,b|0),{h:g,l:v}=Xe.add(this.Hh|0,this.Hl|0,g|0,v|0),this.set(r,i,o,a,s,l,c,u,d,h,f,p,m,b,g,v)}roundClean(){qo.fill(0),Go.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class DG extends iT{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const OG=$c(()=>new iT),MG=$c(()=>new DG),oT=[],aT=[],sT=[],BG=BigInt(0),ou=BigInt(1),PG=BigInt(2),LG=BigInt(7),zG=BigInt(256),jG=BigInt(113);for(let n=0,e=ou,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],oT.push(2*(5*r+t)),aT.push((n+1)*(n+2)/2%64);let i=BG;for(let o=0;o<7;o++)e=(e<<ou^(e>>LG)*jG)%zG,e&PG&&(i^=ou<<(ou<<BigInt(o))-ou);sT.push(i)}const[NG,FG]=Q6(sT,!0),K_=(n,e,t)=>t>32?nT(n,e,t):eT(n,e,t),Y_=(n,e,t)=>t>32?rT(n,e,t):tT(n,e,t);function $G(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)t[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const s=(a+8)%10,l=(a+2)%10,c=t[l],u=t[l+1],d=K_(c,u,1)^t[s],h=Y_(c,u,1)^t[s+1];for(let f=0;f<50;f+=10)n[a+f]^=d,n[a+f+1]^=h}let i=n[2],o=n[3];for(let a=0;a<24;a++){const s=aT[a],l=K_(i,o,s),c=Y_(i,o,s),u=oT[a];i=n[u],o=n[u+1],n[u]=l,n[u+1]=c}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)t[s]=n[a+s];for(let s=0;s<10;s++)n[a+s]^=~t[(s+2)%10]&t[(s+4)%10]}n[0]^=NG[r],n[1]^=FG[r]}t.fill(0)}class x1 extends b1{keccak(){q_||G_(this.state32),$G(this.state32,this.rounds),q_||G_(this.state32),this.posOut=0,this.pos=0}update(e){yc(this);const{blockLen:t,state:r}=this;e=Ym(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(t-this.pos,i-o);for(let s=0;s<a;s++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){yc(this,!1),Km(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(G6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new x1(t,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rG(this.state)}}const Xm=(n,e,t)=>$c(()=>new x1(e,n,t)),UG=Xm(6,144,224/8),HG=Xm(6,136,256/8),WG=Xm(6,104,384/8),VG=Xm(6,72,512/8),wc=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),X_={SHA1:lG,SHA224:hG,SHA256:dG,SHA384:MG,SHA512:OG,"SHA3-224":UG,"SHA3-256":HG,"SHA3-384":WG,"SHA3-512":VG},y1=n=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(n):return"SHA1";case/^SHA(?:2?-)?224$/i.test(n):return"SHA224";case/^SHA(?:2?-)?256$/i.test(n):return"SHA256";case/^SHA(?:2?-)?384$/i.test(n):return"SHA384";case/^SHA(?:2?-)?512$/i.test(n):return"SHA512";case/^SHA3-224$/i.test(n):return"SHA3-224";case/^SHA3-256$/i.test(n):return"SHA3-256";case/^SHA3-384$/i.test(n):return"SHA3-384";case/^SHA3-512$/i.test(n):return"SHA3-512";default:throw new TypeError("Unknown hash algorithm: ".concat(n))}},qG=(n,e,t)=>{var r;if(Pv){const i=(r=X_[n])!=null?r:X_[y1(n)];return Pv(i,e,t)}else throw new Error("Missing HMAC function")},zv="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",GG=n=>{n=n.replace(/ /g,"");let e=n.length;for(;n[e-1]==="=";)--e;n=(e<n.length?n.substring(0,e):n).toUpperCase();const t=new ArrayBuffer(n.length*5/8|0),r=new Uint8Array(t);let i=0,o=0,a=0;for(let s=0;s<n.length;s++){const l=zv.indexOf(n[s]);if(l===-1)throw new TypeError("Invalid character found: ".concat(n[s]));o=o<<5|l,i+=5,i>=8&&(i-=8,r[a++]=o>>>i)}return r},KG=n=>{let e=0,t=0,r="";for(let i=0;i<n.length;i++)for(t=t<<8|n[i],e+=8;e>=5;)r+=zv[t>>>e-5&31],e-=5;return e>0&&(r+=zv[t<<5-e&31]),r},YG=n=>{n=n.replace(/ /g,"");const e=new ArrayBuffer(n.length/2),t=new Uint8Array(e);for(let r=0;r<n.length;r+=2)t[r/2]=parseInt(n.substring(r,r+2),16);return t},XG=n=>{let e="";for(let t=0;t<n.length;t++){const r=n[t].toString(16);r.length===1&&(e+="0"),e+=r}return e.toUpperCase()},ZG=n=>{const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r)&255;return t},JG=n=>{let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},Z_=wc.TextEncoder?new wc.TextEncoder:null,J_=wc.TextDecoder?new wc.TextDecoder:null,QG=n=>{if(!Z_)throw new Error("Encoding API not available");return Z_.encode(n)},eK=n=>{if(!J_)throw new Error("Encoding API not available");return J_.decode(n)},tK=n=>{var e;if((e=wc.crypto)!=null&&e.getRandomValues)return wc.crypto.getRandomValues(new Uint8Array(n));throw new Error("Cryptography API not available")};class Co{static fromLatin1(e){return new Co({buffer:ZG(e).buffer})}static fromUTF8(e){return new Co({buffer:QG(e).buffer})}static fromBase32(e){return new Co({buffer:GG(e).buffer})}static fromHex(e){return new Co({buffer:YG(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:JG(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:eK(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:KG(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:XG(this.bytes)}),this.hex}constructor({buffer:e,size:t=20}={}){this.bytes=typeof e>"u"?tK(t):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const nK=(n,e)=>{{if(n.length!==e.length)throw new TypeError("Input strings must have the same length");let t=-1,r=0;for(;++t<n.length;)r|=n.charCodeAt(t)^e.charCodeAt(t);return r===0}};class cn{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:t=cn.defaults.algorithm,digits:r=cn.defaults.digits,counter:i=cn.defaults.counter}){const o=qG(t,e.bytes,eG(i)),a=o[o.byteLength-1]&15;return(((o[a]&127)<<24|(o[a+1]&255)<<16|(o[a+2]&255)<<8|o[a+3]&255)%10**r).toString().padStart(r,"0")}generate({counter:e=this.counter++}={}){return cn.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:t,algorithm:r,digits:i=cn.defaults.digits,counter:o=cn.defaults.counter,window:a=cn.defaults.window}){if(e.length!==i)return null;let s=null;const l=c=>{const u=cn.generate({secret:t,algorithm:r,digits:i,counter:c});nK(e,u)&&(s=c-o)};l(o);for(let c=1;c<=a&&s===null&&(l(o-c),!(s!==null||(l(o+c),s!==null)));++c);return s}validate({token:e,counter:t=this.counter,window:r}){return cn.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t,window:r})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"counter=".concat(e(this.counter))}constructor({issuer:e=cn.defaults.issuer,label:t=cn.defaults.label,issuerInLabel:r=cn.defaults.issuerInLabel,secret:i=new Co,algorithm:o=cn.defaults.algorithm,digits:a=cn.defaults.digits,counter:s=cn.defaults.counter}={}){this.issuer=e,this.label=t,this.issuerInLabel=r,this.secret=typeof i=="string"?Co.fromBase32(i):i,this.algorithm=y1(o),this.digits=a,this.counter=s}}class Xt{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=Xt.defaults.period,timestamp:t=Date.now()}={}){return Math.floor(t/1e3/e)}counter({timestamp:e=Date.now()}={}){return Xt.counter({period:this.period,timestamp:e})}static remaining({period:e=Xt.defaults.period,timestamp:t=Date.now()}={}){return e*1e3-t%(e*1e3)}remaining({timestamp:e=Date.now()}={}){return Xt.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:t,digits:r,period:i=Xt.defaults.period,timestamp:o=Date.now()}){return cn.generate({secret:e,algorithm:t,digits:r,counter:Xt.counter({period:i,timestamp:o})})}generate({timestamp:e=Date.now()}={}){return Xt.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:t,algorithm:r,digits:i,period:o=Xt.defaults.period,timestamp:a=Date.now(),window:s}){return cn.validate({token:e,secret:t,algorithm:r,digits:i,counter:Xt.counter({period:o,timestamp:a}),window:s})}validate({token:e,timestamp:t,window:r}){return Xt.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t,window:r})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"period=".concat(e(this.period))}constructor({issuer:e=Xt.defaults.issuer,label:t=Xt.defaults.label,issuerInLabel:r=Xt.defaults.issuerInLabel,secret:i=new Co,algorithm:o=Xt.defaults.algorithm,digits:a=Xt.defaults.digits,period:s=Xt.defaults.period}={}){this.issuer=e,this.label=t,this.issuerInLabel=r,this.secret=typeof i=="string"?Co.fromBase32(i):i,this.algorithm=y1(o),this.digits=a,this.period=s}}const rK=({isOpen:n,onDidDismiss:e,session:t,onVerificationSuccess:r})=>{const[i,o]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(!1),[u,d]=K.useState(!1),h=async(m,b)=>{if(m.length!==6||!/^\d+$/.test(m))throw new Error("Code must be 6 digits");if(!(new Xt({secret:b,digits:6,period:30,algorithm:"SHA1"}).validate({token:m,window:1})!==null))throw new Error("Invalid verification code")},f=async()=>{var m,b;if(i.length!==6){s("Please enter a 6-digit code");return}c(!0),s("");try{const{data:g,error:v}=await me.from("user_totp").select("secret, is_verified").eq("user_id",(m=t.user)==null?void 0:m.id).single();if(v||!(g!=null&&g.secret))throw v||new Error("TOTP configuration error");if(await h(i,g.secret),!g.is_verified){const{error:w}=await me.from("user_totp").update({is_verified:!0}).eq("user_id",(b=t.user)==null?void 0:b.id);if(w)throw w}const{data:{session:x},error:y}=await me.auth.refreshSession();if(y)throw y;r(x)}catch(g){d(!0),console.error("TOTP verification failed:",g),await me.auth.signOut(),window.location.href="/Cephaline-Supabase";return}finally{window.location.href.endsWith("/Cephaline-Supabase")||c(!1)}},p=()=>{o(""),s(""),e()};return k.jsxs(Io,{isOpen:n,onDidDismiss:p,children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Wn,{children:"Two-Factor Authentication"}),k.jsx(je,{slot:"end",fill:"clear",onClick:p,children:k.jsx(Ye,{icon:Gm})})]})}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsxs(_a,{children:[k.jsx(vi,{className:"ion-justify-content-center",children:k.jsxs(Rr,{size:"12",sizeMd:"8",children:[k.jsx(Dn,{children:k.jsx("p",{className:"ion-text-center",children:"Enter the 6-digit code from your authenticator app"})}),k.jsx("div",{className:"ion-text-center",style:{margin:"20px 0"},children:k.jsx(Ht,{value:i,onIonChange:m=>{const g=(m.detail.value||"").replace(/\D/g,"");o(g.slice(0,6)),s("")},placeholder:"123456",inputMode:"numeric",maxlength:6,autofocus:!0,clearOnEdit:!0,class:a?"ion-invalid":"",style:{fontSize:"24px",textAlign:"center",letterSpacing:"10px",border:a?"2px solid var(--ion-color-danger)":"1px solid var(--ion-color-medium)",borderRadius:"8px",padding:"10px",width:"200px",margin:"0 auto"},disabled:l})}),a&&k.jsx(Dn,{color:"danger",children:k.jsx("p",{className:"ion-text-center",style:{fontSize:"14px"},children:a})})]})}),k.jsx(vi,{className:"ion-justify-content-center ion-margin-top",children:k.jsx(Rr,{size:"12",sizeMd:"8",children:k.jsx(je,{expand:"block",onClick:f,disabled:l||i.length!==6,children:l?k.jsx(ja,{name:"crescent"}):"Verify"})})})]}),k.jsx(Fa,{isOpen:u,onDidDismiss:()=>d(!1),message:"Invalid TOTP Code",duration:1500,position:"top",color:"primary"})]})]})},iK=({message:n,isOpen:e,onClose:t})=>k.jsx(Na,{isOpen:e,onDidDismiss:t,header:"Notification",message:n,buttons:["OK"]}),oK=()=>{const n=Da(),[e,t]=K.useState(""),[r,i]=K.useState(""),[o,a]=K.useState(""),[s,l]=K.useState(!1),[c,u]=K.useState(!1),[d,h]=K.useState(!1),[f,p]=K.useState(!1),[m,b]=K.useState(null),{isAuthenticated:g,user:v,getAccessTokenSilently:x}=wq(),y=async C=>{try{const{data:S,error:_}=await me.from("user_totp").select("secret").eq("user_id",C).single();if(_&&_.code!=="PGRST116")throw _;return!!(S!=null&&S.secret)}catch(S){return console.error("Error checking TOTP status:",S),!1}},w=async()=>{var C,S;try{h(!0);const{data:_,error:A}=await me.auth.signInWithPassword({email:e,password:r});if(A)throw A;console.log("Login successful, user ID:",(C=_.user)==null?void 0:C.id);const D=await y((S=_.user)==null?void 0:S.id);if(console.log("TOTP required:",D),D){p(!0),b(_);return}u(!0),setTimeout(()=>n.push("/Cephaline-Supabase/app","forward","replace"),1e3)}catch(_){a(_.message==="Invalid login credentials"?"Invalid email or password":_.message||"Login failed"),l(!0)}finally{h(!1)}},E=async()=>{p(!1);try{const{data:{session:C},error:S}=await me.auth.refreshSession();if(S)throw S;u(!0),n.push("/Cephaline-Supabase/app","forward","replace")}catch(C){console.error("Error refreshing session:",C),a("Failed to establish session after verification"),l(!0)}};return K.useEffect(()=>{(async()=>{const{data:{session:S}}=await me.auth.getSession();S&&(await y(S.user.id)||n.push("/Cephaline-Supabase/app","forward","replace"))})()},[]),k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(yn,{children:k.jsx(Wn,{style:{textAlign:"left"},children:"Cephaline Coding Journal App"})})}),k.jsxs(Bt,{className:"ion-padding",fullscreen:!0,children:[k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:k.jsx(er,{className:"fancy-card",style:{width:"90%",maxWidth:"400px",padding:"2rem"},children:k.jsxs(Qn,{children:[k.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"USER LOGIN"}),k.jsx(Ht,{fill:"outline",className:"fancy-input",type:"email",placeholder:"Email",value:e,onIonChange:C=>t(C.detail.value),disabled:d}),k.jsx(Ht,{className:"fancy-input",fill:"outline",type:"password",placeholder:"Password",value:r,onIonChange:C=>i(C.detail.value),style:{marginTop:"1rem"},disabled:d,children:k.jsx(Zl,{slot:"end"})}),k.jsx(je,{className:"fancy-button",expand:"block",onClick:w,style:{marginTop:"2rem",borderRadius:"8px"},disabled:d,children:d?"Logging in...":"Login"}),k.jsx("div",{style:{textAlign:"center",margin:"1rem 0"},children:k.jsx("span",{style:{color:"#666"},children:"OR"})}),k.jsx(Qq,{}),k.jsx(je,{fill:"clear",expand:"block",routerLink:"/Cephaline-Supabase/Registration",color:"primary",disabled:d,children:"Don't have an account? Register here"}),k.jsx(iK,{message:o,isOpen:s,onClose:()=>l(!1)}),k.jsx(Fa,{isOpen:c,onDidDismiss:()=>u(!1),message:"Login successful! Redirecting...",duration:1500,position:"top",color:"primary"}),k.jsx(fp,{isOpen:d,message:"Please wait..."})]})})}),k.jsx(rK,{isOpen:f,onDidDismiss:()=>{p(!1),me.auth.signOut()},session:m,onVerificationSuccess:E})]})]})},aK={};var jv=null;function sK(n){try{return crypto.getRandomValues(new Uint8Array(n))}catch(e){}try{return aK.randomBytes(n)}catch(e){}if(!jv)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return jv(n)}function lK(n){jv=n}function w1(n,e){if(n=n||k1,typeof n!="number")throw Error("Illegal arguments: "+typeof n+", "+typeof e);n<4?n=4:n>31&&(n=31);var t=[];return t.push("$2b$"),n<10&&t.push("0"),t.push(n.toString()),t.push("$"),t.push(bp(sK(dd),dd)),t.join("")}function lT(n,e,t){if(typeof e=="function"&&(t=e,e=void 0),typeof n=="function"&&(t=n,n=void 0),typeof n>"u")n=k1;else if(typeof n!="number")throw Error("illegal arguments: "+typeof n);function r(i){pi(function(){try{i(null,w1(n))}catch(o){i(o)}})}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);r(t)}else return new Promise(function(i,o){r(function(a,s){if(a){o(a);return}i(s)})})}function cT(n,e){if(typeof e>"u"&&(e=k1),typeof e=="number"&&(e=w1(e)),typeof n!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof n+", "+typeof e);return Nv(n,e)}function uT(n,e,t,r){function i(o){typeof n=="string"&&typeof e=="number"?lT(e,function(a,s){Nv(n,s,o,r)}):typeof n=="string"&&typeof e=="string"?Nv(n,e,o,r):pi(o.bind(this,Error("Illegal arguments: "+typeof n+", "+typeof e)))}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);i(t)}else return new Promise(function(o,a){i(function(s,l){if(s){a(s);return}o(l)})})}function dT(n,e){for(var t=n.length^e.length,r=0;r<n.length;++r)t|=n.charCodeAt(r)^e.charCodeAt(r);return t===0}function cK(n,e){if(typeof n!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof n+", "+typeof e);return e.length!==60?!1:dT(cT(n,e.substring(0,e.length-31)),e)}function uK(n,e,t,r){function i(o){if(typeof n!="string"||typeof e!="string"){pi(o.bind(this,Error("Illegal arguments: "+typeof n+", "+typeof e)));return}if(e.length!==60){pi(o.bind(this,null,!1));return}uT(n,e.substring(0,29),function(a,s){a?o(a):o(null,dT(s,e))},r)}if(t){if(typeof t!="function")throw Error("Illegal callback: "+typeof t);i(t)}else return new Promise(function(o,a){i(function(s,l){if(s){a(s);return}o(l)})})}function dK(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);return parseInt(n.split("$")[2],10)}function hK(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);if(n.length!==60)throw Error("Illegal hash length: "+n.length+" != 60");return n.substring(0,29)}function fK(n){if(typeof n!="string")throw Error("Illegal arguments: "+typeof n);return hT(n)>72}var pi=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function hT(n){for(var e=0,t=0,r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?e+=1:t<2048?e+=2:(t&64512)===55296&&(n.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function pK(n){for(var e=0,t,r,i=new Array(hT(n)),o=0,a=n.length;o<a;++o)t=n.charCodeAt(o),t<128?i[e++]=t:t<2048?(i[e++]=t>>6|192,i[e++]=t&63|128):(t&64512)===55296&&((r=n.charCodeAt(o+1))&64512)===56320?(t=65536+((t&1023)<<10)+(r&1023),++o,i[e++]=t>>18|240,i[e++]=t>>12&63|128,i[e++]=t>>6&63|128,i[e++]=t&63|128):(i[e++]=t>>12|224,i[e++]=t>>6&63|128,i[e++]=t&63|128);return i}var ul="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ko=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function bp(n,e){var t=0,r=[],i,o;if(e<=0||e>n.length)throw Error("Illegal len: "+e);for(;t<e;){if(i=n[t++]&255,r.push(ul[i>>2&63]),i=(i&3)<<4,t>=e){r.push(ul[i&63]);break}if(o=n[t++]&255,i|=o>>4&15,r.push(ul[i&63]),i=(o&15)<<2,t>=e){r.push(ul[i&63]);break}o=n[t++]&255,i|=o>>6&3,r.push(ul[i&63]),r.push(ul[o&63])}return r.join("")}function fT(n,e){var t=0,r=n.length,i=0,o=[],a,s,l,c,u,d;if(e<=0)throw Error("Illegal len: "+e);for(;t<r-1&&i<e&&(d=n.charCodeAt(t++),a=d<Ko.length?Ko[d]:-1,d=n.charCodeAt(t++),s=d<Ko.length?Ko[d]:-1,!(a==-1||s==-1||(u=a<<2>>>0,u|=(s&48)>>4,o.push(String.fromCharCode(u)),++i>=e||t>=r)||(d=n.charCodeAt(t++),l=d<Ko.length?Ko[d]:-1,l==-1)||(u=(s&15)<<4>>>0,u|=(l&60)>>2,o.push(String.fromCharCode(u)),++i>=e||t>=r)));)d=n.charCodeAt(t++),c=d<Ko.length?Ko[d]:-1,u=(l&3)<<6>>>0,u|=c,o.push(String.fromCharCode(u)),++i;var h=[];for(t=0;t<i;t++)h.push(o[t].charCodeAt(0));return h}var dd=16,k1=10,mK=16,gK=100,Q_=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],e3=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],pT=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function hd(n,e,t,r){var i,o=n[e],a=n[e+1];return o^=t[0],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[1],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[2],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[3],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[4],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[5],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[6],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[7],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[8],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[9],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[10],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[11],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[12],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[13],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[14],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],a^=i^t[15],i=r[a>>>24],i+=r[256|a>>16&255],i^=r[512|a>>8&255],i+=r[768|a&255],o^=i^t[16],n[e]=a^t[mK+1],n[e+1]=o,n}function Cl(n,e){for(var t=0,r=0;t<4;++t)r=r<<8|n[e]&255,e=(e+1)%n.length;return{key:r,offp:e}}function t3(n,e,t){for(var r=0,i=[0,0],o=e.length,a=t.length,s,l=0;l<o;l++)s=Cl(n,r),r=s.offp,e[l]=e[l]^s.key;for(l=0;l<o;l+=2)i=hd(i,0,e,t),e[l]=i[0],e[l+1]=i[1];for(l=0;l<a;l+=2)i=hd(i,0,e,t),t[l]=i[0],t[l+1]=i[1]}function bK(n,e,t,r){for(var i=0,o=[0,0],a=t.length,s=r.length,l,c=0;c<a;c++)l=Cl(e,i),i=l.offp,t[c]=t[c]^l.key;for(i=0,c=0;c<a;c+=2)l=Cl(n,i),i=l.offp,o[0]^=l.key,l=Cl(n,i),i=l.offp,o[1]^=l.key,o=hd(o,0,t,r),t[c]=o[0],t[c+1]=o[1];for(c=0;c<s;c+=2)l=Cl(n,i),i=l.offp,o[0]^=l.key,l=Cl(n,i),i=l.offp,o[1]^=l.key,o=hd(o,0,t,r),r[c]=o[0],r[c+1]=o[1]}function n3(n,e,t,r,i){var o=pT.slice(),a=o.length,s;if(t<4||t>31)if(s=Error("Illegal number of rounds (4-31): "+t),r){pi(r.bind(this,s));return}else throw s;if(e.length!==dd)if(s=Error("Illegal salt length: "+e.length+" != "+dd),r){pi(r.bind(this,s));return}else throw s;t=1<<t>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(Q_),c=new Int32Array(e3)):(l=Q_.slice(),c=e3.slice()),bK(e,n,l,c);function h(){if(i&&i(u/t),u<t)for(var p=Date.now();u<t&&(u=u+1,t3(n,l,c),t3(e,l,c),!(Date.now()-p>gK)););else{for(u=0;u<64;u++)for(d=0;d<a>>1;d++)hd(o,d<<1,l,c);var m=[];for(u=0;u<a;u++)m.push((o[u]>>24&255)>>>0),m.push((o[u]>>16&255)>>>0),m.push((o[u]>>8&255)>>>0),m.push((o[u]&255)>>>0);if(r){r(null,m);return}else return m}r&&pi(h)}if(typeof r<"u")h();else for(var f;;)if(typeof(f=h())<"u")return f||[]}function Nv(n,e,t,r){var i;if(typeof n!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),t){pi(t.bind(this,i));return}else throw i;var o,a;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),t){pi(t.bind(this,i));return}else throw i;if(e.charAt(2)==="$")o="\0",a=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),t){pi(t.bind(this,i));return}else throw i;a=4}if(e.charAt(a+2)>"$")if(i=Error("Missing salt rounds"),t){pi(t.bind(this,i));return}else throw i;var s=parseInt(e.substring(a,a+1),10)*10,l=parseInt(e.substring(a+1,a+2),10),c=s+l,u=e.substring(a+3,a+25);n+=o>="a"?"\0":"";var d=pK(n),h=fT(u,dd);function f(p){var m=[];return m.push("$2"),o>="a"&&m.push(o),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(bp(h,h.length)),m.push(bp(p,pT.length*4-1)),m.join("")}if(typeof t>"u")return f(n3(d,h,c));n3(d,h,c,function(p,m){p?t(p,null):t(null,f(m))},r)}function vK(n,e){return bp(n,e)}function xK(n,e){return fT(n,e)}const r3={setRandomFallback:lK,genSaltSync:w1,genSalt:lT,hashSync:cT,hash:uT,compareSync:cK,compare:uK,getRounds:dK,getSalt:hK,truncates:fK,encodeBase64:vK,decodeBase64:xK},yK=({message:n,isOpen:e,onClose:t})=>k.jsx(Na,{isOpen:e,onDidDismiss:t,header:"Notification",message:n,buttons:["OK"]}),wK=()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[u,d]=K.useState(""),[h,f]=K.useState(!1),[p,m]=K.useState(!1),[b,g]=K.useState(""),[v,x]=K.useState(!1),y=()=>{if(!a.endsWith("@nbsc.edu.ph")){g("Only @nbsc.edu.ph emails are allowed to register."),x(!0);return}if(l!==u){g("Passwords do not match."),x(!0);return}f(!0)},w=async()=>{f(!1);try{const{data:C,error:S}=await me.auth.signUp({email:a,password:l});if(S)throw new Error("Account creation failed: "+S.message);const _=await r3.genSalt(10),A=await r3.hash(l,_),{error:D}=await me.from("users").insert([{username:n,user_email:a,user_firstname:t,user_lastname:i,user_password:A}]);if(D)throw new Error("Failed to save user data: "+D.message);m(!0)}catch(C){C instanceof Error?g(C.message):g("An unknown error occurred."),x(!0)}},E={marginTop:"15px",color:"white",backgroundColor:"#1e1e1e",borderRadius:"8px",padding:"12px","--background":"#1e1e1e","--color":"#fff","--placeholder-color":"#aaa","--highlight-color-focused":"#3a8ef6"};return k.jsx(Dr,{children:k.jsx(Bt,{fullscreen:!0,className:"ion-padding",style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#121212",height:"100vh"},children:k.jsx(er,{style:{background:"#000",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0,0,0,0.6)",margin:"auto"},children:k.jsxs(Qn,{children:[k.jsx("h1",{style:{color:"white",marginBottom:"20px"},children:"Create your account"}),k.jsx(Ht,{label:"Username",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter a unique username",value:n,onIonChange:C=>e(C.detail.value),style:E}),k.jsx(Ht,{label:"First Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your first name",value:t,onIonChange:C=>r(C.detail.value),style:E}),k.jsx(Ht,{label:"Last Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your last name",value:i,onIonChange:C=>o(C.detail.value),style:E}),k.jsx(Ht,{label:"Email",labelPlacement:"stacked",fill:"outline",type:"email",placeholder:"youremail@nbsc.edu.ph",value:a,onIonChange:C=>s(C.detail.value),style:E}),k.jsx(Ht,{label:"Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Enter password",value:l,onIonChange:C=>c(C.detail.value),style:E,children:k.jsx(Zl,{slot:"end"})}),k.jsx(Ht,{label:"Confirm Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Confirm password",value:u,onIonChange:C=>d(C.detail.value),style:E,children:k.jsx(Zl,{slot:"end"})}),k.jsx(je,{onClick:y,expand:"block",shape:"round",color:"primary",style:{marginTop:"20px"},children:"Register"}),k.jsx(je,{routerLink:"/Cephaline-Supabase",expand:"block",fill:"clear",shape:"round",color:"primary",children:"Already have an account? Sign in"}),k.jsx(Io,{isOpen:h,onDidDismiss:()=>f(!1),children:k.jsx(Bt,{className:"ion-padding",children:k.jsxs(er,{className:"ion-padding",style:{marginTop:"25%"},children:[k.jsxs($y,{children:[k.jsx(Fl,{children:"User Registration Details"}),k.jsx("hr",{}),k.jsx(d0,{children:"Username"}),k.jsx(Fl,{children:n}),k.jsx(d0,{children:"Email"}),k.jsx(Fl,{children:a}),k.jsx(d0,{children:"Name"}),k.jsxs(Fl,{children:[t," ",i]})]}),k.jsx(Qn,{}),k.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"5px"},children:[k.jsx(je,{fill:"clear",onClick:()=>f(!1),children:"Cancel"}),k.jsx(je,{color:"primary",onClick:w,children:"Confirm"})]})]})})}),k.jsx(Io,{isOpen:p,onDidDismiss:()=>m(!1),children:k.jsxs(Bt,{className:"ion-padding",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[k.jsx(Wn,{style:{marginTop:"35%"},children:"Registration Successful "}),k.jsxs(Dn,{children:[k.jsx("p",{children:"Your account has been created successfully."}),k.jsx("p",{children:"Please check your email address."})]}),k.jsx(je,{routerLink:"/Cephaline-Supabase",routerDirection:"back",color:"primary",children:"Go to Login"})]})}),k.jsx(yK,{message:b,isOpen:v,onClose:()=>x(!1)})]})})})})},kK=()=>{const[n,e]=K.useState("Loading..."),[t,r]=K.useState("Loading..."),[i,o]=K.useState("https://placehold.co/200");K.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:{user:s},error:l}=await me.auth.getUser();if(!s){e("Not logged in");return}const{data:c,error:u}=await me.from("users").select("username, user_firstname, user_lastname, user_avatar_url").eq("user_email",s.email).single();if(u)throw u;if(e(c.username||"No username"),r("".concat(c.user_firstname," ").concat(c.user_lastname).trim()||"No bio"),c.user_avatar_url)if(c.user_avatar_url.startsWith("http"))o(c.user_avatar_url);else{const{data:{publicUrl:d}}=await me.storage.from("user-avatars").getPublicUrl(c.user_avatar_url);o(d)}else o("https://placehold.co/200")}catch(s){console.error("Error fetching profile:",s),e("Error loading profile"),r("Please try again later")}};return k.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[k.jsx(D5,{style:{width:"200px",height:"200px",margin:"0 auto 16px"},children:k.jsx(mm,{src:i,style:{objectFit:"cover"},onError:s=>{s.target.src="https://placehold.co/200"}})}),k.jsxs(gn,{children:[k.jsx("h2",{style:{margin:"8px 0",fontSize:"1.5rem"},children:n}),k.jsx("p",{style:{margin:"8px 0",color:"#666"},children:t})]}),k.jsxs(je,{fill:"outline",style:{marginTop:"16px"},routerLink:"/Cephaline-Supabase/app/editProfile",children:[k.jsx(Ye,{icon:Uq,slot:"start"}),"Edit Profile"]})]})};function _K({value:n,onChange:e}){return k.jsx(O$,{placeholder:"Find Journal",value:n,onIonInput:t=>e(t.detail.value),debounce:300,style:{width:"1500px"}})}const CK=({onJournalCreated:n})=>{const[e,t]=K.useState(!1),[r,i]=K.useState(""),[o,a]=K.useState(""),[s,l]=K.useState("#3880ff"),[c,u]=K.useState("#555555"),[d,h]=K.useState("#ffffff"),[f,p]=K.useState(!1),[m,b]=K.useState(""),g=[{value:"#3880ff",name:"Primary Blue"},{value:"#3dc2ff",name:"Light Blue"},{value:"#2dd36f",name:"Success Green"},{value:"#ffc409",name:"Warning Yellow"},{value:"#eb445a",name:"Danger Red"},{value:"#92949c",name:"Medium Gray"},{value:"#555555",name:"Dark Gray"},{value:"#000000",name:"Black"},{value:"#ffffff",name:"White"},{value:"#fff8e1",name:"Warm White"},{value:"#f5f5f5",name:"Light Gray"}],v=async()=>{if(!r.trim()){b("Journal title is required"),p(!0);return}try{const{data:{user:x},error:y}=await me.auth.getUser();if(y||!x)throw new Error((y==null?void 0:y.message)||"User not authenticated");const{data:w,error:E}=await me.from("journals").insert({user_id:x.id,title:r,description:o,title_color:s,description_color:c,card_color:d}).select().single();if(E)throw E;n&&n(w),i(""),a(""),t(!1)}catch(x){console.error("Error creating journal:",x),b(x instanceof Error?x.message:"Failed to create journal"),p(!0)}};return k.jsxs(k.Fragment,{children:[k.jsxs(je,{onClick:()=>t(!0),expand:"block",color:"primary",style:{margin:"0 10px",width:"100px"},children:[k.jsx(Ye,{slot:"start",icon:Sq}),"New Journal"]}),k.jsxs(Io,{isOpen:e,onDidDismiss:()=>t(!1),children:[k.jsx(xn,{children:k.jsxs(yn,{color:"primary",children:[k.jsx(Hn,{slot:"start",children:k.jsx(je,{onClick:()=>t(!1),children:k.jsx(Ye,{icon:Gm})})}),k.jsx(Wn,{children:"Create New Journal"}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{onClick:v,strong:!0,children:"Save"})})]})}),k.jsx(Bt,{className:"ion-padding",children:k.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[k.jsxs(Yn,{children:[k.jsxs(gn,{position:"stacked",color:"primary",children:["Journal Title ",k.jsx("span",{style:{color:"red"},children:"*"})]}),k.jsx(Ht,{value:r,onIonChange:x=>i(x.detail.value||""),placeholder:"Enter journal title",autofocus:!0,clearOnEdit:!0})]}),k.jsxs(Yn,{children:[k.jsx(gn,{position:"stacked",color:"primary",children:"Description"}),k.jsx(Uy,{value:o,onIonChange:x=>a(x.detail.value||""),placeholder:"Enter journal description",rows:6,autoGrow:!0})]}),k.jsxs("div",{style:{marginTop:"20px"},children:[k.jsxs(Yn,{children:[k.jsx(gn,{children:"Title Color"}),k.jsx(ff,{value:s,onIonChange:x=>l(x.detail.value),interface:"popover",children:g.map(x=>k.jsx(fo,{value:x.value,children:k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]}),k.jsxs(Yn,{children:[k.jsx(gn,{children:"Description Color"}),k.jsx(ff,{value:c,onIonChange:x=>u(x.detail.value),interface:"popover",children:g.map(x=>k.jsx(fo,{value:x.value,children:k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]}),k.jsxs(Yn,{children:[k.jsx(gn,{children:"Card Background"}),k.jsx(ff,{value:d,onIonChange:x=>h(x.detail.value),interface:"popover",children:g.map(x=>k.jsx(fo,{value:x.value,children:k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:x.value,marginRight:"8px",border:"1px solid #ddd"}}),x.name]})},x.value))})]})]}),k.jsxs("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:d,borderRadius:"8px",borderLeft:"4px solid var(--ion-color-primary)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:[k.jsx("h3",{style:{color:s,margin:"0 0 10px 0"},children:r||"Title Preview"}),k.jsx("p",{style:{color:c,fontStyle:"italic",margin:"8px 0"},children:o||"Description preview text goes here..."}),k.jsx("small",{style:{color:"#888",display:"block",textAlign:"right"},children:"Created: Just now"})]})]})})]}),k.jsx(Na,{isOpen:f,onDidDismiss:()=>p(!1),header:"Error",message:m,buttons:["OK"]})]})},EK=({journals:n,setJournals:e,searchText:t,sortOption:r})=>{const i=l1(),[o,a]=K.useState(!0);K.useEffect(()=>{(async()=>{try{a(!0);const{data:{user:u}}=await me.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await me.from("journals").select("*").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(u){console.error("Error fetching journals:",u)}finally{a(!1)}})()},[e]);const s=K.useMemo(()=>[...n.filter(u=>{var d;return u.title.toLowerCase().includes(t.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(t.toLowerCase()))})].sort((u,d)=>{switch(r){case"title-asc":return u.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(u.title);case"date-newest":return new Date(d.created_at).getTime()-new Date(u.created_at).getTime();case"date-oldest":return new Date(u.created_at).getTime()-new Date(d.created_at).getTime();case"color-asc":return(u.card_color||"").localeCompare(d.card_color||"");case"color-desc":return(d.card_color||"").localeCompare(u.card_color||"");default:return 0}}),[n,t,r]),l=async c=>{try{const{data:u,error:d}=await me.from("journal_pages").select("page_id").eq("journal_id",c).order("created_at",{ascending:!1}).limit(1);if(d)throw d;u!=null&&u.length?i.push("/Cephaline-Supabase/app/Overviewing/".concat(c)):i.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}catch(u){console.error("Error checking journal pages:",u),i.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}};return o?k.jsxs("div",{className:"loading-container",children:[k.jsx(ja,{name:"crescent"}),k.jsx("p",{children:"Loading your journals..."})]}):s.length===0?k.jsx("div",{className:"empty-state",children:k.jsx("p",{children:"No journals match your search."})}):k.jsx("div",{className:"bookshelf-container",children:k.jsxs("div",{className:"bookshelf",children:[k.jsx("div",{className:"shelf"}),k.jsx("div",{className:"journal-grid-container",children:s.map(c=>k.jsxs("div",{className:"journal-card-wrapper",style:{"--card-color":c.card_color,"--title-color":c.title_color},onClick:()=>l(c.journal_id),children:[k.jsx("div",{className:"journal-spine",children:k.jsxs("div",{className:"journal-title-container",children:[k.jsx("h3",{className:"journal-title",children:c.title}),k.jsx("div",{className:"journal-date",children:new Date(c.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})}),k.jsx("div",{className:"journal-card-preview",children:k.jsxs(er,{className:"journal-card",children:[k.jsx($y,{children:k.jsx(Fl,{style:{color:c.title_color},children:c.title})}),k.jsxs(Qn,{children:[k.jsx("p",{style:{color:c.description_color},children:c.description}),k.jsxs("small",{children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]})]})})]},c.journal_id))})]})})},SK=({value:n,onChange:e})=>k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"-3px",marginBottom:"4px",marginLeft:"30px"},children:[k.jsx(gn,{children:"Sort by:"}),k.jsxs(ff,{value:n,placeholder:"Select sort",onIonChange:t=>e(t.detail.value),children:[k.jsx(fo,{value:"title-asc",children:"Title (AZ)"}),k.jsx(fo,{value:"title-desc",children:"Title (ZA)"}),k.jsx(fo,{value:"date-newest",children:"Date (Newest)"}),k.jsx(fo,{value:"date-oldest",children:"Date (Oldest)"}),k.jsx(fo,{value:"color-asc",children:"Background Color (AZ)"}),k.jsx(fo,{value:"color-desc",children:"Background Color (ZA)"})]})]}),TK=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(""),[i,o]=K.useState("date-newest"),[a,s]=K.useState(0),l=c=>{e(u=>[c,...u])};return y$(()=>{s(c=>c+1)}),k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(yn,{children:k.jsx(Wn,{children:"Journals"})})}),k.jsxs(Bt,{children:[k.jsx(kK,{}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[k.jsx(_K,{value:t,onChange:r}),k.jsx(CK,{onJournalCreated:l})]}),k.jsx(SK,{value:i,onChange:o}),k.jsx(EK,{journals:n,setJournals:e,searchText:t,sortOption:i},a)]})]})},AK=({avatarPreview:n,handleAvatarChange:e})=>{const t=K.useRef(null);return k.jsx(_a,{children:k.jsx(vi,{className:"ion-justify-content-center ion-align-items-center",children:k.jsxs(Rr,{className:"ion-text-center",children:[n&&k.jsx(D5,{style:{width:"200px",height:"200px",margin:"10px auto"},children:k.jsx(mm,{src:n,style:{objectFit:"cover"}})}),k.jsx("input",{type:"file",ref:t,style:{display:"none"},accept:"image/*",onChange:e}),k.jsx(je,{expand:"block",onClick:()=>{var r;return(r=t.current)==null?void 0:r.click()},children:"Upload Avatar"})]})})})},IK=({username:n,firstName:e,lastName:t,setUsername:r,setFirstName:i,setLastName:o})=>k.jsxs(_a,{children:[k.jsx(vi,{children:k.jsx(Rr,{children:k.jsx(Ht,{label:"Username",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter username",value:n,onIonChange:a=>r(a.detail.value)})})}),k.jsxs(vi,{children:[k.jsx(Rr,{size:"6",children:k.jsx(Ht,{label:"First Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter First Name",value:e,onIonChange:a=>i(a.detail.value)})}),k.jsx(Rr,{size:"6",children:k.jsx(Ht,{label:"Last Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter Last Name",value:t,onIonChange:a=>o(a.detail.value)})})]})]}),RK=({password:n,confirmPassword:e,currentPassword:t,setPassword:r,setConfirmPassword:i,setCurrentPassword:o})=>k.jsxs(k.Fragment,{children:[k.jsx(_a,{children:k.jsxs(vi,{children:[k.jsx(Dn,{color:"secondary",children:k.jsx("h3",{children:"Change Password"})}),k.jsx(Rr,{size:"12",children:k.jsx(Ht,{label:"New Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter New Password",value:n,onIonChange:a=>r(a.detail.value),children:k.jsx(Zl,{slot:"end"})})})]})}),k.jsx(_a,{children:k.jsx(vi,{children:k.jsx(Rr,{size:"12",children:k.jsx(Ht,{label:"Confirm Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Confirm New Password",value:e,onIonChange:a=>i(a.detail.value),children:k.jsx(Zl,{slot:"end"})})})})}),k.jsx(_a,{children:k.jsxs(vi,{children:[k.jsx(Dn,{color:"secondary",children:k.jsx("h3",{children:"Confirm Changes"})}),k.jsx(Rr,{size:"12",children:k.jsx(Ht,{label:"Current Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter Current Password to Save Changes",value:t,onIonChange:a=>o(a.detail.value),children:k.jsx(Zl,{slot:"end"})})})]})})]});function DK(){var n=K.useRef(!1),e=K.useCallback(function(){return n.current},[]);return K.useEffect(function(){return n.current=!0,function(){n.current=!1}},[]),e}var OK=function(n){n===void 0&&(n={});var e=K.useState(n),t=e[0],r=e[1],i=K.useCallback(function(o){r(function(a){return Object.assign({},a,o instanceof Function?o(a):o)})},[]);return[t,i]},MK=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,t=[],r=0;r<n.rangeCount;r++)t.push(n.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||t.forEach(function(i){n.addRange(i)}),e&&e.focus()}},BK=MK,i3={"text/plain":"Text","text/html":"Url",default:"Text"},PK="Copy to clipboard: #{key}, Enter";function LK(n){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function zK(n,e){var t,r,i,o,a,s,l=!1;e||(e={}),t=e.debug||!1;try{i=BK(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=n,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=i3[e.format]||i3.default;window.clipboardData.setData(d,n)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,n);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),r=LK("message"in e?e.message:PK),window.prompt(r,n)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var jK=zK;const NK=js(jK);var FK=function(){var n=DK(),e=OK({value:void 0,error:void 0,noUserInteraction:!0}),t=e[0],r=e[1],i=K.useCallback(function(o){if(n()){var a,s;try{if(typeof o!="string"&&typeof o!="number"){var l=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");r({value:o,error:l,noUserInteraction:!0});return}else if(o===""){var l=new Error("Cannot copy empty string to clipboard.");r({value:o,error:l,noUserInteraction:!0});return}s=o.toString(),a=NK(s),r({value:s,error:void 0,noUserInteraction:a})}catch(c){r({value:s,error:c,noUserInteraction:a})}}},[]);return[t,i]};const $K=({userId:n,initialEnabled:e=!1,onToggleChange:t,disabled:r})=>{const[i,o]=K.useState(""),[a,s]=K.useState(!1),[l,c]=K.useState(""),[u,d]=K.useState(!1),[h,f]=K.useState(e),[p,m]=K.useState(!1),[b,g]=K.useState(!1),v=K.useCallback(()=>new Xt({issuer:"Cephaline-Supabase",label:"Cephaline-Supabase:"+n,algorithm:"SHA1",digits:6,period:30}).secret.base32,[n]),x=K.useCallback(async()=>{try{const{data:_,error:A}=await me.from("user_totp").select("secret, is_verified").eq("user_id",n).single();if(A&&A.code!=="PGRST116")throw A;return{enabled:!!(_!=null&&_.secret),secret:_==null?void 0:_.secret,isVerified:(_==null?void 0:_.is_verified)||!1}}catch(_){return console.error("Error checking TOTP status:",_),{enabled:!1,isVerified:!1}}},[n]);K.useEffect(()=>{(async()=>{if(n){d(!0);try{const A=await x();console.log(A);const{enabled:D,secret:I,isVerified:M}=A;f(D),g(M!=null?M:!1),D&&I&&o(I)}catch(A){console.error("Error checking TOTP status:",A)}finally{d(!1)}}})()},[n,x,f,g,o,d]);const y=async()=>{d(!0);try{const _=v(),{error:A}=await me.from("user_totp").upsert({user_id:n,secret:_,is_verified:!1,updated_at:new Date().toISOString()});if(A)throw A;return o(_),g(!1),!0}catch(_){return console.error("Error enabling TOTP:",_),c(_.message||"Failed to enable TOTP"),s(!0),!1}finally{d(!1)}},w=async()=>{d(!0);try{const{error:_}=await me.from("user_totp").delete().eq("user_id",n);if(_)throw _;return o(""),g(!1),!0}catch(_){return console.error("Error disabling TOTP:",_),c(_.message||"Failed to disable TOTP"),s(!0),!1}finally{d(!1)}},E=async _=>{const A=_.detail.checked;u||(A?await y()&&(f(!0),t==null||t(!0)):m(!0))},C=async()=>{m(!1),await w()&&(f(!1),t==null||t(!1))},S=async()=>{if(i)try{await navigator.clipboard.writeText(i),c("Copied to clipboard!"),s(!0)}catch(_){c("Copy failed"),s(!0)}};return k.jsxs("div",{className:"ion-padding",children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[k.jsx(gn,{children:k.jsx("strong",{children:"Authenticator App (TOTP)"})}),u?k.jsx(ja,{name:"crescent"}):k.jsx(gm,{checked:h,onIonChange:E,disabled:u||r})]}),h&&k.jsxs(k.Fragment,{children:[k.jsx(er,{children:k.jsx(Qn,{children:k.jsx(_a,{children:k.jsxs(vi,{className:"ion-align-items-center",children:[k.jsx(Rr,{children:k.jsxs(Dn,{children:[k.jsx("h3",{style:{margin:0},children:"Secret Key:"}),k.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.1rem",letterSpacing:"1px",wordBreak:"break-all",margin:"8px 0",userSelect:"all"},children:i||"Loading..."}),!b&&k.jsx(Dn,{color:"warning",children:k.jsx("p",{children:"This secret key is not yet verified. Please complete setup in your authenticator app."})})]})}),k.jsx(Rr,{size:"auto",children:k.jsx(je,{fill:"clear",onClick:S,disabled:!i,children:k.jsx(Ye,{icon:q6})})})]})})})}),k.jsx("div",{style:{marginTop:"16px"},children:k.jsxs(Dn,{color:"medium",children:[k.jsx("p",{children:k.jsx("strong",{children:"How to setup:"})}),k.jsxs("ol",{style:{paddingLeft:"20px",margin:"8px 0"},children:[k.jsx("li",{children:"Copy the secret key above"}),k.jsx("li",{children:"Open your authenticator app (Google Authenticator, Authy, etc.)"}),k.jsx("li",{children:'Select "Enter a setup key" or similar option'}),k.jsx("li",{children:"Enter your account name (e.g., your email)"}),k.jsx("li",{children:"Paste the secret key"}),k.jsx("li",{children:'Select "Time-based" if given an option'}),k.jsx("li",{children:"Save the entry"})]}),k.jsxs("p",{style:{marginTop:"8px"},children:[k.jsx("strong",{children:"Note:"})," You'll need to enter the 6-digit code from your authenticator app when logging in."]})]})})]}),k.jsx(Fa,{isOpen:a,onDidDismiss:()=>s(!1),message:l,duration:2e3,position:"top"}),k.jsx(Na,{isOpen:p,onDidDismiss:()=>m(!1),header:"Disable Two-Factor Authentication?",message:"Are you sure you want to disable this security feature?",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:C}]})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var mT=function(n,e){return(mT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])})(n,e)};function Ci(n,e){function t(){this.constructor=n}mT(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ee(n,e,t,r){return new(t||(t=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(u){o(u)}}function s(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){c.done?i(c.value):new t(function(u){u(c.value)}).then(a,s)}l((r=r.apply(n,[])).next())})}function Se(n,e){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(n,a)}catch(d){u=[6,d],r=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var UK=function(){function n(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return n.prototype.setPlatform=function(e,t){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},n.prototype.registerFlag=function(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},this.urlFlags[e]!=null){var i=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+i+"."),this.set(e,i)}},n.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},n.prototype.getNumber=function(e){return this.get(e)},n.prototype.getBool=function(e){return this.get(e)},n.prototype.getFlags=function(){return this.flags},Object.defineProperty(n.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),n.prototype.set=function(e,t){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)},n.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},n.prototype.setFlags=function(e){this.flags=Object.assign({},e)},n.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},n.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var t,r,i=(t=this.global.location.search,r={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return HK(r,a[0],a[1]),a.join("=")}),r);"tfjsflags"in i&&i.tfjsflags.split(",").forEach(function(o){var a=o.split(":"),s=a[0],l=a[1];e.urlFlags[s]=function(c,u){if((u=u.toLowerCase())==="true"||u==="false")return u==="true";if(""+ +u===u)return+u;throw new Error("Could not parse value flag value "+u+" for flag "+c+".")}(s,l)})}},n}();function HK(n,e,t){n[decodeURIComponent(e)]=decodeURIComponent(t||"")}function oe(){return gT}var gT=null,vp=new Map,Fv=new Map;function bT(n,e){var t=xT(n,e);return vp.get(t)}function WK(n){return Fv.get(n)}function o3(n){for(var e=vp.entries(),t=[];;){var r=e.next(),i=r.done,o=r.value;if(i)break;var a=o[0],s=o[1];a.split("_")[0]===n&&t.push(s)}return t}function vT(n){var e=n.kernelName,t=n.backendName,r=xT(e,t);if(vp.has(r))throw new Error("The kernel '"+e+"' for backend '"+t+"' is already registered");vp.set(r,n)}function VK(n){var e=n.kernelName;Fv.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),Fv.set(e,n)}function xT(n,e){return e+"_"+n}function $v(n,e,t){return Math.max(n,Math.min(e,t))}function yT(n){return n%2==0?n:n+1}function qK(n){for(var e=0,t=0;t<n.length;t++)e+=n[t];return e}function W(n,e){if(!n)throw new Error(typeof e=="string"?e:e())}function ut(n,e,t){t===void 0&&(t=""),W(wn(n,e),function(){return t+" Shapes "+n+" and "+e+" must match"})}function Uc(n){W(n!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function kc(n,e,t){if(e===void 0&&(e=[]),t===void 0&&(t=!1),e==null&&(e=[]),Array.isArray(n)||Hi(n)&&!t)for(var r=0;r<n.length;++r)kc(n[r],e,t);else e.push(n);return e}function Te(n){if(n.length===0)return 1;for(var e=n[0],t=1;t<n.length;t++)e*=n[t];return e}function wn(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Wt(n){return n%1==0}function GK(n){if(Math.tanh!=null)return Math.tanh(n);if(n===1/0)return 1;if(n===-1/0)return-1;var e=Math.exp(2*n);return(e-1)/(e+1)}function Uv(n){var e=Math.ceil(Math.sqrt(n));return[e,Math.ceil(n/e)]}function Ql(n,e){return e<=n.length?n:n+" ".repeat(e-n.length)}function a3(n,e,t){return e===void 0&&(e=function(r){return 0}),new Promise(function(r,i){var o=0,a=function(){if(n())r();else{o++;var s=e(o);t!=null&&o>=t?i():setTimeout(a,s)}};a()})}function KK(n,e){for(var t=1,r=-1,i=0;i<n.length;++i)if(n[i]>=0)t*=n[i];else if(n[i]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(n[i]<0)throw Error("Shapes can not be < 0. Found "+n[i]+" at dim "+i);if(r===-1){if(e>0&&e!==t)throw Error("Size("+e+") must match the product of shape "+n);return n}if(t===0)throw Error("Cannot infer the missing size in ["+n+"] when there are 0 elements");if(e%t!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+t);var o=n.slice();return o[r]=e/t,o}function ln(n,e){var t=e.length;return W((n=n==null?e.map(function(r,i){return i}):[].concat(n)).every(function(r){return r>=-t&&r<t}),function(){return"All values in axis param must be in range [-"+t+", "+t+") but got axis "+n}),W(n.every(function(r){return Wt(r)}),function(){return"All values in axis param must be integers but got axis "+n}),n.map(function(r){return r<0?t+r:r})}function as(n,e){for(var t=[],r=[],i=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||i?null:ln(e,n).sort(),a=0,s=0;s<n.length;++s){if(o!=null){if(o[a]===s&&n[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+n[s]+"' is not 1");(o[a]==null||o[a]>s)&&n[s]===1&&(t.push(n[s]),r.push(s)),o[a]<=s&&a++}n[s]!==1&&(t.push(n[s]),r.push(s))}return{newShape:t,keptDims:r}}function fd(n,e){var t=null;if(n==null||n==="float32")t=new Float32Array(e);else if(n==="int32")t=new Int32Array(e);else{if(n!=="bool")throw new Error("Unknown data type "+n);t=new Uint8Array(e)}return t}function xp(n,e){var t=null;if(n==null||n==="float32")t=new Float32Array(e);else if(n==="int32")t=new Int32Array(e);else if(n==="bool")t=new Uint8Array(e);else{if(n!=="string")throw new Error("Unknown data type "+n);t=new Array(e)}return t}function YK(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function XK(n){return n==="bool"||n==="complex64"||n==="float32"||n==="int32"||n==="string"}function ZK(n,e){return e!=="complex64"&&(e!=="float32"||n==="complex64")&&(e!=="int32"||n==="float32"||n==="complex64")&&(e!=="bool"||n!=="bool")}function Hi(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array}function wT(n){if(n==="float32"||n==="int32")return 4;if(n==="complex64")return 8;if(n==="bool")return 1;throw new Error("Unknown dtype "+n)}function JK(n){if(n==null)return 0;var e=0;return n.forEach(function(t){return e+=t.length}),e}function _1(n){return typeof n=="string"||n instanceof String}function QK(n){return typeof n=="boolean"}function eY(n){return typeof n=="number"}function qd(n){return Array.isArray(n)?qd(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array?"int32":eY(n)?"float32":_1(n)?"string":QK(n)?"bool":"float32"}function Hv(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Wv(n,e){for(var t=e;t<n;++t)if(n%t==0)return t;return n}function Wi(n){var e=n.length;if(e<2)return[];var t=new Array(e-1);t[e-2]=n[e-1];for(var r=e-3;r>=0;--r)t[r]=t[r+1]*n[r+1];return t}function kT(n,e,t){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=kc(n)),t&&YK(n,e),function(o,a){return o instanceof Float32Array&&a==="float32"||o instanceof Int32Array&&a==="int32"||o instanceof Uint8Array&&a==="bool"}(n,e))return n;if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool"){for(var r=new Uint8Array(n.length),i=0;i<r.length;++i)Math.round(n[i])!==0&&(r[i]=1);return r}throw new Error("Unknown data type "+e)}function s3(n,e){if(n.length===0)return e[0];var t=n.reduce(function(r,i){return r*i});if(t===0)return[];if(t!==e.length)throw new Error("["+n+"] does not match the input size.");return function r(i,o,a){var s=new Array;if(o.length===1)for(var l=o[0],c=0;c<l;c++)s[c]=a[i+c];else{l=o[0];var u=o.slice(1),d=u.reduce(function(h,f){return h*f});for(c=0;c<l;c++)s[c]=r(i+c*d,u,a)}return s}(0,n,e)}function _T(n,e){for(var t=Gd(n,e),r=0;r<t.length;r++)t[r]=1;return t}function Gd(n,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool")return new Uint8Array(n);throw new Error("Unknown data type "+e)}function Mi(){return oe().platform.now()}function CT(n){n.forEach(function(e){W(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+n+"]."})})}function tY(n,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",oe().platform.encode(n,e)}function yp(n,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",oe().platform.decode(n,e)}function l3(n,e,t){if(e===0)return 0;if(e===1)return n[0];for(var r=n[n.length-1],i=0;i<n.length-1;++i)r+=t[i]*n[i];return r}function nY(n,e,t){if(e===0)return[];if(e===1)return[n];for(var r=new Array(e),i=0;i<r.length-1;++i)r[i]=Math.floor(n/t[i]),n-=r[i]*t[i];return r[r.length-1]=n,r}var rY=function(){function n(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new iY)}return n.prototype.profileKernel=function(e,t,r){var i,o=this,a=this.backendTimer.time(function(){i=r()});return i.forEach(function(s){s.data().then(function(l){(function(c,u,d){if(u!=="float32")return!1;for(var h=0;h<c.length;h++){var f=c[h];if(isNaN(f)||!isFinite(f))return console.warn("Found "+f+" in the result of '"+d+"'"),!0}})(l,s.dtype,e),a.then(function(c){var u="";c.getExtraProfileInfo!=null&&(u=c.getExtraProfileInfo()),o.logger.logKernelProfile(e,s,l,c.kernelMs,t,u)})})}),i},n}(),iY=function(){function n(){}return n.prototype.logKernelProfile=function(e,t,r,i,o,a){var s=typeof i=="number"?Ql(i+"ms",9):i.error,l=Ql(e,25),c=t.rank,u=t.size,d=Ql(t.shape.toString(),14),h="";for(var f in o){var p=o[f].shape||t.shape,m=p.length;h+=f+": "+m+"D "+(m>0?p:"")+" "}console.log("%c"+l+"	%c"+s+"	%c"+c+"D "+d+"	%c"+u+"	%c"+h+"	%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},n}(),c3=20,au=3,D0=7;function oY(n,e,t,r){var i=Wi(e),o=function(c,u,d,h){var f=Te(u),p=h[h.length-1],m=new Array(p).fill(0),b=u.length,g=d==="complex64"?lu(c):c;if(b>1)for(var v=0;v<f/p;v++)for(var x=v*p,y=0;y<p;y++)m[y]=Math.max(m[y],su(g[x+y],0,d).length);return m}(n,e,t,i),a=e.length,s=function c(u,d,h,f,p,m){m===void 0&&(m=!0);var b=h==="complex64"?2:1,g=d[0],v=d.length;if(v===0)return h==="complex64"?[su(lu(u)[0],0,h)]:h==="bool"?[ET(u[0])]:[u[0].toString()];if(v===1){if(g>c3){var x=au*b,y=Array.from(u.slice(0,x)),w=Array.from(u.slice((g-au)*b,g*b));return h==="complex64"&&(y=lu(y),w=lu(w)),["["+y.map(function(B,L){return su(B,p[L],h)}).join(", ")+", ..., "+w.map(function(B,L){return su(B,p[g-au+L],h)}).join(", ")+"]"]}return["["+(h==="complex64"?lu(u):Array.from(u)).map(function(B,L){return su(B,p[L],h)}).join(", ")+"]"]}var E=d.slice(1),C=f.slice(1),S=f[0]*b,_=[];if(g>c3){for(var A=0;A<au;A++){var D=(I=A*S)+S;_.push.apply(_,c(u.slice(I,D),E,h,C,p,!1))}for(_.push("..."),A=g-au;A<g;A++)D=(I=A*S)+S,_.push.apply(_,c(u.slice(I,D),E,h,C,p,A===g-1))}else for(A=0;A<g;A++){var I;D=(I=A*S)+S,_.push.apply(_,c(u.slice(I,D),E,h,C,p,A===g-1))}var M=v===2?",":"";for(_[0]="["+_[0]+M,A=1;A<_.length-1;A++)_[A]=" "+_[A]+M;var T=",\n";for(A=2;A<v;A++)T+="\n";return _[_.length-1]=" "+_[_.length-1]+"]"+(m?"":T),_}(n,e,t,i,o),l=["Tensor"];return r&&(l.push("  dtype: "+t),l.push("  rank: "+a),l.push("  shape: ["+e+"]"),l.push("  values:")),l.push(s.map(function(c){return"    "+c}).join("\n")),l.join("\n")}function su(n,e,t){return Ql(Array.isArray(n)?parseFloat(n[0].toFixed(D0))+" + "+parseFloat(n[1].toFixed(D0))+"j":_1(n)?"'"+n+"'":t==="bool"?ET(n):parseFloat(n.toFixed(D0)).toString(),e)}function ET(n){return n===0?"false":"true"}function lu(n){for(var e=[],t=0;t<n.length;t+=2)e.push([n[t],n[t+1]]);return e}var pd=function(){function n(e,t,r){var i=this;if(this.dtype=t,this.shape=e.slice(),this.size=Te(e),r!=null){var o=r.length;W(o===this.size,function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+i.size+"'."})}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||xp(t,this.size),this.strides=Wi(e)}return n.prototype.set=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];r.length===0&&(r=[0]),W(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+t.rank+")"});var o=this.locToIndex(r);this.values[o]=e},n.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.length===0&&(e=[0]);for(var r=0,i=0,o=e;i<o.length;i++){var a=o[i];if(a<0||a>=this.shape[r]){var s="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var l=e[e.length-1],c=0;c<e.length-1;++c)l+=this.strides[c]*e[c];return this.values[l]},n.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var t=e[e.length-1],r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t},n.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var t=new Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t},Object.defineProperty(n.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),n.prototype.toTensor=function(){return Li().makeTensor(this.values,this.shape,this.dtype)},n}(),Li=null,re=null,ST=null,It=function(){function n(e,t,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Te(e),this.strides=Wi(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return n.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},n.prototype.asScalar=function(){return this.throwIfDisposed(),W(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},n.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},n.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},n.prototype.as3D=function(e,t,r){return this.throwIfDisposed(),this.reshape([e,t,r])},n.prototype.as4D=function(e,t,r,i){return this.throwIfDisposed(),this.reshape([e,t,r,i])},n.prototype.as5D=function(e,t,r,i,o){return this.throwIfDisposed(),this.reshape([e,t,r,i,o])},n.prototype.asType=function(e){return this.throwIfDisposed(),re.cast(this,e)},Object.defineProperty(n.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),n.prototype.buffer=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,re.buffer(this.shape,this.dtype,e)]}})})},n.prototype.bufferSync=function(){return re.buffer(this.shape,this.dtype,this.dataSync())},n.prototype.array=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,s3(this.shape,e)]}})})},n.prototype.arraySync=function(){return s3(this.shape,this.dataSync())},n.prototype.data=function(){return Ee(this,void 0,void 0,function(){var e,t;return Se(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),e=Li().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:t=r.sent();try{return[2,t.map(function(i){return yp(i)})]}catch(i){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,e]}})})},n.prototype.dataSync=function(){this.throwIfDisposed();var e=Li().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(t){return yp(t)})}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},n.prototype.bytes=function(){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Li().read(this.dataId)];case 1:return e=t.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},n.prototype.dispose=function(){this.isDisposed||(Li().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),n.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},n.prototype.toFloat=function(){return this.asType("float32")},n.prototype.toInt=function(){return this.asType("int32")},n.prototype.toBool=function(){return this.asType("bool")},n.prototype.print=function(e){return e===void 0&&(e=!1),re.print(this,e)},n.prototype.reshape=function(e){return this.throwIfDisposed(),re.reshape(this,e)},n.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},n.prototype.expandDims=function(e){return e===void 0&&(e=0),re.expandDims(this,e)},n.prototype.cumsum=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=!1),r===void 0&&(r=!1),re.cumsum(this,e,t,r)},n.prototype.squeeze=function(e){return this.throwIfDisposed(),re.squeeze(this,e)},n.prototype.clone=function(){return this.throwIfDisposed(),re.clone(this)},n.prototype.oneHot=function(e,t,r){return this.throwIfDisposed(),re.oneHot(this,e,t,r)},n.prototype.toString=function(e){return e===void 0&&(e=!1),oY(this.dataSync(),this.shape,this.dtype,e)},n.prototype.tile=function(e){return this.throwIfDisposed(),re.tile(this,e)},n.prototype.gather=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),re.gather(this,e,t)},n.prototype.matMul=function(e,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!1),this.throwIfDisposed(),re.matMul(this,e,t,r)},n.prototype.dot=function(e){return this.throwIfDisposed(),re.dot(this,e)},n.prototype.norm=function(e,t,r){return e===void 0&&(e="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),re.norm(this,e,t,r)},n.prototype.slice=function(e,t){return this.throwIfDisposed(),re.slice(this,e,t)},n.prototype.reverse=function(e){return this.throwIfDisposed(),re.reverse(this,e)},n.prototype.concat=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),e instanceof n&&(e=[e]),re.concat([this].concat(e),t)},n.prototype.split=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),re.split(this,e,t)},n.prototype.stack=function(e,t){return t===void 0&&(t=0),re.stack([this,e],t)},n.prototype.unstack=function(e){return e===void 0&&(e=0),re.unstack(this,e)},n.prototype.pad=function(e,t){return t===void 0&&(t=0),re.pad(this,e,t)},n.prototype.batchNormalization=function(e,t,r,i,o){return r===void 0&&(r=.001),ST("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,i,r)},n.prototype.batchNorm=function(e,t,r,i,o){return o===void 0&&(o=.001),this.throwIfDisposed(),re.batchNorm(this,e,t,r,i,o)},n.prototype.all=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.all(this,e,t)},n.prototype.any=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.any(this,e,t)},n.prototype.logSumExp=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.logSumExp(this,e,t)},n.prototype.sum=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.sum(this,e,t)},n.prototype.prod=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.prod(this,e,t)},n.prototype.mean=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.mean(this,e,t)},n.prototype.min=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.min(this,e,t)},n.prototype.max=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),re.max(this,e,t)},n.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),re.argMin(this,e)},n.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),re.argMax(this,e)},n.prototype.cast=function(e){return this.throwIfDisposed(),re.cast(this,e)},n.prototype.add=function(e){return this.throwIfDisposed(),re.add(this,e)},n.prototype.addStrict=function(e){return this.throwIfDisposed(),re.addStrict(this,e)},n.prototype.atan2=function(e){return this.throwIfDisposed(),re.atan2(this,e)},n.prototype.sub=function(e){return this.throwIfDisposed(),re.sub(this,e)},n.prototype.subStrict=function(e){return this.throwIfDisposed(),re.subStrict(this,e)},n.prototype.pow=function(e){return this.throwIfDisposed(),re.pow(this,e)},n.prototype.powStrict=function(e){return this.throwIfDisposed(),re.powStrict(this,e)},n.prototype.mul=function(e){return this.throwIfDisposed(),re.mul(this,e)},n.prototype.mulStrict=function(e){return this.throwIfDisposed(),re.mulStrict(this,e)},n.prototype.div=function(e){return this.throwIfDisposed(),re.div(this,e)},n.prototype.divNoNan=function(e){return this.throwIfDisposed(),re.divNoNan(this,e)},n.prototype.floorDiv=function(e){return this.throwIfDisposed(),re.floorDiv(this,e)},n.prototype.divStrict=function(e){return this.throwIfDisposed(),re.divStrict(this,e)},n.prototype.minimum=function(e){return this.throwIfDisposed(),re.minimum(this,e)},n.prototype.minimumStrict=function(e){return this.throwIfDisposed(),re.minimumStrict(this,e)},n.prototype.maximum=function(e){return this.throwIfDisposed(),re.maximum(this,e)},n.prototype.maximumStrict=function(e){return this.throwIfDisposed(),re.maximumStrict(this,e)},n.prototype.mod=function(e){return this.throwIfDisposed(),re.mod(this,e)},n.prototype.modStrict=function(e){return this.throwIfDisposed(),re.modStrict(this,e)},n.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),re.squaredDifferenceStrict(this,e)},n.prototype.transpose=function(e){return this.throwIfDisposed(),re.transpose(this,e)},n.prototype.notEqual=function(e){return this.throwIfDisposed(),re.notEqual(this,e)},n.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),re.notEqualStrict(this,e)},n.prototype.less=function(e){return this.throwIfDisposed(),re.less(this,e)},n.prototype.lessStrict=function(e){return this.throwIfDisposed(),re.lessStrict(this,e)},n.prototype.equal=function(e){return this.throwIfDisposed(),re.equal(this,e)},n.prototype.equalStrict=function(e){return this.throwIfDisposed(),re.equalStrict(this,e)},n.prototype.lessEqual=function(e){return this.throwIfDisposed(),re.lessEqual(this,e)},n.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),re.lessEqualStrict(this,e)},n.prototype.greater=function(e){return this.throwIfDisposed(),re.greater(this,e)},n.prototype.greaterStrict=function(e){return this.throwIfDisposed(),re.greaterStrict(this,e)},n.prototype.greaterEqual=function(e){return this.throwIfDisposed(),re.greaterEqual(this,e)},n.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),re.greaterEqualStrict(this,e)},n.prototype.logicalAnd=function(e){return this.throwIfDisposed(),re.logicalAnd(this,e)},n.prototype.logicalOr=function(e){return this.throwIfDisposed(),re.logicalOr(this,e)},n.prototype.logicalNot=function(){return this.throwIfDisposed(),re.logicalNot(this)},n.prototype.logicalXor=function(e){return this.throwIfDisposed(),re.logicalXor(this,e)},n.prototype.where=function(e,t){return this.throwIfDisposed(),re.where(e,this,t)},n.prototype.neg=function(){return this.throwIfDisposed(),re.neg(this)},n.prototype.ceil=function(){return this.throwIfDisposed(),re.ceil(this)},n.prototype.floor=function(){return this.throwIfDisposed(),re.floor(this)},n.prototype.sign=function(){return this.throwIfDisposed(),re.sign(this)},n.prototype.isNaN=function(){return this.throwIfDisposed(),re.isNaN(this)},n.prototype.isInf=function(){return this.throwIfDisposed(),re.isInf(this)},n.prototype.isFinite=function(){return this.throwIfDisposed(),re.isFinite(this)},n.prototype.exp=function(){return this.throwIfDisposed(),re.exp(this)},n.prototype.expm1=function(){return this.throwIfDisposed(),re.expm1(this)},n.prototype.log=function(){return this.throwIfDisposed(),re.log(this)},n.prototype.log1p=function(){return this.throwIfDisposed(),re.log1p(this)},n.prototype.sqrt=function(){return this.throwIfDisposed(),re.sqrt(this)},n.prototype.rsqrt=function(){return this.throwIfDisposed(),re.rsqrt(this)},n.prototype.square=function(){return this.throwIfDisposed(),re.square(this)},n.prototype.reciprocal=function(){return this.throwIfDisposed(),re.reciprocal(this)},n.prototype.abs=function(){return this.throwIfDisposed(),re.abs(this)},n.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),re.clipByValue(this,e,t)},n.prototype.relu=function(){return this.throwIfDisposed(),re.relu(this)},n.prototype.relu6=function(){return this.throwIfDisposed(),re.relu6(this)},n.prototype.elu=function(){return this.throwIfDisposed(),re.elu(this)},n.prototype.selu=function(){return this.throwIfDisposed(),re.selu(this)},n.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),re.leakyRelu(this,e)},n.prototype.prelu=function(e){return this.throwIfDisposed(),re.prelu(this,e)},n.prototype.sigmoid=function(){return this.throwIfDisposed(),re.sigmoid(this)},n.prototype.logSigmoid=function(){return this.throwIfDisposed(),re.logSigmoid(this)},n.prototype.softplus=function(){return this.throwIfDisposed(),re.softplus(this)},n.prototype.zerosLike=function(){return this.throwIfDisposed(),re.zerosLike(this)},n.prototype.onesLike=function(){return this.throwIfDisposed(),re.onesLike(this)},n.prototype.sin=function(){return this.throwIfDisposed(),re.sin(this)},n.prototype.cos=function(){return this.throwIfDisposed(),re.cos(this)},n.prototype.tan=function(){return this.throwIfDisposed(),re.tan(this)},n.prototype.asin=function(){return this.throwIfDisposed(),re.asin(this)},n.prototype.acos=function(){return this.throwIfDisposed(),re.acos(this)},n.prototype.atan=function(){return this.throwIfDisposed(),re.atan(this)},n.prototype.sinh=function(){return this.throwIfDisposed(),re.sinh(this)},n.prototype.cosh=function(){return this.throwIfDisposed(),re.cosh(this)},n.prototype.tanh=function(){return this.throwIfDisposed(),re.tanh(this)},n.prototype.asinh=function(){return this.throwIfDisposed(),re.asinh(this)},n.prototype.acosh=function(){return this.throwIfDisposed(),re.acosh(this)},n.prototype.atanh=function(){return this.throwIfDisposed(),re.atanh(this)},n.prototype.erf=function(){return this.throwIfDisposed(),re.erf(this)},n.prototype.round=function(){return this.throwIfDisposed(),re.round(this)},n.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),re.step(this,e)},n.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),re.softmax(this,e)},n.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),re.logSoftmax(this,e)},n.prototype.resizeBilinear=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),re.image.resizeBilinear(this,e,t)},n.prototype.resizeNearestNeighbor=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),re.image.resizeNearestNeighbor(this,e,t)},n.prototype.conv1d=function(e,t,r,i,o,a){return i===void 0&&(i="NWC"),o===void 0&&(o=1),this.throwIfDisposed(),re.conv1d(this,e,t,r,i,o,a)},n.prototype.conv2d=function(e,t,r,i,o,a){return i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),re.conv2d(this,e,t,r,i,o,a)},n.prototype.conv2dTranspose=function(e,t,r,i,o){return this.throwIfDisposed(),re.conv2dTranspose(this,e,t,r,i,o)},n.prototype.depthwiseConv2D=function(e,t,r,i,o,a){return i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),re.depthwiseConv2d(this,e,t,r,i,o,a)},n.prototype.separableConv2d=function(e,t,r,i,o,a){return o===void 0&&(o=[1,1]),a===void 0&&(a="NHWC"),this.throwIfDisposed(),re.separableConv2d(this,e,t,r,i,o,a)},n.prototype.avgPool=function(e,t,r,i){return this.throwIfDisposed(),re.avgPool(this,e,t,r,i)},n.prototype.maxPool=function(e,t,r,i){return this.throwIfDisposed(),re.maxPool(this,e,t,r,i)},n.prototype.localResponseNormalization=function(e,t,r,i){return e===void 0&&(e=5),t===void 0&&(t=1),r===void 0&&(r=1),i===void 0&&(i=.5),re.localResponseNormalization(this,e,t,r,i)},n.prototype.pool=function(e,t,r,i,o){return this.throwIfDisposed(),re.pool(this,e,t,r,i,o)},n.prototype.variable=function(e,t,r){return e===void 0&&(e=!0),this.throwIfDisposed(),Li().makeVariable(this,e,t,r)},n.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),re.unsortedSegmentSum(this,e,t)},n.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),re.batchToSpaceND(this,e,t)},n.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),re.spaceToBatchND(this,e,t)},n.prototype.topk=function(e,t){return e===void 0&&(e=1),t===void 0&&(t=!0),this.throwIfDisposed(),re.topk(this,e,t)},n.prototype.stridedSlice=function(e,t,r,i,o,a,s,l){return i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),this.throwIfDisposed(),re.stridedSlice(this,e,t,r,i,o,a,s,l)},n.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),re.depthToSpace(this,e,t)},n.prototype.fft=function(){return this.throwIfDisposed(),re.spectral.fft(this)},n.prototype.ifft=function(){return this.throwIfDisposed(),re.spectral.ifft(this)},n.prototype.rfft=function(){return this.throwIfDisposed(),re.spectral.rfft(this)},n.prototype.irfft=function(){return this.throwIfDisposed(),re.spectral.irfft(this)},n}();Object.defineProperty(It,Symbol.hasInstance,{value:function(n){return!!n&&n.dataId!=null&&n.shape!=null&&n.dtype!=null}});var u3,Vv,qv,Gv,Kv,_c=function(n){function e(t,r,i,o){var a=n.call(this,t.shape,t.dtype,t.dataId,o)||this;return a.trainable=r,a.name=i,a}return Ci(e,n),e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!wn(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Li().disposeTensor(this),this.dataId=t.dataId,Li().incRef(this,null)},e.prototype.dispose=function(){Li().disposeVariable(this),this.isDisposedInternal=!0},e}(It);Object.defineProperty(_c,Symbol.hasInstance,{value:function(n){return n instanceof It&&n.assign!=null&&n.assign instanceof Function}}),function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"}(u3||(u3={})),function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"}(Vv||(Vv={})),function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"}(qv||(qv={})),function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"}(Gv||(Gv={})),function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"}(Kv||(Kv={}));var aY={float32:Gv,int32:Vv,bool:qv,complex64:Kv};function Tn(n,e){if(n==="string"||e==="string"){if(n==="string"&&e==="string")return"string";throw new Error("Can not upcast "+n+" with "+e)}return aY[n][e]}function O0(n){return Tn(n,"int32")}function Pt(n,e){if(n.dtype===e.dtype)return[n,e];var t=Tn(n.dtype,e.dtype);return[n.cast(t),e.cast(t)]}function sY(n,e){W(n.dtype===e.dtype,function(){return"The dtypes of the first("+n.dtype+") and second("+e.dtype+") input must match"})}function TT(n){var e=[];return function t(r,i,o){if(r!=null){if(r instanceof It)return void i.push(r);if(a=r,!(!Array.isArray(a)&&typeof a!="object")){var a,s=r;for(var l in s){var c=s[l];o.has(c)||(o.add(c),t(c,i,o))}}}}(n,e,new Set),e}var M0,d3=function(){function n(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return n.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},n}(),lY=function(){function n(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new d3}return n.prototype.ready=function(){return Ee(this,void 0,void 0,function(){var e,t,r;return Se(this,function(i){switch(i.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),t=0,i.label=1;case 1:return t<e.length?(r=e[t],[4,this.initializeBackend(r).success]):[3,5];case 2:return i.sent()?[4,this.setBackend(r)]:[3,4];case 3:return i.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(n.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),n.prototype.backendNames=function(){return Object.keys(this.registryFactory)},n.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},n.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},n.prototype.registerBackend=function(e,t,r){return r===void 0&&(r=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:r},!0)},n.prototype.setBackend=function(e){return Ee(this,void 0,void 0,function(){var t,r,i;return Se(this,function(o){switch(o.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),r=t.success,t.asyncInit?[4,r]:[3,2]);case 1:return i=o.sent(),[3,3];case 2:i=r,o.label=3;case 3:if(!i)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new rY(this.backendInstance),[2,!0]}})})},n.prototype.setupRegisteredKernels=function(){var e=this;o3(this.backendName).forEach(function(t){t.setupFunc!=null&&t.setupFunc(e.backendInstance)})},n.prototype.disposeRegisteredKernels=function(e){var t=this;o3(e).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(t.registry[e])})},n.prototype.initializeBackend=function(e){var t=this,r=this.registryFactory[e];if(r==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var i=r.factory();if(Promise.resolve(i)===i){var o=++this.pendingBackendInitId,a=i.then(function(s){return!(o<t.pendingBackendInitId)&&(t.registry[e]=s,t.pendingBackendInit=null,!0)}).catch(function(s){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},n.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},n.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,r){return e.registryFactory[r].priority-e.registryFactory[t].priority})},n.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var r=e[t],i=this.initializeBackend(r),o=i.success,a=i.asyncInit;if(a||o)return{name:r,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},n.prototype.moveData=function(e,t){var r=this.state.tensorInfo.get(t),i=r.backend,o=this.readSync(t);i.disposeData(t),r.backend=e,e.move(t,o,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},n.prototype.tidy=function(e,t){var r,i=this,o=null;if(t==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");t=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun(function(){return i.startScope(o)},function(){return i.endScope(r)},function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},n.prototype.scopedRun=function(e,t,r){e();try{var i=r();return t(),i}catch(o){throw t(),o}},n.prototype.nextTensorId=function(){return n.nextTensorId++},n.prototype.nextVariableId=function(){return n.nextVariableId++},n.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[t],function(i){return{x:function(){return i.toFloat()}}},[]),t},n.prototype.runKernel=function(e,t,r,i,o){return this.runKernelFunc(null,t,null,e,r,i,o)},n.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},n.prototype.checkKernelForMemLeak=function(e,t,r){var i=this.backend.numDataIds(),o=0;r.forEach(function(l){o+=l.dtype==="complex64"?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=i-t-o-a;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+e+"'")},n.prototype.runKernelFunc=function(e,t,r,i,o,a,s){var l,c=this;a===void 0&&(a=[]),s===void 0&&(s=[]);var u=[],d=this.isTapeOn();i==null&&(i=this.state.activeScope!=null?this.state.activeScope.name:"");var h,f=function(v){d&&(u=v.map(function(x){return c.keep(c.clone(x))}))},p=this.state.numBytes,m=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var b,g=bT(i,this.backendName);return h=g!=null?function(){var v=c.backend.numDataIds();b=g.kernelFunc({inputs:t,attrs:o,backend:c.backend});var x=Array.isArray(b)?b:[b];c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(i,v,x);var y=x.map(function(E){var C=E.dataId,S=E.shape,_=E.dtype;return c.makeTensorFromDataId(C,S,_)}),w=y.filter(function(E,C){return s[C]});return f((a||[]).slice().concat(w)),y}:function(){var v=c.backend.numDataIds();b=c.tidy(function(){return e(c.backend,f)});var x=Array.isArray(b)?b:[b];return c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(i,v,x),x},this.scopedRun(function(){return c.state.kernelDepth++},function(){return c.state.kernelDepth--},function(){l=c.ENV.getBool("DEBUG")?c.profiler.profileKernel(i,t,function(){return h()}):h()}),d&&this.addTapeNode(i,t,l,r,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:i,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-m,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(v){return t[v].shape}),outputShapes:l.map(function(v){return v.shape})}),Array.isArray(b)?l:l[0]},n.prototype.makeTensor=function(e,t,r,i){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;var o=e;r==="string"&&_1(e[0])&&(o=e.map(function(u){return tY(u)}));var a=i.write(o,t,r),s=new It(t,r,a,this.nextTensorId());if(this.incRef(s,i),r==="string"){var l=this.state.tensorInfo.get(a),c=JK(o);this.state.numBytes+=c-l.bytes,l.bytes=c}return s},n.prototype.makeTensorFromDataId=function(e,t,r,i){var o=new It(t,r=r||"float32",e,this.nextTensorId());return this.incRef(o,i),o},n.prototype.makeVariable=function(e,t,r,i){t===void 0&&(t=!0),r=r||this.nextVariableId().toString(),i!=null&&i!==e.dtype&&(e=e.asType(i));var o=new _c(e,t,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},n.prototype.incRef=function(e,t){var r=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*wT(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:i,refCount:0}),this.state.numBytes+=i}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof _c||this.track(e)},n.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},n.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},n.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},n.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},n.prototype.profile=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){return this.state.profiling=!0,t=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(o){return o.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},n.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},n.prototype.addTapeNode=function(e,t,r,i,o){var a=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:o},l=WK(e);l!=null&&(i=l.gradFunc),i!=null&&(s.gradient=function(c){return c=c.map(function(u,d){if(u==null){var h=r[d],f=Gd(h.size,h.dtype);return a.makeTensor(f,h.shape,h.dtype)}return u}),i(c.length>1?c:c[0],o)}),this.state.activeTape.push(s)},n.prototype.keep=function(e){return e.kept=!0,e},n.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},n.prototype.endTape=function(){this.state.gradientDepth--},n.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},n.prototype.endScope=function(e){for(var t=this,r=TT(e),i=new Set(r.map(function(l){return l.id})),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||i.has(a.id)||a.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(l){l.kept||l.scopeId!==s.id||t.track(l)})},n.prototype.gradients=function(e,t,r,i){var o=this;if(i===void 0&&(i=!1),W(t.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var a=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});W(a instanceof It,function(){return"The result y returned by f() must be a tensor."});var s=function(l,c,u){for(var d={},h={},f=0;f<c.length;f++)d[c[f].id]=!0;for(f=0;f<l.length;f++){var p=(E=l[f]).inputs;for(var m in p){for(var b=p[m],g=!1,v=0;v<c.length;v++)if(d[b.id]){E.outputs.forEach(function(A){return d[A.id]=!0}),g=!0,h[E.id]=!0;break}if(g)break}}var x={};x[u.id]=!0;var y={};for(f=l.length-1;f>=0;f--)for(p=(E=l[f]).inputs,v=0;v<E.outputs.length;v++)if(x[E.outputs[v].id]){for(var m in p)x[p[m].id]=!0,y[E.id]=!0;break}var w=[];for(f=0;f<l.length;f++){var E;if(h[(E=l[f]).id]&&y[E.id]){var C={};for(var m in E.inputs){var S=E.inputs[m];d[S.id]&&(C[m]=S)}var _=Object.assign({},E);_.inputs=C,_.outputs=E.outputs,w.push(_)}}return w}(this.state.activeTape,t,a);if(!i&&s.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l,c,u={};u[a.id]=r==null?(l=a.shape,c=_T(Te(l),"float32"),G.makeTensor(c,l,"float32")):r,function(h,f,p){for(var m=function(g){var v=f[g],x=[];if(v.outputs.forEach(function(C){var S=h[C.id];S!=null?x.push(S):x.push(null)}),v.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+v.kernelName+".");var y=v.gradient(x),w=function(C){if(!(C in y))throw new Error("Cannot backprop through input "+C+". Available gradients found: "+Object.keys(y)+".");var S=p(function(){return y[C]()});if(S.dtype!=="float32")throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input "+C+" must have 'float32' dtype, but has '"+S.dtype+"'");var _=v.inputs[C];if(!wn(S.shape,_.shape))throw new Error("Error in gradient for op "+v.kernelName+". The gradient of input '"+C+"' has shape '"+S.shape+"', which does not match the shape of the input '"+_.shape+"'");if(h[_.id]==null)h[_.id]=S;else{var A=h[_.id];h[_.id]=A.add(S),A.dispose()}};for(var E in v.inputs)w(E)},b=f.length-1;b>=0;b--)m(b)}(u,s,function(h){return o.tidy(h)});var d=t.map(function(h){return u[h.id]});return o.state.gradientDepth===0&&(o.state.activeTape.forEach(function(h){for(var f=0,p=h.saved;f<p.length;f++)p[f].dispose()}),o.state.activeTape=null),{value:a,grads:d}})},n.prototype.customGrad=function(e){var t=this;return W(Hv(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];W(i.every(function(s){return s instanceof It}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return i.forEach(function(s,l){a[l]=s}),t.runKernelFunc(function(s,l){return W((r=e.apply(void 0,i.concat([l]))).value instanceof It,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),W(Hv(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},a,function(s,l){var c=r.gradFunc(s,l),u=Array.isArray(c)?c:[c];W(u.length===i.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),W(u.every(function(h){return h instanceof It}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var d={};return u.forEach(function(h,f){d[f]=function(){return h}}),d})}},n.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},n.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},n.prototype.time=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){switch(i.label){case 0:return t=Mi(),[4,this.backend.time(e)];case 1:return(r=i.sent()).wallMs=Mi()-t,[2,r]}})})},n.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(n.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),n.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new d3,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},n.nextTensorId=0,n.nextVariableId=0,n}(),G=function(){var n=function(){if(M0==null){var t=void 0;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else{if(typeof self>"u")throw new Error("Could not find a global object");t=self}M0=t}return M0}();if(n._tfengine==null){var e=new UK(n);n._tfengine=new lY(e)}return function(t){gT=t}(n._tfengine.ENV),Li=function(){return n._tfengine},n._tfengine}();function AT(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var lo=oe();lo.registerFlag("DEBUG",function(){return!1},function(n){n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),lo.registerFlag("IS_BROWSER",function(){return AT()}),lo.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),lo.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),lo.registerFlag("PROD",function(){return!1}),lo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return lo.getBool("DEBUG")}),lo.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),lo.registerFlag("IS_TEST",function(){return!1});var md,_r,wr,ts={},B0={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function cY(n,e){ts[n]=e}function Ji(n){n in ts||(ts[n]=function(t){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(i){if(typeof OffscreenCanvas<"u"&&i===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);return r.addEventListener("webglcontextlost",function(i){i.preventDefault(),delete ts[t]},!1),t===1?r.getContext("webgl",B0)||r.getContext("experimental-webgl",B0):r.getContext("webgl2",B0)}(n));var e=ts[n];return e.isContextLost()?(delete ts[n],Ji(n)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),ts[n])}function Zm(n,e){return[e,n]}function zu(n){var e=Te(n);return Uv(Math.ceil(e/4))}function Kd(n,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(n/2))]}function C1(n,e){var t,r,i,o,a,s,l,c,u,d=n;return oe().getNumber("WEBGL_VERSION")===2?(t=d.R32F,r=d.R16F,i=d.RGBA16F,o=d.RGBA32F,a=d.RED,s=4,l=1,c=d.HALF_FLOAT,u=d.FLOAT):(t=n.RGBA,r=n.RGBA,i=n.RGBA,o=d.RGBA,a=n.RGBA,s=4,l=4,c=e!=null?e.HALF_FLOAT_OES:null,u=n.FLOAT),{internalFormatFloat:t,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:n.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:u}}function Ie(n,e,t){var r=t();return e&&function(i){var o=i.getError();if(o!==i.NO_ERROR)throw new Error("WebGL Error: "+fY(i,o))}(n),r}(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"})(md||(md={})),function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"}(_r||(_r={})),function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(wr||(wr={}));var uY=596e-10,dY=65504;function hY(n){return!!(oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||n===0||uY<Math.abs(n)&&Math.abs(n)<dY)}function fY(n,e){switch(e){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function zh(n,e,t){return Po(n,e,function(){return n.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function pY(n,e,t){var r=Po(n,e,function(){return n.createShader(n.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Ie(n,e,function(){return n.shaderSource(r,t)}),Ie(n,e,function(){return n.compileShader(r)}),n.getShaderParameter(r,n.COMPILE_STATUS)===!1)throw console.log(n.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function mY(n,e,t){var r=Po(n,e,function(){return n.createShader(n.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Ie(n,e,function(){return n.shaderSource(r,t)}),Ie(n,e,function(){return n.compileShader(r)}),n.getShaderParameter(r,n.COMPILE_STATUS)===!1)throw function(i,o){var a=gY.exec(o);if(a==null)return console.log("Couldn't parse line number in error: "+o),void console.log(i);for(var s=+a[1],l=i.split("\n"),c=l.length.toString().length+2,u=l.map(function(b,g){return Ql((g+1).toString(),c)+b}),d=0,h=0;h<u.length;h++)d=Math.max(u[h].length,d);var f=u.slice(0,s-1),p=u.slice(s-1,s),m=u.slice(s);console.log(f.join("\n")),console.log(o.split("\n")[0]),console.log("%c "+Ql(p[0],d),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(m.join("\n"))}(t,n.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var P0,L0,gY=/ERROR: [0-9]+:([0-9]+):/g;function bY(n,e){return Po(n,e,function(){return n.createProgram()},"Unable to create WebGLProgram.")}function vY(n,e,t){if(Ie(n,e,function(){return n.linkProgram(t)}),n.getProgramParameter(t,n.LINK_STATUS)===!1)throw console.log(n.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function z0(n,e,t){if(Ie(n,e,function(){return n.validateProgram(t)}),n.getProgramParameter(t,n.VALIDATE_STATUS)===!1)throw console.log(n.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function xY(n,e,t){var r=Po(n,e,function(){return n.createBuffer()},"Unable to create WebGLBuffer");return Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,r)}),Ie(n,e,function(){return n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)}),r}function yY(n,e,t){var r=Po(n,e,function(){return n.createBuffer()},"Unable to create WebGLBuffer");return Ie(n,e,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r)}),Ie(n,e,function(){return n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,n.STATIC_DRAW)}),r}function wY(n,e){return Po(n,e,function(){return n.createTexture()},"Unable to create WebGLTexture.")}function kY(n,e){var t=oe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||e<=0){var r="["+n+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(n>t||e>t)throw r="["+n+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+t+"x"+t+"]")+".")}function _Y(n,e){return Po(n,e,function(){return n.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function h3(n,e,t,r,i,o,a,s){var l=n.getAttribLocation(t,r);return l!==-1&&(Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,i)}),Ie(n,e,function(){return n.vertexAttribPointer(l,o,n.FLOAT,!1,a,s)}),Ie(n,e,function(){return n.enableVertexAttribArray(l)}),!0)}function CY(n,e,t,r){IY(n,r),Ie(n,e,function(){return n.activeTexture(n.TEXTURE0+r)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)})}function EY(n,e,t,r){return Po(n,e,function(){return n.getUniformLocation(t,r)},'uniform "'+r+'" not present in program.')}function SY(n,e,t){return n.getUniformLocation(e,t)}function TY(n,e,t,r,i,o){Ie(n,e,function(){return CY(n,e,r,o)}),Ie(n,e,function(){return n.uniform1i(i,o)})}function j0(n,e,t,r){Ie(n,e,function(){return n.bindFramebuffer(n.FRAMEBUFFER,r)}),Ie(n,e,function(){return n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)})}function f3(n,e,t){Ie(n,e,function(){return n.bindFramebuffer(n.FRAMEBUFFER,t)}),Ie(n,e,function(){return n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0)})}function jh(n){var e=n.checkFramebufferStatus(n.FRAMEBUFFER);if(e!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+AY(n,e))}function AY(n,e){switch(e){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Po(n,e,t,r){var i=Ie(n,e,function(){return t()});if(i==null)throw new Error(r);return i}function IY(n,e){var t=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+n.TEXTURE0;if(r<n.TEXTURE0||r>t)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+t+"]")+".")}function wp(n,e){return e===void 0&&(e=2),Te(n.slice(0,n.length-e))}function kp(n){if(n.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function N0(n){var e=[1,1,1];return n.length===0||n.length===1&&n[0]===1||(e=[wp(n)].concat(kp(n))),e}function RY(n,e){var t;e===void 0&&(e=!1);var r=oe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,(n=n.map(function(c,u){return u>=n.length-2?yT(n[u]):n[u]})).length===1&&(n=[2,n[0]])),n.length!==2){var i=as(n);n=i.newShape}var o=Te(n);if(n.length<=1&&o<=r)return[1,o];if(n.length===2&&n[0]<=r&&n[1]<=r)return n;if(n.length===3&&n[0]*n[1]<=r&&n[2]<=r)return[n[0]*n[1],n[2]];if(n.length===3&&n[0]<=r&&n[1]*n[2]<=r)return[n[0],n[1]*n[2]];if(n.length===4&&n[0]*n[1]*n[2]<=r&&n[3]<=r)return[n[0]*n[1]*n[2],n[3]];if(n.length===4&&n[0]<=r&&n[1]*n[2]*n[3]<=r)return[n[0],n[1]*n[2]*n[3]];if(e){var a=wp(n),s=2,l=2;return n.length&&(s=(t=kp(n))[0],l=t[1]),Uv(o=a*(s/2)*(l/2)).map(function(c){return 2*c})}return Uv(o)}function Nh(n){return n%2==0}function Fh(n,e){if(wn(n=n.slice(-2),e=e.slice(-2))||!n.length||!e.length||n[0]===0||n[1]===0||e[0]===0||e[1]===0)return!0;if(n.length!==e.length){var t=n.slice(-1)[0],r=e.slice(-1)[0];if(t===r||Nh(t)&&Nh(r)&&(n[0]===1||e[0]===1))return!0}return n[1]===e[1]&&Nh(n[0])&&Nh(e[0])}function DY(n){if(P0==null){var e=Ji(n);P0=e.getParameter(e.MAX_TEXTURE_SIZE)}return P0}function OY(n){if(L0==null){var e=Ji(n);L0=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,L0)}function MY(n){if(n===0)return 0;var e=Ji(n);return Zr(e,"EXT_disjoint_timer_query_webgl2")&&n===2?2:Zr(e,"EXT_disjoint_timer_query")?1:0}function Zr(n,e){return n.getExtension(e)!=null}function p3(n){try{if(Ji(n)!=null)return!0}catch(e){return!1}return!1}function BY(n){if(n===0)return!1;var e=Ji(n);if(n===1){if(!Zr(e,"OES_texture_float"))return!1}else if(!Zr(e,"EXT_color_buffer_float"))return!1;return Yv(e)}function PY(n){if(n===0)return!1;var e=Ji(n);if(n!==1){if(Zr(e,"EXT_color_buffer_float"))return Yv(e);if(Zr(e,"EXT_color_buffer_half_float")){var t=e.getExtension("EXT_color_buffer_half_float");return function(r,i){var o=C1(r,i),a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,a,0);var l=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(a),r.deleteFramebuffer(s),l}(e,t)}return!1}return!!Zr(e,"OES_texture_float")&&!!Zr(e,"WEBGL_color_buffer_float")&&Yv(e)}function Yv(n){var e=C1(n),t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);var i=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(t),n.deleteFramebuffer(r),i}function LY(n){return n===2&&Ji(n).fenceSync!=null}var Ne=oe();function IT(n){oe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function _e(n,e){return G.tidy(n,e)}function lr(n){TT(n).forEach(function(e){return e.dispose()})}function zY(n){return G.keep(n)}function _p(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];oe().getBool("IS_TEST")||console.warn.apply(console,n)}function Ua(n,e){var t=n;if(Hi(n))return e==="string"?[]:[n.length];if(!Array.isArray(n))return[];for(var r=[];Array.isArray(t)||Hi(t)&&e!=="string";)r.push(t.length),t=t[0];return Array.isArray(n)&&oe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function i(o,a,s){if(s=s||[],!Array.isArray(o)&&!Hi(o))return void W(a.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+a[0]+" elements"});W(a.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"}),W(o.length===a[0],function(){return"Element arr["+s.join("][")+"] should have "+a[0]+" elements, but has "+o.length+" elements"});for(var l=a.slice(1),c=0;c<o.length;++c)i(o[c],l,s.concat(c))}(n,r,[]),r}function m3(n,e,t,r){if(n!=null&&(n!=="numeric"&&n!==e||n==="numeric"&&e==="string"))throw new Error("Argument '"+t+"' passed to '"+r+"' must be "+n+" tensor, but got "+e+" tensor")}function j(n,e,t,r){if(r===void 0&&(r="numeric"),n instanceof It)return m3(r,n.dtype,e,t),n;var i=qd(n);if(i!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),m3(r,i,e,t),n==null||!Hi(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string"){var o=n==null?"null":n.constructor.name;throw new Error("Argument '"+e+"' passed to '"+t+"' must be a Tensor or TensorLike, but got '"+o+"'")}var a=Ua(n,i);Hi(n)||Array.isArray(n)||(n=[n]);var s=i!=="string"?kT(n,i,oe().getBool("DEBUG")):kc(n,[],!0);return G.makeTensor(s,a,i)}function Cp(n,e,t,r){if(r===void 0&&(r="numeric"),!Array.isArray(n))throw new Error("Argument "+e+" passed to "+t+" must be a `Tensor[]` or `TensorLike[]`");return n.map(function(i,o){return j(i,e+"["+o+"]",t)},r)}function RT(n,e){for(var t=0;t<n.length;++t)if(n[n.length-t-1]!==e-1-t)return!1;return!0}function jY(n,e,t){for(var r=n.length+e.length,i=[],o=0,a=0,s=0;s<r;s++)t.indexOf(s)===-1?i.push(n[o++]):i.push(e[a++]);return i}function Bn(n,e){for(var t=[],r=n.length,i=0;i<r;i++)e.indexOf(i)===-1&&t.push(n[i]);return[t,e.map(function(o){return n[o]})]}function hr(n,e){return jY(n,e.map(function(t){return 1}),e)}function yr(n,e,t){W(RT(e,t),function(){return n+" supports only inner-most axes for now. Got axes "+e+" and rank-"+t+" input."})}function Qi(n,e){if(RT(n,e))return null;for(var t=[],r=0;r<e;++r)n.indexOf(r)===-1&&t.push(r);return n.forEach(function(i){return t.push(i)}),t}function E1(n){return n.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function eo(n,e){for(var t=[],r=e-n;r<e;++r)t.push(r);return t}function NY(n,e){var t=n[0].length;n.forEach(function(i,o){W(i.length===t,function(){return"Error in concat"+t+"D: rank of tensors["+o+"] must be the same as the rank of the rest ("+t+")"})}),W(e>=0&&e<t,function(){return"Error in concat"+t+"D: axis must be between 0 and "+(t-1)+"."});var r=n[0];n.forEach(function(i,o){for(var a=0;a<t;a++)W(a===e||i[a]===r[a],function(){return"Error in concat"+t+"D: Shape of tensors["+o+"] ("+i+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."})})}function Cc(n,e){for(var t=n[0].slice(),r=1;r<n.length;r++)t[e]+=n[r][e];return t}function q(n){var e=Object.keys(n);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var t=e[0],r=n[t];t.endsWith("_")&&(t=t.substring(0,t.length-1));var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];G.startScope(t);try{var s=r.apply(void 0,o);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),G.endScope(s),s}catch(l){throw G.endScope(null),l}};return Object.defineProperty(i,"name",{value:t,configurable:!0}),i}Ne.registerFlag("HAS_WEBGL",function(){return Ne.getNumber("WEBGL_VERSION")>0}),Ne.registerFlag("WEBGL_VERSION",function(){return p3(2)?2:p3(1)?1:0}),Ne.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return Ne.get("WEBGL_VERSION")===2}),Ne.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Ne.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Ne.registerFlag("WEBGL_PACK",function(){return Ne.getBool("HAS_WEBGL")}),Ne.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_CLIP",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Ne.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_PACK_REDUCE",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_CONV_IM2COL",function(){return Ne.getBool("WEBGL_PACK")}),Ne.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return DY(Ne.getNumber("WEBGL_VERSION"))}),Ne.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return OY(Ne.getNumber("WEBGL_VERSION"))}),Ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var n=Ne.getNumber("WEBGL_VERSION");return n===0?0:MY(n)}),Ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Ne.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(n=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))));var n}),Ne.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return BY(Ne.getNumber("WEBGL_VERSION"))}),Ne.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Ne.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ne.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Ne.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return PY(Ne.getNumber("WEBGL_VERSION"))}),Ne.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return LY(Ne.getNumber("WEBGL_VERSION"))}),Ne.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Ne.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),ST=IT;var Sn=q({complex_:function(n,e){var t=j(n,"real","complex"),r=j(e,"imag","complex");return ut(t.shape,r.shape,"real and imag shapes, "+t.shape+" and "+r.shape+", must match in call to tf.complex()."),G.runKernelFunc(function(i){return i.complex(t,r)},{$real:t,$imag:r})}}),Gr=q({real_:function(n){var e=j(n,"input","real");return G.runKernelFunc(function(t){return t.real(e)},{$input:e})}}),zi=q({imag_:function(n){var e=j(n,"input","imag");return G.runKernelFunc(function(t){return t.imag(e)},{$input:e})}});function An(n,e,t){return Ha(n,e,Ua(n,t),t)}function Ha(n,e,t,r){if(r==null&&(r=qd(n)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Hi(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){CT(e);var i=Te(e),o=Te(t);W(i===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+i+" values but has "+o});for(var a=0;a<t.length;++a){var s=t[a],l=a!==t.length-1||s!==Te(e.slice(a));W(t[a]===e[a]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+t+") does not match the provided shape ("+e+"). "})}}return Hi(n)||Array.isArray(n)||(n=[n]),e=e||t,n=r!=="string"?kT(n,r,oe().getBool("DEBUG")):kc(n,[],!0),G.makeTensor(n,e,r)}function xe(n,e){if((Hi(n)&&e!=="string"||Array.isArray(n))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Hi(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ha(n,[],[],e)}function Gt(n,e){Uc(n);var t=Ua(n,e);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ha(n,null,t,e)}function Ca(n,e,t){if(Uc(n),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Ua(n,t);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ha(n,e,r,t)}function S1(n,e,t){if(Uc(n),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Ua(n,t);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ha(n,e,r,t)}function or(n,e,t){if(Uc(n),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Ua(n,t);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ha(n,e,r,t)}function FY(n,e,t){if(Uc(n),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Ua(n,t);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ha(n,e,r,t)}function $Y(n,e,t){if(Uc(n),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Ua(n,t);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ha(n,e=e||r,r,t)}function UY(n,e,t,r){return e===void 0&&(e=!0),G.makeVariable(n,e,t,r)}function Hc(n,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=Hc(n,"float32"),r=Ct(n,"float32");return Sn(t,r)}var i=_T(Te(n),e);return G.makeTensor(i,n,e)}function Ct(n,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=Ct(n,"float32"),r=Ct(n,"float32");return Sn(t,r)}var i=Gd(Te(n),e);return G.makeTensor(i,n,e)}function Vi(n,e,t){return G.runKernelFunc(function(r){return r.fill(n,e,t)},{})}function HY(n,e,t){if(t<=0)throw new Error("The number of values should be positive.");return G.runKernelFunc(function(r){return r.linspace(n,e,t)},{})}function Ep(n,e,t,r){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t===0)throw new Error("Cannot have a step of zero");if(n===e||n<e&&t<0||e<n&&t>1)return Ct([0],r);var i=Gd(Math.abs(Math.ceil((e-n)/t)),r);e<n&&t===1&&(t=-1),i[0]=n;for(var o=1;o<i.length;o++)i[o]=i[o-1]+t;return Gt(i,r)}var DT=q({onesLike_:function(n){var e=j(n,"x","onesLike");if(e.dtype==="complex64"){var t=DT(Gr(e)),r=st(zi(e));return Sn(t,r)}return G.runKernelFunc(function(i){return i.onesLike(e)},{$x:e},function(i,o){return{$x:function(){return st(i)}}})}}),st=q({zerosLike_:function(n){var e=j(n,"x","zerosLike");return G.runKernelFunc(function(t){return t.zerosLike(e)},{$x:e},function(t,r){return{$x:function(){return st(t)}}})}}),tn=q({concat_:function(n,e){e===void 0&&(e=0),W(n.length>=1,function(){return"Pass at least one tensor to concat"});var t=Cp(n,"tensors","concat");t[0].dtype==="complex64"&&t.forEach(function(s){if(s.dtype!=="complex64")throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+s.dtype+". ")}),e=ln(e,t[0].shape)[0];var r=Cc(t.map(function(s){return s.shape}),e);if(Te(r)===0)return An([],r);if((t=t.filter(function(s){return s.size>0})).length===1)return t[0];var i=t.map(function(s){return s.shape});NY(i,e);var o=t,a={axis:e};return G.runKernelFunc(function(s){return s.concat(t,e)},o,function(s){var l=i.map(function(c){return c[e]});return T1(s,l,e).map(function(c){return function(){return c}})},"Concat",a)}}),WY=q({concat1d_:function(n){return tn(n,0)}}),VY=q({concat2d_:function(n,e){return tn(n,e)}}),qY=q({concat3d_:function(n,e){return tn(n,e)}}),GY=q({concat4d_:function(n,e){return tn(n,e)}}),T1=q({split_:function(n,e,t){t===void 0&&(t=0);var r,i=j(n,"x","split");return t=ln(t,i.shape)[0],typeof e=="number"?(W(i.shape[t]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(i.shape[t]/e)):(W(i.shape[t]===e.reduce(function(o,a){return o+a}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),G.runKernelFunc(function(o){return o.split(i,r,t)},{$x:i},function(o){return{$x:function(){return tn(o,t)}}})}});function Xs(n,e){return n(e={exports:{}},e.exports),e.exports}var KY=Xs(function(n){(function(e,t,r){function i(s){var l,c=this,u=(l=4022871197,function(d){d=d.toString();for(var h=0;h<d.length;h++){var f=.02519603282416938*(l+=d.charCodeAt(h));f-=l=f>>>0,l=(f*=l)>>>0,l+=4294967296*(f-=l)}return 23283064365386963e-26*(l>>>0)});c.next=function(){var d=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=0|d)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(s),c.s0<0&&(c.s0+=1),c.s1-=u(s),c.s1<0&&(c.s1+=1),c.s2-=u(s),c.s2<0&&(c.s2+=1),u=null}function o(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var c=new i(s),u=l&&l.state,d=c.next;return d.int32=function(){return 4294967296*c.next()|0},d.double=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.alea=a})(0,n)}),YY=Xs(function(n){(function(e,t,r){function i(s){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(0|s)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=0|c.charCodeAt(u),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xor128=a})(0,n)}),XY=Xs(function(n){(function(e,t,r){function i(s){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^d^d<<1)|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(0|s)?l.x=s:c+=s;for(var u=0;u<c.length+64;u++)l.x^=0|c.charCodeAt(u),u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xorwow=a})(0,n)}),ZY=Xs(function(n){(function(e,t,r){function i(s){var l=this;l.next=function(){var c,u,d=l.x,h=l.i;return c=d[h],u=(c^=c>>>7)^c<<24,u^=(c=d[h+1&7])^c>>>10,u^=(c=d[h+3&7])^c>>>3,u^=(c=d[h+4&7])^c<<7,c=d[h+7&7],u^=(c^=c<<13)^c<<9,d[h]=u,l.i=h+1&7,u},function(c,u){var d,h=[];if(u===(0|u))h[0]=u;else for(u=""+u,d=0;d<u.length;++d)h[7&d]=h[7&d]<<15^u.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xorshift7=a})(0,n)}),JY=Xs(function(n){(function(e,t,r){function i(s){var l=this;l.next=function(){var c,u,d=l.w,h=l.X,f=l.i;return l.w=d=d+1640531527|0,u=h[f+34&127],c=h[f=f+1&127],u^=u<<13,c^=c<<17,u^=u>>>15,c^=c>>>12,u=h[f]=u^c,l.i=f,u+(d^d>>>16)|0},function(c,u){var d,h,f,p,m,b=[],g=128;for(u===(0|u)?(h=u,u=null):(u+="\0",h=0,g=Math.max(g,u.length)),f=0,p=-32;p<g;++p)u&&(h^=u.charCodeAt((p+32)%u.length)),p===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(m=m+1640531527|0,f=(d=b[127&p]^=h+m)==0?f+1:0);for(f>=128&&(b[127&(u&&u.length||0)]=-1),f=127,p=512;p>0;--p)h=b[f+34&127],d=b[f=f+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,b[f]=h^d;c.w=m,c.X=b,c.i=f}(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.xor4096=a})(0,n)}),QY=Xs(function(n){(function(e,t,r){function i(s){var l=this,c="";l.next=function(){var d=l.b,h=l.c,f=l.d,p=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=0|s):c+=s;for(var u=0;u<c.length+20;u++)l.b^=0|c.charCodeAt(u),l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var c=new i(s),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(h===0);return h},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}t&&t.exports?t.exports=a:this.tychei=a})(0,n)}),ns=Xs(function(n){(function(e,t){var r,i=this,o=256,a=6,s="random",l=t.pow(o,a),c=t.pow(2,52),u=2*c,d=o-1;function h(g,v,x){var y=[],w=m(function S(_,A){var D,I=[],M=typeof _;if(A&&M=="object")for(D in _)try{I.push(S(_[D],A-1))}catch(T){}return I.length?I:M=="string"?_:_+"\0"}((v=v==1?{entropy:!0}:v||{}).entropy?[g,b(e)]:g==null?function(){try{var S;return r&&(S=r.randomBytes)?S=S(o):(S=new Uint8Array(o),(i.crypto||i.msCrypto).getRandomValues(S)),b(S)}catch(D){var _=i.navigator,A=_&&_.plugins;return[+new Date,i,A,i.screen,b(e)]}}():g,3),y),E=new f(y),C=function(){for(var S=E.g(a),_=l,A=0;S<c;)S=(S+A)*o,_*=o,A=E.g(1);for(;S>=u;)S/=2,_/=2,A>>>=1;return(S+A)/_};return C.int32=function(){return 0|E.g(4)},C.quick=function(){return E.g(4)/4294967296},C.double=C,m(b(E.S),e),(v.pass||x||function(S,_,A,D){return D&&(D.S&&p(D,E),S.state=function(){return p(E,{})}),A?(t[s]=S,_):S})(C,w,"global"in v?v.global:this==t,v.state)}function f(g){var v,x=g.length,y=this,w=0,E=y.i=y.j=0,C=y.S=[];for(x||(g=[x++]);w<o;)C[w]=w++;for(w=0;w<o;w++)C[w]=C[E=d&E+g[w%x]+(v=C[w])],C[E]=v;(y.g=function(S){for(var _,A=0,D=y.i,I=y.j,M=y.S;S--;)_=M[D=d&D+1],A=A*o+M[d&(M[D]=M[I=d&I+_])+(M[I]=_)];return y.i=D,y.j=I,A})(o)}function p(g,v){return v.i=g.i,v.j=g.j,v.S=g.S.slice(),v}function m(g,v){for(var x,y=g+"",w=0;w<y.length;)v[d&w]=d&(x^=19*v[d&w])+y.charCodeAt(w++);return b(v)}function b(g){return String.fromCharCode.apply(0,g)}if(t["seed"+s]=h,m(t.random(),e),n.exports){n.exports=h;try{r=require("crypto")}catch(g){}}})([],Math)});ns.alea=KY,ns.xor128=YY,ns.xorwow=XY,ns.xorshift7=ZY,ns.xor4096=JY,ns.tychei=QY;var Jm=ns.alea,A1=function(){function n(e,t,r,i,o){this.mean=e,this.stdDev=t,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=Jm(a.toString())}return n.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,r,i=!1;!i;){var o=void 0,a=void 0,s=void 0;do s=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a;while(s>=1||s===0);var l=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*o*l,r=this.mean+this.stdDev*a*l,this.truncated&&!this.isValidTruncated(t)||(i=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(t)},n.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},n.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},n}(),eX=function(){function n(e,t,r,i){this.alpha=e,this.beta=1/t,this.dtype=r;var o=i||Math.random();this.randu=Jm(o.toString()),this.randn=new A1(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return n.prototype.nextValue=function(){for(var e,t,r,i,o,a;;){do i=this.randn.nextValue(),a=1+this.c*i;while(a<=0);if(a*=a*a,t=1-.331*(e=i*i)*e,r=.5*e+this.d*(1-a+Math.log(a)),(o=this.randu())<t||Math.log(o)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},n.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},n}(),tX=function(){function n(e,t,r,i){var o=this;if(e===void 0&&(e=0),t===void 0&&(t=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=t-e,this.dtype=r,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Jm(i)}return n.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},n.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},n}();function Ue(n,e,t){return e===void 0&&(e="float32"),e=e||"float32",CT(n),new pd(n,e,t)}function nX(n,e){e===void 0&&(e=!1),console.log(n.toString(e))}var OT=q({batchToSpaceND_:function(n,e,t){var r=j(n,"x","batchToSpaceND"),i=e.reduce(function(o,a){return o*a});return W(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),W(t.length===e.length,function(){return"crops.length is "+t.length+" but should be equal to blockShape.length  "+e.length}),W(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+i}),G.runKernelFunc(function(o){return o.batchToSpaceND(r,e,t)},{$x:r},function(o){return{$x:function(){return o.spaceToBatchND(e,t)}}})}}),rX=q({broadcastTo_:function(n,e){var t=j(n,"broadcastTo","x"),r=t.shape;if(e.some(function(l){return!(l>0)||l%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<t.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+t.rank+".");if(e.length>t.rank){for(var i=t.shape.slice();i.length<e.length;)i.unshift(1);t=t.reshape(i)}for(var o=Array.from(e),a=e.length-1;a>=0;a--)if(t.shape[a]===e[a])o[a]=1;else if(t.shape[a]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var s=o.map(function(l,c){return l>1?c:-1}).filter(function(l){return l>=0});return s.length===0?t.clone():G.runKernelFunc(function(l){return l.tile(t,o)},{input:t},function(l){return{input:function(){return l.sum(s,!0)}}})}}),iX=q({cast_:function(n,e){var t=j(n,"x","cast");if(!XK(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&t.dtype!=="string"||e!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:e};return G.runKernelFunc(function(i){return i.cast(t,e)},{x:t},function(i){return{x:function(){return i.clone()}}},"Cast",r)}}),oX=q({clone_:function(n){var e=j(n,"x","clone",null);return G.runKernelFunc(function(){return G.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(t){return{$x:function(){return t.toFloat()}}})}}),aX=q({cumsum_:function(n,e,t,r){e===void 0&&(e=0),t===void 0&&(t=!1),r===void 0&&(r=!1);var i=j(n,"x","cumsum"),o=Qi([e|=0],i.rank),a=i;o!=null&&(a=i.transpose(o));var s=eo(1,i.rank)[0],l=G.runKernelFunc(function(c){return c.cumsum(a,s,t,r)},{permutedX:a},function(c){return{permutedX:function(){return c.cumsum(e,t,!r)}}});return o!=null&&(l=l.transpose(o)),l}}),sX=q({depthToSpace_:function(n,e,t){t===void 0&&(t="NHWC");var r=j(n,"x","depthToSpace"),i=t==="NHWC"?r.shape[1]:r.shape[2],o=t==="NHWC"?r.shape[2]:r.shape[3],a=t==="NHWC"?r.shape[3]:r.shape[1];return W(i*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+r.shape}),W(o*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+e+" for depthToSpace with input shape\n          "+r.shape}),W(a%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+a+" for depthToSpace with input shape "+r.shape}),G.runKernelFunc(function(s){return s.depthToSpace(r,e,t)},{$x:r})}}),Wr=q({expandDims_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","expandDims",null);W(e<=t.rank,function(){return"Axis must be <= rank of the tensor"});var r=t.shape.slice();return e<0&&(W(-(t.rank+1)<=e,function(){return"Axis must be in the interval ["+-(t.rank+1)+", "+t.rank+"]"}),e=t.rank+e+1),r.splice(e,0,1),mi(t,r)}}),MT=q({eye_:function(n,e,t,r){r===void 0&&(r="float32"),e==null&&(e=n);for(var i=Ue([n,e],r),o=n<=e?n:e,a=0;a<o;++a)i.set(1,a,a);var s=i.toTensor().as2D(n,e);if(t==null)return s;if(t.length===1)return ec(Wr(s,0),[t[0],1,1]);if(t.length===2)return ec(Wr(Wr(s,0),0),[t[0],t[1],1,1]);if(t.length===3)return ec(Wr(Wr(Wr(s,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+t.length+"D.")}}),lX=q({multinomial_:function(n,e,t,r){r===void 0&&(r=!1);var i=j(n,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);t=t||Math.random();var s=a===1?i.as2D(1,-1):i,l=G.runKernelFunc(function(c){return c.multinomial(s,r,e,t)},{logits2D:s});return a===1?l.as1D():l}}),Xv=q({oneHot_:function(n,e,t,r){if(t===void 0&&(t=1),r===void 0&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var i=j(n,"indices","oneHot","int32"),o=i.shape.concat([e]);return i=i.flatten(),G.runKernelFunc(function(a){return a.oneHot(i,e,t,r)},{$indices:i},function(a){return{$indices:function(){return Ct(i.shape,"float32")}}}).reshape(o)}}),Zs=q({pad_:function(n,e,t){t===void 0&&(t=0);var r=j(n,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:e,constantValue:t};return G.runKernelFunc(function(o){return o.pad(r,e,t)},{x:r},function(o){var a=e.map(function(s){return s[0]});return{x:function(){return o.slice(a,r.shape)}}},"PadV2",i)}}),cX=q({pad1d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Zs(n,[e],t)}}),uX=q({pad2d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Zs(n,e,t)}}),dX=q({pad3d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Zs(n,e,t)}}),hX=q({pad4d_:function(n,e,t){return t===void 0&&(t=0),W(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Zs(n,e,t)}}),fX=q({rand_:function(n,e,t){var r=Te(n),i=null;if(t==null||t==="float32")i=new Float32Array(r);else if(t==="int32")i=new Int32Array(r);else{if(t!=="bool")throw new Error("Unknown data type "+t);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=e();return G.makeTensor(i,n,t)}}),pX=q({randomNormal_:function(n,e,t,r,i){if(e===void 0&&(e=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new A1(e,t,r,!1,i),a=Ue(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),mX=q({randomGamma_:function(n,e,t,r,i){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t==null&&(t=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var o=new eX(e,t,r,i),a=Ue(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),BT=q({randomUniform_:function(n,e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=1),r===void 0&&(r="float32");for(var o=Ue(n,r),a=new tX(e,t,null,i),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),mi=q({reshape_:function(n,e){var t=j(n,"x","reshape",null);e=KK(e,t.size),W(t.size===Te(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return G.runKernelFunc(function(i){return i.reshape(t,e)},{x:t},function(i){return{x:function(){return i.reshape(t.shape)}}},"Reshape",r)}}),PT=q({spaceToBatchND_:function(n,e,t){var r=j(n,"x","spaceToBatchND");return W(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),W(t.length===e.length,function(){return"paddings.shape[0] "+t.length+" must be equal to [blockShape] "+e.length}),W(r.shape.reduce(function(i,o,a){return a>0&&a<=e.length?i&&(o+t[a-1][0]+t[a-1][1])%e[a-1]==0:i},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+t.toString()+" must be divisible by blockShapes "+e.toString()}),G.runKernelFunc(function(i){return i.spaceToBatchND(r,e,t)},{$x:r},function(i){return{$x:function(){return i.batchToSpaceND(e,t)}}})}}),LT=q({squeeze_:function(n,e){var t=j(n,"x","squeeze");return mi(t,as(t.shape,e).newShape)}}),Or=q({stack_:function(n,e){e===void 0&&(e=0);var t=Cp(n,"tensors","stack");if(W(t.length>=1,function(){return"Pass at least one tensor to tf.stack"}),t.length===1)return t[0].expandDims(e);var r=t[0].rank,i=t[0].shape,o=t[0].dtype;W(e<=r,function(){return"Axis must be <= rank of the tensor"}),t.forEach(function(s){ut(i,s.shape,"All tensors passed to stack must have matching shapes")}),t.forEach(function(s){W(o===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=t.map(function(s){return s.expandDims(e)});return tn(a,e)}}),ec=q({tile_:function(n,e){var t=j(n,"x","tile",null);W(t.rank===e.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of reps "+e+"."});var r=[t],i={reps:e};return G.runKernelFunc(function(o,a){var s=o.tile(t,e);return a([t]),s},{x:t},function(o,a){var s=a[0];return{x:function(){var l=st(s);if(s.rank===1)for(var c=0;c<e[0];++c)l=l.add(o.slice([c*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(c=0;c<e[0];++c)for(var u=0;u<e[1];++u)l=l.add(o.slice([c*s.shape[0],u*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(c=0;c<e[0];++c)for(u=0;u<e[1];++u)for(var d=0;d<e[2];++d)l=l.add(o.slice([c*s.shape[0],u*s.shape[1],d*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(c=0;c<e[0];++c)for(u=0;u<e[1];++u)for(d=0;d<e[2];++d)for(var h=0;h<e[3];++h)l=l.add(o.slice([c*s.shape[0],u*s.shape[1],d*s.shape[2],h*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return l}}},"Tile",i,r)}}),gX=q({truncatedNormal_:function(n,e,t,r,i){if(e===void 0&&(e=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new A1(e,t,r,!0,i),a=Ue(n,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),nn=q({unstack_:function(n,e){e===void 0&&(e=0),e=e||0;var t=j(n,"x","unstack");W(e>=-t.shape.length&&e<t.shape.length,function(){return"Axis = "+e+" is not in [-"+t.shape.length+", "+t.shape.length+")"}),e<0&&(e+=t.shape.length);var r={axis:e};return G.runKernelFunc(function(i){return i.unstack(t,e)},{x:t},function(i){return{x:function(){return Or(i,e)}}},"Unpack",r)}}),bX=function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return t=j(n,"x","setdiff1d"),r=j(e,"y","setdiff1d"),W(t.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+t.dtype+") and y ("+r.dtype+")."}),W(t.rank===1,function(){return"x should be 1D tensor, but got x ("+t.shape+")."}),W(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,t.data()];case 1:return i=h.sent(),[4,r.data()];case 2:for(o=h.sent(),a=new Set(o),s=0,u=0;u<i.length;u++)a.has(i[u])||s++;for(l=new pd([s],t.dtype),c=new pd([s],"int32"),u=0,d=0;u<i.length;u++)a.has(i[u])||(l.values[d]=i[u],c.values[d]=u,d++);return[2,[l.toTensor(),c.toTensor()]]}})})};function Sp(n,e,t,r){r===void 0&&(r=!0);var i=[];if(r)(i=i.concat(e.slice(0))).push(n[0]/t),i=i.concat(n.slice(1));else{i=i.concat(n[0]);for(var o=e.length,a=0;a<o;++a)i=i.concat([n[a+1]/e[a],e[a]]);i=i.concat(n.slice(o+1))}return i}function Tp(n,e,t){t===void 0&&(t=!0);var r=[];if(t){r.push(e);for(var i=e+1;i<n;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{var o=[],a=[];for(i=1;i<n;++i)i>=2*e+1||i%2==1?a.push(i):o.push(i);r.push.apply(r,o),r.push(0),r.push.apply(r,a)}return r}function Ap(n,e,t,r){r===void 0&&(r=!0);var i=[];r?i.push(n[0]/t):i.push(n[0]*t);for(var o=1;o<n.length;++o)o<=e.length?r?i.push(e[o-1]*n[o]):i.push(n[o]/e[o-1]):i.push(n[o]);return i}function zT(n,e){for(var t=[0],r=0;r<e;++r)t.push(n[r][0]);return t}function jT(n,e,t){for(var r=n.slice(0,1),i=0;i<t;++i)r.push(n[i+1]-e[i][0]-e[i][1]);return r}function NT(n,e){if(n.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+n.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>n.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+n.rank);if(n.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+n.shape+".");for(var t=e.shape,r=t[t.length-1],i=1,o=0;o<t.length-1;++o)i*=t[o];var a=n.shape,s=t.slice();s.pop();var l=1;for(o=r;o<n.rank;++o)l*=a[o],s.push(a[o]);var c=Wi(n.shape).map(function(u){return u/l}).concat([1]).slice(0,r);return[s,i,l,c]}var FT=30;function F0(n){return n<=FT?n:Wv(n,Math.floor(Math.sqrt(n)))}function vX(n,e,t){var r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+t.shape+", indices.shape: "+e.shape+", shape: "+n+", sliceDim: "+r+", and batchDim: "+i+".";if(t.rank<i)throw new Error(o+" update.rank < "+i+". ");if(n.length<r+(t.rank-i))throw new Error(o+" Output shape length < "+(r+(t.rank-i)));if(t.rank!==i+n.length-r)throw new Error(o+" update.rank != "+(i+n.length-r));for(var a=0;a<i;++a)if(t.shape[a]!==e.shape[a])throw new Error(o+" updates.shape["+a+"] ("+t.shape[a]+") != indices.shape["+a+"] ("+e.shape[a]+").");for(a=0;a<t.rank-i;++a)if(t.shape[a+i]!==n[a+r])throw new Error(o+" updates.shape["+(a+i)+"] ("+t.shape[a+i]+") != shape["+(a+i)+"] ("+n[a+i]+")")}function xX(n,e,t){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(n.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+n.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(t.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+t);if(t.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(n.size===0)throw new Error("Updates specified for empty output. updates shape: "+n.shape)}vX(t,e,n)}function Ip(n,e,t){for(var r=e.shape.length,i=r>1?e.shape[r-1]:1,o=t.length,a=1,s=i;s<o;++s)a*=t[s];var l=i<1?1:i;return{sliceRank:i,numUpdates:Te(e.shape)/l,sliceSize:a,strides:Wi(t.slice(0,i)).concat([1]),outputSize:Te(t)}}function yX(n,e,t){W(n.rank===e.length,function(){return"Error in slice"+n.rank+"D: Length of begin "+e+" must match the rank of the array ("+n.rank+")."}),W(n.rank===t.length,function(){return"Error in slice"+n.rank+"D: Length of size "+t+" must match the rank of the array ("+n.rank+")."});for(var r=function(o){W(e[o]+t[o]<=n.shape[o],function(){return"Error in slice"+n.rank+"D: begin["+o+"] + size["+o+"] ("+(e[o]+t[o])+") would overflow input.shape["+o+"] ("+n.shape[o]+")"})},i=0;i<n.rank;++i)r(i)}function g3(n){for(var e=[],t=0;n>0;)1&n&&e.push(t),n/=2,t++;return e}function I1(n,e,t){for(var r=[],i=0;i<n.length;i++)r[i]=Math.ceil((e[i]-n[i])/t[i]);return r}function wX(n,e,t,r,i){var o=e[i],a=t[i]||1;(n&1<<i||o==null)&&(o=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),o=$v(0,o,s-1)}function kX(n,e,t,r,i){var o=e[i],a=t[i]||1;(n&1<<i||o==null)&&(o=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return o<0&&(o+=s),o=a>0?$v(0,o,s):$v(-1,o,s-1)}function $T(n,e,t){for(var r=t.length,i=0;i<t.length;i++)if(t[i]>1){r=i;break}for(i=r+1;i<t.length;i++)if(e[i]>0||t[i]!==n[i])return!1;return!0}function UT(n,e){for(var t=n.length>0?n[n.length-1]:1,r=0;r<n.length-1;r++)t+=n[r]*e[r];return t}function _X(n,e){W(Hv(n),function(){return"The f passed in variableGrads(f) must be a function"}),W(e==null||Array.isArray(e)&&e.every(function(u){return u instanceof _c}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var t=e!=null;if(!t)for(var r in e=[],G.registeredVariables)e.push(G.registeredVariables[r]);var i=t?e.filter(function(u){return!u.trainable}):null,o=e.length;W((e=e.filter(function(u){return u.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."});var a=G.gradients(n,e,null,!0),s=a.value,l=a.grads;W(l.some(function(u){return u!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),W(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return e.forEach(function(u,d){l[d]!=null&&(c[u.name]=l[d])}),i!=null&&i.forEach(function(u){return c[u.name]=null}),{value:s,grads:c}}function Qm(n){return G.customGrad(n)}var Lo=q({softmax_:function(n,e){e===void 0&&(e=-1);var t=j(n,"logits","softmax","float32");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+e);return G.runKernelFunc(function(r,i){var o=r.softmax(t,e);return i([o]),o},{logits:t},function(r,i){var o=i[0],a=r.mul(o);return{logits:function(){return a.sub(a.sum([e],!0).mul(o))}}},"Softmax",{dim:e},[],[!0])}}),CX=q({logSoftmax_:function(n,e){e===void 0&&(e=-1);var t=j(n,"logits","logSoftmax");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and axis was "+e);return Qm(function(r,i){var o=r.max(e,!0),a=r.sub(o),s=a.toFloat().sub(a.exp().sum(e,!0).log());return i([s]),{value:s,gradFunc:function(l,c){var u=c[0].exp();return l.sub(l.sum(e,!0).mul(u))}}})(t)}}),HT=function(){function n(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return n.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},n.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},n.prototype.has=function(e){return this.data.has(e)},n.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},n.prototype.numDataIds=function(){return this.dataIdsCount},n}(),WT=function(){function n(){}return n.prototype.time=function(e){return te("time")},n.prototype.read=function(e){return te("read")},n.prototype.readSync=function(e){return te("readSync")},n.prototype.numDataIds=function(){return te("numDataIds")},n.prototype.disposeData=function(e){return te("disposeData")},n.prototype.write=function(e,t,r){return te("write")},n.prototype.move=function(e,t,r,i){return te("move")},n.prototype.memory=function(){return te("memory")},n.prototype.floatPrecision=function(){return te("floatPrecision")},n.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},n.prototype.batchMatMul=function(e,t,r,i){return te("batchMatMul")},n.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,te("fusedBatchMatMul")},n.prototype.slice=function(e,t,r){return te("slice")},n.prototype.stridedSlice=function(e,t,r,i){return te("stridedSlice")},n.prototype.unstack=function(e,t){return te("unstack")},n.prototype.reverse=function(e,t){return te("reverse")},n.prototype.concat=function(e,t){return te("concat")},n.prototype.neg=function(e){return te("neg")},n.prototype.add=function(e,t){return te("add")},n.prototype.addN=function(e){return te("addN")},n.prototype.subtract=function(e,t){return te("subtract")},n.prototype.multiply=function(e,t){return te("multiply")},n.prototype.realDivide=function(e,t){return te("realDivide")},n.prototype.floorDiv=function(e,t){return te("floorDiv")},n.prototype.sum=function(e,t){return te("sum")},n.prototype.prod=function(e,t){return te("prod")},n.prototype.unsortedSegmentSum=function(e,t,r){return te("unsortedSegmentSum")},n.prototype.argMin=function(e,t){return te("argMin")},n.prototype.argMax=function(e,t){return te("argMax")},n.prototype.equal=function(e,t){return te("equal")},n.prototype.notEqual=function(e,t){return te("notEqual")},n.prototype.less=function(e,t){return te("less")},n.prototype.lessEqual=function(e,t){return te("lessEqual")},n.prototype.greater=function(e,t){return te("greater")},n.prototype.greaterEqual=function(e,t){return te("greaterEqual")},n.prototype.logicalNot=function(e){return te("logicalNot")},n.prototype.logicalAnd=function(e,t){return te("logicalAnd")},n.prototype.logicalOr=function(e,t){return te("logicalOr")},n.prototype.where=function(e){return te("where")},n.prototype.select=function(e,t,r){return te("select")},n.prototype.topk=function(e,t,r){return te("topk")},n.prototype.min=function(e,t){return te("min")},n.prototype.minimum=function(e,t){return te("minimum")},n.prototype.mod=function(e,t){return te("mod")},n.prototype.max=function(e,t){return te("max")},n.prototype.maximum=function(e,t){return te("maximum")},n.prototype.all=function(e,t){return te("all")},n.prototype.any=function(e,t){return te("any")},n.prototype.squaredDifference=function(e,t){return te("squaredDifference")},n.prototype.ceil=function(e){return te("ceil")},n.prototype.floor=function(e){return te("floor")},n.prototype.round=function(e){return te("round")},n.prototype.sign=function(e){return te("sign")},n.prototype.isNaN=function(e){return te("isNaN")},n.prototype.isInf=function(e){return te("isInf")},n.prototype.isFinite=function(e){return te("isFinite")},n.prototype.pow=function(e,t){return te("pow")},n.prototype.exp=function(e){return te("exp")},n.prototype.expm1=function(e){return te("expm1")},n.prototype.softmax=function(e,t){return te("softmax")},n.prototype.log=function(e){return te("log")},n.prototype.log1p=function(e){return te("log1p")},n.prototype.sqrt=function(e){return te("sqrt")},n.prototype.rsqrt=function(e){return te("rsqrt")},n.prototype.square=function(e){return te("square")},n.prototype.reciprocal=function(e){return te("reciprocal")},n.prototype.relu=function(e){return te("relu")},n.prototype.relu6=function(e){return te("relu6")},n.prototype.prelu=function(e,t){return te("prelu")},n.prototype.elu=function(e){return te("elu")},n.prototype.eluDer=function(e,t){return te("eluDer")},n.prototype.selu=function(e){return te("selu")},n.prototype.int=function(e){return te("int")},n.prototype.clip=function(e,t,r){return te("clip")},n.prototype.abs=function(e){return te("abs")},n.prototype.complexAbs=function(e){return te("complexAbs")},n.prototype.sigmoid=function(e){return te("sigmoid")},n.prototype.softplus=function(e){return te("softplus")},n.prototype.sin=function(e){return te("sin")},n.prototype.cos=function(e){return te("cos")},n.prototype.tan=function(e){return te("tan")},n.prototype.asin=function(e){return te("asin")},n.prototype.acos=function(e){return te("acos")},n.prototype.atan=function(e){return te("atan")},n.prototype.atan2=function(e,t){return te("atan2")},n.prototype.sinh=function(e){return te("sinh")},n.prototype.cosh=function(e){return te("cosh")},n.prototype.tanh=function(e){return te("tanh")},n.prototype.asinh=function(e){return te("asinh")},n.prototype.acosh=function(e){return te("acosh")},n.prototype.atanh=function(e){return te("atanh")},n.prototype.erf=function(e){return te("erf")},n.prototype.step=function(e,t){return te("step")},n.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,te("fusedConv2d")},n.prototype.conv2d=function(e,t,r){return te("conv2d")},n.prototype.conv2dDerInput=function(e,t,r){return te("conv2dDerInput")},n.prototype.conv2dDerFilter=function(e,t,r){return te("conv2dDerFilter")},n.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,te("fusedDepthwiseConv2D")},n.prototype.depthwiseConv2D=function(e,t,r){return te("depthwiseConv2D")},n.prototype.depthwiseConv2DDerInput=function(e,t,r){return te("depthwiseConv2DDerInput")},n.prototype.depthwiseConv2DDerFilter=function(e,t,r){return te("depthwiseConv2DDerFilter")},n.prototype.conv3d=function(e,t,r){return te("conv3d")},n.prototype.conv3dDerInput=function(e,t,r){return te("conv3dDerInput")},n.prototype.conv3dDerFilter=function(e,t,r){return te("conv3dDerFilter")},n.prototype.maxPool=function(e,t){return te("maxPool")},n.prototype.maxPoolBackprop=function(e,t,r,i){return te("maxPoolBackprop")},n.prototype.avgPool=function(e,t){return te("avgPool")},n.prototype.avgPoolBackprop=function(e,t,r){return te("avgPoolBackprop")},n.prototype.avgPool3d=function(e,t){return te("avgPool3d")},n.prototype.avgPool3dBackprop=function(e,t,r){return te("avgPool3dBackprop")},n.prototype.maxPool3d=function(e,t){return te("maxPool3d")},n.prototype.maxPool3dBackprop=function(e,t,r,i){return te("maxPool3dBackprop")},n.prototype.reshape=function(e,t){return te("reshape")},n.prototype.cast=function(e,t){return te("cast")},n.prototype.tile=function(e,t){return te("tile")},n.prototype.pad=function(e,t,r){return te("pad")},n.prototype.transpose=function(e,t){return te("transpose")},n.prototype.gather=function(e,t,r){return te("gather")},n.prototype.gatherND=function(e,t){return te("gatherND")},n.prototype.scatterND=function(e,t,r){return te("scatterND")},n.prototype.batchToSpaceND=function(e,t,r){return te("batchToSpaceND")},n.prototype.spaceToBatchND=function(e,t,r){return te("spaceToBatchND")},n.prototype.resizeBilinear=function(e,t,r,i){return te("resizeBilinear")},n.prototype.resizeBilinearBackprop=function(e,t,r){return te("resizeBilinearBackprop")},n.prototype.resizeNearestNeighbor=function(e,t,r,i){return te("resizeNearestNeighbor")},n.prototype.resizeNearestNeighborBackprop=function(e,t,r){return te("resizeNearestNeighborBackprop")},n.prototype.batchNormalization=function(e,t,r,i,o,a){return te("batchNormalization")},n.prototype.localResponseNormalization4D=function(e,t,r,i,o){return te("localResponseNormalization4D")},n.prototype.LRNGrad=function(e,t,r,i,o,a,s){return te("LRNGrad")},n.prototype.multinomial=function(e,t,r,i){return te("multinomial")},n.prototype.oneHot=function(e,t,r,i){return te("oneHot")},n.prototype.cumsum=function(e,t,r,i){return te("cumsum")},n.prototype.nonMaxSuppression=function(e,t,r,i,o){return te("nonMaxSuppression")},n.prototype.fft=function(e){return te("fft")},n.prototype.ifft=function(e){return te("ifft")},n.prototype.complex=function(e,t){return te("complex")},n.prototype.real=function(e){return te("real")},n.prototype.imag=function(e){return te("imag")},n.prototype.cropAndResize=function(e,t,r,i,o,a){return te("cropAndResize")},n.prototype.depthToSpace=function(e,t,r){return te("depthToSpace")},n.prototype.split=function(e,t,r){return te("split")},n.prototype.sparseToDense=function(e,t,r,i){return te("sparseToDense")},n.prototype.diag=function(e){return te("diag")},n.prototype.fill=function(e,t,r){return te("fill")},n.prototype.onesLike=function(e){return te("onesLike")},n.prototype.zerosLike=function(e){return te("zerosLike")},n.prototype.linspace=function(e,t,r){return te("linspace")},n.prototype.dispose=function(){return te("dispose")},n}();function te(n){throw new Error("'"+n+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function ha(n,e){for(var t=n.length,r=[],i=0;i<t;i++){var o=t-1-i,a=n[o]||1;(e[e.length-1-i]||1)>1&&a===1&&r.unshift(o)}return r}function an(n,e){for(var t=[],r=0;r<e.length;r++){var i=n[n.length-r-1],o=e.length-r-1,a=e[o];(i==null||i===1&&a>1)&&t.unshift(o)}return t}function nt(n,e){for(var t=[],r=Math.max(n.length,e.length),i=0;i<r;i++){var o=n[n.length-i-1];o==null&&(o=1);var a=e[e.length-i-1];if(a==null&&(a=1),o===1)t.unshift(a);else if(a===1)t.unshift(o);else{if(o!==a)throw Error("Operands could not be broadcast together with shapes "+n+" and "+e+".");t.unshift(o)}}return t}function gd(n,e,t,r,i,o,a){a===void 0&&(a="channelsLast");var s,l=Op(e),c=l[0],u=l[1];if(a==="channelsLast")s=[c,u,n[3],n[3]];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);s=[c,u,n[1],n[1]]}return Js(n,s,t,r,i,o,!1,a)}function Rp(n,e,t,r,i,o,a){a===void 0&&(a="NDHWC");var s,l,c=Zv(e),u=c[0],d=c[1],h=c[2];if(a==="NDHWC")l="channelsLast",s=[u,d,h,n[4],n[4]];else{if(a!=="NCDHW")throw new Error("Unknown dataFormat "+a);l="channelsFirst",s=[u,d,h,n[1],n[1]]}return Dp(n,s,t,r,i,!1,l,o)}function Js(n,e,t,r,i,o,a,s){a===void 0&&(a=!1),s===void 0&&(s="channelsLast");var l=[-1,-1,-1,-1],c=l[0],u=l[1],d=l[2],h=l[3];if(s==="channelsLast")c=n[0],u=n[1],d=n[2],h=n[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);c=n[0],h=n[1],u=n[2],d=n[3]}var f,p=e[0],m=e[1],b=e[3],g=Op(t),v=g[0],x=g[1],y=Op(r),w=y[0],E=y[1],C=tc(p,w),S=tc(m,E),_=function(T,B,L,z,U,P,$,F){var N,ee,X;if(typeof T=="number"){N={top:T,bottom:T,left:T,right:T,type:T===0?"VALID":"NUMBER"};var J=function(Me,We,Fe,R,ne){R==null&&(R=VT(Me,We,Fe));var Q=Me[0],V=Me[1],H=ju((Q-We+2*R)/Fe+1,ne);W(Wt(H),function(){return"The output # of rows ("+H+") must be an integer. Change the stride and/or zero pad parameters"});var Y=ju((V-We+2*R)/Fe+1,ne);return W(Wt(Y),function(){return"The output # of columns ("+Y+") must be an integer. Change the stride and/or zero pad parameters"}),[H,Y]}([B,L],P,z,T,F);ee=J[0],X=J[1]}else if(T==="same"){ee=Math.ceil(B/z),X=Math.ceil(L/U);var be=Math.max(0,(ee-1)*z+P-B),we=Math.max(0,(X-1)*U+$-L),ve=Math.floor(be/2),ke=be-ve,He=Math.floor(we/2);N={top:ve,bottom:ke,left:He,right:we-He,type:"SAME"}}else{if(T!=="valid")throw Error("Unknown padding parameter: "+T);N={top:0,bottom:0,left:0,right:0,type:"VALID"},ee=Math.ceil((B-P+1)/z),X=Math.ceil((L-$+1)/U)}return{padInfo:N,outHeight:ee,outWidth:X}}(i,u,d,v,x,C,S,o),A=_.padInfo,D=_.outHeight,I=_.outWidth,M=a?b*h:b;return s==="channelsFirst"?f=[c,M,D,I]:s==="channelsLast"&&(f=[c,D,I,M]),{batchSize:c,dataFormat:s,inHeight:u,inWidth:d,inChannels:h,outHeight:D,outWidth:I,outChannels:M,padInfo:A,strideHeight:v,strideWidth:x,filterHeight:p,filterWidth:m,effectiveFilterHeight:C,effectiveFilterWidth:S,dilationHeight:w,dilationWidth:E,inShape:n,outShape:f,filterShape:e}}function Dp(n,e,t,r,i,o,a,s){o===void 0&&(o=!1),a===void 0&&(a="channelsLast");var l=[-1,-1,-1,-1,-1],c=l[0],u=l[1],d=l[2],h=l[3],f=l[4];if(a==="channelsLast")c=n[0],u=n[1],d=n[2],h=n[3],f=n[4];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);c=n[0],f=n[1],u=n[2],d=n[3],h=n[4]}var p,m=e[0],b=e[1],g=e[2],v=e[4],x=Zv(t),y=x[0],w=x[1],E=x[2],C=Zv(r),S=C[0],_=C[1],A=C[2],D=tc(m,S),I=tc(b,_),M=tc(g,A),T=function($,F,N,ee,X,J,be,we,ve,ke,He){var Me,We,Fe,R;if(typeof $=="number"){Me={top:$,bottom:$,left:$,right:$,front:$,back:$,type:$===0?"VALID":"NUMBER"};var ne=function(ye,fe,Pe,it,ze,Ft){ze==null&&(ze=VT(ye,fe,it));var oi=ye[0],Yt=ye[1],ai=ye[2],dt=ju((oi-fe+2*ze)/it+1,Ft);W(Wt(dt),function(){return"The output # of depths ("+dt+") must be an integer. Change the stride and/or zero pad parameters"});var Si=ju((Yt-fe+2*ze)/it+1,Ft);W(Wt(Si),function(){return"The output # of rows ("+Si+") must be an integer. Change the stride and/or zero pad parameters"});var no=ju((ai-fe+2*ze)/it+1,Ft);return W(Wt(no),function(){return"The output # of columns ("+no+") must be an integer. Change the stride and/or zero pad parameters"}),[dt,Si,no,Pe]}([F,N,ee,1],we,1,X,$,He);We=ne[0],Fe=ne[1],R=ne[2]}else if($==="same"){We=Math.ceil(F/X),Fe=Math.ceil(N/J),R=Math.ceil(ee/be);var Q=(We-1)*X+we-F,V=(Fe-1)*J+ve-N,H=(R-1)*be+ke-ee,Y=Math.floor(Q/2),se=Q-Y,le=Math.floor(V/2),Z=V-le,he=Math.floor(H/2);Me={top:le,bottom:Z,left:he,right:H-he,front:Y,back:se,type:"SAME"}}else{if($!=="valid")throw Error("Unknown padding parameter: "+$);Me={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},We=Math.ceil((F-we+1)/X),Fe=Math.ceil((N-ve+1)/J),R=Math.ceil((ee-ke+1)/be)}return{padInfo:Me,outDepth:We,outHeight:Fe,outWidth:R}}(i,u,d,h,y,w,E,D,I,M,s),B=T.padInfo,L=T.outDepth,z=T.outHeight,U=T.outWidth,P=o?v*f:v;return a==="channelsFirst"?p=[c,P,L,z,U]:a==="channelsLast"&&(p=[c,L,z,U,P]),{batchSize:c,dataFormat:a,inDepth:u,inHeight:d,inWidth:h,inChannels:f,outDepth:L,outHeight:z,outWidth:U,outChannels:P,padInfo:B,strideDepth:y,strideHeight:w,strideWidth:E,filterDepth:m,filterHeight:b,filterWidth:g,effectiveFilterDepth:D,effectiveFilterHeight:I,effectiveFilterWidth:M,dilationDepth:S,dilationHeight:_,dilationWidth:A,inShape:n,outShape:p,filterShape:e}}function VT(n,e,t,r){r===void 0&&(r=1);var i=tc(e,r);return Math.floor((n[0]*(t-1)-t+i)/2)}function Op(n){return typeof n=="number"?[n,n,n]:n.length===2?[n[0],n[1],1]:n}function Zv(n){return typeof n=="number"?[n,n,n]:n}function tc(n,e){return e<=1?n:n+(n-1)*(e-1)}function ju(n,e){if(!e)return n;switch(e){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error("Unknown roundingMode "+e)}}function Ec(n){var e=Op(n),t=e[0],r=e[1],i=e[2];return t===1&&r===1&&i===1}function fr(n,e){return Ec(n)||Ec(e)}function R1(n){if(n==="NHWC")return"channelsLast";if(n==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+n)}function qT(n,e,t){if(e==="complex64"){if(n.dtype==="complex64")return n.clone();var r=Ct(n.shape),i=n.toFloat(),o=t.complex(i,r);return r.dispose(),i.dispose(),o}if(!ZK(n.dtype,e))return G.makeTensorFromDataId(n.dataId,n.shape,e);if(n.dtype==="complex64"){var a=t.real(n);return o=a.cast(e),a.dispose(),o}if(e==="int32")return t.int(n);if(e==="bool"){var s=xe(0,n.dtype);return o=t.notEqual(n,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+n.dtype+" to "+e)}function Jv(n,e){return G.makeTensorFromDataId(n.dataId,e,n.dtype)}function GT(n,e,t){var r=(e-n)/(t-1),i=Gd(t,"float32");i[0]=n;for(var o=1;o<i.length;o++)i[o]=i[o-1]+r;return Gt(i,"float32")}function Qv(n,e){if(n.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+n.length+", imag: "+e.length+".");for(var t=new Float32Array(2*n.length),r=0;r<t.length;r+=2)t[r]=n[r/2],t[r+1]=e[r/2];return t}function b3(n,e){return{real:n[2*e],imag:n[2*e+1]}}function EX(n,e,t,r){n[2*r]=e,n[2*r+1]=t}function SX(n,e,t){var r=(t?2:-2)*Math.PI*(n/e);return{real:Math.cos(r),imag:Math.sin(r)}}function TX(n,e,t){var r=function(o,a,s){return function(l,c,u){for(var d=0,h=l.length,f=0,p=!1;d<h;){var m=u(c,l[f=d+(h-d>>>1)]);m>0?d=f+1:(h=f,p=!m)}return p?d:-d-1}(o,a,s||AX)}(n,e,t),i=r<0?-(r+1):r;n.splice(i,0,e)}function AX(n,e){return n>e?1:n<e?-1:0}function D1(n,e,t,r,i){return KT(n,e,t,r,i,0).selectedIndices}function O1(n,e,t,r,i,o){var a=KT(n,e,t,r,i,o);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function KT(n,e,t,r,i,o,a,s){s===void 0&&(s=!1);for(var l=Array.from(e).map(function(y,w){return{score:y,boxIndex:w,suppressBeginIndex:0}}).filter(function(y){return y.score>i}).sort(v3),c=o>0?-.5/o:0,u=[],d=[];u.length<t&&l.length>0;){var h=l.pop(),f=h.score,p=h.boxIndex,m=h.suppressBeginIndex;if(f<i)break;for(var b=!1,g=u.length-1;g>=m;--g){var v=IX(n,p,u[g]);if(v>=r){b=!0;break}if(h.score=h.score*RX(r,c,v),h.score<=i)break}h.suppressBeginIndex=u.length,b||(h.score===f?(u.push(p),d.push(h.score)):h.score>i&&TX(l,h,v3))}var x=u.length;return s&&(u.fill(0,x),d.fill(0,x)),{selectedIndices:Gt(u,"int32"),selectedScores:Gt(d,"float32"),numValidOutputs:xe(x,"int32")}}function IX(n,e,t){var r=n.subarray(4*e,4*e+4),i=n.subarray(4*t,4*t+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),f=(s-o)*(l-a),p=(d-c)*(h-u);if(f<=0||p<=0)return 0;var m=Math.max(o,c),b=Math.max(a,u),g=Math.min(s,d),v=Math.min(l,h),x=Math.max(g-m,0)*Math.max(v-b,0);return x/(f+p-x)}function RX(n,e,t){var r=Math.exp(e*t*t);return t<=n?r:0}function v3(n,e){return n.score-e.score||n.score===e.score&&e.boxIndex-n.boxIndex}function YT(n,e,t){var r=new Array(n.rank).fill(0),i=n.shape.slice();return e.map(function(o){i[t]=o;var a=n.slice(r,i);return r[t]+=o,a})}function XT(n,e){for(var t=new Array(n.rank),r=0;r<t.length;r++)t[r]=n.shape[r]*e[r];var i=Ue(t,n.dtype);for(r=0;r<i.values.length;++r){for(var o=i.indexToLoc(r),a=new Array(n.rank),s=0;s<a.length;s++)a[s]=o[s]%n.shape[s];var l=n.locToIndex(a);i.values[r]=n.values[l]}return i.toTensor()}function ZT(n,e,t,r,i){for(var o=e[e.length-1],a=[n.length/o,o],s=a[0],l=a[1],c=fd(t,s*r),u=fd("int32",s*r),d=0;d<s;d++){for(var h=d*l,f=n.subarray(h,h+l),p=[],m=0;m<f.length;m++)p.push({value:f[m],index:m});p.sort(function(y,w){return w.value-y.value});var b=d*r,g=c.subarray(b,b+r),v=u.subarray(b,b+r);for(m=0;m<r;m++)g[m]=p[m].value,v[m]=p[m].index}var x=e.slice();return x[x.length-1]=r,[An(c,x,t),An(u,x,"int32")]}function M1(n,e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(r);var i=Ue(n,"int32"),o=Ue([t.length,n.length],"int32");for(r=0;r<t.length;r++){var a=i.indexToLoc(t[r]),s=r*n.length;o.values.set(a,s)}return o.toTensor()}var DX=function(n,e){this.outputShape=[],this.outputShape=n,this.variableNames=e.map(function(i,o){return"T"+o});var t=[];this.variableNames.forEach(function(i){t.push("float v"+i+" = get"+i+"AtOutCoords();")});var r=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode="\n      void main() {\n        "+t.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},OX=function(n,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.variableNames=e.map(function(i,o){return"T"+o});var t=[];this.variableNames.forEach(function(i){t.push("vec4 v"+i+" = get"+i+"AtOutCoords();")});var r=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode="\n      void main() {\n        "+t.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},MX=function(n,e,t){this.variableNames=["A"];var r=n.windowSize,i=n.batchSize,o=n.inSize,a=Math.ceil(o/r);t||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];var s=e==="max"?">":"<",l=t?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function JT(n,e){return["x","y","z","w","u","v"].slice(0,e).map(function(t){return n+"."+t})}function ar(n,e){return e===1?[n]:JT(n,e)}function Ln(){var n,e,t,r,i,o,a,s,l,c;return oe().getNumber("WEBGL_VERSION")===2?(n="#version 300 es",e="in",t="out",r="in",i="texture",o="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",e="attribute",t="varying",r="varying",i="texture2D",o="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:e,varyingVs:t,varyingFs:r,texture2D:i,output:o,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function ps(n,e,t){t===void 0&&(t="index");var r=Wi(e);return r.map(function(i,o){return"int "+n[o]+" = "+t+" / "+i+"; "+(o===r.length-1?"int "+n[o+1]+" = "+t+" - "+n[o]+" * "+i:"index -= "+n[o]+" * "+i)+";"}).join("")}function B1(n){var e=Wi(n).map(function(t){return t.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+e[0]+" + coords.y * "+e[1]+" + coords.z;\n  }\n"}var QT="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function BX(n,e,t,r){var i=[];n.forEach(function(f){var p=Te(f.shapeInfo.logicalShape);f.shapeInfo.isUniform?i.push("uniform float "+f.name+(p>1?"["+p+"]":"")+";"):(i.push("uniform sampler2D "+f.name+";"),i.push("uniform int offset"+f.name+";"))});var o,a,s=i.join("\n"),l=n.map(function(f){return function(p,m,b){b===void 0&&(b=!1);var g="";g+=b?eA(p):El(p);var v=p.shapeInfo.logicalShape,x=m.logicalShape;return v.length<=x.length&&(g+=b?function(y,w){var E,C=y.name,S=C.charAt(0).toUpperCase()+C.slice(1),_="get"+S+"AtOutCoords",A=y.shapeInfo.logicalShape.length,D=w.logicalShape.length,I=ha(y.shapeInfo.logicalShape,w.logicalShape),M=_t(D),T=D-A,B=["x","y","z","w","u","v"];E=A===0?"":D<2&&I.length>=1?"coords = 0;":I.map(function(N){return"coords."+B[N+T]+" = 0;"}).join("\n");var L="";L=D<2&&A>0?"coords":y.shapeInfo.logicalShape.map(function(N,ee){return"coords."+B[ee+T]}).join(", ");var z="return outputValue;",U=Te(y.shapeInfo.logicalShape)===1,P=Te(w.logicalShape)===1;if(A!==1||U||P){if(U&&!P)z=D===1?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(I.length){var $=A-2,F=A-1;I.indexOf($)>-1&&I.indexOf(F)>-1?z="return vec4(outputValue.x);":I.indexOf($)>-1?z="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":I.indexOf(F)>-1&&(z="return vec4(outputValue.xx, outputValue.zz);")}}else z="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+_+"() {\n      "+M+" coords = getOutputCoords();\n      "+E+"\n      vec4 outputValue = get"+S+"("+L+");\n      "+z+"\n    }\n  "}(p,m):function(y,w){var E=y.name,C=E.charAt(0).toUpperCase()+E.slice(1),S="get"+C+"AtOutCoords",_=w.texShape,A=y.shapeInfo.texShape,D=y.shapeInfo.logicalShape.length,I=w.logicalShape.length;if(!y.shapeInfo.isUniform&&D===I&&y.shapeInfo.flatOffset==null&&wn(A,_))return"\n      float "+S+"() {\n        return sampleTexture("+E+", resultUV);\n      }\n    ";var M,T=_t(I),B=ha(y.shapeInfo.logicalShape,w.logicalShape),L=I-D,z=["x","y","z","w","u","v"];M=D===0?"":I<2&&B.length>=1?"coords = 0;":B.map(function(P){return"coords."+z[P+L]+" = 0;"}).join("\n");var U="";return U=I<2&&D>0?"coords":y.shapeInfo.logicalShape.map(function(P,$){return"coords."+z[$+L]}).join(", "),"\n    float "+S+"() {\n      "+T+" coords = getOutputCoords();\n      "+M+"\n      return get"+C+"("+U+");\n    }\n  "}(p,m)),g}(f,e,r)}).join("\n"),c=e.texShape,u=Ln(),d=function(f){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+f.texture2D+"(textureSampler, uv).r;\n    }\n  "}(u),h=function(f){return f.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+f.varyingFs+" vec2 resultUV;\n    "+f.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+f.defineSpecialNaN+"\n    "+f.defineSpecialInf+"\n    "+f.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+PX+"\n    "+LX+"\n    "+zX+"\n  "}(u);return e.isPacked?(o=function(f,p){switch(f.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(y,w){var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];return E[0]===1?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+E[1]+".0);\n      }\n    ":E[1]===1?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+E[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+E[0]+", "+E[1]+"));\n      return 2 * (resTexRC.x * "+E[1]+" + resTexRC.y);\n    }\n  "}(0,p);case 2:return function(y,w){var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];if(wn(y,w))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+E[0]+", "+E[1]+"));\n      }\n    ";var C=Math.ceil(y[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+E[0]+", "+E[1]+"));\n\n      int index = resTexRC.x * "+E[1]+" + resTexRC.y;\n      int r = 2 * (index / "+C+");\n      int c = imod(index, "+C+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(f,p);case 3:return m=f,b=p,g=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],v=Math.ceil(m[2]/2),x=v*Math.ceil(m[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+g[0]+", "+g[1]+"));\n      int index = resTexRC.x * "+g[1]+" + resTexRC.y;\n\n      int b = index / "+x+";\n      index -= b * "+x+";\n\n      int r = 2 * (index / "+v+");\n      int c = imod(index, "+v+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(y,w){for(var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],C=Math.ceil(y[y.length-1]/2),S=C*Math.ceil(y[y.length-2]/2),_=S,A="",D="b, r, c",I=2;I<y.length-1;I++)_*=y[y.length-I-1],A="\n      int b"+I+" = index / "+_+";\n      index -= b"+I+" * "+_+";\n    "+A,D="b"+I+", "+D;return"\n    ivec"+y.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+E[0]+", "+E[1]+"));\n      int index = resTexRC.x * "+E[1]+" + resTexRC.y;\n\n      "+A+"\n\n      int b = index / "+S+";\n      index -= b * "+S+";\n\n      int r = 2 * (index / "+C+");\n      int c = imod(index, "+C+") * 2;\n\n      return ivec"+y.length+"("+D+");\n    }\n  "}(f,p)}var m,b,g,v,x}(e.logicalShape,c),a=function(f){return"\n    void setOutput(vec4 val) {\n      "+f.output+" = val;\n    }\n  "}(u)):(o=function(f,p){switch(f.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(g,v){return v[0]===1?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+v[1]+".0);\n      }\n    ":v[1]===1?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+v[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+v[0]+", "+v[1]+"));\n      return resTexRC.x * "+v[1]+" + resTexRC.y;\n    }\n  "}(0,p);case 2:return function(g,v){return wn(g,v)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+v[0]+", "+v[1]+"));\n      }\n    ":g[1]===1?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+v[0]+", "+v[1]+"));\n        int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":g[0]===1?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+v[0]+", "+v[1]+"));\n        int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n      int r = index / "+g[1]+";\n      int c = index - r * "+g[1]+";\n      return ivec2(r, c);\n    }\n  "}(f,p);case 3:return m=p,b=ps(["r","c","d"],f),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+m[0]+", "+m[1]+"));\n      int index = resTexRC.x * "+m[1]+" + resTexRC.y;\n      "+b+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(g,v){var x=ps(["r","c","d","d2"],g);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n      "+x+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(f,p);case 5:return function(g,v){var x=ps(["r","c","d","d2","d3"],g);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+v[0]+",\n                             "+v[1]+"));\n\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n\n      "+x+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(f,p);case 6:return function(g,v){var x=ps(["r","c","d","d2","d3","d4"],g);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+v[0]+", "+v[1]+"));\n      int index = resTexRC.x * "+v[1]+" + resTexRC.y;\n\n      "+x+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(f,p);default:throw new Error(f.length+"-D output sampling is not yet supported")}var m,b}(e.logicalShape,c),a=function(f){return"\n    void setOutput(float val) {\n      "+f.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(u)),r&&(h+=jX),[h,d,a,s,o,l,t].join("\n")}function El(n){var e=n.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return"float "+i+"() {return "+r+";}";var o=t.shapeInfo.texShape,a=o[0],s=o[1];if(a===1&&s===1)return"\n      float "+i+"() {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var l=t.shapeInfo.texShape,c=l[0],u=l[1],d=Xa(r);return"\n    float "+i+"() {\n      vec2 uv = uvFromFlat("+c+", "+u+", "+d+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(n);case 1:return function(t){var r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return"\n      float "+i+"(int index) {\n        "+dl(t)+"\n      }\n    ";var o=t.shapeInfo.texShape,a=o[0],s=o[1];if(s===1&&a===1)return"\n      float "+i+"(int index) {\n        return sampleTexture("+r+", halfCR);\n      }\n    ";var l=Xa(r);return s===1?"\n      float "+i+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+l+") + 0.5) / "+a+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":a===1?"\n      float "+i+"(int index) {\n        vec2 uv = vec2((float(index + "+l+") + 0.5) / "+s+".0, 0.5);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int index) {\n      vec2 uv = uvFromFlat("+a+", "+s+", index + "+l+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(n);case 2:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=t.shapeInfo.texShape;if(a!=null&&wn(r,a)){var s=a[0],l=a[1];return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+l+".0, "+s+".0);\n      return sampleTexture("+i+", uv);\n    }\n  "}var c=as(r),u=c.newShape,d=c.keptDims,h=u;if(h.length<r.length){var f=Sl(t,h);return"\n      "+El(f)+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+Tl(["row","col"],d)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+r[1]+", 1)));\n        "+dl(t)+"\n      }\n    ";var p=a[0],m=a[1],b=Xa(i);return m===1?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+b+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+p+".0);\n      return sampleTexture("+i+", uv);\n    }\n  ":p===1?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+b+"), vec3("+r[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+m+".0, 0.5);\n      return sampleTexture("+i+", uv);\n    }\n  ":"\n  float "+o+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+r[1]+" + col + "+b+";\n    vec2 uv = uvFromFlat("+p+", "+m+", index);\n    return sampleTexture("+i+", uv);\n  }\n"}(n);case 3:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[1]*r[2],s=r[2],l=as(r),c=l.newShape,u=l.keptDims,d=c;if(d.length<r.length){var h=Sl(t,d);return"\n        "+El(h)+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+Tl(["row","col","depth"],u)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+s+", 1)));\n        "+dl(t)+"\n      }\n    ";var f=t.shapeInfo.texShape,p=f[0],m=f[1],b=t.shapeInfo.flatOffset;if(m===a&&b==null)return"\n        float "+o+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+s+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+m+".0, "+p+".0);\n          return sampleTexture("+i+", uv);\n        }\n      ";if(m===s&&b==null)return"\n    float "+o+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+r[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+m+".0, "+p+".0);\n      return sampleTexture("+i+", uv);\n    }\n  ";var g=Xa(i);return"\n      float "+o+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+s+" + depth + "+g+";\n        vec2 uv = uvFromFlat("+p+", "+m+", index);\n        return sampleTexture("+i+", uv);\n      }\n  "}(n);case 4:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[3],s=r[2]*a,l=r[1]*s,c=as(r),u=c.newShape,d=c.keptDims;if(u.length<r.length){var h=Sl(t,u);return"\n      "+El(h)+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+Tl(["row","col","depth","depth2"],d)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+l+", "+s+", "+a+", 1)));\n        "+dl(t)+"\n      }\n    ";var f=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,m=p[0],b=p[1];if(b===l&&f==null)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+b+".0, "+m+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(b===a&&f==null)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+r[1]*r[2]+", "+r[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+b+".0, "+m+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var g=Xa(i);return"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+l+" + col * "+s+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+m+", "+b+", index + "+g+");\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);case 5:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=r[4],s=r[3]*a,l=r[2]*s,c=r[1]*l,u=as(r),d=u.newShape,h=u.keptDims;if(d.length<r.length){var f=Sl(t,d);return"\n      "+El(f)+"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+o+"("+Tl(["row","col","depth","depth2","depth3"],h)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+c+", "+l+", "+s+", "+a+")) +\n          depth3;\n        "+dl(t)+"\n      }\n    ";var p=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,b=m[0],g=m[1];if(g===c&&p==null)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+l+", "+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+b+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(g===a&&p==null)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]+",\n               "+r[2]*r[3]+", "+r[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+b+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var v=Xa(i);return"\n    float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+c+" + col * "+l+" + depth * "+s+" +\n          depth2 * "+a+" + depth3 + "+v+";\n      vec2 uv = uvFromFlat("+b+", "+g+", index);\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);case 6:return function(t){var r=t.shapeInfo.logicalShape,i=t.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),a=as(r),s=a.newShape,l=a.keptDims;if(s.length<r.length){var c=Sl(t,s);return"\n      "+El(c)+"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+o+"("+Tl(["row","col","depth","depth2","depth3","depth4"],l)+");\n      }\n    "}var u=r[5],d=r[4]*u,h=r[3]*d,f=r[2]*h,p=r[1]*f;if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+p+", "+f+", "+h+", "+d+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+u+", 1)));\n        "+dl(t)+"\n      }\n    ";var m=t.shapeInfo.flatOffset,b=t.shapeInfo.texShape,g=b[0],v=b[1];if(v===p&&m==null)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+f+", "+h+", "+d+", "+u+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+g+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";if(v===u&&m==null)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+r[1]*r[2]*r[3]*r[4]+",\n               "+r[2]*r[3]*r[4]+",\n               "+r[3]*r[4]+",\n               "+r[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+g+".0);\n        return sampleTexture("+i+", uv);\n      }\n    ";var x=Xa(i);return"\n    float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+p+" + col * "+f+" + depth * "+h+" +\n          depth2 * "+d+" + depth3 * "+u+" + depth4 + "+x+";\n      vec2 uv = uvFromFlat("+g+", "+v+", index);\n      return sampleTexture("+i+", uv);\n    }\n  "}(n);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function eA(n){var e,t,r;switch(n.shapeInfo.logicalShape.length){case 0:return e=n.name,t="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Ln(),"\n    vec4 "+t+"() {\n      return "+r.texture2D+"("+e+", halfCR);\n    }\n  ";case 1:return function(i){var o=i.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),s=i.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=Ln();return"\n    vec4 "+a+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+l[0]+", "+l[1]+", index);\n      return "+c.texture2D+"("+o+", uv);\n    }\n  "}(n);case 2:return function(i){var o=i.shapeInfo.logicalShape,a=i.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),l=i.shapeInfo.texShape,c=l[0],u=l[1],d=Ln();if(l!=null&&wn(o,l))return"\n      vec4 "+s+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+u+".0, "+c+".0);\n\n        return "+d.texture2D+"("+a+", uv);\n      }\n    ";var h=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],f=Math.ceil(o[1]/2);return"\n    vec4 "+s+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+f+", "+h[0]+", "+h[1]+", row, col);\n      return "+d.texture2D+"("+a+", uv);\n    }\n  "}(n);case 3:return function(i){var o=i.shapeInfo.logicalShape,a=i.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),l=i.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(o[0]===1){var u=o.slice(1),d=Sl(i,u);return"\n        "+eA(d)+"\n        vec4 "+s+"(int b, int row, int col) {\n          return "+s+"("+Tl(["b","row","col"],[1,2])+");\n        }\n      "}var h=c[0],f=c[1],p=Math.ceil(o[2]/2),m=p*Math.ceil(o[1]/2),b=Ln();return"\n    vec4 "+s+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+h+", "+f+", "+m+", "+p+", b, row, col);\n      return "+b.texture2D+"("+a+", uv);\n    }\n  "}(n);default:return function(i){for(var o=i.shapeInfo.logicalShape,a=o.length,s=i.name,l="get"+s.charAt(0).toUpperCase()+s.slice(1),c=i.shapeInfo.texShape,u=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],d=u[0],h=u[1],f=Math.ceil(o[a-1]/2),p=f*Math.ceil(o[a-2]/2),m="int b, int row, int col",b="b * "+p+" + (row / 2) * "+f+" + (col / 2)",g=2;g<a-1;g++)m="int b"+g+", "+m,p*=o[a-g-1],b="b"+g+" * "+p+" + "+b;var v=Ln();return"\n    vec4 "+l+"("+m+") {\n      int index = "+b+";\n      int texR = index / "+h+";\n      int texC = index - texR * "+h+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+", "+d+");\n      return "+v.texture2D+"("+s+", uv);\n    }\n  "}(n)}}var PX="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",LX="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",zX="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",jX="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Xa(n){return"offset"+n}function dl(n){var e=n.name,t=Te(n.shapeInfo.logicalShape);return t<2?"return "+e+";":"\n    for (int i = 0; i < "+t+"; i++) {\n      if (i == index) {\n        return "+e+"[i];\n      }\n    }\n  "}function _t(n){if(n<=1)return"int";if(n===2)return"ivec2";if(n===3)return"ivec3";if(n===4)return"ivec4";if(n===5)return"ivec5";if(n===6)return"ivec6";throw Error("GPU for rank "+n+" is not yet supported")}function Sl(n,e){var t=JSON.parse(JSON.stringify(n));return t.shapeInfo.logicalShape=e,t}function Tl(n,e){return e.map(function(t){return n[t]}).join(", ")}var NX=function(n,e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,W(n.length>2,function(){return"Packed arg"+(t.charAt(0).toUpperCase()+t.slice(1))+" supports only inputs with rank above 2."});var i=n[n.length-1],o=Math.ceil(i/e);this.outputShape=n.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var a,s,l=this.outputShape,c=l.length,u=_t(c),d=ar("coords",c);if(o===1){var h=_t(s=c+1);a="\n        "+h+" sourceLocR = "+h+"("+d.join()+", 0);\n        ++"+d[c-1]+";\n        "+h+" sourceLocG = "+h+"("+d.join()+", 0);\n        ++"+d[c-2]+";\n        "+h+" sourceLocA = "+h+"("+d.join()+", 0);\n        --"+d[c-1]+";\n        "+h+" sourceLocB = "+h+"("+d.join()+", 0);\n        --"+d[c-2]+";"}else s=c,a="\n        "+u+" sourceLocR = coords;\n        ++"+d[c-1]+";\n        "+u+" sourceLocG = coords;\n        ++"+d[c-2]+";\n        "+u+" sourceLocA = coords;\n        --"+d[c-1]+";\n        "+u+" sourceLocB = coords;\n        --"+d[c-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),p="."+f[s-1],m=f.map(function(S){return"int "+S}),b=ar("sourceLocR",s-1).concat("inIdx.r"),g=ar("sourceLocG",s-1).concat("inIdx.g"),v=ar("sourceLocB",s-1).concat("inIdx.b"),x=ar("sourceLocA",s-1).concat("inIdx.a"),y=t==="max"?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+b.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+x.join()+")));",E="vec4(\n            getAChannel("+b.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+v.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+x.join()+") : 0.)",C=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+C+"\n      void main() {\n        "+u+" coords = getOutputCoords();\n        bool hasNextCol = "+d[c-1]+" < "+(l[c-1]-1)+";\n        bool hasNextRow = "+d[c-2]+" < "+(l[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+e+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+E+";\n\n        for (int i = 0; i < "+e+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+E+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+y+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},FX=function(n){this.variableNames=["dy"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.effectiveFilterHeight,l=n.effectiveFilterWidth,c=s-1-n.padInfo.top,u=l-1-n.padInfo.left,d=1/(e*t);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+u+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$X=function(n){this.variableNames=["dy"],this.outputShape=n.inShape;var e=n.filterDepth,t=n.filterHeight,r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.effectiveFilterDepth,d=n.effectiveFilterHeight,h=n.effectiveFilterWidth,f=u-1-n.padInfo.front,p=d-1-n.padInfo.top,m=h-1-n.padInfo.left,b=1/(e*t*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float avgMultiplier = float("+b+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+n.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+d+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},UX=function(n,e,t,r,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],nt(n,e),nt(n,t);var a="0.0";r!=null&&(nt(n,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";i!=null&&(nt(n,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=n,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},HX=function(n,e,t,r,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nt(n,e),nt(n,t);var a="vec4(0.0)";r!=null&&(nt(n,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";i!=null&&(nt(n,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=n,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},WX="return areal * breal - aimag * bimag;",VX="return areal * bimag + aimag * breal;",x3=function(n,e,t){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nt(e,t),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+n+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},$0="return a + b;",U0="return a - b;",y3="return a * b;",tA="return (a < 0.) ? b * a : a;",Lt=function(n,e,t){this.variableNames=["A","B"],this.outputShape=nt(e,t),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+n+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},nA="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",co=function(n,e,t,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nt(e,t);var i=this.outputShape.length,o="";if(r)if(i===0||Te(this.outputShape)===1)o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+_t(i)+" coords = getOutputCoords();\n        ",i===1)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=ar("coords",i);o+="\n            bool nextRowOutOfBounds =\n              ("+a[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+a[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+n+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},qX=function(){function n(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e,t){var r=this;return function(i,o){r.minLoc==null&&(r.minLoc=i.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=i.getUniformLocationNoThrow(o,"maxVal")),i.gl.uniform1f(r.minLoc,e),i.gl.uniform1f(r.maxLoc,t)}},n}(),GX=function(){function n(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e,t){var r=this;return function(i,o){r.minLoc==null&&(r.minLoc=i.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=i.getUniformLocationNoThrow(o,"maxVal")),i.gl.uniform1f(r.minLoc,e),i.gl.uniform1f(r.maxLoc,t)}},n}(),KX=function(n){this.variableNames=["real","imag"],this.outputShape=n,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},YX=function(n){this.outputShape=[],this.outputShape=Cc(n,1),this.variableNames=n.map(function(s,l){return"T"+l});var e=new Array(n.length-1);e[0]=n[0][1];for(var t=1;t<e.length;t++)e[t]=e[t-1]+n[t][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(t=1;t<e.length;t++){var i=e[t-1];r.push("else if (yC < "+e[t]+") setOutput(getT"+t+"(yR, yC-"+i+"));")}var o=e.length,a=e[e.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},XX=function(n,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Cc(n,e);var t=this.outputShape,r=t.length,i=_t(r),o=ar("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=n.map(function(b,g){return"T"+g});var s=new Array(n.length-1);s[0]=n[0][e];for(var l=1;l<s.length;l++)s[l]=s[l-1]+n[l][e];var c=a[e],u=a.slice(-2),d=a.join(),h="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+d+"), vec2("+u.join()+"));\n        }";for(l=1;l<s.length;l++){var f=s[l-1];h+="\n        if ("+c+" < "+s[l]+"  && "+c+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+$h(a,c,f)+"),\n            vec2("+$h(u,c,f)+"));\n        }"}var p=s.length,m=s[s.length-1];h+="\n        return getChannel(\n          getT"+p+"("+$h(a,c,m)+"),\n          vec2("+$h(u,c,m)+"));",this.userCode="\n      float getValue("+a.map(function(b){return"int "+b})+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+t[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+t[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+t[r-2]+" &&\n            "+o[r-1]+" < "+t[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function $h(n,e,t){var r=n.indexOf(e);return n.map(function(i,o){return o===r?i+" - "+t:i}).join()}var ZX=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideHeight,t=n.strideWidth,r=n.padInfo.top,i=n.padInfo.left,o=n.dataFormat==="channelsLast";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n              int xC = wC + yC * "+t+" - "+i+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},JX=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=n.dataFormat==="channelsLast",a=e-1-n.padInfo.top,s=t-1-n.padInfo.left,l=o?1:2,c=o?2:3,u=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+u+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+t+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+t+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+n.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},QX=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideDepth,t=n.strideHeight,r=n.strideWidth,i=n.padInfo.front,o=n.padInfo.top,a=n.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yF = 0; yF < "+n.outDepth+"; yF++) {\n            int xF = wF + yF * "+e+" - "+i+";\n\n            if (xF < 0 || xF >= "+n.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n              int xR = wR + yR * "+t+" - "+o+";\n\n              if (xR < 0 || xR >= "+n.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+n.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},eZ=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterDepth,t=n.filterHeight,r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=e-1-n.padInfo.front,l=t-1-n.padInfo.top,c=r-1-n.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+n.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+t+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+t+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+n.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},tZ=function(n){this.variableNames=["x","dy"],this.outputShape=n.filterShape;var e=n.strideHeight,t=n.strideWidth,r=n.padInfo.top,i=n.padInfo.left,o=n.outChannels/n.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+n.batchSize+"; b++) {\n          for (int yR = 0; yR < "+n.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+n.outWidth+"; yC++) {\n              int xC = wC + yC * "+t+" - "+i+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},nZ=function(n){this.variableNames=["dy","W"],this.outputShape=n.inShape;var e=n.filterHeight,t=n.filterWidth,r=n.strideHeight,i=n.strideWidth,o=e-1-n.padInfo.top,a=t-1-n.padInfo.left,s=n.outChannels/n.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+t+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+t+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},w3=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=n.outShape;var i=n.padInfo.top,o=n.padInfo.left,a=n.strideHeight,s=n.strideWidth,l=n.dilationHeight,c=n.dilationWidth,u=n.filterHeight,d=n.filterWidth,h=4*Math.floor(n.inChannels/4),f=n.inChannels%4,p=n.dataFormat==="channelsLast",m=p?1:2,b=p?2:3,g=p?3:1,v="",x="";t&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"\n          float activation(float x) {\n            "+t+"\n          }\n        ",x="result = activation(result);");var y=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+b+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+n.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+n.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(f===1)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(f===2)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(f===3)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+y+"\n        "+x+"\n        setOutput(result);\n      }\n    "},rZ=function(n){this.variableNames=["x","W"],this.outputShape=n.outShape;var e=n.padInfo.front,t=n.padInfo.top,r=n.padInfo.left,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.filterDepth,d=n.filterHeight,h=n.filterWidth,f=4*Math.floor(n.inChannels/4),p=n.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+e+", "+t+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+u+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+n.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(p===1)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(p===2)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(p===3)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},k3=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=n.outShape;var i=n.inHeight,o=n.inWidth,a=n.padInfo.top,s=n.padInfo.left,l=n.strideHeight,c=n.strideWidth,u=n.dilationHeight,d=n.dilationWidth,h=n.filterHeight,f=n.filterWidth,p=n.outChannels/n.inChannels,m="",b="";t&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"\n          float activation(float x) {\n            "+t+"\n          }\n        ",b="result = activation(result);");var g=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+d+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+b+"\n        setOutput(result);\n      }\n    "},_3=function(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.outShape;for(var i=n.inHeight,o=n.inWidth,a=n.padInfo.top,s=n.padInfo.left,l=n.strideHeight,c=n.strideWidth,u=n.dilationHeight,d=n.dilationWidth,h=n.filterHeight,f=n.filterWidth,p=f,m="int xR; int xC; int xCOffset;",b=0;b<h;b++)for(var g=0;g<f;g++)m+="\n          vec4 xTexelR"+b+"C"+2*g+" = vec4(0.);\n          vec4 wR"+b+"C"+g+" = vec4(0.);\n          vec4 xR"+b+"C"+g+" = vec4(0.);";for(b=0;b<h;b++)for(var v=0;v<p;v++){if(m+="\n          xR = xRCorner + "+b*u+";\n          xC = xCCorner + "+(g=2*v)*d+";\n        ",c===1){if(g<f&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    xTexelR"+b+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+o+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+b+"C"+g+" = vec4(previous.zw, xTexelR"+b+"C"+g+".xy);\n                } else {\n                  xR"+b+"C"+g+" = vec4(0, 0, xTexelR"+b+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = xTexelR"+b+"C"+g+";\n              ",g+1<f)){var x=s%2==0?yT(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+x+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",d>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+b+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+b+"C"+(g+1)+" = vec4(\n                    xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+x+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+b+"C"+(g+1)+" = xTexelR"+b+"C"+(g+2)+";\n                "}}else g<f&&(m+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+b+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = vec4(\n                  xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".zw);\n              ",g+1<f&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+b+"C"+(g+1)+" = vec4(xTexelR"+b+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+b+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+b+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+b+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+b+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+b+"C"+g+" = vec4(\n                  xTexelR"+b+"C"+g+".xy, xTexelR"+b+"C"+(g+2)+".xy);\n              ",g+1<f&&(m+="\n                  xR"+b+"C"+(g+1)+" = vec4(\n                    xTexelR"+b+"C"+g+".zw, xTexelR"+b+"C"+(g+2)+".zw);\n                ")),m+="}");g<f&&(m+="\n            vec4 wTexelR"+b+"C"+g+" = getW("+b+", "+g+", d1, q);\n            wR"+b+"C"+g+" = vec4(wTexelR"+b+"C"+g+".xz, wTexelR"+b+"C"+g+".xz);\n          ",g+1<f&&(m+="\n              vec4 wTexelR"+b+"C"+(g+1)+" = getW("+b+", "+(g+1)+", d1, q);\n              wR"+b+"C"+(g+1)+" =\n                vec4(wTexelR"+b+"C"+(g+1)+".xz, wTexelR"+b+"C"+(g+1)+".xz);"))}for(b=0;b<h;b++)for(g=0;g<f;g++)m+="dotProd += xR"+b+"C"+g+" * wR"+b+"C"+g+";";var y="",w="";t&&(y=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+t+"\n        }":"vec4 activation(vec4 x) {\n          "+t+"\n        }",w="result = activation(result);");var E=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+E+"\n        "+w+"\n        setOutput(result);\n      }\n    "},iZ=function(n,e,t,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=n[0],a=n[1],s=n[2],l=n[3],c=e[0],u=t[0],d=t[1];this.outputShape=[c,u,d,l];var h=r==="bilinear"?1:0,f=[a-1+".0",s-1+".0"],p=f[0],m=f[1],b=u>1?[""+(a-1)/(u-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],g=b[0],v=b[1],x=b[2],y=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=y[0],E=y[1],C=y[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+v+";\n        float width_scale = "+E+";\n\n        float in_y = "+x+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+C+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},oZ=function(n,e,t){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=n[n.length-1],o=t?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(t?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+_t(r)+" coords = getOutputCoords();\n        int end = "+C3(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+C3(r,"coords")+" = idx;\n          val += getX("+function(a,s){if(a===1)return""+s;if(a===2)return s+".x, "+s+".y";if(a===3)return s+".x, "+s+".y, "+s+".z";if(a===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+a+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function C3(n,e){if(n===1)return""+e;if(n===2)return e+".y";if(n===3)return e+".z";if(n===4)return e+".w";throw Error("Cumulative sum for rank "+n+" is not yet supported")}var aZ=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=md.DENSE;var e=zu(n),t=Ln();this.outputShape=n,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+ps(["r","c","d"],n)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+t.output+" = result;\n      }\n    "},sZ=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=md.DENSE;var e=zu(n),t=Ln();this.outputShape=n,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+ps(["r","c","d"],n)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+e[0]+", "+e[1]+"));\n        int index = 4 * (resTexRC.x * "+e[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+t.output+" = result;\n      }\n    "},lZ=function(){function n(e,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return n.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},n.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},n.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},n.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},n.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},n}(),cZ=function(n){this.variableNames=["X"],this.outputShape=[n,n],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},uZ=function(n){this.variableNames=["A"],this.outTexUsage=_r.DOWNLOAD;var e=Ln();this.outputShape=n,this.userCode="\n      "+QT+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+e.output+" = encode_float(x);\n      }\n    "},dZ=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=_r.DOWNLOAD;var e=Ln();this.outputShape=n,this.userCode="\n      "+QT+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+e.output+" = encode_float(x);\n      }\n    "},hZ=function(n,e,t){t===void 0&&(t=!1),this.variableNames=["A"];var r=Ln(),i=e[0],o=e[1];this.outputShape=n;var a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+B1(n)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},fZ=function(n,e,t){t===void 0&&(t=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Ln(),i=e[0],o=e[1];this.outputShape=n;var a="",s="result";t&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var c=0;c<=1;c++){var u=2*l+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+n[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+l+" < "+n[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+u+"] = values[0];\n              } else if(offset == 1) {\n                result["+u+"] = values[1];\n              } else if(offset == 2) {\n                result["+u+"] = values[2];\n              } else {\n                result["+u+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+B1(n)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},pZ="return real * expR - imag * expI;",mZ="return real * expI + imag * expR;",E3=function(n,e,t){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var i=t?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=t?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+n+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},gZ=function(){function n(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;return function(r,i){t.valueLoc==null&&(t.valueLoc=r.getUniformLocationNoThrow(i,"value")),r.gl.uniform1f(t.valueLoc,e)}},n}(),bZ=function(n,e,t){this.variableNames=["A","indices"];var r=n.slice();r[t]=e,this.outputShape=r,this.rank=r.length;var i=_t(this.rank),o=function(a,s){var l=a.length;if(l>4)throw Error("Gather for rank "+l+" is not yet supported");if(l===1)return"int(getIndices(resRC))";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],d=0;d<a.length;d++)d===s?u.push("int(getIndices("+c[d]+"))"):u.push(""+c[d]);return u.join()}(n,t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},vZ=function(n,e,t){this.sliceDim=n,this.strides=e,this.variableNames=["x","indices"],this.outputShape=t;var r=_t(e.length),i=_t(t.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function xZ(n,e){var t=Ln();return pY(n,e,t.version+"\n    precision highp float;\n    "+t.attribute+" vec3 clipSpacePos;\n    "+t.attribute+" vec2 uv;\n    "+t.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function yZ(n,e){return xY(n,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function wZ(n,e){return yY(n,e,new Uint16Array([0,1,2,2,1,3]))}function Yd(n,e,t,r,i,o,a){kY(t,r);var s=wY(n,e),l=n.TEXTURE_2D;return Ie(n,e,function(){return n.bindTexture(l,s)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_MIN_FILTER,n.NEAREST)}),Ie(n,e,function(){return n.texParameteri(l,n.TEXTURE_MAG_FILTER,n.NEAREST)}),Ie(n,e,function(){return n.texImage2D(l,0,i,t,r,0,o,a,null)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)}),s}function kZ(n,e,t,r,i){var o=Zm(t,r);return Yd(n,e,o[0],o[1],i.internalFormatFloat,i.textureFormatFloat,n.FLOAT)}function _Z(n,e,t,r,i){var o=Zm(t,r);return Yd(n,e,o[0],o[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function CZ(n,e,t,r,i){var o=Zm(t,r);return Yd(n,e,o[0],o[1],n.RGBA,n.RGBA,n.UNSIGNED_BYTE)}function EZ(n,e,t,r,i){var o=Kd(t,r);return Yd(n,e,o[0],o[1],i.internalFormatPackedFloat,n.RGBA,n.FLOAT)}function SZ(n,e,t,r,i){var o=Kd(t,r);return Yd(n,e,o[0],o[1],i.internalFormatPackedHalfFloat,n.RGBA,i.textureTypeHalfFloat)}function TZ(n,e,t,r){return Ie(n,e,function(){return n.bindBuffer(n.ARRAY_BUFFER,r)}),h3(n,e,t,"clipSpacePos",r,3,20,0)&&h3(n,e,t,"uv",r,2,20,12)}function AZ(n,e,t,r,i,o,a){var s,l,c;Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)}),o instanceof Uint8Array?(s=new Uint8Array(r*i*4),l=n.UNSIGNED_BYTE,c=n.RGBA):(s=new Float32Array(r*i*4),l=n.FLOAT,c=a.internalFormatPackedFloat),s.set(o),Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,c,r,i,0,n.RGBA,l,s)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)})}function IZ(n,e,t,r){Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,t)}),r.data instanceof Uint8Array?Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r.width,r.height,0,n.RGBA,n.UNSIGNED_BYTE,r.data)}):Ie(n,e,function(){return n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)}),Ie(n,e,function(){return n.bindTexture(n.TEXTURE_2D,null)})}function RZ(n,e,t,r,i){var o=n.createBuffer();Ie(n,e,function(){return n.bindBuffer(n.PIXEL_PACK_BUFFER,o)});var a=16*t*r;return Ie(n,e,function(){return n.bufferData(n.PIXEL_PACK_BUFFER,a,n.STREAM_READ)}),Ie(n,e,function(){return n.readPixels(0,0,r,t,n.RGBA,n.FLOAT,0)}),Ie(n,e,function(){return n.bindBuffer(n.PIXEL_PACK_BUFFER,null)}),o}function DZ(n,e,t){var r=n,i=new Float32Array(t);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function OZ(n,e,t,r,i){var o=Zm(t,r),a=o[0],s=o[1],l=new Uint8Array(t*r*4);return Ie(n,e,function(){return n.readPixels(0,0,a,s,i.downloadTextureFormat,n.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function MZ(n,e,t,r,i,o,a,s){var l=n,c=new Float32Array(function(u,d){var h=Kd(u,d);return h[0]*h[1]*4}(o,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function BZ(n,e,t,r){var i=new Float32Array(t*r*4);return Ie(n,e,function(){return n.readPixels(0,0,r,t,n.RGBA,n.FLOAT,i)}),i}var PZ=function(){function n(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=oe().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,cY(t,e)):this.gl=Ji(t);var r="WEBGL_color_buffer_float";if(oe().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=zh(this.gl,this.debug,"OES_texture_float"),Zr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=zh(this.gl,this.debug,"OES_texture_half_float");else if(oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Zr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=zh(this.gl,this.debug,"EXT_color_buffer_half_float");else if(oe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Zr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Zr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=yZ(this.gl,this.debug),this.indexBuffer=wZ(this.gl,this.debug),this.framebuffer=_Y(this.gl,this.debug),this.textureConfig=C1(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(n.prototype,"debug",{get:function(){return oe().getBool("DEBUG")},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Ie(t,this.debug,function(){return t.finish()}),Ie(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Ie(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),Ie(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Ie(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Ie(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},n.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),kZ(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),_Z(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),CZ(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),IZ(this.gl,this.debug,e,t)},n.prototype.uploadDenseMatrixToTexture=function(e,t,r,i){this.throwIfDisposed(),AZ(this.gl,this.debug,e,t,r,i,this.textureConfig)},n.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),SZ(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),EZ(this.gl,this.debug,e,t,this.textureConfig)},n.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(f3(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ie(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},n.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,r){var i=this;return this.downloadMatrixDriver(e,function(){return OZ(i.gl,i.debug,t,r,i.textureConfig)})},n.prototype.downloadPackedMatrixFromBuffer=function(e,t,r,i,o,a){return MZ(this.gl,e,0,0,0,o,a,this.textureConfig)},n.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return DZ(this.gl,e,t)},n.prototype.createBufferFromTexture=function(e,t,r){this.bindTextureToFrameBuffer(e);var i=RZ(this.gl,this.debug,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),i},n.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},n.prototype.createFence=function(e){var t,r,i=this;if(oe().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var s=o.clientWaitSync(a,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},t=a}else oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return i.isQueryAvailable(t,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}},n.prototype.downloadMatrixFromPackedTexture=function(e,t,r){var i=this;return this.downloadMatrixDriver(e,function(){return BZ(i.gl,i.debug,t,r)})},n.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,r=mY(t,this.debug,e),i=xZ(t,this.debug),o=bY(t,this.debug);return Ie(t,this.debug,function(){return t.attachShader(o,i)}),Ie(t,this.debug,function(){return t.attachShader(o,r)}),vY(t,this.debug,o),this.debug&&z0(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=TZ(t,this.debug,this.program,this.vertexBuffer)),o},n.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&Ie(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},n.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&z0(this.gl,this.debug,this.program),Ie(this.gl,this.debug,function(){return t.gl.useProgram(e)})},n.prototype.getUniformLocation=function(e,t,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?EY(this.gl,this.debug,e,t):SY(this.gl,e,t)},n.prototype.getAttributeLocation=function(e,t){var r=this;return this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return r.gl.getAttribLocation(e,t)})},n.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},n.prototype.setInputMatrixTexture=function(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),TY(this.gl,this.debug,this.program,e,t,r)},n.prototype.setOutputMatrixTexture=function(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)},n.prototype.setOutputPackedMatrixTexture=function(e,t,r){this.throwIfDisposed();var i=Kd(t,r),o=i[0],a=i[1];this.setOutputMatrixTextureDriver(e,o,a)},n.prototype.setOutputMatrixWriteRegion=function(e,t,r,i){this.setOutputMatrixWriteRegionDriver(r,e,i,t)},n.prototype.setOutputPackedMatrixWriteRegion=function(e,t,r,i){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},n.prototype.debugValidate=function(){this.program!=null&&z0(this.gl,this.debug,this.program),jh(this.gl)},n.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Ie(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},n.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return e.gl.finish()})},n.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=zh(this.gl,this.debug,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},n.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},n.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},n.prototype.beginQuery=function(){if(oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}var i=this.getQueryTimerExtensionWebGL1(),o=i.createQueryEXT();return i.beginQueryEXT(i.TIME_ELAPSED_EXT,o),o},n.prototype.endQuery=function(){if(oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,r=this.getQueryTimerExtensionWebGL2();t.endQuery(r.TIME_ELAPSED_EXT)}},n.prototype.waitForQueryAndGetTime=function(e){return Ee(this,void 0,void 0,function(){var t=this;return Se(this,function(r){switch(r.label){case 0:return[4,a3(function(){return t.disposed||t.isQueryAvailable(e,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},n.prototype.getQueryTime=function(e,t){if(t===0)return null;if(t===2){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6},n.prototype.isQueryAvailable=function(e,t){if(t===0)return!0;if(t===2){var r=this.gl,i=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(i=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint},n.prototype.pollFence=function(e){var t=this;return new Promise(function(r){t.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},n.prototype.pollItems=function(){for(var e=function(r){for(var i=0;i<r.length&&r[i]();++i);return i-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},n.prototype.addItemToPoll=function(e,t){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||a3(function(){return r.pollItems(),r.itemsToPoll.length===0})},n.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),j0(this.gl,this.debug,e,this.framebuffer),this.debug&&jh(this.gl)},n.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(j0(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&jh(this.gl)):f3(this.gl,this.debug,this.framebuffer)},n.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var r=t();return this.unbindTextureToFrameBuffer(),r},n.prototype.setOutputMatrixTextureDriver=function(e,t,r){this.throwIfDisposed();var i=this.gl;j0(i,this.debug,e,this.framebuffer),this.debug&&jh(i),this.outputTexture=e,Ie(i,this.debug,function(){return i.viewport(0,0,t,r)}),Ie(i,this.debug,function(){return i.scissor(0,0,t,r)})},n.prototype.setOutputMatrixWriteRegionDriver=function(e,t,r,i){var o=this;this.throwIfDisposed(),Ie(this.gl,this.debug,function(){return o.gl.scissor(e,t,r,i)})},n.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},n.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},n}();function S3(n,e){if(n.length!==e.length)throw Error("Binary was compiled with "+n.length+" inputs, but was executed with "+e.length+" inputs");n.forEach(function(t,r){var i=t.logicalShape,o=e[r],a=o.shape;if(!wn(i,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+i+" and "+a+" must match");if(!t.isUniform||!o.isUniform){var s=t.texShape,l=o.isUniform?null:o.texData.texShape;if(!wn(s,l))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+l+" must match")}})}var LZ=function(n,e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;for(var r=t.filterWidth,i=t.inChannels,o=t.strideWidth,a=t.strideHeight,s=t.padInfo,l=t.outWidth,c=t.dilationWidth,u=t.dilationHeight,d=t.dataFormat,h=s.left,f=s.top,p=i*r,m=Ln(),b=d==="channelsLast",g=b?0:1,v=b?1:2,x="",y=0;y<=1;y++)for(var w=0;w<=1;w++)x+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+y+";\n\n          if(blockIndex < "+n[1]+" && pos < "+n[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+a+" - "+f+";\n            d0 = offsetY + "+u+" * (pos / "+p+");\n\n            if(d0 < "+e[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+o+". - "+h+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+p+".) / "+i+".));\n\n              if(d1 < "+e[v]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+b+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*y+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*y+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+x+"\n\n        "+m.output+" = result;\n      }\n    "},zZ=function(n,e,t,r,i){this.variableNames=["x"],this.outputShape=[];var o,a=e,s=n[3]-1;this.outputShape=n;var l="float("+t+") + float("+r+") * sum";o=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},jZ=function(n,e,t,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=n,this.depth=n[3],this.depthRadius=e,this.bias=t,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+t+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},NZ=function(n,e,t,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,a=e,s=n[3]-1;this.outputShape=n;var l="float("+t+") + float("+r+") * sum";o=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},FZ=function(n){this.variableNames=["dy","maxPos"],this.outputShape=n.inShape;var e=n.strideHeight,t=n.strideWidth,r=n.dilationHeight,i=n.effectiveFilterHeight,o=n.effectiveFilterWidth,a=i-1-n.padInfo.top,s=o-1-n.padInfo.left,l=i*o-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+e+".0;\n\n          if (dyR < 0.0 || dyR >= "+n.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t+".0;\n\n            if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$Z=function(n){this.variableNames=["dy","maxPos"],this.outputShape=n.inShape;var e=n.strideDepth,t=n.strideHeight,r=n.strideWidth,i=n.dilationDepth,o=n.dilationHeight,a=n.dilationWidth,s=n.effectiveFilterDepth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,u=s-1-n.padInfo.front,d=l-1-n.padInfo.top,h=c-1-n.padInfo.left,f=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3("+u+", "+d+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+e+".0;\n\n          if (dyD < 0.0 || dyD >= "+n.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+t+".0;\n\n            if (dyR < 0.0 || dyR >= "+n.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+n.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},H0=function(n,e,t,r,i,o,a){t===void 0&&(t=!1),r===void 0&&(r=!1),i===void 0&&(i=!1),o===void 0&&(o=null),a===void 0&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=t?n[1]:n[2],l=Math.ceil(s/2),c=t?"i * 2, rc.y":"rc.y, i * 2",u=r?"rc.z, i * 2":"i * 2, rc.z",d=t?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",p="";o&&(f=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",p="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+u+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+d[0]+" * "+h[0]+");\n          result += ("+d[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},UZ=function(){function n(e,t,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;return function(r,i){t.seedLoc==null&&(t.seedLoc=r.getUniformLocation(i,"seed")),r.gl.uniform1f(t.seedLoc,e)}},n}(),HZ=function(n,e,t,r){this.variableNames=["indices"],this.outputShape=[n,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+t+"),\n                      float(index == coords.y)));\n      }\n    "},WZ=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=n;var e=n.length;if(e===0)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var t=ar("rc",e),r=_t(e),i=function(s,l,c){if(s===1)return"rc > "+l[0];for(var u="",d=s-2;d<s;d++)u+=c[d]+" >= "+l[d],d<s-1&&(u+="||");return u}(e,n,t),o=function(s,l,c,u){if(s===1)return"";var d=u.slice(-2);return"\n    int r = "+d[0]+";\n    int c = "+d[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+l+";\n    bool rEdge = rp1 >= "+c+";\n  "}(e,n[n.length-1],n[n.length-2],t),a=function(s,l){var c=s.length,u=function(d,h){for(var f=[],p=0;p<=1;p++)for(var m=0;m<=1;m++){for(var b=(p===0?"r":"rp1")+", "+(m===0?"c":"cp1"),g=2;g<d;g++)b=h[h.length-1-g]+","+b;f.push(b)}return f}(c,l);return c===1?"getA(rc),\n            rc + 1 >= "+s[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+u[0]+"),\n          cEdge ? 0. : getA("+u[1]+"),\n          rEdge ? 0. : getA("+u[2]+"),\n          rEdge || cEdge ? 0. : getA("+u[3]+")"}(n,t);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},VZ=function(n,e,t){this.variableNames=["x"],this.outputShape=e.map(function(l,c){return l[0]+n[c]+l[1]});var r=n.length,i=_t(r),o=e.map(function(l){return l[0]}).join(","),a=e.map(function(l,c){return l[0]+n[c]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+t+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+t+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},qZ=function(n,e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(b,g){return b[0]+n[g]+b[1]});for(var r=n.length,i=_t(r),o=e.map(function(b){return b[0]}).join(","),a=e.map(function(b,g){return b[0]+n[g]}).join(","),s=ar("rc",r),l=ar("source",r),c=s[r-1]+" < "+this.outputShape[r-1],u=r===1?"source":"vec2("+l.slice(-2).join()+")",d=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",r===1?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],h=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",p=0,m=r===1?2:4;p<m;p++)f+="\n        "+d[p]+"\n        if ("+h+") {\n          result["+p+"] = float("+t+");\n        } else {\n          "+i+" source = rc - start;\n          result["+p+"] = getChannel(getX("+l.join()+"), "+u+");\n        }\n      ";f+=r===1?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+o+");\n      const "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},W0=function(n,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=n.filterWidth,i=n.strideHeight,o=n.strideWidth,a=n.dilationHeight,s=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,u=n.padInfo.top,d=n.padInfo.left;this.outputShape=n.outShape;var h=e==="avg",f="0.0";if(h||(f="-1.0 / 1e-20"),t)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+u+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+n.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(p="avgValue / count");var m=4*Math.floor(r/4),b=r%4,g="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+u+", "+d+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+n.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+n.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(b===1)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(b===2)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(b===3)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},V0=function(n,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=n.filterWidth,i=n.strideDepth,o=n.strideHeight,a=n.strideWidth,s=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,u=n.effectiveFilterDepth,d=n.effectiveFilterHeight,h=n.effectiveFilterWidth,f=n.padInfo.front,p=n.padInfo.top,m=n.padInfo.left;this.outputShape=n.outShape;var b=e==="avg",g="0.0";if(b||(g="-1.0 / 1e-20"),t)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+o+", "+a+");\n        const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+u+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+n.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+n.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+h+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+n.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+d+" * "+h+" +\n                      wR * "+h+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var v=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(v="avgValue / count");var x=4*Math.floor(r/4),y=r%4,w="\n      if ("+b+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+f+", "+p+", "+m+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+n.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+n.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+n.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+x+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+x+";\n            if ("+(y===1)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(y===2)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(y===3)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+v+");\n        }\n      }\n    "}},GZ=function(n,e){this.variableNames=["x"];var t=n.windowSize,r=n.batchSize,i=n.inSize,o=Math.ceil(i/t);this.outputShape=[r,o];var a="0.0",s="";e==="prod"?a="1.0":e==="min"?(a="1.0 / 1e-20",s="min"):e==="max"&&(a="-1.0 / 1e-20",s="max");var l=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?l="sumValue":e==="prod"?l="prodValue":e==="all"?l="allValue":e==="any"&&(l="anyValue");var c=4*Math.floor(t/4),u=t%4,d="\n      if ("+(e==="sum")+") {\n        sumValue += dot(values, ones);\n      } else if ("+(e==="prod")+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";e==="all"?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):e==="any"&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var f="";i%t>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+t+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(u===1)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(u===2)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(u===3)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+l+");\n      }\n    "},KZ=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;for(var t="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),t+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+ps(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+B1(n)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+n[1]+";\n        int cols = "+n[2]+";\n\n        "+t+"\n\n        setOutput(result);\n      }\n    "},YZ=function(n,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=n.shape,s=a[1],l=a[2],c=[t&&s>1?i-1:i,t&&l>1?o-1:o],u=[t&&s>1?s-1:s,t&&l>1?l-1:l],d=c[0]/u[0],h=c[1]/u[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,b=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+b+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},XZ=function(n,e,t,r){this.variableNames=["A"],this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ZZ=function(n,e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+",\n          "+l[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(t-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},JZ=function(n,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=n.shape,s=a[1],l=a[2],c=[t&&s>1?i-1:i,t&&l>1?o-1:o],u=[t&&s>1?s-1:s,t&&l>1?l-1:l],d=c[0]/u[0],h=c[1]/u[1],f=1/d,p=1/h,m=2*Math.ceil(f)+2,b=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+b+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+u[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+u[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+t+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+t+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},QZ=function(n,e,t,r){this.variableNames=["A"],this.outputShape=[];var i=n[0],o=n[1],a=n[2],s=n[3];this.outputShape=[i,e,t,s];var l=[r&&e>1?o-1:o,r&&t>1?a-1:a],c=[r&&e>1?e-1:e,r&&t>1?t-1:t],u=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+u+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},eJ=function(n,e){this.variableNames=["x"];var t=n.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");if(this.outputShape=n,t!==1){var r=n.map(function(o,a){return function(s){return e.indexOf(s)!==-1&&n[s]!==1?n[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(a)}).join(","),i=_t(t);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+n[0]+" - coord - 1));\n        }\n      "},tJ=function(n,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var t=n.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");this.outputShape=n;var r=ar("rc",t),i=r[t-1]+" + 1 < "+this.outputShape[t-1],o=r[t-2]+" + 1 < "+this.outputShape[t-2],a=_t(t);function s(l){var c=n.map(function(u,d){return function(h,f){return e.indexOf(h)!==-1&&n[h]!==1?n[h]+" - "+f[h]+" - 1":""+f[h]}(d,l)});return"getChannel(getX("+c.join(",")+"), vec2("+c.slice(-2).join(",")+"))"}this.userCode=t===1?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+n[0]+" - rc - 1),\n            "+n[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+n[0]+" - (rc  + 1) - 1),\n                "+n[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(l){return s(l)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(l){return l[t-1]="("+l[t-1]+" + 1)",s(l)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(l){return l[t-2]="("+l[t-2]+" + 1)",s(l)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(l){return l[t-1]="("+l[t-1]+" + 1)",l[t-2]="("+l[t-2]+" + 1)",s(l)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},T3=function(n,e,t,r,i,o,a){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=_t(i.length),l=_t(o.length),c="";t===1?c="i":t===2&&(c="i, j");var u="getIndices("+c+")",d="";r===1?d="i":r===2&&(d="i, coords[1]");var h="getUpdates("+d+")",f=e>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+n+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round("+u+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},nJ=function(n,e){this.variableNames=["x","segmentIds"];var t=n.windowSize,r=n.batchSize,i=n.inSize,o=n.numSegments,a=o*Math.ceil(i/t);this.outputShape=[r,a];var s=4*Math.floor(t/4),l=t%4,c="\n        sumValue += dot(values, segFilter);\n    ",u="";i%t>0&&(u="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var d="";i%t>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+u+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+t+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(l===1)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(l===2)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(l===3)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},rJ=function(n,e,t){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,t>4)throw Error("Where for rank "+t+" is not yet supported");if(t===1)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],l=0;l<e.length;l++)s.push(""+o[l]),l<n&&a.push(""+o[l]);r=a.join(),i=s.join()}var c=_t(t);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},iJ=function(){function n(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,r=_t(this.rank),i="uniform int start["+this.rank+"];",o=function(a){if(a===1)return"sourceLoc";if(a<=6)return q0.slice(0,a).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+a+" is not yet supported")}(this.rank);t="\n        "+r+" sourceLoc;\n        "+r+" coords = getOutputCoords();\n        "+e.map(function(a,s){return"sourceLoc."+q0[s]+" = start["+s+"] + coords."+q0[s]+";"}).join("\n")+"\n      ",this.userCode="\n      "+i+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,i){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(i,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,e)}},n}(),q0=["x","y","z","w","u","v"],oJ=function(){function n(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=_t(this.rank),r=ar("coords",this.rank),i=ar("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2("+i.slice(-2).join()+")",a="getChannel(getSource("+i.join()+"), "+o+")",s="\n      result.x = "+a+";\n      if (++"+r[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+i[this.rank-1]+";\n        result.y = "+a+";\n        --"+i[this.rank-1]+";\n      }\n    ",l=this.rank===1?"":"\n      --"+r[this.rank-1]+";\n      if (++"+r[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+i[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+r[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+i[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",c=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(u,d){return"start["+d+"]"}).join()+");":e.map(function(u,d){return i[d]+" = "+r[d]+" + start["+d+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+c+"\n        vec4 result = vec4(0.);\n        "+s+"\n        "+l+"\n        setOutput(result);\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,i){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(i,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,e)}},n}(),aJ=function(n,e,t){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=_t(t.length),o=_t(t.length),a="";if(r===1)a="coords * strides + begin";else{var s=0;a=t.map(function(l,c){return s++,t.length===1?"coords * strides["+c+"] + begin["+c+"]":"coords["+(s-1)+"] * strides["+c+"] + begin["+c+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+n+");\n      "+i+" strides = "+i+"("+e+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},sJ=function(){function n(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return n.prototype.acquireTexture=function(e,t,r){var i,o=A3(t,r),a=I3(e,o,r);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return this.numUsedTextures++,this.log(),o===wr.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===wr.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===wr.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===wr.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===wr.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),i},n.prototype.releaseTexture=function(e,t,r,i){if(this.freeTextures!=null){var o=I3(t,A3(r,i),i);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[o],s=a.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(s,1),this.log()}},n.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},n.prototype.getNumUsedTextures=function(){return this.numUsedTextures},n.prototype.getNumFreeTextures=function(){return this.numFreeTextures},n.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(r){e.gpgpu.deleteMatrixTexture(r)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(i){e.gpgpu.deleteMatrixTexture(i)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},n}();function A3(n,e){if(n===_r.UPLOAD)return wr.PACKED_2X2_FLOAT32;if(n===_r.RENDER||n==null)return function(t){return oe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?wr.PACKED_2X2_FLOAT32:wr.UNPACKED_FLOAT32:t?wr.PACKED_2X2_FLOAT16:wr.UNPACKED_FLOAT16}(e);if(n===_r.DOWNLOAD||n===_r.PIXELS)return wr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+n)}function I3(n,e,t){return n[0]+"_"+n[1]+"_"+e+"_"+t}var lJ=function(n,e){this.variableNames=["A"];for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[r]*e[r];this.outputShape=t,this.rank=t.length;var i=_t(this.rank),o=function(a){var s=a.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+a[0]+")";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],c=[],u=0;u<a.length;u++)c.push("imod("+l[u]+", "+a[u]+")");return c.join()}(n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},cJ=function(n,e){this.variableNames=["A"];for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[e[r]];this.outputShape=t,this.rank=t.length;var i=_t(this.rank),o=function(a){var s=a.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],c=new Array(s),u=0;u<a.length;u++)c[a[u]]=l[u];return c.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},uJ=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var t=new Array(n.length),r=0;r<t.length;r++)t[r]=n[e[r]];if(this.outputShape=t,this.rank=t.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=_t(this.rank),o=JT("rc",this.rank),a=new Array(this.rank);for(r=0;r<e.length;r++)a[e[r]]=o[r];var s="vec2("+a.slice(-2).join()+")",l="++"+o[this.rank-1]+" < "+t[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+l+") {\n        result[1] = "+c+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+t[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+l+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},P1=1.7580993408473768,L1=1.0507009873554805,Ge=function(n,e){this.variableNames=["A"],this.outputShape=n,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ei="if (isnan(x)) return x;",dJ="return x;",R3="return abs(x);",rA=Ei+"\n  return (x < 0.0) ? 0.0 : x;\n",iA=Ei+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",oA="return (x >= 0.0) ? x : (exp(x) - 1.0);",hJ="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+P1+";\n  float scale = "+L1+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",D3="return -x;",O3="return ceil(x);",M3="return floor(x);",B3="return exp(x);",P3="return exp(x) - 1.0;",fJ=Ei+"\n  return sin(x);\n",pJ=Ei+"\n  return cos(x);\n",mJ=Ei+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",gJ=Ei+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",bJ=Ei+"\n  return atan(x);\n",vJ=Ei+"return log(x + sqrt(x * x + 1.0));",xJ=Ei+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",yJ=Ei+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Uh="return x;",wJ="return x;",aA="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",sA="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",lA="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",cu=function(n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},kJ=function(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=n;var e=n.length,t=ar("rc",e),r=_t(e),i=function(s,l){if(s===1)return"rc";for(var c="",u=0;u<s;u++)c+=l[u],u<s-1&&(c+=",");return c}(e,t),o=t.slice(-2),a=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},Hh={};function Wh(n,e){if(e===void 0&&(e=!1),n==="linear")return e?wJ:dJ;if(n==="relu")return e?aA:rA;if(n==="elu")return e?lA:oA;if(n==="relu6")return e?sA:iA;if(n==="prelu")return e?nA:tA;throw new Error("Activation "+n+" has not been implemented for the WebGL backend.")}var _J=600,CJ=function(n){function e(t){var r,i=n.call(this)||this;if(i.pendingRead=new WeakMap,i.pendingDisposal=new WeakSet,i.dataRefCount=new WeakMap,i.numBytesInGPU=0,i.uploadWaitMs=0,i.downloadWaitMs=0,i.warnedAboutMemory=!1,i.pendingDeletes=0,i.disposed=!1,!oe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(t==null){var o=Ji(oe().getNumber("WEBGL_VERSION"));i.binaryCache=((r=oe().getNumber("WEBGL_VERSION"))in Hh||(Hh[r]={}),Hh[r]),i.gpgpu=new PZ(o),i.canvas=o.canvas,i.gpgpuCreatedLocally=!0}else i.gpgpu=t,i.binaryCache={},i.gpgpuCreatedLocally=!1,i.canvas=t.gl.canvas;return i.textureManager=new sJ(i.gpgpu),i.numMBBeforeWarning=oe().global.screen==null?1024:oe().global.screen.height*oe().global.screen.width*window.devicePixelRatio*_J/1024/1024,i.texData=new HT(i,G),i}return Ci(e,n),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(t,r,i){if(oe().getBool("DEBUG")&&this.checkNumericalProblems(t),i==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var o={};return this.texData.set(o,{shape:r,dtype:i,values:t,usage:_r.UPLOAD}),o},e.prototype.move=function(t,r,i,o){if(oe().getBool("DEBUG")&&this.checkNumericalProblems(r),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:i,dtype:o,values:r,usage:_r.UPLOAD})},e.prototype.readSync=function(t){var r=this.texData.get(t),i=r.values,o=r.dtype,a=r.complexTensors,s=r.slice,l=r.shape,c=r.isPacked;if(s!=null){var u=void 0;u=c?new cu(l,Uh):new Ge(l,Uh);var d=this.runWebGLProgram(u,[{dataId:t,shape:l,dtype:o}],o),h=this.readSync(d.dataId);return this.disposeData(d.dataId),h}if(i!=null)return this.convertAndCacheOnCPU(t);if(o==="string")return i;var f,p,m=this.activeTimers!=null;return m&&(f=Mi()),o==="complex64"?p=Qv(a.real.dataSync(),a.imag.dataSync()):p=this.getValuesFromTexture(t),m&&(this.downloadWaitMs+=Mi()-f),this.convertAndCacheOnCPU(t,p)},e.prototype.read=function(t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S;return Se(this,function(_){switch(_.label){case 0:if(this.pendingRead.has(t))return r=this.pendingRead.get(t),[2,new Promise(function(A){return r.push(A)})];if(i=this.texData.get(t),o=i.values,a=i.shape,s=i.slice,l=i.dtype,c=i.complexTensors,u=i.isPacked,s!=null)return d=void 0,d=u?new cu(a,Uh):new Ge(a,Uh),h=this.runWebGLProgram(d,[{dataId:t,shape:a,dtype:l}],l),f=this.read(h.dataId),this.disposeData(h.dataId),[2,f];if(o!=null)return[2,this.convertAndCacheOnCPU(t)];if(!oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&oe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,l!=="complex64"&&oe().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(t),b=this.texData.get(m.dataId),p=(S=this.gpgpu).createBufferFromTexture.apply(S,[b.texture].concat(zu(a)))),this.pendingRead.set(t,[]),l==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:_.sent(),_.label=2;case 2:return l!=="complex64"?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return v=_.sent(),x=v[0],y=v[1],g=Qv(x,y),[3,5];case 4:p==null?g=this.getValuesFromTexture(t):(w=Te(a),g=this.gpgpu.downloadFloat32MatrixFromBuffer(p,w)),_.label=5;case 5:return m!=null&&this.disposeData(m.dataId),E=this.convertAndCacheOnCPU(t,g),C=this.pendingRead.get(t),this.pendingRead.delete(t),C.forEach(function(A){return A(E)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,E]}})})},e.prototype.checkNumericalProblems=function(t){if(t!=null)for(var r=0;r<t.length;r++){var i=t[r];if(!hY(i))throw oe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+i+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+i+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(t){var r,i=this.texData.get(t),o=i.shape,a=i.dtype,s=i.isPacked,l=Te(o);if(oe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var c=this.decode(t),u=this.texData.get(c.dataId),d=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[u.texture].concat(zu(o))).subarray(0,l);return this.disposeData(c.dataId),d}var h=oe().getBool("WEBGL_PACK")&&s===!0,f=h?N0(o):o,p=h?new dZ(f):new uZ(f),m=this.runWebGLProgram(p,[{shape:f,dtype:a,dataId:t}],"float32"),b=this.texData.get(m.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(b.texture,b.texShape[0],b.texShape[1]).subarray(0,l);return this.disposeData(m.dataId),g},e.prototype.time=function(t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c;return Se(this,function(u){switch(u.label){case 0:return r=this.activeTimers,i=[],o=!1,this.programTimersStack==null?(this.programTimersStack=i,o=!0):this.activeTimers.push(i),this.activeTimers=i,t(),a=kc(this.activeTimers.map(function(d){return d.query})).filter(function(d){return d!=null}),s=kc(this.activeTimers.map(function(d){return d.name})).filter(function(d){return d!=null}),this.activeTimers=r,o&&(this.programTimersStack=null),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return c=u.sent(),l.kernelMs=qK(c),l.getExtraProfileInfo=function(){return c.map(function(d,h){return{name:s[h],ms:d}}).map(function(d){return d.name+": "+d.ms}).join(", ")},[3,3];case 2:l.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Mi(),endMs:null}},e.prototype.endTimer=function(t){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Mi(),t)},e.prototype.getQueryTime=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){return oe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(r=t).endMs-r.startMs]})})},e.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var r=this.texData.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(t)}}},e.prototype.releaseGPUData=function(t){var r=this.texData.get(t),i=r.texture,o=r.dtype,a=r.texShape,s=r.usage,l=r.isPacked,c=r.slice,u=c&&c.origDataId||t,d=this.dataRefCount.get(u);d>1?this.dataRefCount.set(u,d-1):(this.dataRefCount.delete(u),i!=null&&(this.numBytesInGPU-=this.computeBytes(a,o),this.textureManager.releaseTexture(i,a,s,l)));var h=this.texData.get(t);h.texture=null,h.texShape=null,h.isPacked=!1,h.slice=null},e.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},e.prototype.getDataInfo=function(t){return this.texData.get(t)},e.prototype.getCPUBackend=function(){return oe().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=G.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(t,r){var i=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&t.every(function(o){return i.texData.get(o.dataId).texture==null&&o.size<r})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(t,r){var i=this.makeOutput(t.shape,"complex64");return this.texData.get(i.dataId).complexTensors={real:G.keep(t.clone()),imag:G.keep(r.clone())},i},e.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,r,i){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,r,i);if(Te(i)===0)return An([],i,t.dtype);var o=this.texData.get(t.dataId).isPacked,a=$T(t.shape,r,i);if(o||!a){var s=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oJ(i):new iJ(i),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[t],null,l)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,r,i)},e.prototype.shallowSlice=function(t,r,i){var o=this.texData.get(t.dataId),a=this.makeOutput(i,t.dtype),s=this.texData.get(a.dataId);Object.assign(s,o),s.shape=i,s.dtype=t.dtype;var l=UT(r,t.strides);o.slice&&(l+=o.slice.flatOffset),s.slice={flatOffset:l,origDataId:o.slice&&o.slice.origDataId||t.dataId};var c=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,c+1),a},e.prototype.stridedSlice=function(t,r,i,o){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,r,i,o);var a=I1(r,i,o);if(a.some(function(l){return l===0}))return An([],a);var s=new aJ(r,o,a);return this.compileAndRun(s,[t])},e.prototype.reverse=function(t,r){var i=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new tJ(t.shape,r):new eJ(t.shape,r);return this.compileAndRun(i,[t])},e.prototype.concat=function(t,r){if(t[0].dtype==="complex64"){var i=t.map(function(f){return Gr(f)}),o=t.map(function(f){return zi(f)});return Sn(this.concat(i,r),this.concat(o,r))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,r);if(t.length===1)return t[0];if(t.length>oe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(t.length/2),s=this.concat(t.slice(0,a),r),l=this.concat(t.slice(a),r);return this.concat([s,l],r)}if(oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var c=new XX(t.map(function(f){return f.shape}),r);return this.compileAndRun(c,t)}var u=Cc(t.map(function(f){return f.shape}),r),d=t.map(function(f){return f.as2D(-1,Te(f.shape.slice(r)))}),h=new YX(d.map(function(f){return f.shape}));return this.compileAndRun(h,d).reshape(u)},e.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,D3,t.dtype);var r=new Ge(t.shape,D3);return this.compileAndRun(r,[t])},e.prototype.batchMatMul=function(t,r,i,o){var a=i?t.shape[2]:t.shape[1],s=o?r.shape[1]:r.shape[2],l=i?t.shape[1]:t.shape[2],c=t.shape[0];if((a===1||s===1)&&l>1e3){i&&(t=t.transpose([0,2,1])),o&&(r=r.transpose([0,2,1]));var u=s===1?t:t.as3D(c,l,1),d=s===1?2:1,h=s===1?r.as3D(c,1,l):r;return this.multiply(u,h).sum(d,!0)}var f=Tn(t.dtype,r.dtype),p=new H0(t.shape,[c,a,s],i,o);return this.compileAndRun(p,[t,r],f)},e.prototype.fusedBatchMatMul=function(t){var r=t.a,i=t.b,o=t.transposeA,a=t.transposeB,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=o?r.shape[2]:r.shape[1],d=a?i.shape[1]:i.shape[2],h=r.shape[0],f=Tn(r.dtype,i.dtype),p=s!=null,m=c!=null,b=l?Wh(l,!0):null,g=new H0(r.shape,[h,u,d],o,a,p,b,m),v=[r,i];return s&&v.push(s),c&&v.push(c),this.compileAndRun(g,v,f)},e.prototype.multiply=function(t,r){if(t.dtype==="complex64"){var i=this.texData.get(t.dataId),o=this.texData.get(r.dataId),a=new x3(WX,t.shape,r.shape),s=new x3(VX,t.shape,r.shape),l=[this.makeComplexComponentTensorInfo(t,i.complexTensors.real),this.makeComplexComponentTensorInfo(t,i.complexTensors.imag),this.makeComplexComponentTensorInfo(r,o.complexTensors.real),this.makeComplexComponentTensorInfo(r,o.complexTensors.imag)],c=this.compileAndRun(a,l),u=this.compileAndRun(s,l),d=this.complex(c,u);return c.dispose(),u.dispose(),d}if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.multiply(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,y3,t.dtype);var h=new Lt(y3,t.shape,r.shape);return this.compileAndRun(h,[t,r],t.dtype)},e.prototype.batchNormalization=function(t,r,i,o,a,s){var l=[t,r,i],c=null;s!=null&&(c=s.shape,l.push(s));var u=null;if(a!=null&&(u=a.shape,l.push(a)),oe().getBool("WEBGL_PACK_NORMALIZATION")){var d=new HX(t.shape,r.shape,i.shape,c,u,o);return this.compileAndRun(d,l)}var h=new UX(t.shape,r.shape,i.shape,c,u,o);return this.compileAndRun(h,l)},e.prototype.localResponseNormalization4D=function(t,r,i,o,a){var s=oe().getBool("WEBGL_PACK_NORMALIZATION")?new NZ(t.shape,r,i,o,a):new zZ(t.shape,r,i,o,a);return this.compileAndRun(s,[t])},e.prototype.LRNGrad=function(t,r,i,o,a,s,l){var c=new jZ(r.shape,o,a,s,l);return this.compileAndRun(c,[r,i,t])},e.prototype.tile=function(t,r){if(t.dtype==="string"){var i=this.readSync(t.dataId).map(function(a){return yp(a)});return XT(Ue(t.shape,t.dtype,i),r)}var o=new lJ(t.shape,r);return this.compileAndRun(o,[t])},e.prototype.pad=function(t,r,i){var o=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qZ(t.shape,r,i):new VZ(t.shape,r,i);return this.compileAndRun(o,[t])},e.prototype.transpose=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,r);var i=oe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uJ(t.shape,r):new cJ(t.shape,r);return this.compileAndRun(i,[t])},e.prototype.gather=function(t,r,i){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.gather(t,r,i);var o=new bZ(t.shape,r.size,i);return this.compileAndRun(o,[t,r])},e.prototype.batchToSpaceND=function(t,r,i){W(t.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(d,h){return d*h}),a=Sp(t.shape,r,o),s=Tp(a.length,r.length),l=Ap(t.shape,r,o),c=zT(i,r.length),u=jT(l,i,r.length);return t.reshape(a).transpose(s).reshape(l).slice(c,u)},e.prototype.spaceToBatchND=function(t,r,i){W(t.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(h,f){return h*f}),a=[[0,0]];a.push.apply(a,i);for(var s=1+r.length;s<t.shape.length;++s)a.push([0,0]);var l=t.pad(a),c=Sp(l.shape,r,o,!1),u=Tp(c.length,r.length,!1),d=Ap(l.shape,r,o,!1);return l.reshape(c).transpose(u).reshape(d)},e.prototype.reduce=function(t,r,i){var o=t.shape[0],a=t.shape[1],s=F0(a),l=new GZ({windowSize:s,inSize:a,batchSize:o},r),c=this.compileAndRun(l,[t],i);return c.shape[1]===1?c:this.reduce(c,r,i)},e.prototype.argReduce=function(t,r,i){i===void 0&&(i=null);var o=t.shape[0],a=t.shape[1];i!=null&&(o=i.shape[0],a=i.shape[1]);var s=F0(a),l=new MX({windowSize:s,inSize:a,batchSize:o},r,i==null),c=[t];i!=null&&c.push(i);var u=this.compileAndRun(l,c,"int32");return u.shape[1]===1?u:this.argReduce(t,r,u)},e.prototype.argReducePacked=function(t,r,i){i===void 0&&(i=null);var o=i!=null?i.shape:t.shape,a=F0(o[o.length-1]),s=new NX(o,a,r,i==null),l=i==null?[t]:[t,i],c=this.compileAndRun(s,l,"int32");return c.rank===t.rank?this.argReducePacked(t,r,c):c},e.prototype.sum=function(t,r){yr("sum",r,t.rank);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a),l=O0(t.dtype);return this.reduce(s,"sum",l).reshape(o)},e.prototype.prod=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,r);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a),l=O0(t.dtype);return this.reduce(s,"prod",l).reshape(o)},e.prototype.unsortedSegmentSum=function(t,r,i){var o=0,a=Qi([o],t.rank),s=t;a!=null&&(s=t.transpose(a),o=eo(1,t.rank)[0]);var l=function(f,p,m){for(var b=[],g=f.length,v=0;v<g;v++)v!==p?b.push(f[v]):b.push(m);return b}(s.shape,o,i),c=Te([s.shape[o]]),u=s.as2D(-1,c),d=O0(t.dtype),h=this.segOpCompute(u,"unsortedSegmentSum",r,d,i).reshape(l);return a!=null&&(h=h.transpose(E1(a))),h},e.prototype.segOpCompute=function(t,r,i,o,a){var s=t.shape[0],l=t.shape[1],c=function(h,f){var p,m=!1;for(h<=FT?(p=h,m=!0):p=Wv(h,Math.floor(Math.sqrt(h)));!m;)p>f||p===h?m=!0:p=Wv(h,p+1);return p}(l,a),u=new nJ({windowSize:c,inSize:l,batchSize:s,numSegments:a}),d=this.compileAndRun(u,[t,i],o);return d.shape[1]===a?d:(i=Ep(0,a).tile([l/c]),this.segOpCompute(d,r,i,o,a))},e.prototype.argMinMaxReduce=function(t,r,i){var o=[r];if(yr("arg"+i.charAt(0).toUpperCase()+i.slice(1),o,t.rank),!oe().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var a=Bn(t.shape,o),s=a[0],l=Te(a[1]),c=t.as2D(-1,l);return this.argReduce(c,i).reshape(s)}return this.argReducePacked(t,i)},e.prototype.argMin=function(t,r){return this.argMinMaxReduce(t,r,"min")},e.prototype.argMax=function(t,r){return this.argMinMaxReduce(t,r,"max")},e.prototype.cumsum=function(t,r,i,o){if(r!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+r);var a=new oZ(t.shape,i,o);return this.compileAndRun(a,[t])},e.prototype.equal=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(equal(a, b));\n","bool");var i=new Lt("return float(a == b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.notEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(notEqual(a, b));\n","bool");var i=new Lt("return float(a != b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.less=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.less(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(lessThan(a, b));\n","bool");var i=new Lt("return float(a < b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.lessEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(lessThanEqual(a, b));\n","bool");var i=new Lt("return float(a <= b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.greater=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.greater(t,r);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(greaterThan(a, b));\n","bool");var i=new Lt("return float(a > b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.greaterEqual=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var i=new Lt("return float(a >= b);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.logicalNot=function(t){var r=new Ge(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[t])},e.prototype.logicalAnd=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var i=new Lt("return float(a >= 1.0 && b >= 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.logicalOr=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var i=new Lt("return float(a >= 1.0 || b >= 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r],"bool")},e.prototype.select=function(t,r,i){var o=new rJ(t.rank,r.shape,r.rank);return this.compileAndRun(o,[t,r,i],Tn(r.dtype,i.dtype))},e.prototype.where=function(t){_p("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=t.dataSync();return M1(t.shape,r)},e.prototype.topk=function(t,r,i){return ZT(t.dataSync(),t.shape,t.dtype,r)},e.prototype.min=function(t,r){yr("min",r,t.rank);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"min",s.dtype).reshape(o)},e.prototype.minimum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.minimum(t,r);var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Lt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.mod=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Lt("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.max=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,r);yr("max",r,t.rank);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"max",s.dtype).reshape(o)},e.prototype.maximum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.maximum(t,r);var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Lt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.all=function(t,r){yr("all",r,t.rank);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"all",s.dtype).reshape(o)},e.prototype.any=function(t,r){yr("any",r,t.rank);var i=Bn(t.shape,r),o=i[0],a=Te(i[1]),s=t.as2D(-1,a);return this.reduce(s,"any",s.dtype).reshape(o)},e.prototype.realDivide=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var i=new Lt("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",t.shape,r.shape);return this.compileAndRun(i,[t,r],"float32")},e.prototype.floorDiv=function(t,r){if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var i=new Lt("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,r.shape);return this.compileAndRun(i,[t,r],"int32")},e.prototype.add=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,$0);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.add(t,r);var i=Tn(t.dtype,r.dtype);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,$0,i);var o=new Lt($0,t.shape,r.shape);return this.compileAndRun(o,[t,r],i)},e.prototype.packedUnaryOp=function(t,r,i){var o=new cu(t.shape,r);return this.compileAndRun(o,[t],i)},e.prototype.packedBinaryOp=function(t,r,i,o,a){a===void 0&&(a=!1);var s=new co(i,t.shape,r.shape,a);return this.compileAndRun(s,[t,r],o)},e.prototype.complexSeparableBinaryOp=function(t,r,i){var o=this,a=this.texData.get(t.dataId),s=this.texData.get(r.dataId),l=[[a.complexTensors.real,s.complexTensors.real],[a.complexTensors.imag,s.complexTensors.imag]].map(function(h){var f=h[0],p=h[1],m=o.makeComplexComponentTensorInfo(t,f),b=o.makeComplexComponentTensorInfo(r,p),g=new Lt(i,t.shape,r.shape);return o.compileAndRun(g,[m,b],Tn(f.dtype,p.dtype))}),c=l[0],u=l[1],d=this.complex(c,u);return c.dispose(),u.dispose(),d},e.prototype.makeComplexComponentTensorInfo=function(t,r){return{dataId:r.dataId,dtype:r.dtype,shape:t.shape}},e.prototype.addN=function(t){if(t.length===1)return t[0];if(t.length>oe().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(t.length/2),i=this.addN(t.slice(0,r)),o=this.addN(t.slice(r));return this.addN([i,o])}var a=t.map(function(c){return c.dtype}).reduce(function(c,u){return Tn(c,u)}),s=t.map(function(c){return c.shape}),l=oe().getBool("WEBGL_PACK")?new OX(t[0].shape,s):new DX(t[0].shape,s);return this.compileAndRun(l,t,a)},e.prototype.subtract=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,U0);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.subtract(t,r);var i=Tn(t.dtype,r.dtype);if(oe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,U0,t.dtype);var o=new Lt(U0,t.shape,r.shape);return this.compileAndRun(o,[t,r],i)},e.prototype.pow=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Lt("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,r.shape),o=Tn(t.dtype,r.dtype);return this.compileAndRun(i,[t,r],o)},e.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,O3,t.dtype);var r=new Ge(t.shape,O3);return this.compileAndRun(r,[t])},e.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,M3,t.dtype);var r=new Ge(t.shape,M3);return this.compileAndRun(r,[t])},e.prototype.sign=function(t){var r=new Ge(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(r,[t])},e.prototype.isNaN=function(t){var r=new Ge(t.shape,"return float(isnan(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.isInf=function(t){var r=new Ge(t.shape,"return float(isinf(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.isFinite=function(t){var r=new Ge(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[t],"bool")},e.prototype.round=function(t){var r=new Ge(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(r,[t])},e.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,B3,t.dtype);var r=new Ge(t.shape,B3);return this.compileAndRun(r,[t])},e.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,P3,t.dtype);var r=new Ge(t.shape,P3);return this.compileAndRun(r,[t])},e.prototype.softmax=function(t,r){var i=ln([r],t.shape),o=this.max(t,i),a=hr(o.shape,i),s=this.subtract(t,o.reshape(a)),l=this.exp(s),c=this.sum(l,i).reshape(a);return this.realDivide(l,c)},e.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",t.dtype);var r=new Ge(t.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(r,[t])},e.prototype.log1p=function(t){var r=new Ge(t.shape,"return log(1.0 + x);");return this.compileAndRun(r,[t])},e.prototype.sqrt=function(t){var r=new Ge(t.shape,"return sqrt(x);");return this.compileAndRun(r,[t])},e.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var r=new Ge(t.shape,"return inversesqrt(x);");return this.compileAndRun(r,[t])},e.prototype.reciprocal=function(t){var r=new Ge(t.shape,"return 1.0 / x;");return this.compileAndRun(r,[t])},e.prototype.relu=function(t){var r;return r=oe().getBool("WEBGL_PACK")?new cu(t.shape,aA):new Ge(t.shape,rA),this.compileAndRun(r,[t])},e.prototype.relu6=function(t){var r;return r=oe().getBool("WEBGL_PACK")?new cu(t.shape,sA):new Ge(t.shape,iA),this.compileAndRun(r,[t])},e.prototype.prelu=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co(nA,t.shape,r.shape):new Lt(tA,t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.elu=function(t){if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,lA,t.dtype);var r=new Ge(t.shape,oA);return this.compileAndRun(r,[t])},e.prototype.eluDer=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,r.shape):new Lt("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.selu=function(t){var r=new Ge(t.shape,hJ);return this.compileAndRun(r,[t])},e.prototype.int=function(t){var r=new Ge(t.shape,"return float(int(x));");return this.compileAndRun(r,[t],"int32")},e.prototype.clip=function(t,r,i){var o,a=(o=oe().getBool("WEBGL_PACK_CLIP")?new GX(t.shape):new qX(t.shape)).getCustomSetupFunc(r,i);return this.compileAndRun(o,[t],null,a)},e.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(oe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,R3,t.dtype);var r=new Ge(t.shape,R3);return this.compileAndRun(r,[t])},e.prototype.complexAbs=function(t){var r=this.texData.get(t.dataId),i=new KX(t.shape),o=[this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)];return this.compileAndRun(i,o)},e.prototype.sigmoid=function(t){var r=new Ge(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[t])},e.prototype.softplus=function(t){var r=new Ge(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(r,[t])},e.prototype.sin=function(t){var r=new Ge(t.shape,fJ);return this.compileAndRun(r,[t])},e.prototype.cos=function(t){var r=new Ge(t.shape,pJ);return this.compileAndRun(r,[t])},e.prototype.tan=function(t){var r=new Ge(t.shape,"return tan(x);");return this.compileAndRun(r,[t])},e.prototype.asin=function(t){var r=new Ge(t.shape,mJ);return this.compileAndRun(r,[t])},e.prototype.acos=function(t){var r=new Ge(t.shape,gJ);return this.compileAndRun(r,[t])},e.prototype.atan=function(t){var r=new Ge(t.shape,bJ);return this.compileAndRun(r,[t])},e.prototype.atan2=function(t,r){var i=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,r.shape):new Lt("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,r.shape);return this.compileAndRun(i,[t,r])},e.prototype.sinh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[t])},e.prototype.cosh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[t])},e.prototype.tanh=function(t){var r=new Ge(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(r,[t])},e.prototype.asinh=function(t){var r=new Ge(t.shape,vJ);return this.compileAndRun(r,[t])},e.prototype.acosh=function(t){var r=new Ge(t.shape,xJ);return this.compileAndRun(r,[t])},e.prototype.atanh=function(t){var r=new Ge(t.shape,yJ);return this.compileAndRun(r,[t])},e.prototype.erf=function(t){var r=new Ge(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(r,[t])},e.prototype.step=function(t,r){var i=new Ge(t.shape,function(o){return o===void 0&&(o=0),Ei+"\n    return x > 0.0 ? 1.0 : float("+o+");\n  "}(r));return this.compileAndRun(i,[t])},e.prototype.conv2dByMatMul=function(t,r,i,o,a,s){var l=t.shape,c=this.texData.get(t.dataId),u=i.inChannels,d=l[0]*l[1]*l[2],h=i.outChannels,f=i.dataFormat==="channelsLast",p=(d===1||h===1)&&u>1e3,m=l[2]%2!=0&&!!c.isPacked;if(p||!oe().getBool("WEBGL_LAZILY_UNPACK")||!oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!m){var b=f?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],g=this.reshape(t,[1,b,i.inChannels]),v=this.reshape(r,[1,i.inChannels,i.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:o,activation:a,preluActivationWeights:s}),i.outShape)}var x=f?l[0]*l[1]*(l[2]+1):l[0]*l[2]*(l[3]+1),y={dataId:t.dataId,shape:[1,x,i.inChannels],dtype:t.dtype},w=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,W(Fh(c.shape,y.shape),function(){return"packed reshape "+c.shape+" to "+y.shape+" isn't free"});var E=this.reshape(r,[1,i.inChannels,i.outChannels]),C=this.fusedBatchMatMul({a:y,b:E,transposeA:!1,transposeB:!1,bias:o,activation:a,preluActivationWeights:s}),S=this.texData.get(C.dataId);return W(S.isPacked,function(){return"batchMatMul result is expected to be packed"}),c.shape=w,S.shape=i.outShape,G.makeTensorFromDataId(C.dataId,i.outShape,C.dtype)},e.prototype.conv2dWithIm2Row=function(t,r,i,o,a,s){var l=i.filterWidth,c=i.filterHeight,u=i.inChannels,d=i.outWidth,h=i.outHeight,f=i.dataFormat==="channelsLast",p=l*c*u,m=h*d,b=[p,m],g=t.squeeze([0]),v=r.reshape([1,p,-1]),x=new LZ(b,g.shape,i),y=this.compileAndRun(x,[g]).reshape([1,b[0],b[1]]),w=o!=null,E=s!=null,C=a?Wh(a,!0):null,S=new H0(y.shape,[1,m,i.outChannels],!0,!1,w,C,E),_=[y,v];o&&_.push(o),E&&_.push(s);var A=this.compileAndRun(S,_);return f?A.reshape([1,h,d,i.outChannels]):A.reshape([1,i.outChannels,h,d])},e.prototype.fusedConv2d=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights;if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(r,i,o,a,s,l);if(oe().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,i,o,a,s,l);var c=a!=null,u=l!=null,d=s?Wh(s,!1):null,h=new w3(o,c,d,u),f=[r,i];return a&&f.push(a),l&&f.push(l),this.compileAndRun(h,f)},e.prototype.conv2d=function(t,r,i){if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(t,r,i);if(oe().getBool("WEBGL_CONV_IM2COL")&&t.shape[0]===1)return this.conv2dWithIm2Row(t,r,i);var o=new w3(i);return this.compileAndRun(o,[t,r])},e.prototype.conv2dDerInput=function(t,r,i){var o=new JX(i);return this.compileAndRun(o,[t,r])},e.prototype.conv2dDerFilter=function(t,r,i){var o=new ZX(i);return this.compileAndRun(o,[t,r])},e.prototype.fusedDepthwiseConv2D=function(t){var r,i=t.input,o=t.filter,a=t.convInfo,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,d=l?Wh(l,u):null,h=[i,o],f=s!=null,p=c!=null;return f&&h.push(s),p&&h.push(c),u?(r=new _3(a,f,d,p),this.compileAndRun(r,h)):(r=new k3(a,f,d,p),this.compileAndRun(r,h))},e.prototype.depthwiseConv2D=function(t,r,i){var o;return oe().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1?(o=new _3(i),this.compileAndRun(o,[t,r])):(o=new k3(i),this.compileAndRun(o,[t,r]))},e.prototype.depthwiseConv2DDerInput=function(t,r,i){var o=new nZ(i);return this.compileAndRun(o,[t,r])},e.prototype.depthwiseConv2DDerFilter=function(t,r,i){var o=new tZ(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3d=function(t,r,i){var o=new rZ(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3dDerInput=function(t,r,i){var o=new eZ(i);return this.compileAndRun(o,[t,r])},e.prototype.conv3dDerFilter=function(t,r,i){var o=new QX(i);return this.compileAndRun(o,[t,r])},e.prototype.maxPool=function(t,r){var i=new W0(r,"max",!1);return this.compileAndRun(i,[t])},e.prototype.avgPool=function(t,r){var i=new W0(r,"avg",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.maxPoolBackprop=function(t,r,i,o){var a=new W0(o,"max",!0),s=this.compileAndRun(a,[r]),l=new FZ(o),c=this.compileAndRun(l,[t,s],r.dtype);return s.dispose(),c},e.prototype.avgPoolBackprop=function(t,r,i){var o=new FX(i);return this.compileAndRun(o,[t],r.dtype)},e.prototype.cast=function(t,r){return qT(t,r,this)},e.prototype.unstack=function(t,r){for(var i=t.shape[r],o=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==r&&(o[a++]=t.shape[s]);var l=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var u=new Array(i);for(s=0;s<u.length;s++)l[r]=s,u[s]=this.slice(t,l,c).reshape(o);return u},e.prototype.avgPool3d=function(t,r){var i=new V0(r,"avg",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.avgPool3dBackprop=function(t,r,i){var o=new $X(i);return this.compileAndRun(o,[t],r.dtype)},e.prototype.maxPool3d=function(t,r){var i=new V0(r,"max",!1);return this.compileAndRun(i,[t],"float32")},e.prototype.maxPool3dBackprop=function(t,r,i,o){var a=new V0(o,"max",!0),s=this.compileAndRun(a,[r]),l=new $Z(o),c=this.compileAndRun(l,[t,s],r.dtype);return s.dispose(),c},e.prototype.reshape=function(t,r){var i=this.texData.get(t.dataId);if(i.isPacked&&!Fh(t.shape,r)&&(i.texture===null||!Fh(i.shape,r))){var o=this.packedReshape(t,r);return G.makeTensorFromDataId(o.dataId,o.shape,o.dtype)}return Jv(t,r)},e.prototype.resizeBilinear=function(t,r,i,o){var a=oe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ZZ(t.shape,r,i,o):new XZ(t.shape,r,i,o);return this.compileAndRun(a,[t],"float32")},e.prototype.resizeBilinearBackprop=function(t,r,i){var o=new YZ(t,r,i);return this.compileAndRun(o,[t])},e.prototype.resizeNearestNeighbor=function(t,r,i,o){var a=new QZ(t.shape,r,i,o);return this.compileAndRun(a,[t])},e.prototype.resizeNearestNeighborBackprop=function(t,r,i){var o=new JZ(t,r,i);return this.compileAndRun(o,[t])},e.prototype.multinomial=function(t,r,i,o){var a=r?t:Lo(t),s=a.shape[0],l=a.shape[1],c=new UZ(s,l,i),u=c.getCustomSetupFunc(o);return this.compileAndRun(c,[a],"int32",u)},e.prototype.oneHot=function(t,r,i,o){var a=new HZ(t.size,r,i,o);return this.compileAndRun(a,[t])},e.prototype.diag=function(t){var r=new cZ(t.size);return this.compileAndRun(r,[t])},e.prototype.nonMaxSuppression=function(t,r,i,o,a){return _p("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),D1(t.dataSync(),r.dataSync(),i,o,a)},e.prototype.cropAndResize=function(t,r,i,o,a,s){var l=new iZ(t.shape,r.shape,o,a,s);return this.compileAndRun(l,[t,r,i],"float32")},e.prototype.depthToSpace=function(t,r,i){W(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var o=t.shape[0],a=i==="NHWC"?t.shape[1]:t.shape[2],s=i==="NHWC"?t.shape[2]:t.shape[3],l=i==="NHWC"?t.shape[3]:t.shape[1],c=a*r,u=s*r,d=l/(r*r),h=new lZ(i==="NHWC"?[o,c,u,d]:[o,d,c,u],r,i);return this.compileAndRun(h,[t])},e.prototype.split=function(t,r,i){return YT(t,r,i)},e.prototype.scatterND=function(t,r,i){var o=Ip(0,t,i),a=o.sliceRank,s=o.numUpdates,l=o.sliceSize,c=o.strides,u=o.outputSize,d=[u/l,l],h=t.reshape([s,a]),f=r.reshape([s,l]);if(u===0)return Jv(An([]),i);var p=xe(0),m=new T3(s,a,h.rank,f.rank,c,d);return this.compileAndRun(m,[f,h,p]).reshape(i)},e.prototype.sparseToDense=function(t,r,i,o){var a=Ip(0,t,i),s=a.sliceRank,l=a.numUpdates,c=a.strides,u=a.outputSize,d=new T3(l,s,t.rank,r.rank,c,[u,1]);return this.compileAndRun(d,[r,t,o]).reshape(i)},e.prototype.fft=function(t){return this.fftImpl(t,!1)},e.prototype.ifft=function(t){return this.fftImpl(t,!0)},e.prototype.fftImpl=function(t,r){var i=this.texData.get(t.dataId),o=new E3(pZ,t.shape,r),a=new E3(mZ,t.shape,r),s=[this.makeComplexComponentTensorInfo(t,i.complexTensors.real),this.makeComplexComponentTensorInfo(t,i.complexTensors.imag)],l=this.compileAndRun(o,s),c=this.compileAndRun(a,s),u=this.complex(l,c).as2D(t.shape[0],t.shape[1]);return l.dispose(),c.dispose(),u},e.prototype.gatherND=function(t,r){var i=r.shape,o=i[i.length-1],a=NT(t,r),s=a[0],l=a[1],c=a[2],u=a[3],d=r.reshape([l,o]),h=t.reshape([t.size/c,c]),f=new vZ(o,u,[l,c]);return this.compileAndRun(f,[h,d]).reshape(s)},e.prototype.fill=function(t,r,i){if((i=i||qd(r))==="string"){var o=xp(i,Te(t));return o.fill(r),G.makeTensor(o,t,i,this)}var a=new gZ(t,r),s=a.getCustomSetupFunc(r);return this.compileAndRun(a,[],i,s)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){return this.fill(t.shape,t.dtype==="string"?"":0,t.dtype)},e.prototype.linspace=function(t,r,i){return GT(t,r,i)},e.prototype.makeTensorInfo=function(t,r){var i=this.write(null,t,r);return this.texData.get(i).usage=null,{dataId:i,shape:t,dtype:r}},e.prototype.makeOutput=function(t,r){var i=this.makeTensorInfo(t,r).dataId;return G.makeTensorFromDataId(i,t,r,this)},e.prototype.unpackTensor=function(t){var r=new kJ(t.shape);return this.runWebGLProgram(r,[t],t.dtype)},e.prototype.packTensor=function(t){var r=new WZ(t.shape);return this.runWebGLProgram(r,[t],t.dtype,null,!0)},e.prototype.packedReshape=function(t,r){var i=[wp(t.shape)].concat(kp(t.shape)),o={dtype:t.dtype,shape:i,dataId:t.dataId},a=[wp(r)].concat(kp(r)),s=new KZ(a,i),l=this.runWebGLProgram(s,[o],t.dtype,null,!0);return{dataId:l.dataId,shape:r,dtype:l.dtype}},e.prototype.decode=function(t){var r,i=this.texData.get(t),o=i.isPacked,a=i.shape,s=i.dtype,l=N0(a);return r=o?new sZ(l):new aZ(l),{dtype:s,shape:a,dataId:this.runWebGLProgram(r,[{shape:l,dtype:s,dataId:t}],s,null,!0).dataId}},e.prototype.runWebGLProgram=function(t,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=this.makeTensorInfo(t.outputShape,i),c=this.texData.get(l.dataId);if(t.packedOutput&&(c.isPacked=!0),t.outPackingScheme===md.DENSE){var u=zu(t.outputShape);c.texShape=u.map(function(x){return 2*x})}if(t.outTexUsage!=null&&(c.usage=t.outTexUsage),Te(l.shape)===0)return c.values=fd(l.dtype,0),l;var d=[],h=r.map(function(x){if(x.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var y=s.texData.get(x.dataId);if(y.texture==null){if(!t.packedInputs&&Te(x.shape)<=oe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:x.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=x.shape)}else if(!!y.isPacked!=!!t.packedInputs)x=y.isPacked?s.unpackTensor(x):s.packTensor(x),d.push(x),y=s.texData.get(x.dataId);else if(y.isPacked&&!Fh(y.shape,x.shape)){var w=x,E=x.shape;x.shape=y.shape,x=s.packedReshape(x,E),d.push(x),y=s.texData.get(x.dataId),w.shape=E}return s.uploadToGPU(x.dataId),{shape:x.shape,texData:y,isUniform:!1}});this.uploadToGPU(l.dataId);var f,p={shape:l.shape,texData:c,isUniform:!1},m=function(x,y,w){var E="";y.concat(w).forEach(function(_){var A=_.texData!=null&&_.texData.slice!=null&&_.texData.slice.flatOffset>0,D=_.isUniform?"uniform":_.texData.texShape;E+=_.shape+"_"+D+"_"+A});var C=x.userCode,S=x.constructor.name;return S+="_"+E+"_"+C}(t,h,p),b=this.getAndSaveBinary(m,function(){return function(x,y,w,E){var C=y.userCode,S=w.map(function(U,P){var $={logicalShape:U.shape,texShape:U.isUniform?null:U.texData.texShape,isUniform:U.isUniform,isPacked:!U.isUniform&&U.texData.isPacked,flatOffset:null};return U.texData!=null&&U.texData.slice!=null&&U.texData.slice.flatOffset>0&&($.flatOffset=U.texData.slice.flatOffset),{name:y.variableNames[P],shapeInfo:$}}),_=S.map(function(U){return U.shapeInfo}),A={logicalShape:E.shape,texShape:E.texData.texShape,isUniform:!1,isPacked:E.texData.isPacked,flatOffset:null},D=BX(S,A,C,y.packedInputs),I=x.createProgram(D),M=null,T=x.getUniformLocation(I,"NAN",!1);oe().getNumber("WEBGL_VERSION")===1&&(M=x.getUniformLocation(I,"INFINITY",!1));for(var B={},L=0;L<y.variableNames.length;L++){var z=y.variableNames[L];B[z]=x.getUniformLocation(I,z,!1),B["offset"+z]=x.getUniformLocation(I,"offset"+z,!1)}return{program:y,source:D,webGLProgram:I,uniformLocations:B,inShapeInfos:_,outShapeInfo:A,infLoc:M,nanLoc:T}}(s.gpgpu,t,h,p)}),g=this.activeTimers!=null;if(g&&(f=this.startTimer()),function(x,y,w,E,C){S3(y.inShapeInfos,w),S3([y.outShapeInfo],[E]);var S=E.texData.texture,_=E.texData.texShape;E.texData.isPacked?x.setOutputPackedMatrixTexture(S,_[0],_[1]):x.setOutputMatrixTexture(S,_[0],_[1]),x.setProgram(y.webGLProgram),oe().getNumber("WEBGL_VERSION")===1&&y.infLoc!==null&&x.gl.uniform1f(y.infLoc,1/0),y.nanLoc!==null&&x.gl.uniform1f(y.nanLoc,NaN),w.forEach(function(A,D){var I=y.program.variableNames[D],M=y.uniformLocations[I],T=y.uniformLocations["offset"+I];if(M!=null)if(A.isUniform)if(Te(A.shape)<2)x.gl.uniform1f(M,A.uniformValues[0]);else{var B=A.uniformValues;B instanceof Float32Array||(B=new Float32Array(B)),x.gl.uniform1fv(M,B)}else A.texData.slice!=null&&T!=null&&x.gl.uniform1i(T,A.texData.slice.flatOffset),x.setInputMatrixTexture(A.texData.texture,M,D)}),C!=null&&C(x,y.webGLProgram),x.executeProgram()}(this.gpgpu,b,h,p,o),d.forEach(function(x){return s.disposeData(x.dataId)}),g&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!oe().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&a===!1){var v=this.unpackTensor(l);return this.disposeData(l.dataId),v}return l},e.prototype.compileAndRun=function(t,r,i,o,a){a===void 0&&(a=!1),i=i||r[0].dtype;var s=this.runWebGLProgram(t,r,i,o,a);return G.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},e.prototype.getAndSaveBinary=function(t,r){return t in this.binaryCache||(this.binaryCache[t]=r()),this.binaryCache[t]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var t=this;this.disposed||(oe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){t.gpgpu.deleteProgram(t.binaryCache[r].webGLProgram),delete t.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var t=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=_e(function(){if(!oe().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=oe().getBool("DEBUG");oe().set("DEBUG",!1);var i=t.abs(xe(1e-8)).dataSync()[0];if(oe().set("DEBUG",r),i>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(t){var r,i=this.texData.get(t),o=i.shape,a=i.dtype,s=i.values,l=i.texture,c=i.usage,u=i.isPacked;if(l==null){var d,h=this.activeTimers!=null;h&&(d=Mi());var f=i.texShape;if(f==null&&(f=RY(o,u),i.texShape=f),s!=null){var p=N0(o),m=void 0,b=f[1],g=f[0],v=s instanceof Uint8Array;u?(b=(r=Kd(f[0],f[1]))[0],g=r[1],m=new fZ(p,[g,b],v)):m=new hZ(p,[g,b],v);var x=this.makeTensorInfo([g,b],a);this.texData.get(x.dataId).usage=v?_r.PIXELS:_r.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),b,g,s);var y=this.runWebGLProgram(m,[x],a,null,!0),w=this.texData.get(y.dataId);i.texture=w.texture,i.texShape=w.texShape,i.isPacked=w.isPacked,i.usage=w.usage,this.disposeData(x.dataId),this.texData.delete(y.dataId),i.values=null,h&&(this.uploadWaitMs+=Mi()-d)}else{var E=this.acquireTexture(f,c,a,u);i.texture=E}}},e.prototype.convertAndCacheOnCPU=function(t,r){var i=this.texData.get(t),o=i.dtype;return this.releaseGPUData(t),r!=null&&(i.values=function(a,s){if(s==="float32"||s==="complex64")return a;if(s==="int32"||s==="bool"){for(var l=s==="int32"?new Int32Array(a.length):new Uint8Array(a.length),c=0;c<l.length;++c)l[c]=Math.round(a[c]);return l}throw new Error("Unknown dtype "+s)}(r,o)),i.values},e.prototype.acquireTexture=function(t,r,i,o){if(this.numBytesInGPU+=this.computeBytes(t,i),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,r,o)},e.prototype.computeBytes=function(t,r){return t[0]*t[1]*wT(r)},e}(WT);AT()&&G.registerBackend("webgl",function(){return new CJ},2);var EJ=q({square_:function(n){var e=j(n,"x","square"),t=[e];return G.runKernelFunc(function(r,i){return i([e]),r.square(e)},{x:e},null,"Square",{},t,[])}}),bd="SquaredDifference",cA=q({squaredDifference_:function(n,e){var t,r=j(n,"a","squaredDifference"),i=j(e,"b","squaredDifference");t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape);var o={a:r,b:i},a=[r,i];return G.runKernelFunc(function(s,l){var c=s.squaredDifference(r,i);return l([r,i]),c},o,function(s,l){var c=l[0],u=l[1],d=xe(2);return{a:function(){return s.mul(c.sub(u).mul(d))},b:function(){return s.mul(u.sub(c).mul(d))}}},bd,{},a,[])}}),SJ=q({abs_:function(n){var e=j(n,"x","abs");return e.dtype==="complex64"?G.runKernelFunc(function(t){return t.complexAbs(e)},{$x:e}):G.runKernelFunc(function(t,r){var i=t.abs(e);return r([e]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mul(i.toFloat().step(-1))}}},"Abs")}}),TJ=q({acos_:function(n){var e=j(n,"x","acos");return G.runKernelFunc(function(t,r){var i=t.acos(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(xe(1).sub(i.toFloat().square()).sqrt()).neg()}}})}}),AJ=q({acosh_:function(n){var e=j(n,"x","acosh");return G.runKernelFunc(function(t,r){var i=t.acosh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(i.toFloat().square().sub(1).sqrt())}}})}}),IJ=q({asin_:function(n){var e=j(n,"x","asin");return G.runKernelFunc(function(t,r){var i=t.asin(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(xe(1).sub(i.toFloat().square()).sqrt())}}})}}),RJ=q({asinh_:function(n){var e=j(n,"x","asinh");return G.runKernelFunc(function(t,r){var i=t.asinh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.divStrict(xe(1).add(i.toFloat().square()).sqrt())}}})}}),DJ=q({atan_:function(n){var e=j(n,"x","atan");return G.runKernelFunc(function(t,r){var i=t.atan(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.toFloat().square().add(1))}}})}}),OJ=q({atanh_:function(n){var e=j(n,"x","atanh");return G.runKernelFunc(function(t,r){var i=t.atanh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(xe(1).sub(i.toFloat().square()))}}})}}),MJ=q({ceil_:function(n){var e=j(n,"x","ceil");return G.runKernelFunc(function(t){return t.ceil(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),z1=q({clipByValue_:function(n,e,t){var r=j(n,"x","clipByValue");W(e<=t,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+t+")."});var i=[r],o={min:e,max:t};return G.runKernelFunc(function(a,s){var l=a.clip(r,e,t);return s([r]),l},{x:r},function(a,s){var l=s[0];return{x:function(){return a.where(l.greaterEqual(e).logicalAnd(l.lessEqual(t)),st(a))}}},"ClipByValue",o,i)}}),BJ=q({cos_:function(n){var e=j(n,"x","cos"),t=[e];return G.runKernelFunc(function(r,i){var o=r.cos(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return o.toFloat().sin().neg().mul(r)}}},"Cos",{},t)}}),PJ=q({cosh_:function(n){var e=j(n,"x","cosh");return G.runKernelFunc(function(t,r){var i=t.cosh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return i.toFloat().sinh().mulStrict(t)}}})}}),LJ=q({erf_:function(n){var e=j(n,"x","erf");return W(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=e.toFloat()),G.runKernelFunc(function(t,r){var i=t.erf(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),ex=q({exp_:function(n){var e=j(n,"x","exp");return G.runKernelFunc(function(t,r){var i=t.exp(e);return r([i]),i},{x:e},function(t,r){return{x:function(){return t.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),zJ=q({expm1_:function(n){var e=j(n,"x","expm1");return G.runKernelFunc(function(t,r){var i=t.expm1(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.exp())}}})}}),jJ=q({floor_:function(n){var e=j(n,"x","floor");return G.runKernelFunc(function(t){return t.floor(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),NJ=q({log_:function(n){var e=j(n,"x","log"),t=[e];return G.runKernelFunc(function(r,i){var o=r.log(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return r.div(o.toFloat())}}},"Log",{},t)}}),FJ=q({log1p_:function(n){var e=j(n,"x","log1p");return G.runKernelFunc(function(t,r){var i=t.log1p(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.add(1))}}})}}),$J=q({logSigmoid_:function(n){var e=j(n,"x","logSigmoid");return G.runKernelFunc(function(t,r){var i=t.softplus(e.neg()).neg();return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.neg().sigmoid())}}})}}),Mp=q({neg_:function(n){var e=j(n,"x","neg"),t=[e];return G.runKernelFunc(function(r){return r.neg(e)},{x:e},function(r){return{x:function(){return r.neg()}}},"Neg",{},t)}}),UJ=q({reciprocal_:function(n){var e=j(n,"x","reciprocal");return G.runKernelFunc(function(t,r){var i=t.reciprocal(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.square().neg())}}})}}),HJ=q({round_:function(n){var e=j(n,"x","round");return G.runKernelFunc(function(t){return t.round(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),uA=q({rsqrt_:function(n){var e=j(n,"x","rsqrt"),t=[e];return G.runKernelFunc(function(r,i){var o=r.rsqrt(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return r.div(o.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},t)}}),dA=q({sigmoid_:function(n){var e=j(n,"x","sigmoid");return G.runKernelFunc(function(t,r){var i=t.sigmoid(e);return r([i]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mul(i.mul(xe(1).sub(i)))}}},"Sigmoid")}}),WJ=q({sign_:function(n){var e=j(n,"x","sign");return G.runKernelFunc(function(t){return t.sign(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),VJ=q({isNaN_:function(n){var e=j(n,"x","isNaN");return G.runKernelFunc(function(t){return t.isNaN(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),qJ=q({isInf_:function(n){var e=j(n,"x","isInf");return G.runKernelFunc(function(t){return t.isInf(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),GJ=q({isFinite_:function(n){var e=j(n,"x","isFinite");return G.runKernelFunc(function(t){return t.isFinite(e)},{$x:e},function(t){return{$x:function(){return st(t)}}})}}),KJ=q({sin_:function(n){var e=j(n,"x","sin"),t=[e];return G.runKernelFunc(function(r,i){var o=r.sin(e);return i([e]),o},{x:e},function(r,i){var o=i[0];return{x:function(){return o.toFloat().cos().mul(r)}}},"Sin",{},t)}}),YJ=q({sinh_:function(n){var e=j(n,"x","sinh");return G.runKernelFunc(function(t,r){var i=t.sinh(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return i.toFloat().cosh().mulStrict(t)}}})}}),XJ=q({softplus_:function(n){var e=j(n,"x","softplus");return G.runKernelFunc(function(t,r){var i=t.softplus(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.mul(i.sigmoid())}}})}}),ZJ=q({sqrt_:function(n){var e=j(n,"x","sqrt");return G.runKernelFunc(function(t,r){var i=t.sqrt(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.toFloat().sqrt().mul(2))}}})}}),JJ=q({step_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","step");return G.runKernelFunc(function(r){return r.step(t,e)},{$x:t},function(r){return{$x:function(){return st(r)}}})}}),QJ=q({tan_:function(n){var e=j(n,"x","tan");return G.runKernelFunc(function(t,r){var i=t.tan(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return t.div(i.cos().square())}}})}}),eQ=q({tanh_:function(n){var e=j(n,"x","tanh");return G.runKernelFunc(function(t,r){var i=t.tanh(e);return r([i]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return xe(1).sub(i.square()).mulStrict(t)}}},"Tanh",{},null,[!0])}});function hA(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),W(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),W(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===2||a.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Xd(l,c,u,s,a,o)}function fA(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),W(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),W(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===3||a.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Xd(l,c,u,s,a,o)}function pA(n,e,t,r,i,o){var a,s,l=j(n,"x","batchNorm"),c=j(e,"mean","batchNorm"),u=j(t,"variance","batchNorm");return i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(l.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),W(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),W(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+u.rank+"."}),a!=null&&W(a.rank===4||a.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),s!=null&&W(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Xd(l,c,u,s,a,o)}function Xd(n,e,t,r,i,o){o==null&&(o=.001);var a,s,l,c=j(n,"x","batchNorm"),u=j(e,"mean","batchNorm"),d=j(t,"variance","batchNorm");i!=null&&(a=j(i,"scale","batchNorm")),r!=null&&(s=j(r,"offset","batchNorm")),W(u.rank===d.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),W(s==null||u.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),W(a==null||u.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=c.rank===0||c.rank===1?c.as4D(1,1,1,c.size):c.rank===2?c.as4D(1,1,c.shape[0],c.shape[1]):c.rank===3?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var h=[c,u,d,a];return G.runKernelFunc(function(f,p){var m=f.batchNormalization(l,Vh(u),Vh(d),o,Vh(a),Vh(s));return p([c,u,d,a]),m},{x:c,mean:u,variance:d,scale:a,offset:s},function(f,p){var m=p,b=m[0],g=m[1],v=m[2],x=m[3],y=x==null?xe(1):x,w=an(g.shape,l.shape),E=[];if(g.rank===1){for(var C=0;C<l.shape.length-1;++C)E.push(l.shape[C]);E.push(1)}var S=b.sub(g),_=f.mul(y),A=uA(v.add(xe(o))),D=A.mul(A).mul(A).mul(xe(-.5));return{x:function(){return g.rank===1?f.mul(ec(A.as4D(1,1,1,g.shape[0]),E)).mul(y).reshape(b.shape):f.mul(A).mul(y).reshape(b.shape)},mean:function(){var I=A.mul(xe(-1)).mul(_);return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)},variance:function(){var I=D.mul(S).mul(_);return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)},scale:function(){var I=S.mul(A),M=f.mul(I);return g.rank===1&&(M=M.sum(w)),M.reshape(g.shape)},offset:function(){var I=f;return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)}}},"BatchNormalization",{varianceEpsilon:o},h).reshape(c.shape)}function Vh(n){return n==null?null:n.rank===0?n.as1D():n.rank===1?n:n.rank===2?n.as4D(1,1,n.shape[0],n.shape[1]):n.rank===3?n.as4D(1,n.shape[0],n.shape[1],n.shape[2]):n}function eg(){IT("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var tQ=q({batchNormalization2d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),eg(),hA(n,e,t,o,i,r)}}),nQ=q({batchNormalization3d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),eg(),fA(n,e,t,o,i,r)}}),rQ=q({batchNormalization4d_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),eg(),pA(n,e,t,o,i,r)}}),iQ=q({batchNormalization_:function(n,e,t,r,i,o){return r===void 0&&(r=.001),eg(),Xd(n,e,t,o,i,r)}}),mA=q({batchNorm_:Xd}),oQ=q({batchNorm2d_:hA}),aQ=q({batchNorm3d_:fA}),sQ=q({batchNorm4d_:pA}),tg=q({logicalAnd_:function(n,e){var t=j(n,"a","logicalAnd","bool"),r=j(e,"b","logicalAnd","bool");return nt(t.shape,r.shape),G.runKernelFunc(function(i){return i.logicalAnd(t,r)},{a:t,b:r},null,"LogicalAnd")}}),lQ=q({logicalNot_:function(n){var e=j(n,"x","logicalNot","bool");return G.runKernelFunc(function(t){return t.logicalNot(e)},{$x:e})}}),gA=q({logicalOr_:function(n,e){var t=j(n,"a","logicalOr","bool"),r=j(e,"b","logicalOr","bool");return nt(t.shape,r.shape),G.runKernelFunc(function(i){return i.logicalOr(t,r)},{$a:t,$b:r})}}),cQ=q({logicalXor_:function(n,e){var t=j(n,"a","logicalXor","bool"),r=j(e,"b","logicalXor","bool");return nt(t.shape,r.shape),gA(n,e).logicalAnd(tg(n,e).logicalNot())}}),Ls=q({where_:function(n,e,t){var r=j(e,"a","where"),i=j(t,"b","where"),o=j(n,"condition","where","bool");return ut(r.shape,i.shape,"Error in where: "),o.rank===1?W(o.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):ut(o.shape,i.shape,"Error in where: "),G.runKernelFunc(function(a,s){var l=a.select(o,r,i);return s([o]),l},{$condition:o,$a:r,$b:i},function(a,s){var l=s[0];return{$condition:function(){return st(l).toFloat()},$a:function(){return a.mul(l.cast(a.dtype))},$b:function(){return a.mul(l.logicalNot().cast(a.dtype))}}})}}),bA=function(n){return Ee(this,void 0,void 0,function(){var e,t,r;return Se(this,function(i){switch(i.label){case 0:return[4,(e=j(n,"condition","whereAsync","bool")).data()];case 1:return t=i.sent(),r=M1(e.shape,t),n!==e&&e.dispose(),[2,r]}})})},et=q({add_:function(n,e){var t,r=j(n,"a","add"),i=j(e,"b","add");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a){return a.add(r,i)},{a:r,b:i},function(a){return{a:function(){var s=a,l=an(r.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=a,l=an(i.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(i.shape)}}},"Add")}}),uQ=q({addN_:function(n){W(Array.isArray(n),function(){return"The argument passed to tf.addN() must be a list of tensors"}),W(n.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+n.length});var e=n.map(function(i,o){return j(i,"tensors"+o,"addN")}),t=e[0];e.forEach(function(i){if(i.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(i){if(!wn(i.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return G.runKernelFunc(function(i){return i.addN(e)},r,function(i){var o={};return e.forEach(function(a,s){o[s]=function(){return i.clone()}}),o},"AddN")}}),dQ=q({addStrict_:function(n,e){var t=j(n,"a","addStrict"),r=j(e,"b","addStrict");return ut(t.shape,r.shape,"Error in addStrict: "),t.add(r)}}),hQ=q({atan2_:function(n,e){var t,r=j(n,"a","atan2"),i=j(e,"b","atan2");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.atan2(r,i);return s([r,i]),l},{$a:r,$b:i},function(a,s){var l=s[0],c=s[1];return{$a:function(){var u=et(l.square(),c.square()),d=a.mul(c.div(u)),h=an(l.shape,o);return h.length>0&&(d=d.sum(h)),d.reshape(l.shape)},$b:function(){var u=et(l.square(),c.square()),d=Mp(a.mul(l.div(u))),h=an(c.shape,o);return h.length>0&&(d=d.sum(h)),d.reshape(c.shape)}}})}}),hi=q({div_:function(n,e){var t,r=j(n,"a","div"),i=j(e,"b","div");if(t=Pt(r,i),r=t[0],i=t[1],r.dtype==="int32"&&i.dtype==="int32")return vA(r,i);var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.realDivide(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.div(c.toFloat()),d=an(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=an(c.shape,o);d.length>0&&(u=u.sum(d).reshape(c.shape));var h=c.square();return u.div(h.toFloat()).neg()}}},"Div")}}),fQ=q({divNoNan_:function(n,e){var t,r=j(n,"a","div"),i=j(e,"b","div");r=(t=Pt(r,i))[0],i=t[1];var o=hi(r,i),a=st(o),s=i.equal(a);return Ls(s,a,o)}}),pQ=q({divStrict_:function(n,e){var t=j(n,"a","div"),r=j(e,"b","div");return ut(t.shape,r.shape,"Error in divideStrict: "),t.div(r)}}),vA=q({floorDiv_:function(n,e){var t,r=j(n,"a","floorDiv"),i=j(e,"b","floorDiv");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.floorDiv(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.div(c.toFloat()),d=an(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=an(c.shape,o);d.length>0&&(u=u.sum(d).reshape(c.shape));var h=c.square();return u.div(h.toFloat()).neg()}}},"FloorDiv")}}),j1=q({maximum_:function(n,e){var t,r=j(n,"a","maximum"),i=j(e,"b","maximum");return t=Pt(r,i),r=t[0],i=t[1],r.dtype==="bool"&&(r=r.toInt(),i=i.toInt()),nt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.maximum(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return o.mul(s.greaterEqual(l).toFloat())},b:function(){return o.mul(s.less(l).toFloat())}}},"Maximum")}}),mQ=q({maximumStrict_:function(n,e){var t=j(n,"a","maximumStrict"),r=j(e,"b","maximumStrict");return ut(t.shape,r.shape,"Error in maximumStrict: "),t.maximum(r)}}),xA=q({minimum_:function(n,e){var t,r=j(n,"a","minimum"),i=j(e,"b","minimum");return t=Pt(r,i),r=t[0],i=t[1],r.dtype==="bool"&&(r=r.toInt(),i=i.toInt()),nt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.minimum(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return o.mul(s.lessEqual(l).toFloat())},b:function(){return o.mul(s.greater(l).toFloat())}}},"Minimum")}}),gQ=q({minimumStrict_:function(n,e){var t=j(n,"a","minimumStrict"),r=j(e,"b","minimumStrict");return ut(t.shape,r.shape,"Error in minimumStrict: "),t.minimum(r)}}),bQ=q({mod_:function(n,e){var t,r=j(n,"a","mod"),i=j(e,"b","mod");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.mod(r,i);return s([r,i]),l},{$a:r,$b:i},function(a,s){var l=s[0],c=s[1];return{$a:function(){var u=an(l.shape,o);return u.length>0?a.sum(u).reshape(l.shape):a},$b:function(){var u=a.mul(l.div(c).floor().neg()),d=an(c.shape,o);return d.length>0?u.sum(d).reshape(c.shape):u}}})}}),vQ=q({modStrict_:function(n,e){var t=j(n,"a","modStrict"),r=j(e,"b","modStrict");return ut(t.shape,r.shape,"Error in modStrict: "),t.mod(r)}}),$n=q({mul_:function(n,e){var t,r=j(n,"a","mul"),i=j(e,"b","mul");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a,s){var l=a.multiply(r,i);return s([r,i]),l},{a:r,b:i},function(a,s){var l=s[0],c=s[1];return{a:function(){var u=a.mul(c.toFloat()),d=an(l.shape,o);return d.length>0?u.sum(d).reshape(l.shape):u},b:function(){var u=a.mul(l.toFloat()),d=an(c.shape,o);return d.length>0?u.sum(d).reshape(c.shape):u}}},"Mul")}}),xQ=q({mulStrict_:function(n,e){var t=j(n,"a","mul"),r=j(e,"b","mul");return ut(t.shape,r.shape,"Error in multiplyStrict: "),t.mul(r)}}),Bp=q({pow_:function(n,e){var t,r=j(n,"base","pow"),i=j(e,"exp","pow");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape),a=[r,i];return G.runKernelFunc(function(s,l){var c=s.pow(r,i);return l([r,i,c]),c},{a:r,b:i},function(s,l){var c=l[0],u=l[1],d=l[2];return{a:function(){var h=u.toFloat(),f=s.mul(h.mul(c.pow(h.sub(xe(1))))),p=an(c.shape,o);return p.length>0&&(f=f.sum(p)),f.reshape(c.shape)},b:function(){var h=c.greater(0),f=c.log().where(h,st(c)),p=s.mul(d.mul(f)),m=an(u.shape,o);return m.length>0&&(p=p.sum(m)),p.reshape(u.shape)}}},"Pow",{},a,[!0])}}),yQ=q({powStrict_:function(n,e){return ut(n.shape,e.shape,"Error in powStrict: "),n.pow(e)}}),wQ=q({squaredDifferenceStrict_:function(n,e){var t=j(n,"a","squaredDifferenceStrict"),r=j(e,"b","squaredDifferenceStrict");return ut(t.shape,r.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(r)}}),sn=q({sub_:function(n,e){var t,r=j(n,"a","sub"),i=j(e,"b","sub");t=Pt(r,i),r=t[0],i=t[1];var o=nt(r.shape,i.shape);return G.runKernelFunc(function(a){return a.subtract(r,i)},{a:r,b:i},function(a){return{a:function(){var s=a,l=an(r.shape,o);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)},b:function(){var s=a,l=an(i.shape,o);return l.length>0&&(s=s.sum(l)),s.neg().reshape(i.shape)}}},"Sub")}}),kQ=q({subStrict_:function(n,e){var t=j(n,"a","subStrict"),r=j(e,"b","subStrict");return ut(t.shape,r.shape,"Error in subStrict: "),t.sub(r)}}),yA=q({equal_:function(n,e){var t,r=j(n,"a","equal"),i=j(e,"b","equal");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o){return o.equal(r,i)},{$a:r,$b:i})}}),_Q=q({equalStrict_:function(n,e){var t=j(n,"a","equalStrict"),r=j(e,"b","equalStrict");return ut(t.shape,r.shape,"Error in equalStrict: "),t.equal(r)}}),CQ=q({greater_:function(n,e){var t,r=j(n,"a","greater"),i=j(e,"b","greater");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o){return o.greater(r,i)},{a:r,b:i},null,"Greater")}}),wA=q({greaterEqual_:function(n,e){var t,r=j(n,"a","greaterEqual"),i=j(e,"b","greaterEqual");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.greaterEqual(r,i);return a([r,i]),s},{a:r,b:i},function(o,a){var s=a[0],l=a[1];return{a:function(){return st(s)},b:function(){return st(l)}}},"GreaterEqual")}}),EQ=q({greaterEqualStrict_:function(n,e){var t=j(n,"a","greaterEqualStrict"),r=j(e,"b","greaterEqualStrict");return ut(t.shape,r.shape,"Error in greaterEqualStrict: "),t.greaterEqual(r)}}),SQ=q({greaterStrict_:function(n,e){var t=j(n,"a","greaterStrict"),r=j(e,"b","greaterStrict");return ut(t.shape,r.shape,"Error in greaterStrict: "),t.greater(r)}}),TQ=q({less_:function(n,e){var t,r=j(n,"a","less"),i=j(e,"b","less");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o){return o.less(r,i)},{a:r,b:i},null,"Less")}}),AQ=q({lessEqual_:function(n,e){var t,r=j(n,"a","lessEqual"),i=j(e,"b","lessEqual");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o,a){var s=o.lessEqual(r,i);return a([r,i]),s},{a:r,b:i},null,"LessEqual")}}),IQ=q({lessEqualStrict_:function(n,e){var t=j(n,"a","lessEqualStrict"),r=j(e,"b","lessEqualStrict");return ut(t.shape,r.shape,"Error in lessEqualStrict: "),t.lessEqual(r)}}),RQ=q({lessStrict_:function(n,e){var t=j(n,"a","lessStrict"),r=j(e,"b","lessStrict");return ut(t.shape,r.shape,"Error in lessStrict: "),t.less(r)}}),DQ=q({notEqual_:function(n,e){var t,r=j(n,"a","notEqual"),i=j(e,"b","notEqual");return t=Pt(r,i),r=t[0],i=t[1],nt(r.shape,i.shape),G.runKernelFunc(function(o){return o.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),OQ=q({notEqualStrict_:function(n,e){var t=j(n,"a","notEqualStrict"),r=j(e,"b","notEqualStrict");return ut(t.shape,r.shape,"Error in notEqualStrict: "),t.notEqual(r)}});function L3(n,e){for(var t=[],r=n;r<e;++r)t.push(r);return t}function z3(n){for(var e=[],t=0;t<n.length;++t)for(var r=0;r<n[t].length;++r)e.push(n[t][r]);return e}var N1=q({gather_:function(n,e,t){t===void 0&&(t=0);var r=j(n,"x","gather"),i=j(e,"indices","gather","int32");t=ln(t,r.shape)[0];var o=function(a,s,l){for(var c=a.shape[l],u=[],d=1,h=1,f=0;f<l;f++)u.push(a.shape[f]),d*=a.shape[f];for(f=0;f<s.rank;f++)u.push(s.shape[f]);for(f=l+1;f<a.rank;f++)u.push(a.shape[f]),h*=a.shape[f];return{batchSize:d,sliceSize:h,dimSize:c,outputShape:u}}(r,i,t);return G.runKernelFunc(function(a,s){var l=a.gather(r,i.flatten(),t);return s([i]),l},{x:r,indices:i},function(a,s){var l=s[0];return{x:function(){var c=r.shape,u=l.size,d=c.slice(0,t),h=d.length,f=c.slice(t,c.length).slice(1),p=f.length,m=L3(0,h),b=L3(h+1,h+1+p),g=z3([d,[u],f]),v=a.reshape(g),x=l.reshape([u]),y=z3([[h],m,b]),w=v.transpose(y),E=kA(w,x,r.shape[t]),C=E1(y);return E=E.transpose(C)},indices:function(){return l}}},"Gather",{axis:t}).reshape(o.outputShape)}}),kA=q({unsortedSegmentSum_:function(n,e,t){var r=j(n,"x","unsortedSegmentSum"),i=j(e,"segmentIds","unsortedSegmentSum","int32");return W(Wt(t),function(){return"numSegments must be of dtype int"}),G.runKernelFunc(function(o,a){var s=o.unsortedSegmentSum(r,i,t);return a([i]),s},{$x:r},function(o,a){var s=a[0];return{$x:function(){return function(l,c){for(var u=j1(c,st(c)),d=N1(l,u),h=wA(c,xe(0,"int32")),f=d.rank-h.rank,p=0;p<f;++p)h=Wr(h,p+1);h=tg(h,Hc(d.shape,"bool"));var m=st(d);return Ls(h,d,m)}(o,s)}}})}}),MQ=function(n,e,t){return Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m;return Se(this,function(b){switch(b.label){case 0:for(r=j(n,"tensor","boolMask"),i=j(e,"mask","boolMask","bool"),o=t==null?0:t,a=i.rank,s=r.shape,W(a>0,function(){return"mask cannot be scalar"}),ut(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=o;c<o+a;c++)l*=s[c];return u=s.slice(0,o).concat([l],s.slice(o+a)),d=r.reshape(u),h=i.reshape([-1]),[4,bA(h)];case 1:return f=b.sent(),p=f.squeeze([1]),m=N1(d,p,o),n!==r&&r.dispose(),e!==i&&i.dispose(),p.dispose(),d.dispose(),h.dispose(),f.dispose(),[2,m]}})})};function _A(n,e,t,r,i,o,a){o===void 0&&(o="NHWC"),W(n.length===e.rank,function(){return"Length of inShape ("+n.length+") and rank of dy ("+e.rank+") must match"});var s=n,l=e,c=!1;e.rank===3&&(c=!0,l=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,n[0],n[1],n[2]]),W(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),W(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),W(t.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+t.rank});var u=o==="NHWC"?s[3]:s[1],d=o==="NHWC"?l.shape[3]:l.shape[1];W(u===t.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+u+") must match input depth for filter "+t.shape[2]+"."}),W(d===t.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+t.shape[3]+"."}),a!=null&&W(Wt(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var h=R1(o),f=Js(s,t.shape,r,1,i,a,!1,h),p=G.runKernelFunc(function(m,b){var g=m.conv2dDerInput(l,t,f);return b([t,l]),g},{dy4D:l,filter:t},function(m,b){var g=b[0],v=b[1];return{dy4D:function(){return ii(m,g,r,i,o,1,a)},filter:function(){return F1(m,v,g.shape,r,i,o,a)}}});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function G0(n){var e=function(o){return typeof o=="number"?[o,o,o]:o.length===2?[o[0],o[1],1]:o}(n),t=e[0],r=e[1],i=e[2];return t===1&&r===1&&i===1}function CA(n,e,t,r,i){W(n.length===e.rank,function(){return"Length of inShape ("+n.length+") and rank of dy ("+e.rank+") must match"});var o=n,a=e,s=!1;e.rank===4&&(s=!0,a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,n[0],n[1],n[2],n[3]]);var l=o[4],c=a.shape[4];W(o.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."}),W(a.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),W(t.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+t.rank}),W(l===t.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+t.shape[3]+"."}),W(c===t.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+t.shape[4]+"."});var u=Dp(o,t.shape,r,1,i),d=G.runKernelFunc(function(h){return h.conv3dDerInput(a,t,u)},{dy5D:a});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var BQ=q({conv1d_:function(n,e,t,r,i,o,a){i===void 0&&(i="NWC"),o===void 0&&(o=1);var s=j(n,"x","conv1d"),l=j(e,"filter","conv1d"),c=s,u=!1;s.rank===2&&(u=!0,c=s.as3D(1,s.shape[0],s.shape[1])),W(c.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),W(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),a!=null&&W(Wt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),W(c.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),W(fr(t,o),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+t+" and dilation '"+o+"'"}),W(i==="NWC",function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),h=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),f=ii(h,d,[1,t],r,"NHWC",[1,o],a);return u?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),ii=q({conv2d_:function(n,e,t,r,i,o,a){i===void 0&&(i="NHWC"),o===void 0&&(o=[1,1]);var s=j(n,"x","conv2d"),l=j(e,"filter","conv2d"),c=s,u=!1;s.rank===3&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),W(c.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),W(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),a!=null&&W(Wt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=i==="NHWC"?c.shape[3]:c.shape[1];W(d===l.shape[2],function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+l.shape[2]+"."}),W(fr(t,o),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"});var h=R1(i),f=Js(c.shape,l.shape,t,o,r,a,!1,h),p=[l,c],m=G.runKernelFunc(function(b,g){var v=b.conv2d(c,l,f);return g([l,c]),v},{x:c,filter:l},function(b,g){var v=g,x=v[0],y=v[1];return W(Ec(o),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}),{x:function(){return EA(y.shape,b,x,t,r,i)},filter:function(){return F1(y,b,x.shape,t,r,i)}}},"Conv2D",f,p);return u?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),PQ=q({conv3d_:function(n,e,t,r,i,o){i===void 0&&(i="NDHWC"),o===void 0&&(o=[1,1,1]);var a=j(n,"x","conv3d"),s=j(e,"filter","conv3d"),l=a,c=!1;a.rank===4&&(c=!0,l=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),W(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),W(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),W(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),W(function(h,f){return G0(h)||G0(f)}(t,o),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"}),W(i==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var u=Dp(l.shape,s.shape,t,o,r),d=G.runKernelFunc(function(h,f){var p=h.conv3d(l,s,u);return f([l,s]),p},{x:l,$filter:s},function(h,f){W(G0(o),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"});var p=f[0],m=f[1];return{x:function(){return CA(p.shape,h,m,t,r)},$filter:function(){return function(b,g,v,x,y){var w=b;b.rank===4&&(w=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]));var E=g;E.rank===4&&(E=g.as5D(1,g.shape[0],g.shape[1],g.shape[2],g.shape[3])),W(w.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+w.shape+"."}),W(E.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+E.shape+"."}),W(v.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+v+"."}),W(w.shape[4]===v[3],function(){return"Error in conv3dDerFilter: depth of input "+w.shape[4]+") must match input depth in filter ("+v[3]+"."}),W(E.shape[4]===v[4],function(){return"Error in conv3dDerFilter: depth of dy ("+E.shape[4]+") must match output depth for filter ("+v[4]+")."});var C=Dp(w.shape,v,x,1,y);return G.runKernelFunc(function(S){return S.conv3dDerFilter(w,E,C)},{x5D:w,dy5D:E})}(p,h,m.shape,t,r)}}});return c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),F1=q({conv2dDerFilter_:function(n,e,t,r,i,o,a){o===void 0&&(o="NHWC");var s=n;n.rank===3&&(s=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var l=e;l.rank===3&&(l=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),W(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),W(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),W(t.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+t+"."});var c=o==="NHWC"?s.shape[3]:s.shape[1],u=o==="NHWC"?l.shape[3]:l.shape[1];W(c===t[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+t[2]+"."}),W(u===t[3],function(){return"Error in conv2dDerFilter: depth of dy ("+u+") must match output depth for filter ("+t[3]+")."}),a!=null&&W(Wt(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var d=R1(o),h=Js(s.shape,t,r,1,i,a,!1,d);return G.runKernelFunc(function(f){return f.conv2dDerFilter(s,l,h)},{x4D:s,dy4D:l})}}),EA=q({conv2dDerInput_:_A}),ng=q({depthwiseConv2d_:function(n,e,t,r,i,o,a){o===void 0&&(o=[1,1]);var s=j(n,"x","depthwiseConv2d"),l=j(e,"filter","depthwiseConv2d"),c=s,u=!1;s.rank===3&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),W(c.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),W(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),W(c.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),o==null&&(o=[1,1]),W(fr(t,o),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"}),a!=null&&W(Wt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var d=Js(c.shape,l.shape,t,o,r,a,!0),h=[c,l],f=G.runKernelFunc(function(p,m){var b=p.depthwiseConv2D(c,l,d);return m([c,l]),b},{x:c,filter:l},function(p,m){W(Ec(o),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"});var b=m[0],g=m[1];return{x:function(){return SA(b.shape,p,g,d)},filter:function(){return TA(b,p,g.shape,d)}}},"DepthwiseConv2dNative",d,h);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),SA=q({depthwiseConv2dDerInput_:function(n,e,t,r){var i=e,o=!1;e.rank===3&&(o=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=G.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(i,t,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),TA=q({depthwiseConv2dDerFilter_:function(n,e,t,r){var i=n;n.rank===3&&(i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=e;return o.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),G.runKernelFunc(function(a){return a.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}}),$1=q({separableConv2d_:function(n,e,t,r,i,o,a){o===void 0&&(o=[1,1]),a===void 0&&(a="NHWC");var s=j(n,"x","separableConv2d"),l=j(e,"depthwiseFilter","separableConv2d"),c=j(t,"pointwiseFilter","separableConv2d"),u=s,d=!1;if(s.rank===3&&(d=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");W(u.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+u.rank+"."}),W(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),W(c.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),W(c.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),W(c.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var h=l.shape[2],f=l.shape[3];W(c.shape[2]===h*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*f+", but got "+c.shape[2]+"."});var p=ng(u,l,r,i,a,o),m=ii(p,c,1,"valid",a);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),LQ=q({conv2dTranspose_:function(n,e,t,r,i,o){return _A(t,j(n,"x","conv2dTranspose"),j(e,"filter","conv2dTranspose"),r,i,"NHWC",o)}}),zQ=q({conv3dTranspose_:function(n,e,t,r,i){return CA(t,j(n,"x","conv3dTranspose"),j(e,"filter","conv3dTranspose"),r,i)}}),rg=q({matMul_:function(n,e,t,r){var i;t===void 0&&(t=!1),r===void 0&&(r=!1);var o=j(n,"a","matMul"),a=j(e,"b","matMul");i=Pt(o,a),o=i[0],a=i[1];var s=t?o.shape[o.rank-2]:o.shape[o.rank-1],l=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=t?o.shape[o.rank-1]:o.shape[o.rank-2],u=r?a.shape[a.rank-2]:a.shape[a.rank-1],d=o.shape.slice(0,-2),h=a.shape.slice(0,-2),f=Te(d),p=Te(h);W(o.rank>=2&&a.rank>=2&&o.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+a.rank+"."}),W(wn(d,h),function(){return"Error in matMul: outer dimensions ("+d+") and ("+h+") of Tensors with shapes "+o.shape+" and "+a.shape+" must match."}),W(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+o.shape+" and "+a.shape+" and transposeA="+t+" and transposeB="+r+" must match."});var m=o.shape.slice(0,-2).concat([c,u]),b=t?o.as3D(f,s,c):o.as3D(f,c,s),g=r?a.as3D(p,u,l):a.as3D(p,l,u),v={transposeA:t,transposeB:r};return G.runKernelFunc(function(x,y){var w=x.batchMatMul(b,g,t,r);return y([b,g]),w},{a:b,b:g},function(x,y){var w=y,E=w[0],C=w[1];return t||r?!t&&r?{a:function(){return x.matMul(C,!1,!1)},b:function(){return x.matMul(E,!0,!1)}}:t&&!r?{a:function(){return C.matMul(x,!1,!0)},b:function(){return E.matMul(x,!1,!1)}}:{a:function(){return C.matMul(x,!0,!0)},b:function(){return x.matMul(E,!0,!0)}}:{a:function(){return x.matMul(C,!1,!0)},b:function(){return E.matMul(x,!0,!1)}}},"BatchMatMul",v).reshape(m)}}),jQ=q({dot_:function(n,e){var t=j(n,"t1","dot"),r=j(e,"t2","dot");W(!(t.rank!==1&&t.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+r.rank+"."});var i=t.rank===1?t.size:t.shape[1],o=r.rank===1?r.size:r.shape[0];return W(i===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+o+"."}),t.rank===1&&r.rank===1?t.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():t.rank===1&&r.rank===2?t.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():t.rank===2&&r.rank===1?t.matMul(r.as2D(-1,1)).as1D():t.matMul(r.as2D(r.shape[0],r.shape[1]))}}),NQ=q({outerProduct_:function(n,e){var t=j(n,"v1","outerProduct"),r=j(e,"v2","outerProduct");return W(t.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+r.rank+"."}),t.as2D(-1,1).matMul(r.as2D(1,-1))}}),Zd=q({reverse_:function(n,e){var t=j(n,"x","reverse");if(t.rank===0)return t.clone();var r=ln(e,t.shape);return G.runKernelFunc(function(i){return i.reverse(t,r)},{$x:t},function(i){return{$x:function(){return i.reverse(r)}}}).reshapeAs(t)}}),FQ=q({reverse1d_:function(n){var e=j(n,"x","reverse");return W(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),Zd(e,0)}}),$Q=q({reverse2d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+t.rank+"."}),Zd(t,e)}}),UQ=q({reverse3d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+t.rank+"."}),Zd(t,e)}}),HQ=q({reverse4d_:function(n,e){var t=j(n,"x","reverse");return W(t.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+t.rank+"."}),Zd(t,e)}});function AA(n,e,t,r,i,o){var a=j(n,"x","maxPool"),s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),W(fr(t,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"}),o!=null&&W(Wt(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=gd(s.shape,e,t,r,i,o);if(c.filterWidth===1&&c.filterHeight===1&&wn(c.inShape,c.outShape))return a.clone();var u=[s],d=G.runKernelFunc(function(h,f){var p=h.maxPool(s,c);return f([s,p]),p},{x:s},function(h,f){var p=f[0],m=f[1];return{x:function(){return function(b,g,v,x,y,w,E,C){var S=j(b,"dy","maxPoolBackprop"),_=j(g,"input","maxPoolBackprop"),A=j(v,"output","maxPoolBackprop");W(_.rank===S.rank,function(){return"Rank of input ("+_.rank+") does not match rank of dy ("+S.rank+")"}),W(fr(y,w),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+w+"'"}),W(S.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+S.rank+"."}),W(_.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+_.rank+"."});var D=gd(_.shape,x,y,w,E,C);return G.runKernelFunc(function(I){return I.maxPoolBackprop(S,_,A,D)},{$dy:S,$input:_})}(h,p,m,e,t,r,i)}}},"MaxPool",c,u);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function IA(n,e,t,r,i,o){var a=j(n,"x","avgPool","float32");W(fr(t,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"});var s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),o!=null&&W(Wt(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var c=gd(s.shape,e,t,r,i,o);if(c.filterWidth===1&&c.filterHeight===1&&wn(c.inShape,c.outShape))return a.clone();var u=G.runKernelFunc(function(d){return d.avgPool(s,c)},{x:s},function(d){return{x:function(){return function(h,f,p,m,b,g){var v=j(h,"dy","avgPoolBackprop"),x=j(f,"input","avgPoolBackprop");W(x.rank===v.rank,function(){return"Rank of input ("+x.rank+") does not match rank of dy ("+v.rank+")"}),W(fr(m,b),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+m+" and dilations '"+b+"'"});var y=x,w=v,E=!1;x.rank===3&&(E=!0,y=x.as4D(1,x.shape[0],x.shape[1],x.shape[2]),w=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),W(w.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+w.rank+"."}),W(y.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+y.rank+"."});var C=gd(y.shape,p,m,b,g),S=G.runKernelFunc(function(_){return _.avgPoolBackprop(w,y,C)},{dy4D:w,input4D:y});return E?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}(d,s,e,t,r,i)}}},"AvgPool",c);return u=u.cast(a.dtype),l?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}var hn=q({maxPool_:function(n,e,t,r,i){return AA(n,e,t,1,r,i)}}),Jd=q({avgPool_:function(n,e,t,r,i){return IA(n,e,t,1,r,i)}}),WQ=q({pool_:function(n,e,t,r,i,o){i==null&&(i=[1,1]),o==null&&(o=1),r===0&&(r="valid");var a=j(n,"x","maxPool"),s=a,l=!1;a.rank===3&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),W(fr(o,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"});var c,u=gd(s.shape,e,o,i,r),d=[u.dilationHeight,u.dilationWidth];c=r==="same"?function(y,w){var E=y.map(function(_,A){return _+(_-1)*(w[A]-1)}).map(function(_){return _-1}),C=E.map(function(_){return Math.floor(_/2)}),S=E.map(function(_,A){return _-C[A]});return E.map(function(_,A){return[C[A],S[A]]})}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];var h=d[0]===1&&d[1]===1,f=function(y,w,E){var C=E.map(function(T){return T[0]}),S=E.map(function(T){return T[1]}),_=y.concat(C,S),A=w.map(function(T,B){return(T-_[B]%T)%T}),D=S.map(function(T,B){return T+A[B]}),I=w.map(function(T,B){return[C[B],D[B]]}),M=w.map(function(T,B){return[0,A[B]]});return[I,M]}([u.inHeight,u.inWidth],d,c),p=f[0],m=f[1],b=h?r:"valid",g=h?s:PT(s,d,p),v=(t==="avg"?function(){return IA(g,e,o,1,b)}:function(){return AA(g,e,o,1,b)})(),x=h?v:OT(v,d,m);return l?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),VQ=q({maxPool3d_:function(n,e,t,r,i,o,a){o===void 0&&(o="NDHWC");var s=j(n,"x","maxPool3d"),l=s,c=!1;s.rank===4&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),W(l.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),W(o==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),W(fr(t,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),i!=null&&W(Wt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=Rp(l.shape,e,t,a,r,i,o),d=G.runKernelFunc(function(h,f){var p=h.maxPool3d(l,u);return f([l,p]),p},{x:l},function(h,f){var p=f[0],m=f[1];return{x:function(){return function(b,g,v,x,y,w,E,C){var S=j(b,"dy","maxPool3dBackprop"),_=j(g,"input","maxPool3dBackprop"),A=j(v,"output","maxPool3dBackprop"),D=S,I=_,M=A,T=!1;_.rank===4&&(T=!0,D=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3]),I=_.as5D(1,_.shape[0],_.shape[1],_.shape[2],_.shape[3]),M=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),W(D.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+D.rank+"."}),W(I.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+I.rank+"."}),W(M.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+M.rank+"."}),w==null&&(w=[1,1,1]),W(fr(y,w),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+w+"'"}),C!=null&&W(Wt(E),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+C+" but got pad "+E+"."});var B=Rp(I.shape,x,y,w,E,C),L=G.runKernelFunc(function(z){return z.maxPool3dBackprop(D,I,M,B)},{dy5D:D,input5D:I});return T?L.as4D(L.shape[1],L.shape[2],L.shape[3],L.shape[4]):L}(h,p,m,e,t,a,r,i)}}});return c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),qQ=q({avgPool3d_:function(n,e,t,r,i,o,a){o===void 0&&(o="NDHWC");var s=j(n,"x","avgPool3d","float32"),l=s,c=!1;s.rank===4&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),W(l.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),W(o==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),W(fr(t,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),i!=null&&W(Wt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=Rp(l.shape,e,t,a,r,i,o),d=G.runKernelFunc(function(h){return h.avgPool3d(l,u)},{x:l},function(h){return{x:function(){return function(f,p,m,b,g,v,x){var y=j(f,"dy","avgPool3dBackprop"),w=j(p,"input","avgPool3dBackprop"),E=y,C=w,S=!1;w.rank===4&&(S=!0,E=y.as5D(1,y.shape[0],y.shape[1],y.shape[2],y.shape[3]),C=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),W(E.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+E.rank+"."}),W(C.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+C.rank+"."}),g==null&&(g=[1,1,1]),W(fr(b,g),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+g+"'"}),x!=null&&W(Wt(v),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+x+" but got pad "+v+"."});var _=Rp(C.shape,m,b,g,v,x),A=G.runKernelFunc(function(D){return D.avgPool3dBackprop(E,C,_)},{dy5D:E,input5D:C});return S?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}(h,l,e,t,a,r,i)}}});return d=d.cast(l.dtype),c?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Ki=q({slice_:function(n,e,t){var r,i,o=j(n,"x","slice");if(o.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof e=="number"?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice()).forEach(function(l){W(l!==-1,function(){return"slice() does not support negative begin indexing."})}),i=(i=t==null?new Array(o.rank).fill(-1):typeof t=="number"?[t].concat(new Array(o.rank-1).fill(-1)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(-1)):t).map(function(l,c){return l>=0?l:(W(l===-1,function(){return"Negative size values should be exactly -1 but got "+l+" for the slice() size at index "+c+"."}),o.shape[c]-r[c])}),yX(o,r,i);var a=o.shape,s={begin:r,size:i};return G.runKernelFunc(function(l){return l.slice(o,r,i)},{x:o},function(l){for(var c=[],u=0;u<l.rank;u++)c.push([r[u],a[u]-r[u]-i[u]]);return{x:function(){return l.pad(c)}}},"Slice",s)}}),GQ=q({slice1d_:function(n,e,t){var r=j(n,"x","slice1d");return W(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Ki(r,[e],[t])}}),KQ=q({slice2d_:function(n,e,t){var r=j(n,"x","slice2d");return W(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Ki(r,e,t)}}),RA=q({slice3d_:function(n,e,t){var r=j(n,"x","slice3d");return W(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Ki(r,e,t)}}),YQ=q({slice4d_:function(n,e,t){var r=j(n,"x","slice4d");return W(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Ki(r,e,t)}});function DA(n,e,t,r,i){return e.rank<t.rank&&(e=e.reshape(hr(e.shape,r))),n.rank<t.rank&&(n=n.reshape(hr(n.shape,r))),{x:function(){var o=n.mul(t.equal(e).cast(n.dtype));return i==null?o:o.transpose(i)}}}var XQ=q({all_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","all","bool"),i=ln(e,r.shape),o=i,a=Qi(o,r.rank);a!=null&&(r=r.transpose(a),o=eo(o.length,r.rank));var s=G.runKernelFunc(function(c){return c.all(r,o)},{$x:r});if(t){var l=hr(s.shape,i);return s.reshape(l)}return s}}),ZQ=q({any_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","any","bool"),i=ln(e,r.shape),o=i,a=Qi(o,r.rank);a!=null&&(r=r.transpose(a),o=eo(o.length,r.rank));var s=G.runKernelFunc(function(c){return c.any(r,o)},{$x:r});if(t){var l=hr(s.shape,i);return s.reshape(l)}return s}}),JQ=q({argMax_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","argMax");e==null&&(e=0);var r=ln(e,t.shape),i=Qi(r,t.rank);i!=null&&(t=t.transpose(i),r=eo(r.length,t.rank));var o={axis:r[0]},a=[t];return G.runKernelFunc(function(s,l){var c=s.argMax(t,r[0]);return l([t]),c},{x:t},function(s,l){var c=l[0];return{x:function(){return st(c)}}},"ArgMax",o,a)}}),QQ=q({argMin_:function(n,e){e===void 0&&(e=0);var t=j(n,"x","argMin");e==null&&(e=0);var r=ln(e,t.shape),i=Qi(r,t.rank);return i!=null&&(t=t.transpose(i),r=eo(r.length,t.rank)),G.runKernelFunc(function(o,a){var s=o.argMin(t,r[0]);return a([t]),s},{$x:t},function(o,a){var s=a[0];return{$x:function(){return st(s)}}})}}),eee=q({logSumExp_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","logSumExp"),i=ln(e,r.shape),o=r.max(i,!0),a=r.sub(o).exp().sum(i).log(),s=o.reshape(a.shape).add(a);if(t){var l=hr(s.shape,i);return s.reshape(l)}return s}}),ig=q({max_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","max"),i=r,o=ln(e,r.shape),a=o,s=Qi(a,r.rank);s!=null&&(r=r.transpose(s),a=eo(a.length,r.rank));var l=[r],c=G.runKernelFunc(function(d,h){var f=d.max(r,a);return h([i,f]),f},{x:r},function(d,h){return DA(d,h[1],h[0],o,s)},"Max",{axes:a},l,[!0]);if(t){var u=hr(c.shape,o);c=c.reshape(u)}return c}}),tee=q({mean_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","mean"),i=ln(e,r.shape),o=Te(Bn(r.shape,i)[1]);return Qm(function(a){var s=xe(o);return{value:(s.dtype===a.dtype?a:a.cast(s.dtype)).div(s).sum(e,t),gradFunc:function(l){var c=a.shape.slice();return i.forEach(function(u){c[u]=1}),l.reshape(c).mul(Hc(a.shape,"float32")).div(o)}}})(r)}}),nee=q({min_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","min"),i=r,o=ln(e,r.shape),a=o,s=Qi(a,r.rank);s!=null&&(r=r.transpose(s),a=eo(a.length,r.rank));var l=[r],c=G.runKernelFunc(function(d,h){var f=d.min(r,a);return h([i,f]),f},{x:r},function(d,h){return DA(d,h[1],h[0],o,s)},"Min",{axes:a},l,[!0]);if(t){var u=hr(c.shape,o);c=c.reshape(u)}return c}}),ree=q({moments_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=ln(e,(n=j(n,"x","moments")).shape),i=n.mean(r,t),o=i.shape;t||(o=hr(i.shape,r));var a=n.toFloat().sub(i.reshape(o)).square();return{mean:i,variance:a.mean(r,t)}}}),OA=q({sum_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","sum");r.dtype==="bool"&&(r=r.toInt());var i=ln(e,r.shape);return Qm(function(o){var a=Qi(i,o.rank),s=i,l=o;a!=null&&(l=o.transpose(a),s=eo(s.length,o.rank));var c=function(f){var p=o.shape.slice();return i.forEach(function(m){p[m]=1}),f.reshape(p).mul(Hc(o.shape,"float32"))},u={axes:s},d=G.runKernelFunc(function(f){return f.sum(l,s)},{x:l},function(f){return{x:function(){return c(f)}}},"Sum",u);if(t){var h=hr(d.shape,i);d=d.reshape(h)}return{value:d,gradFunc:c}})(r)}}),iee=q({prod_:function(n,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var r=j(n,"x","prod");r.dtype==="bool"&&(r=r.toInt());var i=ln(e,r.shape),o=Qi(i,r.rank),a=i,s=r;o!=null&&(s=r.transpose(o),a=eo(a.length,r.rank));var l=G.runKernelFunc(function(u){return u.prod(s,a)},{permutedX:s});if(t){var c=hr(l.shape,i);l=l.reshape(c)}return l}}),MA=q({elu_:function(n){var e=j(n,"x","elu");return G.runKernelFunc(function(t,r){var i=t.elu(e);return r([i]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){return G.runKernelFunc(function(o){return o.eluDer(t,i)},{dy:t,y:i})}}})}}),oee=q({leakyRelu_:function(n,e){e===void 0&&(e=.2);var t=j(n,"x","leakyRelu");return j1(xe(e).mul(t),t)}}),BA=q({prelu_:function(n,e){var t=j(n,"x","prelu"),r=j(e,"alpha","prelu");return G.runKernelFunc(function(i,o){var a=i.prelu(t,r);return o([t,r]),a},{x:t,alpha:r},function(i,o){var a=o[0],s=o[1],l=a.greater(0);return{x:function(){return Ls(l,i,i.mul(s))},alpha:function(){var c=Ls(l,st(i),i.mul(a)),u=an(s.shape,i.shape);return u.length>0&&(c=c.sum(u)),c.reshape(s.shape)}}},"Prelu")}}),Ot=q({relu_:function(n){var e=j(n,"x","relu");return e.dtype==="bool"?e.toInt():G.runKernelFunc(function(t,r){var i=t.relu(e);return r([e]),i},{x:e},function(t,r){var i=r[0];return{x:function(){return t.mulStrict(i.step().toFloat())}}},"Relu")}}),PA=q({relu6_:function(n){var e=j(n,"x","relu6");return e.dtype==="bool"?e.toInt():G.runKernelFunc(function(t,r){var i=t.relu6(e);return r([e]),i},{x:e},function(t,r){var i=r[0],o=i.lessEqual(6).mul(i.step());return{x:function(){return t.mulStrict(o.toFloat())}}},"Relu6")}}),aee=q({selu_:function(n){var e=j(n,"x","selu");return G.runKernelFunc(function(t,r){var i=t.selu(e);return r([e]),i},{$x:e},function(t,r){var i=r[0];return{$x:function(){var o=i.greater(xe(0)),a=xe(P1),s=xe(L1),l=t.mul(s),c=t.mul(a).mul(i.toFloat().exp());return Ls(o,l,c)}}})}}),Ma=q({transpose_:function(n,e){var t=j(n,"x","transpose");if(e==null&&(e=t.shape.map(function(i,o){return o}).reverse()),W(t.rank===e.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of perm "+e+"."}),e.forEach(function(i){W(i>=0&&i<t.rank,function(){return"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+e})}),t.rank<=1)return t.clone();var r={perm:e};return G.runKernelFunc(function(i){return i.transpose(t,e)},{x:t},function(i){var o=E1(e);return{x:function(){return i.transpose(o)}}},"Transpose",r)}}),see=q({localResponseNormalization_:function(n,e,t,r,i){e===void 0&&(e=5),t===void 0&&(t=1),r===void 0&&(r=1),i===void 0&&(i=.5);var o=j(n,"x","localResponseNormalization");W(o.rank===4||o.rank===3,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."}),W(Wt(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var a=o,s=!1;o.rank===3&&(s=!0,a=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var l=G.runKernelFunc(function(c,u){var d=c.localResponseNormalization4D(a,e,t,r,i);return u([a,d]),d},{x4D:a},function(c,u){var d=u[0],h=u[1];return{x4D:function(){return G.runKernelFunc(function(f){return f.LRNGrad(c,d,h,e,t,r,i)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),LA=q({norm_:function(n,e,t,r){e===void 0&&(e="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1);var i=function s(l,c,u){if(u===void 0&&(u=null),l.rank===0)return l.abs();if(l.rank!==1&&u===null)return s(l.reshape([-1]),c,u);if(l.rank===1||typeof u=="number"||Array.isArray(u)&&u.length===1){if(c===1)return l.abs().sum(u);if(c===1/0)return l.abs().max(u);if(c===-1/0)return l.abs().min(u);if(c==="euclidean"||c===2)return l.abs().pow(xe(2,"int32")).sum(u).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}if(Array.isArray(u)&&u.length===2){if(c===1)return l.abs().sum(u[0]).max(u[1]-1);if(c===1/0)return l.abs().sum(u[1]).max(u[0]);if(c===-1/0)return l.abs().sum(u[1]).min(u[0]);if(c==="fro"||c==="euclidean")return l.square().sum(u).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}throw new Error("Error in norm: invalid axis: "+u)}(n=j(n,"x","norm"),e,t),o=i.shape;if(r){var a=ln(t,n.shape);o=hr(i.shape,a)}return i.reshape(o)}}),lee=q({basicLSTMCell_:function(n,e,t,r,i,o){var a=j(n,"forgetBias","basicLSTMCell"),s=j(e,"lstmKernel","basicLSTMCell"),l=j(t,"lstmBias","basicLSTMCell"),c=j(r,"data","basicLSTMCell"),u=j(i,"c","basicLSTMCell"),d=j(o,"h","basicLSTMCell"),h=c.concat(d,1).matMul(s).add(l),f=h.shape[0],p=h.shape[1]/4,m=[f,p],b=h.slice([0,0],m),g=h.slice([0,p],m),v=h.slice([0,2*p],m),x=h.slice([0,3*p],m),y=b.sigmoid().mulStrict(g.tanh()).addStrict(u.mulStrict(a.add(v).sigmoid())),w=y.tanh().mulStrict(x.sigmoid());return[y,w]}}),cee=q({multiRNNCell_:function(n,e,t,r){for(var i=j(e,"data","multiRNNCell"),o=Cp(t,"c","multiRNNCell"),a=Cp(r,"h","multiRNNCell"),s=i,l=[],c=0;c<n.length;c++){var u=n[c](s,o[c],a[c]);l.push(u[0]),l.push(u[1]),s=u[1]}var d=[],h=[];for(c=0;c<l.length;c+=2)d.push(l[c]),h.push(l[c+1]);return[d,h]}}),uee=q({movingAverage_:function(n,e,t,r,i){i===void 0&&(i=!0);var o=j(n,"v","movingAverage"),a=j(e,"x","movingAverage"),s=j(t,"decay","movingAverage");sY(o,a),W(wn(o.shape,a.shape),function(){return"Shape mismatch in v and x"});var l=xe(1),c=l.sub(s),u=a.sub(o).mul(c);if(i){W(r!=null,function(){return"When using zeroDebias: true, step is required."});var d=j(r,"step","movingAverage");u=u.div(l.sub(Bp(s,d)))}return o.add(u)}}),dee=q({stridedSlice_:function(n,e,t,r,i,o,a,s,l){if(i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),r==null&&(r=new Array(e.length)),a!==0)throw new Error("ellipsis mask is not yet supported");var c=j(n,"x","stridedSlice"),u=g3(s),d=c.shape.slice();u.forEach(function(b){e[b]=0,t[b]=1,d.splice(b,0,1)}),c=c.reshape(d);for(var h=0;h<c.rank;h++)e[h]=wX(i,e,r,c.shape,h),t[h]=kX(o,t,r,c.shape,h),r[h]=r[h]||1;var f=g3(l);f.forEach(function(b){t[b]=e[b]+1,r[b]=1});var p=I1(e,t,r),m=p.filter(function(b,g){return f.indexOf(g)===-1});return r.every(function(b){return b===1})?Ki(c,e,p).reshape(m):G.runKernelFunc(function(b){return b.stridedSlice(c,e,t,r)},{$x:c}).reshape(m)}}),hee=q({topk_:function(n,e,t){e===void 0&&(e=1),t===void 0&&(t=!0);var r=j(n,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(e>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+e);var o=G.runKernelFunc(function(a){return a.topk(r,e,t)},{$x:r});return{values:o[0],indices:o[1]}}}),fee=q({scatterND_:function(n,e,t){var r=j(n,"indices","scatterND","int32"),i=j(e,"updates","scatterND");return xX(i,r,t),G.runKernelFunc(function(o){return o.scatterND(r,i,t)},{indices:r,updates:i},null,"ScatterNd",{shape:t})}}),U1=q({fft_:function(n){W(n.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+n.dtype+"."});var e=n.shape[n.shape.length-1],t=n.size/e,r=n.as2D(t,e);return G.runKernelFunc(function(i){return i.fft(r)},{input:n}).reshape(n.shape)}}),Pp=q({ifft_:function(n){W(n.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+n.dtype+"."});var e=n.shape[n.shape.length-1],t=n.size/e,r=n.as2D(t,e);return G.runKernelFunc(function(i){return i.ifft(r)},{input:n}).reshape(n.shape)}}),H1=q({rfft_:function(n,e){W(n.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+n.dtype});var t,r=n.shape[n.shape.length-1],i=n.size/r;if(e!=null&&e<r){var o=n.shape.map(function(g){return 0}),a=n.shape.map(function(g){return g});a[n.shape.length-1]=e,t=n.slice(o,a),r=e}else if(e!=null&&e>r){var s=n.shape.map(function(g){return g});s[n.shape.length-1]=e-r,t=n.concat(Ct(s),n.shape.length-1),r=e}else t=n;var l=t.zerosLike(),c=Sn(t,l).as2D(i,r),u=U1(c),d=Math.floor(r/2)+1,h=Gr(u),f=zi(u),p=h.split([d,r-d],h.shape.length-1),m=f.split([d,r-d],f.shape.length-1),b=t.shape.slice();return b[t.shape.length-1]=d,Sn(p[0],m[0]).reshape(b)}}),zA=q({irfft_:function(n){var e=n.shape[n.shape.length-1],t=n.size/e;if(e<=2){var r=n.as2D(t,e),i=Pp(r);return Gr(i)}var o=[t,2*(e-1)],a=Gr(n).as2D(t,e),s=zi(n).as2D(t,e),l=a.slice([0,1],[t,e-2]).reverse(1),c=s.slice([0,1],[t,e-2]).reverse(1).mul(xe(-1)),u=a.concat(l,1),d=s.concat(c,1);return r=Sn(u,d).as2D(o[0],o[1]),i=Pp(r),Gr(i)}}),pee=Object.freeze({fft:U1,ifft:Pp,rfft:H1,irfft:zA}),mee=q({sparseToDense_:function(n,e,t,r){r===void 0&&(r=0);var i=j(n,"sparseIndices","sparseToDense","int32"),o=j(e,"sparseValues","sparseToDense"),a=j(r,"defaultValue","sparseToDense",o.dtype);return function(s,l,c,u){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var d=s.rank>0?s.shape[0]:1,h=s.rank>1?s.shape[1]:1;if(c.length!==h)throw new Error("outputShape has incorrect number of elements:, "+c.length+", should be: "+h+".");var f=l.size;if(l.rank!==0&&(l.rank!==1||f!==d))throw new Error("sparseValues has incorrect shape "+l.shape+", should be [] or ["+d+"]");if(l.dtype!==u.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,o,t,a),G.runKernelFunc(function(s){return s.sparseToDense(i,o,t,a)},{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}}),gee=q({gatherND_:function(n,e){var t=j(e,"indices","gatherND","int32"),r=j(n,"x","gatherND");return G.runKernelFunc(function(i){return i.gatherND(r,t)},{x:r,indices:t},null,"GatherNd")}}),bee=q({diag_:function(n){var e=j(n,"x","diag").flatten(),t=n.shape.concat(n.shape);return G.runKernelFunc(function(r){return r.diag(e)},{$x:e}).reshape(t)}}),vee=q({dropout_:function(n,e,t,r){var i=j(n,"x","dropout");if(W(i.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),W(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return n instanceof It?i.clone():i;var o=function(l,c){if(c==null)return l.shape.slice();if(wn(l.shape,c))return c;if(l.shape.length===c.length){for(var u=[],d=0;d<l.shape.length;d++)c[d]==null&&l.shape[d]!=null?u.push(l.shape[d]):u.push(c[d]);return u}return c}(i,t),a=1-e,s=BT(o,0,1,"float32",r).add(a).floor().div(a);return i.mul(s)}});function jA(n,e,t){for(var r=1-n%2,i=new Float32Array(n),o=0;o<n;++o){var a=2*Math.PI*o/(n+r-1);i[o]=e-t*Math.cos(a)}return Gt(i,"float32")}var W1=q({hannWindow_:function(n){return jA(n,.5,.5)}}),NA=q({hammingWindow_:function(n){return jA(n,.54,.46)}}),V1=q({frame_:function(n,e,t,r,i){r===void 0&&(r=!1),i===void 0&&(i=0);for(var o=0,a=[];o+e<=n.size;)a.push(Ki(n,o,e)),o+=t;if(r)for(;o<n.size;){var s=o+e-n.size,l=tn([Ki(n,o,e-s),Vi([s],i)]);a.push(l),o+=t}return a.length===0?Ca([],[0,e]):tn(a).as2D(a.length,e)}}),FA=q({stft_:function(n,e,t,r,i){var o;i===void 0&&(i=W1),r==null&&(o=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var a=V1(n,e,t),s=$n(a,i(e)),l=[],c=0;c<a.shape[0];c++)l.push(H1(s.slice([c,0],[1,e]),r));return tn(l)}}),xee=Object.freeze({hannWindow:W1,hammingWindow:NA,frame:V1,stft:FA}),zn,yee=function(n,e,t){return t===void 0&&(t=1),Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d,h,f,p,m,b;return Se(this,function(g){switch(g.label){case 0:return r=j(n,"predictions","inTopK"),i=j(e,"targets","inTopK"),W(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),W(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),ut(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],W(t>0&&t<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+t}),[4,r.data()];case 1:return a=g.sent(),[4,i.data()];case 2:for(s=g.sent(),l=[a.length/o,o],u=l[1],d=fd("bool",c=l[0]),h=0;h<c;h++){for(f=h*u,p=a.subarray(f,f+u),m=[],b=0;b<p.length;b++)m.push({value:p[b],index:b});for(m.sort(function(v,x){return x.value-v.value}),d[h]=0,b=0;b<t;b++)if(m[b].index===s[h]){d[h]=1;break}}return n!==r&&r.dispose(),e!==i&&i.dispose(),[2,An(d,i.shape,"bool")]}})})};(function(n){n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(zn||(zn={}));var wee=q({absoluteDifference_:function(n,e,t,r){r===void 0&&(r=zn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","absoluteDifference"),o=j(e,"predictions","absoluteDifference"),a=null;t!=null&&(a=j(t,"weights","absoluteDifference")),ut(i.shape,o.shape,"Error in absoluteDifference: ");var s=i.sub(o).abs();return zo(s,a,r)}}),zo=q({computeWeightedLoss_:function(n,e,t){t===void 0&&(t=zn.SUM_BY_NONZERO_WEIGHTS);var r=j(n,"losses","computeWeightedLoss"),i=null;e!=null&&(i=j(e,"weights","computeWeightedLoss"));var o=i==null?r:r.mul(i);if(t===zn.NONE)return o;if(t===zn.SUM)return o.sum();if(t===zn.MEAN){if(i==null)return o.mean();var a=r.size/i.size,s=o.sum().div(i.sum());return a>1?s.div(xe(a)):s}if(t===zn.SUM_BY_NONZERO_WEIGHTS){if(i==null)return o.sum().div(xe(r.size));var l=i.mul(Hc(r.shape)).notEqual(xe(0)).sum().toFloat();return o.sum().div(l)}throw Error("Unknown reduction: "+t)}}),kee=q({cosineDistance_:function(n,e,t,r,i){i===void 0&&(i=zn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","cosineDistance"),a=j(e,"predictions","cosineDistance"),s=null;r!=null&&(s=j(r,"weights","cosineDistance")),ut(o.shape,a.shape,"Error in cosineDistance: ");var l=xe(1).sub(o.mul(a).sum(t,!0));return zo(l,s,i)}}),_ee=q({hingeLoss_:function(n,e,t,r){r===void 0&&(r=zn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","hingeLoss"),o=j(e,"predictions","hingeLoss"),a=null;t!=null&&(a=j(t,"weights","hingeLoss")),ut(i.shape,o.shape,"Error in hingeLoss: ");var s=xe(1);i=xe(2).mul(i).sub(s);var l=s.sub(i.mul(o)).relu();return zo(l,a,r)}}),Cee=q({huberLoss_:function(n,e,t,r,i){r===void 0&&(r=1),i===void 0&&(i=zn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","huberLoss"),a=j(e,"predictions","huberLoss"),s=null;t!=null&&(s=j(t,"weights","huberLoss")),ut(o.shape,a.shape,"Error in huberLoss: ");var l=xe(r),c=a.sub(o).abs(),u=xA(c,l),d=c.sub(u),h=xe(.5).mul(u.square()).add(l.mul(d));return zo(h,s,i)}}),Eee=q({logLoss_:function(n,e,t,r,i){r===void 0&&(r=1e-7),i===void 0&&(i=zn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"labels","logLoss"),a=j(e,"predictions","logLoss"),s=null;t!=null&&(s=j(t,"weights","logLoss")),ut(o.shape,a.shape,"Error in logLoss: ");var l=xe(1),c=xe(r),u=o.mul(a.add(c).log()).neg().sub(l.sub(o).mul(l.sub(a).add(c).log()));return zo(u,s,i)}}),See=q({meanSquaredError_:function(n,e,t,r){r===void 0&&(r=zn.SUM_BY_NONZERO_WEIGHTS);var i=j(n,"labels","meanSquaredError"),o=j(e,"predictions","meanSquaredError"),a=null;t!=null&&(a=j(t,"weights","meanSquaredError")),ut(i.shape,o.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(o);return zo(s,a,r)}}),Tee=q({sigmoidCrossEntropy_:function(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=zn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"multiClassLabels","sigmoidCrossEntropy"),a=j(e,"logits","sigmoidCrossEntropy"),s=null;if(t!=null&&(s=j(t,"weights","sigmoidCrossEntropy")),ut(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=xe(r),c=xe(1),u=xe(.5);o=o.mul(c.sub(l)).add(u.mul(l))}var d=function(h,f){var p=j(h,"labels","sigmoidCrossEntropyWithLogits"),m=j(f,"logits","sigmoidCrossEntropyWithLogits");ut(p.shape,m.shape,"Error in sigmoidCrossEntropyWithLogits: ");var b=m.relu(),g=m.mul(p),v=m.abs().neg().exp().log1p();return b.sub(g).add(v)}(o,a);return zo(d,s,i)}}),Aee=q({softmaxCrossEntropy_:function(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=zn.SUM_BY_NONZERO_WEIGHTS);var o=j(n,"onehotLabels","softmaxCrossEntropy"),a=j(e,"logits","softmaxCrossEntropy"),s=null;if(t!=null&&(s=j(t,"weights","softmaxCrossEntropy")),ut(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var l=xe(r),c=xe(1),u=xe(o.shape[1]);o=o.mul(c.sub(l)).add(l.div(u))}var d=function(h,f,p){if(p===void 0&&(p=-1),p===-1&&(p=f.rank-1),p!==f.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+f.rank+" and dim was "+p);return Qm(function(m,b,g){var v=b.logSumExp([p],!0),x=b.toFloat().sub(v);return g([m,x]),{value:x.mul(m).neg().sum([p]),gradFunc:function(y,w){var E=w[0],C=w[1],S=hr(y.shape,[p]);return[y.reshape(S).mul(E.toFloat().sub(C.exp())),y.reshape(S).mul(C.exp().sub(E.toFloat()))]}}})(h,f)}(o,a);return zo(d,s,i)}}),Iee=Object.freeze({get Reduction(){return zn},absoluteDifference:wee,computeWeightedLoss:zo,cosineDistance:kee,hingeLoss:_ee,huberLoss:Cee,logLoss:Eee,meanSquaredError:See,sigmoidCrossEntropy:Tee,softmaxCrossEntropy:Aee});function j3(n,e){return e===void 0&&(e=!1),G.tidy(function(){if(n.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+n.shape.length+"D Tensor.");for(var t=n.shape[0],r=n.shape[1],i=MT(t),o=n.clone(),a=Ca([[1]],[1,1]),s=a.clone(),l=t>=r?r:t,c=function(d){var h,f=o,p=s,m=i;h=G.tidy(function(){var b=o.slice([d,d],[t-d,1]),g=b.norm(),v=o.slice([d,d],[1,1]),x=Ca([[-1]]).where(v.greater(0),Ca([[1]])),y=v.sub(x.mul(g)),w=b.div(y);s=w.shape[0]===1?a.clone():a.concat(w.slice([1,0],[w.shape[0]-1,w.shape[1]]),0);var E=x.matMul(y).div(g).neg(),C=o.slice([d,0],[t-d,r]),S=E.mul(s);if(d===0)o=C.sub(S.matMul(s.transpose().matMul(C)));else{var _=C.sub(S.matMul(s.transpose().matMul(C)));o=o.slice([0,0],[d,r]).concat(_,0)}var A=i.slice([0,d],[t,i.shape[1]-d]);if(d===0)i=A.sub(A.matMul(s).matMul(S.transpose()));else{var D=A.sub(A.matMul(s).matMul(S.transpose()));i=i.slice([0,0],[t,d]).concat(D,1)}return[s,o,i]}),s=h[0],o=h[1],i=h[2],lr([f,p,m])},u=0;u<l;++u)c(u);return!e&&t>r&&(i=i.slice([0,0],[t,r]),o=o.slice([0,0],[r,r])),[i,o]})}var Ree=q({bandPart_:function(n,e,t){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(t%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+t+".");var r=j(n,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,o=r.shape.slice(-2),a=o[0],s=o[1];if(!(e<=a))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+a+").");if(!(t<=s))throw new Error("bandPart(): numUpper ("+t+") must not be greater than the number of columns ("+s+").");e<0&&(e=a),t<0&&(t=s);var l=Ep(0,a,1,"int32").reshape([-1,1]),c=Ep(0,s,1,"int32"),u=sn(l,c),d=tg(u.lessEqual(xe(+e,"int32")),u.greaterEqual(xe(-t,"int32"))),h=Ct([a,s],r.dtype);return Or(nn(r.reshape([-1,a,s])).map(function(f){return Ls(d,f,h)})).reshape(i)}}),Dee=q({gramSchmidt_:function(n){var e;if(Array.isArray(n)){e=!1,W(n!=null&&n.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var t=n[0].shape[0],r=function(l){W(n[l].shape[0]===t,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+n[l].shape[0]+" vs. "+t+")"})},i=1;i<n.length;++i)r(i)}else e=!0,n=T1(n,n.shape[0],0).map(function(l){return LT(l,[0])});W(n.length<=n[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+n.length+") exceeds number of dimensions ("+n[0].shape[0]+")."});var o=[],a=n,s=function(l){o.push(G.tidy(function(){var c=a[l];if(l>0)for(var u=0;u<l;++u){var d=OA(o[u].mulStrict(c)).mul(o[u]);c=c.sub(d)}return c.div(LA(c,"euclidean"))}))};for(i=0;i<n.length;++i)s(i);return e?Or(o,0):o}}),Oee=q({qr_:function(n,e){if(e===void 0&&(e=!1),n.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+n.rank);if(n.rank===2)return j3(n,e);var t=n.shape.slice(0,n.shape.length-2).reduce(function(a,s){return a*s}),r=nn(n.reshape([t,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),i=[],o=[];return r.forEach(function(a){var s=j3(a,e),l=s[0],c=s[1];i.push(l),o.push(c)}),[Or(i,0).reshape(n.shape),Or(o,0).reshape(n.shape)]}}),Mee=Object.freeze({bandPart:Ree,gramSchmidt:Dee,qr:Oee});function og(n,e,t,r,i,o){r==null&&(r=.5),i==null&&(i=Number.NEGATIVE_INFINITY),o==null&&(o=0);var a=n.shape[0];return t=Math.min(t,a),W(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),W(n.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+n.rank+"'"}),W(n.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+n.shape[1]}),W(e.rank===1,function(){return"scores must be a 1D tensor"}),W(e.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+e.shape[0]}),W(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:t,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}var Bee=q({resizeBilinear_:function(n,e,t){t===void 0&&(t=!1);var r=j(n,"images","resizeBilinear");W(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),W(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var i=r,o=!1;r.rank===3&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],l=G.runKernelFunc(function(c,u){return u([i]),c.resizeBilinear(i,a,s,t)},{x:i},function(c,u){return{x:function(){return G.runKernelFunc(function(d){return d.resizeBilinearBackprop(c,u[0],t)},{})}}},"ResizeBilinear",{alignCorners:t,newHeight:a,newWidth:s});return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Pee=q({resizeNearestNeighbor_:function(n,e,t){t===void 0&&(t=!1);var r=j(n,"images","resizeNearestNeighbor");W(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),W(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),W(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,o=!1;r.rank===3&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],l=G.runKernelFunc(function(c,u){return u([i]),c.resizeNearestNeighbor(i,a,s,t)},{batchImages:i},function(c,u){return{batchImages:function(){return G.runKernelFunc(function(d){return d.resizeNearestNeighborBackprop(c,u[0],t)},{})}}});return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Lee=q({nonMaxSuppression_:function(n,e,t,r,i){r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY);var o=j(n,"boxes","nonMaxSuppression"),a=j(e,"scores","nonMaxSuppression"),s=og(o,a,t,r,i);t=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var l={maxOutputSize:t,iouThreshold:r,scoreThreshold:i};return G.runKernelFunc(function(c){return c.nonMaxSuppression(o,a,t,r,i)},{boxes:o,scores:a},null,"NonMaxSuppressionV3",l)}}),zee=function(n,e,t,r,i){return r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),Ee(this,void 0,void 0,function(){var o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return o=j(n,"boxes","nonMaxSuppressionAsync"),a=j(e,"scores","nonMaxSuppressionAsync"),s=og(o,a,t,r,i),t=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([o.data(),a.data()])];case 1:return l=h.sent(),c=l[0],u=l[1],d=D1(c,u,t,r,i),o!==n&&o.dispose(),a!==e&&a.dispose(),[2,d]}})})},jee=q({nonMaxSuppressionWithScore_:function(n,e,t,r,i,o){r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var a=j(n,"boxes","nonMaxSuppression"),s=j(e,"scores","nonMaxSuppression"),l=og(a,s,t,r,i,o),c={maxOutputSize:t=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:o=l.softNmsSigma},u=G.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:u[0],selectedScores:u[1]}}}),Nee=function(n,e,t,r,i,o){return r===void 0&&(r=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),Ee(this,void 0,void 0,function(){var a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:return a=j(n,"boxes","nonMaxSuppressionAsync"),s=j(e,"scores","nonMaxSuppressionAsync"),l=og(a,s,t,r,i,o),t=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,o=l.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return c=f.sent(),u=c[0],d=c[1],h=O1(u,d,t,r,i,o),a!==n&&a.dispose(),s!==e&&s.dispose(),[2,h]}})})},Fee=q({cropAndResize_:function(n,e,t,r,i,o){var a=j(n,"image","cropAndResize"),s=j(e,"boxes","cropAndResize","float32"),l=j(t,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;var c=s.shape[0];return W(a.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),W(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),W(l.rank===1&&l.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),W(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),W(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),W(i==="bilinear"||i==="nearest",function(){return"method must be bilinear or nearest, but was "+i}),G.runKernelFunc(function(u,d){return u.cropAndResize(a,s,l,r,i,o)},{images:a,boxes:s,boxInd:l},null,"CropAndResize",{method:i,extrapolationValue:o,cropSize:r})}}),q1=Object.freeze({resizeBilinear:Bee,resizeNearestNeighbor:Pee,nonMaxSuppression:Lee,nonMaxSuppressionAsync:zee,nonMaxSuppressionWithScore:jee,nonMaxSuppressionWithScoreAsync:Nee,cropAndResize:Fee}),G1=function(n,e){return!(n>0)||e==="linear"},K1=function(n,e,t){if(t==null||t==="linear")return n;if(t==="relu")return n.mul(e.step());throw new Error("Gradient for activation "+t+" has not been implemented yet.")},Y1=function(n,e){var t=e,r=an(n.shape,e.shape);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},X1=function(n,e,t){if(e==="linear")return n;if(e==="relu")return Ot(n);if(e==="elu")return MA(n);if(e==="relu6")return PA(n);if(e==="prelu")return BA(n,t);throw new Error("Unknown fused activation "+e+".")},$ee=q({fusedMatMul_:function(n){var e,t=n.a,r=n.b,i=n.transposeA,o=i!==void 0&&i,a=n.transposeB,s=a!==void 0&&a,l=n.bias,c=n.activation,u=c===void 0?"linear":c,d=n.preluActivationWeights;if(G1(G.state.gradientDepth,u)===!1){var h=rg(t,r,o,s);return l!=null&&(h=et(h,l)),X1(h,u,d)}var f=j(t,"a","fused matMul"),p=j(r,"b","fused matMul");e=Pt(f,p),f=e[0],p=e[1];var m=o?f.shape[f.rank-2]:f.shape[f.rank-1],b=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=o?f.shape[f.rank-1]:f.shape[f.rank-2],v=s?p.shape[p.rank-2]:p.shape[p.rank-1],x=f.shape.slice(0,-2),y=p.shape.slice(0,-2),w=Te(x),E=Te(y);W(f.rank>=2&&p.rank>=2&&f.rank===p.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+p.rank+"."}),W(wn(x,y),function(){return"Error in fused matMul: outer dimensions ("+x+") and ("+y+") of Tensors with shapes "+f.shape+" and "+p.shape+" must match."}),W(m===b,function(){return"Error in fused matMul: inner shapes ("+m+") and ("+b+") of Tensors with shapes "+f.shape+" and "+p.shape+" and transposeA="+o+" and transposeB="+s+" must match."});var C,S,_=f.shape.slice(0,-2).concat([g,v]),A=o?f.as3D(w,m,g):f.as3D(w,g,m),D=s?p.as3D(E,v,b):p.as3D(E,b,v);l!=null&&nt(_,(C=Pt(C=j(l,"bias","fused matMul"),f)[0]).shape),d!=null&&(S=j(d,"prelu weights","fused matMul"));var I={a:A,b:D};l!=null&&(I.bias=C),d!=null&&(I.preluActivationWeights=S);var M=[A,D];return G.runKernelFunc(function(T,B){var L=T.fusedBatchMatMul({a:A,b:D,transposeA:o,transposeB:s,bias:C,activation:u,preluActivationWeights:S});return B([A,D,L]),L},I,function(T,B){var L=B[0],z=B[1],U=B[2],P=K1(T,U,u),$={};return l!=null&&($={bias:function(){return Y1(C,P)}}),Object.assign(o||s?!o&&s?{a:function(){return P.matMul(z,!1,!1)},b:function(){return P.matMul(L,!0,!1)}}:o&&!s?{a:function(){return z.matMul(P,!1,!0)},b:function(){return L.matMul(P,!1,!1)}}:{a:function(){return z.matMul(P,!0,!0)},b:function(){return P.matMul(L,!0,!0)}}:{a:function(){return P.matMul(z,!1,!0)},b:function(){return L.matMul(P,!0,!1)}},$)},"_FusedMatMul",{transposeA:o,transposeB:s,activation:u},M,[!0]).reshape(_)}}),Uee=q({fusedConv2d_:function(n){var e=n.x,t=n.filter,r=n.strides,i=n.pad,o=n.dataFormat,a=o===void 0?"NHWC":o,s=n.dilations,l=s===void 0?[1,1]:s,c=n.dimRoundingMode,u=n.bias,d=n.activation,h=d===void 0?"linear":d,f=n.preluActivationWeights;if(h=h||"linear",G1(G.state.gradientDepth,h)===!1){var p=ii(e,t,r,i,a,l,c);return u!=null&&(p=et(p,u)),X1(p,h,f)}var m=j(e,"x","conv2d"),b=j(t,"filter","conv2d"),g=m,v=!1;m.rank===3&&(v=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),W(g.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),W(b.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+b.rank+"."}),c!=null&&W(Wt(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+i+"."}),W(g.shape[3]===b.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+b.shape[2]+"."}),W(fr(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),W(a==="NHWC",function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var x,y,w=Js(g.shape,b.shape,r,l,i,c);u!=null&&(x=Pt(x=j(u,"bias","fused conv2d"),m)[0],nt(w.outShape,x.shape)),f!=null&&(y=j(f,"prelu weights","fused conv2d"));var E={x:g,filter:b};u!=null&&(E.bias=x),f!=null&&(E.preluActivationWeights=y);var C=[b,g],S=G.runKernelFunc(function(_,A){var D=_.fusedConv2d({input:g,filter:b,convInfo:w,bias:x,activation:h,preluActivationWeights:y});return A([b,g,D]),D},E,function(_,A){var D=A,I=D[0],M=D[1],T=D[2],B=K1(_,T,h);W(Ec(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var L={};return u!=null&&(L={bias:function(){return Y1(x,B)}}),Object.assign({x:function(){return EA(M.shape,B,I,r,i)},filter:function(){return F1(M,B,I.shape,r,i)}},L)},"FusedConv2D",{convInfo:w,activation:h},C,[!0]);return v?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),Hee=q({fusedDepthwiseConv2d_:function(n){var e=n.x,t=n.filter,r=n.strides,i=n.pad,o=n.dataFormat,a=o===void 0?"NHWC":o,s=n.dilations,l=s===void 0?[1,1]:s,c=n.dimRoundingMode,u=n.bias,d=n.activation,h=d===void 0?"linear":d,f=n.preluActivationWeights;if(G1(G.state.gradientDepth,h)===!1){var p=ng(e,t,r,i,a,l,c);return u!=null&&(p=et(p,u)),X1(p,h,f)}var m=j(e,"x","depthwiseConv2d"),b=j(t,"filter","depthwiseConv2d"),g=m,v=!1;m.rank===3&&(v=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),W(g.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),W(b.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+b.rank+"."}),W(g.shape[3]===b.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+b.shape[2]+"."}),l==null&&(l=[1,1]),W(fr(r,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),c!=null&&W(Wt(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+i+"."});var x,y,w=Js(g.shape,b.shape,r,l,i,c,!0);u!=null&&(x=Pt(x=j(u,"bias","fused conv2d"),m)[0],nt(w.outShape,x.shape)),f!=null&&(y=j(f,"prelu weights","fused depthwiseConv2d"));var E={x:g,filter:b};u!=null&&(E.bias=x),f!=null&&(E.preluActivationWeights=y);var C=[b,g],S=G.runKernelFunc(function(_,A){var D=_.fusedDepthwiseConv2D({input:g,filter:b,convInfo:w,bias:x,activation:h,preluActivationWeights:y});return A([b,g,D]),D},E,function(_,A){W(Ec(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var D=A[0],I=A[1],M=A[2],T=K1(_,M,h),B={};return u!=null&&(B={bias:function(){return Y1(x,T)}}),Object.assign({x:function(){return SA(I.shape,T,D,w)},filter:function(){return TA(I,T,D.shape,w)}},B)},"FusedDepthwiseConv2D",{convInfo:w,activation:h},C,[!0]);return v?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),Wee=Object.freeze({matMul:$ee,conv2d:Uee,depthwiseConv2d:Hee}),Vee=Object.freeze({image:q1,linalg:Mee,losses:Iee,spectral:pee,fused:Wee,signal:xee,square:EJ,squaredDifference:cA,conv1d:BQ,conv2d:ii,conv3d:PQ,depthwiseConv2d:ng,separableConv2d:$1,conv2dTranspose:LQ,conv3dTranspose:zQ,op:q,batchNormalization2d:tQ,batchNormalization3d:nQ,batchNormalization4d:rQ,batchNormalization:iQ,batchNorm:mA,batchNorm2d:oQ,batchNorm3d:aQ,batchNorm4d:sQ,booleanMaskAsync:MQ,complex:Sn,real:Gr,imag:zi,concat:tn,concat1d:WY,concat2d:VY,concat3d:qY,concat4d:GY,split:T1,matMul:rg,dot:jQ,outerProduct:NQ,reverse:Zd,reverse1d:FQ,reverse2d:$Q,reverse3d:UQ,reverse4d:HQ,maxPool:hn,avgPool:Jd,pool:WQ,maxPool3d:VQ,avgPool3d:qQ,slice:Ki,slice1d:GQ,slice2d:KQ,slice3d:RA,slice4d:YQ,abs:SJ,acos:TJ,acosh:AJ,asin:IJ,asinh:RJ,atan:DJ,atanh:OJ,ceil:MJ,clipByValue:z1,cos:BJ,cosh:PJ,erf:LJ,exp:ex,expm1:zJ,floor:jJ,log:NJ,log1p:FJ,logSigmoid:$J,neg:Mp,reciprocal:UJ,round:HJ,rsqrt:uA,sigmoid:dA,sign:WJ,isNaN:VJ,isInf:qJ,isFinite:GJ,sin:KJ,sinh:YJ,softplus:XJ,sqrt:ZJ,step:JJ,tan:QJ,tanh:eQ,all:XQ,any:ZQ,argMax:JQ,argMin:QQ,logSumExp:eee,max:ig,mean:tee,min:nee,moments:ree,sum:OA,prod:iee,equal:yA,equalStrict:_Q,greater:CQ,greaterEqual:wA,greaterEqualStrict:EQ,greaterStrict:SQ,less:TQ,lessEqual:AQ,lessEqualStrict:IQ,lessStrict:RQ,notEqual:DQ,notEqualStrict:OQ,add:et,addN:uQ,addStrict:dQ,atan2:hQ,div:hi,divNoNan:fQ,divStrict:pQ,floorDiv:vA,maximum:j1,maximumStrict:mQ,minimum:xA,minimumStrict:gQ,mod:bQ,modStrict:vQ,mul:$n,mulStrict:xQ,pow:Bp,powStrict:yQ,squaredDifferenceStrict:wQ,sub:sn,subStrict:kQ,elu:MA,leakyRelu:oee,prelu:BA,relu:Ot,relu6:PA,selu:aee,logicalAnd:tg,logicalNot:lQ,logicalOr:gA,logicalXor:cQ,where:Ls,whereAsync:bA,buffer:Ue,print:nX,batchToSpaceND:OT,broadcastTo:rX,cast:iX,clone:oX,cumsum:aX,depthToSpace:sX,expandDims:Wr,eye:MT,multinomial:lX,oneHot:Xv,pad:Zs,pad1d:cX,pad2d:uX,pad3d:dX,pad4d:hX,rand:fX,randomNormal:pX,randomGamma:mX,randomUniform:BT,reshape:mi,spaceToBatchND:PT,squeeze:LT,stack:Or,tile:ec,truncatedNormal:gX,unstack:nn,setdiff1dAsync:bX,fill:Vi,linspace:HY,ones:Hc,range:Ep,scalar:xe,tensor:An,tensor1d:Gt,tensor2d:Ca,tensor3d:S1,tensor4d:or,tensor5d:FY,tensor6d:$Y,variable:UY,zeros:Ct,onesLike:DT,zerosLike:st,transpose:Ma,softmax:Lo,logSoftmax:CX,localResponseNormalization:see,norm:LA,gather:N1,unsortedSegmentSum:kA,basicLSTMCell:lee,multiRNNCell:cee,movingAverage:uee,stridedSlice:dee,topk:hee,scatterND:fee,fft:U1,ifft:Pp,rfft:H1,irfft:zA,sparseToDense:mee,gatherND:gee,diag:bee,dropout:vee,hannWindow:W1,hammingWindow:NA,frame:V1,stft:FA,inTopKAsync:yee});function ue(n,e){Array.isArray(n)||(n=[n]),n.forEach(function(t){t!=null&&W(t.dtype!=="complex64",function(){return e+" does not support complex64 tensors."})})}function K0(n,e,t,r){if(t==="linear")return n.linear(e);if(t==="relu")return n.relu(e);if(t==="elu")return n.elu(e);if(t==="relu6")return n.relu6(e);if(t==="prelu")return n.prelu(e,r);throw new Error("Activation "+t+" has not been implemented for the CPU backend.")}var qee=function(n){function e(){var t=n.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new HT(t,G),t}return Ci(e,n),e.prototype.write=function(t,r,i){this.firstUse&&(this.firstUse=!1,oe().get("IS_NODE")&&_p("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var o={};return this.data.set(o,{values:t,dtype:i}),o},e.prototype.move=function(t,r,i,o){this.data.set(t,{values:r,dtype:o})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){return[2,this.readSync(t)]})})},e.prototype.readSync=function(t){var r=this.data.get(t),i=r.dtype,o=r.complexTensors;return i==="complex64"?Qv(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.data.get(t).values},e.prototype.bufferSync=function(t){var r=this.readSync(t.dataId),i=r;if(t.dtype==="string")try{i=r.map(function(o){return yp(o)})}catch(o){throw new Error("Failed to decode encoded string bytes into utf-8")}return Ue(t.shape,t.dtype,i)},e.prototype.makeOutput=function(t,r,i){var o=this.write(t,r,i);return G.makeTensorFromDataId(o,r,i,this)},e.prototype.disposeData=function(t){if(this.data.has(t)){var r=this.data.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(t)}},e.prototype.time=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){return r=Mi(),t(),[2,{kernelMs:Mi()-r}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(t,r){var i=this.makeOutput(null,t.shape,"complex64");return this.data.get(i.dataId).complexTensors={real:G.keep(t.clone()),imag:G.keep(r.clone())},i},e.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,r,i){if(ue(t,"slice"),$T(t.shape,r,i)){var o=UT(r,t.strides),a=Te(i);return An(this.readSync(t.dataId).subarray(o,o+a),i,t.dtype)}for(var s=Ue(i,t.dtype),l=this.bufferSync(t),c=0;c<s.size;++c){var u=s.indexToLoc(c).map(function(d,h){return d+r[h]});s.values[c]=l.get.apply(l,u)}return s.toTensor()},e.prototype.stridedSlice=function(t,r,i,o){ue(t,"stridedSlice");var a=I1(r,i,o);if(a.some(function(f){return f===0}))return An([],a);for(var s=Ue(a,t.dtype),l=this.bufferSync(t),c=0;c<s.size;c++){for(var u=s.indexToLoc(c),d=new Array(u.length),h=0;h<d.length;h++)d[h]=u[h]*o[h]+r[h];s.set.apply(s,[l.get.apply(l,d)].concat(u))}return s.toTensor()},e.prototype.diag=function(t){for(var r=this.readSync(t.dataId),i=Ue([t.size,t.size],t.dtype),o=i.values,a=0;a<r.length;a++)o[a*t.size+a]=r[a];return i.toTensor()},e.prototype.unstack=function(t,r){for(var i=t.shape[r],o=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==r&&(o[a++]=t.shape[s]);var l=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var u=new Array(i);for(s=0;s<u.length;s++)l[r]=s,u[s]=this.slice(t,l,c).reshape(o);return u},e.prototype.reverse=function(t,r){ue(t,"reverse");for(var i=Ue(t.shape,t.dtype),o=this.bufferSync(t),a=function(l){var c=i.indexToLoc(l),u=c.slice();r.forEach(function(d){return u[d]=t.shape[d]-1-u[d]}),i.set.apply(i,[o.get.apply(o,u)].concat(c))},s=0;s<i.size;s++)a(s);return i.toTensor()},e.prototype.concat=function(t,r){var i=this;if(t[0].dtype==="complex64"){var o=t.map(function(f){return Gr(f)}),a=t.map(function(f){return zi(f)});return Sn(this.concat(o,r),this.concat(a,r))}var s=t.map(function(f){var p=Te(f.shape.slice(r));return f.as2D(-1,p)}),l=Cc(s.map(function(f){return f.shape}),1),c=Ue(l,t[0].dtype).values;if(s[0].shape[0]===1){var u=0;s.forEach(function(f){c.set(i.readSync(f.dataId),u),u+=f.size})}else{var d=0;s.forEach(function(f){for(var p=i.readSync(f.dataId),m=0,b=0;b<f.shape[0];++b)for(var g=b*l[1]+d,v=0;v<f.shape[1];++v)c[g+v]=p[m++];d+=f.shape[1]})}var h=Cc(t.map(function(f){return f.shape}),r);return An(c,h,t[0].dtype)},e.prototype.neg=function(t){return ue(t,"neg"),this.multiply(xe(-1),t)},e.prototype.add=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i+a,imag:o+s}}):this.broadcastedBinaryOp(t,r,Tn(t.dtype,r.dtype),function(i,o){return i+o})},e.prototype.addN=function(t){var r=this;ue(t,"addN");for(var i=t.map(function(u){return r.readSync(u.dataId)}),o=Ue(t[0].shape,t[0].dtype),a=o.values,s=0;s<t.length;s++)for(var l=i[s],c=0;c<a.length;c++)a[c]+=l[c];return o.toTensor()},e.prototype.softmax=function(t,r){var i=ln([r],t.shape),o=this.max(t,i),a=hr(o.shape,i),s=this.subtract(t,o.reshape(a)),l=this.exp(s),c=this.sum(l,i).reshape(a);return this.realDivide(l,c)},e.prototype.subtract=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i-a,imag:o-s}}):this.broadcastedBinaryOp(t,r,Tn(t.dtype,r.dtype),function(i,o){return i-o})},e.prototype.pow=function(t,r){return ue([t,r],"pow"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.pow(i,o)})},e.prototype.batchMatMul=function(t,r,i,o){ue([t,r],"matMul");for(var a=i?t.shape[1]:t.shape[2],s=i?t.shape[2]:t.shape[1],l=o?r.shape[1]:r.shape[2],c=t.shape[0],u=this.readSync(t.dataId),d=this.readSync(r.dataId),h=i?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],f=h[0],p=h[1],m=h[2],b=o?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],g=b[0],v=b[1],x=b[2],y=s*l,w=Ue([c,s,l],t.dtype),E=w.values,C=this.blockSize,S=0;S<c;S++)for(var _=0;_<s;_+=C)for(var A=0;A<l;A+=C)for(var D=0;D<a;D+=C)for(var I=Math.min(_+C,s),M=Math.min(A+C,l),T=Math.min(D+C,a),B=_;B<I;B++)for(var L=A;L<M;L++){for(var z=0,U=D;U<T;U++)z+=u[S*f+B*p+U*m]*d[U*g+L*v+S*x];E[S*y+(B*l+L)]+=z}return w.toTensor()},e.prototype.fusedBatchMatMul=function(t){var r=t.a,i=t.b,o=t.transposeA,a=t.transposeB,s=t.bias,l=t.activation,c=t.preluActivationWeights,u=this.batchMatMul(r,i,o,a);return s&&(u=this.add(u,s)),l&&(u=K0(this,u,l,c)),u},e.prototype.multiply=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),function(i,o,a,s){return{real:i*a-o*s,imag:i*s+o*a}}):this.broadcastedBinaryOp(t,r,Tn(t.dtype,r.dtype),function(i,o){return i*o})},e.prototype.realDivide=function(t,r){return ue([t,r],"realDivide"),this.broadcastedBinaryOp(t,r,"float32",function(i,o){return i/o})},e.prototype.floorDiv=function(t,r){return ue([t,r],"floorDiv"),this.broadcastedBinaryOp(t,r,"int32",function(i,o){return Math.floor(i/o)})},e.prototype.sum=function(t,r){ue(t,"sum"),yr("sum",r,t.rank);for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,Tn(t.dtype,"int32")),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=0,p=0;p<l;++p)f+=u[h+p];c[d]=f}return s},e.prototype.prod=function(t,r){ue(t,"sum");for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,Tn(t.dtype,"int32")),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=1,p=0;p<l;++p)f*=u[h+p];c[d]=f}return s},e.prototype.unsortedSegmentSum=function(t,r,i){ue(t,"unsortedSegmentSum");for(var o=[],a=t.rank-r.rank,s=0;s<a;++s)r=r.expandDims(s+1);for(s=0;s<i;++s){var l=xe(s,"int32"),c=yA(l,r).asType("float32").mul(t).sum(0);o.push(c)}return Or(o)},e.prototype.argMin=function(t,r){ue(t,"argMin");var i=[r];yr("argMin",i,t.rank);for(var o=Bn(t.shape,i),a=o[0],s=o[1],l=Ct(a,"int32"),c=Te(s),u=this.readSync(l.dataId),d=this.readSync(t.dataId),h=0;h<u.length;++h){for(var f=h*c,p=d[f],m=0,b=0;b<c;++b){var g=d[f+b];g<p&&(p=g,m=b)}u[h]=m}return l},e.prototype.argMax=function(t,r){ue(t,"argMax");var i=[r];yr("argMax",i,t.rank);for(var o=Bn(t.shape,i),a=o[0],s=o[1],l=Ct(a,"int32"),c=Te(s),u=this.readSync(l.dataId),d=this.readSync(t.dataId),h=0;h<u.length;++h){for(var f=h*c,p=d[f],m=0,b=0;b<c;++b){var g=d[f+b];g>p&&(p=g,m=b)}u[h]=m}return l},e.prototype.cumsum=function(t,r,i,o){if(ue(t,"cumsum"),r!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+r);for(var a=Tn(t.dtype,"int32"),s=Ct(t.shape,a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),u=t.shape[t.rank-1],d=o?function(b,g){return b+u-g-1}:function(b,g){return b+g},h=0;h<c.length;h+=u)for(var f=0;f<u;f++){var p=d(h,f);if(f===0)l[p]=i?0:c[p];else{var m=d(h,f-1);l[p]=i?c[m]+l[m]:c[p]+l[m]}}return s},e.prototype.equal=function(t,r){return ue([t,r],"equal"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i===o?1:0})},e.prototype.notEqual=function(t,r){return ue([t,r],"notEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i!==o?1:0})},e.prototype.less=function(t,r){return ue([t,r],"less"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i<o?1:0})},e.prototype.lessEqual=function(t,r){return ue([t,r],"lessEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i<=o?1:0})},e.prototype.greater=function(t,r){return ue([t,r],"greater"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i>o?1:0})},e.prototype.greaterEqual=function(t,r){return ue([t,r],"greaterEqual"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i>=o?1:0})},e.prototype.logicalNot=function(t){ue(t,"logicalNot");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r[o]?0:1;return this.makeOutput(i,t.shape,"bool")},e.prototype.logicalAnd=function(t,r){return ue([t,r],"logicalAnd"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i&&o})},e.prototype.logicalOr=function(t,r){return ue([t,r],"logicalOr"),this.broadcastedBinaryOp(t,r,"bool",function(i,o){return i||o})},e.prototype.select=function(t,r,i){ue([t,r,i],"select");for(var o=this.readSync(t.dataId),a=this.readSync(r.dataId),s=this.readSync(i.dataId),l=Ct(r.shape,Tn(r.dtype,i.dtype)),c=this.readSync(l.dataId),u=0,d=t.rank===0||t.rank>1||r.rank===1?1:Te(r.shape.slice(1)),h=0;h<o.length;h++)for(var f=0;f<d;f++)o[h]===1?c[u++]=a[h]:c[u++]=s[h];return l},e.prototype.where=function(t){ue([t],"where");var r=this.readSync(t.dataId);return M1(t.shape,r)},e.prototype.topk=function(t,r,i){return ue(t,"topk"),ZT(this.readSync(t.dataId),t.shape,t.dtype,r)},e.prototype.min=function(t,r){ue(t,"min"),yr("min",r,t.rank);for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];m<f&&(f=m)}c[d]=f}return s},e.prototype.minimum=function(t,r){return ue([t,r],"minimum"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.min(i,o)})},e.prototype.mod=function(t,r){return ue([t,r],"mod"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){var a=i%o;return i<0&&o<0||i>=0&&o>=0?a:(a+o)%o})},e.prototype.max=function(t,r){ue(t,"max"),yr("max",r,t.rank);for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];m>f&&(f=m)}c[d]=f}return s},e.prototype.maximum=function(t,r){return ue([t,r],"maximum"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.max(i,o)})},e.prototype.all=function(t,r){ue(t,"all"),yr("all",r,t.rank);for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];f=f&&m}c[d]=f}return s},e.prototype.any=function(t,r){ue(t,"any"),yr("any",r,t.rank);for(var i=Bn(t.shape,r),o=i[0],a=i[1],s=Ct(o,t.dtype),l=Te(a),c=this.readSync(s.dataId),u=this.readSync(t.dataId),d=0;d<c.length;++d){for(var h=d*l,f=u[h],p=0;p<l;++p){var m=u[h+p];f=f||m}c[d]=f}return s},e.prototype.squaredDifference=function(t,r){return ue([t,r],"squaredDifference"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){var a=i-o;return a*a})},e.prototype.ceil=function(t){ue(t,"ceil");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.ceil(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.floor=function(t){ue(t,"floor");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.floor(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.sign=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)r[o]<0?i[o]=-1:r[o]>0?i[o]=1:i[o]=0;return this.makeOutput(i,t.shape,"float32")},e.prototype.isNaN=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isNaN(r[o])&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.isInf=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Math.abs(r[o])===1/0&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.isFinite=function(t){ue(t,"x");for(var r=this.readSync(t.dataId),i=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isFinite(r[o])&&(i[o]=1);return this.makeOutput(i,t.shape,"bool")},e.prototype.round=function(t){ue(t,"round");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=Math.floor(r[o]);r[o]-a<.5?i[o]=Math.floor(r[o]):r[o]-a>.5?i[o]=Math.ceil(r[o]):i[o]=a%2==0?a:a+1}return this.makeOutput(i,t.shape,"float32")},e.prototype.exp=function(t){ue(t,"exp");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.exp(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.expm1=function(t){ue(t,"expm1");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=Math.expm1(r[o]);return this.makeOutput(i,t.shape,"float32")},e.prototype.log=function(t){ue(t,"log");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.log(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.log1p=function(t){ue(t,"log1p");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.log1p(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.sqrt=function(t){ue(t,"sqrt");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=Math.sqrt(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.rsqrt=function(t){ue(t,"rsqrt");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o){var a=r[o];i[o]=1/Math.sqrt(a)}return this.makeOutput(i,t.shape,"float32")},e.prototype.reciprocal=function(t){ue(t,"reciprocal");for(var r=this.readSync(t.dataId),i=new Float32Array(r.length),o=0;o<r.length;++o)i[o]=1/r[o];return this.makeOutput(i,t.shape,"float32")},e.prototype.linear=function(t){return t},e.prototype.relu=function(t){ue(t,"relu");for(var r=Ct(t.shape,t.dtype),i=this.readSync(r.dataId),o=this.readSync(t.dataId),a=0;a<o.length;++a)i[a]=Math.max(0,o[a]);return r},e.prototype.relu6=function(t){ue(t,"relu");for(var r=Ct(t.shape,t.dtype),i=this.readSync(r.dataId),o=this.readSync(t.dataId),a=0;a<o.length;++a)i[a]=Math.min(Math.max(0,o[a]),6);return r},e.prototype.prelu=function(t,r){return ue([t,r],"prelu"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return i<0?o*i:i})},e.prototype.elu=function(t){ue(t,"elu");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o){var a=i[o];r[o]=a>=0?a:Math.exp(a)-1}return this.makeOutput(r,t.shape,"float32")},e.prototype.eluDer=function(t,r){ue([t,r],"eluDer");for(var i=new Float32Array(r.size),o=this.readSync(r.dataId),a=this.readSync(t.dataId),s=0;s<o.length;++s){var l=o[s];i[s]=l>=1?a[s]:a[s]*(l+1)}return this.makeOutput(i,r.shape,"float32")},e.prototype.selu=function(t){ue(t,"selu");for(var r=P1,i=L1,o=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var l=a[s];o[s]=l>=0?i*l:r*(Math.exp(l)-1)}return this.makeOutput(o,t.shape,"float32")},e.prototype.clip=function(t,r,i){ue(t,"clip");for(var o=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var l=a[s];o[s]=l>i?i:l<r?r:l}return this.makeOutput(o,t.shape,"float32")},e.prototype.abs=function(t){for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.abs(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.complexAbs=function(t){for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<t.size;++o){var a=i[2*o],s=i[2*o+1];r[o]=Math.hypot(a,s)}return this.makeOutput(r,t.shape,"float32")},e.prototype.int=function(t){ue(t,"int");for(var r=new Int32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=i[o];return this.makeOutput(r,t.shape,"int32")},e.prototype.sigmoid=function(t){ue(t,"sigmoid");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=1/(1+Math.exp(-i[o]));return this.makeOutput(r,t.shape,"float32")},e.prototype.softplus=function(t){ue(t,"softplus");for(var r=Math.log(11920928955078125e-23)+2,i=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var s=o[a]>-r,l=o[a]<r,c=Math.exp(o[a]),u=void 0;u=l?c:s?o[a]:Math.log(1+c),i[a]=u}return this.makeOutput(i,t.shape,"float32")},e.prototype.sin=function(t){ue(t,"sin");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.sin(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.cos=function(t){ue(t,"cos");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.cos(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.tan=function(t){ue(t,"tan");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.tan(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.asin=function(t){ue(t,"asin");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.asin(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.acos=function(t){ue(t,"acos");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.acos(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atan=function(t){ue(t,"atan");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.atan(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atan2=function(t,r){return ue([t,r],"atan2"),this.broadcastedBinaryOp(t,r,t.dtype,function(i,o){return Math.atan2(i,o)})},e.prototype.sinh=function(t){ue(t,"sinh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.sinh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.cosh=function(t){ue(t,"cosh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.cosh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.tanh=function(t){ue(t,"tanh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=GK(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.asinh=function(t){ue(t,"asinh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.asinh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.acosh=function(t){ue(t,"acosh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.acosh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.atanh=function(t){ue(t,"atanh");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o)r[o]=Math.atanh(i[o]);return this.makeOutput(r,t.shape,"float32")},e.prototype.erf=function(t){ue(t,"erf");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),o=0;o<i.length;++o){var a=Math.sign(i[o]),s=Math.abs(i[o]),l=1/(1+.3275911*s);r[o]=a*(1-((((1.061405429*l-1.453152027)*l+1.421413741)*l-.284496736)*l+.254829592)*l*Math.exp(-s*s))}return this.makeOutput(r,t.shape,"float32")},e.prototype.step=function(t,r){r===void 0&&(r=0),ue(t,"step");for(var i=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var s=o[a];isNaN(s)?i[a]=NaN:i[a]=s>0?1:r}return this.makeOutput(i,t.shape,"float32")},e.prototype.fusedConv2d=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights,c=this.conv2d(r,i,o);return a&&(c=this.add(c,a)),s&&(c=K0(this,c,s,l)),c},e.prototype.conv2d=function(t,r,i){ue([t,r],"conv2d");for(var o=i.filterHeight,a=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,c=i.padInfo.left,u=i.padInfo.top,d=i.dataFormat==="channelsLast",h=Ue(i.outShape,t.dtype),f=t.strides[0],p=d?t.strides[1]:t.strides[2],m=d?t.strides[2]:1,b=d?1:t.strides[1],g=h.strides[0],v=d?h.strides[1]:h.strides[2],x=d?h.strides[2]:1,y=d?1:h.strides[1],w=this.readSync(t.dataId),E=this.readSync(r.dataId),C=h.values,S=0;S<i.batchSize;++S)for(var _=S*f,A=S*g,D=0;D<i.outHeight;++D)for(var I=A+D*v,M=D*i.strideHeight-u,T=0;T<o;T++){var B=M+T*s;if(!(B<0||B>=i.inHeight))for(var L=T*r.strides[0],z=_+B*p,U=0;U<i.outWidth;++U)for(var P=I+U*x,$=U*i.strideWidth-c,F=0;F<a;F++){var N=$+F*l;if(!(N<0||N>=i.inWidth))for(var ee=z+N*m,X=L+F*r.strides[1],J=0;J<i.inChannels;++J){for(var be=w[ee+J*b],we=0;we<i.outChannels;++we)C[P+we*y]+=be*E[X+we];X+=i.outChannels}}}return h.toTensor()},e.prototype.conv3d=function(t,r,i){for(var o=i.filterDepth,a=i.filterHeight,s=i.filterWidth,l=i.dilationDepth,c=i.dilationHeight,u=i.dilationWidth,d=i.padInfo.front,h=i.padInfo.left,f=i.padInfo.top,p=Ue(i.outShape,t.dtype),m=this.readSync(t.dataId),b=this.readSync(r.dataId),g=p.values,v=0;v<i.batchSize;++v)for(var x=v*t.strides[0],y=v*p.strides[0],w=0;w<i.outDepth;++w)for(var E=y+w*p.strides[1],C=w*i.strideDepth-d,S=0;S<o;S++){var _=C+S*l;if(!(_<0||_>=i.inDepth))for(var A=S*r.strides[0],D=x+_*t.strides[1],I=0;I<i.outHeight;++I)for(var M=E+I*p.strides[2],T=I*i.strideHeight-f,B=0;B<a;B++){var L=T+B*c;if(!(L<0||L>=i.inHeight))for(var z=A+B*r.strides[1],U=D+L*t.strides[2],P=0;P<i.outWidth;++P)for(var $=M+P*i.outChannels,F=P*i.strideWidth-h,N=0;N<s;N++){var ee=F+N*u;if(!(ee<0||ee>=i.inWidth))for(var X=z+N*r.strides[2],J=U+ee*i.inChannels,be=X,we=0;we<i.inChannels;++we){for(var ve=m[J+we],ke=0;ke<i.outChannels;++ke)g[$+ke]+=ve*b[be+ke];be+=i.outChannels}}}}return p.toTensor()},e.prototype.conv2dDerInput=function(t,r,i){ue([t,r],"conv2dDerInput");for(var o=Ue(i.inShape,"float32"),a=o.values,s=this.readSync(t.dataId),l=this.readSync(r.dataId),c=r.strides,u=c[0],d=c[1],h=c[2],f=i.batchSize,p=i.filterHeight,m=i.filterWidth,b=i.inChannels,g=i.inHeight,v=i.inWidth,x=i.outChannels,y=i.outHeight,w=i.outWidth,E=i.strideHeight,C=i.strideWidth,S=i.dataFormat,_=p-1-i.padInfo.top,A=m-1-i.padInfo.left,D=S==="channelsLast",I=o.strides[0],M=D?o.strides[1]:o.strides[2],T=D?o.strides[2]:1,B=D?1:o.strides[1],L=t.strides[0],z=D?t.strides[1]:t.strides[2],U=D?t.strides[2]:1,P=D?1:t.strides[1],$=0;$<f;++$)for(var F=0;F<b;++F)for(var N=0;N<g;++N)for(var ee=N-_,X=Math.max(0,Math.ceil(ee/E)),J=Math.min(y,(p+ee)/E),be=0;be<v;++be){for(var we=be-A,ve=Math.max(0,Math.ceil(we/C)),ke=Math.min(w,(m+we)/C),He=0,Me=X;Me<J;++Me)for(var We=Me*E-ee,Fe=ve;Fe<ke;++Fe)for(var R=L*$+z*Me+U*Fe,ne=u*(p-1-We)+d*(m-1-(Fe*C-we))+h*F,Q=0;Q<x;++Q)He+=s[R+P*Q]*l[ne+Q];a[I*$+M*N+T*be+B*F]=He}return o.toTensor()},e.prototype.conv3dDerInput=function(t,r,i){for(var o=Ue(i.inShape,"float32"),a=o.values,s=o.strides,l=s[0],c=s[1],u=s[2],d=s[3],h=this.readSync(t.dataId),f=t.strides,p=f[0],m=f[1],b=f[2],g=f[3],v=this.readSync(r.dataId),x=r.strides,y=x[0],w=x[1],E=x[2],C=x[3],S=i.batchSize,_=i.filterDepth,A=i.filterHeight,D=i.filterWidth,I=i.inChannels,M=i.inDepth,T=i.inHeight,B=i.inWidth,L=i.outChannels,z=i.outDepth,U=i.outHeight,P=i.outWidth,$=i.strideDepth,F=i.strideHeight,N=i.strideWidth,ee=_-1-i.padInfo.front,X=A-1-i.padInfo.top,J=D-1-i.padInfo.left,be=0;be<S;++be)for(var we=0;we<I;++we)for(var ve=0;ve<M;++ve)for(var ke=ve-ee,He=Math.max(0,Math.ceil(ke/$)),Me=Math.min(z,(_+ke)/$),We=0;We<T;++We)for(var Fe=We-X,R=Math.max(0,Math.ceil(Fe/F)),ne=Math.min(U,(A+Fe)/F),Q=0;Q<B;++Q){for(var V=Q-J,H=Math.max(0,Math.ceil(V/N)),Y=Math.min(P,(D+V)/N),se=0,le=He;le<Me;++le)for(var Z=le*$-ke,he=R;he<ne;++he)for(var ye=he*F-Fe,fe=H;fe<Y;++fe)for(var Pe=p*be+m*le+b*he+g*fe,it=y*(_-1-Z)+w*(A-1-ye)+E*(D-1-(fe*N-V))+C*we,ze=0;ze<L;++ze)se+=h[Pe+ze]*v[it+ze];a[l*be+c*ve+u*We+d*Q+we]=se}return o.toTensor()},e.prototype.conv2dDerFilter=function(t,r,i){ue([t,r],"conv2dDerFilter");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=i.dataFormat==="channelsLast",u=Ue(i.filterShape,"float32"),d=i.padInfo.left,h=i.padInfo.top,f=this.bufferSync(t),p=this.bufferSync(r),m=0;m<s;++m)for(var b=Math.max(0,Math.ceil((h-m)/o)),g=Math.min(i.outHeight,(i.inHeight+h-m)/o),v=0;v<l;++v)for(var x=Math.max(0,Math.ceil((d-v)/a)),y=Math.min(i.outWidth,(i.inWidth+d-v)/a),w=0;w<i.inChannels;++w)for(var E=0;E<i.outChannels;++E){for(var C=0,S=0;S<i.batchSize;++S)for(var _=b;_<g;++_)for(var A=m+_*o-h,D=x;D<y;++D){var I=v+D*a-d;C+=c?f.get(S,A,I,w)*p.get(S,_,D,E):f.get(S,w,A,I)*p.get(S,E,_,D)}u.set(C,m,v,w,E)}return u.toTensor()},e.prototype.conv3dDerFilter=function(t,r,i){for(var o=i.strideDepth,a=i.strideHeight,s=i.strideWidth,l=i.filterDepth,c=i.filterHeight,u=i.filterWidth,d=Ue(i.filterShape,"float32"),h=d.values,f=d.strides,p=f[0],m=f[1],b=f[2],g=f[3],v=this.readSync(r.dataId),x=r.strides,y=x[0],w=x[1],E=x[2],C=x[3],S=this.readSync(t.dataId),_=t.strides,A=_[0],D=_[1],I=_[2],M=_[3],T=i.padInfo.front,B=i.padInfo.left,L=i.padInfo.top,z=0;z<l;++z)for(var U=Math.max(0,Math.ceil((T-z)/o)),P=Math.min(i.outDepth,(i.inDepth+T-z)/o),$=z*p,F=0;F<c;++F)for(var N=Math.max(0,Math.ceil((L-F)/a)),ee=Math.min(i.outHeight,(i.inHeight+L-F)/a),X=F*m+$,J=0;J<u;++J)for(var be=Math.max(0,Math.ceil((B-J)/s)),we=Math.min(i.outWidth,(i.inWidth+B-J)/s),ve=J*b+X,ke=0;ke<i.inChannels;++ke)for(var He=ke*g+ve,Me=0;Me<i.outChannels;++Me){for(var We=0,Fe=0;Fe<i.batchSize;++Fe)for(var R=Fe*A,ne=Fe*y,Q=U;Q<P;++Q)for(var V=(z+Q*o-T)*D+R,H=Q*w+ne,Y=N;Y<ee;++Y)for(var se=(F+Y*a-L)*I+V,le=Y*E+H,Z=be;Z<we;++Z){var he=Z*C+le;We+=S[(J+Z*s-B)*M+se+ke]*v[he+Me]}h[He+Me]=We}return d.toTensor()},e.prototype.fusedDepthwiseConv2D=function(t){var r=t.input,i=t.filter,o=t.convInfo,a=t.bias,s=t.activation,l=t.preluActivationWeights,c=this.depthwiseConv2D(r,i,o);return a&&(c=this.add(c,a)),s&&(c=K0(this,c,s,l)),c},e.prototype.depthwiseConv2D=function(t,r,i){ue([t,r],"depthwiseConv2D");for(var o=i.filterHeight,a=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,c=i.padInfo.left,u=i.padInfo.top,d=i.outChannels/i.inChannels,h=Ue(i.outShape,t.dtype),f=this.readSync(t.dataId),p=this.readSync(r.dataId),m=h.values,b=0;b<i.batchSize;++b)for(var g=b*t.strides[0],v=b*h.strides[0],x=0;x<i.outHeight;++x)for(var y=v+x*h.strides[1],w=x*i.strideHeight-c,E=0;E<o;++E){var C=w+E*s;if(!(C<0||C>=i.inHeight))for(var S=E*r.strides[0],_=g+C*t.strides[1],A=0;A<i.outWidth;++A)for(var D=y+A*h.strides[2],I=A*i.strideWidth-u,M=0;M<a;++M){var T=I+M*l;if(!(T<0||T>=i.inWidth))for(var B=S+M*r.strides[1],L=_+T*i.inChannels,z=D,U=B,P=0;P<i.inChannels;++P){for(var $=f[L+P],F=0;F<d;++F)m[z+F]+=$*p[U+F];z+=d,U+=d}}}return h.toTensor()},e.prototype.depthwiseConv2DDerInput=function(t,r,i){ue([t,r],"depthwiseConv2DDerInput");for(var o=Ue(i.inShape,"float32"),a=o.values,s=o.strides,l=s[0],c=s[1],u=s[2],d=this.readSync(t.dataId),h=t.strides,f=h[0],p=h[1],m=h[2],b=this.readSync(r.dataId),g=r.strides,v=g[0],x=g[1],y=g[2],w=i.batchSize,E=i.filterHeight,C=i.filterWidth,S=i.inChannels,_=i.inHeight,A=i.inWidth,D=i.outChannels,I=i.outHeight,M=i.outWidth,T=i.strideHeight,B=i.strideWidth,L=E-1-i.padInfo.top,z=C-1-i.padInfo.left,U=D/S,P=0;P<w;++P)for(var $=0;$<S;++$)for(var F=0;F<_;++F)for(var N=F-L,ee=Math.max(0,Math.ceil(N/T)),X=Math.min(I,(E+N)/T),J=0;J<A;++J){for(var be=J-z,we=Math.max(0,Math.ceil(be/B)),ve=Math.min(M,(C+be)/B),ke=0,He=ee;He<X;++He)for(var Me=He*T-N,We=we;We<ve;++We)for(var Fe=f*P+p*He+m*We,R=v*(E-1-Me)+x*(C-1-(We*B-be))+y*$,ne=0;ne<U;++ne)ke+=d[Fe+($*U+ne)]*b[R+ne];a[l*P+c*F+u*J+$]=ke}return o.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(t,r,i){ue([t,r],"depthwiseConv2DDerFilter");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=Ue(i.filterShape,"float32"),u=i.padInfo.left,d=i.padInfo.top,h=i.outChannels/i.inChannels,f=this.bufferSync(t),p=this.bufferSync(r),m=0;m<s;++m)for(var b=Math.max(0,Math.ceil((d-m)/o)),g=Math.min(i.outHeight,(i.inHeight+d-m)/o),v=0;v<l;++v)for(var x=Math.max(0,Math.ceil((u-v)/a)),y=Math.min(i.outWidth,(i.inWidth+u-v)/a),w=0;w<i.outChannels;++w){for(var E=Math.trunc(w/h),C=w%h,S=0,_=0;_<i.batchSize;++_)for(var A=b;A<g;++A)for(var D=m+A*o-d,I=x;I<y;++I){var M=v+I*a-u;S+=f.get(_,D,M,E)*p.get(_,A,I,w)}c.set(S,m,v,E,C)}return c.toTensor()},e.prototype.tile=function(t,r){return ue(t,"tile"),XT(this.bufferSync(t),r)},e.prototype.pad=function(t,r,i){ue(t,"pad");var o=r.map(function(h,f){return h[0]+t.shape[f]+h[1]}),a=r.map(function(h){return h[0]}),s=this.bufferSync(t),l=Ue(o,t.dtype);i!==0&&l.values.fill(i);for(var c=0;c<t.size;c++){var u=s.indexToLoc(c),d=u.map(function(h,f){return h+a[f]});l.set.apply(l,[s.get.apply(s,u)].concat(d))}return l.toTensor()},e.prototype.transpose=function(t,r){ue(t,"transpose");for(var i=new Array(t.rank),o=0;o<i.length;o++)i[o]=t.shape[r[o]];var a=this.readSync(t.dataId),s=Ue(i,t.dtype),l=this.bufferSync(t);for(o=0;o<t.size;++o){for(var c=l.indexToLoc(o),u=new Array(c.length),d=0;d<u.length;d++)u[d]=c[r[d]];var h=s.locToIndex(u);s.values[h]=a[o]}return s.toTensor()},e.prototype.gather=function(t,r,i){ue([t,r],"gather");var o=t.shape.slice(),a=this.readSync(r.dataId);o[i]=a.length;for(var s=Ue(o,t.dtype),l=this.bufferSync(t),c=0;c<s.size;++c){var u=s.indexToLoc(c),d=u.slice();d[i]=a[u[i]];var h=l.locToIndex(d);s.values[c]=l.values[h]}return s.toTensor()},e.prototype.batchToSpaceND=function(t,r,i){ue([t],"batchToSpaceND");var o=r.reduce(function(d,h){return d*h}),a=Sp(t.shape,r,o),s=Tp(a.length,r.length),l=Ap(t.shape,r,o),c=zT(i,r.length),u=jT(l,i,r.length);return t.reshape(a).transpose(s).reshape(l).slice(c,u)},e.prototype.spaceToBatchND=function(t,r,i){ue([t],"spaceToBatchND");var o=r.reduce(function(h,f){return h*f}),a=[[0,0]];a.push.apply(a,i);for(var s=1+r.length;s<t.shape.length;++s)a.push([0,0]);var l=t.pad(a),c=Sp(l.shape,r,o,!1),u=Tp(c.length,r.length,!1),d=Ap(l.shape,r,o,!1);return l.reshape(c).transpose(u).reshape(d)},e.prototype.pool=function(t,r,i){ue(t,"pool");for(var o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,u=r.effectiveFilterWidth,d=r.padInfo.top,h=r.padInfo.left,f=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(t.dataId),m=Ue(r.outShape,t.dtype),b=m.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],v=r.outShape[2]*r.outShape[3],x=r.outShape[3],y=0;y<r.batchSize;++y)for(var w=y*g,E=y*t.strides[0],C=0;C<r.inChannels;++C)for(var S=0;S<r.outHeight;++S)for(var _=S*o-d,A=Math.max(0,_),D=Math.min(r.inHeight,c+_),I=w+S*v,M=0;M<r.outWidth;++M){for(var T=M*a-h,B=Math.max(0,T),L=Math.min(r.inWidth,u+T),z=f,U=0,P=0,$=A;$<D;$+=s){for(var F=E+$*t.strides[1],N=B;N<L;N+=l){var ee=p[F+N*t.strides[2]+C];i==="max"&&ee>z?z=ee:i==="avg"&&(U+=ee,P++)}if(isNaN(z))break}b[I+M*x+C]=i==="avg"?U/P:z}return m.toTensor()},e.prototype.maxPool=function(t,r){return this.pool(t,r,"max")},e.prototype.maxPoolPositions=function(t,r){for(var i=Ue(r.outShape,"int32"),o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,u=r.effectiveFilterWidth,d=r.padInfo.top,h=r.padInfo.left,f=this.bufferSync(t),p=0;p<r.batchSize;++p)for(var m=0;m<r.inChannels;++m)for(var b=0;b<r.outHeight;++b){for(var g=b*o-d,v=g;v<0;)v+=s;for(var x=Math.min(r.inHeight,c+g),y=0;y<r.outWidth;++y){for(var w=y*a-h,E=w;E<0;)E+=l;for(var C=Math.min(r.inWidth,u+w),S=Number.NEGATIVE_INFINITY,_=-1,A=v;A<x;A+=s)for(var D=A-g,I=E;I<C;I+=l){var M=I-w,T=f.get(p,A,I,m);T>S&&(S=T,_=D*u+M)}i.set(_,p,b,y,m)}}return i.toTensor()},e.prototype.maxPoolBackprop=function(t,r,i,o){ue([r,i],"maxPoolBackprop");for(var a=this.maxPoolPositions(r,o),s=o.strideHeight,l=o.strideWidth,c=o.dilationHeight,u=o.dilationWidth,d=o.effectiveFilterHeight,h=o.effectiveFilterWidth,f=h-1-o.padInfo.left,p=d-1-o.padInfo.top,m=Ue(r.shape,"float32"),b=this.bufferSync(a),g=this.bufferSync(t),v=0;v<o.batchSize;++v)for(var x=0;x<o.inChannels;++x)for(var y=0;y<o.inHeight;++y)for(var w=0;w<o.inWidth;++w){for(var E=y-p,C=w-f,S=0,_=0;_<d;_+=c){var A=(E+_)/s;if(!(A<0||A>=o.outHeight||Math.floor(A)!==A))for(var D=0;D<h;D+=u){var I=(C+D)/l;if(!(I<0||I>=o.outWidth||Math.floor(I)!==I)){var M=d*h-1-b.get(v,A,I,x)===_*h+D?1:0;M!==0&&(S+=g.get(v,A,I,x)*M)}}}m.set(S,v,y,w,x)}return m.toTensor()},e.prototype.avgPoolBackprop=function(t,r,i){ue([t,r],"avgPoolBackprop");for(var o=i.strideHeight,a=i.strideWidth,s=i.filterHeight,l=i.filterWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,h=i.effectiveFilterWidth,f=h-1-i.padInfo.left,p=d-1-i.padInfo.top,m=Ue(r.shape,"float32"),b=1/(s*l),g=this.bufferSync(t),v=0;v<i.batchSize;++v)for(var x=0;x<i.inChannels;++x)for(var y=0;y<i.inHeight;++y)for(var w=0;w<i.inWidth;++w){for(var E=y-p,C=w-f,S=0,_=0;_<d;_+=c){var A=(E+_)/o;if(!(A<0||A>=i.outHeight||Math.floor(A)!==A))for(var D=0;D<h;D+=u){var I=(C+D)/a;I<0||I>=i.outWidth||Math.floor(I)!==I||(S+=g.get(v,A,I,x))}}m.set(S*b,v,y,w,x)}return m.toTensor()},e.prototype.pool3d=function(t,r,i){ue(t,"pool3d");for(var o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=r.padInfo.front,m=r.padInfo.top,b=r.padInfo.left,g=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(t.dataId),x=Ue(r.outShape,t.dtype),y=x.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],E=r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[3]*r.outShape[4],S=r.outShape[4],_=0;_<r.batchSize;++_)for(var A=_*w,D=_*t.strides[0],I=0;I<r.inChannels;++I)for(var M=0;M<r.outDepth;++M){for(var T=M*o-p,B=T;B<0;)B+=l;for(var L=Math.min(r.inDepth,d+T),z=A+M*E,U=0;U<r.outHeight;++U){for(var P=U*a-m,$=P;$<0;)$+=c;for(var F=Math.min(r.inHeight,h+P),N=z+U*C,ee=0;ee<r.outWidth;++ee){for(var X=ee*s-b,J=X;J<0;)J+=u;for(var be=Math.min(r.inWidth,f+X),we=N+ee*S,ve=g,ke=0,He=0,Me=B;Me<L;Me+=l){for(var We=D+Me*t.strides[1],Fe=$;Fe<F;Fe+=c){for(var R=We+Fe*t.strides[2],ne=J;ne<be;ne+=u){var Q=v[R+ne*t.strides[3]+I];if(i==="max"&&Q>ve?ve=Q:i==="avg"&&(ke+=Q,He++),isNaN(ve))break}if(isNaN(ve))break}if(isNaN(ve))break}y[we+I]=i==="avg"?ke/He:ve}}}return x.toTensor()},e.prototype.avgPool3d=function(t,r){return ue(t,"avgPool3d"),this.pool3d(t,r,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(t,r,i){ue([t,r],"avgPool3dBackprop");for(var o=i.strideDepth,a=i.strideHeight,s=i.strideWidth,l=i.filterDepth,c=i.filterHeight,u=i.filterWidth,d=i.dilationDepth,h=i.dilationHeight,f=i.dilationWidth,p=i.effectiveFilterDepth,m=i.effectiveFilterHeight,b=i.effectiveFilterWidth,g=p-1-i.padInfo.front,v=b-1-i.padInfo.left,x=m-1-i.padInfo.top,y=Ue(r.shape,"float32"),w=1/(l*c*u),E=this.bufferSync(t),C=0;C<i.batchSize;++C)for(var S=0;S<i.inChannels;++S)for(var _=0;_<i.inDepth;++_)for(var A=0;A<i.inHeight;++A)for(var D=0;D<i.inWidth;++D){for(var I=_-g,M=A-x,T=D-v,B=0,L=0;L<p;L+=d){var z=(I+L)/o;if(!(z<0||z>=i.outDepth||Math.floor(z)!==z))for(var U=0;U<m;U+=h){var P=(M+U)/a;if(!(P<0||P>=i.outHeight||Math.floor(P)!==P))for(var $=0;$<b;$+=f){var F=(T+$)/s;F<0||F>=i.outWidth||Math.floor(F)!==F||(B+=E.get(C,z,P,F,S))}}}y.set(B*w,C,_,A,D,S)}return y.toTensor()},e.prototype.maxPool3d=function(t,r){return ue(t,"maxPool3d"),this.pool3d(t,r,"max").toFloat()},e.prototype.maxPool3dPositions=function(t,r){for(var i=Ue(r.outShape,"int32"),o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=r.padInfo.front,m=r.padInfo.top,b=r.padInfo.left,g=this.bufferSync(t),v=0;v<r.batchSize;++v)for(var x=0;x<r.inChannels;++x)for(var y=0;y<r.outDepth;++y){for(var w=y*o-p,E=w;E<0;)E+=l;for(var C=Math.min(r.inDepth,d+w),S=0;S<r.outHeight;++S){for(var _=S*a-m,A=_;A<0;)A+=c;for(var D=Math.min(r.inHeight,h+_),I=0;I<r.outWidth;++I){for(var M=I*s-b,T=M;T<0;)T+=u;for(var B=Math.min(r.inWidth,f+M),L=Number.NEGATIVE_INFINITY,z=-1,U=E;U<C;U+=l)for(var P=U-w,$=A;$<D;$+=c)for(var F=$-_,N=T;N<B;N+=u){var ee=N-M,X=g.get(v,U,$,N,x);X>=L&&(L=X,z=P*h*f+F*h+ee)}i.set(z,v,y,S,I,x)}}}return i.toTensor()},e.prototype.maxPool3dBackprop=function(t,r,i,o){ue([r,i],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(r,o),s=o.strideDepth,l=o.strideHeight,c=o.strideWidth,u=o.dilationDepth,d=o.dilationHeight,h=o.dilationWidth,f=o.effectiveFilterDepth,p=o.effectiveFilterHeight,m=o.effectiveFilterWidth,b=f-1-o.padInfo.front,g=m-1-o.padInfo.left,v=p-1-o.padInfo.top,x=Ue(r.shape,"float32"),y=this.bufferSync(a),w=this.bufferSync(t),E=0;E<o.batchSize;++E)for(var C=0;C<o.inChannels;++C)for(var S=0;S<o.inDepth;++S)for(var _=0;_<o.inHeight;++_)for(var A=0;A<o.inWidth;++A){for(var D=S-b,I=_-v,M=A-g,T=0,B=0;B<f;B+=u){var L=(D+B)/s;if(!(L<0||L>=o.outDepth||Math.floor(L)!==L))for(var z=0;z<p;z+=d){var U=(I+z)/l;if(!(U<0||U>=o.outHeight||Math.floor(U)!==U))for(var P=0;P<m;P+=h){var $=(M+P)/c;if(!($<0||$>=o.outWidth||Math.floor($)!==$)){var F=f*p*m-1-y.get(E,L,U,$,C)===B*p*m+z*m+P?1:0;F!==0&&(T+=w.get(E,L,U,$,C)*F)}}}}x.set(T,E,S,_,A,C)}return x.toTensor()},e.prototype.cast=function(t,r){return qT(t,r,this)},e.prototype.reshape=function(t,r){return Jv(t,r)},e.prototype.avgPool=function(t,r){return ue(t,"avgPool"),this.pool(t,r,"avg").toFloat()},e.prototype.resizeBilinear=function(t,r,i,o){ue(t,"resizeBilinear");for(var a=t.shape,s=a[0],l=a[1],c=a[2],u=a[3],d=this.readSync(t.dataId),h=new Float32Array(Te([s,r,i,u])),f=[o&&r>1?l-1:l,o&&i>1?c-1:c],p=[o&&r>1?r-1:r,o&&i>1?i-1:i],m=0,b=f[0]/p[0],g=f[1]/p[1],v=0;v<s;v++)for(var x=0;x<r;x++)for(var y=b*x,w=Math.floor(y),E=y-w,C=Math.min(l-1,Math.ceil(y)),S=v*t.strides[0]+w*t.strides[1],_=v*t.strides[0]+C*t.strides[1],A=0;A<i;A++)for(var D=g*A,I=Math.floor(D),M=D-I,T=Math.min(c-1,Math.ceil(D)),B=S+I*t.strides[2],L=_+I*t.strides[2],z=S+T*t.strides[2],U=_+T*t.strides[2],P=0;P<u;P++){var $=d[B+P],F=d[L+P],N=$+(d[z+P]-$)*M,ee=N+(F+(d[U+P]-F)*M-N)*E;h[m++]=ee}return An(h,[s,r,i,u])},e.prototype.resizeBilinearBackprop=function(t,r,i){ue([t,r],"resizeBilinearBackprop");for(var o=r.shape,a=o[0],s=o[1],l=o[2],c=o[3],u=t.shape,d=u[1],h=u[2],f=new Float32Array(a*s*l*c),p=[i&&d>1?s-1:s,i&&h>1?l-1:l],m=[i&&d>1?d-1:d,i&&h>1?h-1:h],b=p[0]/m[0],g=p[1]/m[1],v=this.readSync(t.dataId),x=0,y=0;y<a;y++)for(var w=y*r.strides[0],E=0;E<d;E++)for(var C=E*b,S=Math.floor(C),_=Math.min(Math.ceil(C),s-1),A=w+S*r.strides[1],D=w+_*r.strides[1],I=C-S,M=1-I,T=0;T<h;T++)for(var B=T*g,L=Math.floor(B),z=Math.min(Math.ceil(B),l-1),U=B-L,P=1-U,$=A+L*r.strides[2],F=A+z*r.strides[2],N=D+L*r.strides[2],ee=D+z*r.strides[2],X=M*P,J=M*U,be=I*P,we=I*U,ve=0;ve<c;ve++){var ke=v[x++];f[$+ve]+=ke*X,f[F+ve]+=ke*J,f[N+ve]+=ke*be,f[ee+ve]+=ke*we}return or(f,[a,l,s,c],r.dtype)},e.prototype.resizeNearestNeighbor=function(t,r,i,o){ue(t,"resizeNearestNeighbor");for(var a=t.shape,s=a[0],l=a[1],c=a[2],u=a[3],d=this.readSync(t.dataId),h=new Float32Array(s*r*i*u),f=[o&&r>1?l-1:l,o&&i>1?c-1:c],p=[o&&r>1?r-1:r,o&&i>1?i-1:i],m=f[0]/p[0],b=f[1]/p[1],g=0,v=0;v<s;v++)for(var x=v*t.strides[0],y=0;y<r;y++)for(var w=m*y,E=x+Math.min(l-1,o?Math.round(w):Math.floor(w))*t.strides[1],C=0;C<i;C++)for(var S=b*C,_=E+Math.min(c-1,o?Math.round(S):Math.floor(S))*t.strides[2],A=0;A<u;A++){var D=d[_+A];h[g++]=D}return An(h,[s,r,i,u],t.dtype)},e.prototype.resizeNearestNeighborBackprop=function(t,r,i){ue([t,r],"resizeNearestNeighborBackprop");for(var o=r.shape,a=o[0],s=o[1],l=o[2],c=o[3],u=t.shape,d=u[1],h=u[2],f=new Float32Array(a*s*l*c),p=this.readSync(t.dataId),m=[i&&d>1?s-1:s,i&&h>1?l-1:l],b=[i&&d>1?d-1:d,i&&h>1?h-1:h],g=m[0]/b[0],v=m[1]/b[1],x=1/g,y=1/v,w=2*Math.ceil(x)+2,E=2*Math.ceil(y)+2,C=0;C<a;C++)for(var S=C*r.strides[0],_=0;_<s;_++)for(var A=S+_*r.strides[1],D=Math.floor(_*x),I=Math.floor(D-w/2),M=0;M<l;M++)for(var T=A+M*r.strides[2],B=Math.floor(M*y),L=Math.floor(B-E/2),z=0;z<c;z++){for(var U=0,P=0;P<w;P++){var $=P+I;if(!($<0||$>=d)){var F=S+$*t.strides[1],N=$*g;if(_===Math.min(s-1,i?Math.round(N):Math.floor(N)))for(var ee=0;ee<E;ee++){var X=ee+L;if(!(X<0||X>=h)){var J=F+X*t.strides[2],be=X*v;M===Math.min(l-1,i?Math.round(be):Math.floor(be))&&(U+=p[J+z])}}}}f[T+z]=U}return or(f,r.shape,r.dtype)},e.prototype.batchNormalization=function(t,r,i,o,a,s){ue([t,r,i,a,s],"batchNorm");for(var l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=this.readSync(i.dataId),d=a?this.readSync(a.dataId):new Float32Array([1]),h=s?this.readSync(s.dataId):new Float32Array([0]),f=new Float32Array(l.length),p=h.length,m=d.length,b=u.length,g=c.length,v=0,x=0,y=0,w=0,E=0;E<l.length;++E)f[E]=h[v++]+(l[E]-c[x++])*d[y++]/Math.sqrt(u[w++]+o),v>=p&&(v=0),x>=g&&(x=0),y>=m&&(y=0),w>=b&&(w=0);return or(f,t.shape)},e.prototype.localResponseNormalization4D=function(t,r,i,o,a){ue(t,"localResponseNormalization4D");var s=t.shape[3],l=s-1,c=this.readSync(t.dataId),u=t.size,d=new Float32Array(u);function h(b){for(var g=b%s,v=b-g+Math.max(0,g-r),x=b-g+Math.min(g+r,l),y=0;v<=x;v++){var w=c[v];y+=w*w}return y}for(var f=0;f<u;f++){var p=h(f),m=c[f]*Math.pow(i+o*p,-a);d[f]=m}return or(d,t.shape)},e.prototype.LRNGrad=function(t,r,i,o,a,s,l){ue(t,"LRNGrad");for(var c=t.shape[3],u=this.readSync(t.dataId),d=this.readSync(r.dataId),h=this.readSync(i.dataId),f=new Float32Array(t.size),p=t.size,m=0;m<p;m++){for(var b=m%c,g=m-b+Math.max(0,b-o),v=m-b+Math.min(c,b+o+1),x=0,y=g;y<v;y++)x+=Math.pow(d[y],2);for(x=s*x+a,y=g;y<v;y++){var w=-2*s*l*d[y]*h[m]/x;m===y&&(w+=Math.pow(x,-l)),w*=u[m],f[y]+=w}}return or(f,t.shape)},e.prototype.multinomial=function(t,r,i,o){ue(t,"multinomial");for(var a=r?t:Lo(t),s=a.shape[0],l=a.shape[1],c=Ct([s,i],"int32"),u=this.readSync(c.dataId),d=this.readSync(a.dataId),h=0;h<s;++h){var f=h*l,p=new Float32Array(l-1);p[0]=d[f];for(var m=1;m<p.length;++m)p[m]=p[m-1]+d[f+m];for(var b=Jm(o.toString()),g=h*i,v=0;v<i;++v){var x=b();u[g+v]=p.length;for(var y=0;y<p.length;y++)if(x<p[y]){u[g+v]=y;break}}}return c},e.prototype.oneHot=function(t,r,i,o){ue(t,"oneHot");var a=new Float32Array(t.size*r);a.fill(o);for(var s=this.readSync(t.dataId),l=0;l<t.size;++l)s[l]>=0&&s[l]<r&&(a[l*r+s[l]]=i);return Ca(a,[t.size,r],"int32")},e.prototype.nonMaxSuppression=function(t,r,i,o,a){return ue(t,"nonMaxSuppression"),D1(this.readSync(t.dataId),this.readSync(r.dataId),i,o,a)},e.prototype.fft=function(t){return this.fftBatch(t,!1)},e.prototype.ifft=function(t){return this.fftBatch(t,!0)},e.prototype.fftBatch=function(t,r){for(var i=t.shape[0],o=t.shape[1],a=Ue(t.shape,"float32"),s=Ue(t.shape,"float32"),l=Gr(t).as2D(i,o),c=zi(t).as2D(i,o),u=0;u<i;u++)for(var d=l.slice([u,0],[1,o]),h=c.slice([u,0],[1,o]),f=Sn(d,h),p=this.readSync(this.fftImpl(f,r).dataId),m=0;m<o;m++){var b=b3(p,m);a.values[u*o+m]=b.real,s.values[u*o+m]=b.imag}return Sn(a.toTensor(),s.toTensor()).as2D(i,o)},e.prototype.fftImpl=function(t,r){var i=t.as1D(),o=i.size;if(this.isExponentOf2(o)){var a=this.fftRadix2(i,o,r).as2D(t.shape[0],t.shape[1]);return r&&(a=Sn(Gr(a).div(xe(o)),zi(a).div(xe(o)))),a}var s=this.readSync(t.dataId),l=function(c){for(var u=new Float32Array(c.length/2),d=new Float32Array(c.length/2),h=0;h<c.length;h+=2)u[h/2]=c[h],d[h/2]=c[h+1];return{real:u,imag:d}}(this.fourierTransformByMatmul(s,o,r));return Sn(l.real,l.imag).as2D(t.shape[0],t.shape[1])},e.prototype.isExponentOf2=function(t){return(t&t-1)==0},e.prototype.fftRadix2=function(t,r,i){if(r===1)return t;var o=this.readSync(t.dataId),a=r/2,s=function(g){for(var v=Math.ceil(g.length/4),x=new Float32Array(v),y=new Float32Array(v),w=0;w<g.length;w+=4)x[Math.floor(w/4)]=g[w],y[Math.floor(w/4)]=g[w+1];return{real:x,imag:y}}(o),l=Sn(s.real,s.imag).as1D(),c=function(g){for(var v=Math.floor(g.length/4),x=new Float32Array(v),y=new Float32Array(v),w=2;w<g.length;w+=4)x[Math.floor(w/4)]=g[w],y[Math.floor(w/4)]=g[w+1];return{real:x,imag:y}}(o),u=Sn(c.real,c.imag).as1D();l=this.fftRadix2(l,a,i),u=this.fftRadix2(u,a,i);var d=function(g,v){for(var x=new Float32Array(g/2),y=new Float32Array(g/2),w=0;w<Math.ceil(g/2);w++){var E=(v?2:-2)*Math.PI*(w/g);x[w]=Math.cos(E),y[w]=Math.sin(E)}return{real:x,imag:y}}(r,i),h=Sn(d.real,d.imag).mul(u),f=l.add(h),p=l.sub(h),m=Gr(f).concat(Gr(p)),b=zi(f).concat(zi(p));return Sn(m,b).as1D()},e.prototype.fourierTransformByMatmul=function(t,r,i){for(var o=new Float32Array(2*r),a=0;a<r;a++){for(var s=0,l=0,c=0;c<r;c++){var u=SX(a*c,r,i),d=b3(t,c);s+=d.real*u.real-d.imag*u.imag,l+=d.real*u.imag+d.imag*u.real}i&&(s/=r,l/=r),EX(o,s,l,a)}return o},e.prototype.depthToSpace=function(t,r,i){W(i==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+i}),W(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var o=t.shape[0],a=t.shape[1],s=t.shape[2],l=t.shape[3],c=a*r,u=s*r,d=l/(r*r),h=this.readSync(t.dataId),f=new Float32Array(o*c*u*d),p=0,m=0;m<o;++m)for(var b=0;b<c;++b)for(var g=Math.floor(b/r),v=b%r,x=0;x<u;++x)for(var y=Math.floor(x/r),w=(v*r+x%r)*d,E=0;E<d;++E){var C=E+w+l*(y+s*(g+a*m));f[p++]=h[C]}return or(f,[o,c,u,d])},e.prototype.broadcastedBinaryOp=function(t,r,i,o){var a=nt(t.shape,r.shape),s=Ue(a,i),l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=ha(t.shape,a),d=ha(r.shape,a),h=s.values;if(u.length+d.length===0)for(var f=0;f<h.length;++f)h[f]=o(l[f%l.length],c[f%c.length]);else{var p=this.bufferSync(t),m=this.bufferSync(r),b=function(g){var v=s.indexToLoc(g),x=v.slice(-t.rank);u.forEach(function(C){return x[C]=0});var y=p.locToIndex(x),w=v.slice(-r.rank);d.forEach(function(C){return w[C]=0});var E=m.locToIndex(w);h[g]=o(l[y],c[E])};for(f=0;f<h.length;++f)b(f)}return s.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(t,r,i){var o=nt(t.shape,r.shape),a=Ue(o,"float32"),s=Ue(o,"float32"),l=this.readSync(t.dataId),c=this.readSync(r.dataId),u=ha(t.shape,o),d=ha(r.shape,o),h=a.values,f=s.values;if(u.length+d.length===0)for(var p=0;p<h.length;p++){var m=p%l.length,b=p%c.length,g=i(l[2*m],l[2*m+1],c[2*b],c[2*b+1]);h[p]=g.real,f[p]=g.imag}else{var v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),x=this.bufferSync(this.data.get(r.dataId).complexTensors.real),y=function(w){var E=a.indexToLoc(w),C=E.slice(-t.rank);u.forEach(function(I){return C[I]=0});var S=v.locToIndex(C),_=E.slice(-r.rank);d.forEach(function(I){return _[I]=0});var A=x.locToIndex(_),D=i(l[2*S],l[2*S+1],c[2*A],c[2*A+1]);h[w]=D.real,f[w]=D.imag};for(p=0;p<h.length;p++)y(p)}return this.complex(a.toTensor(),s.toTensor())},e.prototype.split=function(t,r,i){return YT(t,r,i)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(t,r,i,o,a,s){for(var l=t.shape,c=l[0],u=l[1],d=l[2],h=l[3],f=r.shape[0],p=o[0],m=o[1],b=Ue([f,p,m,h],"float32"),g=this.readSync(r.dataId),v=this.readSync(i.dataId),x=this.readSync(t.dataId),y=t.strides,w=b.strides,E=0;E<f;E++){var C=4*E,S=g[C],_=g[C+1],A=g[C+2],D=g[C+3],I=v[E];if(!(I>=c))for(var M=p>1?(A-S)*(u-1)/(p-1):0,T=m>1?(D-_)*(d-1)/(m-1):0,B=0;B<p;B++){var L=p>1?S*(u-1)+B*M:.5*(S+A)*(u-1);if(L<0||L>u-1)for(var z=0;z<m;z++)for(var U=0;U<h;U++){var P=U+z*w[2]+B*w[1]+E*w[0];b.values[P]=s}else if(a==="bilinear"){var $=Math.floor(L),F=Math.ceil(L),N=L-$;for(z=0;z<m;z++)if((Me=m>1?_*(d-1)+z*T:.5*(_+D)*(d-1))<0||Me>d-1)for(U=0;U<h;U++)P=U+z*w[2]+B*w[1]+E*w[0],b.values[P]=s;else{var ee=Math.floor(Me),X=Math.ceil(Me),J=Me-ee;for(U=0;U<h;U++){var be=x[P=U+ee*y[2]+$*y[1]+I*y[0]],we=x[P=U+X*y[2]+$*y[1]+I*y[0]],ve=x[P=U+ee*y[2]+F*y[1]+I*y[0]],ke=be+(we-be)*J,He=ve+(x[P=U+X*y[2]+F*y[1]+I*y[0]]-ve)*J;P=U+z*w[2]+B*w[1]+E*w[0],b.values[P]=ke+(He-ke)*N}}}else for(z=0;z<m;++z){var Me;if((Me=m>1?_*(d-1)+z*T:.5*(_+D)*(d-1))<0||Me>d-1)for(U=0;U<h;U++)P=U+z*w[2]+B*w[1]+E*w[0],b.values[P]=s;else{var We=Math.round(Me),Fe=Math.round(L);for(U=0;U<h;U++){var R=U+We*y[2]+Fe*y[1]+I*y[0],ne=U+z*w[2]+B*w[1]+E*w[0];b.values[ne]=x[R]}}}}}return b.toTensor()},e.prototype.sparseToDense=function(t,r,i,o){var a=Ip(0,t,i),s=a.sliceRank,l=a.numUpdates,c=a.sliceSize,u=a.strides,d=a.outputSize;return this.scatter(t,r,i,d,c,l,s,u,o,!1)},e.prototype.gatherND=function(t,r){var i=r.shape,o=i[i.length-1],a=NT(t,r),s=a[0],l=a[1],c=a[2],u=a[3];if(l===0)return An([],s,t.dtype);for(var d=new pd([l,c],t.dtype),h=this.readSync(r.dataId),f=this.readSync(t.dataId),p=0;p<l;p++){for(var m=[],b=0,g=0;g<o;g++){var v=h[p*o+g];b+=v*u[g],m.push(v)}if(b<0||b>=t.size/c)throw new Error("Invalid indices: "+m+" does not index into "+t.shape);for(var x=0;x<c;x++)d.values[p*c+x]=f[b*c+x]}return d.toTensor().reshape(s)},e.prototype.scatterND=function(t,r,i){var o=Ip(0,t,i),a=o.sliceRank,s=o.numUpdates,l=o.sliceSize,c=o.strides,u=o.outputSize,d=xe(0);return this.scatter(t,r,i,u,l,s,a,c,d,!0)},e.prototype.fill=function(t,r,i){var o=xp(i=i||qd(r),Te(t));return o.fill(r),G.makeTensor(o,t,i,this)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){var r=xp(t.dtype,Te(t.shape));return this.makeOutput(r,t.shape,t.dtype)},e.prototype.linspace=function(t,r,i){return GT(t,r,i)},e.prototype.scatter=function(t,r,i,o,a,s,l,c,u,d){var h=[o/a,a],f=this.readSync(t.dataId),p=this.readSync(r.dataId);if(o===0)return An([],i,r.dtype);var m=new pd(h,r.dtype);m.values.fill(this.readSync(u.dataId)[0]);for(var b=0;b<s;b++){for(var g=[],v=0,x=0;x<l;x++){var y=f[b*l+x];g.push(y),v+=y*c[x]}if(v<0||v>=o/a)throw new Error("Invalid indices: "+g+" does not index into "+i);for(var w=0;w<a;w++)d?m.values[v*a+w]+=p[b*a+w]:m.values[v*a+w]=r.rank===0?p[0]:p[b*a+w]}return m.toTensor().reshape(i)},e}(WT);G.registerBackend("cpu",function(){return new qee},1);for(var Y0=0,N3=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs,i=e,o=i.boxes,a=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,d=s.softNmsSigma,h=t;ue(o,"NonMaxSuppressionWithScore");var f=O1(h.data.get(o.dataId).values,h.data.get(a.dataId).values,l,c,u,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e.x,i=t;ue(r,"square");for(var o=i.data.get(r.dataId).values,a=new Float32Array(o.length),s=0;s<o.length;++s){var l=o[s];a[s]=l*l}return{dataId:i.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:bd,backendName:"cpu",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e,i=r.a,o=r.b,a=t;ue([i,o],bd);var s=a.data.get(i.dataId).values,l=a.data.get(o.dataId).values,c=function(h,f,p,m,b,g){var v=nt(h,f),x=v.length,y=Wi(v),w=fd(b,Te(v)),E=h.length,C=f.length,S=Wi(h),_=Wi(f),A=ha(h,v),D=ha(f,v);if(A.length+D.length===0)for(var I=0;I<w.length;++I)w[I]=g(p[I%p.length],m[I%m.length]);else{var M=function(T){var B=nY(T,x,y),L=B.slice(-E);A.forEach(function($){return L[$]=0});var z=l3(L,E,S),U=B.slice(-C);D.forEach(function($){return U[$]=0});var P=l3(U,C,_);w[T]=g(p[z],m[P])};for(I=0;I<w.length;++I)M(I)}return[w,v]}(i.shape,o.shape,s,l,i.dtype,function(h,f){var p=h-f;return p*p}),u=c[0],d=c[1];return{dataId:a.write(u,d,i.dtype),shape:d,dtype:i.dtype}}}];Y0<N3.length;Y0++)vT(N3[Y0]);var hl,Gee=function(n){this.variableNames=["A"];var e=Ln(),t=n[0],r=n[1];this.outputShape=n,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+t+".0);\n\n        vec4 values = "+e.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Kee=function(n){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=Ln(),t=n[0],r=n[1];this.outputShape=n,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+t+".0);\n            vec4 values = "+e.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+e.output+" = result;\n      }\n    "};for(var X0=0,F3=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs,i=e.pixels,o=r.numChannels,a=typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,l=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=l[0],u=l[1],d=[u,c],h=[u,c,o];(s||a)&&(hl==null&&(hl=document.createElement("canvas").getContext("2d")),hl.canvas.width=c,hl.canvas.height=u,hl.drawImage(i,0,0,c,u),i=hl.canvas);var f=t.makeTensorInfo(d,"int32");t.texData.get(f.dataId).usage=_r.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(f.dataId),i);var p=oe().getBool("WEBGL_PACK")?new Kee(h):new Gee(h),m=t.runWebGLProgram(p,[f],"int32");return t.disposeData(f.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=n.attrs;_p("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=e,o=i.boxes,a=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,d=s.softNmsSigma,h=t,f=O1(h.readSync(o.dataId),h.readSync(a.dataId),l,c,u,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e.x,i=t,o=new Ge(r.shape,"return x * x;");return i.runWebGLProgram(o,[r],r.dtype)}},{kernelName:bd,backendName:"webgl",kernelFunc:function(n){var e=n.inputs,t=n.backend,r=e,i=r.a,o=r.b,a=t,s=oe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new co("return (a - b) * (a - b);",i.shape,o.shape):new Lt("return (a - b) * (a - b);",i.shape,o.shape);return a.compileAndRun(s,[i,o])}}];X0<F3.length;X0++)vT(F3[X0]);for(var Z0=0,$3=[{kernelName:"Square",gradFunc:function(n,e){var t=e[0];return{x:function(){return n.mul(t.toFloat().mul(2))}}}},{kernelName:bd,gradFunc:function(n,e){var t=e[0],r=e[1],i=xe(2);return{a:function(){return $n(n,$n(i,sn(t,r)))},b:function(){return $n(n,$n(i,sn(r,t)))}}}}];Z0<$3.length;Z0++)VK($3[Z0]);var Yee=function(){function n(){}return n.prototype.fetch=function(e,t){return fetch(e,t)},n.prototype.now=function(){return performance.now()},n.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+t);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},n.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},n}();oe().get("IS_BROWSER")&&oe().setPlatform("browser",new Yee);var J0,Xee=function(){return require("node-fetch")},Zee=function(){function n(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return n.prototype.fetch=function(e,t){return oe().global.fetch!=null?oe().global.fetch(e,t):(J0==null&&(J0=Xee()),J0(e,t))},n.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},n.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},n.prototype.decode=function(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)},n}();oe().get("IS_NODE")&&oe().setPlatform("node",new Zee);var tx={float32:4,int32:4,uint16:2,uint8:1,bool:1},Lp=4;function $A(n,e){for(var t={},r=0,i=function(s){var l=s.name,c=s.dtype,u=s.shape,d=Te(u),h=void 0;if("quantization"in s){var f=s.quantization;if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+f.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var p=tx[f.dtype],m=n.slice(r,r+d*p),b=f.dtype==="uint8"?new Uint8Array(m):new Uint16Array(m);if(c==="float32")h=Float32Array.from(b,function(E){return E*f.scale+f.min});else{if(c!=="int32")throw new Error("Unsupported dtype in weight '"+l+"': "+c);h=Int32Array.from(b,function(E){return Math.round(E*f.scale+f.min)})}r+=d*p}else if(c==="string"){var g=Te(s.shape);h=[];for(var v=0;v<g;v++){var x=new Uint32Array(n.slice(r,r+Lp))[0];r+=Lp;var y=new Uint8Array(n.slice(r,r+x));h.push(y),r+=x}}else{var w=tx[c];if(m=n.slice(r,r+d*w),c==="float32")h=new Float32Array(m);else if(c==="int32")h=new Int32Array(m);else{if(c!=="bool")throw new Error("Unsupported dtype in weight '"+l+"': "+c);h=new Uint8Array(m)}r+=d*w}t[l]=An(h,u,c)},o=0,a=e;o<a.length;o++)i(a[o]);return t}function Jee(n){if(n===null)throw new Error("Invalid input value: "+JSON.stringify(n));var e=0,t=[];n.forEach(function(o){if(e+=o.byteLength,t.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)});var r=new Uint8Array(e),i=0;return t.forEach(function(o){r.set(new Uint8Array(o.buffer),i),i+=o.byteLength}),r.buffer}var nx=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function U3(n){return nx?Buffer.byteLength(n):new Blob([n]).size}function Z1(n){var e=0;n.forEach(function(i){e+=i.byteLength});var t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(new Uint8Array(i),r),r+=i.byteLength}),t.buffer}function H3(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);var e=n.split("/");return e[e.length-1]}function Qd(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:n.modelTopology==null?0:U3(JSON.stringify(n.modelTopology)),weightSpecsBytes:n.weightSpecs==null?0:U3(JSON.stringify(n.weightSpecs)),weightDataBytes:n.weightData==null?0:n.weightData.byteLength}}var Cr=function(){function n(){this.saveRouters=[],this.loadRouters=[]}return n.getInstance=function(){return n.instance==null&&(n.instance=new n),n.instance},n.registerSaveRouter=function(e){n.getInstance().saveRouters.push(e)},n.registerLoadRouter=function(e){n.getInstance().loadRouters.push(e)},n.getSaveHandlers=function(e){return n.getHandlers(e,"save")},n.getLoadHandlers=function(e,t){return n.getHandlers(e,"load",t)},n.getHandlers=function(e,t,r){var i=[];return(t==="load"?n.getInstance().loadRouters:n.getInstance().saveRouters).forEach(function(o){var a=o(e,r);a!==null&&i.push(a)}),i},n}(),nc="://",Ea=function(){function n(){this.managers={}}return n.getInstance=function(){return n.instance==null&&(n.instance=new n),n.instance},n.registerManager=function(e,t){W(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(nc)&&(e=e.slice(0,e.indexOf(nc))),W(e.length>0,function(){return"scheme must not be an empty string."});var r=n.getInstance();W(r.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=t},n.getManager=function(e){var t=this.getInstance().managers[e];if(t==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},n.getSchemes=function(){return Object.keys(this.getInstance().managers)},n}();function vf(n){if(n.indexOf(nc)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Ea.getSchemes().join(","));return{scheme:n.split(nc)[0],path:n.split(nc)[1]}}function W3(n,e,t){return t===void 0&&(t=!1),Ee(this,void 0,void 0,function(){var r,i,o,a,s,l,c,u,d;return Se(this,function(h){switch(h.label){case 0:return W(n!==e,function(){return"Old path and new path are the same: '"+n+"'"}),W((r=Cr.getLoadHandlers(n)).length>0,function(){return"Copying failed because no load handler is found for source URL "+n+"."}),W(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+n+"."}),i=r[0],W((o=Cr.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),W(o.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),a=o[0],s=vf(n).scheme,l=vf(n).path,c=s===vf(n).scheme,[4,i.load()];case 1:return u=h.sent(),t&&c?[4,Ea.getManager(s).removeModel(l)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,a.save(u)];case 4:return d=h.sent(),!t||c?[3,6]:[4,Ea.getManager(s).removeModel(l)];case 5:h.sent(),h.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var ms="models_store",fa="model_info_store";function UA(){if(!oe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var n=window||self,e=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function rx(n){var e=n.result;e.createObjectStore(ms,{keyPath:"modelPath"}),e.createObjectStore(fa,{keyPath:"modelPath"})}var rc=function(){function n(e){if(this.indexedDB=UA(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},n.prototype.databaseAction=function(e,t){var r=this;return new Promise(function(i,o){var a=r.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return rx(a)},a.onsuccess=function(){var s=a.result;if(t==null){var l=s.transaction(ms,"readonly"),c=l.objectStore(ms).get(r.modelPath);c.onsuccess=function(){if(c.result==null)return s.close(),o(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));i(c.result.modelArtifacts)},c.onerror=function(m){return s.close(),o(c.error)},l.oncomplete=function(){return s.close()}}else{var u,d=Qd(t),h=s.transaction(fa,"readwrite"),f=h.objectStore(fa),p=f.put({modelPath:r.modelPath,modelArtifactsInfo:d});p.onsuccess=function(){var m=(u=s.transaction(ms,"readwrite")).objectStore(ms).put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:d});m.onsuccess=function(){return i({modelArtifactsInfo:d})},m.onerror=function(b){var g=(f=h.objectStore(fa)).delete(r.modelPath);g.onsuccess=function(){return s.close(),o(m.error)},g.onerror=function(v){return s.close(),o(m.error)}}},p.onerror=function(m){return s.close(),o(p.error)},h.oncomplete=function(){u==null?s.close():u.oncomplete=function(){return s.close()}}}},a.onerror=function(s){return o(a.error)}})},n.URL_SCHEME="indexeddb://",n}(),V3=function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(rc.URL_SCHEME)?(e=n.slice(rc.URL_SCHEME.length),new rc(e)):null;var e};Cr.registerSaveRouter(V3),Cr.registerLoadRouter(V3);var Qee=function(){function n(){this.indexedDB=UA()}return n.prototype.listModels=function(){return Ee(this,void 0,void 0,function(){var e=this;return Se(this,function(t){return[2,new Promise(function(r,i){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return rx(o)},o.onsuccess=function(){var a=o.result,s=a.transaction(fa,"readonly"),l=s.objectStore(fa).getAll();l.onsuccess=function(){for(var c={},u=0,d=l.result;u<d.length;u++){var h=d[u];c[h.modelPath]=h.modelArtifactsInfo}r(c)},l.onerror=function(c){return a.close(),i(l.error)},s.oncomplete=function(){return a.close()}},o.onerror=function(a){return i(o.error)}})]})})},n.prototype.removeModel=function(e){return Ee(this,void 0,void 0,function(){var t=this;return Se(this,function(r){var i;return e=(i=e).startsWith(rc.URL_SCHEME)?i.slice(rc.URL_SCHEME.length):i,[2,new Promise(function(o,a){var s=t.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return rx(s)},s.onsuccess=function(){var l,c=s.result,u=c.transaction(fa,"readwrite"),d=u.objectStore(fa),h=d.get(e);h.onsuccess=function(){if(h.result==null)return c.close(),a(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var f=d.delete(e),p=function(){var m=(l=c.transaction(ms,"readwrite")).objectStore(ms).delete(e);m.onsuccess=function(){return o(h.result.modelArtifactsInfo)},m.onerror=function(b){return a(h.error)}};f.onsuccess=p,f.onerror=function(m){return p(),c.close(),a(h.error)}},h.onerror=function(f){return c.close(),a(h.error)},u.oncomplete=function(){l==null?c.close():l.oncomplete=function(){return c.close()}}},s.onerror=function(l){return a(s.error)}})]})})},n}();if(oe().getBool("IS_BROWSER"))try{Ea.registerManager(rc.URL_SCHEME,new Qee)}catch(n){}var vo="/",Al="tensorflowjs_models",HA="info",ete="model_topology",tte="weight_specs",nte="weight_data",rte="model_metadata";function WA(n){return{info:[Al,n,HA].join(vo),topology:[Al,n,ete].join(vo),weightSpecs:[Al,n,tte].join(vo),weightData:[Al,n,nte].join(vo),modelMetadata:[Al,n,rte].join(vo)}}function ite(n){var e=n.split(vo);if(e.length<3)throw new Error("Invalid key format: "+n);return e.slice(1,e.length-1).join(vo)}var ic=function(){function n(e){if(!oe().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=WA(this.modelPath)}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i;return Se(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=Qd(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(a){if(nx)return Buffer.from(a).toString("base64");for(var s=new Uint8Array(a),l="",c=0,u=s.length;c<u;c++)l+=String.fromCharCode(s[c]);return btoa(l)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:i}]}catch(a){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+i.modelTopologyBytes+", weightSpecsBytes="+i.weightSpecsBytes+", weightDataBytes="+i.weightDataBytes+".")}return[2]})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a,s;return Se(this,function(l){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=r,(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=i,(o=this.LS.getItem(this.keys.modelMetadata))!=null&&(a=JSON.parse(o),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(c){if(nx){var u=Buffer.from(c,"base64");return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}for(var d=atob(c),h=new Uint8Array(d.length),f=0;f<d.length;++f)h.set([d.charCodeAt(f)],f);return h.buffer}(s),[2,t]})})},n.URL_SCHEME="localstorage://",n}(),q3=function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(ic.URL_SCHEME)?(e=n.slice(ic.URL_SCHEME.length),new ic(e)):null;var e};Cr.registerSaveRouter(q3),Cr.registerLoadRouter(q3);var ote=function(){function n(){W(oe().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),W(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return n.prototype.listModels=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a;return Se(this,function(s){for(e={},t=Al+vo,r=vo+HA,i=0;i<this.LS.length;++i)(o=this.LS.key(i)).startsWith(t)&&o.endsWith(r)&&(a=ite(o),e[a]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},n.prototype.removeModel=function(e){return Ee(this,void 0,void 0,function(){var t,r;return Se(this,function(i){var o;if(e=(o=e).startsWith(ic.URL_SCHEME)?o.slice(ic.URL_SCHEME.length):o,t=WA(e),this.LS.getItem(t.info)==null)throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,r]})})},n}();if(oe().getBool("IS_BROWSER"))try{Ea.registerManager(ic.URL_SCHEME,new ote)}catch(n){}var ate="model",ste=".json",lte=".weights.bin";function G3(n){return new Promise(function(e){return setTimeout(e)}).then(n)}var Q0=function(){function n(e){if(!oe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n.URL_SCHEME)&&(e=e.slice(n.URL_SCHEME.length)),e!=null&&e.length!==0||(e=ate),this.modelTopologyFileName=e+ste,this.weightDataFileName=e+lte}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s;return Se(this,function(l){switch(l.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(a=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=o,[4,G3(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return l.sent(),e.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=t,[4,G3(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:Qd(e)}]}})})},n.URL_SCHEME="downloads://",n}(),cte=function(){function n(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r=this;return Se(this,function(i){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(o,a){var s=new FileReader;s.onload=function(l){var c=JSON.parse(l.target.result),u=c.modelTopology;if(u!=null){t.length===0&&o({modelTopology:u});var d=c.weightsManifest;if(d!=null){var h;try{h=r.checkManifestAndWeightFiles(d,t)}catch(b){return void a(b)}var f=[],p=[],m=[];d.forEach(function(b){b.paths.forEach(function(g){p.push(g),m.push(null)}),f.push.apply(f,b.weights)}),d.forEach(function(b){b.paths.forEach(function(g){var v=new FileReader;v.onload=function(x){var y=x.target.result,w=p.indexOf(g);m[w]=y,m.indexOf(null)===-1&&o({modelTopology:u,weightSpecs:f,weightData:Z1(m),format:c.format,generatedBy:c.generatedBy,convertedBy:c.convertedBy,userDefinedMetadata:c.userDefinedMetadata})},v.onerror=function(x){return a("Failed to weights data from file of path '"+g+"'.")},v.readAsArrayBuffer(h[g])})})}else a(new Error("weightManifest field is missing from file "+e.name))}else a(new Error("modelTopology field is missing from file "+e.name))},s.onerror=function(l){return a("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(e)})]})})},n.prototype.checkManifestAndWeightFiles=function(e,t){for(var r=[],i=t.map(function(l){return H3(l.name)}),o={},a=0,s=e;a<s.length;a++)s[a].paths.forEach(function(l){var c=H3(l);if(r.indexOf(c)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+c+"'");if(r.push(c),i.indexOf(c)===-1)throw new Error("Weight file with basename '"+c+"' is not provided.");o[l]=t[i.indexOf(c)]});if(r.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+t.length+").");return o},n}();function K3(n,e,t,r){(function(o){W(o!=null&&Array.isArray(o)&&o.length>0,function(){return"promises must be a none empty array"})})(n),function(o,a){W(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+o}),W(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+a}),W(a>=o,function(){return"startFraction must be no more than endFraction, but got startFraction "+o+" and endFraction "+a})}(t=t==null?0:t,r=r==null?1:r);var i=0;return Promise.all(n.map(function(o){return o.then(function(a){var s=t+ ++i/n.length*(r-t);return e(s),a}),o}))}function VA(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u;return Se(this,function(d){switch(d.label){case 0:return e==null&&(e={}),t=e.fetchFunc==null?oe().platform.fetch:e.fetchFunc,r=n.map(function(h){return t(h,e.requestInit,{isBinary:!0})}),i=0,o=.5,e.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return a=d.sent(),[3,4];case 2:return[4,K3(r,e.onProgress,i,o)];case 3:a=d.sent(),d.label=4;case 4:return s=a.map(function(h){return h.arrayBuffer()}),l=.5,c=1,e.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return u=d.sent(),[3,8];case 6:return[4,K3(s,e.onProgress,l,c)];case 7:u=d.sent(),d.label=8;case 8:return[2,u]}})})}function Y3(n){var e=this;return function(t,r,i){return r===void 0&&(r=""),Ee(e,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p;return Se(this,function(m){switch(m.label){case 0:if(o=t.map(function(){return!1}),a={},s=i!=null?i.map(function(){return!1}):[],l=[],t.forEach(function(b,g){var v=0;b.weights.forEach(function(x){var y="quantization"in x?x.quantization.dtype:x.dtype,w=tx[y]*Te(x.shape),E=function(){o[g]=!0,a[g]==null&&(a[g]=[]),a[g].push({manifestEntry:x,groupOffset:v,sizeBytes:w})};i!=null?i.forEach(function(C,S){C===x.name&&(E(),s[S]=!0)}):E(),l.push(x.name),v+=w})}),!s.every(function(b){return b}))throw c=i.filter(function(b,g){return!s[g]}),new Error("Could not find weights in manifest with names: "+c.join(", ")+". \nManifest JSON has weights with names: "+l.join(", ")+".");return u=o.reduce(function(b,g,v){return g&&b.push(v),b},[]),d=[],u.forEach(function(b){t[b].paths.forEach(function(g){var v=r+(r.endsWith("/")?"":"/")+g;d.push(v)})}),[4,n(d)];case 1:return h=m.sent(),f={},p=0,u.forEach(function(b){for(var g=t[b].paths.length,v=0,x=0;x<g;x++)v+=h[p+x].byteLength;for(var y=new ArrayBuffer(v),w=new Uint8Array(y),E=0,C=0;C<g;C++){var S=new Uint8Array(h[p+C]);w.set(S,E),E+=S.byteLength}a[b].forEach(function(_){var A=$A(y.slice(_.groupOffset,_.groupOffset+_.sizeBytes),[_.manifestEntry]);for(var D in A)f[D]=A[D]}),p+=g}),[2,f]}})})}}Cr.registerSaveRouter(function(n){return oe().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Q0.URL_SCHEME)?function(e){return e===void 0&&(e="model"),new Q0(e)}(n.slice(Q0.URL_SCHEME.length)):null});var qA=function(){function n(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,t.fetchFunc!=null?(W(typeof t.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=oe().platform.fetch,W(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&W(e.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o;return Se(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},t.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),e.weightData!=null&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=a.sent()).ok)return[2,{modelArtifactsInfo:Qd(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},n.prototype.load=function(){return Ee(this,void 0,void 0,function(){var e,t,r,i,o,a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=f.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");f.label=2;case 2:return f.trys.push([2,4,,5]),[4,e.json()];case 3:return t=f.sent(),[3,5];case 4:throw f.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(i=t.modelTopology,o=t.weightsManifest,a=t.generatedBy,s=t.convertedBy,l=t.format,c=t.userDefinedMetadata,i==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return o==null?[3,7]:[4,this.loadWeights(o)];case 6:h=f.sent(),u=h[0],d=h[1],f.label=7;case 7:return[2,{modelTopology:i,weightSpecs:u,weightData:d,userDefinedMetadata:c,generatedBy:a,convertedBy:s,format:l}]}})})},n.prototype.loadWeights=function(e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d,h;return Se(this,function(f){switch(f.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,r=function(p){var m=p.lastIndexOf("/"),b=p.lastIndexOf("?"),g=p.substring(0,m),v=b>m?p.substring(b):"";return[g+"/",v]}(t),i=r[0],o=r[1],a=this.weightPathPrefix||i,s=[],l=0,c=e;l<c.length;l++)u=c[l],s.push.apply(s,u.weights);return d=[],e.forEach(function(p){p.paths.forEach(function(m){d.push(a+m+o)})}),[4,VA(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return h=f.sent(),[2,[s,Z1(h)]]}})})},n.URL_SCHEME_REGEX=/^https?:\/\//,n}();function ix(n){return n.match(qA.URL_SCHEME_REGEX)!=null}var X3=function(n,e){return typeof fetch>"u"?null:(Array.isArray(n)?n.every(function(t){return ix(t)}):ix(n))?ox(n,{onProgress:e}):null};function ox(n,e){return new qA(n,e)}Cr.registerSaveRouter(X3),Cr.registerLoadRouter(X3);var eb=function(){function n(e){this.modelArtifacts=e}return n.prototype.load=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(e){return[2,this.modelArtifacts]})})},n}(),ute=function(){function n(e){this.saveHandler=e}return n.prototype.save=function(e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,this.saveHandler(e)]})})},n}(),GA=Object.freeze({browserFiles:function(n){return new cte(n)},browserHTTPRequest:function(n,e){return ox(n,e)},concatenateArrayBuffers:Z1,decodeWeights:$A,encodeWeights:function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s=this;return Se(this,function(l){switch(l.label){case 0:for(t=[],r=[],i=Array.isArray(n)?n.map(function(c){return c.name}):Object.keys(n),o=function(c){var u=i[c],d=Array.isArray(n)?n[c].tensor:n[u];if(d.dtype!=="float32"&&d.dtype!=="int32"&&d.dtype!=="bool"&&d.dtype!=="string")throw new Error("Unsupported dtype in weight '"+u+"': "+d.dtype);var h={name:u,shape:d.shape,dtype:d.dtype};if(d.dtype==="string"){var f=new Promise(function(p){return Ee(s,void 0,void 0,function(){var m,b,g,v,x,y,w;return Se(this,function(E){switch(E.label){case 0:return[4,d.bytes()];case 1:for(m=E.sent(),b=m.reduce(function(C,S){return C+S.length},0)+Lp*m.length,g=new Uint8Array(b),v=0,x=0;x<m.length;x++)y=m[x],w=new Uint8Array(new Uint32Array([y.length]).buffer),g.set(w,v),v+=Lp,g.set(y,v),v+=y.length;return p(g),[2]}})})});r.push(f)}else r.push(d.data());e!=null&&(h.group=e),t.push(h)},a=0;a<i.length;++a)o(a);return[4,Promise.all(r)];case 1:return[2,{data:Jee(l.sent()),specs:t}]}})})},fromMemory:function(n,e,t,r){return arguments.length===1?n.modelTopology!=null||n.weightSpecs!=null?new eb(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new eb({modelTopology:n})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new eb({modelTopology:n,weightSpecs:e,weightData:t,trainingConfig:r}))},getLoadHandlers:function(n,e){return Cr.getLoadHandlers(n,e)},getModelArtifactsInfoForJSON:Qd,getSaveHandlers:function(n){return Cr.getSaveHandlers(n)},http:ox,isHTTPScheme:ix,loadWeights:function(n,e,t,r){return e===void 0&&(e=""),Ee(this,void 0,void 0,function(){return Se(this,function(i){return[2,Y3(function(o){return VA(o,{requestInit:r})})(n,e,t)]})})},registerLoadRouter:function(n){return Cr.registerLoadRouter(n)},registerSaveRouter:function(n){return Cr.registerSaveRouter(n)},weightsLoaderFactory:Y3,withSaveHandler:function(n){return new ute(n)},copyModel:function(n,e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,W3(n,e,!1)]})})},listModels:function(){return Ee(this,void 0,void 0,function(){var n,e,t,r,i,o,a;return Se(this,function(s){switch(s.label){case 0:n=Ea.getSchemes(),e={},t=0,r=n,s.label=1;case 1:return t<r.length?(i=r[t],[4,Ea.getManager(i).listModels()]):[3,4];case 2:for(a in o=s.sent())e[i+nc+a]=o[a];s.label=3;case 3:return t++,[3,1];case 4:return[2,e]}})})},moveModel:function(n,e){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return[2,W3(n,e,!0)]})})},removeModel:function(n){return Ee(this,void 0,void 0,function(){var e;return Se(this,function(t){return e=vf(n),[2,Ea.getManager(e.scheme).removeModel(e.path)]})})}}),fl;q({confusionMatrix_:function(n,e,t){var r=j(n,"labels","confusionMatrix"),i=j(e,"predictions","confusionMatrix");W(t==null||t>0&&Number.isInteger(t),function(){return"If provided, numClasses must be a positive integer, but got "+t}),W(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),W(i.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),W(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),W(t>0&&Number.isInteger(t),function(){return"numClasses is required to be a positive integer, but got "+t});var o=Xv(r.asType("int32"),t),a=Xv(i.asType("int32"),t);return o.transpose().matMul(a).asType("int32")}});var dte=q({fromPixels_:function(n,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(n==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var t=!1,r=!1,i=!1,o=!1,a=!1;if(n.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)o=!0;else{if(n.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+n.constructor.name);a=!0}if(i&&i&&n.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(bT("FromPixels",G.backendName)!=null)return G.runKernel("FromPixels",{pixels:n},{numChannels:e});var s,l,c=i?[n.videoWidth,n.videoHeight]:[n.width,n.height],u=c[0],d=c[1];if(a?s=n.getContext("2d").getImageData(0,0,u,d).data:r||t?s=n.data:(o||i)&&(fl==null&&(fl=document.createElement("canvas").getContext("2d")),fl.canvas.width=u,fl.canvas.height=d,fl.drawImage(n,0,0,u,d),s=fl.getImageData(0,0,u,d).data),e===4)l=new Int32Array(s);else{var h=u*d;l=new Int32Array(h*e);for(var f=0;f<h;f++)for(var p=0;p<e;++p)l[f*e+p]=s[4*f+p]}return S1(l,[d,u,e],"int32")}}),J1=Object.freeze({toPixels:function(n,e){return Ee(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S;return Se(this,function(_){switch(_.label){case 0:if(t=j(n,"img","toPixels"),n instanceof It||(t=t.toInt()),t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(r=t.shape.slice(0,2),i=r[0],o=r[1],(a=t.rank===2?1:t.shape[2])>4||a===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,t.data()];case 1:return s=_.sent(),l=t.min(),c=t.max(),[4,Promise.all([l.data(),c.data()])];case 2:if(u=_.sent(),d=u[0],h=u[1],f=d[0],p=h[0],l.dispose(),c.dispose(),t.dtype==="float32"){if(f<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+p+"].")}else{if(t.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(f<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+p+"].")}for(m=t.dtype==="float32"?255:1,b=new Uint8ClampedArray(o*i*4),g=0;g<i*o;++g)v=void 0,x=void 0,y=void 0,w=void 0,a===1?(v=s[g]*m,x=s[g]*m,y=s[g]*m,w=255):a===3?(v=s[3*g]*m,x=s[3*g+1]*m,y=s[3*g+2]*m,w=255):a===4&&(v=s[4*g]*m,x=s[4*g+1]*m,y=s[4*g+2]*m,w=s[4*g+3]*m),b[(E=4*g)+0]=Math.round(v),b[E+1]=Math.round(x),b[E+2]=Math.round(y),b[E+3]=Math.round(w);return e!=null&&(e.width=o,e.height=i,C=e.getContext("2d"),S=new ImageData(b,o,i),C.putImageData(S,0,0)),t!==n&&t.dispose(),[2,b]}})})},fromPixels:dte}),hte=function(){function n(){}return n.prototype.getClassName=function(){return this.constructor.className},n.fromConfig=function(e,t){return new e(t)},n}(),fte=function(){function n(){this.classNameMap={}}return n.getMap=function(){return n.instance==null&&(n.instance=new n),n.instance},n.register=function(e){n.getMap().classNameMap[e.className]=[e,e.fromConfig]},n}();function Qs(n){W(n.className!=null,function(){return"Class being registered does not have the static className property defined."}),W(typeof n.className=="string",function(){return"className is required to be a string, but got type "+typeof n.className}),W(n.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),fte.register(n)}var el=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ci(e,n),e.prototype.minimize=function(t,r,i){r===void 0&&(r=!1);var o=this.computeGradients(t,i),a=o.value,s=o.grads;if(i!=null){var l=i.map(function(c){return{name:c.name,tensor:s[c.name]}});this.applyGradients(l)}else this.applyGradients(s);return lr(s),r?a:(a.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(t,r){return _X(t,r)},e.prototype.dispose=function(){this.iterations_!=null&&lr(this.iterations_)},e.prototype.saveIterations=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:xe(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return r=this,[4,t[0].tensor.data()];case 1:return r.iterations_=i.sent()[0],[2,t.slice(1)]}})})},e}(hte);Object.defineProperty(el,Symbol.hasInstance,{value:function(n){return n.minimize!=null&&n.computeGradients!=null&&n.applyGradients!=null}});var pte=function(n){function e(t,r,i){i===void 0&&(i=null);var o=n.call(this)||this;return o.learningRate=t,o.rho=r,o.epsilon=i,o.accumulatedGrads=[],o.accumulatedUpdates=[],i==null&&(o.epsilon=G.backend.epsilon()),o}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:i+"/accum_grad",variable:_e(function(){return st(a).variable(!1)})}),r.accumulatedUpdates[o]==null&&(r.accumulatedUpdates[o]={originalName:i+"/accum_var",variable:_e(function(){return st(a).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedGrads[o].variable,c=r.accumulatedUpdates[o].variable;_e(function(){var u=l.mul(r.rho).add(s.square().mul(1-r.rho)),d=c.add(r.epsilon).sqrt().div(l.add(r.epsilon).sqrt()).mul(s),h=c.mul(r.rho).add(d.square().mul(1-r.rho));l.assign(u),c.assign(h);var f=d.mul(-r.learningRate).add(a);a.assign(f)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(lr(this.accumulatedGrads.map(function(t){return t.variable})),lr(this.accumulatedUpdates.map(function(t){return t.variable})))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(t)];case 1:return t=i.sent(),r=t.length/2,this.accumulatedGrads=t.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,r){return new t(r.learningRate,r.rho,r.epsilon)},e.className="Adadelta",e}(el);Qs(pte);var mte=function(n){function e(t,r){r===void 0&&(r=.1);var i=n.call(this)||this;return i.learningRate=t,i.initialAccumulatorValue=r,i.accumulatedGrads=[],i}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:i+"/accumulator",variable:_e(function(){return Vi(a.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedGrads[o].variable;_e(function(){var c=l.add(s.square());l.assign(c);var u=s.div(c.add(G.backend.epsilon()).sqrt()).mul(-r.learningRate).add(a);a.assign(u)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&lr(this.accumulatedGrads.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulatedGrads=t.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,r){return new t(r.learningRate,r.initialAccumulatorValue)},e.className="Adagrad",e}(el);Qs(mte);var gte=function(n){function e(t,r,i,o){o===void 0&&(o=null);var a=n.call(this)||this;return a.learningRate=t,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],_e(function(){a.accBeta1=xe(r).variable(),a.accBeta2=xe(i).variable()}),o==null&&(a.epsilon=G.backend.epsilon()),a}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this,i=Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t);_e(function(){var o=sn(1,r.accBeta1),a=sn(1,r.accBeta2);i.forEach(function(s,l){var c=G.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:_e(function(){return st(c).variable(!1)})}),r.accumulatedSecondMoment[l]==null&&(r.accumulatedSecondMoment[l]={originalName:s+"/v",variable:_e(function(){return st(c).variable(!1)})});var u=Array.isArray(t)?t[l].tensor:t[s];if(u!=null){var d=r.accumulatedFirstMoment[l].variable,h=r.accumulatedSecondMoment[l].variable,f=d.mul(r.beta1).add(u.mul(1-r.beta1)),p=h.mul(r.beta2).add(u.square().mul(1-r.beta2)),m=f.div(o),b=p.div(a);d.assign(f),h.assign(p);var g=m.div(b.sqrt().add(r.epsilon)).mul(-r.learningRate).add(c);c.assign(g)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&lr(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedSecondMoment!=null&&lr(this.accumulatedSecondMoment.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r,i=this;return Se(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),_e(function(){i.accBeta1.assign(Bp(i.beta1,i.iterations_+1)),i.accBeta2.assign(Bp(i.beta2,i.iterations_+1))}),r=t.length/2,this.accumulatedFirstMoment=t.slice(0,r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(r,2*r).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon)},e.className="Adam",e}(el);Qs(gte);var bte=function(n){function e(t,r,i,o,a){o===void 0&&(o=null),a===void 0&&(a=0);var s=n.call(this)||this;return s.learningRate=t,s.beta1=r,s.beta2=i,s.epsilon=o,s.decay=a,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],_e(function(){s.iteration=xe(0).variable(),s.accBeta1=xe(r).variable()}),o==null&&(s.epsilon=G.backend.epsilon()),s}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this,i=Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t);_e(function(){var o=sn(1,r.accBeta1),a=hi(-r.learningRate,r.iteration.mul(r.decay).add(1));i.forEach(function(s,l){var c=G.registeredVariables[s];r.accumulatedFirstMoment[l]==null&&(r.accumulatedFirstMoment[l]={originalName:s+"/m",variable:st(c).variable(!1)}),r.accumulatedWeightedInfNorm[l]==null&&(r.accumulatedWeightedInfNorm[l]={originalName:s+"/v",variable:st(c).variable(!1)});var u=Array.isArray(t)?t[l].tensor:t[s];if(u!=null){var d=r.accumulatedFirstMoment[l].variable,h=r.accumulatedWeightedInfNorm[l].variable,f=d.mul(r.beta1).add(u.mul(1-r.beta1)),p=h.mul(r.beta2),m=u.abs(),b=p.maximum(m);d.assign(f),h.assign(b);var g=a.div(o).mul(f.div(b.add(r.epsilon))).add(c);c.assign(g)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&lr(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedWeightedInfNorm!=null&&lr(this.accumulatedWeightedInfNorm.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},e.className="Adamax",e}(el);Qs(bte);var KA=function(n){function e(t){var r=n.call(this)||this;return r.learningRate=t,r.setLearningRate(t),r}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=Array.isArray(t)?t[o].tensor:t[i];if(a!=null){var s=G.registeredVariables[i];_e(function(){var l=r.c.mul(a).add(s);s.assign(l)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=zY(xe(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:if((t=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,r){return new t(r.learningRate)},e.className="SGD",e}(el);Qs(KA);var vte=function(n){function e(t,r,i){i===void 0&&(i=!1);var o=n.call(this,t)||this;return o.learningRate=t,o.momentum=r,o.useNesterov=i,o.accumulations=[],o.m=xe(o.momentum),o}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulations[o]==null&&(r.accumulations[o]={originalName:i+"/momentum",variable:_e(function(){return st(a).variable(!1)})});var s=r.accumulations[o].variable,l=Array.isArray(t)?t[o].tensor:t[i];l!=null&&_e(function(){var c,u=r.m.mul(s).add(l);c=r.useNesterov?r.c.mul(l.add(u.mul(r.m))).add(a):r.c.mul(u).add(a),s.assign(u),a.assign(c)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&lr(this.accumulations.map(function(t){return t.variable}))},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){return Se(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulations=t.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,r){return new t(r.learningRate,r.momentum,r.useNesterov)},e.className="Momentum",e}(KA);Qs(vte);var xte=function(n){function e(t,r,i,o,a){r===void 0&&(r=.9),i===void 0&&(i=0),o===void 0&&(o=null),a===void 0&&(a=!1);var s=n.call(this)||this;if(s.learningRate=t,s.decay=r,s.momentum=i,s.epsilon=o,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=a,o==null&&(s.epsilon=G.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return Ci(e,n),e.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t)).forEach(function(i,o){var a=G.registeredVariables[i];r.accumulatedMeanSquares[o]==null&&(r.accumulatedMeanSquares[o]={originalName:i+"/rms",variable:_e(function(){return st(a).variable(!1)})}),r.accumulatedMoments[o]==null&&(r.accumulatedMoments[o]={originalName:i+"/momentum",variable:_e(function(){return st(a).variable(!1)})}),r.accumulatedMeanGrads[o]==null&&r.centered&&(r.accumulatedMeanGrads[o]={originalName:i+"/mg",variable:_e(function(){return st(a).variable(!1)})});var s=Array.isArray(t)?t[o].tensor:t[i];if(s!=null){var l=r.accumulatedMeanSquares[o].variable,c=r.accumulatedMoments[o].variable;_e(function(){var u=l.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var d=r.accumulatedMeanGrads[o].variable,h=d.mul(r.decay).add(s.mul(1-r.decay)),f=c.mul(r.momentum).add(s.mul(r.learningRate).div(u.sub(h.square().add(r.epsilon)).sqrt()));l.assign(u),d.assign(h),c.assign(f);var p=a.sub(f);a.assign(p)}else{var m=l.mul(r.decay).add(s.square().mul(1-r.decay));f=c.mul(r.momentum).add(s.mul(r.learningRate).div(m.add(r.epsilon).sqrt())),l.assign(m),c.assign(f),p=a.sub(f),a.assign(p)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&lr(this.accumulatedMeanSquares.map(function(t){return t.variable})),this.accumulatedMeanGrads!=null&&this.centered&&lr(this.accumulatedMeanGrads.map(function(t){return t.variable})),this.accumulatedMoments!=null&&lr(this.accumulatedMoments.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return Ee(this,void 0,void 0,function(){var t;return Se(this,function(r){switch(r.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},e.prototype.setWeights=function(t){return Ee(this,void 0,void 0,function(){var r;return Se(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(t)];case 1:return t=i.sent(),r=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*r,3*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,r){return new t(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},e.className="RMSProp",e}(el);Qs(xte);It.prototype.squaredDifference=function(n){return cA(this,n)},re=Vee;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ax=function(n,e){return ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},ax(n,e)};function $e(n,e){ax(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pn=function(){return Pn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pn.apply(this,arguments)};function Re(n,e,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(n,[])).next())})}function De(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Nu(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var oc=function(){function n(e,t){if(!Cs(e)||!Cs(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),n.prototype.reverse=function(){return new n(1/this.width,1/this.height)},n}();function ag(n,e){return n instanceof It&&n.shape.length===e}function yte(n){return ag(n,2)}function sg(n){return ag(n,3)}function Sa(n){return ag(n,4)}function wte(n){return n%1!==0}function Z3(n){return n%2===0}function kte(n,e){e===void 0&&(e=2);var t=Math.pow(10,e);return Math.floor(n*t)/t}function J3(n){return n&&n.width&&n.height}function _te(n,e){var t=n.width,r=n.height,i=e/Math.max(r,t);return new oc(Math.round(t*i),Math.round(r*i))}function Q1(n){return n.reduce(function(e,t){return e.add(t)},new ct(0,0)).div(new ct(n.length,n.length))}function vd(n,e,t){return Array(n).fill(0).map(function(r,i){return e+i*t})}function Cs(n){return!!n&&n!==1/0&&n!==-1/0&&!isNaN(n)||n===0}function Q3(n){return Cs(n)&&0<=n&&n<=1}var ct=function(){function n(e,t){this._x=e,this._y=t}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),n.prototype.add=function(e){return new n(this.x+e.x,this.y+e.y)},n.prototype.sub=function(e){return new n(this.x-e.x,this.y-e.y)},n.prototype.mul=function(e){return new n(this.x*e.x,this.y*e.y)},n.prototype.div=function(e){return new n(this.x/e.x,this.y/e.y)},n.prototype.abs=function(){return new n(Math.abs(this.x),Math.abs(this.y))},n.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},n.prototype.floor=function(){return new n(Math.floor(this.x),Math.floor(this.y))},n}(),Ba=function(){function n(e,t){t===void 0&&(t=!0);var r=e||{},i=[r.left,r.top,r.right,r.bottom].every(Cs),o=[r.x,r.y,r.width,r.height].every(Cs);if(!o&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],l=a[1],c=a[2],u=a[3];n.assertIsValidBox({x:s,y:l,width:c,height:u},"Box.constructor",t),this._x=s,this._y=l,this._width=c,this._height=u}return n.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Cs)},n.assertIsValidBox=function(e,t,r){if(r===void 0&&(r=!1),!n.isRect(e))throw new Error(t+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(t+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return new ct(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRight",{get:function(){return new ct(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomLeft",{get:function(){return new ct(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRight",{get:function(){return new ct(this.right,this.bottom)},enumerable:!0,configurable:!0}),n.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(a){return Math.round(a)}),t=e[0],r=e[1],i=e[2],o=e[3];return new n({x:t,y:r,width:i,height:o})},n.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(a){return Math.floor(a)}),t=e[0],r=e[1],i=e[2],o=e[3];return new n({x:t,y:r,width:i,height:o})},n.prototype.toSquare=function(){var e=this,t=e.x,r=e.y,i=e.width,o=e.height,a=Math.abs(i-o);return i<o&&(t-=a/2,i+=a),o<i&&(r-=a/2,o+=a),new n({x:t,y:r,width:i,height:o})},n.prototype.rescale=function(e){var t=J3(e)?e.width:e,r=J3(e)?e.height:e;return new n({x:this.x*t,y:this.y*r,width:this.width*t,height:this.height*r})},n.prototype.pad=function(e,t){var r=[this.x-e/2,this.y-t/2,this.width+e,this.height+t],i=r[0],o=r[1],a=r[2],s=r[3];return new n({x:i,y:o,width:a,height:s})},n.prototype.clipAtImageBorders=function(e,t){var r=this,i=r.x,o=r.y,a=r.right,s=r.bottom,l=Math.max(i,0),c=Math.max(o,0),u=a-l,d=s-c,h=Math.min(u,e-l),f=Math.min(d,t-c);return new n({x:l,y:c,width:h,height:f}).floor()},n.prototype.shift=function(e,t){var r=this,i=r.width,o=r.height,a=this.x+e,s=this.y+t;return new n({x:a,y:s,width:i,height:o})},n.prototype.padAtBorders=function(e,t){var r=this.width+1,i=this.height+1,o=1,a=1,s=r,l=i,c=this.left,u=this.top,d=this.right,h=this.bottom;return d>t&&(s=-d+t+r,d=t),h>e&&(l=-h+e+i,h=e),c<1&&(l=2-c,c=1),u<1&&(l=2-u,u=1),{dy:a,edy:l,dx:o,edx:s,y:u,ey:h,x:c,ex:d,w:r,h:i}},n.prototype.calibrate=function(e){return new n({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},n}(),lg=function(n){$e(e,n);function e(t,r,i,o,a){return a===void 0&&(a=!1),n.call(this,{left:t,top:r,right:i,bottom:o},a)||this}return e}(Ba),YA=function(){function n(e,t,r,i,o){this._imageDims=new oc(o.width,o.height),this._score=e,this._classScore=t,this._className=r,this._box=new Ba(i).rescale(this._imageDims)}return Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeBox",{get:function(){return new Ba(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),n.prototype.forSize=function(e,t){return new n(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:t})},n}(),to=function(n){$e(e,n);function e(t,r,i){return n.call(this,t,t,"",r,i)||this}return e.prototype.forSize=function(t,r){var i=n.prototype.forSize.call(this,t,r),o=i.score,a=i.relativeBox,s=i.imageDims;return new e(o,a,s)},e}(YA);function Cte(n,e,t){t===void 0&&(t=!0);var r=Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left)),i=Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top)),o=r*i;return t?o/(n.area+e.area-o):o/Math.min(n.area,e.area)}function Ete(n){var e=n.map(function(s){return s.x}),t=n.map(function(s){return s.y}),r=e.reduce(function(s,l){return l<s?l:s},1/0),i=t.reduce(function(s,l){return l<s?l:s},1/0),o=e.reduce(function(s,l){return s<l?l:s},0),a=t.reduce(function(s,l){return s<l?l:s},0);return new lg(r,i,o,a)}function xd(n,e,t,r){r===void 0&&(r=!0);for(var i=e.map(function(s,l){return{score:s,boxIndex:l}}).sort(function(s,l){return s.score-l.score}).map(function(s){return s.boxIndex}),o=[],a=function(){var s=i.pop();o.push(s);for(var l=i,c=[],u=0;u<l.length;u++){var d=l[u],h=n[s],f=n[d];c.push(Cte(h,f,r))}i=i.filter(function(p,m){return c[m]<=t})};i.length>0;)a();return o}function eh(n,e){return _e(function(){var t=e[0],r=e[1],i=e[2],o=Vi(Nu(n.shape.slice(0,3),[1]),t),a=Vi(Nu(n.shape.slice(0,3),[1]),r),s=Vi(Nu(n.shape.slice(0,3),[1]),i),l=tn([o,a,s],3);return sn(n,l)})}function Ste(n,e){return e===void 0&&(e=!1),_e(function(){var t=n.shape.slice(1),r=t[0],i=t[1];if(r===i)return n;var o=Math.abs(r-i),a=Math.round(o*(e?.5:1)),s=r>i?2:1,l=function(f){var p=n.shape.slice();return p[s]=f,Vi(p,0)},c=l(a),u=o-c.shape[s],d=e&&u?l(u):null,h=[d,n,c].filter(function(f){return!!f}).map(function(f){return f.toFloat()});return tn(h,s)})}function tb(n){return 1/(1+Math.exp(-n))}var ew=function(n){$e(e,n);function e(t,r,i,o,a){return a===void 0&&(a=!1),n.call(this,{x:t,y:r,width:i,height:o},a)||this}return e}(Ba),Tte=.5,Ate=.43,Ite=.45,zp=function(){function n(e,t,r){r===void 0&&(r=new ct(0,0));var i=t.width,o=t.height;this._imgDims=new oc(i,o),this._shift=r,this._positions=e.map(function(a){return a.mul(new ct(i,o)).add(r)})}return Object.defineProperty(n.prototype,"shift",{get:function(){return new ct(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new ct(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),n.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},n.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new ct(e,t))},n.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},n.prototype.align=function(e,t){if(t===void 0&&(t={}),e){var r=e instanceof to?e.box.floor():new Ba(e);return this.shiftBy(r.x,r.y).align(null,t)}var i=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=i.useDlibAlignment,a=i.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(a)},n.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],r=e[1],i=e[2],o=function(d){return i.sub(d).magnitude()},a=(o(t)+o(r))/2,s=Math.floor(a/Ite),l=Q1(e),c=Math.floor(Math.max(0,l.x-Tte*s)),u=Math.floor(Math.max(0,l.y-Ate*s));return new ew(c,u,Math.min(s,this.imageWidth+c),Math.min(s,this.imageHeight+u))},n.prototype.alignMinBbox=function(e){var t=Ete(this.positions);return t.pad(t.width*e,t.height*e)},n.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},n}(),Rte=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],Q1([t[3],t[4]])]},e}(zp),Dte=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Q1)},e}(zp),e4=function(){function n(e,t){this._label=e,this._distance=t}return Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+kte(this.distance)+")":"")},n}(),t4=function(n){$e(e,n);function e(t,r){var i=n.call(this,t)||this;return i._label=r,i}return e.assertIsValidLabeledBox=function(t,r){if(Ba.assertIsValidBox(t,r),!Cs(t.label))throw new Error(r+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(Ba),qh=function(){function n(e,t){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),n.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},n.fromJSON=function(e){var t=e.descriptors.map(function(r){return new Float32Array(r)});return new n(e.label,t)},n}();(function(n){$e(e,n);function e(t,r,i,o){var a=n.call(this,t,r)||this;return a._score=i,a._classScore=o,a}return e.assertIsValidPredictedBox=function(t,r){if(t4.assertIsValidLabeledBox(t,r),!Q3(t.score)||!Q3(t.classScore))throw new Error(r+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(t4);function Ote(n){return n.detection instanceof to}function tw(n,e){var t={detection:e};return Object.assign({},n,t)}function XA(){var n=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:n,readFile:e}}function ZA(n){var e="";if(!n)try{n=require("fs")}catch(r){e=r.toString()}var t=n?function(r){return new Promise(function(i,o){n.readFile(r,function(a,s){return a?o(a):i(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)};return{readFile:t}}function JA(){var n=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,t=function(){if(n)return new n;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},i=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=ZA();return Pn({Canvas:n||function(){function a(){}return a}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function a(){}return a}(),Image:e||function(){function a(){}return a}(),ImageData:global.ImageData||function(){function a(){}return a}(),Video:global.HTMLVideoElement||function(){function a(){}return a}(),createCanvasElement:t,createImageElement:r,fetch:i},o)}function QA(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function eI(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var Zt;function Mte(){if(!Zt)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Zt}function sx(n){Zt=n}function nw(){QA()&&sx(XA()),eI()&&sx(JA())}function Bte(n){if(Zt||nw(),!Zt)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=n.Canvas,t=e===void 0?Zt.Canvas:e,r=n.Image,i=r===void 0?Zt.Image:r;Zt.Canvas=t,Zt.Image=i,Zt.createCanvasElement=n.createCanvasElement||function(){return new t},Zt.createImageElement=n.createImageElement||function(){return new i},Zt.ImageData=n.ImageData||Zt.ImageData,Zt.Video=n.Video||Zt.Video,Zt.fetch=n.fetch||Zt.fetch,Zt.readFile=n.readFile||Zt.readFile}var Vn={getEnv:Mte,setEnv:sx,initialize:nw,createBrowserEnv:XA,createFileSystem:ZA,createNodejsEnv:JA,monkeyPatch:Bte,isBrowser:QA,isNodejs:eI};nw();function tI(n){return!Vn.isNodejs()&&typeof n=="string"?document.getElementById(n):n}function zs(n){var e=Vn.getEnv(),t=e.Canvas,r=e.CanvasRenderingContext2D;if(n instanceof r)return n;var i=tI(n);if(!(i instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=i.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}var n4;(function(n){n.TOP_LEFT="TOP_LEFT",n.TOP_RIGHT="TOP_RIGHT",n.BOTTOM_LEFT="BOTTOM_LEFT",n.BOTTOM_RIGHT="BOTTOM_RIGHT"})(n4||(n4={}));function nI(n){var e=Vn.getEnv(),t=e.Image,r=e.Video;return n instanceof t&&n.complete||n instanceof r&&n.readyState>=3}function Pte(n){return new Promise(function(e,t){if(n instanceof Vn.getEnv().Canvas||nI(n))return e();function r(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",i),e(o))}function i(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",i),t(o))}n.addEventListener("load",r),n.addEventListener("error",i)})}function rI(n){var e=Vn.getEnv(),t=e.Image,r=e.Video;return n instanceof t?new oc(n.naturalWidth,n.naturalHeight):n instanceof r?new oc(n.videoWidth,n.videoHeight):new oc(n.width,n.height)}function cg(n){var e=n.width,t=n.height,r=Vn.getEnv().createCanvasElement,i=r();return i.width=e,i.height=t,i}function rw(n,e){var t=Vn.getEnv().ImageData;if(!(n instanceof t)&&!nI(n))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=rI(n),i=r.width,o=r.height,a=cg({width:i,height:o});return n instanceof t?zs(a).putImageData(n,0,0):zs(a).drawImage(n,0,0,i,o),a}function Lte(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s;return De(this,function(l){switch(l.label){case 0:return t=Vn.getEnv().createCanvasElement(),r=n.shape.slice(Sa(n)?1:0),i=r[0],o=r[1],a=r[2],s=_e(function(){return n.as3D(i,o,a).toInt()}),[4,J1.toPixels(s,t)];case 1:return l.sent(),s.dispose(),[2,t]}})})}function r4(n){var e=Vn.getEnv(),t=e.Image,r=e.Canvas,i=e.Video;return n instanceof t||n instanceof r||n instanceof i}function zte(n,e,t){t===void 0&&(t=!1);var r=Vn.getEnv(),i=r.Image,o=r.Canvas;if(!(n instanceof i||n instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=rI(n),s=e/Math.max(a.height,a.width),l=s*a.width,c=s*a.height,u=cg({width:e,height:e}),d=n instanceof o?n:rw(n),h=Math.abs(l-c)/2,f=t&&l<c?h:0,p=t&&c<l?h:0;return zs(u).drawImage(d,f,p,l,c),u}var jp=function(){function n(e,t){var r=this;if(t===void 0&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(i,o){if(sg(i)){r._imageTensors[o]=i,r._inputDimensions[o]=i.shape;return}if(Sa(i)){var a=i.shape[0];if(a!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+a+" passed, but not supported in input array");r._imageTensors[o]=i,r._inputDimensions[o]=i.shape.slice(1);return}var s=i instanceof Vn.getEnv().Canvas?i:rw(i);r._canvases[o]=s,r._inputDimensions[o]=[s.height,s.width,3]})}return Object.defineProperty(n.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reshapedInputDimensions",{get:function(){var e=this;return vd(this.batchSize,0,1).map(function(t,r){return e.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),n.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},n.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},n.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},n.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},n.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var t=this.getInputWidth(e),r=this.getInputHeight(e);return _te({width:t,height:r},this.inputSize)},n.prototype.toBatchTensor=function(e,t){var r=this;return t===void 0&&(t=!0),this._inputSize=e,_e(function(){var i=vd(r.batchSize,0,1).map(function(a){var s=r.getInput(a);if(s instanceof It){var l=Sa(s)?s:s.expandDims();return l=Ste(l,t),(l.shape[1]!==e||l.shape[2]!==e)&&(l=q1.resizeBilinear(l,[e,e])),l.as3D(e,e,3)}if(s instanceof Vn.getEnv().Canvas)return J1.fromPixels(zte(s,e,t));throw new Error("toBatchTensor - at batchIdx "+a+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),o=Or(i.map(function(a){return a.toFloat()})).as4D(r.batchSize,e,e,3);return o})},n}();function kn(n){return Re(this,void 0,void 0,function(){var e,t,r;return De(this,function(i){switch(i.label){case 0:if(n instanceof jp)return[2,n];if(e=Array.isArray(n)?n:[n],!e.length)throw new Error("toNetInput - empty array passed as input");return t=function(o){return Array.isArray(n)?" at input index "+o+":":""},r=e.map(tI),r.forEach(function(o,a){if(!r4(o)&&!sg(o)&&!Sa(o))throw typeof e[a]=="string"?new Error("toNetInput -"+t(a)+" string passed, but could not resolve HTMLElement for element id "+e[a]):new Error("toNetInput -"+t(a)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(Sa(o)){var s=o.shape[0];if(s!==1)throw new Error("toNetInput -"+t(a)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(o){return r4(o)&&Pte(o)}))];case 1:return i.sent(),[2,new jp(r,Array.isArray(n))]}})})}function iw(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s,l;return De(this,function(c){switch(c.label){case 0:return t=Vn.getEnv().Canvas,r=n,n instanceof t?[3,5]:[4,kn(n)];case 1:if(i=c.sent(),i.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return o=i.getInput(0),o instanceof t?(a=o,[3,4]):[3,2];case 2:return[4,Lte(o)];case 3:a=c.sent(),c.label=4;case 4:r=a,c.label=5;case 5:return s=zs(r),l=e.map(function(u){return u instanceof to?u.forSize(r.width,r.height).box.floor():u}).map(function(u){return u.clipAtImageBorders(r.width,r.height)}),[2,l.map(function(u){var d=u.x,h=u.y,f=u.width,p=u.height,m=cg({width:f,height:p});return zs(m).putImageData(s.getImageData(d,h,f,p),0,0),m})]}})})}function ow(n,e){return Re(this,void 0,void 0,function(){return De(this,function(t){if(!sg(n)&&!Sa(n))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Sa(n)&&n.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,_e(function(){var r=n.shape.slice(Sa(n)?1:0),i=r[0],o=r[1],a=r[2],s=e.map(function(c){return c instanceof to?c.forSize(o,i).box:c}).map(function(c){return c.clipAtImageBorders(o,i)}),l=s.map(function(c){var u=c.x,d=c.y,h=c.width,f=c.height;return RA(n.as3D(i,o,a),[d,u,0],[f,h,a])});return l})]})})}function jte(n,e){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return t=Vn.getEnv().fetch,[4,t(n,e)];case 1:if(r=i.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function Nte(n){return Re(this,void 0,void 0,function(){return De(this,function(e){switch(e.label){case 0:return[4,jte(n)];case 1:return[2,e.sent().json()]}})})}function iI(n,e){var t=e+"-weights_manifest.json";if(!n)return{modelBaseUri:"",manifestUri:t};if(n==="/")return{modelBaseUri:"/",manifestUri:"/"+t};var r=n.startsWith("http://")?"http://":n.startsWith("https://")?"https://":"";n=n.replace(r,"");var i=n.split("/").filter(function(s){return s}),o=n.endsWith(".json")?i[i.length-1]:t,a=r+(n.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return a=n.startsWith("/")?"/"+a:a,{modelBaseUri:a,manifestUri:a==="/"?"/"+o:a+"/"+o}}function Fte(n,e){return Re(this,void 0,void 0,function(){var t,r,i,o;return De(this,function(a){switch(a.label){case 0:return t=iI(n,e),r=t.manifestUri,i=t.modelBaseUri,[4,Nte(r)];case 1:return o=a.sent(),[2,GA.loadWeights(o,i)]}})})}var jo=function(){function n(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(n.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),n.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e),r=t.obj,i=t.objProp;return r[i]},n.prototype.reassignParamFromPath=function(e,t){var r=this.traversePropertyPath(e),i=r.obj,o=r.objProp;i[o].dispose(),i[o]=t},n.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var r=t.paramPath;return{path:r,tensor:e.getParamFromPath(r)}})},n.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof _c})},n.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof _c)})},n.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var r=t.path,i=t.tensor;e.reassignParamFromPath(r,i.variable())})},n.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var r=t.path,i=t.tensor,o=An(i.dataSync());i.dispose(),e.reassignParamFromPath(r,o)})},n.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},n.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},n.prototype.load=function(e){return Re(this,void 0,void 0,function(){return De(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},n.prototype.loadFromUri=function(e){return Re(this,void 0,void 0,function(){var t;return De(this,function(r){switch(r.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,Fte(e,this.getDefaultModelName())];case 1:return t=r.sent(),this.loadFromWeightMap(t),[2]}})})},n.prototype.loadFromDisk=function(e){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s,l,c,u,d;return De(this,function(h){switch(h.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return t=Vn.getEnv().readFile,r=iI(e,this.getDefaultModelName()),i=r.manifestUri,o=r.modelBaseUri,a=function(f){return Promise.all(f.map(function(p){return t(p).then(function(m){return m.buffer})}))},s=GA.weightsLoaderFactory(a),u=(c=JSON).parse,[4,t(i)];case 1:return l=u.apply(c,[h.sent().toString()]),[4,s(l,o)];case 2:return d=h.sent(),this.loadFromWeightMap(d),[2]}})})},n.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),r=t.paramMappings,i=t.params;this._paramMappings=r,this._params=i},n.prototype.extractWeights=function(e){var t=this.extractParams(e),r=t.paramMappings,i=t.params;this._paramMappings=r,this._params=i},n.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(o,a){if(!o.nextObj.hasOwnProperty(a))throw new Error("traversePropertyPath - object does not have property "+a+", for path "+e);return{obj:o.nextObj,objProp:a,nextObj:o.nextObj[a]}},{nextObj:this.params}),r=t.obj,i=t.objProp;if(!r||!i||!(r[i]instanceof It))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:r,objProp:i}},n}();function Er(n,e,t){return _e(function(){var r=$1(n,e.depthwise_filter,e.pointwise_filter,t,"same");return r=et(r,e.bias),r})}function nb(n,e,t){return t===void 0&&(t=!1),_e(function(){var r=Ot(t?et(ii(n,e.conv0.filters,[2,2],"same"),e.conv0.bias):Er(n,e.conv0,[2,2])),i=Er(r,e.conv1,[1,1]),o=Ot(et(r,i)),a=Er(o,e.conv2,[1,1]);return Ot(et(r,et(i,a)))})}function Gh(n,e,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!0),_e(function(){var i=Ot(t?et(ii(n,e.conv0.filters,r?[2,2]:[1,1],"same"),e.conv0.bias):Er(n,e.conv0,r?[2,2]:[1,1])),o=Er(i,e.conv1,[1,1]),a=Ot(et(i,o)),s=Er(a,e.conv2,[1,1]),l=Ot(et(i,et(o,s))),c=Er(l,e.conv3,[1,1]);return Ot(et(i,et(o,et(s,c))))})}function xi(n,e,t,r){return t===void 0&&(t="same"),r===void 0&&(r=!1),_e(function(){var i=et(ii(n,e.filters,[1,1],t),e.bias);return r?Ot(i):i})}function No(n,e){Object.keys(n).forEach(function(t){e.some(function(r){return r.originalPath===t})||n[t].dispose()})}function ug(n,e){return function(t,r,i,o){var a=or(n(t*r*i*i),[i,i,t,r]),s=Gt(n(r));return e.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:a,bias:s}}}function aw(n,e){return function(t,r,i){var o=Ca(n(t*r),[t,r]),a=Gt(n(r));return e.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:o,bias:a}}}var oI=function(){function n(e,t,r){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=r}return n}();function sw(n,e){return function(t,r,i){var o=or(n(9*t),[3,3,t,1]),a=or(n(t*r),[1,1,t,r]),s=Gt(n(r));return e.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new oI(o,a,s)}}function lw(n){return function(e){var t=n(e+"/depthwise_filter",4),r=n(e+"/pointwise_filter",4),i=n(e+"/bias",1);return new oI(t,r,i)}}function Wa(n,e){return function(t,r,i){var o=n[t];if(!ag(o,r))throw new Error("expected weightMap["+t+"] to be a Tensor"+r+"D, instead have "+o);return e.push({originalPath:t,paramPath:i||t}),o}}function Fo(n){var e=n;function t(i){var o=e.slice(0,i);return e=e.slice(i),o}function r(){return e}return{extractWeights:t,getRemainingWeights:r}}function aI(n,e){var t=ug(n,e),r=sw(n,e);function i(a,s,l,c){c===void 0&&(c=!1);var u=c?t(a,s,3,l+"/conv0"):r(a,s,l+"/conv0"),d=r(s,s,l+"/conv1"),h=r(s,s,l+"/conv2");return{conv0:u,conv1:d,conv2:h}}function o(a,s,l,c){c===void 0&&(c=!1);var u=i(a,s,l,c),d=u.conv0,h=u.conv1,f=u.conv2,p=r(s,s,l+"/conv3");return{conv0:d,conv1:h,conv2:f,conv3:p}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function $te(n){var e=[],t=Fo(n),r=t.extractWeights,i=t.getRemainingWeights,o=aI(r,e).extractDenseBlock4Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),l=o(64,128,"dense2"),c=o(128,256,"dense3");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:l,dense3:c}}}function sI(n){return function(e){var t=n(e+"/filters",4),r=n(e+"/bias",1);return{filters:t,bias:r}}}function lI(n,e){var t=Wa(n,e),r=sI(t),i=lw(t);function o(s,l){l===void 0&&(l=!1);var c=l?r(s+"/conv0"):i(s+"/conv0"),u=i(s+"/conv1"),d=i(s+"/conv2");return{conv0:c,conv1:u,conv2:d}}function a(s,l){l===void 0&&(l=!1);var c=l?r(s+"/conv0"):i(s+"/conv0"),u=i(s+"/conv1"),d=i(s+"/conv2"),h=i(s+"/conv3");return{conv0:c,conv1:u,conv2:d,conv3:h}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:a}}function Ute(n){var e=[],t=lI(n,e).extractDenseBlock4Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2"),dense3:t("dense3")};return No(n,e),{params:r,paramMappings:e}}var cI=function(n){$e(e,n);function e(){return n.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return _e(function(){var i=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],a=eh(i,o).div(xe(255)),s=Gh(a,r.dense0,!0);return s=Gh(s,r.dense1),s=Gh(s,r.dense2),s=Gh(s,r.dense3),s=Jd(s,[7,7],[2,2],"valid"),s})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Ute(t)},e.prototype.extractParams=function(t){return $te(t)},e}(jo);function ji(n,e){return _e(function(){return et(rg(n,e.weights),e.bias)})}function Hte(n,e,t){var r=[],i=Fo(n),o=i.extractWeights,a=i.getRemainingWeights,s=aw(o,r),l=s(e,t,"fc");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:l}}}function Wte(n){var e=[],t=Wa(n,e);function r(o){var a=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:a,bias:s}}var i={fc:r("fc")};return No(n,e),{params:i,paramMappings:e}}function uI(n){var e={},t={};return Object.keys(n).forEach(function(r){var i=r.startsWith("fc")?t:e;i[r]=n[r]}),{featureExtractorMap:e,classifierMap:t}}var dI=function(n){$e(e,n);function e(t,r){var i=n.call(this,t)||this;return i._faceFeatureExtractor=r,i}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var r=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return _e(function(){var o=t instanceof jp?r.faceFeatureExtractor.forwardInput(t):t;return ji(o.as2D(o.shape[0],-1),i.fc)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),n.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),i=r.params,o=r.paramMappings;this._params=i,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return Hte(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(t){var r=uI(t),i=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),Wte(o)},e.prototype.extractParams=function(t){var r=this.getClassifierChannelsIn(),i=this.getClassifierChannelsOut(),o=i*r+i,a=t.slice(0,t.length-o),s=t.slice(t.length-o);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(s)},e}(jo),i4=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Vte=function(){function n(e){var t=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);i4.forEach(function(r,i){t[r]=e[i]})}return n.prototype.asSortedArray=function(){var e=this;return i4.map(function(t){return{expression:t,probability:e[t]}}).sort(function(t,r){return r.probability-t.probability})},n}(),qte=function(n){$e(e,n);function e(t){return t===void 0&&(t=new cI),n.call(this,"FaceExpressionNet",t)||this}return e.prototype.forwardInput=function(t){var r=this;return _e(function(){return Lo(r.runNet(t))})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.predictExpressions=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a,s=this;return De(this,function(l){switch(l.label){case 0:return[4,kn(t)];case 1:return r=l.sent(),[4,this.forwardInput(r)];case 2:return i=l.sent(),[4,Promise.all(nn(i).map(function(c){return Re(s,void 0,void 0,function(){var u;return De(this,function(d){switch(d.label){case 0:return[4,c.data()];case 1:return u=d.sent(),c.dispose(),[2,u]}})})}))];case 3:return o=l.sent(),i.dispose(),a=o.map(function(c){return new Vte(c)}),[2,r.isBatchInput?a:a[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(dI);function hI(n,e){var t={expressions:e};return Object.assign({},n,t)}function Gte(n){return Ote(n)&&n.landmarks instanceof zp&&n.unshiftedLandmarks instanceof zp&&n.alignedRect instanceof to}function cw(n,e){var t=n.detection.box,r=e.shiftBy(t.x,t.y),i=r.align(),o=n.detection.imageDims,a=new to(n.detection.score,i.rescale(o.reverse()),o),s={landmarks:r,unshiftedLandmarks:e,alignedRect:a};return Object.assign({},n,s)}function Kte(n,e){var t=ug(n,e),r=sw(n,e);function i(a,s,l){var c=r(a,s,l+"/separable_conv0"),u=r(s,s,l+"/separable_conv1"),d=t(a,s,1,l+"/expansion_conv");return{separable_conv0:c,separable_conv1:u,expansion_conv:d}}function o(a,s){var l=r(a,a,s+"/separable_conv0"),c=r(a,a,s+"/separable_conv1"),u=r(a,a,s+"/separable_conv2");return{separable_conv0:l,separable_conv1:c,separable_conv2:u}}return{extractConvParams:t,extractSeparableConvParams:r,extractReductionBlockParams:i,extractMainBlockParams:o}}function Yte(n,e){var t=[],r=Fo(n),i=r.extractWeights,o=r.getRemainingWeights,a=Kte(i,t),s=a.extractConvParams,l=a.extractSeparableConvParams,c=a.extractReductionBlockParams,u=a.extractMainBlockParams,d=s(3,32,3,"entry_flow/conv_in"),h=c(32,64,"entry_flow/reduction_block_0"),f=c(64,128,"entry_flow/reduction_block_1"),p={conv_in:d,reduction_block_0:h,reduction_block_1:f},m={};vd(e,0,1).forEach(function(x){m["main_block_"+x]=u(128,"middle_flow/main_block_"+x)});var b=c(128,256,"exit_flow/reduction_block"),g=l(256,512,"exit_flow/separable_conv"),v={reduction_block:b,separable_conv:g};if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{entry_flow:p,middle_flow:m,exit_flow:v}}}function Xte(n,e){var t=Wa(n,e),r=sI(t),i=lw(t);function o(s){var l=i(s+"/separable_conv0"),c=i(s+"/separable_conv1"),u=r(s+"/expansion_conv");return{separable_conv0:l,separable_conv1:c,expansion_conv:u}}function a(s){var l=i(s+"/separable_conv0"),c=i(s+"/separable_conv1"),u=i(s+"/separable_conv2");return{separable_conv0:l,separable_conv1:c,separable_conv2:u}}return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:o,extractMainBlockParams:a}}function Zte(n,e){var t=[],r=Xte(n,t),i=r.extractConvParams,o=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,l=i("entry_flow/conv_in"),c=a("entry_flow/reduction_block_0"),u=a("entry_flow/reduction_block_1"),d={conv_in:l,reduction_block_0:c,reduction_block_1:u},h={};vd(e,0,1).forEach(function(b){h["main_block_"+b]=s("middle_flow/main_block_"+b)});var f=a("exit_flow/reduction_block"),p=o("exit_flow/separable_conv"),m={reduction_block:f,separable_conv:p};return No(n,t),{params:{entry_flow:d,middle_flow:h,exit_flow:m},paramMappings:t}}function fI(n,e,t){return et(ii(n,e.filters,t,"same"),e.bias)}function rb(n,e,t){t===void 0&&(t=!0);var r=t?Ot(n):n;return r=Er(r,e.separable_conv0,[1,1]),r=Er(Ot(r),e.separable_conv1,[1,1]),r=hn(r,[3,3],[2,2],"same"),r=et(r,fI(n,e.expansion_conv,[2,2])),r}function Jte(n,e){var t=Er(Ot(n),e.separable_conv0,[1,1]);return t=Er(Ot(t),e.separable_conv1,[1,1]),t=Er(Ot(t),e.separable_conv2,[1,1]),t=et(t,n),t}var Qte=function(n){$e(e,n);function e(t){var r=n.call(this,"TinyXception")||this;return r._numMainBlocks=t,r}return e.prototype.forwardInput=function(t){var r=this,i=this.params;if(!i)throw new Error("TinyXception - load model before inference");return _e(function(){var o=t.toBatchTensor(112,!0),a=[122.782,117.001,104.298],s=eh(o,a).div(xe(256)),l=Ot(fI(s,i.entry_flow.conv_in,[2,2]));return l=rb(l,i.entry_flow.reduction_block_0,!1),l=rb(l,i.entry_flow.reduction_block_1),vd(r._numMainBlocks,0,1).forEach(function(c){l=Jte(l,i.middle_flow["main_block_"+c])}),l=rb(l,i.exit_flow.reduction_block),l=Ot(Er(l,i.exit_flow.separable_conv,[1,1])),l})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Zte(t,this._numMainBlocks)},e.prototype.extractParams=function(t){return Yte(t,this._numMainBlocks)},e}(jo);function ene(n){var e=[],t=Fo(n),r=t.extractWeights,i=t.getRemainingWeights,o=aw(r,e),a=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{fc:{age:a,gender:s}}}}function tne(n){var e=[],t=Wa(n,e);function r(o){var a=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:a,bias:s}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return No(n,e),{params:i,paramMappings:e}}var Np;(function(n){n.FEMALE="female",n.MALE="male"})(Np||(Np={}));var nne=function(n){$e(e,n);function e(t){t===void 0&&(t=new Qte(2));var r=n.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=t,r}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var r=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return _e(function(){var o=t instanceof jp?r.faceFeatureExtractor.forwardInput(t):t,a=Jd(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1),s=ji(a,i.fc.age).as1D(),l=ji(a,i.fc.gender);return{age:s,gender:l}})},e.prototype.forwardInput=function(t){var r=this;return _e(function(){var i=r.runNet(t),o=i.age,a=i.gender;return{age:o,gender:Lo(a)}})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.predictAgeAndGender=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a,s,l,c=this;return De(this,function(u){switch(u.label){case 0:return[4,kn(t)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return i=u.sent(),o=nn(i.age),a=nn(i.gender),s=o.map(function(d,h){return{ageTensor:d,genderTensor:a[h]}}),[4,Promise.all(s.map(function(d){var h=d.ageTensor,f=d.genderTensor;return Re(c,void 0,void 0,function(){var p,m,b,g,v;return De(this,function(x){switch(x.label){case 0:return[4,h.data()];case 1:return p=x.sent()[0],[4,f.data()];case 2:return m=x.sent()[0],b=m>.5,g=b?Np.MALE:Np.FEMALE,v=b?m:1-m,h.dispose(),f.dispose(),[2,{age:p,gender:g,genderProbability:v}]}})})}))];case 3:return l=u.sent(),i.age.dispose(),i.gender.dispose(),[2,r.isBatchInput?l:l[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),n.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),i=r.params,o=r.paramMappings;this._params=i,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return ene(t)},e.prototype.extractParamsFromWeigthMap=function(t){var r=uI(t),i=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),tne(o)},e.prototype.extractParams=function(t){var r=1539,i=t.slice(0,t.length-r),o=t.slice(t.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(o)},e}(jo),pI=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postProcess=function(t,r,i){var o=i.map(function(s){var l=s.width,c=s.height,u=r/Math.max(c,l);return{width:l*u,height:c*u}}),a=o.length;return _e(function(){var s=function(h,f){return Or([Vi([68],h),Vi([68],f)],1).as2D(1,136).as1D()},l=function(h,f){var p=o[h],m=p.width,b=p.height;return f(m,b)?Math.abs(m-b)/2:0},c=function(h){return l(h,function(f,p){return f<p})},u=function(h){return l(h,function(f,p){return p<f})},d=t.mul(Vi([a,136],r)).sub(Or(Array.from(Array(a),function(h,f){return s(c(f),u(f))}))).div(Or(Array.from(Array(a),function(h,f){return s(o[f].width,o[f].height)})));return d})},e.prototype.forwardInput=function(t){var r=this;return _e(function(){var i=r.runNet(t);return r.postProcess(i,t.inputSize,t.inputDimensions.map(function(o){var a=o[0],s=o[1];return{height:a,width:s}}))})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.detectLandmarks=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a=this;return De(this,function(s){switch(s.label){case 0:return[4,kn(t)];case 1:return r=s.sent(),i=_e(function(){return nn(a.forwardInput(r))}),[4,Promise.all(i.map(function(l,c){return Re(a,void 0,void 0,function(){var u,d,h,f,p;return De(this,function(m){switch(m.label){case 0:return h=(d=Array).from,[4,l.data()];case 1:return u=h.apply(d,[m.sent()]),f=u.filter(function(b,g){return Z3(g)}),p=u.filter(function(b,g){return!Z3(g)}),[2,new Dte(Array(68).fill(0).map(function(b,g){return new ct(f[g],p[g])}),{height:r.getInputHeight(c),width:r.getInputWidth(c)})]}})})}))];case 2:return o=s.sent(),i.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(dI),mI=function(n){$e(e,n);function e(t){return t===void 0&&(t=new cI),n.call(this,"FaceLandmark68Net",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(pI);function rne(n){var e=[],t=lI(n,e).extractDenseBlock3Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2")};return No(n,e),{params:r,paramMappings:e}}function ine(n){var e=[],t=Fo(n),r=t.extractWeights,i=t.getRemainingWeights,o=aI(r,e).extractDenseBlock3Params,a=o(3,32,"dense0",!0),s=o(32,64,"dense1"),l=o(64,128,"dense2");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:e,params:{dense0:a,dense1:s,dense2:l}}}var one=function(n){$e(e,n);function e(){return n.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return _e(function(){var i=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],a=eh(i,o).div(xe(255)),s=nb(a,r.dense0,!0);return s=nb(s,r.dense1),s=nb(s,r.dense2),s=Jd(s,[14,14],[2,2],"valid"),s})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(t){return rne(t)},e.prototype.extractParams=function(t){return ine(t)},e}(jo),ane=function(n){$e(e,n);function e(t){return t===void 0&&(t=new one),n.call(this,"FaceLandmark68TinyNet",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(pI);(function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(mI);function sne(n,e){return et($n(n,e.weights),e.biases)}function uw(n,e,t,r,i){i===void 0&&(i="same");var o=e.conv,a=o.filters,s=o.bias,l=ii(n,a,t,i);return l=et(l,s),l=sne(l,e.scale),r?Ot(l):l}function lne(n,e){return uw(n,e,[1,1],!0)}function gI(n,e){return uw(n,e,[1,1],!1)}function bI(n,e){return uw(n,e,[2,2],!0,"valid")}function cne(n,e){function t(s,l,c){var u=n(s),d=u.length/(l*c*c);if(wte(d))throw new Error("depth has to be an integer: "+d+", weights.length: "+u.length+", numFilters: "+l+", filterSize: "+c);return _e(function(){return Ma(or(u,[l,d,c,c]),[2,3,1,0])})}function r(s,l,c,u){var d=t(s,l,c),h=Gt(n(l));return e.push({paramPath:u+"/filters"},{paramPath:u+"/bias"}),{filters:d,bias:h}}function i(s,l){var c=Gt(n(s)),u=Gt(n(s));return e.push({paramPath:l+"/weights"},{paramPath:l+"/biases"}),{weights:c,biases:u}}function o(s,l,c,u){var d=r(s,l,c,u+"/conv"),h=i(l,u+"/scale");return{conv:d,scale:h}}function a(s,l,c,u,d){d===void 0&&(d=!1);var h=o((d?.5:1)*s,l,c,u+"/conv1"),f=o(s,l,c,u+"/conv2");return{conv1:h,conv2:f}}return{extractConvLayerParams:o,extractResidualLayerParams:a}}function une(n){var e=Fo(n),t=e.extractWeights,r=e.getRemainingWeights,i=[],o=cne(t,i),a=o.extractConvLayerParams,s=o.extractResidualLayerParams,l=a(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),u=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),h=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),p=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),b=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),v=s(147456,128,3,"conv128_2"),x=s(589824,256,3,"conv256_down",!0),y=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),E=s(589824,256,3,"conv256_down_out"),C=_e(function(){return Ma(Ca(t(256*128),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var S={conv32_down:l,conv32_1:c,conv32_2:u,conv32_3:d,conv64_down:h,conv64_1:f,conv64_2:p,conv64_3:m,conv128_down:b,conv128_1:g,conv128_2:v,conv256_down:x,conv256_1:y,conv256_2:w,conv256_down_out:E,fc:C};return{params:S,paramMappings:i}}function dne(n,e){var t=Wa(n,e);function r(a){var s=t(a+"/scale/weights",1),l=t(a+"/scale/biases",1);return{weights:s,biases:l}}function i(a){var s=t(a+"/conv/filters",4),l=t(a+"/conv/bias",1),c=r(a);return{conv:{filters:s,bias:l},scale:c}}function o(a){return{conv1:i(a+"/conv1"),conv2:i(a+"/conv2")}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function hne(n){var e=[],t=dne(n,e),r=t.extractConvLayerParams,i=t.extractResidualLayerParams,o=r("conv32_down"),a=i("conv32_1"),s=i("conv32_2"),l=i("conv32_3"),c=i("conv64_down"),u=i("conv64_1"),d=i("conv64_2"),h=i("conv64_3"),f=i("conv128_down"),p=i("conv128_1"),m=i("conv128_2"),b=i("conv256_down"),g=i("conv256_1"),v=i("conv256_2"),x=i("conv256_down_out"),y=n.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!yte(y))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+y);var w={conv32_down:o,conv32_1:a,conv32_2:s,conv32_3:l,conv64_down:c,conv64_1:u,conv64_2:d,conv64_3:h,conv128_down:f,conv128_1:p,conv128_2:m,conv256_down:b,conv256_1:g,conv256_2:v,conv256_down_out:x,fc:y};return No(n,e),{params:w,paramMappings:e}}function Ii(n,e){var t=lne(n,e.conv1);return t=gI(t,e.conv2),t=et(t,n),t=Ot(t),t}function Kh(n,e){var t=bI(n,e.conv1);t=gI(t,e.conv2);var r=Jd(n,2,2,"valid"),i=Ct(r.shape),o=r.shape[3]!==t.shape[3],a=r.shape[1]!==t.shape[1]||r.shape[2]!==t.shape[2];if(a){var s=Nu(t.shape);s[1]=1;var l=Ct(s);t=tn([t,l],1);var c=Nu(t.shape);c[2]=1;var u=Ct(c);t=tn([t,u],2)}return r=o?tn([r,i],3):r,t=et(r,t),t=Ot(t),t}var fne=function(n){$e(e,n);function e(){return n.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return _e(function(){var i=t.toBatchTensor(150,!0).toFloat(),o=[122.782,117.001,104.298],a=eh(i,o).div(xe(256)),s=bI(a,r.conv32_down);s=hn(s,3,2,"valid"),s=Ii(s,r.conv32_1),s=Ii(s,r.conv32_2),s=Ii(s,r.conv32_3),s=Kh(s,r.conv64_down),s=Ii(s,r.conv64_1),s=Ii(s,r.conv64_2),s=Ii(s,r.conv64_3),s=Kh(s,r.conv128_down),s=Ii(s,r.conv128_1),s=Ii(s,r.conv128_2),s=Kh(s,r.conv256_down),s=Ii(s,r.conv256_1),s=Ii(s,r.conv256_2),s=Kh(s,r.conv256_down_out);var l=s.mean([1,2]),c=rg(l,r.fc);return c})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.computeFaceDescriptor=function(t){return Re(this,void 0,void 0,function(){var r,i,o,a=this;return De(this,function(s){switch(s.label){case 0:return[4,kn(t)];case 1:return r=s.sent(),i=_e(function(){return nn(a.forwardInput(r))}),[4,Promise.all(i.map(function(l){return l.data()}))];case 2:return o=s.sent(),i.forEach(function(l){return l.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(t){return hne(t)},e.prototype.extractParams=function(t){return une(t)},e}(jo);function vI(n,e){var t={descriptor:e};return Object.assign({},n,t)}function xI(n,e){var t={age:e};return Object.assign({},n,t)}function yI(n,e,t){var r={gender:e,genderProbability:t};return Object.assign({},n,r)}var wI=function(){function n(e){var t=e===void 0?{}:e,r=t.minFaceSize,i=t.scaleFactor,o=t.maxNumScales,a=t.scoreThresholds,s=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=i||.709,this._maxNumScales=o||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(l){return typeof l!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(l){return typeof l!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(n.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),n}();function pne(n,e){function t(l,c){var u=or(n(9*l),[3,3,l,1]),d=Gt(n(l)),h=Gt(n(l)),f=Gt(n(l)),p=Gt(n(l));return e.push({paramPath:c+"/filters"},{paramPath:c+"/batch_norm_scale"},{paramPath:c+"/batch_norm_offset"},{paramPath:c+"/batch_norm_mean"},{paramPath:c+"/batch_norm_variance"}),{filters:u,batch_norm_scale:d,batch_norm_offset:h,batch_norm_mean:f,batch_norm_variance:p}}function r(l,c,u,d,h){var f=or(n(l*c*u*u),[u,u,l,c]),p=Gt(n(c));return e.push({paramPath:d+"/filters"},{paramPath:d+"/"+(h?"batch_norm_offset":"bias")}),{filters:f,bias:p}}function i(l,c,u,d){var h=r(l,c,u,d,!0),f=h.filters,p=h.bias;return{filters:f,batch_norm_offset:p}}function o(l,c,u){var d=t(l,u+"/depthwise_conv"),h=i(l,c,1,u+"/pointwise_conv");return{depthwise_conv:d,pointwise_conv:h}}function a(){var l=i(3,32,3,"mobilenetv1/conv_0"),c=o(32,64,"mobilenetv1/conv_1"),u=o(64,128,"mobilenetv1/conv_2"),d=o(128,128,"mobilenetv1/conv_3"),h=o(128,256,"mobilenetv1/conv_4"),f=o(256,256,"mobilenetv1/conv_5"),p=o(256,512,"mobilenetv1/conv_6"),m=o(512,512,"mobilenetv1/conv_7"),b=o(512,512,"mobilenetv1/conv_8"),g=o(512,512,"mobilenetv1/conv_9"),v=o(512,512,"mobilenetv1/conv_10"),x=o(512,512,"mobilenetv1/conv_11"),y=o(512,1024,"mobilenetv1/conv_12"),w=o(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:c,conv_2:u,conv_3:d,conv_4:h,conv_5:f,conv_6:p,conv_7:m,conv_8:b,conv_9:g,conv_10:v,conv_11:x,conv_12:y,conv_13:w}}function s(){var l=i(1024,256,1,"prediction_layer/conv_0"),c=i(256,512,3,"prediction_layer/conv_1"),u=i(512,128,1,"prediction_layer/conv_2"),d=i(128,256,3,"prediction_layer/conv_3"),h=i(256,128,1,"prediction_layer/conv_4"),f=i(128,256,3,"prediction_layer/conv_5"),p=i(256,64,1,"prediction_layer/conv_6"),m=i(64,128,3,"prediction_layer/conv_7"),b=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),g=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),v=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),x=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),y=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),w=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),E=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),C=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),S=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),_=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),A=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),D=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),I={box_encoding_predictor:b,class_predictor:g},M={box_encoding_predictor:v,class_predictor:x},T={box_encoding_predictor:y,class_predictor:w},B={box_encoding_predictor:E,class_predictor:C},L={box_encoding_predictor:S,class_predictor:_},z={box_encoding_predictor:A,class_predictor:D};return{conv_0:l,conv_1:c,conv_2:u,conv_3:d,conv_4:h,conv_5:f,conv_6:p,conv_7:m,box_predictor_0:I,box_predictor_1:M,box_predictor_2:T,box_predictor_3:B,box_predictor_4:L,box_predictor_5:z}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:s}}function mne(n){var e=[],t=Fo(n),r=t.extractWeights,i=t.getRemainingWeights,o=pne(r,e),a=o.extractMobilenetV1Params,s=o.extractPredictionLayerParams,l=a(),c=s(),u=S1(r(5118*4),[1,5118,4]),d={extra_dim:u};if(e.push({paramPath:"output_layer/extra_dim"}),i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:l,prediction_layer:c,output_layer:d},paramMappings:e}}function gne(n,e){var t=Wa(n,e);function r(c,u,d){var h=t(c+"/Conv2d_"+u+"_pointwise/weights",4,d+"/filters"),f=t(c+"/Conv2d_"+u+"_pointwise/convolution_bn_offset",1,d+"/batch_norm_offset");return{filters:h,batch_norm_offset:f}}function i(c){var u="mobilenetv1/conv_"+c,d="MobilenetV1/Conv2d_"+c+"_depthwise",h=u+"/depthwise_conv",f=u+"/pointwise_conv",p=t(d+"/depthwise_weights",4,h+"/filters"),m=t(d+"/BatchNorm/gamma",1,h+"/batch_norm_scale"),b=t(d+"/BatchNorm/beta",1,h+"/batch_norm_offset"),g=t(d+"/BatchNorm/moving_mean",1,h+"/batch_norm_mean"),v=t(d+"/BatchNorm/moving_variance",1,h+"/batch_norm_variance");return{depthwise_conv:{filters:p,batch_norm_scale:m,batch_norm_offset:b,batch_norm_mean:g,batch_norm_variance:v},pointwise_conv:r("MobilenetV1",c,f)}}function o(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}}function a(c,u){var d=t(c+"/weights",4,u+"/filters"),h=t(c+"/biases",1,u+"/bias");return{filters:d,bias:h}}function s(c){var u=a("Prediction/BoxPredictor_"+c+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+c+"/box_encoding_predictor"),d=a("Prediction/BoxPredictor_"+c+"/ClassPredictor","prediction_layer/box_predictor_"+c+"/class_predictor");return{box_encoding_predictor:u,class_predictor:d}}function l(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:l}}function bne(n){var e=[],t=gne(n,e),r=t.extractMobilenetV1Params,i=t.extractPredictionLayerParams,o=n["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!sg(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var a={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:o}};return No(n,e),{params:a,paramMappings:e}}function Di(n,e,t){return _e(function(){var r=ii(n,e.filters,t,"same");return r=et(r,e.batch_norm_offset),z1(r,0,6)})}var vne=.0010000000474974513;function xne(n,e,t){return _e(function(){var r=ng(n,e.filters,t,"same");return r=mA(r,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,vne),z1(r,0,6)})}function yne(n){return[2,4,6,12].some(function(e){return e===n})?[2,2]:[1,1]}function wne(n,e){return _e(function(){var t=null,r=Di(n,e.conv_0,[2,2]),i=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(i.forEach(function(o,a){var s=a+1,l=yne(s);r=xne(r,o.depthwise_conv,l),r=Di(r,o.pointwise_conv,[1,1]),s===11&&(t=r)}),t===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:t}})}function kne(n,e,t,r,i){var o=n.shape[0],a=Math.min(t,o),s=e.map(function(u,d){return{score:u,boxIndex:d}}).filter(function(u){return u.score>i}).sort(function(u,d){return d.score-u.score}),l=function(u){return u<=r?1:0},c=[];return s.forEach(function(u){if(!(c.length>=a)){for(var d=u.score,h=c.length-1;h>=0;--h){var f=_ne(n,u.boxIndex,c[h]);if(f!==0&&(u.score*=l(f),u.score<=i))break}d===u.score&&c.push(u.boxIndex)}}),c}function _ne(n,e,t){var r=n.arraySync(),i=Math.min(r[e][0],r[e][2]),o=Math.min(r[e][1],r[e][3]),a=Math.max(r[e][0],r[e][2]),s=Math.max(r[e][1],r[e][3]),l=Math.min(r[t][0],r[t][2]),c=Math.min(r[t][1],r[t][3]),u=Math.max(r[t][0],r[t][2]),d=Math.max(r[t][1],r[t][3]),h=(a-i)*(s-o),f=(u-l)*(d-c);if(h<=0||f<=0)return 0;var p=Math.max(i,l),m=Math.max(o,c),b=Math.min(a,u),g=Math.min(s,d),v=Math.max(b-p,0)*Math.max(g-m,0);return v/(h+f-v)}function Cne(n){var e=nn(Ma(n,[1,0])),t=[sn(e[2],e[0]),sn(e[3],e[1])],r=[et(e[0],hi(t[0],xe(2))),et(e[1],hi(t[1],xe(2)))];return{sizes:t,centers:r}}function Ene(n,e){var t=Cne(n),r=t.sizes,i=t.centers,o=nn(Ma(e,[1,0])),a=hi($n(ex(hi(o[2],xe(5))),r[0]),xe(2)),s=et($n(hi(o[0],xe(10)),r[0]),i[0]),l=hi($n(ex(hi(o[3],xe(5))),r[1]),xe(2)),c=et($n(hi(o[1],xe(10)),r[1]),i[1]);return Ma(Or([sn(s,a),sn(c,l),et(s,a),et(c,l)]),[1,0])}function Sne(n,e,t){return _e(function(){var r=n.shape[0],i=Ene(mi(ec(t.extra_dim,[r,1,1]),[-1,4]),mi(n,[-1,4]));i=mi(i,[r,i.shape[0]/r,4]);var o=dA(Ki(e,[0,0,1],[-1,-1,-1])),a=Ki(o,[0,0,0],[-1,-1,1]);a=mi(a,[r,a.shape[1]]);var s=nn(i),l=nn(a);return{boxes:s,scores:l}})}function pl(n,e){return _e(function(){var t=n.shape[0],r=mi(xi(n,e.box_encoding_predictor),[t,-1,1,4]),i=mi(xi(n,e.class_predictor),[t,-1,3]);return{boxPredictionEncoding:r,classPrediction:i}})}function Tne(n,e,t){return _e(function(){var r=Di(n,t.conv_0,[1,1]),i=Di(r,t.conv_1,[2,2]),o=Di(i,t.conv_2,[1,1]),a=Di(o,t.conv_3,[2,2]),s=Di(a,t.conv_4,[1,1]),l=Di(s,t.conv_5,[2,2]),c=Di(l,t.conv_6,[1,1]),u=Di(c,t.conv_7,[2,2]),d=pl(e,t.box_predictor_0),h=pl(n,t.box_predictor_1),f=pl(i,t.box_predictor_2),p=pl(a,t.box_predictor_3),m=pl(l,t.box_predictor_4),b=pl(u,t.box_predictor_5),g=tn([d.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,p.boxPredictionEncoding,m.boxPredictionEncoding,b.boxPredictionEncoding],1),v=tn([d.classPrediction,h.classPrediction,f.classPrediction,p.classPrediction,m.classPrediction,b.classPrediction],1);return{boxPredictions:g,classPredictions:v}})}var dg=function(){function n(e){var t=e===void 0?{}:e,r=t.minConfidence,i=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=i||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(n.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),n}(),kI=function(n){$e(e,n);function e(){return n.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return _e(function(){var i=t.toBatchTensor(512,!1).toFloat(),o=sn($n(i,xe(.007843137718737125)),xe(1)),a=wne(o,r.mobilenetv1),s=Tne(a.out,a.conv11,r.prediction_layer),l=s.boxPredictions,c=s.classPredictions;return Sne(l,c,r.output_layer)})},e.prototype.forward=function(t){return Re(this,void 0,void 0,function(){var r;return De(this,function(i){switch(i.label){case 0:return r=this.forwardInput,[4,kn(t)];case 1:return[2,r.apply(this,[i.sent()])]}})})},e.prototype.locateFaces=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S;return De(this,function(_){switch(_.label){case 0:return i=new dg(r),o=i.maxResults,a=i.minConfidence,[4,kn(t)];case 1:for(s=_.sent(),l=this.forwardInput(s),c=l.boxes,u=l.scores,d=c[0],h=u[0],f=1;f<c.length;f++)c[f].dispose(),u[f].dispose();return b=(m=Array).from,[4,h.data()];case 2:return p=b.apply(m,[_.sent()]),g=.5,v=kne(d,p,o,g,a),x=s.getReshapedInputDimensions(0),y=s.inputSize,w=y/x.width,E=y/x.height,C=d.arraySync(),S=v.map(function(A){var D=[Math.max(0,C[A][0]),Math.min(1,C[A][2])].map(function(z){return z*E}),I=D[0],M=D[1],T=[Math.max(0,C[A][1]),Math.min(1,C[A][3])].map(function(z){return z*w}),B=T[0],L=T[1];return new to(p[A],new ew(B,I,L-B,M-I),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),d.dispose(),h.dispose(),[2,S]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(t){return bne(t)},e.prototype.extractParams=function(t){return mne(t)},e}(jo);(function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(kI);var Ane=.4,Ine=[new ct(.738768,.874946),new ct(2.42204,2.65704),new ct(4.30971,7.04493),new ct(10.246,4.59428),new ct(12.6868,11.8741)],Rne=[new ct(1.603231,2.094468),new ct(6.041143,7.080126),new ct(2.882459,3.518061),new ct(4.266906,5.178857),new ct(9.041765,10.66308)],Dne=[117.001,114.697,97.404],One="tiny_yolov2_model",Mne="tiny_yolov2_separable_conv_model",Yh=function(n){return typeof n=="number"};function Bne(n){if(!n)throw new Error("invalid config: "+n);if(typeof n.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+n.withSeparableConvs);if(!Yh(n.iouThreshold)||n.iouThreshold<0||n.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+n.iouThreshold);if(!Array.isArray(n.classes)||!n.classes.length||!n.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(n.classes));if(!Array.isArray(n.anchors)||!n.anchors.length||!n.anchors.map(function(e){return e||{}}).every(function(e){return Yh(e.x)&&Yh(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(n.anchors));if(n.meanRgb&&(!Array.isArray(n.meanRgb)||n.meanRgb.length!==3||!n.meanRgb.every(Yh)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(n.meanRgb))}function dw(n){return _e(function(){var e=$n(n,xe(.10000000149011612));return et(Ot(sn(n,e)),e)})}function Yo(n,e){return _e(function(){var t=Zs(n,[[0,0],[1,1],[1,1],[0,0]]);return t=ii(t,e.conv.filters,[1,1],"valid"),t=sn(t,e.bn.sub),t=$n(t,e.bn.truediv),t=et(t,e.conv.bias),dw(t)})}function Xo(n,e){return _e(function(){var t=Zs(n,[[0,0],[1,1],[1,1],[0,0]]);return t=$1(t,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),t=et(t,e.bias),dw(t)})}function Pne(n,e){var t=ug(n,e);function r(a,s){var l=Gt(n(a)),c=Gt(n(a));return e.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:l,truediv:c}}function i(a,s,l){var c=t(a,s,3,l+"/conv"),u=r(s,l+"/bn");return{conv:c,bn:u}}var o=sw(n,e);return{extractConvParams:t,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function Lne(n,e,t,r){var i=Fo(n),o=i.extractWeights,a=i.getRemainingWeights,s=[],l=Pne(o,s),c=l.extractConvParams,u=l.extractConvWithBatchNormParams,d=l.extractSeparableConvParams,h;if(e.withSeparableConvs){var f=r[0],p=r[1],m=r[2],b=r[3],g=r[4],v=r[5],x=r[6],y=r[7],w=r[8],E=e.isFirstLayerConv2d?c(f,p,3,"conv0"):d(f,p,"conv0"),C=d(p,m,"conv1"),S=d(m,b,"conv2"),_=d(b,g,"conv3"),A=d(g,v,"conv4"),D=d(v,x,"conv5"),I=y?d(x,y,"conv6"):void 0,M=w?d(y,w,"conv7"):void 0,T=c(w||y||x,5*t,1,"conv8");h={conv0:E,conv1:C,conv2:S,conv3:_,conv4:A,conv5:D,conv6:I,conv7:M,conv8:T}}else{var f=r[0],p=r[1],m=r[2],b=r[3],g=r[4],v=r[5],x=r[6],y=r[7],w=r[8],E=u(f,p,"conv0"),C=u(p,m,"conv1"),S=u(m,b,"conv2"),_=u(b,g,"conv3"),A=u(g,v,"conv4"),D=u(v,x,"conv5"),I=u(x,y,"conv6"),M=u(y,w,"conv7"),T=c(w,5*t,1,"conv8");h={conv0:E,conv1:C,conv2:S,conv3:_,conv4:A,conv5:D,conv6:I,conv7:M,conv8:T}}if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:h,paramMappings:s}}function zne(n,e){var t=Wa(n,e);function r(s){var l=t(s+"/sub",1),c=t(s+"/truediv",1);return{sub:l,truediv:c}}function i(s){var l=t(s+"/filters",4),c=t(s+"/bias",1);return{filters:l,bias:c}}function o(s){var l=i(s+"/conv"),c=r(s+"/bn");return{conv:l,bn:c}}var a=lw(t);return{extractConvParams:i,extractConvWithBatchNormParams:o,extractSeparableConvParams:a}}function jne(n,e){var t=[],r=zne(n,t),i=r.extractConvParams,o=r.extractConvWithBatchNormParams,a=r.extractSeparableConvParams,s;if(e.withSeparableConvs){var l=e.filterSizes&&e.filterSizes.length||9;s={conv0:e.isFirstLayerConv2d?i("conv0"):a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:l>7?a("conv6"):void 0,conv7:l>8?a("conv7"):void 0,conv8:i("conv8")}}else s={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:i("conv8")};return No(n,t),{params:s,paramMappings:t}}var o4;(function(n){n[n.XS=224]="XS",n[n.SM=320]="SM",n[n.MD=416]="MD",n[n.LG=608]="LG"})(o4||(o4={}));var hw=function(){function n(e){var t=e===void 0?{}:e,r=t.inputSize,i=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=i||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(n.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),n}(),_I=function(n){$e(e,n);function e(t){var r=n.call(this,"TinyYolov2")||this;return Bne(t),r._config=t,r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(t,r){var i=Yo(t,r.conv0);return i=hn(i,[2,2],[2,2],"same"),i=Yo(i,r.conv1),i=hn(i,[2,2],[2,2],"same"),i=Yo(i,r.conv2),i=hn(i,[2,2],[2,2],"same"),i=Yo(i,r.conv3),i=hn(i,[2,2],[2,2],"same"),i=Yo(i,r.conv4),i=hn(i,[2,2],[2,2],"same"),i=Yo(i,r.conv5),i=hn(i,[2,2],[1,1],"same"),i=Yo(i,r.conv6),i=Yo(i,r.conv7),xi(i,r.conv8,"valid",!1)},e.prototype.runMobilenet=function(t,r){var i=this.config.isFirstLayerConv2d?dw(xi(t,r.conv0,"valid",!1)):Xo(t,r.conv0);return i=hn(i,[2,2],[2,2],"same"),i=Xo(i,r.conv1),i=hn(i,[2,2],[2,2],"same"),i=Xo(i,r.conv2),i=hn(i,[2,2],[2,2],"same"),i=Xo(i,r.conv3),i=hn(i,[2,2],[2,2],"same"),i=Xo(i,r.conv4),i=hn(i,[2,2],[2,2],"same"),i=Xo(i,r.conv5),i=hn(i,[2,2],[1,1],"same"),i=r.conv6?Xo(i,r.conv6):i,i=r.conv7?Xo(i,r.conv7):i,xi(i,r.conv8,"valid",!1)},e.prototype.forwardInput=function(t,r){var i=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return _e(function(){var a=t.toBatchTensor(r,!1).toFloat();return a=i.config.meanRgb?eh(a,i.config.meanRgb):a,a=a.div(xe(256)),i.config.withSeparableConvs?i.runMobilenet(a,o):i.runTinyYolov2(a,o)})},e.prototype.forward=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,kn(t)];case 1:return[4,i.apply(this,[o.sent(),r])];case 2:return[2,o.sent()]}})})},e.prototype.detect=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v=this;return De(this,function(x){switch(x.label){case 0:return i=new hw(r),o=i.inputSize,a=i.scoreThreshold,[4,kn(t)];case 1:return s=x.sent(),[4,this.forwardInput(s,o)];case 2:return l=x.sent(),c=_e(function(){return nn(l)[0].expandDims()}),u={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),a)];case 3:return d=x.sent(),l.dispose(),c.dispose(),h=d.map(function(y){return y.box}),f=d.map(function(y){return y.score}),p=d.map(function(y){return y.classScore}),m=d.map(function(y){return v.config.classes[y.label]}),b=xd(h.map(function(y){return y.rescale(o)}),f,this.config.iouThreshold,!0),g=b.map(function(y){return new YA(f[y],p[y],m[y],h[y],u)}),[2,g]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(t){return jne(t,this.config)},e.prototype.extractParams=function(t){var r=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,i=r?r.length:void 0;if(i!==7&&i!==8&&i!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+i+" filterSizes in config");return Lne(t,this.config,this.boxEncodingSize,r)},e.prototype.extractBoxes=function(t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S,_,A,D,I,M,T,B,L,z,U=this;return De(this,function(P){switch(P.label){case 0:return o=r.width,a=r.height,s=Math.max(o,a),l=s/o,c=s/a,u=t.shape[1],d=this.config.anchors.length,h=_e(function(){var $=t.reshape([u,u,d,U.boxEncodingSize]),F=$.slice([0,0,0,0],[u,u,d,4]),N=$.slice([0,0,0,4],[u,u,d,1]),ee=U.withClassScores?Lo($.slice([0,0,0,5],[u,u,d,U.config.classes.length]),3):xe(0);return[F,N,ee]}),f=h[0],p=h[1],m=h[2],b=[],[4,p.array()];case 1:return g=P.sent(),[4,f.array()];case 2:v=P.sent(),x=0,P.label=3;case 3:if(!(x<u))return[3,12];y=0,P.label=4;case 4:if(!(y<u))return[3,11];w=0,P.label=5;case 5:return w<d?(E=tb(g[x][y][w][0]),!i||E>i?(C=(y+tb(v[x][y][w][0]))/u*l,S=(x+tb(v[x][y][w][1]))/u*c,_=Math.exp(v[x][y][w][2])*this.config.anchors[w].x/u*l,A=Math.exp(v[x][y][w][3])*this.config.anchors[w].y/u*c,D=C-_/2,I=S-A/2,M={row:x,col:y,anchor:w},this.withClassScores?[4,this.extractPredictedClass(m,M)]:[3,7]):[3,9]):[3,10];case 6:return z=P.sent(),[3,8];case 7:z={classScore:1,label:0},P.label=8;case 8:T=z,B=T.classScore,L=T.label,b.push(Pn({box:new lg(D,I,D+_,I+A),score:E,classScore:E*B,label:L},M)),P.label=9;case 9:return w++,[3,5];case 10:return y++,[3,4];case 11:return x++,[3,3];case 12:return f.dispose(),p.dispose(),m.dispose(),[2,b]}})})},e.prototype.extractPredictedClass=function(t,r){return Re(this,void 0,void 0,function(){var i,o,a,s;return De(this,function(l){switch(l.label){case 0:return i=r.row,o=r.col,a=r.anchor,[4,t.array()];case 1:return s=l.sent(),[2,Array(this.config.classes.length).fill(0).map(function(c,u){return s[i][o][a][u]}).map(function(c,u){return{classScore:c,label:u}}).reduce(function(c,u){return c.classScore>u.classScore?c:u})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(jo),Nne=function(n){$e(e,n);function e(t){t===void 0&&(t=!0);var r=this,i=Object.assign({},{withSeparableConvs:t,iouThreshold:Ane,classes:["face"]},t?{anchors:Rne,meanRgb:Dne}:{anchors:Ine,withClassScores:!0});return r=n.call(this,i)||this,r}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.detect(t,r)];case 1:return i=o.sent(),[2,i.map(function(a){return new to(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Mne:One},e.prototype.extractParamsFromWeigthMap=function(t){return n.prototype.extractParamsFromWeigthMap.call(this,t)},e}(_I),CI=function(n){$e(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return e}(hw),th=function(){function n(){}return n.prototype.then=function(e){return Re(this,void 0,void 0,function(){var t;return De(this,function(r){switch(r.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[r.sent()])]}})})},n.prototype.run=function(){return Re(this,void 0,void 0,function(){return De(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},n}();function hg(n,e,t,r,i){return i===void 0&&(i=function(o){var a=o.alignedRect;return a}),Re(this,void 0,void 0,function(){var o,a,s,l,c;return De(this,function(u){switch(u.label){case 0:return o=n.map(function(d){return Gte(d)?i(d):d.detection}),s=r,s?[3,5]:e instanceof It?[4,ow(e,o)]:[3,2];case 1:return l=u.sent(),[3,4];case 2:return[4,iw(e,o)];case 3:l=u.sent(),u.label=4;case 4:s=l,u.label=5;case 5:return a=s,[4,t(a)];case 6:return c=u.sent(),a.forEach(function(d){return d instanceof It&&d.dispose()}),[2,c]}})})}function fw(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o=this;return De(this,function(a){return[2,hg([n],e,function(s){return Re(o,void 0,void 0,function(){return De(this,function(l){return[2,t(s[0])]})})},r,i)]})})}function Fne(n){return _e(function(){return Or(nn(n,3).reverse(),3)})}var Xh=2,Fp=12;function $ne(n,e){var t=ug(n,e),r=aw(n,e);function i(c,u){var d=Gt(n(c));return e.push({paramPath:u}),d}function o(c,u,d){d===void 0&&(d=!1);var h=t(c[0],c[1],3,u+"/conv1"),f=i(c[1],u+"/prelu1_alpha"),p=t(c[1],c[2],3,u+"/conv2"),m=i(c[2],u+"/prelu2_alpha"),b=t(c[2],c[3],d?2:3,u+"/conv3"),g=i(c[3],u+"/prelu3_alpha");return{conv1:h,prelu1_alpha:f,conv2:p,prelu2_alpha:m,conv3:b,prelu3_alpha:g}}function a(){var c=o([3,10,16,32],"pnet"),u=t(32,2,1,"pnet/conv4_1"),d=t(32,4,1,"pnet/conv4_2");return Pn(Pn({},c),{conv4_1:u,conv4_2:d})}function s(){var c=o([3,28,48,64],"rnet",!0),u=r(576,128,"rnet/fc1"),d=i(128,"rnet/prelu4_alpha"),h=r(128,2,"rnet/fc2_1"),f=r(128,4,"rnet/fc2_2");return Pn(Pn({},c),{fc1:u,prelu4_alpha:d,fc2_1:h,fc2_2:f})}function l(){var c=o([3,32,64,64],"onet"),u=t(64,128,2,"onet/conv4"),d=i(128,"onet/prelu4_alpha"),h=r(1152,256,"onet/fc1"),f=i(256,"onet/prelu5_alpha"),p=r(256,2,"onet/fc2_1"),m=r(256,4,"onet/fc2_2"),b=r(256,10,"onet/fc2_3");return Pn(Pn({},c),{conv4:u,prelu4_alpha:d,fc1:h,prelu5_alpha:f,fc2_1:p,fc2_2:m,fc2_3:b})}return{extractPNetParams:a,extractRNetParams:s,extractONetParams:l}}function Une(n){var e=Fo(n),t=e.extractWeights,r=e.getRemainingWeights,i=[],o=$ne(t,i),a=o.extractPNetParams,s=o.extractRNetParams,l=o.extractONetParams,c=a(),u=s(),d=l();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:u,onet:d},paramMappings:i}}function Hne(n,e){var t=Wa(n,e);function r(u){var d=t(u+"/weights",4,u+"/filters"),h=t(u+"/bias",1);return{filters:d,bias:h}}function i(u){var d=t(u+"/weights",2),h=t(u+"/bias",1);return{weights:d,bias:h}}function o(u){return t(u,1)}function a(u){var d=r(u+"/conv1"),h=o(u+"/prelu1_alpha"),f=r(u+"/conv2"),p=o(u+"/prelu2_alpha"),m=r(u+"/conv3"),b=o(u+"/prelu3_alpha");return{conv1:d,prelu1_alpha:h,conv2:f,prelu2_alpha:p,conv3:m,prelu3_alpha:b}}function s(){var u=a("pnet"),d=r("pnet/conv4_1"),h=r("pnet/conv4_2");return Pn(Pn({},u),{conv4_1:d,conv4_2:h})}function l(){var u=a("rnet"),d=i("rnet/fc1"),h=o("rnet/prelu4_alpha"),f=i("rnet/fc2_1"),p=i("rnet/fc2_2");return Pn(Pn({},u),{fc1:d,prelu4_alpha:h,fc2_1:f,fc2_2:p})}function c(){var u=a("onet"),d=r("onet/conv4"),h=o("onet/prelu4_alpha"),f=i("onet/fc1"),p=o("onet/prelu5_alpha"),m=i("onet/fc2_1"),b=i("onet/fc2_2"),g=i("onet/fc2_3");return Pn(Pn({},u),{conv4:d,prelu4_alpha:h,fc1:f,prelu5_alpha:p,fc2_1:m,fc2_2:b,fc2_3:g})}return{extractPNetParams:s,extractRNetParams:l,extractONetParams:c}}function Wne(n){var e=[],t=Hne(n,e),r=t.extractPNetParams,i=t.extractRNetParams,o=t.extractONetParams,a=r(),s=i(),l=o();return No(n,e),{params:{pnet:a,rnet:s,onet:l},paramMappings:e}}function lx(n,e){var t=e[0],r=e[1];return{height:Math.floor(t*n),width:Math.floor(r*n)}}function Vne(n,e,t){for(var r=t[0],i=t[1],o=Fp/n,a=[],s=Math.min(r,i)*o,l=0;s>=12;)a.push(o*Math.pow(e,l)),s=s*e,l+=1;return a}var pw=function(n){$e(e,n);function e(t,r,i,o){return n.call(this,{left:t,top:r,right:i,bottom:o},!0)||this}return e}(Ba);function EI(n){return _e(function(){return $n(sn(n,xe(127.5)),xe(.0078125))})}function ac(n,e){return _e(function(){return et(Ot(n),$n(e,Mp(Ot(Mp(n)))))})}function mw(n,e,t){return t===void 0&&(t=!1),_e(function(){var r=xi(n,e.conv1,"valid");return r=ac(r,e.prelu1_alpha),r=hn(r,t?[2,2]:[3,3],[2,2],"same"),r=xi(r,e.conv2,"valid"),r=ac(r,e.prelu2_alpha),r=t?r:hn(r,[3,3],[2,2],"valid"),r=xi(r,e.conv3,"valid"),r=ac(r,e.prelu3_alpha),r})}function qne(n,e){return _e(function(){var t=mw(n,e,!0),r=xi(t,e.conv4_1,"valid"),i=Wr(ig(r,3),3),o=Lo(sn(r,i),3),a=xi(t,e.conv4_2,"valid");return{prob:o,regions:a}})}function Gne(n,e){return _e(function(){var t=lx(e,n.shape.slice(1)),r=t.height,i=t.width,o=q1.resizeBilinear(n,[r,i]),a=EI(o);return Ma(a,[0,2,1,3])})}function Kne(n,e,t,r){for(var i=[],o=n.arraySync(),a=0;a<n.shape[0];a++)for(var s=0;s<n.shape[1];s++)o[a][s]>=r&&i.push(new ct(s,a));var l=i.map(function(c){var u=new lg(Math.round((c.y*Xh+1)/t),Math.round((c.x*Xh+1)/t),Math.round((c.y*Xh+Fp)/t),Math.round((c.x*Xh+Fp)/t)),d=o[c.y][c.x],h=e.arraySync(),f=new pw(h[c.y][c.x][0],h[c.y][c.x][1],h[c.y][c.x][2],h[c.y][c.x][3]);return{cell:u,score:d,region:f}});return l}function Yne(n,e,t,r,i){i.stage1=[];var o=e.map(function(h){return _e(function(){var f={scale:h},p=Gne(n,h),m=Date.now(),b=qne(p,r),g=b.prob,v=b.regions;f.pnet=Date.now()-m;var x=nn(nn(g,3)[1])[0],y=nn(v)[0];return{scoresTensor:x,regionsTensor:y,scale:h,statsForScale:f}})}),a=o.map(function(h){var f=h.scoresTensor,p=h.regionsTensor,m=h.scale,b=h.statsForScale,g=Kne(f,p,m,t);if(f.dispose(),p.dispose(),!g.length)return i.stage1.push(b),[];var v=Date.now(),x=xd(g.map(function(y){return y.cell}),g.map(function(y){return y.score}),.5);return b.nms=Date.now()-v,b.numBoxes=x.length,i.stage1.push(b),x.map(function(y){return g[y]})}),s=a.reduce(function(h,f){return h.concat(f)},[]),l=[],c=[];if(s.length>0){var u=Date.now(),d=xd(s.map(function(h){return h.cell}),s.map(function(h){return h.score}),.7);i.stage1_nms=Date.now()-u,c=d.map(function(h){return s[h].score}),l=d.map(function(h){return s[h]}).map(function(h){var f=h.cell,p=h.region;return new lg(f.left+p.left*f.width,f.top+p.top*f.height,f.right+p.right*f.width,f.bottom+p.bottom*f.height).toSquare().round()})}return{boxes:l,scores:c}}function SI(n,e,t){var r=t.width,i=t.height;return Re(this,void 0,void 0,function(){var o,a,s,l=this;return De(this,function(c){switch(c.label){case 0:return o=zs(n),[4,Promise.all(e.map(function(u){return Re(l,void 0,void 0,function(){var d,h,f,p,m,b,g,v;return De(this,function(x){return d=u.padAtBorders(n.height,n.width),h=d.y,f=d.ey,p=d.x,m=d.ex,b=p-1,g=h-1,v=o.getImageData(b,g,m-b,f-g),[2,Vn.isNodejs()?rw(v):createImageBitmap(v)]})})}))];case 1:return a=c.sent(),s=[],a.forEach(function(u){var d=cg({width:r,height:i}),h=zs(d);h.drawImage(u,0,0,r,i);for(var f=h.getImageData(0,0,r,i).data,p=[],m=0;m<f.length;m+=4)p.push(f[m+2]),p.push(f[m+1]),p.push(f[m]);s.push(p)}),[2,s.map(function(u){var d=_e(function(){var h=Ma(or(u,[1,r,i,3]),[0,2,1,3]).toFloat();return EI(h)});return d})]}})})}function Xne(n,e){return _e(function(){var t=mw(n,e),r=mi(t,[t.shape[0],e.fc1.weights.shape[0]]),i=ji(r,e.fc1),o=ac(i,e.prelu4_alpha),a=ji(o,e.fc2_1),s=Wr(ig(a,1),1),l=Lo(sn(a,s),1),c=ji(o,e.fc2_2),u=nn(l,1)[1];return{scores:u,regions:c}})}function Zne(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v;return De(this,function(x){switch(x.label){case 0:return o=Date.now(),[4,SI(n,e,{width:24,height:24})];case 1:return a=x.sent(),i.stage2_extractImagePatches=Date.now()-o,o=Date.now(),s=a.map(function(y){var w=Xne(y,r);return y.dispose(),w}),i.stage2_rnet=Date.now()-o,l=s.length>1?tn(s.map(function(y){return y.scores})):s[0].scores,d=(u=Array).from,[4,l.data()];case 2:return c=d.apply(u,[x.sent()]),l.dispose(),h=c.map(function(y,w){return{score:y,idx:w}}).filter(function(y){return y.score>t}).map(function(y){var w=y.idx;return w}),f=h.map(function(y){return e[y]}),p=h.map(function(y){return c[y]}),m=[],b=[],f.length>0&&(o=Date.now(),g=xd(f,p,.7),i.stage2_nms=Date.now()-o,v=g.map(function(y){var w=s[h[y]].regions.arraySync();return new pw(w[0][0],w[0][1],w[0][2],w[0][3])}),b=g.map(function(y){return p[y]}),m=g.map(function(y,w){return f[y].calibrate(v[w])})),s.forEach(function(y){y.regions.dispose(),y.scores.dispose()}),[2,{boxes:m,scores:b}]}})})}function Jne(n,e){return _e(function(){var t=mw(n,e);t=hn(t,[2,2],[2,2],"same"),t=xi(t,e.conv4,"valid"),t=ac(t,e.prelu4_alpha);var r=mi(t,[t.shape[0],e.fc1.weights.shape[0]]),i=ji(r,e.fc1),o=ac(i,e.prelu5_alpha),a=ji(o,e.fc2_1),s=Wr(ig(a,1),1),l=Lo(sn(a,s),1),c=ji(o,e.fc2_2),u=ji(o,e.fc2_3),d=nn(l,1)[1];return{scores:d,regions:c,points:u}})}function Qne(n,e,t,r,i){return Re(this,void 0,void 0,function(){var o,a,s,l,c,u,d,h,f,p,m,b,g,v,x;return De(this,function(y){switch(y.label){case 0:return o=Date.now(),[4,SI(n,e,{width:48,height:48})];case 1:return a=y.sent(),i.stage3_extractImagePatches=Date.now()-o,o=Date.now(),s=a.map(function(w){var E=Jne(w,r);return w.dispose(),E}),i.stage3_onet=Date.now()-o,l=s.length>1?tn(s.map(function(w){return w.scores})):s[0].scores,d=(u=Array).from,[4,l.data()];case 2:return c=d.apply(u,[y.sent()]),l.dispose(),h=c.map(function(w,E){return{score:w,idx:E}}).filter(function(w){return w.score>t}).map(function(w){var E=w.idx;return E}),f=h.map(function(w){var E=s[w].regions.arraySync();return new pw(E[0][0],E[0][1],E[0][2],E[0][3])}),p=h.map(function(w,E){return e[w].calibrate(f[E])}),m=h.map(function(w){return c[w]}),b=[],g=[],v=[],p.length>0&&(o=Date.now(),x=xd(p,m,.7,!1),i.stage3_nms=Date.now()-o,b=x.map(function(w){return p[w]}),g=x.map(function(w){return m[w]}),v=x.map(function(w,E){return Array(5).fill(0).map(function(C,S){var _=s[w].points.arraySync();return new ct(_[0][S]*(b[E].width+1)+b[E].left,_[0][S+5]*(b[E].height+1)+b[E].top)})})),s.forEach(function(w){w.regions.dispose(),w.scores.dispose(),w.points.dispose()}),[2,{boxes:b,scores:g,points:v}]}})})}var ere=function(n){$e(e,n);function e(){return n.call(this,"Mtcnn")||this}return e.prototype.load=function(t){return Re(this,void 0,void 0,function(){return De(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,n.prototype.load.call(this,t)]})})},e.prototype.loadFromDisk=function(t){return Re(this,void 0,void 0,function(){return De(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,n.prototype.loadFromDisk.call(this,t)]})})},e.prototype.forwardInput=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i,o,a,s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S;return De(this,function(_){switch(_.label){case 0:if(i=this.params,!i)throw new Error("Mtcnn - load model before inference");if(o=t.canvases[0],!o)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},s=Date.now(),l=_e(function(){return Fne(Wr(J1.fromPixels(o)).toFloat())}),c=function(A){return l.dispose(),a.total=Date.now()-s,A},u=l.shape.slice(1),d=u[0],h=u[1],f=new wI(r),p=f.minFaceSize,m=f.scaleFactor,b=f.maxNumScales,g=f.scoreThresholds,v=f.scaleSteps,x=(v||Vne(p,m,[d,h])).filter(function(A){var D=lx(A,[d,h]);return Math.min(D.width,D.height)>Fp}).slice(0,b),a.scales=x,a.pyramid=x.map(function(A){return lx(A,[d,h])}),y=Date.now(),[4,Yne(l,x,g[0],i.pnet,a)];case 1:return w=_.sent(),a.total_stage1=Date.now()-y,w.boxes.length?(a.stage2_numInputBoxes=w.boxes.length,y=Date.now(),[4,Zne(o,w.boxes,g[1],i.rnet,a)]):[2,c({results:[],stats:a})];case 2:return E=_.sent(),a.total_stage2=Date.now()-y,E.boxes.length?(a.stage3_numInputBoxes=E.boxes.length,y=Date.now(),[4,Qne(o,E.boxes,g[2],i.onet,a)]):[2,c({results:[],stats:a})];case 3:return C=_.sent(),a.total_stage3=Date.now()-y,S=C.boxes.map(function(A,D){return cw(tw({},new to(C.scores[D],new ew(A.left/h,A.top/d,A.width/h,A.height/d),{height:d,width:h})),new Rte(C.points[D].map(function(I){return I.sub(new ct(A.left,A.top)).div(new ct(A.width,A.height))}),{width:A.width,height:A.height}))}),[2,c({results:S,stats:a})]}})})},e.prototype.forward=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,kn(t)];case 1:return[4,i.apply(this,[o.sent(),r])];case 2:return[2,o.sent().results]}})})},e.prototype.forwardWithStats=function(t,r){return r===void 0&&(r={}),Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return i=this.forwardInput,[4,kn(t)];case 1:return[2,i.apply(this,[o.sent(),r])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(t){return Wne(t)},e.prototype.extractParams=function(t){return Une(t)},e}(jo),tre=.4,nre=[new ct(1.603231,2.094468),new ct(6.041143,7.080126),new ct(2.882459,3.518061),new ct(4.266906,5.178857),new ct(9.041765,10.66308)],rre=[117.001,114.697,97.404],ire=function(n){$e(e,n);function e(){var t=this,r={withSeparableConvs:!0,iouThreshold:tre,classes:["face"],anchors:nre,meanRgb:rre,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t=n.call(this,r)||this,t}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,r){return Re(this,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.detect(t,r)];case 1:return i=o.sent(),[2,i.map(function(a){return new to(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(t){return n.prototype.extractParamsFromWeigthMap.call(this,t)},e}(_I),Zn={ssdMobilenetv1:new kI,tinyFaceDetector:new ire,tinyYolov2:new Nne,mtcnn:new ere,faceLandmark68Net:new mI,faceLandmark68TinyNet:new ane,faceRecognitionNet:new fne,faceExpressionNet:new qte,ageGenderNet:new nne},TI=function(n){$e(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.extractedFaces=i,o}return e}(th),gw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i=this;return De(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,hg(t,this.input,function(a){return Re(i,void 0,void 0,function(){return De(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(l){return Zn.faceExpressionNet.predictExpressions(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,t.map(function(a,s){return hI(a,r[s])})]}})})},e.prototype.withAgeAndGender=function(){return new yw(this,this.input)},e}(TI),bw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),t?[4,fw(t,this.input,function(o){return Zn.faceExpressionNet.predictExpressions(o)},this.extractedFaces)]:[2];case 2:return r=i.sent(),[2,hI(t,r)]}})})},e.prototype.withAgeAndGender=function(){return new ww(this,this.input)},e}(TI),vw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new kw(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Cw(this,this.input)},e}(gw),xw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new _w(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Ew(this,this.input)},e}(bw),AI=function(n){$e(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.extractedFaces=i,o}return e}(th),yw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i=this;return De(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,hg(t,this.input,function(a){return Re(i,void 0,void 0,function(){return De(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(l){return Zn.ageGenderNet.predictAgeAndGender(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,t.map(function(a,s){var l=r[s],c=l.age,u=l.gender,d=l.genderProbability;return xI(yI(a,u,d),c)})]}})})},e.prototype.withFaceExpressions=function(){return new gw(this,this.input)},e}(AI),ww=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a;return De(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?[4,fw(t,this.input,function(l){return Zn.ageGenderNet.predictAgeAndGender(l)},this.extractedFaces)]:[2];case 2:return r=s.sent(),i=r.age,o=r.gender,a=r.genderProbability,[2,xI(yI(t,o,a),i)]}})})},e.prototype.withFaceExpressions=function(){return new bw(this,this.input)},e}(AI),kw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new vw(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Cw(this,this.input)},e}(yw),_w=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new xw(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Ew(this,this.input)},e}(ww),II=function(n){$e(e,n);function e(t,r){var i=n.call(this)||this;return i.parentTask=t,i.input=r,i}return e}(th),Cw=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),[4,hg(t,this.input,function(o){return Promise.all(o.map(function(a){return Zn.faceRecognitionNet.computeFaceDescriptor(a)}))},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=i.sent(),[2,r.map(function(o,a){return vI(t[a],o)})]}})})},e.prototype.withFaceExpressions=function(){return new vw(this,this.input)},e.prototype.withAgeAndGender=function(){return new kw(this,this.input)},e}(II),Ew=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),t?[4,fw(t,this.input,function(o){return Zn.faceRecognitionNet.computeFaceDescriptor(o)},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=i.sent(),[2,vI(t,r)]}})})},e.prototype.withFaceExpressions=function(){return new xw(this,this.input)},e.prototype.withAgeAndGender=function(){return new _w(this,this.input)},e}(II),RI=function(n){$e(e,n);function e(t,r,i){var o=n.call(this)||this;return o.parentTask=t,o.input=r,o.useTinyLandmarkNet=i,o}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Zn.faceLandmark68TinyNet:Zn.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(th),ore=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a,s=this;return De(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return t=l.sent(),r=t.map(function(c){return c.detection}),this.input instanceof It?[4,ow(this.input,r)]:[3,3];case 2:return o=l.sent(),[3,5];case 3:return[4,iw(this.input,r)];case 4:o=l.sent(),l.label=5;case 5:return i=o,[4,Promise.all(i.map(function(c){return s.landmarkNet.detectLandmarks(c)}))];case 6:return a=l.sent(),i.forEach(function(c){return c instanceof It&&c.dispose()}),[2,t.map(function(c,u){return cw(c,a[u])})]}})})},e.prototype.withFaceExpressions=function(){return new vw(this,this.input)},e.prototype.withAgeAndGender=function(){return new kw(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Cw(this,this.input)},e}(RI),are=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o,a;return De(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?(r=t.detection,this.input instanceof It?[4,ow(this.input,[r])]:[3,3]):[2];case 2:return o=s.sent(),[3,5];case 3:return[4,iw(this.input,[r])];case 4:o=s.sent(),s.label=5;case 5:return i=o,[4,this.landmarkNet.detectLandmarks(i[0])];case 6:return a=s.sent(),i.forEach(function(l){return l instanceof It&&l.dispose()}),[2,cw(t,a)]}})})},e.prototype.withFaceExpressions=function(){return new xw(this,this.input)},e.prototype.withAgeAndGender=function(){return new _w(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Ew(this,this.input)},e}(RI),DI=function(n){$e(e,n);function e(t,r){r===void 0&&(r=new dg);var i=n.call(this)||this;return i.input=t,i.options=r,i}return e}(th),OI=function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r,i,o;return De(this,function(a){switch(a.label){case 0:return t=this,r=t.input,i=t.options,i instanceof wI?[4,Zn.mtcnn.forward(r,i)]:[3,2];case 1:return[2,a.sent().map(function(s){return s.detection})];case 2:if(o=i instanceof CI?function(s){return Zn.tinyFaceDetector.locateFaces(s,i)}:i instanceof dg?function(s){return Zn.ssdMobilenetv1.locateFaces(s,i)}:i instanceof hw?function(s){return Zn.tinyYolov2.locateFaces(s,i)}:null,!o)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,o(r)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(r){return Re(t,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return i=o.sent(),[2,r(i.map(function(a){return tw({},a)}))]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new ore(this.runAndExtendWithFaceDetections(),this.input,t)},e.prototype.withFaceExpressions=function(){return new gw(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new yw(this.runAndExtendWithFaceDetections(),this.input)},e}(DI);(function(n){$e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.run=function(){return Re(this,void 0,void 0,function(){var t,r;return De(this,function(i){switch(i.label){case 0:return[4,new OI(this.input,this.options)];case 1:return t=i.sent(),r=t[0],t.forEach(function(o){o.score>r.score&&(r=o)}),[2,r]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(r){return Re(t,void 0,void 0,function(){var i;return De(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return i=o.sent(),[2,r(i?tw({},i):void 0)]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new are(this.runAndExtendWithFaceDetection(),this.input,t)},e.prototype.withFaceExpressions=function(){return new bw(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new ww(this.runAndExtendWithFaceDetection(),this.input)},e})(DI);function sre(n,e){return e===void 0&&(e=new dg),new OI(n,e)}function MI(n,e){if(n.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var t=Array.from(n),r=Array.from(e);return Math.sqrt(t.map(function(i,o){return i-r[o]}).reduce(function(i,o){return i+Math.pow(o,2)},0))}(function(){function n(e,t){t===void 0&&(t=.6),this._distanceThreshold=t;var r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var i=1,o=function(){return"person "+i++};this._labeledDescriptors=r.map(function(a){if(a instanceof qh)return a;if(a instanceof Float32Array)return new qh(o(),[a]);if(a.descriptor&&a.descriptor instanceof Float32Array)return new qh(o(),[a.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(n.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),n.prototype.computeMeanDistance=function(e,t){return t.map(function(r){return MI(r,e)}).reduce(function(r,i){return r+i},0)/(t.length||1)},n.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(r){var i=r.descriptors,o=r.label;return new e4(o,t.computeMeanDistance(e,i))}).reduce(function(r,i){return r.distance<i.distance?r:i})},n.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new e4("unknown",t.distance)},n.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},n.fromJSON=function(e){var t=e.labeledDescriptors.map(function(r){return qh.fromJSON(r)});return new n(t,e.distanceThreshold)},n})();const ib="/models";async function lre(){await Zn.tinyFaceDetector.loadFromUri(ib),await Zn.faceLandmark68Net.loadFromUri(ib),await Zn.faceRecognitionNet.loadFromUri(ib)}async function a4(n){const e=await sre(n,new CI).withFaceLandmarks().withFaceDescriptors();if(e.length===0)throw new Error("No faces detected");if(e.length>1)throw new Error("Multiple faces detected");return{descriptor:e[0].descriptor,landmarks:e[0].landmarks}}function cre(n,e){return MI(n,e)}const ure=({initialEnabled:n=!1,onToggleChange:e,disabled:t})=>{const[r,i]=K.useState(n),[o,a]=K.useState(null),[s,l]=K.useState(!1),[c,u]=K.useState(!1),[d,h]=K.useState(""),[f,p]=K.useState(!1),[m,b]=K.useState(!1),g=K.useRef(null),v=K.useRef(null);K.useEffect(()=>{(async()=>{try{await lre(),b(!0)}catch(A){console.error("Failed to load face models:",A),h("Failed to initialize face recognition"),u(!0)}})(),n&&x()},[]);const x=async()=>{try{const{data:{user:_},error:A}=await me.auth.getUser();if(A||!_)return;const{data:D,error:I}=await me.from("user_facial_enrollments").select("storage_path, face_descriptor").eq("user_id",_.id).single();if(I||!(D!=null&&D.storage_path)||!D.face_descriptor)return;const{data:M,error:T}=await me.storage.from("facial-recognition").createSignedUrl(D.storage_path,3600);if(T||!M)throw new Error("Failed to generate signed URL");const B=M.signedUrl;if(!(await fetch(B)).ok)throw new Error("Image not found in storage");const z=new Image;if(z.src=B,await new Promise((U,P)=>{z.onload=U,z.onerror=P}),m){const{descriptor:U}=await a4(z),P=new Float32Array(D.face_descriptor);if(cre(U,P)>.5)throw new Error("Face verification failed")}a(B),i(!0),e(!0)}catch(_){console.error("Photo check error:",_),h("Face verification failed. Please re-register."),u(!0);try{const{data:{user:A}}=await me.auth.getUser();A&&await me.from("user_facial_enrollments").delete().eq("user_id",A.id)}catch(A){console.error("Cleanup failed:",A)}}},y=async()=>{if(!g.current||!v.current||!m)return;const _=g.current,A=v.current,D=A.getContext("2d");if(D){A.width=_.videoWidth,A.height=_.videoHeight,D.drawImage(_,0,0,A.width,A.height);try{const{descriptor:I}=await a4(A);A.toBlob(async M=>{M&&await w(M,I),_.srcObject&&_.srcObject.getTracks().forEach(T=>T.stop()),p(!1)},"image/jpeg",.9)}catch(I){console.error("Face detection error:",I),h(I instanceof Error?I.message:"Face detection failed"),u(!0)}}},w=async(_,A)=>{l(!0);try{const{data:{user:D},error:I}=await me.auth.getUser();if(I||!D)throw new Error((I==null?void 0:I.message)||"Not authenticated");const M="profile_".concat(Date.now(),".jpg"),T="".concat(D.id,"/").concat(M),{error:B}=await me.storage.from("facial-recognition").upload(T,_,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(B)throw B;const{error:L}=await me.from("user_facial_enrollments").upsert({user_id:D.id,storage_path:T,face_descriptor:Array.from(A)},{onConflict:"user_id"});if(L)throw L;const{data:{publicUrl:z}}=me.storage.from("facial-recognition").getPublicUrl(T);a(z),i(!0),e(!0),h("Face registered successfully!"),u(!0)}catch(D){console.error("Upload error:",D),h("Upload failed: ".concat(D instanceof Error?D.message:"Unknown error")),u(!0),i(!1),e(!1)}finally{l(!1)}},E=async _=>{const A=_.detail.checked;if(r&&!A){i(!1),a(null),e(!1);try{const{data:{user:D}}=await me.auth.getUser();if(D){const{data:I}=await me.from("user_facial_enrollments").select("storage_path").eq("user_id",D.id).single();await me.from("user_facial_enrollments").delete().eq("user_id",D.id),I!=null&&I.storage_path&&await me.storage.from("facial-recognition").remove([I.storage_path])}}catch(D){console.error("Cleanup error:",D)}return}A&&!o&&await C()},C=async()=>{try{p(!0);const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});g.current&&(g.current.srcObject=_,g.current.play())}catch(_){console.error("Camera error:",_),h("Please enable camera permissions"),u(!0),i(!1),e(!1),p(!1)}},S=()=>{var _;(_=g.current)!=null&&_.srcObject&&(g.current.srcObject.getTracks().forEach(A=>A.stop()),g.current.srcObject=null),p(!1),o||(i(!1),e(!1))};return k.jsxs("div",{className:"ion-padding",children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[k.jsx(gn,{children:k.jsx("strong",{children:"Profile Photo"})}),s?k.jsx(ja,{name:"crescent"}):k.jsx(gm,{checked:r,onIonChange:E,disabled:s||t})]}),o&&k.jsx(er,{children:k.jsx(Qn,{children:k.jsx(_a,{children:k.jsx(vi,{className:"ion-align-items-center ion-justify-content-center",children:k.jsxs(Rr,{size:"12",className:"ion-text-center",children:[k.jsx(mm,{src:o,style:{width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover"},onError:()=>{h("Photo failed to load. Please refresh."),u(!0),a(null),i(!1),e(!1)}}),k.jsx(Dn,{color:"success",children:k.jsx("p",{children:"Facial credential saved"})})]})})})})}),k.jsxs(Io,{isOpen:f,onDidDismiss:S,children:[k.jsx(xn,{children:k.jsx(yn,{color:"primary",children:k.jsx(Wn,{children:"Take Profile Photo"})})}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"500px",transform:"scaleX(-1)"}}),k.jsx("canvas",{ref:v,style:{display:"none"}})]}),k.jsx(T$,{children:k.jsxs(yn,{children:[k.jsxs(je,{expand:"block",onClick:y,color:"primary",children:[k.jsx(Ye,{icon:Tq,slot:"start"}),"Take Photo"]}),k.jsxs(je,{expand:"block",color:"danger",onClick:S,children:[k.jsx(Ye,{icon:Gm,slot:"start"}),"Cancel"]})]})})]}),k.jsx(Fa,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:3e3,position:"top"})]})},dre=({initialEnabled:n,onToggleChange:e,disabled:t})=>{const[r,i]=K.useState(n),[o,a]=K.useState(""),[s,l]=K.useState(!1),[c,u]=K.useState(!1),[d,h]=K.useState(""),[f,p]=K.useState("success"),[m,b]=K.useState(!1);K.useEffect(()=>{g()},[]),K.useEffect(()=>{i(n)},[n]);const g=async()=>{try{l(!0);const{data:{user:w},error:E}=await me.auth.getUser();if(E||!w){console.log("No authenticated user");return}const{data:C,error:S}=await me.from("user_voice_passwords").select("password").eq("user_id",w.id).single();if(S||!C){console.log("No existing voice password found");return}a(C.password),b(!0),i(!0),e(!0)}catch(w){console.error("Error checking for voice password:",w)}finally{l(!1)}},v=async w=>{!w&&m?await y():(a(""),i(w),e(w))},x=async()=>{if(!o.trim()){h("Please enter a voice password"),p("warning"),u(!0);return}l(!0);try{const{data:{user:w},error:E}=await me.auth.getUser();if(E||!w)throw new Error((E==null?void 0:E.message)||"Not authenticated");const{error:C}=await me.from("user_voice_passwords").upsert({user_id:w.id,password:o},{onConflict:"user_id"});if(C)throw C;h("Voice password saved successfully"),p("success"),i(!0),b(!0),e(!0)}catch(w){console.error("Error saving voice password:",w),h("Failed to save voice password"),p("danger"),i(!1),e(!1)}finally{l(!1),u(!0)}},y=async()=>{l(!0);try{const{data:{user:w}}=await me.auth.getUser();w&&await me.from("user_voice_passwords").delete().eq("user_id",w.id),a(""),i(!1),b(!1),e(!1),h("Voice password removed"),p("success"),u(!0)}catch(w){console.error("Error removing voice password:",w),h("Failed to remove voice password"),p("danger"),u(!0)}finally{l(!1)}};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[k.jsx(gn,{style:{marginLeft:"1rem"},children:k.jsx("strong",{children:"Enable Voice Password"})}),s?k.jsx(ja,{style:{marginLeft:"1rem"},name:"crescent"}):k.jsx(gm,{style:{marginLeft:"1rem"},checked:r,onIonChange:w=>v(w.detail.checked),disabled:t||s})]}),r&&k.jsx(er,{style:{width:"100%",maxWidth:"400px",marginLeft:"1rem"},children:k.jsx(Qn,{children:m?k.jsxs(k.Fragment,{children:[k.jsx(Ht,{label:"Your voice password is saved",labelPlacement:"floating",value:"********",disabled:!0,type:"password"}),k.jsx("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:k.jsx(je,{color:"danger",onClick:y,disabled:s||t,children:"Remove Voice Password"})})]}):k.jsxs(k.Fragment,{children:[k.jsx(Ht,{label:"Enter voice password",labelPlacement:"floating",value:o,onIonChange:w=>a(w.detail.value),disabled:s||t,type:"password"}),k.jsxs("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:[k.jsx(je,{onClick:x,disabled:s||t||!o.trim(),children:s?"Saving...":"Submit"}),k.jsx(je,{fill:"outline",color:"danger",onClick:y,disabled:s||t,children:"Cancel"})]})]})})}),k.jsx(Fa,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:2e3,color:f,position:"top"})]})},hre=()=>{const[n,e]=K.useState(!1),[t,r]=K.useState([]),[i,o]=K.useState(!1),[a,s]=K.useState(""),[l,c]=K.useState(!1),[u,d]=K.useState(!1),[h,f]=K.useState(!1),[p,m]=FK(),[b,g]=K.useState(null),[v,x]=K.useState(!0),[y,w]=K.useState(null);K.useEffect(()=>{(async()=>{var L;try{const{data:{user:z},error:U}=await me.auth.getUser();if(U)throw U;if(z){g(z);const{data:P,error:$}=await me.from("recovery_codes").select("code_hash, code_status").eq("user_id",z.id).eq("code_status","active");if($)throw $;const{count:F}=await me.from("totp_codes").select("*",{count:"exact",head:!0}).eq("user_id",z.id).is("used_at",null),{data:N}=await me.storage.from("facial-recognition").list("".concat(z.id,"/")),{data:ee}=await me.from("voice_passwords").select("*").eq("user_id",z.id).is("verified_at",null).single(),X=(F!=null?F:0)>0,J=(L=N==null?void 0:N.some(we=>we.name==="profile.jpg"))!=null?L:!1,be=ee!==null;P&&r(P),e(P&&P.length>0||X||J||be),w(X?"totp":J?"facial":be?"voice":null)}}catch(z){console.error("Error checking MFA status:",z),s("Failed to load MFA status"),c(!0)}finally{x(!1)}})()},[]);const E=async B=>{const L=Array.from({length:5},()=>Math.floor(1e7+Math.random()*9e7).toString()),{data:z,error:U}=await me.from("recovery_codes").insert(L.map(P=>({user_id:B,code_hash:P,code_status:"active"}))).select("code_hash, code_status");if(U)throw U;return z||[]},C=async B=>{const{error:L}=await me.from("recovery_codes").delete().eq("user_id",B);if(L)throw L},S=async B=>{if(B.detail.checked)if(t.length===0)try{f(!0);const z=await E((b==null?void 0:b.id)||"");r(z),e(!0),s("MFA enabled with recovery codes!"),c(!0)}catch(z){s("Failed to enable MFA"),c(!0)}finally{f(!1)}else e(!0);else d(!0)},_=async B=>{if(d(!1),!!b){f(!0);try{await C(b.id);const{error:L,count:z}=await me.from("user_totp").delete({count:"exact"}).eq("user_id",b.id);if(L)throw L;console.log("Deleted ".concat(z||0," TOTP records"));const{error:U}=await me.from("user_facial_enrollments").delete().eq("user_id",b.id);if(U)throw U;try{const{data:$,error:F}=await me.storage.from("facial-recognition").list(b.id);if(F)throw F;if($&&$.length>0){const N=$.map(X=>"".concat(b.id,"/").concat(X.name)),{error:ee}=await me.storage.from("facial-recognition").remove(N);if(ee)throw ee;console.log("Deleted ".concat(N.length," facial recognition files"))}}catch($){console.error("Facial storage cleanup error:",$)}const{error:P}=await me.from("user_voice_passwords").delete().eq("user_id",b.id);if(P)throw P;r([]),e(!1),w(null),s("All MFA methods disabled successfully!"),c(!0),await me.from("audit_logs").insert({user_id:b.id,action:"mfa_disabled",details:{methods:["totp","recovery_codes","facial","voice"]}})}catch(L){console.error("Error disabling MFA:",L),s(L.message||"Failed to completely disable MFA. Some elements may remain active."),c(!0)}finally{f(!1)}}},A=async B=>{if(B){if(w("totp"),e(!0),t.length===0)try{const L=await E((b==null?void 0:b.id)||"");r(L)}catch(L){s("Failed to generate recovery codes"),c(!0)}}else y==="totp"&&w(null)},D=async B=>{if(B){if(w("facial"),e(!0),t.length===0)try{const L=await E((b==null?void 0:b.id)||"");r(L)}catch(L){s("Failed to generate recovery codes"),c(!0)}}else y==="facial"&&w(null)},I=async B=>{if(B){if(w("voice"),e(!0),t.length===0)try{const L=await E((b==null?void 0:b.id)||"");r(L)}catch(L){s("Failed to generate recovery codes"),c(!0)}}else y==="voice"&&w(null)},M=()=>{const B=t.map(L=>L.code_hash).join("\n");m(B),o(!0),setTimeout(()=>o(!1),2e3)},T=async()=>{if(b){f(!0);try{await C(b.id);const B=await E(b.id);r(B),s("Recovery codes regenerated!"),c(!0)}catch(B){console.error("Error regenerating codes:",B),s(B.message||"Failed to regenerate codes"),c(!0)}finally{f(!1)}}};return v?k.jsx(Bt,{className:"ion-padding",children:k.jsx(ja,{name:"crescent"})}):k.jsxs(Bt,{className:"ion-padding",children:[k.jsx(er,{children:k.jsx(Qn,{children:k.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1px"},children:k.jsxs("div",{style:{flexGrow:1},children:[k.jsx("h2",{style:{margin:0},children:"Multi-Factor Authentication"}),k.jsx("p",{style:{margin:0,fontSize:"0.9em",color:"#666"},children:"Add an extra layer of security to your account"}),k.jsx(gm,{checked:n,onIonChange:S,disabled:h})]})})})}),n&&k.jsxs(k.Fragment,{children:[t.length>0&&k.jsxs(er,{children:[k.jsxs($y,{children:[k.jsx(Fl,{children:"Your Recovery Codes"}),k.jsxs(je,{expand:"block",onClick:T,color:"warning",disabled:h,children:[k.jsx(Ye,{slot:"start",icon:Wq}),"Regenerate All Codes"]})]}),k.jsxs(Qn,{children:[k.jsx(Dn,{color:"medium",children:k.jsx("p",{children:"Save these codes in a secure place. Each code can be used only once."})}),k.jsx(O5,{lines:"full",className:"ion-margin-vertical",children:t.map((B,L)=>k.jsx(Yn,{children:k.jsxs(gn,{children:[k.jsx("h3",{children:B.code_hash}),k.jsxs("p",{children:["Status: ",B.code_status]})]})},L))}),k.jsxs(je,{expand:"block",onClick:M,color:"primary",children:[k.jsx(Ye,{slot:"start",icon:i?Aq:q6}),i?"Copied!":"Copy All Codes"]})]})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0px",marginTop:"10px"},children:[k.jsx($K,{userId:(b==null?void 0:b.id)||"",initialEnabled:y==="totp",onToggleChange:A,disabled:!1}),k.jsx(ure,{initialEnabled:y==="facial",onToggleChange:D,disabled:!1}),k.jsx(dre,{initialEnabled:y==="voice",onToggleChange:I,disabled:!1})]})]}),k.jsx(Na,{isOpen:u,onDidDismiss:()=>d(!1),header:"Disable MFA?",message:"Are you sure you want to disable Multi-Factor Authentication? This will make your account less secure.",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:()=>_()}]}),k.jsx(Fa,{isOpen:l,onDidDismiss:()=>c(!1),message:a,duration:3e3,position:"top"})]})},fre=()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[u,d]=K.useState(""),[h,f]=K.useState(""),[p,m]=K.useState(null),[b,g]=K.useState(null),[v,x]=K.useState(!1),[y,w]=K.useState(""),[E,C]=K.useState(!1),[S,_]=K.useState(!0),A=l1();K.useEffect(()=>(console.log("EditProfile component mounted"),(async()=>{_(!0),console.log("Starting to fetch session and user data...");try{const{data:L,error:z}=await me.auth.getSession();if(console.log("Session data:",L),console.log("Session error:",z),z||!(L!=null&&L.session)){console.error("No valid session found:",z),w("You must be logged in to access this page."),x(!0),A.push("/Cephaline-Supabase/login");return}console.log("Fetching user data for email:",L.session.user.email);const{data:U,error:P}=await me.from("users").select("user_firstname, user_lastname, user_avatar_url, user_email, username").eq("user_email",L.session.user.email).single();if(console.log("User data:",U),console.log("User error:",P),P||!U){console.error("Failed to fetch user data:",P),w("Failed to load user data. Please try again."),x(!0);return}c(U.user_firstname||""),d(U.user_lastname||""),g(U.user_avatar_url),e(U.user_email||""),f(U.username||""),console.log("User data set in state")}catch(L){console.error("Error in fetchSessionAndData:",L),w("An unexpected error occurred. Please try again."),x(!0)}finally{_(!1),console.log("Finished loading user data")}})(),()=>{console.log("Component unmounting - cleaning up"),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Revoked blob URL"))}),[A]);const D=B=>{var z;console.log("Avatar input changed");const L=(z=B.target.files)==null?void 0:z[0];if(L){console.log("File selected:",L.name,L.size,L.type),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Previous blob URL revoked")),m(L);const U=URL.createObjectURL(L);g(U),console.log("New preview URL created:",U)}else console.log("No file selected")},I=()=>(console.log("Validating form..."),i&&i!==a?(console.log("Validation failed: Passwords dont match"),w("Passwords don't match."),!1):i&&!t?(console.log("Validation failed: Current password required"),w("Please enter your current password to change your password."),!1):!l||!u?(console.log("Validation failed: Missing name fields"),w("First name and last name are required."),!1):(console.log("Form validation passed"),!0)),M=async B=>{if(!p)return b;if(console.log("Starting avatar upload for user:",B),p.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(p.type))throw new Error("Only JPG, PNG, GIF, or WebP images are allowed");const z=p.name.split(".").pop(),U="avatar.".concat(z),P="".concat(B,"/").concat(U);try{if(b&&b.includes("user-avatars"))try{const N=b.split("user-avatars/")[1].split("?")[0];await me.storage.from("user-avatars").remove([N])}catch(N){console.warn("Could not delete old avatar:",N)}const{error:$}=await me.storage.from("user-avatars").upload(P,p,{cacheControl:"3600",upsert:!0,contentType:p.type});if($)throw $;const{data:{publicUrl:F}}=me.storage.from("user-avatars").getPublicUrl(P,{transform:{width:200,height:200,resize:"cover",quality:80}});return F}catch($){throw console.error("Avatar upload failed:",$),new Error("Failed to upload avatar. Please try again.")}},T=async()=>{if(console.log("Update button clicked"),!I()){console.log("Validation failed - showing alert"),x(!0);return}C(!0),console.log("Starting update process...");try{const{data:B,error:L}=await me.auth.getSession();if(console.log("Current session:",B),console.log("Session error:",L),L||!(B!=null&&B.session)){console.error("No valid session found"),w("Session expired. Please log in again."),x(!0),A.push("/Cephaline-Supabase/login");return}const z=B.session.user;if(console.log("User ID:",z.id),console.log("User email:",z.email),!z.email||!z.id){console.error("Incomplete user information"),w("User information is incomplete. Please log in again."),x(!0);return}if(i){console.log("Password change requested - verifying current password");const{error:$}=await me.auth.signInWithPassword({email:z.email,password:t});if(console.log("Password verification result:",$),$){console.error("Current password verification failed"),w("Incorrect current password."),x(!0);return}}let U=b;try{console.log("Processing avatar upload..."),U=await M(z.id),console.log("Avatar URL after upload:",U)}catch($){console.error("Avatar upload error:",$),w($ instanceof Error?$.message:"Failed to upload avatar"),x(!0);return}console.log("Updating user profile in database...");const{error:P}=await me.from("users").update({user_firstname:l,user_lastname:u,user_avatar_url:U,username:h}).eq("user_email",z.email);if(console.log("Profile update result:",P),P){console.error("Profile update failed:",P),w("Profile update failed: ".concat(P.message)),x(!0);return}if(i){console.log("Updating password...");const{error:$}=await me.auth.updateUser({password:i});if(console.log("Password update result:",$),$){console.error("Password update failed:",$),w("Password update failed: ".concat($.message)),x(!0);return}}console.log("Profile update successful!"),w("Profile updated successfully!"),x(!0),setTimeout(()=>{console.log("Navigating back to app..."),A.push("/Cephaline-Supabase/app")},1500)}catch(B){console.error("Update error:",B),w("An unexpected error occurred. Please try again."),x(!0)}finally{C(!1),console.log("Update process completed")}};return k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(Hn,{slot:"start",children:k.jsx(sd,{defaultHref:"/Cephaline-Supabase/app"})})}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsx(fp,{isOpen:S,message:"Loading profile..."}),k.jsx(Yn,{children:k.jsx(Dn,{color:"secondary",children:k.jsx("h1",{children:"Edit Account"})})}),k.jsx("br",{}),k.jsx(AK,{avatarPreview:b,handleAvatarChange:D}),k.jsx(IK,{username:h,firstName:l,lastName:u,setUsername:f,setFirstName:c,setLastName:d}),k.jsx(RK,{password:i,confirmPassword:a,currentPassword:t,setPassword:o,setConfirmPassword:s,setCurrentPassword:r}),k.jsx(je,{expand:"full",onClick:T,shape:"round",disabled:E,children:E?"Updating...":"Update Account"}),k.jsx(hre,{}),k.jsx(Na,{isOpen:v,onDidDismiss:()=>x(!1),message:y,buttons:["OK"]})]})]})},pre=({markdownContent:n,onContentChange:e})=>k.jsx(er,{style:{height:"400px",margin:"0 0 20px 0"},children:k.jsx(Qn,{style:{height:"100%",padding:"0"},children:k.jsx(Uy,{value:n,placeholder:"Write your journal entry (supports Markdown formatting)...",autoGrow:!0,rows:6,onIonChange:t=>e(t.detail.value),style:{height:"100%",fontSize:"14px",padding:"10px"}})})}),mre=({onSave:n,disabled:e,loading:t})=>k.jsx(je,{onClick:n,disabled:e||t,expand:"block",children:t?k.jsxs(k.Fragment,{children:[k.jsx(ja,{name:"crescent"}),"Saving..."]}):"Save Page"}),gre=({selectedMood:n,onMoodChange:e})=>{const t=[{level:"angry",display:"Angry",min:0,max:20,color:"#F44336",icon:Cq},{level:"sad",display:"Sad",min:20,max:40,color:"#FF9800",icon:qq},{level:"neutral",display:"Neutral",min:40,max:60,color:"#FFC107",icon:Vq},{level:"happy",display:"Happy",min:60,max:80,color:"#8BC34A",icon:Mq},{level:"love",display:"Super Happy",min:80,max:100,color:"#4CAF50",icon:Pq}],[r,i]=K.useState(n&&t.findIndex(c=>c.level===n)*20+10||50),a=t.find(u=>r>=u.min&&r<=u.max)||t[2],s=c=>{i(c);const u=t.find(d=>c>=d.min&&c<=d.max)||t[2];e(u.level)},l=c=>{const u=c*20+10;i(u),e(t[c].level)};return k.jsxs(Yn,{lines:"none",style:{flexDirection:"column",alignItems:"flex-start",width:"100%",margin:"30px 0 50px 0",padding:"0 16px","--inner-padding-end":"0"},children:[k.jsx(gn,{children:"Mood Spectrum"}),k.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"8px 0"},children:[k.jsx(Ye,{icon:a.icon,style:{color:a.color,minWidth:"24px"}}),k.jsx(D$,{min:0,max:100,value:r,onIonChange:c=>s(c.detail.value),style:{flex:1,margin:"0 12px","--bar-background":"linear-gradient(to right, \n              ".concat(t.map(c=>"".concat(c.color," ").concat(c.min,"%, ").concat(c.color," ").concat(c.max,"%")).join(", "))}}),k.jsx(Ye,{icon:a.icon,style:{color:a.color,minWidth:"24px"}})]}),k.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",gap:"8px",marginTop:"8px"},children:t.map((c,u)=>k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",flex:"1 0 calc(20% - 8px)",minWidth:"60px"},onClick:()=>l(u),children:[k.jsx(Ye,{icon:c.icon,style:{color:c.level===a.level?c.color:"#cccccc",fontSize:"24px",padding:"4px"}}),k.jsx("span",{style:{fontSize:"10px",marginTop:"4px",color:c.level===a.level?c.color:"#666666",textAlign:"center",wordBreak:"break-word"},children:c.display})]},c.level))}),k.jsxs(gn,{style:{fontSize:"14px",marginTop:"12px",color:a.color,fontWeight:"bold",width:"100%",textAlign:"center"},children:["Current Mood: ",a.display]})]})},bre=({onAttach:n,isUploading:e})=>{const[t,r]=K.useState(null),[i,o]=K.useState(!1),[a,s]=K.useState(!1),[l,c]=K.useState(!1),[u,d]=K.useState(""),h=K.useRef(null),[f,p]=K.useState(null),[m,b]=K.useState(null),g=[{id:"link",icon:Bv,label:"Attach Link"},{id:"image",icon:Mv,label:"Attach Image"},{id:"file",icon:U_,label:"Attach File"}],v=_=>{var D;if(e)return;const A=(D=_.target.files)==null?void 0:D[0];A&&(A.type.startsWith("image/")?p(A):b(A))},x=_=>{if(!e)switch(_){case"link":o(!0);break;case"image":s(!0);break;case"file":c(!0);break}},y=()=>{if(e||!u.trim())return;let _=u;/^https?:\/\//i.test(u)||(_="http://"+u),n({type:"link",content:_}),o(!1),d("")},w=()=>{e||!f||(n({type:"image",content:f}),p(null),s(!1))},E=()=>{e||!m||(n({type:"file",content:m}),b(null),c(!1))},C=()=>{o(!1),s(!1),c(!1),d(""),p(null),b(null)},S=_=>{var D;switch((D=_.split(".").pop())==null?void 0:D.toLowerCase()){case"pdf":return k.jsx(Ye,{icon:ru,color:"danger"});case"doc":case"docx":return k.jsx(Ye,{icon:ru,color:"primary"});case"xls":case"xlsx":return k.jsx(Ye,{icon:ru,color:"success"});case"ppt":case"pptx":return k.jsx(Ye,{icon:ru,color:"warning"});default:return k.jsx(Ye,{icon:ru})}};return k.jsxs(k.Fragment,{children:[k.jsx(vi,{style:{justifyContent:"flex-start",gap:"8px",padding:"8px"},children:g.map(({id:_,icon:A,label:D})=>k.jsx(Rr,{size:"auto",children:k.jsxs("div",{onMouseEnter:()=>!e&&r(_),onMouseLeave:()=>r(null),style:{position:"relative",display:"inline-block",opacity:e?.6:1},children:[k.jsx(Ye,{icon:A,size:"large",onClick:()=>x(_),style:{cursor:e?"not-allowed":"pointer",padding:"4px"}}),t===_&&k.jsx("div",{style:{position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap",zIndex:1e3,fontSize:"14px"},children:D})]})},_))}),k.jsxs(Io,{isOpen:i,onDidDismiss:C,children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Wn,{children:"Attach Link"}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{onClick:C,children:k.jsx(Ye,{icon:bf})})})]})}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsx(Ht,{value:u,placeholder:"Enter URL (e.g., example.com)",onIonChange:_=>d(_.detail.value),style:{marginBottom:"16px"},disabled:e}),k.jsx(je,{expand:"block",onClick:y,disabled:e||!u.trim(),children:e?"Uploading...":"Attach Link"})]})]}),k.jsxs(Io,{isOpen:a,onDidDismiss:C,children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Wn,{children:"Attach Image"}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{onClick:C,children:k.jsx(Ye,{icon:bf})})})]})}),k.jsx(Bt,{className:"ion-padding",children:k.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[k.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:f?k.jsx("img",{src:URL.createObjectURL(f),alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"}}):k.jsxs(k.Fragment,{children:[k.jsx(Ye,{icon:Mv,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),k.jsx(Dn,{color:"medium",children:k.jsx("p",{children:"Drag and drop images here or"})}),k.jsx(je,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var _;return!e&&((_=h.current)==null?void 0:_.click())},disabled:e,children:"Select Image"}),k.jsx("input",{type:"file",accept:"image/*",ref:h,style:{display:"none"},onChange:v,disabled:e})]})}),k.jsx(je,{expand:"block",onClick:w,disabled:e||!f,children:e?"Uploading...":"Attach Image"})]})})]}),k.jsxs(Io,{isOpen:l,onDidDismiss:C,children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Wn,{children:"Attach File"}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{onClick:C,children:k.jsx(Ye,{icon:bf})})})]})}),k.jsx(Bt,{className:"ion-padding",children:k.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[k.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:m?k.jsxs(Yn,{lines:"none",style:{width:"100%"},children:[k.jsx(B$,{slot:"start",children:S(m.name)}),k.jsxs(gn,{children:[k.jsx("h3",{children:m.name}),k.jsxs("p",{children:[(m.size/1024).toFixed(2)," KB"]})]})]}):k.jsxs(k.Fragment,{children:[k.jsx(Ye,{icon:U_,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),k.jsx(Dn,{color:"medium",children:k.jsx("p",{children:"Drag and drop files here or"})}),k.jsx(je,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var _;return!e&&((_=h.current)==null?void 0:_.click())},disabled:e,children:"Select File"}),k.jsx("input",{type:"file",ref:h,style:{display:"none"},onChange:v,disabled:e})]})}),k.jsx(je,{expand:"block",onClick:E,disabled:e||!m,children:e?"Uploading...":"Attach File"})]})})]})]})},vre=n=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n),xre=()=>{const n=Da(),{journalId:e}=jm(),t=e!=null&&e.startsWith(":")?e.slice(1):e,[r,i]=K.useState(""),[o,a]=K.useState(""),[s,l]=K.useState(null),[c,u]=K.useState(!1),[d,h]=K.useState(!1),[f,p]=K.useState(!1),[m]=bm();if(!t||!vre(t))return k.jsx(Dr,{children:k.jsx(Bt,{className:"ion-padding",children:k.jsx(er,{color:"danger",children:k.jsx(Qn,{children:"Invalid Journal ID format. Please go back and try again."})})})});const b=async E=>{h(!0);try{const{data:{user:C},error:S}=await me.auth.getUser(),_=C==null?void 0:C.id;if(S||!_)throw new Error("You must be logged in to upload files");const A=Date.now(),D=E.name.replace(/[^a-zA-Z0-9._-]/g,"_"),I="".concat(_,"/").concat(t,"/").concat(A,"_").concat(D),{data:M,error:T}=await me.storage.from("journal-contents").upload(I,E,{cacheControl:"3600",upsert:!1,contentType:E.type});if(T)throw T;const{data:B}=me.storage.from("journal-contents").getPublicUrl(I);return B.publicUrl}catch(C){return m({message:"Upload failed: ".concat(C.message),duration:3e3,color:"danger"}),null}finally{h(!1)}},g=async E=>{try{let C=E.content;if(E.content instanceof File){const S=await b(E.content);if(!S)return;C=S}i(S=>S+"\n".concat(C,"\n"))}catch(C){m({message:"Failed to attach file",duration:3e3,color:"danger"})}},v=E=>{const C=[],S=E.split("\n");for(const _ of S)if(_.trim())try{new URL(_.trim()),C.push({type:"link",content:_.trim()});continue}catch(A){C.push({type:"paragraph",content:_})}return C},x=()=>o.trim()?o.length>100?(m({message:"Title is too long (max 100 characters)",duration:2e3,color:"warning"}),!1):r.trim()?!0:(m({message:"Journal content cannot be empty",duration:2e3,color:"warning"}),!1):(m({message:"Page title cannot be empty",duration:2e3,color:"warning"}),!1),y=async()=>{var E;if(!(!x()||d)){u(!0);try{const{data:C,error:S}=await me.from("journal_pages").select("page_no").eq("journal_id",t).order("page_no",{ascending:!1}).limit(1);if(S)throw S;const _=(E=C==null?void 0:C[0])!=null&&E.page_no?C[0].page_no+1:1,{data:A,error:D}=await me.from("journal_pages").insert({journal_id:t,page_title:o.trim(),page_no:_,mood:s}).select().single();if(D)throw D;const M=v(r).map((B,L)=>({page_id:A.page_id,content_order:L+1,paragraph:B.type==="paragraph"?B.content:null,link:B.type==="link"?B.content:null})),{error:T}=await me.from("journal_page_contents").insert(M);if(T)throw T;m({message:"Journal page saved successfully!",duration:2e3,color:"success"}),i(""),a(""),l(null)}catch(C){m({message:"Failed to save: ".concat(C.message),duration:3e3,color:"danger"})}finally{u(!1)}n.push("/Cephaline-Supabase/app","forward","replace")}},w=async()=>{try{u(!0);const{data:{user:E}}=await me.auth.getUser();if(E){const _="".concat(E.id,"/").concat(t),{error:A}=await me.storage.from("journal-contents").remove([_]);A&&console.error("Error deleting files:",A)}const{error:C}=await me.from("journal_pages").delete().eq("journal_id",t);if(C)throw C;const{error:S}=await me.from("journals").delete().eq("journal_id",t);if(S)throw S;m({message:"Journal deleted successfully",duration:2e3,color:"success"}),n.push("/Cephaline-Supabase/app","forward","replace")}catch(E){m({message:"Failed to delete journal: ".concat(E.message),duration:3e3,color:"danger"})}finally{u(!1),p(!1)}};return k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(yn,{})}),k.jsx(Na,{isOpen:f,onDidDismiss:()=>p(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal and all its contents? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:w}]}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsx(er,{style:{marginBottom:"20px"},children:k.jsxs(Qn,{children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[k.jsx(Hn,{slot:"start",children:k.jsx(sd,{defaultHref:"/Cephaline-Supabase/app/home"})}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{color:"danger",onClick:()=>p(!0),children:k.jsx(Ye,{slot:"icon-only",icon:Jq})})})]}),k.jsxs("p",{children:["Viewing journal entry ",k.jsx("strong",{children:t})]}),k.jsx(Yn,{children:k.jsx(Ht,{value:o,placeholder:"Page Title",onIonChange:E=>a(E.detail.value)})})]})}),k.jsx("h2",{style:{margin:"20px 0"},children:"How are you feeling today?"}),k.jsx(gre,{selectedMood:s,onMoodChange:l}),k.jsx(pre,{markdownContent:r,onContentChange:i}),k.jsx(bre,{onAttach:g,isUploading:d}),k.jsx(mre,{onSave:y,disabled:!o.trim()||!r.trim()||c||d,loading:c})]})]})},yre=({journalId:n,journalTitle:e,journalDescription:t="",onUpdate:r})=>{const i=Da(),[o,a]=K.useState(e||""),[s,l]=K.useState(t||""),[c,u]=K.useState(!1),[d,h]=K.useState(!1),[f,p]=K.useState(!1),[m,b]=K.useState(!1),[g,v]=K.useState(""),[x,y]=K.useState(!1),w=Da();K.useEffect(()=>{a(e||""),l(t||"")},[e,t]);const E=()=>{i.push("/Cephaline-Supabase/app/JournalPage/".concat(n))},C=async()=>{a(e||""),l(t||""),u(!0)},S=async()=>{if(!(o!=null&&o.trim())){v("Title cannot be empty"),b(!0);return}p(!0);try{const{error:A}=await me.from("journals").update({title:o.trim(),description:s.trim(),updated_at:new Date().toISOString()}).eq("journal_id",n);if(A)throw A;v("Journal updated successfully"),b(!0),r&&r(),u(!1)}catch(A){console.error("Error updating journal:",A),v("Failed to update journal"),b(!0)}finally{p(!1)}},_=async()=>{try{const{data:{user:A}}=await me.auth.getUser();if(A){const{data:B,error:L}=await me.storage.from("journal-contents").list("".concat(A.id,"/").concat(n));if(L)throw L;if(B&&B.length>0){const z=B.map(P=>"".concat(A.id,"/").concat(n,"/").concat(P.name)),{error:U}=await me.storage.from("journal-contents").remove(z);if(U)throw U}await me.storage.from("journal-contents").remove(["".concat(A.id,"/").concat(n)])}const{data:D,error:I}=await me.from("journal_pages").select("page_id").eq("journal_id",n);if(I)throw I;if(D&&D.length>0){const B=D.map(z=>z.page_id),{error:L}=await me.from("journal_page_contents").delete().in("page_id",B);if(L)throw L}const{error:M}=await me.from("journal_pages").delete().eq("journal_id",n);if(M)throw M;const{error:T}=await me.from("journals").delete().eq("journal_id",n);if(T)throw T;v("Journal and all contents deleted successfully"),b(!0),setTimeout(()=>{i.push("/Cephaline-Supabase/app/journals")},1e3)}catch(A){console.error("Error deleting journal:",A),v("Failed to delete journal. Please try again."),b(!0)}finally{w.push("/Cephaline-Supabase/app","forward","replace")}};return k.jsxs(k.Fragment,{children:[k.jsx(er,{className:"overview-main-card",children:k.jsx(Qn,{children:k.jsxs("div",{className:"card-actions-container",children:[k.jsxs(je,{size:"small",onClick:E,className:"action-button",children:[k.jsx(Ye,{slot:"start",icon:kq}),"Add Page"]}),k.jsxs(je,{size:"small",color:"medium",onClick:C,className:"action-button",disabled:x,children:[k.jsx(Ye,{slot:"start",icon:Kq}),x?"Loading...":"Settings"]})]})})}),k.jsxs(Io,{isOpen:c,onDidDismiss:()=>u(!1),children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Hn,{slot:"start",children:k.jsx(je,{onClick:()=>u(!1),children:k.jsx(Ye,{slot:"icon-only",icon:Gm})})}),k.jsx(Wn,{children:"Journal Settings"}),k.jsx(Hn,{slot:"end",children:k.jsx(je,{color:"danger",onClick:()=>h(!0),disabled:f,children:k.jsx(Ye,{slot:"icon-only",icon:Zq})})})]})}),k.jsxs(Bt,{className:"ion-padding",children:[k.jsxs(Yn,{children:[k.jsx(gn,{position:"stacked",children:"Title *"}),k.jsx(Ht,{value:o,onIonChange:A=>{var D;return a((D=A.detail.value)!=null?D:"")},placeholder:"Enter new journal title",clearInput:!0})]}),k.jsxs(Yn,{children:[k.jsx(gn,{position:"stacked",children:"Description"}),k.jsx(Uy,{value:s,onIonChange:A=>{var D;return l((D=A.detail.value)!=null?D:"")},placeholder:"Enter new journal description",rows:4,autoGrow:!0})]}),k.jsx("div",{className:"ion-padding-top",children:k.jsx(je,{expand:"block",onClick:S,disabled:!(o!=null&&o.trim())||f,children:f?"Updating...":"Save Changes"})})]})]}),k.jsx(Na,{isOpen:d,onDidDismiss:()=>h(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal? All pages will be permanently deleted.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:_}]}),k.jsx(Fa,{isOpen:m,onDidDismiss:()=>b(!1),message:g,duration:2e3})]})},wre=({journalId:n})=>{const e=Da(),[t]=bm();console.log("OverviewSideCard received journalId:",n);const r=async()=>{if(console.log("Page List button clicked with journalId:",n),!n){console.error("No journalId provided to OverviewSideCard"),await t({message:"Journal ID is missing! Cannot navigate.",duration:2e3,color:"danger",position:"top"});return}const i="/Cephaline-Supabase/app/page-list/".concat(n);console.log("Attempting to navigate to:",i),e.push(i)};return k.jsx(er,{className:"overview-side-card",children:k.jsxs(Qn,{children:[k.jsx("h2",{children:"Journal Navigation"}),k.jsxs(je,{expand:"block",fill:"outline",onClick:r,disabled:!n,style:{zIndex:10},children:[k.jsx(Ye,{icon:Nq,slot:"start"}),"Page List"]})]})})},kre=()=>{const{journalId:n}=jm(),[e,t]=K.useState(""),[r,i]=K.useState(""),[o,a]=K.useState(""),[s,l]=K.useState({titleColor:"#3880ff",descriptionColor:"#555555",cardColor:"#ffffff"}),[c,u]=K.useState(!0),[d,h]=K.useState(""),[f,p]=K.useState(!1),[m,b]=K.useState(null),g=Da();K.useEffect(()=>{n&&(v(),x())},[n]);const v=async()=>{u(!0);try{const{data:w,error:E}=await me.from("journals").select("title, description, created_at, title_color, description_color, card_color").eq("journal_id",n).single();if(E)throw E;t(w.title),i(w.description||""),a(w.created_at),l({titleColor:w.title_color||"#3880ff",descriptionColor:w.description_color||"#555555",cardColor:w.card_color||"#ffffff"})}catch(w){console.error("Error fetching journal:",w),h("Failed to load journal"),p(!0)}finally{u(!1)}},x=async()=>{try{const{data:w,error:E}=await me.from("journal_pages").select("page_id").eq("journal_id",n).order("page_no",{ascending:!0}).limit(1).single();if(E)throw E;b((w==null?void 0:w.page_id)||null)}catch(w){console.error("Error fetching first page:",w)}},y=()=>{m?g.push("/cephaline-supabase/app/JournalPageView/".concat(n,"/").concat(m)):(h("This journal has no pages yet"),p(!0))};return n?k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Hn,{slot:"start",children:k.jsx(M5,{})}),k.jsx(Wn,{children:"Journal Overview"})]})}),k.jsxs(Bt,{fullscreen:!0,children:[k.jsxs("div",{className:"overview-container",style:{padding:"16px"},children:[c?k.jsx(ja,{name:"crescent"}):k.jsx(k.Fragment,{children:k.jsx(yre,{journalId:n,journalTitle:e,journalDescription:r,onUpdate:v})}),k.jsx(wre,{journalId:n})]}),k.jsxs("div",{className:"journal-cover clickable-book",onClick:y,style:{backgroundColor:s.cardColor,padding:"16px",borderRadius:"12px",margin:"20px auto",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",height:"650px",width:"500px",position:"relative",borderBottom:"4px solid #d3d3d3",borderRight:"4px solid #d3d3d3",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer"},children:[k.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",top:0,left:0}}),k.jsxs("div",{style:{paddingTop:"20px"},children:[k.jsx("h1",{style:{color:s.titleColor,marginBottom:"8px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},children:e}),k.jsx("p",{style:{color:s.descriptionColor,textAlign:"center",marginTop:"50px",fontSize:"1.2rem",padding:"0 20px"},children:r})]}),k.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:k.jsxs("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Created:"," ",new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})}),k.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",bottom:0,left:0}})]}),k.jsx(Fa,{isOpen:f,onDidDismiss:()=>p(!1),message:d,duration:2e3})]})]}):k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(yn,{children:k.jsx(Wn,{children:"Error: No Journal Selected"})})}),k.jsx(Bt,{children:k.jsx("p",{children:"Please select a journal from the main page."})})]})},_re=()=>{const{journalId:n}=jm(),[e,t]=K.useState([]),[r,i]=K.useState(!0);K.useEffect(()=>{n&&(async()=>{try{const{data:s,error:l}=await me.from("journal_pages").select("page_id, page_no, page_title, mood, created_at, updated_at").eq("journal_id",n).order("page_no",{ascending:!0});if(l)throw l;t(s||[])}catch(s){console.error("Error fetching pages:",s)}finally{i(!1)}})()},[n]);const o=a=>new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsx(yn,{})}),k.jsx(Bt,{children:r?k.jsx("div",{className:"ion-padding",children:"Loading pages..."}):e.length===0?k.jsx("div",{className:"ion-padding",children:"No pages found for this journal."}):k.jsxs(O5,{children:[k.jsx(Hn,{slot:"start",children:k.jsx(sd,{defaultHref:"/Cephaline-Supabase/app/Overviewing/".concat(n)})}),e.map(a=>k.jsx(Yn,{routerLink:"/Cephaline-Supabase/app/JournalPageView/".concat(n,"/").concat(a.page_id),detail:!0,children:k.jsxs(gn,{children:[k.jsxs("h2",{children:[k.jsx(hp,{color:"medium",style:{marginRight:"8px"},children:a.page_no}),a.page_title]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[a.mood&&k.jsx(hp,{color:"tertiary",style:{marginRight:"8px"},children:a.mood}),k.jsxs(R$,{style:{fontSize:"0.8rem"},children:["Created: ",o(a.created_at)]})]})]})},a.page_id))]})})]})};function Zh(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BI={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function a(c,u){if(!i[c]){if(!r[c]){var d=typeof Zh=="function"&&Zh;if(!u&&d)return d(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[c]={exports:{}};r[c][0].call(f.exports,function(p){var m=r[c][1][p];return a(m||p)},f,f.exports,t,r,i,o)}return i[c].exports}for(var s=typeof Zh=="function"&&Zh,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(t,r,i){var o=t("./utils"),a=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,h,f,p,m,b=[],g=0,v=l.length,x=v,y=o.getTypeOf(l)!=="string";g<l.length;)x=v-g,d=y?(c=l[g++],u=g<v?l[g++]:0,g<v?l[g++]:0):(c=l.charCodeAt(g++),u=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),h=c>>2,f=(3&c)<<4|u>>4,p=1<x?(15&u)<<2|d>>6:64,m=2<x?63&d:64,b.push(s.charAt(h)+s.charAt(f)+s.charAt(p)+s.charAt(m));return b.join("")},i.decode=function(l){var c,u,d,h,f,p,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(h=s.indexOf(l.charAt(m++)))>>4,u=(15&h)<<4|(f=s.indexOf(l.charAt(m++)))>>2,d=(3&f)<<6|(p=s.indexOf(l.charAt(m++))),v[b++]=c,f!==64&&(v[b++]=u),p!==64&&(v[b++]=d);return v}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),a=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,d,h,f,p){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new s).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(c,u,d,h){var f=a,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u[m])];return-1^c}(0|l,s,s.length,0):function(c,u,d,h){var f=a,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u.charCodeAt(m))];return-1^c}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),s=t("./utils"),l=t("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(f,p){var m,b="";for(m=0;m<p;m++)b+=String.fromCharCode(255&f),f>>>=8;return b}function a(f,p,m,b,g,v){var x,y,w=f.file,E=f.compression,C=v!==c.utf8encode,S=s.transformTo("string",v(w.name)),_=s.transformTo("string",c.utf8encode(w.name)),A=w.comment,D=s.transformTo("string",v(A)),I=s.transformTo("string",c.utf8encode(A)),M=_.length!==w.name.length,T=I.length!==A.length,B="",L="",z="",U=w.dir,P=w.date,$={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||($.crc32=f.crc32,$.compressedSize=f.compressedSize,$.uncompressedSize=f.uncompressedSize);var F=0;p&&(F|=8),C||!M&&!T||(F|=2048);var N=0,ee=0;U&&(N|=16),g==="UNIX"?(ee=798,N|=function(J,be){var we=J;return J||(we=be?16893:33204),(65535&we)<<16}(w.unixPermissions,U)):(ee=20,N|=function(J){return 63&(J||0)}(w.dosPermissions)),x=P.getUTCHours(),x<<=6,x|=P.getUTCMinutes(),x<<=5,x|=P.getUTCSeconds()/2,y=P.getUTCFullYear()-1980,y<<=4,y|=P.getUTCMonth()+1,y<<=5,y|=P.getUTCDate(),M&&(L=o(1,1)+o(u(S),4)+_,B+="up"+o(L.length,2)+L),T&&(z=o(1,1)+o(u(D),4)+I,B+="uc"+o(z.length,2)+z);var X="";return X+="\n\0",X+=o(F,2),X+=E.magic,X+=o(x,2),X+=o(y,2),X+=o($.crc32,4),X+=o($.compressedSize,4),X+=o($.uncompressedSize,4),X+=o(S.length,2),X+=o(B.length,2),{fileRecord:d.LOCAL_FILE_HEADER+X+S+B,dirRecord:d.CENTRAL_FILE_HEADER+o(ee,2)+X+o(D.length,2)+"\0\0\0\0"+o(N,4)+o(b,4)+S+B+D}}var s=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),d=t("../signature");function h(f,p,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-b-1))/m:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var m=a(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,m=a(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-f,b=function(g,v,x,y,w){var E=s.transformTo("string",w(y));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(v,4)+o(x,4)+o(E.length,2)+E}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(m){p.processChunk(m)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(m){p.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var m=0;m<p.length;m++)try{p[m].error(f)}catch(b){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(s,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{s.forEach(function(h,f){d++;var p=function(v,x){var y=v||x,w=o[y];if(!w)throw new Error(y+" is not a valid compression method !");return w}(f.options.compression,l.compression),m=f.options.compressionOptions||l.compressionOptions||{},b=f.dir,g=f.date;f._compressWorker(p,m).withStreamInfo("file",{name:h,dir:b,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),a=t("./external"),s=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function d(h){return new a.Promise(function(f,p){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){p(b)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var p=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(m){var b=new l(f);return b.load(m),b}).then(function(m){var b=[a.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var v=0;v<g.length;v++)b.push(d(g[v]));return a.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,v=0;v<g.length;v++){var x=g[v],y=x.fileNameStr,w=o.resolve(x.fileNameStr);p.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(p.file(w).unsafeOriginalName=y)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),a=t("../stream/GenericWorker");function s(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(s,a),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function a(s,l,c){o.call(this,l),this._helper=s;var u=this;s.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(w,E,C){var S,_=s.getTypeOf(E),A=s.extend(C||{},u);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(w=g(w)),A.createFolders&&(S=b(w))&&v.call(this,S,!0);var D=_==="string"&&A.binary===!1&&A.base64===!1;C&&C.binary!==void 0||(A.binary=!D),(E instanceof d&&E.uncompressedSize===0||A.dir||!E||E.length===0)&&(A.base64=!1,A.binary=!0,E="",A.compression="STORE",_="string");var I=null;I=E instanceof d||E instanceof l?E:p.isNode&&p.isStream(E)?new m(w,E):s.prepareContent(w,E,A.binary,A.optimizedBinaryString,A.base64);var M=new h(w,I,A);this.files[w]=M}var a=t("./utf8"),s=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),b=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},v=function(w,E){return E=E!==void 0?E:u.createFolders,w=g(w),this.files[w]||o.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,C,S;for(E in this.files)S=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(C,S)},filter:function(w){var E=[];return this.forEach(function(C,S){w(C,S)&&E.push(S)}),E},file:function(w,E,C){if(arguments.length!==1)return w=this.root+w,o.call(this,w,E,C),this;if(x(w)){var S=w;return this.filter(function(A,D){return!D.dir&&S.test(A)})}var _=this.files[this.root+w];return _&&!_.dir?_:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(_,A){return A.dir&&w.test(_)});var E=this.root+w,C=v.call(this,E),S=this.clone();return S.root=C.name,S},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var C=this.filter(function(_,A){return A.name.slice(0,w.length)===w}),S=0;S<C.length;S++)delete this.files[C[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,C={};try{if((C=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");s.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var S=C.comment||this.comment||"";E=f.generateWorker(this,C,S)}catch(_){(E=new l("error")).error(_)}return new c(E,C.type||"string",C.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};r.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),d=s.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),a=t("../support"),s=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");r.exports=function(d){var h=o.getTypeOf(d);return o.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(d):a.uint8array?new u(o.transformTo("uint8array",d)):new s(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),a=t("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),a=t("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),a=t("./ConvertWorker"),s=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),d=null;if(c.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function h(p,m){return new u.Promise(function(b,g){var v=[],x=p._internalType,y=p._outputType,w=p._mimeType;p.on("data",function(E,C){v.push(E),m&&m(C)}).on("error",function(E){v=[],g(E)}).on("end",function(){try{var E=function(C,S,_){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",S),_);case"base64":return l.encode(S);default:return o.transformTo(C,S)}}(y,function(C,S){var _,A=0,D=null,I=0;for(_=0;_<S.length;_++)I+=S[_].length;switch(C){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(D=new Uint8Array(I),_=0;_<S.length;_++)D.set(S[_],A),A+=S[_].length;return D;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+C+"'")}}(x,v),w);b(E)}catch(C){g(C)}v=[]}).resume()})}function f(p,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,o.checkSupport(g),this._worker=p.pipe(new a(g)),p.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,m){var b=this;return p==="data"?this._worker.on(p,function(g){m.call(b,g.data,g.meta)}):this._worker.on(p,function(){o.delay(m,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch(s){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch(l){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(s){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),a=t("./support"),s=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return a.nodebuffer?s.newBufferFrom(f,"utf-8"):function(p){var m,b,g,v,x,y=p.length,w=0;for(v=0;v<y;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<y&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),w+=b<128?1:b<2048?2:b<65536?3:4;for(m=a.uint8array?new Uint8Array(w):new Array(w),v=x=0;x<w;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<y&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),b<128?m[x++]=b:(b<2048?m[x++]=192|b>>>6:(b<65536?m[x++]=224|b>>>12:(m[x++]=240|b>>>18,m[x++]=128|b>>>12&63),m[x++]=128|b>>>6&63),m[x++]=128|63&b);return m}(f)},i.utf8decode=function(f){return a.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(p){var m,b,g,v,x=p.length,y=new Array(2*x);for(m=b=0;m<x;)if((g=p[m++])<128)y[b++]=g;else if(4<(v=c[g]))y[b++]=65533,m+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&m<x;)g=g<<6|63&p[m++],v--;1<v?y[b++]=65533:g<65536?y[b++]=g:(g-=65536,y[b++]=55296|g>>10&1023,y[b++]=56320|1023&g)}return y.length!==b&&(y.subarray?y=y.subarray(0,b):y.length=b),o.applyFromCharCode(y)}(f=o.transformTo(a.uint8array?"uint8array":"array",f))},o.inherits(d,l),d.prototype.processChunk=function(f){var p=o.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(v,x){var y;for((x=x||v.length)>v.length&&(x=v.length),y=x-1;0<=y&&(192&v[y])==128;)y--;return y<0||y===0?x:y+c[v[y]]>x?y:x}(p),g=p;b!==p.length&&(a.uint8array?(g=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(g=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:i.utf8decode(g),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),a=t("./base64"),s=t("./nodejsUtils"),l=t("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}t("setimmediate"),i.newBlob=function(m,b){i.checkSupport("blob");try{return new Blob([m],{type:b})}catch(v){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch(x){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,b,g){var v=[],x=0,y=m.length;if(y<=g)return String.fromCharCode.apply(null,m);for(;x<y;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+g,y)))):v.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+g,y)))),x+=g;return v.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch(m){return!1}}()}};function h(m){var b=65536,g=i.getTypeOf(m),v=!0;if(g==="uint8array"?v=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return d.stringifyByChunk(m,g,b)}catch(x){b=Math.floor(b/2)}return d.stringifyByChar(m)}function f(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}i.applyFromCharCode=h;var p={};p.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,s.allocBuffer(m.length))}},p.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},p.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},p.nodebuffer={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,b){if(b=b||"",!m)return b;i.checkSupport(m);var g=i.getTypeOf(b);return p[g][m](b)},i.resolve=function(m){for(var b=m.split("/"),g=[],v=0;v<b.length;v++){var x=b[v];x==="."||x===""&&v!==0&&v!==b.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var b,g,v="";for(g=0;g<(m||"").length;g++)v+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return v},i.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},i.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},i.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},i.prepareContent=function(m,b,g,v,x){return l.Promise.resolve(b).then(function(y){return o.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,E){var C=new FileReader;C.onload=function(S){w(S.target.result)},C.onerror=function(S){E(S.target.error)},C.readAsArrayBuffer(y)}):y}).then(function(y){var w=i.getTypeOf(y);return w?(w==="arraybuffer"?y=i.transformTo("uint8array",y):w==="string"&&(x?y=a.decode(y):g&&v!==!0&&(y=function(E){return u(E,o.uint8array?new Uint8Array(E.length):new Array(E.length))}(y))),y):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=a.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),d=t("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,m,b,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)p=f.readInt(2),m=f.readInt(2),b=f.readData(m),this.extraFields[p]={id:p,length:m,value:b};f.setIndex(g)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(p,m,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,b="string";try{if(!p)throw new Error("No output type specified.");var g=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!v&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new a(m,b,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,p,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)o.prototype[d[f]]=h;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(p),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var h=new o.MessageChannel;h.port1.onmessage=p,a=function(){h.port2.postMessage(0)}}var f=[];function p(){var m,b;s=!0;for(var g=f.length;g;){for(b=f,f=[],m=-1;++m<g;)b[m]();g=f.length}s=!1}r.exports=function(m){f.push(m)!==1||s||a()}}).call(this,typeof jn<"u"?jn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==a&&m(this,g)}function h(g,v,x){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(g,v,x){o(function(){var y;try{y=v(x)}catch(w){return s.reject(g,w)}y===g?s.reject(g,new TypeError("Cannot resolve promise with itself")):s.resolve(g,y)})}function p(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function m(g,v){var x=!1;function y(C){x||(x=!0,s.reject(g,C))}function w(C){x||(x=!0,s.resolve(g,C))}var E=b(function(){v(w,y)});E.status==="error"&&y(E.value)}function b(g,v){var x={};try{x.value=g(v),x.status="success"}catch(y){x.status="error",x.value=y}return x}(r.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(g()).then(function(){return x})},function(x){return v.resolve(g()).then(function(){throw x})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==u?f(x,this.state===c?g:v,this.outcome):this.queue.push(new h(x,g,v)),x},h.prototype.callFulfilled=function(g){s.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){s.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},s.resolve=function(g,v){var x=b(p,v);if(x.status==="error")return s.reject(g,x.value);var y=x.value;if(y)m(g,y);else{g.state=c,g.outcome=v;for(var w=-1,E=g.queue.length;++w<E;)g.queue[w].callFulfilled(v)}return g},s.reject=function(g,v){g.state=l,g.outcome=v;for(var x=-1,y=g.queue.length;++x<y;)g.queue[x].callRejected(v);return g},d.resolve=function(g){return g instanceof this?g:s.resolve(new this(a),g)},d.reject=function(g){var v=new this(a);return s.reject(v,g)},d.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,y=!1;if(!x)return this.resolve([]);for(var w=new Array(x),E=0,C=-1,S=new this(a);++C<x;)_(g[C],C);return S;function _(A,D){v.resolve(A).then(function(I){w[D]=I,++E!==x||y||(y=!0,s.resolve(S,w))},function(I){y||(y=!0,s.reject(S,I))})}},d.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,y=!1;if(!x)return this.resolve([]);for(var w=-1,E=new this(a);++w<x;)C=g[w],v.resolve(C).then(function(S){y||(y=!0,s.resolve(E,S))},function(S){y||(y=!0,s.reject(E,S))});var C;return E}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,f=0,p=8;function m(g){if(!(this instanceof m))return new m(g);this.options=a.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==d)throw new Error(l[x]);if(v.header&&o.deflateSetHeader(this.strm,v.header),v.dictionary){var y;if(y=typeof v.dictionary=="string"?s.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=o.deflateSetDictionary(this.strm,y))!==d)throw new Error(l[x]);this._dict_set=!0}}function b(g,v){var x=new m(v);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(g,v){var x,y,w=this.strm,E=this.options.chunkSize;if(this.ended)return!1;y=v===~~v?v:v===!0?4:0,typeof g=="string"?w.input=s.string2buf(g):u.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new a.Buf8(E),w.next_out=0,w.avail_out=E),(x=o.deflate(w,y))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(w.output,w.next_out))):this.onData(a.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return y===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):y!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=m,i.deflate=b,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,b(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function p(m,b){var g=new f(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}f.prototype.push=function(m,b){var g,v,x,y,w,E,C=this.strm,S=this.options.chunkSize,_=this.options.dictionary,A=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?C.input=s.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(S),C.next_out=0,C.avail_out=S),(g=o.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&_&&(E=typeof _=="string"?s.string2buf(_):h.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,g=o.inflateSetDictionary(this.strm,E)),g===l.Z_BUF_ERROR&&A===!0&&(g=l.Z_OK,A=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&g!==l.Z_STREAM_END&&(C.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(C.output,C.next_out),y=C.next_out-x,w=s.buf2string(C.output,x),C.next_out=y,C.avail_out=S-y,y&&a.arraySet(C.output,C.output,x,y,0),this.onData(w)):this.onData(a.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(A=!0)}while((0<C.avail_in||C.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=f,i.inflate=p,i.inflateRaw=function(m,b){return(b=b||{}).raw=!0,p(m,b)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){var c,u,d,h,f,p;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(p=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)f=l[c],p.set(f,h),h+=f.length;return p}},s={arraySet:function(l,c,u,d,h){for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(d){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){s=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&s||!d.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(d,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(d[p]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,p,m,b,g=d.length,v=0;for(m=0;m<g;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),v+=f<128?1:f<2048?2:f<65536?3:4;for(h=new o.Buf8(v),m=b=0;b<v;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?h[b++]=f:(f<2048?h[b++]=192|f>>>6:(f<65536?h[b++]=224|f>>>12:(h[b++]=240|f>>>18,h[b++]=128|f>>>12&63),h[b++]=128|f>>>6&63),h[b++]=128|63&f);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new o.Buf8(d.length),f=0,p=h.length;f<p;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,p,m,b,g=h||d.length,v=new Array(2*g);for(f=p=0;f<g;)if((m=d[f++])<128)v[p++]=m;else if(4<(b=l[m]))v[p++]=65533,f+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&f<g;)m=m<<6|63&d[f++],b--;1<b?v[p++]=65533:m<65536?v[p++]=m:(m-=65536,v[p++]=55296|m>>10&1023,v[p++]=56320|1023&m)}return u(v,p)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,a,s,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;s!==0;){for(s-=d=2e3<s?2e3:s;u=u+(c=c+a[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();r.exports=function(a,s,l,c){var u=o,d=c+l;a^=-1;for(var h=c;h<d;h++)a=a>>>8^u[255&(a^s[h])];return-1^a}},{}],46:[function(t,r,i){var o,a=t("../utils/common"),s=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),d=0,h=4,f=0,p=-2,m=-1,b=4,g=2,v=8,x=9,y=286,w=30,E=19,C=2*y+1,S=15,_=3,A=258,D=A+_+1,I=42,M=113,T=1,B=2,L=3,z=4;function U(R,ne){return R.msg=u[ne],ne}function P(R){return(R<<1)-(4<R?9:0)}function $(R){for(var ne=R.length;0<=--ne;)R[ne]=0}function F(R){var ne=R.state,Q=ne.pending;Q>R.avail_out&&(Q=R.avail_out),Q!==0&&(a.arraySet(R.output,ne.pending_buf,ne.pending_out,Q,R.next_out),R.next_out+=Q,ne.pending_out+=Q,R.total_out+=Q,R.avail_out-=Q,ne.pending-=Q,ne.pending===0&&(ne.pending_out=0))}function N(R,ne){s._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,ne),R.block_start=R.strstart,F(R.strm)}function ee(R,ne){R.pending_buf[R.pending++]=ne}function X(R,ne){R.pending_buf[R.pending++]=ne>>>8&255,R.pending_buf[R.pending++]=255&ne}function J(R,ne){var Q,V,H=R.max_chain_length,Y=R.strstart,se=R.prev_length,le=R.nice_match,Z=R.strstart>R.w_size-D?R.strstart-(R.w_size-D):0,he=R.window,ye=R.w_mask,fe=R.prev,Pe=R.strstart+A,it=he[Y+se-1],ze=he[Y+se];R.prev_length>=R.good_match&&(H>>=2),le>R.lookahead&&(le=R.lookahead);do if(he[(Q=ne)+se]===ze&&he[Q+se-1]===it&&he[Q]===he[Y]&&he[++Q]===he[Y+1]){Y+=2,Q++;do;while(he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&he[++Y]===he[++Q]&&Y<Pe);if(V=A-(Pe-Y),Y=Pe-A,se<V){if(R.match_start=ne,le<=(se=V))break;it=he[Y+se-1],ze=he[Y+se]}}while((ne=fe[ne&ye])>Z&&--H!=0);return se<=R.lookahead?se:R.lookahead}function be(R){var ne,Q,V,H,Y,se,le,Z,he,ye,fe=R.w_size;do{if(H=R.window_size-R.lookahead-R.strstart,R.strstart>=fe+(fe-D)){for(a.arraySet(R.window,R.window,fe,fe,0),R.match_start-=fe,R.strstart-=fe,R.block_start-=fe,ne=Q=R.hash_size;V=R.head[--ne],R.head[ne]=fe<=V?V-fe:0,--Q;);for(ne=Q=fe;V=R.prev[--ne],R.prev[ne]=fe<=V?V-fe:0,--Q;);H+=fe}if(R.strm.avail_in===0)break;if(se=R.strm,le=R.window,Z=R.strstart+R.lookahead,he=H,ye=void 0,ye=se.avail_in,he<ye&&(ye=he),Q=ye===0?0:(se.avail_in-=ye,a.arraySet(le,se.input,se.next_in,ye,Z),se.state.wrap===1?se.adler=l(se.adler,le,ye,Z):se.state.wrap===2&&(se.adler=c(se.adler,le,ye,Z)),se.next_in+=ye,se.total_in+=ye,ye),R.lookahead+=Q,R.lookahead+R.insert>=_)for(Y=R.strstart-R.insert,R.ins_h=R.window[Y],R.ins_h=(R.ins_h<<R.hash_shift^R.window[Y+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[Y+_-1])&R.hash_mask,R.prev[Y&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=Y,Y++,R.insert--,!(R.lookahead+R.insert<_)););}while(R.lookahead<D&&R.strm.avail_in!==0)}function we(R,ne){for(var Q,V;;){if(R.lookahead<D){if(be(R),R.lookahead<D&&ne===d)return T;if(R.lookahead===0)break}if(Q=0,R.lookahead>=_&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+_-1])&R.hash_mask,Q=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),Q!==0&&R.strstart-Q<=R.w_size-D&&(R.match_length=J(R,Q)),R.match_length>=_)if(V=s._tr_tally(R,R.strstart-R.match_start,R.match_length-_),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=_){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+_-1])&R.hash_mask,Q=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else V=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(V&&(N(R,!1),R.strm.avail_out===0))return T}return R.insert=R.strstart<_-1?R.strstart:_-1,ne===h?(N(R,!0),R.strm.avail_out===0?L:z):R.last_lit&&(N(R,!1),R.strm.avail_out===0)?T:B}function ve(R,ne){for(var Q,V,H;;){if(R.lookahead<D){if(be(R),R.lookahead<D&&ne===d)return T;if(R.lookahead===0)break}if(Q=0,R.lookahead>=_&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+_-1])&R.hash_mask,Q=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=_-1,Q!==0&&R.prev_length<R.max_lazy_match&&R.strstart-Q<=R.w_size-D&&(R.match_length=J(R,Q),R.match_length<=5&&(R.strategy===1||R.match_length===_&&4096<R.strstart-R.match_start)&&(R.match_length=_-1)),R.prev_length>=_&&R.match_length<=R.prev_length){for(H=R.strstart+R.lookahead-_,V=s._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-_),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=H&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+_-1])&R.hash_mask,Q=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=_-1,R.strstart++,V&&(N(R,!1),R.strm.avail_out===0))return T}else if(R.match_available){if((V=s._tr_tally(R,0,R.window[R.strstart-1]))&&N(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return T}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(V=s._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<_-1?R.strstart:_-1,ne===h?(N(R,!0),R.strm.avail_out===0?L:z):R.last_lit&&(N(R,!1),R.strm.avail_out===0)?T:B}function ke(R,ne,Q,V,H){this.good_length=R,this.max_lazy=ne,this.nice_length=Q,this.max_chain=V,this.func=H}function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*C),this.dyn_dtree=new a.Buf16(2*(2*w+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(S+1),this.heap=new a.Buf16(2*y+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*y+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(R){var ne;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=g,(ne=R.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?I:M,R.adler=ne.wrap===2?0:1,ne.last_flush=d,s._tr_init(ne),f):U(R,p)}function We(R){var ne=Me(R);return ne===f&&function(Q){Q.window_size=2*Q.w_size,$(Q.head),Q.max_lazy_match=o[Q.level].max_lazy,Q.good_match=o[Q.level].good_length,Q.nice_match=o[Q.level].nice_length,Q.max_chain_length=o[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=_-1,Q.match_available=0,Q.ins_h=0}(R.state),ne}function Fe(R,ne,Q,V,H,Y){if(!R)return p;var se=1;if(ne===m&&(ne=6),V<0?(se=0,V=-V):15<V&&(se=2,V-=16),H<1||x<H||Q!==v||V<8||15<V||ne<0||9<ne||Y<0||b<Y)return U(R,p);V===8&&(V=9);var le=new He;return(R.state=le).strm=R,le.wrap=se,le.gzhead=null,le.w_bits=V,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=H+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+_-1)/_),le.window=new a.Buf8(2*le.w_size),le.head=new a.Buf16(le.hash_size),le.prev=new a.Buf16(le.w_size),le.lit_bufsize=1<<H+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new a.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=ne,le.strategy=Y,le.method=Q,We(R)}o=[new ke(0,0,0,0,function(R,ne){var Q=65535;for(Q>R.pending_buf_size-5&&(Q=R.pending_buf_size-5);;){if(R.lookahead<=1){if(be(R),R.lookahead===0&&ne===d)return T;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var V=R.block_start+Q;if((R.strstart===0||R.strstart>=V)&&(R.lookahead=R.strstart-V,R.strstart=V,N(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-D&&(N(R,!1),R.strm.avail_out===0))return T}return R.insert=0,ne===h?(N(R,!0),R.strm.avail_out===0?L:z):(R.strstart>R.block_start&&(N(R,!1),R.strm.avail_out),T)}),new ke(4,4,8,4,we),new ke(4,5,16,8,we),new ke(4,6,32,32,we),new ke(4,4,16,16,ve),new ke(8,16,32,32,ve),new ke(8,16,128,128,ve),new ke(8,32,128,256,ve),new ke(32,128,258,1024,ve),new ke(32,258,258,4096,ve)],i.deflateInit=function(R,ne){return Fe(R,ne,v,15,8,0)},i.deflateInit2=Fe,i.deflateReset=We,i.deflateResetKeep=Me,i.deflateSetHeader=function(R,ne){return R&&R.state?R.state.wrap!==2?p:(R.state.gzhead=ne,f):p},i.deflate=function(R,ne){var Q,V,H,Y;if(!R||!R.state||5<ne||ne<0)return R?U(R,p):p;if(V=R.state,!R.output||!R.input&&R.avail_in!==0||V.status===666&&ne!==h)return U(R,R.avail_out===0?-5:p);if(V.strm=R,Q=V.last_flush,V.last_flush=ne,V.status===I)if(V.wrap===2)R.adler=0,ee(V,31),ee(V,139),ee(V,8),V.gzhead?(ee(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),ee(V,255&V.gzhead.time),ee(V,V.gzhead.time>>8&255),ee(V,V.gzhead.time>>16&255),ee(V,V.gzhead.time>>24&255),ee(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),ee(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(ee(V,255&V.gzhead.extra.length),ee(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(R.adler=c(R.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(ee(V,0),ee(V,0),ee(V,0),ee(V,0),ee(V,0),ee(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),ee(V,3),V.status=M);else{var se=v+(V.w_bits-8<<4)<<8;se|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(se|=32),se+=31-se%31,V.status=M,X(V,se),V.strstart!==0&&(X(V,R.adler>>>16),X(V,65535&R.adler)),R.adler=1}if(V.status===69)if(V.gzhead.extra){for(H=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),F(R),H=V.pending,V.pending!==V.pending_buf_size));)ee(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){H=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),F(R),H=V.pending,V.pending===V.pending_buf_size)){Y=1;break}Y=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,ee(V,Y)}while(Y!==0);V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),Y===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){H=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),F(R),H=V.pending,V.pending===V.pending_buf_size)){Y=1;break}Y=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,ee(V,Y)}while(Y!==0);V.gzhead.hcrc&&V.pending>H&&(R.adler=c(R.adler,V.pending_buf,V.pending-H,H)),Y===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&F(R),V.pending+2<=V.pending_buf_size&&(ee(V,255&R.adler),ee(V,R.adler>>8&255),R.adler=0,V.status=M)):V.status=M),V.pending!==0){if(F(R),R.avail_out===0)return V.last_flush=-1,f}else if(R.avail_in===0&&P(ne)<=P(Q)&&ne!==h)return U(R,-5);if(V.status===666&&R.avail_in!==0)return U(R,-5);if(R.avail_in!==0||V.lookahead!==0||ne!==d&&V.status!==666){var le=V.strategy===2?function(Z,he){for(var ye;;){if(Z.lookahead===0&&(be(Z),Z.lookahead===0)){if(he===d)return T;break}if(Z.match_length=0,ye=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,ye&&(N(Z,!1),Z.strm.avail_out===0))return T}return Z.insert=0,he===h?(N(Z,!0),Z.strm.avail_out===0?L:z):Z.last_lit&&(N(Z,!1),Z.strm.avail_out===0)?T:B}(V,ne):V.strategy===3?function(Z,he){for(var ye,fe,Pe,it,ze=Z.window;;){if(Z.lookahead<=A){if(be(Z),Z.lookahead<=A&&he===d)return T;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=_&&0<Z.strstart&&(fe=ze[Pe=Z.strstart-1])===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]){it=Z.strstart+A;do;while(fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&fe===ze[++Pe]&&Pe<it);Z.match_length=A-(it-Pe),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=_?(ye=s._tr_tally(Z,1,Z.match_length-_),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(ye=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),ye&&(N(Z,!1),Z.strm.avail_out===0))return T}return Z.insert=0,he===h?(N(Z,!0),Z.strm.avail_out===0?L:z):Z.last_lit&&(N(Z,!1),Z.strm.avail_out===0)?T:B}(V,ne):o[V.level].func(V,ne);if(le!==L&&le!==z||(V.status=666),le===T||le===L)return R.avail_out===0&&(V.last_flush=-1),f;if(le===B&&(ne===1?s._tr_align(V):ne!==5&&(s._tr_stored_block(V,0,0,!1),ne===3&&($(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),F(R),R.avail_out===0))return V.last_flush=-1,f}return ne!==h?f:V.wrap<=0?1:(V.wrap===2?(ee(V,255&R.adler),ee(V,R.adler>>8&255),ee(V,R.adler>>16&255),ee(V,R.adler>>24&255),ee(V,255&R.total_in),ee(V,R.total_in>>8&255),ee(V,R.total_in>>16&255),ee(V,R.total_in>>24&255)):(X(V,R.adler>>>16),X(V,65535&R.adler)),F(R),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?f:1)},i.deflateEnd=function(R){var ne;return R&&R.state?(ne=R.state.status)!==I&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==M&&ne!==666?U(R,p):(R.state=null,ne===M?U(R,-3):f):p},i.deflateSetDictionary=function(R,ne){var Q,V,H,Y,se,le,Z,he,ye=ne.length;if(!R||!R.state||(Y=(Q=R.state).wrap)===2||Y===1&&Q.status!==I||Q.lookahead)return p;for(Y===1&&(R.adler=l(R.adler,ne,ye,0)),Q.wrap=0,ye>=Q.w_size&&(Y===0&&($(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),he=new a.Buf8(Q.w_size),a.arraySet(he,ne,ye-Q.w_size,Q.w_size,0),ne=he,ye=Q.w_size),se=R.avail_in,le=R.next_in,Z=R.input,R.avail_in=ye,R.next_in=0,R.input=ne,be(Q);Q.lookahead>=_;){for(V=Q.strstart,H=Q.lookahead-(_-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[V+_-1])&Q.hash_mask,Q.prev[V&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=V,V++,--H;);Q.strstart=V,Q.lookahead=_-1,be(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=_-1,Q.match_available=0,R.next_in=le,R.input=Z,R.avail_in=se,Q.wrap=Y,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,a){var s,l,c,u,d,h,f,p,m,b,g,v,x,y,w,E,C,S,_,A,D,I,M,T,B;s=o.state,l=o.next_in,T=o.input,c=l+(o.avail_in-5),u=o.next_out,B=o.output,d=u-(a-o.avail_out),h=u+(o.avail_out-257),f=s.dmax,p=s.wsize,m=s.whave,b=s.wnext,g=s.window,v=s.hold,x=s.bits,y=s.lencode,w=s.distcode,E=(1<<s.lenbits)-1,C=(1<<s.distbits)-1;e:do{x<15&&(v+=T[l++]<<x,x+=8,v+=T[l++]<<x,x+=8),S=y[v&E];t:for(;;){if(v>>>=_=S>>>24,x-=_,(_=S>>>16&255)===0)B[u++]=65535&S;else{if(!(16&_)){if(!(64&_)){S=y[(65535&S)+(v&(1<<_)-1)];continue t}if(32&_){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}A=65535&S,(_&=15)&&(x<_&&(v+=T[l++]<<x,x+=8),A+=v&(1<<_)-1,v>>>=_,x-=_),x<15&&(v+=T[l++]<<x,x+=8,v+=T[l++]<<x,x+=8),S=w[v&C];n:for(;;){if(v>>>=_=S>>>24,x-=_,!(16&(_=S>>>16&255))){if(!(64&_)){S=w[(65535&S)+(v&(1<<_)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(D=65535&S,x<(_&=15)&&(v+=T[l++]<<x,(x+=8)<_&&(v+=T[l++]<<x,x+=8)),f<(D+=v&(1<<_)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(v>>>=_,x-=_,(_=u-d)<D){if(m<(_=D-_)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(M=g,(I=0)===b){if(I+=p-_,_<A){for(A-=_;B[u++]=g[I++],--_;);I=u-D,M=B}}else if(b<_){if(I+=p+b-_,(_-=b)<A){for(A-=_;B[u++]=g[I++],--_;);if(I=0,b<A){for(A-=_=b;B[u++]=g[I++],--_;);I=u-D,M=B}}}else if(I+=b-_,_<A){for(A-=_;B[u++]=g[I++],--_;);I=u-D,M=B}for(;2<A;)B[u++]=M[I++],B[u++]=M[I++],B[u++]=M[I++],A-=3;A&&(B[u++]=M[I++],1<A&&(B[u++]=M[I++]))}else{for(I=u-D;B[u++]=B[I++],B[u++]=B[I++],B[u++]=B[I++],2<(A-=3););A&&(B[u++]=B[I++],1<A&&(B[u++]=B[I++]))}break}}break}}while(l<c&&u<h);l-=A=x>>3,v&=(1<<(x-=A<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<h?h-u+257:257-(u-h),s.hold=v,s.bits=x}},{}],49:[function(t,r,i){var o=t("../utils/common"),a=t("./adler32"),s=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,d=2,h=0,f=-2,p=1,m=852,b=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(I){var M;return I&&I.state?(M=I.state,I.total_in=I.total_out=M.total=0,I.msg="",M.wrap&&(I.adler=1&M.wrap),M.mode=p,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new o.Buf32(m),M.distcode=M.distdyn=new o.Buf32(b),M.sane=1,M.back=-1,h):f}function y(I){var M;return I&&I.state?((M=I.state).wsize=0,M.whave=0,M.wnext=0,x(I)):f}function w(I,M){var T,B;return I&&I.state?(B=I.state,M<0?(T=0,M=-M):(T=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?f:(B.window!==null&&B.wbits!==M&&(B.window=null),B.wrap=T,B.wbits=M,y(I))):f}function E(I,M){var T,B;return I?(B=new v,(I.state=B).window=null,(T=w(I,M))!==h&&(I.state=null),T):f}var C,S,_=!0;function A(I){if(_){var M;for(C=new o.Buf32(512),S=new o.Buf32(32),M=0;M<144;)I.lens[M++]=8;for(;M<256;)I.lens[M++]=9;for(;M<280;)I.lens[M++]=7;for(;M<288;)I.lens[M++]=8;for(c(u,I.lens,0,288,C,0,I.work,{bits:9}),M=0;M<32;)I.lens[M++]=5;c(d,I.lens,0,32,S,0,I.work,{bits:5}),_=!1}I.lencode=C,I.lenbits=9,I.distcode=S,I.distbits=5}function D(I,M,T,B){var L,z=I.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new o.Buf8(z.wsize)),B>=z.wsize?(o.arraySet(z.window,M,T-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(B<(L=z.wsize-z.wnext)&&(L=B),o.arraySet(z.window,M,T-B,L,z.wnext),(B-=L)?(o.arraySet(z.window,M,T-B,B,0),z.wnext=B,z.whave=z.wsize):(z.wnext+=L,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=L))),0}i.inflateReset=y,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(I){return E(I,15)},i.inflateInit2=E,i.inflate=function(I,M){var T,B,L,z,U,P,$,F,N,ee,X,J,be,we,ve,ke,He,Me,We,Fe,R,ne,Q,V,H=0,Y=new o.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(T=I.state).mode===12&&(T.mode=13),U=I.next_out,L=I.output,$=I.avail_out,z=I.next_in,B=I.input,P=I.avail_in,F=T.hold,N=T.bits,ee=P,X=$,ne=h;e:for(;;)switch(T.mode){case p:if(T.wrap===0){T.mode=13;break}for(;N<16;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(2&T.wrap&&F===35615){Y[T.check=0]=255&F,Y[1]=F>>>8&255,T.check=s(T.check,Y,2,0),N=F=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&F)<<8)+(F>>8))%31){I.msg="incorrect header check",T.mode=30;break}if((15&F)!=8){I.msg="unknown compression method",T.mode=30;break}if(N-=4,R=8+(15&(F>>>=4)),T.wbits===0)T.wbits=R;else if(R>T.wbits){I.msg="invalid window size",T.mode=30;break}T.dmax=1<<R,I.adler=T.check=1,T.mode=512&F?10:12,N=F=0;break;case 2:for(;N<16;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(T.flags=F,(255&T.flags)!=8){I.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){I.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=F>>8&1),512&T.flags&&(Y[0]=255&F,Y[1]=F>>>8&255,T.check=s(T.check,Y,2,0)),N=F=0,T.mode=3;case 3:for(;N<32;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.head&&(T.head.time=F),512&T.flags&&(Y[0]=255&F,Y[1]=F>>>8&255,Y[2]=F>>>16&255,Y[3]=F>>>24&255,T.check=s(T.check,Y,4,0)),N=F=0,T.mode=4;case 4:for(;N<16;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.head&&(T.head.xflags=255&F,T.head.os=F>>8),512&T.flags&&(Y[0]=255&F,Y[1]=F>>>8&255,T.check=s(T.check,Y,2,0)),N=F=0,T.mode=5;case 5:if(1024&T.flags){for(;N<16;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.length=F,T.head&&(T.head.extra_len=F),512&T.flags&&(Y[0]=255&F,Y[1]=F>>>8&255,T.check=s(T.check,Y,2,0)),N=F=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(P<(J=T.length)&&(J=P),J&&(T.head&&(R=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),o.arraySet(T.head.extra,B,z,J,R)),512&T.flags&&(T.check=s(T.check,B,J,z)),P-=J,z+=J,T.length-=J),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(P===0)break e;for(J=0;R=B[z+J++],T.head&&R&&T.length<65536&&(T.head.name+=String.fromCharCode(R)),R&&J<P;);if(512&T.flags&&(T.check=s(T.check,B,J,z)),P-=J,z+=J,R)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(P===0)break e;for(J=0;R=B[z+J++],T.head&&R&&T.length<65536&&(T.head.comment+=String.fromCharCode(R)),R&&J<P;);if(512&T.flags&&(T.check=s(T.check,B,J,z)),P-=J,z+=J,R)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;N<16;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(F!==(65535&T.check)){I.msg="header crc mismatch",T.mode=30;break}N=F=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),I.adler=T.check=0,T.mode=12;break;case 10:for(;N<32;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}I.adler=T.check=g(F),N=F=0,T.mode=11;case 11:if(T.havedict===0)return I.next_out=U,I.avail_out=$,I.next_in=z,I.avail_in=P,T.hold=F,T.bits=N,2;I.adler=T.check=1,T.mode=12;case 12:if(M===5||M===6)break e;case 13:if(T.last){F>>>=7&N,N-=7&N,T.mode=27;break}for(;N<3;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}switch(T.last=1&F,N-=1,3&(F>>>=1)){case 0:T.mode=14;break;case 1:if(A(T),T.mode=20,M!==6)break;F>>>=2,N-=2;break e;case 2:T.mode=17;break;case 3:I.msg="invalid block type",T.mode=30}F>>>=2,N-=2;break;case 14:for(F>>>=7&N,N-=7&N;N<32;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if((65535&F)!=(F>>>16^65535)){I.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&F,N=F=0,T.mode=15,M===6)break e;case 15:T.mode=16;case 16:if(J=T.length){if(P<J&&(J=P),$<J&&(J=$),J===0)break e;o.arraySet(L,B,z,J,U),P-=J,z+=J,$-=J,U+=J,T.length-=J;break}T.mode=12;break;case 17:for(;N<14;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(T.nlen=257+(31&F),F>>>=5,N-=5,T.ndist=1+(31&F),F>>>=5,N-=5,T.ncode=4+(15&F),F>>>=4,N-=4,286<T.nlen||30<T.ndist){I.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;N<3;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.lens[se[T.have++]]=7&F,F>>>=3,N-=3}for(;T.have<19;)T.lens[se[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Q={bits:T.lenbits},ne=c(0,T.lens,0,19,T.lencode,0,T.work,Q),T.lenbits=Q.bits,ne){I.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ke=(H=T.lencode[F&(1<<T.lenbits)-1])>>>16&255,He=65535&H,!((ve=H>>>24)<=N);){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(He<16)F>>>=ve,N-=ve,T.lens[T.have++]=He;else{if(He===16){for(V=ve+2;N<V;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(F>>>=ve,N-=ve,T.have===0){I.msg="invalid bit length repeat",T.mode=30;break}R=T.lens[T.have-1],J=3+(3&F),F>>>=2,N-=2}else if(He===17){for(V=ve+3;N<V;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}N-=ve,R=0,J=3+(7&(F>>>=ve)),F>>>=3,N-=3}else{for(V=ve+7;N<V;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}N-=ve,R=0,J=11+(127&(F>>>=ve)),F>>>=7,N-=7}if(T.have+J>T.nlen+T.ndist){I.msg="invalid bit length repeat",T.mode=30;break}for(;J--;)T.lens[T.have++]=R}}if(T.mode===30)break;if(T.lens[256]===0){I.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Q={bits:T.lenbits},ne=c(u,T.lens,0,T.nlen,T.lencode,0,T.work,Q),T.lenbits=Q.bits,ne){I.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Q={bits:T.distbits},ne=c(d,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Q),T.distbits=Q.bits,ne){I.msg="invalid distances set",T.mode=30;break}if(T.mode=20,M===6)break e;case 20:T.mode=21;case 21:if(6<=P&&258<=$){I.next_out=U,I.avail_out=$,I.next_in=z,I.avail_in=P,T.hold=F,T.bits=N,l(I,X),U=I.next_out,L=I.output,$=I.avail_out,z=I.next_in,B=I.input,P=I.avail_in,F=T.hold,N=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ke=(H=T.lencode[F&(1<<T.lenbits)-1])>>>16&255,He=65535&H,!((ve=H>>>24)<=N);){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(ke&&!(240&ke)){for(Me=ve,We=ke,Fe=He;ke=(H=T.lencode[Fe+((F&(1<<Me+We)-1)>>Me)])>>>16&255,He=65535&H,!(Me+(ve=H>>>24)<=N);){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}F>>>=Me,N-=Me,T.back+=Me}if(F>>>=ve,N-=ve,T.back+=ve,T.length=He,ke===0){T.mode=26;break}if(32&ke){T.back=-1,T.mode=12;break}if(64&ke){I.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ke,T.mode=22;case 22:if(T.extra){for(V=T.extra;N<V;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.length+=F&(1<<T.extra)-1,F>>>=T.extra,N-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ke=(H=T.distcode[F&(1<<T.distbits)-1])>>>16&255,He=65535&H,!((ve=H>>>24)<=N);){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(!(240&ke)){for(Me=ve,We=ke,Fe=He;ke=(H=T.distcode[Fe+((F&(1<<Me+We)-1)>>Me)])>>>16&255,He=65535&H,!(Me+(ve=H>>>24)<=N);){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}F>>>=Me,N-=Me,T.back+=Me}if(F>>>=ve,N-=ve,T.back+=ve,64&ke){I.msg="invalid distance code",T.mode=30;break}T.offset=He,T.extra=15&ke,T.mode=24;case 24:if(T.extra){for(V=T.extra;N<V;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}T.offset+=F&(1<<T.extra)-1,F>>>=T.extra,N-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){I.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if($===0)break e;if(J=X-$,T.offset>J){if((J=T.offset-J)>T.whave&&T.sane){I.msg="invalid distance too far back",T.mode=30;break}be=J>T.wnext?(J-=T.wnext,T.wsize-J):T.wnext-J,J>T.length&&(J=T.length),we=T.window}else we=L,be=U-T.offset,J=T.length;for($<J&&(J=$),$-=J,T.length-=J;L[U++]=we[be++],--J;);T.length===0&&(T.mode=21);break;case 26:if($===0)break e;L[U++]=T.length,$--,T.mode=21;break;case 27:if(T.wrap){for(;N<32;){if(P===0)break e;P--,F|=B[z++]<<N,N+=8}if(X-=$,I.total_out+=X,T.total+=X,X&&(I.adler=T.check=T.flags?s(T.check,L,X,U-X):a(T.check,L,X,U-X)),X=$,(T.flags?F:g(F))!==T.check){I.msg="incorrect data check",T.mode=30;break}N=F=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;N<32;){if(P===0)break e;P--,F+=B[z++]<<N,N+=8}if(F!==(4294967295&T.total)){I.msg="incorrect length check",T.mode=30;break}N=F=0}T.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return f}return I.next_out=U,I.avail_out=$,I.next_in=z,I.avail_in=P,T.hold=F,T.bits=N,(T.wsize||X!==I.avail_out&&T.mode<30&&(T.mode<27||M!==4))&&D(I,I.output,I.next_out,X-I.avail_out)?(T.mode=31,-4):(ee-=I.avail_in,X-=I.avail_out,I.total_in+=ee,I.total_out+=X,T.total+=X,T.wrap&&X&&(I.adler=T.check=T.flags?s(T.check,L,X,I.next_out-X):a(T.check,L,X,I.next_out-X)),I.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(ee==0&&X===0||M===4)&&ne===h&&(ne=-5),ne)},i.inflateEnd=function(I){if(!I||!I.state)return f;var M=I.state;return M.window&&(M.window=null),I.state=null,h},i.inflateGetHeader=function(I,M){var T;return I&&I.state&&2&(T=I.state).wrap?((T.head=M).done=!1,h):f},i.inflateSetDictionary=function(I,M){var T,B=M.length;return I&&I.state?(T=I.state).wrap!==0&&T.mode!==11?f:T.mode===11&&a(1,M,B,0)!==T.check?-3:D(I,M,B,B)?(T.mode=31,-4):(T.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,h,f,p,m,b,g){var v,x,y,w,E,C,S,_,A,D=g.bits,I=0,M=0,T=0,B=0,L=0,z=0,U=0,P=0,$=0,F=0,N=null,ee=0,X=new o.Buf16(16),J=new o.Buf16(16),be=null,we=0;for(I=0;I<=15;I++)X[I]=0;for(M=0;M<f;M++)X[d[h+M]]++;for(L=D,B=15;1<=B&&X[B]===0;B--);if(B<L&&(L=B),B===0)return p[m++]=20971520,p[m++]=20971520,g.bits=1,0;for(T=1;T<B&&X[T]===0;T++);for(L<T&&(L=T),I=P=1;I<=15;I++)if(P<<=1,(P-=X[I])<0)return-1;if(0<P&&(u===0||B!==1))return-1;for(J[1]=0,I=1;I<15;I++)J[I+1]=J[I]+X[I];for(M=0;M<f;M++)d[h+M]!==0&&(b[J[d[h+M]]++]=M);if(C=u===0?(N=be=b,19):u===1?(N=a,ee-=257,be=s,we-=257,256):(N=l,be=c,-1),I=T,E=m,U=M=F=0,y=-1,w=($=1<<(z=L))-1,u===1&&852<$||u===2&&592<$)return 1;for(;;){for(S=I-U,A=b[M]<C?(_=0,b[M]):b[M]>C?(_=be[we+b[M]],N[ee+b[M]]):(_=96,0),v=1<<I-U,T=x=1<<z;p[E+(F>>U)+(x-=v)]=S<<24|_<<16|A|0,x!==0;);for(v=1<<I-1;F&v;)v>>=1;if(v!==0?(F&=v-1,F+=v):F=0,M++,--X[I]==0){if(I===B)break;I=d[h+b[M]]}if(L<I&&(F&w)!==y){for(U===0&&(U=L),E+=T,P=1<<(z=I-U);z+U<B&&!((P-=X[z+U])<=0);)z++,P<<=1;if($+=1<<z,u===1&&852<$||u===2&&592<$)return 1;p[y=F&w]=L<<24|z<<16|E-m|0}}return F!==0&&(p[E+F]=I-U<<24|64<<16|0),g.bits=L,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),a=0,s=1;function l(H){for(var Y=H.length;0<=--Y;)H[Y]=0}var c=0,u=29,d=256,h=d+1+u,f=30,p=19,m=2*h+1,b=15,g=16,v=7,x=256,y=16,w=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));l(D);var I=new Array(2*f);l(I);var M=new Array(512);l(M);var T=new Array(256);l(T);var B=new Array(u);l(B);var L,z,U,P=new Array(f);function $(H,Y,se,le,Z){this.static_tree=H,this.extra_bits=Y,this.extra_base=se,this.elems=le,this.max_length=Z,this.has_stree=H&&H.length}function F(H,Y){this.dyn_tree=H,this.max_code=0,this.stat_desc=Y}function N(H){return H<256?M[H]:M[256+(H>>>7)]}function ee(H,Y){H.pending_buf[H.pending++]=255&Y,H.pending_buf[H.pending++]=Y>>>8&255}function X(H,Y,se){H.bi_valid>g-se?(H.bi_buf|=Y<<H.bi_valid&65535,ee(H,H.bi_buf),H.bi_buf=Y>>g-H.bi_valid,H.bi_valid+=se-g):(H.bi_buf|=Y<<H.bi_valid&65535,H.bi_valid+=se)}function J(H,Y,se){X(H,se[2*Y],se[2*Y+1])}function be(H,Y){for(var se=0;se|=1&H,H>>>=1,se<<=1,0<--Y;);return se>>>1}function we(H,Y,se){var le,Z,he=new Array(b+1),ye=0;for(le=1;le<=b;le++)he[le]=ye=ye+se[le-1]<<1;for(Z=0;Z<=Y;Z++){var fe=H[2*Z+1];fe!==0&&(H[2*Z]=be(he[fe]++,fe))}}function ve(H){var Y;for(Y=0;Y<h;Y++)H.dyn_ltree[2*Y]=0;for(Y=0;Y<f;Y++)H.dyn_dtree[2*Y]=0;for(Y=0;Y<p;Y++)H.bl_tree[2*Y]=0;H.dyn_ltree[2*x]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function ke(H){8<H.bi_valid?ee(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function He(H,Y,se,le){var Z=2*Y,he=2*se;return H[Z]<H[he]||H[Z]===H[he]&&le[Y]<=le[se]}function Me(H,Y,se){for(var le=H.heap[se],Z=se<<1;Z<=H.heap_len&&(Z<H.heap_len&&He(Y,H.heap[Z+1],H.heap[Z],H.depth)&&Z++,!He(Y,le,H.heap[Z],H.depth));)H.heap[se]=H.heap[Z],se=Z,Z<<=1;H.heap[se]=le}function We(H,Y,se){var le,Z,he,ye,fe=0;if(H.last_lit!==0)for(;le=H.pending_buf[H.d_buf+2*fe]<<8|H.pending_buf[H.d_buf+2*fe+1],Z=H.pending_buf[H.l_buf+fe],fe++,le===0?J(H,Z,Y):(J(H,(he=T[Z])+d+1,Y),(ye=C[he])!==0&&X(H,Z-=B[he],ye),J(H,he=N(--le),se),(ye=S[he])!==0&&X(H,le-=P[he],ye)),fe<H.last_lit;);J(H,x,Y)}function Fe(H,Y){var se,le,Z,he=Y.dyn_tree,ye=Y.stat_desc.static_tree,fe=Y.stat_desc.has_stree,Pe=Y.stat_desc.elems,it=-1;for(H.heap_len=0,H.heap_max=m,se=0;se<Pe;se++)he[2*se]!==0?(H.heap[++H.heap_len]=it=se,H.depth[se]=0):he[2*se+1]=0;for(;H.heap_len<2;)he[2*(Z=H.heap[++H.heap_len]=it<2?++it:0)]=1,H.depth[Z]=0,H.opt_len--,fe&&(H.static_len-=ye[2*Z+1]);for(Y.max_code=it,se=H.heap_len>>1;1<=se;se--)Me(H,he,se);for(Z=Pe;se=H.heap[1],H.heap[1]=H.heap[H.heap_len--],Me(H,he,1),le=H.heap[1],H.heap[--H.heap_max]=se,H.heap[--H.heap_max]=le,he[2*Z]=he[2*se]+he[2*le],H.depth[Z]=(H.depth[se]>=H.depth[le]?H.depth[se]:H.depth[le])+1,he[2*se+1]=he[2*le+1]=Z,H.heap[1]=Z++,Me(H,he,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],function(ze,Ft){var oi,Yt,ai,dt,Si,no,si=Ft.dyn_tree,nh=Ft.max_code,fg=Ft.stat_desc.static_tree,pg=Ft.stat_desc.has_stree,mg=Ft.stat_desc.extra_bits,rh=Ft.stat_desc.extra_base,Va=Ft.stat_desc.max_length,tl=0;for(dt=0;dt<=b;dt++)ze.bl_count[dt]=0;for(si[2*ze.heap[ze.heap_max]+1]=0,oi=ze.heap_max+1;oi<m;oi++)Va<(dt=si[2*si[2*(Yt=ze.heap[oi])+1]+1]+1)&&(dt=Va,tl++),si[2*Yt+1]=dt,nh<Yt||(ze.bl_count[dt]++,Si=0,rh<=Yt&&(Si=mg[Yt-rh]),no=si[2*Yt],ze.opt_len+=no*(dt+Si),pg&&(ze.static_len+=no*(fg[2*Yt+1]+Si)));if(tl!==0){do{for(dt=Va-1;ze.bl_count[dt]===0;)dt--;ze.bl_count[dt]--,ze.bl_count[dt+1]+=2,ze.bl_count[Va]--,tl-=2}while(0<tl);for(dt=Va;dt!==0;dt--)for(Yt=ze.bl_count[dt];Yt!==0;)nh<(ai=ze.heap[--oi])||(si[2*ai+1]!==dt&&(ze.opt_len+=(dt-si[2*ai+1])*si[2*ai],si[2*ai+1]=dt),Yt--)}}(H,Y),we(he,it,H.bl_count)}function R(H,Y,se){var le,Z,he=-1,ye=Y[1],fe=0,Pe=7,it=4;for(ye===0&&(Pe=138,it=3),Y[2*(se+1)+1]=65535,le=0;le<=se;le++)Z=ye,ye=Y[2*(le+1)+1],++fe<Pe&&Z===ye||(fe<it?H.bl_tree[2*Z]+=fe:Z!==0?(Z!==he&&H.bl_tree[2*Z]++,H.bl_tree[2*y]++):fe<=10?H.bl_tree[2*w]++:H.bl_tree[2*E]++,he=Z,it=(fe=0)===ye?(Pe=138,3):Z===ye?(Pe=6,3):(Pe=7,4))}function ne(H,Y,se){var le,Z,he=-1,ye=Y[1],fe=0,Pe=7,it=4;for(ye===0&&(Pe=138,it=3),le=0;le<=se;le++)if(Z=ye,ye=Y[2*(le+1)+1],!(++fe<Pe&&Z===ye)){if(fe<it)for(;J(H,Z,H.bl_tree),--fe!=0;);else Z!==0?(Z!==he&&(J(H,Z,H.bl_tree),fe--),J(H,y,H.bl_tree),X(H,fe-3,2)):fe<=10?(J(H,w,H.bl_tree),X(H,fe-3,3)):(J(H,E,H.bl_tree),X(H,fe-11,7));he=Z,it=(fe=0)===ye?(Pe=138,3):Z===ye?(Pe=6,3):(Pe=7,4)}}l(P);var Q=!1;function V(H,Y,se,le){X(H,(c<<1)+(le?1:0),3),function(Z,he,ye,fe){ke(Z),ee(Z,ye),ee(Z,~ye),o.arraySet(Z.pending_buf,Z.window,he,ye,Z.pending),Z.pending+=ye}(H,Y,se)}i._tr_init=function(H){Q||(function(){var Y,se,le,Z,he,ye=new Array(b+1);for(Z=le=0;Z<u-1;Z++)for(B[Z]=le,Y=0;Y<1<<C[Z];Y++)T[le++]=Z;for(T[le-1]=Z,Z=he=0;Z<16;Z++)for(P[Z]=he,Y=0;Y<1<<S[Z];Y++)M[he++]=Z;for(he>>=7;Z<f;Z++)for(P[Z]=he<<7,Y=0;Y<1<<S[Z]-7;Y++)M[256+he++]=Z;for(se=0;se<=b;se++)ye[se]=0;for(Y=0;Y<=143;)D[2*Y+1]=8,Y++,ye[8]++;for(;Y<=255;)D[2*Y+1]=9,Y++,ye[9]++;for(;Y<=279;)D[2*Y+1]=7,Y++,ye[7]++;for(;Y<=287;)D[2*Y+1]=8,Y++,ye[8]++;for(we(D,h+1,ye),Y=0;Y<f;Y++)I[2*Y+1]=5,I[2*Y]=be(Y,5);L=new $(D,C,d+1,h,b),z=new $(I,S,0,f,b),U=new $(new Array(0),_,0,p,v)}(),Q=!0),H.l_desc=new F(H.dyn_ltree,L),H.d_desc=new F(H.dyn_dtree,z),H.bl_desc=new F(H.bl_tree,U),H.bi_buf=0,H.bi_valid=0,ve(H)},i._tr_stored_block=V,i._tr_flush_block=function(H,Y,se,le){var Z,he,ye=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=function(fe){var Pe,it=4093624447;for(Pe=0;Pe<=31;Pe++,it>>>=1)if(1&it&&fe.dyn_ltree[2*Pe]!==0)return a;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return s;for(Pe=32;Pe<d;Pe++)if(fe.dyn_ltree[2*Pe]!==0)return s;return a}(H)),Fe(H,H.l_desc),Fe(H,H.d_desc),ye=function(fe){var Pe;for(R(fe,fe.dyn_ltree,fe.l_desc.max_code),R(fe,fe.dyn_dtree,fe.d_desc.max_code),Fe(fe,fe.bl_desc),Pe=p-1;3<=Pe&&fe.bl_tree[2*A[Pe]+1]===0;Pe--);return fe.opt_len+=3*(Pe+1)+5+5+4,Pe}(H),Z=H.opt_len+3+7>>>3,(he=H.static_len+3+7>>>3)<=Z&&(Z=he)):Z=he=se+5,se+4<=Z&&Y!==-1?V(H,Y,se,le):H.strategy===4||he===Z?(X(H,2+(le?1:0),3),We(H,D,I)):(X(H,4+(le?1:0),3),function(fe,Pe,it,ze){var Ft;for(X(fe,Pe-257,5),X(fe,it-1,5),X(fe,ze-4,4),Ft=0;Ft<ze;Ft++)X(fe,fe.bl_tree[2*A[Ft]+1],3);ne(fe,fe.dyn_ltree,Pe-1),ne(fe,fe.dyn_dtree,it-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,ye+1),We(H,H.dyn_ltree,H.dyn_dtree)),ve(H),le&&ke(H)},i._tr_tally=function(H,Y,se){return H.pending_buf[H.d_buf+2*H.last_lit]=Y>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&Y,H.pending_buf[H.l_buf+H.last_lit]=255&se,H.last_lit++,Y===0?H.dyn_ltree[2*se]++:(H.matches++,Y--,H.dyn_ltree[2*(T[se]+d+1)]++,H.dyn_dtree[2*N(Y)]++),H.last_lit===H.lit_bufsize-1},i._tr_align=function(H){X(H,2,3),J(H,x,D),function(Y){Y.bi_valid===16?(ee(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(H)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(a,s){if(!a.setImmediate){var l,c,u,d,h=1,f={},p=!1,m=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(y){process.nextTick(function(){v(y)})}:function(){if(a.postMessage&&!a.importScripts){var y=!0,w=a.onmessage;return a.onmessage=function(){y=!1},a.postMessage("","*"),a.onmessage=w,y}}()?(d="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(y){a.postMessage(d+y,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(y){v(y.data)},function(y){u.port2.postMessage(y)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(y){var w=m.createElement("script");w.onreadystatechange=function(){v(y),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(y){setTimeout(v,0,y)},b.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var C={callback:y,args:w};return f[h]=C,l(h),h++},b.clearImmediate=g}function g(y){delete f[y]}function v(y){if(p)setTimeout(v,0,y);else{var w=f[y];if(w){p=!0;try{(function(E){var C=E.callback,S=E.args;switch(S.length){case 0:C();break;case 1:C(S[0]);break;case 2:C(S[0],S[1]);break;case 3:C(S[0],S[1],S[2]);break;default:C.apply(s,S)}})(w)}finally{g(y),p=!1}}}}function x(y){y.source===a&&typeof y.data=="string"&&y.data.indexOf(d)===0&&v(+y.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof jn<"u"?jn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(BI);var Cre=BI.exports;const Ere=js(Cre),s4={happy:Bq,sad:Gq,love:Lq,angry:Eq,like:Xq,dislike:Yq,default:zq},Sre=()=>{const{journalId:n,pageId:e}=jm(),[t,r]=K.useState(null),[i,o]=K.useState([]),[a,s]=K.useState(!0),[l,c]=K.useState({prev:null,next:null}),[u,d]=K.useState(null),[h,f]=K.useState(!1),[p,m]=K.useState(!1),[b,g]=K.useState(!1),[v]=bm(),x=l1();K.useEffect(()=>{n&&e&&(async()=>{try{s(!0);const{data:T,error:B}=await me.from("journal_pages").select("*").eq("page_id",e).single();if(B)throw B;r(T);const{data:L,error:z}=await me.from("journal_page_contents").select("*").eq("page_id",e).order("content_order",{ascending:!0});if(z)throw z;o(L||[]);const{data:U,error:P}=await me.from("journal_pages").select("page_id, page_no").eq("journal_id",n).order("page_no",{ascending:!0});if(P)throw P;const $=U.findIndex(F=>F.page_id===e);c({prev:$>0?U[$-1].page_id:null,next:$<U.length-1?U[$+1].page_id:null})}catch(T){console.error("Error fetching page:",T),v({message:"Failed to load page data",duration:3e3,color:"danger"})}finally{s(!1)}})()},[n,e,v]);const y=M=>new Date(M).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=M=>{const T=M.toLowerCase();return s4[T]||s4.default},E=()=>{x.push("/Cephaline-Supabase/app/JournalPage/".concat(n,"/").concat(e))},C=()=>{x.push("/Cephaline-Supabase/app/JournalPage/".concat(n,"/").concat(e,"/content"))},S=async()=>{if(!t)throw new Error("Page data not loaded");const M=new Ere,B=(U=>U.replace(/[^a-zA-Z0-9\-_]/g,"_"))(t.page_title||"page_".concat(t.page_no)),L=M.folder(B);let z="Title: ".concat(t.page_title||"Untitled Page","\n");z+="Page Number: ".concat(t.page_no,"\n"),z+="Mood: ".concat(t.mood||"Not specified","\n"),z+="Created: ".concat(new Date(t.created_at).toLocaleString(),"\n"),t.updated_at!==t.created_at&&(z+="Updated: ".concat(new Date(t.updated_at).toLocaleString(),"\n")),z+="\n==== Contents ====\n\n";for(const U of i)if(z+="[Item ".concat(U.content_order,"]\n"),z+="Type: ".concat(U.paragraph?"Text":U.link?"Link":U.image_url?"Image":U.file_url?"File":U.folder_name?"Folder":"Unknown","\n"),U.paragraph)z+="".concat(U.paragraph,"\n\n"),L==null||L.file("content_".concat(U.content_order,".txt"),U.paragraph);else if(U.link)z+="URL: ".concat(U.link,"\n\n"),L==null||L.file("link_".concat(U.content_order,".url"),"[InternetShortcut]\nURL=".concat(U.link));else if(U.image_url||U.file_url){const P=U.image_url||U.file_url||"",$=P.split("/").pop()||"file_".concat(U.content_order);z+="Filename: ".concat($,"\n");try{const F=await fetch(P);if(!F.ok)throw new Error("HTTP ".concat(F.status));const N=await F.blob();L==null||L.file($,N),z+="Status: Downloaded successfully\n\n"}catch(F){const N=F;z+="Status: Download failed (".concat(N.message,")\n\n")}}else U.folder_name&&(z+="Folder: ".concat(U.folder_name,"\n\n"));return L==null||L.file("page_contents.txt",z),await M.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})},_=async()=>{try{s(!0);const M=await S(),T=document.createElement("a");T.href=URL.createObjectURL(M),T.download="".concat(t.page_title||"journal-page",".zip"),document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(T.href),v({message:"Download started successfully",duration:3e3,color:"success"})}catch(M){console.error("Error creating zip:",M),v({message:"Failed to prepare download. Please try again.",duration:3e3,color:"danger"})}finally{s(!1)}},A=async()=>{try{g(!0);const M=await S();await new Promise(T=>setTimeout(T,2e3)),v({message:'File "'.concat(t.page_title||"journal-page",'.zip" would be uploaded to Google Drive in a real implementation.'),duration:3e3,color:"success"})}catch(M){console.error("Error uploading to Google Drive:",M),v({message:"Failed to upload to Google Drive. Please try again.",duration:3e3,color:"danger"})}finally{g(!1)}},D=M=>{if(h)return;const T=M==="prev"?l.prev:l.next;T&&(f(!0),d(M==="prev"?"right":"left"),setTimeout(()=>{x.push("/cephaline-supabase/app/JournalPageView/".concat(n,"/").concat(T)),f(!1),d(null)},300))},I=M=>{const T=()=>M.paragraph?H_:M.image_url?Mv:M.link?Bv:M.file_url||M.folder_name?V_:H_;return k.jsx(er,{className:"content-item",children:k.jsxs(Qn,{children:[k.jsxs(Yn,{lines:"none",children:[k.jsx(Ye,{icon:T(),slot:"start"}),k.jsxs(gn,{children:["Item #",M.content_order]})]}),M.paragraph&&k.jsx("div",{className:"content-paragraph",children:k.jsx(Dn,{children:M.paragraph})}),M.image_url&&k.jsx("div",{className:"content-image",children:k.jsx(mm,{src:M.image_url,alt:"Content ".concat(M.content_order),style:{maxHeight:"300px",objectFit:"contain"}})}),M.link&&k.jsxs(je,{fill:"clear",href:M.link,target:"_blank",rel:"noopener noreferrer",children:[k.jsx(Ye,{icon:Bv,slot:"start"}),"Open Link"]}),M.file_url&&k.jsxs(je,{fill:"clear",href:M.file_url,target:"_blank",rel:"noopener noreferrer",children:[k.jsx(Ye,{icon:V_,slot:"start"}),"View File"]}),M.folder_name&&k.jsx(Dn,{color:"medium",children:k.jsxs("p",{children:["Folder: ",M.folder_name]})})]})},M.content_id)};return a?k.jsx(Dr,{children:k.jsx(fp,{isOpen:a,message:"Loading page..."})}):t?k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsxs(Wn,{children:["Page ",t.page_no]}),k.jsxs(Hn,{slot:"end",children:[k.jsx(je,{onClick:C,children:k.jsx(Ye,{slot:"icon-only",icon:_q})}),k.jsx(je,{onClick:E,children:k.jsx(Ye,{slot:"icon-only",icon:Oq})})]})]})}),k.jsx(Bt,{className:"journal-page-content",children:k.jsx("div",{className:"slide-container ".concat(u?"slide-"+u:""),children:k.jsxs("div",{className:"journal-page-container",children:[k.jsx(Hn,{slot:"start",children:k.jsx(sd,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(n),style:{color:"skyblue"}})}),k.jsxs("div",{className:"journal-page-header",children:[k.jsxs("div",{className:"page-title-with-download",children:[k.jsx("h1",{style:{marginRight:"12px"},children:t.page_title}),k.jsxs(je,{fill:"clear",size:"small",onClick:()=>m(!0),children:[k.jsx(Ye,{icon:W_,slot:"start"}),"Export"]})]}),t.mood&&k.jsxs("div",{className:"mood-display",children:[k.jsx(Ye,{icon:w(t.mood),style:{marginRight:"6px",color:"var(--ion-color-primary)"}}),k.jsx(hp,{color:"tertiary",children:t.mood.charAt(0).toUpperCase()+t.mood.slice(1)})]}),k.jsx("div",{className:"page-metadata",children:k.jsxs(Dn,{color:"medium",children:[k.jsxs("small",{children:["Created: ",y(t.created_at)]}),t.updated_at!==t.created_at&&k.jsxs("small",{children:["  Updated: ",y(t.updated_at)]})]})})]}),k.jsxs("div",{className:"contents-section",children:[k.jsxs("h2",{className:"contents-title",children:["Page Contents",k.jsx(hp,{color:"primary",style:{marginLeft:"8px"},children:i.length})]}),i.length===0?k.jsxs("div",{className:"empty-contents",children:[k.jsx(Dn,{color:"medium",children:"No content items yet."}),k.jsx(je,{fill:"clear",onClick:C,children:"Add Content"})]}):k.jsx("div",{className:"contents-list",children:i.map(I)})]}),k.jsxs("div",{className:"page-navigation",children:[k.jsxs(je,{fill:"clear",disabled:!l.prev||h,onClick:()=>D("prev"),children:[k.jsx(Ye,{slot:"start",icon:Iq}),"Previous"]}),k.jsxs(je,{fill:"clear",disabled:!l.next||h,onClick:()=>D("next"),children:["Next",k.jsx(Ye,{slot:"end",icon:Rq})]})]})]})})}),k.jsx(z$,{isOpen:p,onDidDismiss:()=>m(!1),buttons:[{text:"Download to Device",icon:W_,handler:()=>{_()}},{text:"Upload to Google Drive",icon:Dq,handler:()=>{A()}},{text:"Cancel",icon:bf,role:"cancel"}]}),k.jsx(fp,{isOpen:b,message:"Uploading to Google Drive..."})]}):k.jsxs(Dr,{children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Hn,{slot:"start",children:k.jsx(sd,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(n)})}),k.jsx(Wn,{children:"Page Not Found"})]})}),k.jsx(Bt,{children:k.jsx("div",{className:"ion-padding",children:"The requested page could not be found."})})]})},Tre=()=>{const n=[{name:"Home",url:"/Cephaline-Supabase/app/home",icon:jq},{name:"Profile",url:"/Cephaline-Supabase/app/editProfile",icon:Hq}],t={...{animation:"blink 2s infinite",filter:"drop-shadow(0 0 8px white)"},animationDelay:"0.1s",color:"black"},r={display:"flex",color:"black",margin:"3%"},i={display:"flex",color:"white"};return k.jsxs(k.Fragment,{children:[k.jsxs(A$,{contentId:"main-content",children:[k.jsx(xn,{children:k.jsx(yn,{children:k.jsx(Wn,{style:t,children:"Menu Content"})})}),k.jsxs(Bt,{className:"ion-padding",children:[n.map((o,a)=>k.jsx(I$,{children:k.jsxs(Yn,{style:r,routerLink:o.url,routerDirection:"forward",children:[k.jsx(Ye,{style:t,icon:o.icon,slot:"start"}),o.name]})},a)),k.jsxs(je,{routerLink:"/Cephaline-Supabase",routerDirection:"back",expand:"full",style:{marginTop:"10%",width:"90vw",maxWidth:"250px",height:"auto",padding:"1rem"},children:[k.jsx(Ye,{icon:Fq,slot:"start",children:" "}),"Logout"]})]})]}),k.jsxs(Dr,{id:"main-content",children:[k.jsx(xn,{children:k.jsxs(yn,{children:[k.jsx(Hn,{slot:"start",children:k.jsx(M5,{style:t})}),k.jsx(Wn,{style:i,children:"Menu"})]})}),k.jsxs($l,{id:"main",children:[k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/home",component:TK}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/editProfile",component:fre}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/JournalPage/:journalId?",component:xre}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/page-list/:journalId",component:_re}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/JournalPageView/:journalId/:pageId",component:Sre}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app/Overviewing/:journalId",component:kre}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/app",children:k.jsx(fH,{to:"/Cephaline-Supabase/app/home"})})]})]})]})},Are=({children:n})=>{const e=Da(),t="dev-z73ew72hke24bt8z.us.auth0.com",r="4qIWv52kRoed4sjUGlHjny5IFR0eLdZa",i=window.location.origin,o=a=>{e.push((a==null?void 0:a.returnTo)||"/Cephaline-Supabase/app","forward","replace")};return k.jsx(yq,{domain:t,clientId:r,authorizationParams:{redirect_uri:i},onRedirectCallback:o,children:n})};iU();const Ire=()=>k.jsx(B5,{children:k.jsx(TH,{children:k.jsx(Are,{children:k.jsxs($l,{children:[k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase",component:oK}),k.jsx(ci,{exact:!0,path:"/Cephaline-Supabase/registration",component:wK}),k.jsx(ci,{path:"/Cephaline-Supabase/app",component:Tre})]})})})}),Rre=document.getElementById("root"),Dre=VD.createRoot(Rre);Dre.render(k.jsx(de.StrictMode,{children:k.jsx(Ire,{})}));export{i5 as K,Bre as __vite_legacy_guard,Kn as a,yi as b,Pd as c,Ir as d,hy as e,op as f,vS as g,hv as h,To as i,ht as j,on as k,cv as l,Qre as m,ge as n,Lre as o,Pre as p,js as q,Rs as r,Jre as s,ur as w};
