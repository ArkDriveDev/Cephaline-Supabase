var yU=Object.defineProperty;var vU=(t,e,n)=>e in t?yU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var If=(t,e,n)=>(vU(t,typeof e!="symbol"?e+"":e,n),n);function m7e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function wU(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var MN={exports:{}},c1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU=Symbol.for("react.transitional.element"),SU=Symbol.for("react.fragment");function PN(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:kU,type:t,key:i,ref:e!==void 0?e:null,props:n}}c1.Fragment=SU;c1.jsx=PN;c1.jsxs=PN;MN.exports=c1;var S=MN.exports,BN={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=Symbol.for("react.transitional.element"),CU=Symbol.for("react.portal"),EU=Symbol.for("react.fragment"),TU=Symbol.for("react.strict_mode"),IU=Symbol.for("react.profiler"),$U=Symbol.for("react.consumer"),_U=Symbol.for("react.context"),AU=Symbol.for("react.forward_ref"),NU=Symbol.for("react.suspense"),OU=Symbol.for("react.memo"),jN=Symbol.for("react.lazy"),E5=Symbol.iterator;function DU(t){return t===null||typeof t!="object"?null:(t=E5&&t[E5]||t["@@iterator"],typeof t=="function"?t:null)}var UN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VN=Object.assign,HN={};function jh(t,e,n){this.props=t,this.context=e,this.refs=HN,this.updater=n||UN}jh.prototype.isReactComponent={};jh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WN(){}WN.prototype=jh.prototype;function AS(t,e,n){this.props=t,this.context=e,this.refs=HN,this.updater=n||UN}var NS=AS.prototype=new WN;NS.constructor=AS;VN(NS,jh.prototype);NS.isPureReactComponent=!0;var T5=Array.isArray,On={H:null,A:null,T:null,S:null},GN=Object.prototype.hasOwnProperty;function OS(t,e,n,i,r,o){return n=o.ref,{$$typeof:_S,type:t,key:e,ref:n!==void 0?n:null,props:o}}function RU(t,e){return OS(t.type,e,void 0,void 0,void 0,t.props)}function DS(t){return typeof t=="object"&&t!==null&&t.$$typeof===_S}function LU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I5=/\/+/g;function kw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LU(""+t.key):e.toString(36)}function $5(){}function zU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then($5,$5):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function kd(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _S:case CU:s=!0;break;case jN:return s=t._init,kd(s(t._payload),e,n,i,r)}}if(s)return r=r(t),s=i===""?"."+kw(t,0):i,T5(r)?(n="",s!=null&&(n=s.replace(I5,"$&/")+"/"),kd(r,e,n,"",function(c){return c})):r!=null&&(DS(r)&&(r=RU(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(I5,"$&/")+"/")+s)),e.push(r)),1;s=0;var a=i===""?".":i+":";if(T5(t))for(var l=0;l<t.length;l++)i=t[l],o=a+kw(i,l),s+=kd(i,e,n,o,r);else if(l=DU(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,o=a+kw(i,l++),s+=kd(i,e,n,o,r);else if(o==="object"){if(typeof t.then=="function")return kd(zU(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function x0(t,e,n){if(t==null)return t;var i=[],r=0;return kd(t,i,"","",function(o){return e.call(n,o,r++)}),i}function FU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _5=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function MU(){}Et.Children={map:x0,forEach:function(t,e,n){x0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return x0(t,function(){e++}),e},toArray:function(t){return x0(t,function(e){return e})||[]},only:function(t){if(!DS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=jh;Et.Fragment=EU;Et.Profiler=IU;Et.PureComponent=AS;Et.StrictMode=TU;Et.Suspense=NU;Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=On;Et.act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.cache=function(t){return function(){return t.apply(null,arguments)}};Et.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=VN({},t.props),r=t.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(r=""+e.key),e)!GN.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return OS(t.type,r,void 0,void 0,o,i)};Et.createContext=function(t){return t={$$typeof:_U,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:$U,_context:t},t};Et.createElement=function(t,e,n){var i,r={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)GN.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return OS(t,o,void 0,void 0,null,r)};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:AU,render:t}};Et.isValidElement=DS;Et.lazy=function(t){return{$$typeof:jN,_payload:{_status:-1,_result:t},_init:FU}};Et.memo=function(t,e){return{$$typeof:OU,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=On.T,n={};On.T=n;try{var i=t(),r=On.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(MU,_5)}catch(o){_5(o)}finally{On.T=e}};Et.unstable_useCacheRefresh=function(){return On.H.useCacheRefresh()};Et.use=function(t){return On.H.use(t)};Et.useActionState=function(t,e,n){return On.H.useActionState(t,e,n)};Et.useCallback=function(t,e){return On.H.useCallback(t,e)};Et.useContext=function(t){return On.H.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t,e){return On.H.useDeferredValue(t,e)};Et.useEffect=function(t,e){return On.H.useEffect(t,e)};Et.useId=function(){return On.H.useId()};Et.useImperativeHandle=function(t,e,n){return On.H.useImperativeHandle(t,e,n)};Et.useInsertionEffect=function(t,e){return On.H.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return On.H.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return On.H.useMemo(t,e)};Et.useOptimistic=function(t,e){return On.H.useOptimistic(t,e)};Et.useReducer=function(t,e,n){return On.H.useReducer(t,e,n)};Et.useRef=function(t){return On.H.useRef(t)};Et.useState=function(t){return On.H.useState(t)};Et.useSyncExternalStore=function(t,e,n){return On.H.useSyncExternalStore(t,e,n)};Et.useTransition=function(){return On.H.useTransition()};Et.version="19.0.0";BN.exports=Et;var te=BN.exports;const Ne=Ja(te);var qN={exports:{}},u1={},XN={exports:{}},KN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var V=j.length;j.push(W);e:for(;0<V;){var B=V-1>>>1,K=j[B];if(0<r(K,W))j[B]=W,j[V]=K,V=B;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var W=j[0],V=j.pop();if(V!==W){j[0]=V;e:for(var B=0,K=j.length,q=K>>>1;B<q;){var G=2*(B+1)-1,le=j[G],oe=G+1,re=j[oe];if(0>r(le,V))oe<K&&0>r(re,le)?(j[B]=re,j[oe]=V,B=oe):(j[B]=le,j[G]=V,B=G);else if(oe<K&&0>r(re,V))j[B]=re,j[oe]=V,B=oe;else break e}}return W}function r(j,W){var V=j.sortIndex-W.sortIndex;return V!==0?V:j.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function y(j){for(var W=n(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=j)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function v(j){if(m=!1,y(j),!p)if(n(l)!==null)p=!0,$();else{var W=n(c);W!==null&&F(v,W.startTime-j)}}var w=!1,E=-1,C=5,I=-1;function T(){return!(t.unstable_now()-I<C)}function _(){if(w){var j=t.unstable_now();I=j;var W=!0;try{e:{p=!1,m&&(m=!1,g(E),E=-1),f=!0;var V=h;try{t:{for(y(j),d=n(l);d!==null&&!(d.expirationTime>j&&T());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var K=B(d.expirationTime<=j);if(j=t.unstable_now(),typeof K=="function"){d.callback=K,y(j),W=!0;break t}d===n(l)&&i(l),y(j)}else i(l);d=n(l)}if(d!==null)W=!0;else{var q=n(c);q!==null&&F(v,q.startTime-j),W=!1}}break e}finally{d=null,h=V,f=!1}W=void 0}}finally{W?M():w=!1}}}var M;if(typeof x=="function")M=function(){x(_)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=_,M=function(){z.postMessage(null)}}else M=function(){b(_,0)};function $(){w||(w=!0,M())}function F(j,W){E=b(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,$())},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var V=h;h=W;try{return j()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return W()}finally{h=V}},t.unstable_scheduleCallback=function(j,W,V){var B=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?B+V:B):V=B,j){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,j={id:u++,callback:W,priorityLevel:j,startTime:V,expirationTime:K,sortIndex:-1},V>B?(j.sortIndex=V,e(c,j),n(l)===null&&j===n(c)&&(m?(g(E),E=-1):m=!0,F(v,V-B))):(j.sortIndex=K,e(l,j),p||f||(p=!0,$())),j},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(j){var W=h;return function(){var V=h;h=W;try{return j.apply(this,arguments)}finally{h=V}}}})(KN);XN.exports=KN;var PU=XN.exports,YN={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BU=te;function ZN(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ll(){}var yr={d:{f:ll,r:function(){throw Error(ZN(522))},D:ll,C:ll,L:ll,m:ll,X:ll,S:ll,M:ll},p:0,findDOMNode:null},jU=Symbol.for("react.portal");function UU(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jU,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var sp=BU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d1(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yr;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ZN(299));return UU(t,e,null,n)};Ir.flushSync=function(t){var e=sp.T,n=yr.p;try{if(sp.T=null,yr.p=2,t)return t()}finally{sp.T=e,yr.p=n,yr.d.f()}};Ir.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,yr.d.C(t,e))};Ir.prefetchDNS=function(t){typeof t=="string"&&yr.d.D(t)};Ir.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=d1(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?yr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):n==="script"&&yr.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ir.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=d1(e.as,e.crossOrigin);yr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&yr.d.M(t)};Ir.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=d1(n,e.crossOrigin);yr.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ir.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=d1(e.as,e.crossOrigin);yr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else yr.d.m(t)};Ir.requestFormReset=function(t){yr.d.r(t)};Ir.unstable_batchedUpdates=function(t,e){return t(e)};Ir.useFormState=function(t,e,n){return sp.H.useFormState(t,e,n)};Ir.useFormStatus=function(){return sp.H.useHostTransitionStatus()};Ir.version="19.0.0";function JN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JN)}catch(t){console.error(t)}}JN(),YN.exports=Ir;var RS=YN.exports;const VU=Ja(RS);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=PU,QN=te,HU=RS;function Ee(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var WU=Symbol.for("react.element"),y0=Symbol.for("react.transitional.element"),qf=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),t8=Symbol.for("react.strict_mode"),ek=Symbol.for("react.profiler"),GU=Symbol.for("react.provider"),n8=Symbol.for("react.consumer"),$a=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),tk=Symbol.for("react.suspense"),nk=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),yl=Symbol.for("react.lazy"),i8=Symbol.for("react.offscreen"),qU=Symbol.for("react.memo_cache_sentinel"),A5=Symbol.iterator;function $f(t){return t===null||typeof t!="object"?null:(t=A5&&t[A5]||t["@@iterator"],typeof t=="function"?t:null)}var XU=Symbol.for("react.client.reference");function ik(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===XU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ld:return"Fragment";case qf:return"Portal";case ek:return"Profiler";case t8:return"StrictMode";case tk:return"Suspense";case nk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $a:return(t.displayName||"Context")+".Provider";case n8:return(t._context.displayName||"Context")+".Consumer";case LS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zS:return e=t.displayName||null,e!==null?e:ik(t.type)||"Memo";case yl:e=t._payload,t=t._init;try{return ik(t(e))}catch(n){}}return null}var yt=QN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cn=Object.assign,Sw,N5;function Xf(t){if(Sw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sw=e&&e[1]||"",N5=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Sw+t+N5}var Cw=!1;function Ew(t,e){if(!t||Cw)return"";Cw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(t,[],d)}else{try{d.call()}catch(f){h=f}t.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=r);break}}}finally{Cw=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Xf(n):""}function KU(t){switch(t.tag){case 26:case 27:case 5:return Xf(t.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 15:return t=Ew(t.type,!1),t;case 11:return t=Ew(t.type.render,!1),t;case 1:return t=Ew(t.type,!0),t;default:return""}}function O5(t){try{var e="";do e+=KU(t),t=t.return;while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function Uh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D5(t){if(Uh(t)!==t)throw Error(Ee(188))}function YU(t){var e=t.alternate;if(!e){if(e=Uh(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return D5(r),t;if(o===i)return D5(r),e;o=o.sibling}throw Error(Ee(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(Ee(189))}}if(n.alternate!==i)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function o8(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=o8(t),e!==null)return e;t=t.sibling}return null}var Kf=Array.isArray,kn=HU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eu={pending:!1,data:null,method:null,action:null},rk=[],zd=-1;function sa(t){return{current:t}}function Oi(t){0>zd||(t.current=rk[zd],rk[zd]=null,zd--)}function In(t,e){zd++,rk[zd]=t.current,t.current=e}var qs=sa(null),Ip=sa(null),Ll=sa(null),Db=sa(null);function Rb(t,e){switch(In(Ll,e),In(Ip,t),In(qs,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?R6(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=R6(t),e=bD(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Oi(qs),In(qs,e)}function fh(){Oi(qs),Oi(Ip),Oi(Ll)}function ok(t){t.memoizedState!==null&&In(Db,t);var e=qs.current,n=bD(e,t.type);e!==n&&(In(Ip,t),In(qs,n))}function Lb(t){Ip.current===t&&(Oi(qs),Oi(Ip)),Db.current===t&&(Oi(Db),Mp._currentValue=eu)}var sk=Object.prototype.hasOwnProperty,FS=xi.unstable_scheduleCallback,Tw=xi.unstable_cancelCallback,ZU=xi.unstable_shouldYield,JU=xi.unstable_requestPaint,Xs=xi.unstable_now,QU=xi.unstable_getCurrentPriorityLevel,s8=xi.unstable_ImmediatePriority,a8=xi.unstable_UserBlockingPriority,zb=xi.unstable_NormalPriority,eV=xi.unstable_LowPriority,l8=xi.unstable_IdlePriority,tV=xi.log,nV=xi.unstable_setDisableYieldValue,mm=null,ho=null;function iV(t){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch(e){}}function Al(t){if(typeof tV=="function"&&nV(t),ho&&typeof ho.setStrictMode=="function")try{ho.setStrictMode(mm,t)}catch(e){}}var fo=Math.clz32?Math.clz32:sV,rV=Math.log,oV=Math.LN2;function sV(t){return t>>>=0,t===0?32:31-(rV(t)/oV|0)|0}var v0=128,w0=4194304;function zc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function h1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~r,n!==0?i=zc(n):(o&=a,o!==0?i=zc(o):t||(s=a&~s,s!==0&&(i=zc(s))))):(a=n&~r,a!==0?i=zc(a):o!==0?i=zc(o):t||(s=n&~s,s!==0&&(i=zc(s)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===32&&(s&4194176)!==0)?e:i}function gm(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function aV(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c8(){var t=v0;return v0<<=1,!(v0&4194176)&&(v0=128),t}function u8(){var t=w0;return w0<<=1,!(w0&62914560)&&(w0=4194304),t}function Iw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bm(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lV(t,e,n,i,r,o){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fo(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];f!==null&&(f.lane&=-536870913)}n&=~d}i!==0&&d8(t,i,0),o!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=o&~(s&~e))}function d8(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-fo(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function h8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-fo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function f8(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function p8(){var t=kn.p;return t!==0?t:(t=window.event,t===void 0?32:ID(t.type))}function cV(t,e){var n=kn.p;try{return kn.p=t,e()}finally{kn.p=n}}var dc=Math.random().toString(36).slice(2),nr="__reactFiber$"+dc,Vr="__reactProps$"+dc,Vh="__reactContainer$"+dc,ak="__reactEvents$"+dc,uV="__reactListeners$"+dc,dV="__reactHandles$"+dc,R5="__reactResources$"+dc,$p="__reactMarker$"+dc;function MS(t){delete t[nr],delete t[Vr],delete t[ak],delete t[uV],delete t[dV]}function Gc(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vh]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z6(t);t!==null;){if(n=t[nr])return n;t=z6(t)}return e}t=n,n=t.parentNode}return null}function Hh(t){if(t=t[nr]||t[Vh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Yf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Ee(33))}function Kd(t){var e=t[R5];return e||(e=t[R5]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ti(t){t[$p]=!0}var m8=new Set,g8={};function Fu(t,e){ph(t,e),ph(t+"Capture",e)}function ph(t,e){for(g8[t]=e,t=0;t<e.length;t++)m8.add(e[t])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hV=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L5={},z5={};function fV(t){return sk.call(z5,t)?!0:sk.call(L5,t)?!1:hV.test(t)?z5[t]=!0:(L5[t]=!0,!1)}function db(t,e,n){if(fV(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function k0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function fa(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function zo(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pV(t){var e=b8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fb(t){t._valueTracker||(t._valueTracker=pV(t))}function x8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=b8(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Mb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var mV=/[\n"\\]/g;function Po(t){return t.replace(mV,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lk(t,e,n,i,r,o,s,a){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+zo(e)):t.value!==""+zo(e)&&(t.value=""+zo(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ck(t,s,zo(e)):n!=null?ck(t,s,zo(n)):i!=null&&t.removeAttribute("value"),r==null&&o!=null&&(t.defaultChecked=!!o),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+zo(a):t.removeAttribute("name")}function y8(t,e,n,i,r,o,s,a){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+zo(n):"",e=e!=null?""+zo(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i!=null?i:r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function ck(t,e,n){e==="number"&&Mb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Yd(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+zo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function v8(t,e,n){if(e!=null&&(e=""+zo(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+zo(n):""}function w8(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(Ee(92));if(Kf(i)){if(1<i.length)throw Error(Ee(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=zo(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gV=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F5(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||gV.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function k8(t,e,n){if(e!=null&&typeof e!="object")throw Error(Ee(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&F5(t,r,i)}else for(var o in e)e.hasOwnProperty(o)&&F5(t,o,e[o])}function PS(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bV=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hb(t){return xV.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var uk=null;function BS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fd=null,Zd=null;function M5(t){var e=Hh(t);if(e&&(t=e.stateNode)){var n=t[Vr]||null;e:switch(t=e.stateNode,e.type){case"input":if(lk(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Po(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Vr]||null;if(!r)throw Error(Ee(90));lk(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&x8(i)}break e;case"textarea":v8(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Yd(t,!!n.multiple,e,!1)}}}var $w=!1;function S8(t,e,n){if($w)return t(e,n);$w=!0;try{var i=t(e);return i}finally{if($w=!1,(Fd!==null||Zd!==null)&&(k1(),Fd&&(e=Fd,t=Zd,Zd=Fd=null,M5(e),t)))for(e=0;e<t.length;e++)M5(t[e])}}function _p(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Vr]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var dk=!1;if(ja)try{var _f={};Object.defineProperty(_f,"passive",{get:function(){dk=!0}}),window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch(t){dk=!1}var Nl=null,jS=null,fb=null;function C8(){if(fb)return fb;var t,e=jS,n=e.length,i,r="value"in Nl?Nl.value:Nl.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return fb=r.slice(t,1<i?1-i:void 0)}function pb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function S0(){return!0}function P5(){return!1}function Zr(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?S0:P5,this.isPropagationStopped=P5,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=S0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=S0)},persist:function(){},isPersistent:S0}),e}var Mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f1=Zr(Mu),xm=Cn({},Mu,{view:0,detail:0}),yV=Zr(xm),_w,Aw,Af,p1=Cn({},xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:US,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Af&&(Af&&t.type==="mousemove"?(_w=t.screenX-Af.screenX,Aw=t.screenY-Af.screenY):Aw=_w=0,Af=t),_w)},movementY:function(t){return"movementY"in t?t.movementY:Aw}}),B5=Zr(p1),vV=Cn({},p1,{dataTransfer:0}),wV=Zr(vV),kV=Cn({},xm,{relatedTarget:0}),Nw=Zr(kV),SV=Cn({},Mu,{animationName:0,elapsedTime:0,pseudoElement:0}),CV=Zr(SV),EV=Cn({},Mu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TV=Zr(EV),IV=Cn({},Mu,{data:0}),j5=Zr(IV),$V={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_V={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AV[t])?!!e[t]:!1}function US(){return NV}var OV=Cn({},xm,{key:function(t){if(t.key){var e=$V[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_V[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:US,charCode:function(t){return t.type==="keypress"?pb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DV=Zr(OV),RV=Cn({},p1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U5=Zr(RV),LV=Cn({},xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:US}),zV=Zr(LV),FV=Cn({},Mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),MV=Zr(FV),PV=Cn({},p1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BV=Zr(PV),jV=Cn({},Mu,{newState:0,oldState:0}),UV=Zr(jV),VV=[9,13,27,32],VS=ja&&"CompositionEvent"in window,ap=null;ja&&"documentMode"in document&&(ap=document.documentMode);var HV=ja&&"TextEvent"in window&&!ap,E8=ja&&(!VS||ap&&8<ap&&11>=ap),V5=" ",H5=!1;function T8(t,e){switch(t){case"keyup":return VV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Md=!1;function WV(t,e){switch(t){case"compositionend":return I8(e);case"keypress":return e.which!==32?null:(H5=!0,V5);case"textInput":return t=e.data,t===V5&&H5?null:t;default:return null}}function GV(t,e){if(Md)return t==="compositionend"||!VS&&T8(t,e)?(t=C8(),fb=jS=Nl=null,Md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E8&&e.locale!=="ko"?null:e.data;default:return null}}var qV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qV[t.type]:e==="textarea"}function $8(t,e,n,i){Fd?Zd?Zd.push(i):Zd=[i]:Fd=i,e=ex(e,"onChange"),0<e.length&&(n=new f1("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lp=null,Ap=null;function XV(t){pD(t,0)}function m1(t){var e=Yf(t);if(x8(e))return t}function G5(t,e){if(t==="change")return e}var _8=!1;if(ja){var Ow;if(ja){var Dw="oninput"in document;if(!Dw){var q5=document.createElement("div");q5.setAttribute("oninput","return;"),Dw=typeof q5.oninput=="function"}Ow=Dw}else Ow=!1;_8=Ow&&(!document.documentMode||9<document.documentMode)}function X5(){lp&&(lp.detachEvent("onpropertychange",A8),Ap=lp=null)}function A8(t){if(t.propertyName==="value"&&m1(Ap)){var e=[];$8(e,Ap,t,BS(t)),S8(XV,e)}}function KV(t,e,n){t==="focusin"?(X5(),lp=e,Ap=n,lp.attachEvent("onpropertychange",A8)):t==="focusout"&&X5()}function YV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return m1(Ap)}function ZV(t,e){if(t==="click")return m1(e)}function JV(t,e){if(t==="input"||t==="change")return m1(e)}function QV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bo=typeof Object.is=="function"?Object.is:QV;function Np(t,e){if(bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sk.call(e,r)||!bo(t[r],e[r]))return!1}return!0}function K5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y5(t,e){var n=K5(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K5(n)}}function N8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Mb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Mb(t.document)}return e}function HS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eH(t,e){var n=O8(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&N8(e.ownerDocument.documentElement,e)){if(i!==null&&HS(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=Y5(e,o);var s=Y5(e,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tH=ja&&"documentMode"in document&&11>=document.documentMode,Pd=null,hk=null,cp=null,fk=!1;function Z5(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fk||Pd==null||Pd!==Mb(i)||(i=Pd,"selectionStart"in i&&HS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cp&&Np(cp,i)||(cp=i,i=ex(hk,"onSelect"),0<i.length&&(e=new f1("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Pd)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bd={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionrun:Ac("Transition","TransitionRun"),transitionstart:Ac("Transition","TransitionStart"),transitioncancel:Ac("Transition","TransitionCancel"),transitionend:Ac("Transition","TransitionEnd")},Rw={},D8={};ja&&(D8=document.createElement("div").style,"AnimationEvent"in window||(delete Bd.animationend.animation,delete Bd.animationiteration.animation,delete Bd.animationstart.animation),"TransitionEvent"in window||delete Bd.transitionend.transition);function Pu(t){if(Rw[t])return Rw[t];if(!Bd[t])return t;var e=Bd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D8)return Rw[t]=e[n];return t}var R8=Pu("animationend"),L8=Pu("animationiteration"),z8=Pu("animationstart"),nH=Pu("transitionrun"),iH=Pu("transitionstart"),rH=Pu("transitioncancel"),F8=Pu("transitionend"),M8=new Map,J5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ns(t,e){M8.set(t,e),Fu(e,[t])}var Ro=[],jd=0,WS=0;function g1(){for(var t=jd,e=WS=jd=0;e<t;){var n=Ro[e];Ro[e++]=null;var i=Ro[e];Ro[e++]=null;var r=Ro[e];Ro[e++]=null;var o=Ro[e];if(Ro[e++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}o!==0&&P8(n,r,o)}}function b1(t,e,n,i){Ro[jd++]=t,Ro[jd++]=e,Ro[jd++]=n,Ro[jd++]=i,WS|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function GS(t,e,n,i){return b1(t,e,n,i),Pb(t)}function Xl(t,e){return b1(t,null,null,e),Pb(t)}function P8(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(r=!0)),t=o,o=o.return;r&&e!==null&&t.tag===3&&(o=t.stateNode,r=31-fo(n),o=o.hiddenUpdates,t=o[r],t===null?o[r]=[e]:t.push(e),e.lane=n|536870912)}function Pb(t){if(50<wp)throw wp=0,Lk=null,Error(Ee(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ud={},Q5=new WeakMap;function Bo(t,e){if(typeof t=="object"&&t!==null){var n=Q5.get(t);return n!==void 0?n:(e={value:t,source:e,stack:O5(e)},Q5.set(t,e),e)}return{value:t,source:e,stack:O5(e)}}var Vd=[],Hd=0,Bb=null,jb=0,Fo=[],Mo=0,tu=null,_a=1,Aa="";function Fc(t,e){Vd[Hd++]=jb,Vd[Hd++]=Bb,Bb=t,jb=e}function B8(t,e,n){Fo[Mo++]=_a,Fo[Mo++]=Aa,Fo[Mo++]=tu,tu=t;var i=_a;t=Aa;var r=32-fo(i)-1;i&=~(1<<r),n+=1;var o=32-fo(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,_a=1<<32-fo(e)+r|n<<r|i,Aa=o+t}else _a=1<<o|n<<r|i,Aa=t}function qS(t){t.return!==null&&(Fc(t,1),B8(t,1,0))}function XS(t){for(;t===Bb;)Bb=Vd[--Hd],Vd[Hd]=null,jb=Vd[--Hd],Vd[Hd]=null;for(;t===tu;)tu=Fo[--Mo],Fo[Mo]=null,Aa=Fo[--Mo],Fo[Mo]=null,_a=Fo[--Mo],Fo[Mo]=null}var gr=null,Hi=null,Ut=!1,gs=null,Hs=!1,pk=Error(Ee(519));function du(t){var e=Error(Ee(418,""));throw Op(Bo(e,t)),pk}function e6(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[nr]=t,e[Vr]=i,n){case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":case"embed":Lt("load",e);break;case"video":case"audio":for(n=0;n<Lp.length;n++)Lt(Lp[n],e);break;case"source":Lt("error",e);break;case"img":case"image":case"link":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"input":Lt("invalid",e),y8(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Fb(e);break;case"select":Lt("invalid",e);break;case"textarea":Lt("invalid",e),w8(e,i.value,i.defaultValue,i.children),Fb(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||gD(e.textContent,n)?(i.popover!=null&&(Lt("beforetoggle",e),Lt("toggle",e)),i.onScroll!=null&&Lt("scroll",e),i.onScrollEnd!=null&&Lt("scrollend",e),i.onClick!=null&&(e.onclick=C1),e=!0):e=!1,e||du(t)}function t6(t){for(gr=t.return;gr;)switch(gr.tag){case 3:case 27:Hs=!0;return;case 5:case 13:Hs=!1;return;default:gr=gr.return}}function Nf(t){if(t!==gr)return!1;if(!Ut)return t6(t),Ut=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Uk(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&Hi&&du(t),t6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Hi=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Hi=null}}else Hi=gr?ws(t.stateNode.nextSibling):null;return!0}function ym(){Hi=gr=null,Ut=!1}function Op(t){gs===null?gs=[t]:gs.push(t)}var up=Error(Ee(460)),j8=Error(Ee(474)),mk={then:function(){}};function n6(t){return t=t.status,t==="fulfilled"||t==="rejected"}function C0(){}function U8(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(C0,C0),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===up?Error(Ee(483)):t;default:if(typeof e.status=="string")e.then(C0,C0);else{if(t=mn,t!==null&&100<t.shellSuspendCounter)throw Error(Ee(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===up?Error(Ee(483)):t}throw dp=e,up}}var dp=null;function i6(){if(dp===null)throw Error(Ee(459));var t=dp;return dp=null,t}var Jd=null,Dp=0;function E0(t){var e=Dp;return Dp+=1,Jd===null&&(Jd=[]),U8(Jd,t,e)}function Of(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function T0(t,e){throw e.$$typeof===WU?Error(Ee(525)):(t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function r6(t){var e=t._init;return e(t._payload)}function V8(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function r(g,x){return g=Ml(g,x),g.index=0,g.sibling=null,g}function o(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=33554434,x):y):(g.flags|=33554434,x)):(g.flags|=1048576,x)}function s(g){return t&&g.alternate===null&&(g.flags|=33554434),g}function a(g,x,y,v){return x===null||x.tag!==6?(x=Gw(y,g.mode,v),x.return=g,x):(x=r(x,y),x.return=g,x)}function l(g,x,y,v){var w=y.type;return w===Ld?u(g,x,y.props.children,v,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yl&&r6(w)===x.type)?(x=r(x,y.props),Of(x,y),x.return=g,x):(x=yb(y.type,y.key,y.props,null,g.mode,v),Of(x,y),x.return=g,x)}function c(g,x,y,v){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=qw(y,g.mode,v),x.return=g,x):(x=r(x,y.children||[]),x.return=g,x)}function u(g,x,y,v,w){return x===null||x.tag!==7?(x=iu(y,g.mode,v,w),x.return=g,x):(x=r(x,y),x.return=g,x)}function d(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Gw(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case y0:return y=yb(x.type,x.key,x.props,null,g.mode,y),Of(y,x),y.return=g,y;case qf:return x=qw(x,g.mode,y),x.return=g,x;case yl:var v=x._init;return x=v(x._payload),d(g,x,y)}if(Kf(x)||$f(x))return x=iu(x,g.mode,y,null),x.return=g,x;if(typeof x.then=="function")return d(g,E0(x),y);if(x.$$typeof===$a)return d(g,I0(g,x),y);T0(g,x)}return null}function h(g,x,y,v){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:a(g,x,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case y0:return y.key===w?l(g,x,y,v):null;case qf:return y.key===w?c(g,x,y,v):null;case yl:return w=y._init,y=w(y._payload),h(g,x,y,v)}if(Kf(y)||$f(y))return w!==null?null:u(g,x,y,v,null);if(typeof y.then=="function")return h(g,x,E0(y),v);if(y.$$typeof===$a)return h(g,x,I0(g,y),v);T0(g,y)}return null}function f(g,x,y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(y)||null,a(x,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case y0:return g=g.get(v.key===null?y:v.key)||null,l(x,g,v,w);case qf:return g=g.get(v.key===null?y:v.key)||null,c(x,g,v,w);case yl:var E=v._init;return v=E(v._payload),f(g,x,y,v,w)}if(Kf(v)||$f(v))return g=g.get(y)||null,u(x,g,v,w,null);if(typeof v.then=="function")return f(g,x,y,E0(v),w);if(v.$$typeof===$a)return f(g,x,y,I0(x,v),w);T0(x,v)}return null}function p(g,x,y,v){for(var w=null,E=null,C=x,I=x=0,T=null;C!==null&&I<y.length;I++){C.index>I?(T=C,C=null):T=C.sibling;var _=h(g,C,y[I],v);if(_===null){C===null&&(C=T);break}t&&C&&_.alternate===null&&e(g,C),x=o(_,x,I),E===null?w=_:E.sibling=_,E=_,C=T}if(I===y.length)return n(g,C),Ut&&Fc(g,I),w;if(C===null){for(;I<y.length;I++)C=d(g,y[I],v),C!==null&&(x=o(C,x,I),E===null?w=C:E.sibling=C,E=C);return Ut&&Fc(g,I),w}for(C=i(C);I<y.length;I++)T=f(C,g,I,y[I],v),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?I:T.key),x=o(T,x,I),E===null?w=T:E.sibling=T,E=T);return t&&C.forEach(function(M){return e(g,M)}),Ut&&Fc(g,I),w}function m(g,x,y,v){if(y==null)throw Error(Ee(151));for(var w=null,E=null,C=x,I=x=0,T=null,_=y.next();C!==null&&!_.done;I++,_=y.next()){C.index>I?(T=C,C=null):T=C.sibling;var M=h(g,C,_.value,v);if(M===null){C===null&&(C=T);break}t&&C&&M.alternate===null&&e(g,C),x=o(M,x,I),E===null?w=M:E.sibling=M,E=M,C=T}if(_.done)return n(g,C),Ut&&Fc(g,I),w;if(C===null){for(;!_.done;I++,_=y.next())_=d(g,_.value,v),_!==null&&(x=o(_,x,I),E===null?w=_:E.sibling=_,E=_);return Ut&&Fc(g,I),w}for(C=i(C);!_.done;I++,_=y.next())_=f(C,g,I,_.value,v),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?I:_.key),x=o(_,x,I),E===null?w=_:E.sibling=_,E=_);return t&&C.forEach(function(D){return e(g,D)}),Ut&&Fc(g,I),w}function b(g,x,y,v){if(typeof y=="object"&&y!==null&&y.type===Ld&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case y0:e:{for(var w=y.key;x!==null;){if(x.key===w){if(w=y.type,w===Ld){if(x.tag===7){n(g,x.sibling),v=r(x,y.props.children),v.return=g,g=v;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yl&&r6(w)===x.type){n(g,x.sibling),v=r(x,y.props),Of(v,y),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}y.type===Ld?(v=iu(y.props.children,g.mode,v,y.key),v.return=g,g=v):(v=yb(y.type,y.key,y.props,null,g.mode,v),Of(v,y),v.return=g,g=v)}return s(g);case qf:e:{for(w=y.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),v=r(x,y.children||[]),v.return=g,g=v;break e}else{n(g,x);break}else e(g,x);x=x.sibling}v=qw(y,g.mode,v),v.return=g,g=v}return s(g);case yl:return w=y._init,y=w(y._payload),b(g,x,y,v)}if(Kf(y))return p(g,x,y,v);if($f(y)){if(w=$f(y),typeof w!="function")throw Error(Ee(150));return y=w.call(y),m(g,x,y,v)}if(typeof y.then=="function")return b(g,x,E0(y),v);if(y.$$typeof===$a)return b(g,x,I0(g,y),v);T0(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),v=r(x,y),v.return=g,g=v):(n(g,x),v=Gw(y,g.mode,v),v.return=g,g=v),s(g)):n(g,x)}return function(g,x,y,v){try{Dp=0;var w=b(g,x,y,v);return Jd=null,w}catch(C){if(C===up)throw C;var E=Uo(29,C,null,g.mode);return E.lanes=v,E.return=g,E}finally{}}}var hu=V8(!0),H8=V8(!1),gh=sa(null),Ub=sa(0);function o6(t,e){t=Ha,In(Ub,t),In(gh,e),Ha=t|e.baseLanes}function gk(){In(Ub,Ha),In(gh,gh.current)}function KS(){Ha=Ub.current,Oi(gh),Oi(Ub)}var Qo=sa(null),Ks=null;function Cl(t){var e=t.alternate;In(mi,mi.current&1),In(Qo,t),Ks===null&&(e===null||gh.current!==null||e.memoizedState!==null)&&(Ks=t)}function W8(t){if(t.tag===22){if(In(mi,mi.current),In(Qo,t),Ks===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ks=t)}}else El()}function El(){In(mi,mi.current),In(Qo,Qo.current)}function Na(t){Oi(Qo),Ks===t&&(Ks=null),Oi(mi)}var mi=sa(0);function Vb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oH=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},sH=xi.unstable_scheduleCallback,aH=xi.unstable_NormalPriority,hi={$$typeof:$a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function YS(){return{controller:new oH,data:new Map,refCount:0}}function vm(t){t.refCount--,t.refCount===0&&sH(aH,function(){t.controller.abort()})}var hp=null,bk=0,bh=0,Qd=null;function lH(t,e){if(hp===null){var n=hp=[];bk=0,bh=y4(),Qd={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bk++,e.then(s6,s6),e}function s6(){if(--bk===0&&hp!==null){Qd!==null&&(Qd.status="fulfilled");var t=hp;hp=null,bh=0,Qd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function cH(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var a6=yt.S;yt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&lH(t,e),a6!==null&&a6(t,e)};var nu=sa(null);function ZS(){var t=nu.current;return t!==null?t:mn.pooledCache}function mb(t,e){e===null?In(nu,nu.current):In(nu,e.pool)}function G8(){var t=ZS();return t===null?null:{parent:hi._currentValue,pool:t}}var Kl=0,_t=null,Jt=null,Zn=null,Hb=!1,eh=!1,fu=!1,Wb=0,Rp=0,th=null,uH=0;function Xn(){throw Error(Ee(321))}function JS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bo(t[n],e[n]))return!1;return!0}function QS(t,e,n,i,r,o){return Kl=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yt.H=t===null||t.memoizedState===null?Bu:hc,fu=!1,o=n(i,r),fu=!1,eh&&(o=X8(e,n,i,r)),q8(t),o}function q8(t){yt.H=ta;var e=Jt!==null&&Jt.next!==null;if(Kl=0,Zn=Jt=_t=null,Hb=!1,Rp=0,th=null,e)throw Error(Ee(300));t===null||Ni||(t=t.dependencies,t!==null&&Xb(t)&&(Ni=!0))}function X8(t,e,n,i){_t=t;var r=0;do{if(eh&&(th=null),Rp=0,eh=!1,25<=r)throw Error(Ee(301));if(r+=1,Zn=Jt=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}yt.H=ju,o=e(n,i)}while(eh);return o}function dH(){var t=yt.H,e=t.useState()[0];return e=typeof e.then=="function"?wm(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(_t.flags|=1024),e}function e4(){var t=Wb!==0;return Wb=0,t}function t4(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function n4(t){if(Hb){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Hb=!1}Kl=0,Zn=Jt=_t=null,eh=!1,Rp=Wb=0,th=null}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?_t.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function ni(){if(Jt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=Zn===null?_t.memoizedState:Zn.next;if(e!==null)Zn=e,Jt=t;else{if(t===null)throw _t.alternate===null?Error(Ee(467)):Error(Ee(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Zn===null?_t.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}var x1;x1=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wm(t){var e=Rp;return Rp+=1,th===null&&(th=[]),t=U8(th,t,e),e=_t,(Zn===null?e.memoizedState:Zn.next)===null&&(e=e.alternate,yt.H=e===null||e.memoizedState===null?Bu:hc),t}function y1(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wm(t);if(t.$$typeof===$a)return ir(t)}throw Error(Ee(438,String(t)))}function i4(t){var e=null,n=_t.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=_t.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=x1(),_t.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=qU;return e.index++,n}function Ua(t,e){return typeof e=="function"?e(t):e}function gb(t){var e=ni();return r4(e,Jt,t)}function r4(t,e,n){var i=t.queue;if(i===null)throw Error(Ee(311));i.lastRenderedReducer=n;var r=t.baseQueue,o=i.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}e.baseQueue=r=o,i.pending=null}if(o=t.baseState,r===null)t.memoizedState=o;else{e=r.next;var a=s=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Ft&d)===d:(Kl&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===bh&&(u=!0);else if((Kl&h)===h){c=c.next,h===bh&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,s=o):l=l.next=d,_t.lanes|=h,Zl|=h;d=c.action,fu&&n(o,d),o=c.hasEagerState?c.eagerState:n(o,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,s=o):l=l.next=h,_t.lanes|=d,Zl|=d;c=c.next}while(c!==null&&c!==e);if(l===null?s=o:l.next=a,!bo(o,t.memoizedState)&&(Ni=!0,u&&(n=Qd,n!==null)))throw n;t.memoizedState=o,t.baseState=s,t.baseQueue=l,i.lastRenderedState=o}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Lw(t){var e=ni(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);bo(o,e.memoizedState)||(Ni=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function K8(t,e,n){var i=_t,r=ni(),o=Ut;if(o){if(n===void 0)throw Error(Ee(407));n=n()}else n=e();var s=!bo((Jt||r).memoizedState,n);if(s&&(r.memoizedState=n,Ni=!0),r=r.queue,o4(J8.bind(null,i,r,t),[t]),r.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(i.flags|=2048,xh(9,Z8.bind(null,i,r,n,e),{destroy:void 0},null),mn===null)throw Error(Ee(349));o||Kl&60||Y8(i,e,n)}return n}function Y8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e=x1(),_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z8(t,e,n,i){e.value=n,e.getSnapshot=i,Q8(e)&&eO(t)}function J8(t,e,n){return n(function(){Q8(e)&&eO(t)})}function Q8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bo(t,n)}catch(i){return!0}}function eO(t){var e=Xl(t,2);e!==null&&vr(e,t,2)}function xk(t){var e=Rr();if(typeof t=="function"){var n=t;if(t=n(),fu){Al(!0);try{n()}finally{Al(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},e}function tO(t,e,n,i){return t.baseState=n,r4(t,Jt,typeof i=="function"?i:Ua)}function hH(t,e,n,i,r){if(w1(t))throw Error(Ee(485));if(t=e.action,t!==null){var o={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};yt.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,nO(e,o)):(o.next=n.next,e.pending=n.next=o)}}function nO(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var o=yt.T,s={};yt.T=s;try{var a=n(r,i),l=yt.S;l!==null&&l(s,a),l6(t,e,a)}catch(c){yk(t,e,c)}finally{yt.T=o}}else try{o=n(r,i),l6(t,e,o)}catch(c){yk(t,e,c)}}function l6(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){c6(t,e,i)},function(i){return yk(t,e,i)}):c6(t,e,n)}function c6(t,e,n){e.status="fulfilled",e.value=n,iO(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,nO(t,n)))}function yk(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,iO(e),e=e.next;while(e!==i)}t.action=null}function iO(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function rO(t,e){return e}function oO(t,e){if(Ut){var n=mn.formState;if(n!==null){e:{var i=_t;if(Ut){if(Hi){t:{for(var r=Hi,o=Hs;r.nodeType!==8;){if(!o){r=null;break t}if(r=ws(r.nextSibling),r===null){r=null;break t}}o=r.data,r=o==="F!"||o==="F"?r:null}if(r){Hi=ws(r.nextSibling),i=r.data==="F!";break e}}du(i)}i=!1}i&&(e=n[0])}}return n=Rr(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rO,lastRenderedState:e},n.queue=i,n=kO.bind(null,_t,i),i.dispatch=n,i=xk(!1),o=c4.bind(null,_t,!1,i.queue),i=Rr(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=hH.bind(null,_t,r,o,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function sO(t){var e=ni();return aO(e,Jt,t)}function aO(t,e,n){e=r4(t,e,rO)[0],t=gb(Ua)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?wm(e):e;var i=ni(),r=i.queue,o=r.dispatch;return n!==i.memoizedState&&(_t.flags|=2048,xh(9,fH.bind(null,r,n),{destroy:void 0},null)),[e,o,t]}function fH(t,e){t.action=e}function lO(t){var e=ni(),n=Jt;if(n!==null)return aO(e,n,t);ni(),e=e.memoizedState,n=ni();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function xh(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=_t.updateQueue,e===null&&(e=x1(),_t.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function cO(){return ni().memoizedState}function bb(t,e,n,i){var r=Rr();_t.flags|=t,r.memoizedState=xh(1|e,n,{destroy:void 0},i===void 0?null:i)}function v1(t,e,n,i){var r=ni();i=i===void 0?null:i;var o=r.memoizedState.inst;Jt!==null&&i!==null&&JS(i,Jt.memoizedState.deps)?r.memoizedState=xh(e,n,o,i):(_t.flags|=t,r.memoizedState=xh(1|e,n,o,i))}function u6(t,e){bb(8390656,8,t,e)}function o4(t,e){v1(2048,8,t,e)}function uO(t,e){return v1(4,2,t,e)}function dO(t,e){return v1(4,4,t,e)}function hO(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fO(t,e,n){n=n!=null?n.concat([t]):null,v1(4,4,hO.bind(null,e,t),n)}function s4(){}function pO(t,e){var n=ni();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&JS(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function mO(t,e){var n=ni();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&JS(e,i[1]))return i[0];if(i=t(),fu){Al(!0);try{t()}finally{Al(!1)}}return n.memoizedState=[i,e],i}function a4(t,e,n){return n===void 0||Kl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=iD(),_t.lanes|=t,Zl|=t,n)}function gO(t,e,n,i){return bo(n,e)?n:gh.current!==null?(t=a4(t,n,i),bo(t,e)||(Ni=!0),t):Kl&42?(t=iD(),_t.lanes|=t,Zl|=t,e):(Ni=!0,t.memoizedState=n)}function bO(t,e,n,i,r){var o=kn.p;kn.p=o!==0&&8>o?o:8;var s=yt.T,a={};yt.T=a,c4(t,!1,e,n);try{var l=r(),c=yt.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=cH(l,i);fp(t,e,u,po(t))}else fp(t,e,i,po(t))}catch(d){fp(t,e,{then:function(){},status:"rejected",reason:d},po())}finally{kn.p=o,yt.T=s}}function pH(){}function vk(t,e,n,i){if(t.tag!==5)throw Error(Ee(476));var r=xO(t).queue;bO(t,r,e,eu,n===null?pH:function(){return yO(t),n(i)})}function xO(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:eu,baseState:eu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:eu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function yO(t){var e=xO(t).next.queue;fp(t,e,{},po())}function l4(){return ir(Mp)}function vO(){return ni().memoizedState}function wO(){return ni().memoizedState}function mH(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=po();t=zl(n);var i=Fl(e,t,n);i!==null&&(vr(i,e,n),mp(i,e,n)),e={cache:YS()},t.payload=e;return}e=e.return}}function gH(t,e,n){var i=po();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},w1(t)?SO(e,n):(n=GS(t,e,n,i),n!==null&&(vr(n,t,i),CO(n,e,i)))}function kO(t,e,n){var i=po();fp(t,e,n,i)}function fp(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(t))SO(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,bo(a,s))return b1(t,e,r,0),mn===null&&g1(),!1}catch(l){}finally{}if(n=GS(t,e,r,i),n!==null)return vr(n,t,i),CO(n,e,i),!0}return!1}function c4(t,e,n,i){if(i={lane:2,revertLane:y4(),action:i,hasEagerState:!1,eagerState:null,next:null},w1(t)){if(e)throw Error(Ee(479))}else e=GS(t,n,i,2),e!==null&&vr(e,t,2)}function w1(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function SO(t,e){eh=Hb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CO(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h8(t,n)}}var ta={readContext:ir,use:y1,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useLayoutEffect:Xn,useInsertionEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useSyncExternalStore:Xn,useId:Xn};ta.useCacheRefresh=Xn;ta.useMemoCache=Xn;ta.useHostTransitionStatus=Xn;ta.useFormState=Xn;ta.useActionState=Xn;ta.useOptimistic=Xn;var Bu={readContext:ir,use:y1,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:u6,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,bb(4194308,4,hO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bb(4194308,4,t,e)},useInsertionEffect:function(t,e){bb(4,2,t,e)},useMemo:function(t,e){var n=Rr();e=e===void 0?null:e;var i=t();if(fu){Al(!0);try{t()}finally{Al(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Rr();if(n!==void 0){var r=n(e);if(fu){Al(!0);try{n(e)}finally{Al(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=gH.bind(null,_t,t),[i.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:function(t){t=xk(t);var e=t.queue,n=kO.bind(null,_t,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:s4,useDeferredValue:function(t,e){var n=Rr();return a4(n,t,e)},useTransition:function(){var t=xk(!1);return t=bO.bind(null,_t,t.queue,!0,!1),Rr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=_t,r=Rr();if(Ut){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),mn===null)throw Error(Ee(349));Ft&60||Y8(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,u6(J8.bind(null,i,o,t),[t]),i.flags|=2048,xh(9,Z8.bind(null,i,o,n,e),{destroy:void 0},null),n},useId:function(){var t=Rr(),e=mn.identifierPrefix;if(Ut){var n=Aa,i=_a;n=(i&~(1<<32-fo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Rr().memoizedState=mH.bind(null,_t)}};Bu.useMemoCache=i4;Bu.useHostTransitionStatus=l4;Bu.useFormState=oO;Bu.useActionState=oO;Bu.useOptimistic=function(t){var e=Rr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=c4.bind(null,_t,!0,n),n.dispatch=e,[t,e]};var hc={readContext:ir,use:y1,useCallback:pO,useContext:ir,useEffect:o4,useImperativeHandle:fO,useInsertionEffect:uO,useLayoutEffect:dO,useMemo:mO,useReducer:gb,useRef:cO,useState:function(){return gb(Ua)},useDebugValue:s4,useDeferredValue:function(t,e){var n=ni();return gO(n,Jt.memoizedState,t,e)},useTransition:function(){var t=gb(Ua)[0],e=ni().memoizedState;return[typeof t=="boolean"?t:wm(t),e]},useSyncExternalStore:K8,useId:vO};hc.useCacheRefresh=wO;hc.useMemoCache=i4;hc.useHostTransitionStatus=l4;hc.useFormState=sO;hc.useActionState=sO;hc.useOptimistic=function(t,e){var n=ni();return tO(n,Jt,t,e)};var ju={readContext:ir,use:y1,useCallback:pO,useContext:ir,useEffect:o4,useImperativeHandle:fO,useInsertionEffect:uO,useLayoutEffect:dO,useMemo:mO,useReducer:Lw,useRef:cO,useState:function(){return Lw(Ua)},useDebugValue:s4,useDeferredValue:function(t,e){var n=ni();return Jt===null?a4(n,t,e):gO(n,Jt.memoizedState,t,e)},useTransition:function(){var t=Lw(Ua)[0],e=ni().memoizedState;return[typeof t=="boolean"?t:wm(t),e]},useSyncExternalStore:K8,useId:vO};ju.useCacheRefresh=wO;ju.useMemoCache=i4;ju.useHostTransitionStatus=l4;ju.useFormState=lO;ju.useActionState=lO;ju.useOptimistic=function(t,e){var n=ni();return Jt!==null?tO(n,Jt,t,e):(n.baseState=t,[t,n.queue.dispatch])};function zw(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wk={isMounted:function(t){return(t=t._reactInternals)?Uh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=po(),r=zl(i);r.payload=e,n!=null&&(r.callback=n),e=Fl(t,r,i),e!==null&&(vr(e,t,i),mp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=po(),r=zl(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Fl(t,r,i),e!==null&&(vr(e,t,i),mp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=po(),i=zl(n);i.tag=2,e!=null&&(i.callback=e),e=Fl(t,i,n),e!==null&&(vr(e,t,n),mp(e,t,n))}};function d6(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Np(n,i)||!Np(r,o):!0}function h6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wk.enqueueReplaceState(e,e.state,null)}function pu(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Cn({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Gb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function EO(t){Gb(t)}function TO(t){console.error(t)}function IO(t){Gb(t)}function qb(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function f6(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function kk(t,e,n){return n=zl(n),n.tag=3,n.payload={element:null},n.callback=function(){qb(t,e)},n}function $O(t){return t=zl(t),t.tag=3,t}function _O(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=i.value;t.payload=function(){return r(o)},t.callback=function(){f6(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){f6(e,n,i),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function bH(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&km(e,n,r,!0),n=Qo.current,n!==null){switch(n.tag){case 13:return Ks===null?Fk():n.alternate===null&&Pn===0&&(Pn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===mk?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Kw(t,i,r)),!1;case 22:return n.flags|=65536,i===mk?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Kw(t,i,r)),!1}throw Error(Ee(435,n.tag))}return Kw(t,i,r),Fk(),!1}if(Ut)return e=Qo.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==pk&&(t=Error(Ee(422),{cause:i}),Op(Bo(t,n)))):(i!==pk&&(e=Error(Ee(423),{cause:i}),Op(Bo(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Bo(i,n),r=kk(t.stateNode,i,r),Uw(t,r),Pn!==4&&(Pn=2)),!1;var o=Error(Ee(520),{cause:i});if(o=Bo(o,n),yp===null?yp=[o]:yp.push(o),Pn!==4&&(Pn=2),e===null)return!0;i=Bo(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=kk(n.stateNode,i,t),Uw(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Pl===null||!Pl.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,r=$O(r),_O(r,t,n,i),Uw(n,r),!1}n=n.return}while(n!==null);return!1}var AO=Error(Ee(461)),Ni=!1;function Vi(t,e,n,i){e.child=t===null?H8(e,null,n,i):hu(e,t.child,n,i)}function p6(t,e,n,i,r){n=n.render;var o=e.ref;if("ref"in i){var s={};for(var a in i)a!=="ref"&&(s[a]=i[a])}else s=i;return mu(e),i=QS(t,e,n,s,o,r),a=e4(),t!==null&&!Ni?(t4(t,e,r),Va(t,e,r)):(Ut&&a&&qS(e),e.flags|=1,Vi(t,e,i,r),e.child)}function m6(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!p4(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,NO(t,e,o,i,r)):(t=yb(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!u4(t,r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Np,n(s,i)&&t.ref===e.ref)return Va(t,e,r)}return e.flags|=1,t=Ml(o,i),t.ref=e.ref,t.return=e,e.child=t}function NO(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Np(o,i)&&t.ref===e.ref)if(Ni=!1,e.pendingProps=i=o,u4(t,r))t.flags&131072&&(Ni=!0);else return e.lanes=t.lanes,Va(t,e,r)}return Sk(t,e,n,i,r)}function OO(t,e,n){var i=e.pendingProps,r=i.children,o=(e.stateNode._pendingVisibility&2)!==0,s=t!==null?t.memoizedState:null;if(pp(t,e),i.mode==="hidden"||o){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return g6(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&mb(e,s!==null?s.cachePool:null),s!==null?o6(e,s):gk(),W8(e);else return e.lanes=e.childLanes=536870912,g6(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(mb(e,s.cachePool),o6(e,s),El(),e.memoizedState=null):(t!==null&&mb(e,null),gk(),El());return Vi(t,e,r,n),e.child}function g6(t,e,n,i){var r=ZS();return r=r===null?null:{parent:hi._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&mb(e,null),gk(),W8(e),t!==null&&km(t,e,i,!0),null}function pp(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(Ee(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function Sk(t,e,n,i,r){return mu(e),n=QS(t,e,n,i,void 0,r),i=e4(),t!==null&&!Ni?(t4(t,e,r),Va(t,e,r)):(Ut&&i&&qS(e),e.flags|=1,Vi(t,e,n,r),e.child)}function b6(t,e,n,i,r,o){return mu(e),e.updateQueue=null,n=X8(e,i,n,r),q8(t),i=e4(),t!==null&&!Ni?(t4(t,e,o),Va(t,e,o)):(Ut&&i&&qS(e),e.flags|=1,Vi(t,e,n,o),e.child)}function x6(t,e,n,i,r){if(mu(e),e.stateNode===null){var o=Ud,s=n.contextType;typeof s=="object"&&s!==null&&(o=ir(s)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wk,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},d4(e),s=n.contextType,o.context=typeof s=="object"&&s!==null?ir(s):Ud,o.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(zw(e,n,s,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&wk.enqueueReplaceState(o,o.state,null),bp(e,i,o,r),gp(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var a=e.memoizedProps,l=pu(n,a);o.props=l;var c=o.context,u=n.contextType;s=Ud,typeof u=="object"&&u!==null&&(s=ir(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a||c!==s)&&h6(e,o,i,s),vl=!1;var h=e.memoizedState;o.state=h,bp(e,i,o,r),gp(),c=e.memoizedState,a||h!==c||vl?(typeof d=="function"&&(zw(e,n,d,i),c=e.memoizedState),(l=vl||d6(e,n,l,i,h,c,s))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=s,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,_k(t,e),s=e.memoizedProps,u=pu(n,s),o.props=u,d=e.pendingProps,h=o.context,c=n.contextType,l=Ud,typeof c=="object"&&c!==null&&(l=ir(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&h6(e,o,i,l),vl=!1,h=e.memoizedState,o.state=h,bp(e,i,o,r),gp();var f=e.memoizedState;s!==d||h!==f||vl||t!==null&&t.dependencies!==null&&Xb(t.dependencies)?(typeof a=="function"&&(zw(e,n,a,i),f=e.memoizedState),(u=vl||d6(e,n,u,i,h,f,l)||t!==null&&t.dependencies!==null&&Xb(t.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,pp(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=hu(e,t.child,null,r),e.child=hu(e,null,n,r)):Vi(t,e,n,r),e.memoizedState=o.state,t=e.child):t=Va(t,e,r),t}function y6(t,e,n,i){return ym(),e.flags|=256,Vi(t,e,n,i),e.child}var Fw={dehydrated:null,treeContext:null,retryLane:0};function Mw(t){return{baseLanes:t,cachePool:G8()}}function Pw(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vo),t}function DO(t,e,n){var i=e.pendingProps,r=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(mi.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(r?Cl(e):El(),Ut){var a=Hi,l;if(l=a){e:{for(l=a,a=Hs;l.nodeType!==8;){if(!a){a=null;break e}if(l=ws(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:tu!==null?{id:_a,overflow:Aa}:null,retryLane:536870912},l=Uo(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,gr=e,Hi=null,l=!0):l=!1}l||du(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Na(e)}return a=i.children,i=i.fallback,r?(El(),r=e.mode,a=Ek({mode:"hidden",children:a},r),i=iu(i,r,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,r=e.child,r.memoizedState=Mw(n),r.childLanes=Pw(t,s,n),e.memoizedState=Fw,i):(Cl(e),Ck(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(o)e.flags&256?(Cl(e),e.flags&=-257,e=Bw(t,e,n)):e.memoizedState!==null?(El(),e.child=t.child,e.flags|=128,e=null):(El(),r=i.fallback,a=e.mode,i=Ek({mode:"visible",children:i.children},a),r=iu(r,a,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,hu(e,t.child,null,n),i=e.child,i.memoizedState=Mw(n),i.childLanes=Pw(t,s,n),e.memoizedState=Fw,e=r);else if(Cl(e),a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(Ee(419)),i.stack="",i.digest=s,Op({value:i,source:null,stack:null}),e=Bw(t,e,n)}else if(Ni||km(t,e,n,!1),s=(n&t.childLanes)!==0,Ni||s){if(s=mn,s!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Xl(t,i),vr(s,t,i),AO}a.data==="$?"||Fk(),e=Bw(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=OH.bind(null,t),a._reactRetry=e,e=null):(t=l.treeContext,Hi=ws(a.nextSibling),gr=e,Ut=!0,gs=null,Hs=!1,t!==null&&(Fo[Mo++]=_a,Fo[Mo++]=Aa,Fo[Mo++]=tu,_a=t.id,Aa=t.overflow,tu=e),e=Ck(e,i.children),e.flags|=4096);return e}return r?(El(),r=i.fallback,a=e.mode,l=t.child,c=l.sibling,i=Ml(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?r=Ml(c,r):(r=iu(r,a,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,a=t.child.memoizedState,a===null?a=Mw(n):(l=a.cachePool,l!==null?(c=hi._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=G8(),a={baseLanes:a.baseLanes|n,cachePool:l}),r.memoizedState=a,r.childLanes=Pw(t,s,n),e.memoizedState=Fw,i):(Cl(e),n=t.child,t=n.sibling,n=Ml(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Ck(t,e){return e=Ek({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ek(t,e){return tD(t,e,0,null)}function Bw(t,e,n){return hu(e,t.child,null,n),t=Ck(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v6(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ik(t.return,e,n)}function jw(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function RO(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Vi(t,e,i.children,n),i=mi.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v6(t,n,e);else if(t.tag===19)v6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(In(mi,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vb(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),jw(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vb(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}jw(e,!0,n,null,o);break;case"together":jw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zl|=e.lanes,!(n&e.childLanes))if(t!==null){if(km(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=Ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Xb(t)))}function xH(t,e,n){switch(e.tag){case 3:Rb(e,e.stateNode.containerInfo),Tl(e,hi,t.memoizedState.cache),ym();break;case 27:case 5:ok(e);break;case 4:Rb(e,e.stateNode.containerInfo);break;case 10:Tl(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Cl(e),e.flags|=128,null):n&e.child.childLanes?DO(t,e,n):(Cl(e),t=Va(t,e,n),t!==null?t.sibling:null);Cl(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(km(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return RO(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),In(mi,mi.current),i)break;return null;case 22:case 23:return e.lanes=0,OO(t,e,n);case 24:Tl(e,hi,t.memoizedState.cache)}return Va(t,e,n)}function LO(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ni=!0;else{if(!u4(t,n)&&!(e.flags&128))return Ni=!1,xH(t,e,n);Ni=!!(t.flags&131072)}else Ni=!1,Ut&&e.flags&1048576&&B8(e,jb,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")p4(i)?(t=pu(i,t),e.tag=1,e=x6(null,e,i,t,n)):(e.tag=0,e=Sk(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===LS){e.tag=11,e=p6(null,e,i,t,n);break e}else if(r===zS){e.tag=14,e=m6(null,e,i,t,n);break e}}throw e=ik(i)||i,Error(Ee(306,e,""))}}return e;case 0:return Sk(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=pu(i,e.pendingProps),x6(t,e,i,r,n);case 3:e:{if(Rb(e,e.stateNode.containerInfo),t===null)throw Error(Ee(387));var o=e.pendingProps;r=e.memoizedState,i=r.element,_k(t,e),bp(e,o,null,n);var s=e.memoizedState;if(o=s.cache,Tl(e,hi,o),o!==r.cache&&$k(e,[hi],n,!0),gp(),o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=y6(t,e,o,n);break e}else if(o!==i){i=Bo(Error(Ee(424)),e),Op(i),e=y6(t,e,o,n);break e}else for(Hi=ws(e.stateNode.containerInfo.firstChild),gr=e,Ut=!0,gs=null,Hs=!0,n=H8(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ym(),o===i){e=Va(t,e,n);break e}Vi(t,e,o,n)}e=e.child}return e;case 26:return pp(t,e),t===null?(n=M6(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ut||(n=e.type,t=e.pendingProps,i=tx(Ll.current).createElement(n),i[nr]=e,i[Vr]=t,Gi(i,n,t),Ti(i),e.stateNode=i):e.memoizedState=M6(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ok(e),t===null&&Ut&&(i=e.stateNode=yD(e.type,e.pendingProps,Ll.current),gr=e,Hs=!0,Hi=ws(i.firstChild)),i=e.pendingProps.children,t!==null||Ut?Vi(t,e,i,n):e.child=hu(e,null,i,n),pp(t,e),e.child;case 5:return t===null&&Ut&&((r=i=Hi)&&(i=XH(i,e.type,e.pendingProps,Hs),i!==null?(e.stateNode=i,gr=e,Hi=ws(i.firstChild),Hs=!1,r=!0):r=!1),r||du(e)),ok(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,Uk(r,o)?i=null:s!==null&&Uk(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=QS(t,e,dH,null,null,n),Mp._currentValue=r),pp(t,e),Vi(t,e,i,n),e.child;case 6:return t===null&&Ut&&((t=n=Hi)&&(n=KH(n,e.pendingProps,Hs),n!==null?(e.stateNode=n,gr=e,Hi=null,t=!0):t=!1),t||du(e)),null;case 13:return DO(t,e,n);case 4:return Rb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=hu(e,null,i,n):Vi(t,e,i,n),e.child;case 11:return p6(t,e,e.type,e.pendingProps,n);case 7:return Vi(t,e,e.pendingProps,n),e.child;case 8:return Vi(t,e,e.pendingProps.children,n),e.child;case 12:return Vi(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Tl(e,e.type,i.value),Vi(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,mu(e),r=ir(r),i=i(r),e.flags|=1,Vi(t,e,i,n),e.child;case 14:return m6(t,e,e.type,e.pendingProps,n);case 15:return NO(t,e,e.type,e.pendingProps,n);case 19:return RO(t,e,n);case 22:return OO(t,e,n);case 24:return mu(e),i=ir(hi),t===null?(r=ZS(),r===null&&(r=mn,o=YS(),r.pooledCache=o,o.refCount++,o!==null&&(r.pooledCacheLanes|=n),r=o),e.memoizedState={parent:i,cache:r},d4(e),Tl(e,hi,r)):(t.lanes&n&&(_k(t,e),bp(e,null,null,n),gp()),r=t.memoizedState,o=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Tl(e,hi,i)):(i=o.cache,Tl(e,hi,i),i!==r.cache&&$k(e,[hi],n,!0))),Vi(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Ee(156,e.tag))}var Tk=sa(null),Uu=null,Oa=null;function Tl(t,e,n){In(Tk,e._currentValue),e._currentValue=n}function Ra(t){t._currentValue=Tk.current,Oi(Tk)}function Ik(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function $k(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var o=r.dependencies;if(o!==null){var s=r.child;o=o.firstContext;e:for(;o!==null;){var a=o;o=r;for(var l=0;l<e.length;l++)if(a.context===e[l]){o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ik(o.return,n,t),i||(s=null);break e}o=a.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(Ee(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ik(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function km(t,e,n,i){t=null;for(var r=e,o=!1;r!==null;){if(!o){if(r.flags&524288)o=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(Ee(387));if(s=s.memoizedProps,s!==null){var a=r.type;bo(r.pendingProps.value,s.value)||(t!==null?t.push(a):t=[a])}}else if(r===Db.current){if(s=r.alternate,s===null)throw Error(Ee(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Mp):t=[Mp])}r=r.return}t!==null&&$k(e,t,n,i),e.flags|=262144}function Xb(t){for(t=t.firstContext;t!==null;){if(!bo(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mu(t){Uu=t,Oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ir(t){return zO(Uu,t)}function I0(t,e){return Uu===null&&mu(t),zO(t,e)}function zO(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Oa===null){if(t===null)throw Error(Ee(308));Oa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oa=Oa.next=e;return n}var vl=!1;function d4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _k(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fl(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Dn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Pb(t),P8(t,null,n),e}return b1(t,i,e,n),Pb(t)}function mp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h8(t,n)}}function Uw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ak=!1;function gp(){if(Ak){var t=Qd;if(t!==null)throw t}}function bp(t,e,n,i){Ak=!1;var r=t.updateQueue;vl=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=r.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane&-536870913,f=h!==a.lane;if(f?(Ft&h)===h:(i&h)===h){h!==0&&h===bh&&(Ak=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=t,m=a;h=e;var b=n;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(b,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(b,d,h):p,h==null)break e;d=Cn({},d,h);break e;case 2:vl=!0}}h=a.callback,h!==null&&(t.flags|=64,f&&(t.flags|=8192),f=r.callbacks,f===null?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,o===null&&(r.shared.lanes=0),Zl|=s,t.lanes=s,t.memoizedState=d}}function FO(t,e){if(typeof t!="function")throw Error(Ee(191,t));t.call(e)}function MO(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)FO(n[t],e)}function Sm(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(a){sn(e,e.return,a)}}function Yl(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&t)===t){var s=i.inst,a=s.destroy;if(a!==void 0){s.destroy=void 0,r=e;var l=n;try{a()}catch(c){sn(r,l,c)}}}i=i.next}while(i!==o)}}catch(c){sn(e,e.return,c)}}function PO(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{MO(e,n)}catch(i){sn(t,t.return,i)}}}function BO(t,e,n){n.props=pu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){sn(t,e,i)}}function qc(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(o){sn(t,e,o)}}function ao(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){sn(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function jO(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){sn(t,t.return,r)}}function w6(t,e,n){try{var i=t.stateNode;VH(i,t.type,n,e),i[Vr]=e}catch(r){sn(t,t.return,r)}}function UO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nk(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=C1));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(Nk(t,e,n),t=t.sibling;t!==null;)Nk(t,e,n),t=t.sibling}function Kb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(Kb(t,e,n),t=t.sibling;t!==null;)Kb(t,e,n),t=t.sibling}var Sa=!1,Mn=!1,Hw=!1,k6=typeof WeakSet=="function"?WeakSet:Set,Ei=null,S6=!1;function yH(t,e){if(t=t.containerInfo,Bk=ox,t=O8(t),HS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=s+r),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=s),h===o&&++u===i&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jk={focusedElem:t,selectionRange:n},ox=!1,Ei=e;Ei!==null;)if(e=Ei,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ei=t;else for(;Ei!==null;){switch(e=Ei,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var p=pu(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(p,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(m){sn(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vk(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vk(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Ee(163))}if(t=e.sibling,t!==null){t.return=e.return,Ei=t;break}Ei=e.return}return p=S6,S6=!1,p}function VO(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n),i&4&&Sm(5,n);break;case 1:if(ma(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){sn(n,n.return,a)}else{var r=pu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){sn(n,n.return,a)}}i&64&&PO(n),i&512&&qc(n,n.return);break;case 3:if(ma(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{MO(i,t)}catch(a){sn(n,n.return,a)}}break;case 26:ma(t,n),i&512&&qc(n,n.return);break;case 27:case 5:ma(t,n),e===null&&i&4&&jO(n),i&512&&qc(n,n.return);break;case 12:ma(t,n);break;case 13:ma(t,n),i&4&&GO(t,n);break;case 22:if(r=n.memoizedState!==null||Sa,!r){e=e!==null&&e.memoizedState!==null||Mn;var o=Sa,s=Mn;Sa=r,(Mn=e)&&!s?gl(t,n,(n.subtreeFlags&8772)!==0):ma(t,n),Sa=o,Mn=s}i&512&&(n.memoizedProps.mode==="manual"?qc(n,n.return):ao(n,n.return));break;default:ma(t,n)}}function HO(t){var e=t.alternate;e!==null&&(t.alternate=null,HO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&MS(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Yn=null,io=!1;function pa(t,e,n){for(n=n.child;n!==null;)WO(t,e,n),n=n.sibling}function WO(t,e,n){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(mm,n)}catch(s){}switch(n.tag){case 26:Mn||ao(n,e),pa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mn||ao(n,e);var i=Yn,r=io;for(Yn=n.stateNode,pa(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);MS(n),Yn=i,io=r;break;case 5:Mn||ao(n,e);case 6:r=Yn;var o=io;if(Yn=null,pa(t,e,n),Yn=r,io=o,Yn!==null)if(io)try{t=Yn,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(s){sn(n,e,s)}else try{Yn.removeChild(n.stateNode)}catch(s){sn(n,e,s)}break;case 18:Yn!==null&&(io?(e=Yn,n=n.stateNode,e.nodeType===8?n2(e.parentNode,n):e.nodeType===1&&n2(e,n),jp(e)):n2(Yn,n.stateNode));break;case 4:i=Yn,r=io,Yn=n.stateNode.containerInfo,io=!0,pa(t,e,n),Yn=i,io=r;break;case 0:case 11:case 14:case 15:Mn||Yl(2,n,e),Mn||Yl(4,n,e),pa(t,e,n);break;case 1:Mn||(ao(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&BO(n,e,i)),pa(t,e,n);break;case 21:pa(t,e,n);break;case 22:Mn||ao(n,e),Mn=(i=Mn)||n.memoizedState!==null,pa(t,e,n),Mn=i;break;default:pa(t,e,n)}}function GO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jp(t)}catch(n){sn(e,e.return,n)}}function vH(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new k6),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new k6),e;default:throw Error(Ee(435,t.tag))}}function Ww(t,e){var n=vH(t);e.forEach(function(i){var r=DH.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function $o(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 27:case 5:Yn=a.stateNode,io=!1;break e;case 3:Yn=a.stateNode.containerInfo,io=!0;break e;case 4:Yn=a.stateNode.containerInfo,io=!0;break e}a=a.return}if(Yn===null)throw Error(Ee(160));WO(o,s,r),Yn=null,io=!1,o=r.alternate,o!==null&&(o.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)qO(e,t),e=e.sibling}var ps=null;function qO(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$o(e,t),_o(t),i&4&&(Yl(3,t,t.return),Sm(3,t),Yl(5,t,t.return));break;case 1:$o(e,t),_o(t),i&512&&(Mn||n===null||ao(n,n.return)),i&64&&Sa&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=ps;if($o(e,t),_o(t),i&512&&(Mn||n===null||ao(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":o=r.getElementsByTagName("title")[0],(!o||o[$p]||o[nr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),Gi(o,i,n),o[nr]=t,Ti(o),i=o;break e;case"link":var s=B6("link","href",r).get(i+(n.href||""));if(s){for(var a=0;a<s.length;a++)if(o=s[a],o.getAttribute("href")===(n.href==null?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(a,1);break t}}o=r.createElement(i),Gi(o,i,n),r.head.appendChild(o);break;case"meta":if(s=B6("meta","content",r).get(i+(n.content||""))){for(a=0;a<s.length;a++)if(o=s[a],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(a,1);break t}}o=r.createElement(i),Gi(o,i,n),r.head.appendChild(o);break;default:throw Error(Ee(468,i))}o[nr]=t,Ti(o),i=o}t.stateNode=i}else j6(r,t.type,t.stateNode);else t.stateNode=P6(r,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?j6(r,t.type,t.stateNode):P6(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&w6(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){r=t.stateNode,o=t.memoizedProps;try{for(var l=r.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[$p]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||r.removeChild(l),l=c}for(var d=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gi(r,d,o),r[nr]=t,r[Vr]=o}catch(p){sn(t,t.return,p)}}case 5:if($o(e,t),_o(t),i&512&&(Mn||n===null||ao(n,n.return)),t.flags&32){r=t.stateNode;try{mh(r,"")}catch(p){sn(t,t.return,p)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,w6(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Hw=!0);break;case 6:if($o(e,t),_o(t),i&4){if(t.stateNode===null)throw Error(Ee(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){sn(t,t.return,p)}}break;case 3:if(wb=null,r=ps,ps=nx(e.containerInfo),$o(e,t),ps=r,_o(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{jp(e.containerInfo)}catch(p){sn(t,t.return,p)}Hw&&(Hw=!1,XO(t));break;case 4:i=ps,ps=nx(t.stateNode.containerInfo),$o(e,t),_o(t),ps=i;break;case 12:$o(e,t),_o(t);break;case 13:$o(e,t),_o(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(b4=Xs()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ww(t,i)));break;case 22:if(i&512&&(Mn||n===null||ao(n,n.return)),l=t.memoizedState!==null,c=n!==null&&n.memoizedState!==null,u=Sa,d=Mn,Sa=u||l,Mn=d||c,$o(e,t),Mn=d,Sa=u,_o(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=Sa||Mn,n===null||c||e||Sd(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){c=n=e;try{if(r=c.stateNode,l)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode,a=c.memoizedProps.style;var f=a!=null&&a.hasOwnProperty("display")?a.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){sn(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){sn(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ww(t,n))));break;case 19:$o(e,t),_o(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ww(t,i)));break;case 21:break;default:$o(e,t),_o(t)}}function _o(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(UO(n)){var i=n;break e}n=n.return}throw Error(Ee(160))}switch(i.tag){case 27:var r=i.stateNode,o=Vw(t);Kb(t,o,r);break;case 5:var s=i.stateNode;i.flags&32&&(mh(s,""),i.flags&=-33);var a=Vw(t);Kb(t,a,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=Vw(t);Nk(t,c,l);break;default:throw Error(Ee(161))}}}catch(u){sn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;XO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ma(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)VO(t,e.alternate,e),e=e.sibling}function Sd(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Yl(4,e,e.return),Sd(e);break;case 1:ao(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&BO(e,e.return,n),Sd(e);break;case 26:case 27:case 5:ao(e,e.return),Sd(e);break;case 22:ao(e,e.return),e.memoizedState===null&&Sd(e);break;default:Sd(e)}t=t.sibling}}function gl(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:gl(r,o,n),Sm(4,o);break;case 1:if(gl(r,o,n),i=o,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){sn(i,i.return,c)}if(i=o,r=i.updateQueue,r!==null){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)FO(l[r],a)}catch(c){sn(i,i.return,c)}}n&&s&64&&PO(o),qc(o,o.return);break;case 26:case 27:case 5:gl(r,o,n),n&&i===null&&s&4&&jO(o),qc(o,o.return);break;case 12:gl(r,o,n);break;case 13:gl(r,o,n),n&&s&4&&GO(r,o);break;case 22:o.memoizedState===null&&gl(r,o,n),qc(o,o.return);break;default:gl(r,o,n)}e=e.sibling}}function h4(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&vm(n))}function f4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vm(t))}function cl(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)KO(t,e,n,i),e=e.sibling}function KO(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:cl(t,e,n,i),r&2048&&Sm(9,e);break;case 3:cl(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vm(t)));break;case 12:if(r&2048){cl(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,s=o.id,a=o.onPostCommit;typeof a=="function"&&a(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){sn(e,e.return,l)}}else cl(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,e.memoizedState!==null?o._visibility&4?cl(t,e,n,i):xp(t,e):o._visibility&4?cl(t,e,n,i):(o._visibility|=4,Cd(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&h4(e.alternate,e);break;case 24:cl(t,e,n,i),r&2048&&f4(e.alternate,e);break;default:cl(t,e,n,i)}}function Cd(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,s=e,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Cd(o,s,a,l,r),Sm(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?Cd(o,s,a,l,r):xp(o,s):(u._visibility|=4,Cd(o,s,a,l,r)),r&&c&2048&&h4(s.alternate,s);break;case 24:Cd(o,s,a,l,r),r&&c&2048&&f4(s.alternate,s);break;default:Cd(o,s,a,l,r)}e=e.sibling}}function xp(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:xp(n,i),r&2048&&h4(i.alternate,i);break;case 24:xp(n,i),r&2048&&f4(i.alternate,i);break;default:xp(n,i)}e=e.sibling}}var Zf=8192;function hd(t){if(t.subtreeFlags&Zf)for(t=t.child;t!==null;)YO(t),t=t.sibling}function YO(t){switch(t.tag){case 26:hd(t),t.flags&Zf&&t.memoizedState!==null&&lW(ps,t.memoizedState,t.memoizedProps);break;case 5:hd(t);break;case 3:case 4:var e=ps;ps=nx(t.stateNode.containerInfo),hd(t),ps=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Zf,Zf=16777216,hd(t),Zf=e):hd(t));break;default:hd(t)}}function ZO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Df(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ei=i,QO(i,t)}ZO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JO(t),t=t.sibling}function JO(t){switch(t.tag){case 0:case 11:case 15:Df(t),t.flags&2048&&Yl(9,t,t.return);break;case 3:Df(t);break;case 12:Df(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,xb(t)):Df(t);break;default:Df(t)}}function xb(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ei=i,QO(i,t)}ZO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Yl(8,e,e.return),xb(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,xb(e));break;default:xb(e)}t=t.sibling}}function QO(t,e){for(;Ei!==null;){var n=Ei;switch(n.tag){case 0:case 11:case 15:Yl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:vm(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ei=i;else e:for(n=t;Ei!==null;){i=Ei;var r=i.sibling,o=i.return;if(HO(i),i===n){Ei=null;break e}if(r!==null){r.return=o,Ei=r;break e}Ei=o}}}function wH(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(t,e,n,i){return new wH(t,e,n,i)}function p4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ml(t,e){var n=t.alternate;return n===null?(n=Uo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function eD(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yb(t,e,n,i,r,o){var s=0;if(i=t,typeof t=="function")p4(t)&&(s=1);else if(typeof t=="string")s=sW(t,n,qs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ld:return iu(n.children,r,o,e);case t8:s=8,r|=24;break;case ek:return t=Uo(12,n,e,r|2),t.elementType=ek,t.lanes=o,t;case tk:return t=Uo(13,n,e,r),t.elementType=tk,t.lanes=o,t;case nk:return t=Uo(19,n,e,r),t.elementType=nk,t.lanes=o,t;case i8:return tD(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GU:case $a:s=10;break e;case n8:s=9;break e;case LS:s=11;break e;case zS:s=14;break e;case yl:s=16,i=null;break e}s=29,n=Error(Ee(130,t===null?"null":typeof t,"")),i=null}return e=Uo(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function iu(t,e,n,i){return t=Uo(7,t,i,e),t.lanes=n,t}function tD(t,e,n,i){t=Uo(22,t,i,e),t.elementType=i8,t.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var o=r._current;if(o===null)throw Error(Ee(456));if(!(r._pendingVisibility&2)){var s=Xl(o,2);s!==null&&(r._pendingVisibility|=2,vr(s,o,2))}},attach:function(){var o=r._current;if(o===null)throw Error(Ee(456));if(r._pendingVisibility&2){var s=Xl(o,2);s!==null&&(r._pendingVisibility&=-3,vr(s,o,2))}}};return t.stateNode=r,t}function Gw(t,e,n){return t=Uo(6,t,null,e),t.lanes=n,t}function qw(t,e,n){return e=Uo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ga(t){t.flags|=4}function C6(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kD(e)){if(e=Qo.current,e!==null&&((Ft&4194176)===Ft?Ks!==null:(Ft&62914560)!==Ft&&!(Ft&536870912)||e!==Ks))throw dp=mk,j8;t.flags|=8192}}function $0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?u8():536870912,t.lanes|=e,yh|=e)}function Rf(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function kH(t,e,n){var i=e.pendingProps;switch(XS(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return An(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ra(hi),fh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nf(e)?ga(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gs!==null&&(zk(gs),gs=null))),An(e),null;case 26:return n=e.memoizedState,t===null?(ga(e),n!==null?(An(e),C6(e,n)):(An(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ga(e),An(e),C6(e,n)):(An(e),e.flags&=-16777217):(t.memoizedProps!==i&&ga(e),An(e),e.flags&=-16777217),null;case 27:Lb(e),n=Ll.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ga(e);else{if(!i){if(e.stateNode===null)throw Error(Ee(166));return An(e),null}t=qs.current,Nf(e)?e6(e):(t=yD(r,i,n),e.stateNode=t,ga(e))}return An(e),null;case 5:if(Lb(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ga(e);else{if(!i){if(e.stateNode===null)throw Error(Ee(166));return An(e),null}if(t=qs.current,Nf(e))e6(e);else{switch(r=tx(Ll.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[nr]=e,t[Vr]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Gi(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ga(e)}}return An(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ga(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ee(166));if(t=Ll.current,Nf(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=gr,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[nr]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||gD(t.nodeValue,n)),t||du(e)}else t=tx(t).createTextNode(i),t[nr]=e,e.stateNode=t}return An(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Nf(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(Ee(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ee(317));r[nr]=e}else ym(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),r=!1}else gs!==null&&(zk(gs),gs=null),r=!0;if(!r)return e.flags&256?(Na(e),e):(Na(e),null)}if(Na(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),$0(e,e.updateQueue),An(e),null;case 4:return fh(),t===null&&v4(e.stateNode.containerInfo),An(e),null;case 10:return Ra(e.type),An(e),null;case 19:if(Oi(mi),r=e.memoizedState,r===null)return An(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Rf(r,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vb(t),o!==null){for(e.flags|=128,Rf(r,!1),t=o.updateQueue,e.updateQueue=t,$0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)eD(n,t),n=n.sibling;return In(mi,mi.current&1|2),e.child}t=t.sibling}r.tail!==null&&Xs()>Yb&&(e.flags|=128,i=!0,Rf(r,!1),e.lanes=4194304)}else{if(!i)if(t=Vb(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,$0(e,t),Rf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Ut)return An(e),null}else 2*Xs()-r.renderingStartTime>Yb&&n!==536870912&&(e.flags|=128,i=!0,Rf(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Xs(),e.sibling=null,t=mi.current,In(mi,i?t&1|2:t&1),e):(An(e),null);case 22:case 23:return Na(e),KS(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),n=e.updateQueue,n!==null&&$0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Oi(nu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ra(hi),An(e),null;case 25:return null}throw Error(Ee(156,e.tag))}function SH(t,e){switch(XS(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(hi),fh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lb(e),null;case 13:if(Na(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));ym()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oi(mi),null;case 4:return fh(),null;case 10:return Ra(e.type),null;case 22:case 23:return Na(e),KS(),t!==null&&Oi(nu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ra(hi),null;case 25:return null;default:return null}}function nD(t,e){switch(XS(e),e.tag){case 3:Ra(hi),fh();break;case 26:case 27:case 5:Lb(e);break;case 4:fh();break;case 13:Na(e);break;case 19:Oi(mi);break;case 10:Ra(e.type);break;case 22:case 23:Na(e),KS(),t!==null&&Oi(nu);break;case 24:Ra(hi)}}var CH={getCacheForType:function(t){var e=ir(hi),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},EH=typeof WeakMap=="function"?WeakMap:Map,Dn=0,mn=null,At=null,Ft=0,fn=0,ro=null,Ca=!1,Wh=!1,m4=!1,Ha=0,Pn=0,Zl=0,ru=0,g4=0,Vo=0,yh=0,yp=null,Ws=null,Ok=!1,b4=0,Yb=1/0,Zb=null,Pl=null,_0=!1,Bc=null,vp=0,Dk=0,Rk=null,wp=0,Lk=null;function po(){if(Dn&2&&Ft!==0)return Ft&-Ft;if(yt.T!==null){var t=bh;return t!==0?t:y4()}return p8()}function iD(){Vo===0&&(Vo=!(Ft&536870912)||Ut?c8():536870912);var t=Qo.current;return t!==null&&(t.flags|=32),Vo}function vr(t,e,n){(t===mn&&fn===2||t.cancelPendingCommit!==null)&&(vh(t,0),Ea(t,Ft,Vo,!1)),bm(t,n),(!(Dn&2)||t!==mn)&&(t===mn&&(!(Dn&2)&&(ru|=n),Pn===4&&Ea(t,Ft,Vo,!1)),aa(t))}function rD(t,e,n){if(Dn&6)throw Error(Ee(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||gm(t,e),r=i?$H(t,e):Xw(t,e,!0),o=i;do{if(r===0){Wh&&!i&&Ea(t,e,0,!1);break}else if(r===6)Ea(t,e,0,!Ca);else{if(n=t.current.alternate,o&&!TH(n)){r=Xw(t,e,!1),o=!1;continue}if(r===2){if(o=e,t.errorRecoveryDisabledLanes&o)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var a=t;r=yp;var l=a.current.memoizedState.isDehydrated;if(l&&(vh(a,s).flags|=256),s=Xw(a,s,!1),s!==2){if(m4&&!l){a.errorRecoveryDisabledLanes|=o,ru|=o,r=4;break e}o=Ws,Ws=r,o!==null&&zk(o)}r=s}if(o=!1,r!==2)continue}}if(r===1){vh(t,0),Ea(t,e,0,!0);break}e:{switch(i=t,r){case 0:case 1:throw Error(Ee(345));case 4:if((e&4194176)===e){Ea(i,e,Vo,!Ca);break e}break;case 2:Ws=null;break;case 3:case 5:break;default:throw Error(Ee(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(o=b4+300-Xs(),10<o)){if(Ea(i,e,Vo,!Ca),h1(i,0)!==0)break e;i.timeoutHandle=xD(E6.bind(null,i,n,Ws,Zb,Ok,e,Vo,ru,yh,Ca,2,-0,0),o);break e}E6(i,n,Ws,Zb,Ok,e,Vo,ru,yh,Ca,0,-0,0)}}break}while(!0);aa(t)}function zk(t){Ws===null?Ws=t:Ws.push.apply(Ws,t)}function E6(t,e,n,i,r,o,s,a,l,c,u,d,h){var f=e.subtreeFlags;if((f&8192||(f&16785408)===16785408)&&(Fp={stylesheets:null,count:0,unsuspend:aW},YO(e),e=cW(),e!==null)){t.cancelPendingCommit=e(I6.bind(null,t,n,i,r,s,a,l,1,d,h)),Ea(t,o,s,!c);return}I6(t,n,i,r,s,a,l,u,d,h)}function TH(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!bo(o(),r))return!1}catch(s){return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(t,e,n,i){e&=~g4,e&=~ru,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var o=31-fo(r),s=1<<o;i[o]=-1,r&=~s}n!==0&&d8(t,n,e)}function k1(){return Dn&6?!0:(Cm(0),!1)}function x4(){if(At!==null){if(fn===0)var t=At.return;else t=At,Oa=Uu=null,n4(t),Jd=null,Dp=0,t=At;for(;t!==null;)nD(t.alternate,t),t=t.return;At=null}}function vh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,WH(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),x4(),mn=t,At=n=Ml(t.current,null),Ft=e,fn=0,ro=null,Ca=!1,Wh=gm(t,e),m4=!1,yh=Vo=g4=ru=Zl=Pn=0,Ws=yp=null,Ok=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-fo(i),o=1<<r;e|=t[r],i&=~o}return Ha=e,g1(),n}function oD(t,e){_t=null,yt.H=ta,e===up?(e=i6(),fn=3):e===j8?(e=i6(),fn=4):fn=e===AO?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ro=e,At===null&&(Pn=1,qb(t,Bo(e,t.current)))}function sD(){var t=yt.H;return yt.H=ta,t===null?ta:t}function aD(){var t=yt.A;return yt.A=CH,t}function Fk(){Pn=4,Ca||(Ft&4194176)!==Ft&&Qo.current!==null||(Wh=!0),!(Zl&134217727)&&!(ru&134217727)||mn===null||Ea(mn,Ft,Vo,!1)}function Xw(t,e,n){var i=Dn;Dn|=2;var r=sD(),o=aD();(mn!==t||Ft!==e)&&(Zb=null,vh(t,e)),e=!1;var s=Pn;e:do try{if(fn!==0&&At!==null){var a=At,l=ro;switch(fn){case 8:x4(),s=6;break e;case 3:case 2:case 6:Qo.current===null&&(e=!0);var c=fn;if(fn=0,ro=null,Wd(t,a,l,c),n&&Wh){s=0;break e}break;default:c=fn,fn=0,ro=null,Wd(t,a,l,c)}}IH(),s=Pn;break}catch(u){oD(t,u)}while(!0);return e&&t.shellSuspendCounter++,Oa=Uu=null,Dn=i,yt.H=r,yt.A=o,At===null&&(mn=null,Ft=0,g1()),s}function IH(){for(;At!==null;)lD(At)}function $H(t,e){var n=Dn;Dn|=2;var i=sD(),r=aD();mn!==t||Ft!==e?(Zb=null,Yb=Xs()+500,vh(t,e)):Wh=gm(t,e);e:do try{if(fn!==0&&At!==null){e=At;var o=ro;t:switch(fn){case 1:fn=0,ro=null,Wd(t,e,o,1);break;case 2:if(n6(o)){fn=0,ro=null,T6(e);break}e=function(){fn===2&&mn===t&&(fn=7),aa(t)},o.then(e,e);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:n6(o)?(fn=0,ro=null,T6(e)):(fn=0,ro=null,Wd(t,e,o,7));break;case 5:var s=null;switch(At.tag){case 26:s=At.memoizedState;case 5:case 27:var a=At;if(!s||kD(s)){fn=0,ro=null;var l=a.sibling;if(l!==null)At=l;else{var c=a.return;c!==null?(At=c,S1(c)):At=null}break t}}fn=0,ro=null,Wd(t,e,o,5);break;case 6:fn=0,ro=null,Wd(t,e,o,6);break;case 8:x4(),Pn=6;break e;default:throw Error(Ee(462))}}_H();break}catch(u){oD(t,u)}while(!0);return Oa=Uu=null,yt.H=i,yt.A=r,Dn=n,At!==null?0:(mn=null,Ft=0,g1(),Pn)}function _H(){for(;At!==null&&!ZU();)lD(At)}function lD(t){var e=LO(t.alternate,t,Ha);t.memoizedProps=t.pendingProps,e===null?S1(t):At=e}function T6(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=b6(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=b6(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:n4(e);default:nD(n,e),e=At=eD(e,Ha),e=LO(n,e,Ha)}t.memoizedProps=t.pendingProps,e===null?S1(t):At=e}function Wd(t,e,n,i){Oa=Uu=null,n4(e),Jd=null,Dp=0;var r=e.return;try{if(bH(t,r,e,n,Ft)){Pn=1,qb(t,Bo(n,t.current)),At=null;return}}catch(o){if(r!==null)throw At=r,o;Pn=1,qb(t,Bo(n,t.current)),At=null;return}e.flags&32768?(Ut||i===1?t=!0:Wh||Ft&536870912?t=!1:(Ca=t=!0,(i===2||i===3||i===6)&&(i=Qo.current,i!==null&&i.tag===13&&(i.flags|=16384))),cD(e,t)):S1(e)}function S1(t){var e=t;do{if(e.flags&32768){cD(e,Ca);return}t=e.return;var n=kH(e.alternate,e,Ha);if(n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Pn===0&&(Pn=5)}function cD(t,e){do{var n=SH(t.alternate,t);if(n!==null){n.flags&=32767,At=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){At=t;return}At=t=n}while(t!==null);Pn=6,At=null}function I6(t,e,n,i,r,o,s,a,l,c){var u=yt.T,d=kn.p;try{kn.p=2,yt.T=null,AH(t,e,n,i,d,r,o,s,a,l,c)}finally{yt.T=u,kn.p=d}}function AH(t,e,n,i,r,o,s,a){do nh();while(Bc!==null);if(Dn&6)throw Error(Ee(327));var l=t.finishedWork;if(i=t.finishedLanes,l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=WS,lV(t,i,c,o,s,a),t===mn&&(At=mn=null,Ft=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||_0||(_0=!0,Dk=c,Rk=n,RH(zb,function(){return nh(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=yt.T,yt.T=null,o=kn.p,kn.p=2,s=Dn,Dn|=4,yH(t,l),qO(l,t),eH(jk,t.containerInfo),ox=!!Bk,jk=Bk=null,t.current=l,VO(t,l.alternate,l),JU(),Dn=s,kn.p=o,yt.T=n):t.current=l,_0?(_0=!1,Bc=t,vp=i):uD(t,c),c=t.pendingLanes,c===0&&(Pl=null),iV(l.stateNode),aa(t),e!==null)for(r=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],r(c.value,{componentStack:c.stack});return vp&3&&nh(),c=t.pendingLanes,i&4194218&&c&42?t===Lk?wp++:(wp=0,Lk=t):wp=0,Cm(0),null}function uD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vm(e)))}function nh(){if(Bc!==null){var t=Bc,e=Dk;Dk=0;var n=f8(vp),i=yt.T,r=kn.p;try{if(kn.p=32>n?32:n,yt.T=null,Bc===null)var o=!1;else{n=Rk,Rk=null;var s=Bc,a=vp;if(Bc=null,vp=0,Dn&6)throw Error(Ee(331));var l=Dn;if(Dn|=4,JO(s.current),KO(s,s.current,a,n),Dn=l,Cm(0,!1),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(mm,s)}catch(c){}o=!0}return o}finally{kn.p=r,yt.T=i,uD(t,e)}}return!1}function $6(t,e,n){e=Bo(n,e),e=kk(t.stateNode,e,2),t=Fl(t,e,2),t!==null&&(bm(t,2),aa(t))}function sn(t,e,n){if(t.tag===3)$6(t,t,n);else for(;e!==null;){if(e.tag===3){$6(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pl===null||!Pl.has(i))){t=Bo(n,t),n=$O(2),i=Fl(e,n,2),i!==null&&(_O(n,i,e,t),bm(i,2),aa(i));break}}e=e.return}}function Kw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new EH;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(m4=!0,r.add(n),t=NH.bind(null,t,e,n),e.then(t,t))}function NH(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,mn===t&&(Ft&n)===n&&(Pn===4||Pn===3&&(Ft&62914560)===Ft&&300>Xs()-b4?!(Dn&2)&&vh(t,0):g4|=n,yh===Ft&&(yh=0)),aa(t)}function dD(t,e){e===0&&(e=u8()),t=Xl(t,e),t!==null&&(bm(t,e),aa(t))}function OH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dD(t,n)}function DH(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(Ee(314))}i!==null&&i.delete(e),dD(t,n)}function RH(t,e){return FS(t,e)}var Jb=null,Ed=null,Mk=!1,Qb=!1,Yw=!1,ou=0;function aa(t){t!==Ed&&t.next===null&&(Ed===null?Jb=Ed=t:Ed=Ed.next=t),Qb=!0,Mk||(Mk=!0,zH(LH))}function Cm(t,e){if(!Yw&&Qb){Yw=!0;do for(var n=!1,i=Jb;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-fo(42|t)+1)-1,o&=r&~(s&~a),o=o&201326677?o&201326677|1:o?o|2:0}o!==0&&(n=!0,_6(i,o))}else o=Ft,o=h1(i,i===mn?o:0),!(o&3)||gm(i,o)||(n=!0,_6(i,o));i=i.next}while(n);Yw=!1}}function LH(){Qb=Mk=!1;var t=0;ou!==0&&(HH()&&(t=ou),ou=0);for(var e=Xs(),n=null,i=Jb;i!==null;){var r=i.next,o=hD(i,e);o===0?(i.next=null,n===null?Jb=r:n.next=r,r===null&&(Ed=n)):(n=i,(t!==0||o&3)&&(Qb=!0)),i=r}Cm(t)}function hD(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var s=31-fo(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=aV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}if(e=mn,n=Ft,n=h1(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&fn===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Tw(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||gm(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Tw(i),f8(n)){case 2:case 8:n=a8;break;case 32:n=zb;break;case 268435456:n=l8;break;default:n=zb}return i=fD.bind(null,t),n=FS(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Tw(i),t.callbackPriority=2,t.callbackNode=null,2}function fD(t,e){var n=t.callbackNode;if(nh()&&t.callbackNode!==n)return null;var i=Ft;return i=h1(t,t===mn?i:0),i===0?null:(rD(t,i,e),hD(t,Xs()),t.callbackNode!=null&&t.callbackNode===n?fD.bind(null,t):null)}function _6(t,e){if(nh())return null;rD(t,e,!0)}function zH(t){GH(function(){Dn&6?FS(s8,t):t()})}function y4(){return ou===0&&(ou=c8()),ou}function A6(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hb(""+t)}function N6(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function FH(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var o=A6((r[Vr]||null).action),s=i.submitter;s&&(e=(e=s[Vr]||null)?A6(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var a=new f1("action","action",null,i,r);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ou!==0){var l=s?N6(r,s):new FormData(r);vk(n,{pending:!0,data:l,method:r.method,action:o},null,l)}}else typeof o=="function"&&(a.preventDefault(),l=s?N6(r,s):new FormData(r),vk(n,{pending:!0,data:l,method:r.method,action:o},o,l))},currentTarget:r}]})}}for(var Zw=0;Zw<J5.length;Zw++){var Jw=J5[Zw],MH=Jw.toLowerCase(),PH=Jw[0].toUpperCase()+Jw.slice(1);Ns(MH,"on"+PH)}Ns(R8,"onAnimationEnd");Ns(L8,"onAnimationIteration");Ns(z8,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(nH,"onTransitionRun");Ns(iH,"onTransitionStart");Ns(rH,"onTransitionCancel");Ns(F8,"onTransitionEnd");ph("onMouseEnter",["mouseout","mouseover"]);ph("onMouseLeave",["mouseout","mouseover"]);ph("onPointerEnter",["pointerout","pointerover"]);ph("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lp));function pD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){Gb(u)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){Gb(u)}r.currentTarget=null,o=l}}}}function Lt(t,e){var n=e[ak];n===void 0&&(n=e[ak]=new Set);var i=t+"__bubble";n.has(i)||(mD(e,t,2,!1),n.add(i))}function Qw(t,e,n){var i=0;e&&(i|=4),mD(n,t,i,e)}var A0="_reactListening"+Math.random().toString(36).slice(2);function v4(t){if(!t[A0]){t[A0]=!0,m8.forEach(function(n){n!=="selectionchange"&&(BH.has(n)||Qw(n,!1,t),Qw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[A0]||(e[A0]=!0,Qw("selectionchange",!1,e))}}function mD(t,e,n,i){switch(ID(e)){case 2:var r=hW;break;case 8:r=fW;break;default:r=C4}n=r.bind(null,e,n,t),r=void 0,!dk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function e2(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=Gc(a),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=o=s;continue e}a=a.parentNode}}i=i.return}S8(function(){var c=o,u=BS(n),d=[];e:{var h=M8.get(t);if(h!==void 0){var f=f1,p=t;switch(t){case"keypress":if(pb(n)===0)break e;case"keydown":case"keyup":f=DV;break;case"focusin":p="focus",f=Nw;break;case"focusout":p="blur",f=Nw;break;case"beforeblur":case"afterblur":f=Nw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=B5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=wV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=zV;break;case R8:case L8:case z8:f=CV;break;case F8:f=MV;break;case"scroll":case"scrollend":f=yV;break;case"wheel":f=BV;break;case"copy":case"cut":case"paste":f=TV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=U5;break;case"toggle":case"beforetoggle":f=UV}var m=(e&4)!==0,b=!m&&(t==="scroll"||t==="scrollend"),g=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,y;x!==null;){var v=x;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||g===null||(v=_p(x,g),v!=null&&m.push(zp(x,v,y))),b)break;x=x.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==uk&&(p=n.relatedTarget||n.fromElement)&&(Gc(p)||p[Vh]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Gc(p):null,p!==null&&(b=Uh(p),m=p.tag,p!==b||m!==5&&m!==27&&m!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=B5,v="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=U5,v="onPointerLeave",g="onPointerEnter",x="pointer"),b=f==null?h:Yf(f),y=p==null?h:Yf(p),h=new m(v,x+"leave",f,n,u),h.target=b,h.relatedTarget=y,v=null,Gc(u)===c&&(m=new m(g,x+"enter",p,n,u),m.target=y,m.relatedTarget=b,v=m),b=v,f&&p)t:{for(m=f,g=p,x=0,y=m;y;y=fd(y))x++;for(y=0,v=g;v;v=fd(v))y++;for(;0<x-y;)m=fd(m),x--;for(;0<y-x;)g=fd(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=fd(m),g=fd(g)}m=null}else m=null;f!==null&&O6(d,h,f,m,!1),p!==null&&b!==null&&O6(d,b,p,m,!0)}}e:{if(h=c?Yf(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=G5;else if(W5(h))if(_8)w=JV;else{w=YV;var E=KV}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&PS(c.elementType)&&(w=G5):w=ZV;if(w&&(w=w(t,c))){$8(d,w,n,u);break e}E&&E(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&ck(h,"number",h.value)}switch(E=c?Yf(c):window,t){case"focusin":(W5(E)||E.contentEditable==="true")&&(Pd=E,hk=c,cp=null);break;case"focusout":cp=hk=Pd=null;break;case"mousedown":fk=!0;break;case"contextmenu":case"mouseup":case"dragend":fk=!1,Z5(d,n,u);break;case"selectionchange":if(tH)break;case"keydown":case"keyup":Z5(d,n,u)}var C;if(VS)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Md?T8(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(E8&&n.locale!=="ko"&&(Md||I!=="onCompositionStart"?I==="onCompositionEnd"&&Md&&(C=C8()):(Nl=u,jS="value"in Nl?Nl.value:Nl.textContent,Md=!0)),E=ex(c,I),0<E.length&&(I=new j5(I,t,null,n,u),d.push({event:I,listeners:E}),C?I.data=C:(C=I8(n),C!==null&&(I.data=C)))),(C=HV?WV(t,n):GV(t,n))&&(I=ex(c,"onBeforeInput"),0<I.length&&(E=new j5("onBeforeInput","beforeinput",null,n,u),d.push({event:E,listeners:I}),E.data=C)),FH(d,t,c,n,u)}pD(d,e)})}function zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ex(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||o===null||(r=_p(t,n),r!=null&&i.unshift(zp(t,r,o)),r=_p(t,e),r!=null&&i.push(zp(t,r,o))),t=t.return}return i}function fd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function O6(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===i)break;a!==5&&a!==26&&a!==27||c===null||(l=c,r?(c=_p(n,o),c!=null&&s.unshift(zp(n,c,l))):r||(c=_p(n,o),c!=null&&s.push(zp(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jH=/\r\n?/g,UH=/\u0000|\uFFFD/g;function D6(t){return(typeof t=="string"?t:""+t).replace(jH,"\n").replace(UH,"")}function gD(t,e){return e=D6(e),D6(t)===e}function C1(){}function Zt(t,e,n,i,r,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||mh(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&mh(t,""+i);break;case"className":k0(t,"class",i);break;case"tabIndex":k0(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":k0(t,n,i);break;case"style":k8(t,i,o);break;case"data":if(e!=="object"){k0(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=hb(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&Zt(t,e,"name",r.name,r,null),Zt(t,e,"formEncType",r.formEncType,r,null),Zt(t,e,"formMethod",r.formMethod,r,null),Zt(t,e,"formTarget",r.formTarget,r,null)):(Zt(t,e,"encType",r.encType,r,null),Zt(t,e,"method",r.method,r,null),Zt(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=hb(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=C1);break;case"onScroll":i!=null&&Lt("scroll",t);break;case"onScrollEnd":i!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Ee(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(Ee(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=hb(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),db(t,"popover",i);break;case"xlinkActuate":fa(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":fa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":fa(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":fa(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":fa(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":fa(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":fa(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":fa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":fa(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":db(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=bV.get(n)||n,db(t,n,i))}}function Pk(t,e,n,i,r,o){switch(n){case"style":k8(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Ee(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(Ee(60));t.innerHTML=n}}break;case"children":typeof i=="string"?mh(t,i):(typeof i=="number"||typeof i=="bigint")&&mh(t,""+i);break;case"onScroll":i!=null&&Lt("scroll",t);break;case"onScrollEnd":i!=null&&Lt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=C1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g8.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),o=t[Vr]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,r),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):db(t,n,i)}}}function Gi(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var i=!1,r=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ee(137,e));default:Zt(t,e,o,s,n,null)}}r&&Zt(t,e,"srcSet",n.srcSet,n,null),i&&Zt(t,e,"src",n.src,n,null);return;case"input":Lt("invalid",t);var a=o=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"name":r=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":o=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Ee(137,e));break;default:Zt(t,e,i,u,n,null)}}y8(t,o,a,l,c,s,r,!1),Fb(t);return;case"select":Lt("invalid",t),i=s=o=null;for(r in n)if(n.hasOwnProperty(r)&&(a=n[r],a!=null))switch(r){case"value":o=a;break;case"defaultValue":s=a;break;case"multiple":i=a;default:Zt(t,e,r,a,n,null)}e=o,n=s,t.multiple=!!i,e!=null?Yd(t,!!i,e,!1):n!=null&&Yd(t,!!i,n,!0);return;case"textarea":Lt("invalid",t),o=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":i=a;break;case"defaultValue":r=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Ee(91));break;default:Zt(t,e,s,a,n,null)}w8(t,i,r,o),Fb(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Zt(t,e,l,i,n,null)}return;case"dialog":Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(i=0;i<Lp.length;i++)Lt(Lp[i],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Ee(137,e));default:Zt(t,e,c,i,n,null)}return;default:if(PS(e)){for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!==void 0&&Pk(t,e,u,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&Zt(t,e,a,i,n,null))}function VH(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,s=null,a=null,l=null,c=null,u=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(f)||Zt(t,e,f,null,i,d)}}for(var h in i){var f=i[h];if(d=n[h],i.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":o=f;break;case"name":r=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":a=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(Ee(137,e));break;default:f!==d&&Zt(t,e,h,f,i,d)}}lk(t,s,a,l,c,u,o,r);return;case"select":f=s=a=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":f=l;default:i.hasOwnProperty(o)||Zt(t,e,o,null,i,l)}for(r in i)if(o=i[r],l=n[r],i.hasOwnProperty(r)&&(o!=null||l!=null))switch(r){case"value":h=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:o!==l&&Zt(t,e,r,o,i,l)}e=a,n=s,i=f,h!=null?Yd(t,!!n,h,!1):!!i!=!!n&&(e!=null?Yd(t,!!n,e,!0):Yd(t,!!n,n?[]:"",!1));return;case"textarea":f=h=null;for(a in n)if(r=n[a],n.hasOwnProperty(a)&&r!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Zt(t,e,a,null,i,r)}for(s in i)if(r=i[s],o=n[s],i.hasOwnProperty(s)&&(r!=null||o!=null))switch(s){case"value":h=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Ee(91));break;default:r!==o&&Zt(t,e,s,r,i,o)}v8(t,h,f);return;case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&h!=null&&!i.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Zt(t,e,p,null,i,h)}for(l in i)if(h=i[l],f=n[l],i.hasOwnProperty(l)&&h!==f&&(h!=null||f!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(t,e,l,h,i,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&h!=null&&!i.hasOwnProperty(m)&&Zt(t,e,m,null,i,h);for(c in i)if(h=i[c],f=n[c],i.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Ee(137,e));break;default:Zt(t,e,c,h,i,f)}return;default:if(PS(e)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!i.hasOwnProperty(b)&&Pk(t,e,b,void 0,i,h);for(u in i)h=i[u],f=n[u],!i.hasOwnProperty(u)||h===f||h===void 0&&f===void 0||Pk(t,e,u,h,i,f);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&Zt(t,e,g,null,i,h);for(d in i)h=i[d],f=n[d],!i.hasOwnProperty(d)||h===f||h==null&&f==null||Zt(t,e,d,h,i,f)}var Bk=null,jk=null;function tx(t){return t.nodeType===9?t:t.ownerDocument}function R6(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bD(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Uk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var t2=null;function HH(){var t=window.event;return t&&t.type==="popstate"?t===t2?!1:(t2=t,!0):(t2=null,!1)}var xD=typeof setTimeout=="function"?setTimeout:void 0,WH=typeof clearTimeout=="function"?clearTimeout:void 0,L6=typeof Promise=="function"?Promise:void 0,GH=typeof queueMicrotask=="function"?queueMicrotask:typeof L6<"u"?function(t){return L6.resolve(null).then(t).catch(qH)}:xD;function qH(t){setTimeout(function(){throw t})}function n2(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),jp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);jp(e)}function Vk(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vk(n),MS(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function XH(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[$p])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==r.rel||t.getAttribute("href")!==(r.href==null?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=ws(t.nextSibling),t===null)break}return null}function KH(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ws(t.nextSibling),t===null))return null;return t}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function z6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function yD(t,e,n){switch(e=tx(n),t){case"html":if(t=e.documentElement,!t)throw Error(Ee(452));return t;case"head":if(t=e.head,!t)throw Error(Ee(453));return t;case"body":if(t=e.body,!t)throw Error(Ee(454));return t;default:throw Error(Ee(451))}}var es=new Map,F6=new Set;function nx(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Qa=kn.d;kn.d={f:YH,r:ZH,D:JH,C:QH,L:eW,m:tW,X:iW,S:nW,M:rW};function YH(){var t=Qa.f(),e=k1();return t||e}function ZH(t){var e=Hh(t);e!==null&&e.tag===5&&e.type==="form"?yO(e):Qa.r(t)}var Gh=typeof document>"u"?null:document;function vD(t,e,n){var i=Gh;if(i&&typeof e=="string"&&e){var r=Po(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),F6.has(r)||(F6.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Gi(e,"link",t),Ti(e),i.head.appendChild(e)))}}function JH(t){Qa.D(t),vD("dns-prefetch",t,null)}function QH(t,e){Qa.C(t,e),vD("preconnect",t,e)}function eW(t,e,n){Qa.L(t,e,n);var i=Gh;if(i&&t&&e){var r='link[rel="preload"][as="'+Po(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Po(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Po(n.imageSizes)+'"]')):r+='[href="'+Po(t)+'"]';var o=r;switch(e){case"style":o=wh(t);break;case"script":o=qh(t)}es.has(o)||(t=Cn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),es.set(o,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Em(o))||e==="script"&&i.querySelector(Tm(o))||(e=i.createElement("link"),Gi(e,"link",t),Ti(e),i.head.appendChild(e)))}}function tW(t,e){Qa.m(t,e);var n=Gh;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Po(i)+'"][href="'+Po(t)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=qh(t)}if(!es.has(o)&&(t=Cn({rel:"modulepreload",href:t},e),es.set(o,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tm(o)))return}i=n.createElement("link"),Gi(i,"link",t),Ti(i),n.head.appendChild(i)}}}function nW(t,e,n){Qa.S(t,e,n);var i=Gh;if(i&&t){var r=Kd(i).hoistableStyles,o=wh(t);e=e||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Em(o)))a.loading=5;else{t=Cn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=es.get(o))&&w4(t,n);var l=s=i.createElement("link");Ti(l),Gi(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,vb(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}}function iW(t,e){Qa.X(t,e);var n=Gh;if(n&&t){var i=Kd(n).hoistableScripts,r=qh(t),o=i.get(r);o||(o=n.querySelector(Tm(r)),o||(t=Cn({src:t,async:!0},e),(e=es.get(r))&&k4(t,e),o=n.createElement("script"),Ti(o),Gi(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function rW(t,e){Qa.M(t,e);var n=Gh;if(n&&t){var i=Kd(n).hoistableScripts,r=qh(t),o=i.get(r);o||(o=n.querySelector(Tm(r)),o||(t=Cn({src:t,async:!0,type:"module"},e),(e=es.get(r))&&k4(t,e),o=n.createElement("script"),Ti(o),Gi(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}function M6(t,e,n,i){var r=(r=Ll.current)?nx(r):null;if(!r)throw Error(Ee(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=wh(n.href),n=Kd(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=wh(n.href);var o=Kd(r).hoistableStyles,s=o.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,s),(o=r.querySelector(Em(t)))&&!o._p&&(s.instance=o,s.state.loading=5),es.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},es.set(t,n),o||oW(r,t,n,s.state))),e&&i===null)throw Error(Ee(528,""));return s}if(e&&i!==null)throw Error(Ee(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qh(n),n=Kd(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(Ee(444,t))}}function wh(t){return'href="'+Po(t)+'"'}function Em(t){return'link[rel="stylesheet"]['+t+"]"}function wD(t){return Cn({},t,{"data-precedence":t.precedence,precedence:null})}function oW(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Gi(e,"link",n),Ti(e),t.head.appendChild(e))}function qh(t){return'[src="'+Po(t)+'"]'}function Tm(t){return"script[async]"+t}function P6(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Po(n.href)+'"]');if(i)return e.instance=i,Ti(i),i;var r=Cn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ti(i),Gi(i,"style",r),vb(i,n.precedence,t),e.instance=i;case"stylesheet":r=wh(n.href);var o=t.querySelector(Em(r));if(o)return e.state.loading|=4,e.instance=o,Ti(o),o;i=wD(n),(r=es.get(r))&&w4(i,r),o=(t.ownerDocument||t).createElement("link"),Ti(o);var s=o;return s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),Gi(o,"link",i),e.state.loading|=4,vb(o,n.precedence,t),e.instance=o;case"script":return o=qh(n.src),(r=t.querySelector(Tm(o)))?(e.instance=r,Ti(r),r):(i=n,(r=es.get(o))&&(i=Cn({},n),k4(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),Ti(r),Gi(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(Ee(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,vb(i,n.precedence,t));return e.instance}function vb(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===e)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function w4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function k4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var wb=null;function B6(t,e,n){if(wb===null){var i=new Map,r=wb=new Map;r.set(n,i)}else r=wb,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var o=n[r];if(!(o[$p]||o[nr]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=t+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function j6(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function sW(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kD(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Fp=null;function aW(){}function lW(t,e,n){if(Fp===null)throw Error(Ee(475));var i=Fp;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=wh(n.href),o=t.querySelector(Em(r));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=ix.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,Ti(o);return}o=t.ownerDocument||t,n=wD(n),(r=es.get(r))&&w4(n,r),o=o.createElement("link"),Ti(o);var s=o;s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),Gi(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=ix.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function cW(){if(Fp===null)throw Error(Ee(475));var t=Fp;return t.stylesheets&&t.count===0&&Hk(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Hk(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function ix(){if(this.count--,this.count===0){if(this.stylesheets)Hk(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rx=null;function Hk(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rx=new Map,e.forEach(uW,t),rx=null,ix.call(t))}function uW(t,e){if(!(e.state.loading&4)){var n=rx.get(t);if(n)var i=n.get(null);else{n=new Map,rx.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=e.instance,s=r.getAttribute("data-precedence"),o=n.get(s)||i,o===i&&n.set(null,r),n.set(s,r),this.count++,i=ix.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Mp={$$typeof:$a,Provider:null,Consumer:null,_currentValue:eu,_currentValue2:eu,_threadCount:0};function dW(t,e,n,i,r,o,s,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Iw(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iw(0),this.hiddenUpdates=Iw(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function SD(t,e,n,i,r,o,s,a,l,c,u,d){return t=new dW(t,e,n,s,a,l,c,d),e=1,o===!0&&(e|=24),o=Uo(3,null,null,e),t.current=o,o.stateNode=t,e=YS(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},d4(o),t}function CD(t){return t?(t=Ud,t):Ud}function ED(t,e,n,i,r,o){r=CD(r),i.context===null?i.context=r:i.pendingContext=r,i=zl(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Fl(t,i,e),n!==null&&(vr(n,t,e),mp(n,t,e))}function U6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S4(t,e){U6(t,e),(t=t.alternate)&&U6(t,e)}function TD(t){if(t.tag===13){var e=Xl(t,67108864);e!==null&&vr(e,t,67108864),S4(t,67108864)}}var ox=!0;function hW(t,e,n,i){var r=yt.T;yt.T=null;var o=kn.p;try{kn.p=2,C4(t,e,n,i)}finally{kn.p=o,yt.T=r}}function fW(t,e,n,i){var r=yt.T;yt.T=null;var o=kn.p;try{kn.p=8,C4(t,e,n,i)}finally{kn.p=o,yt.T=r}}function C4(t,e,n,i){if(ox){var r=Wk(i);if(r===null)e2(t,e,i,sx,n),V6(t,i);else if(mW(r,t,e,n,i))i.stopPropagation();else if(V6(t,i),e&4&&-1<pW.indexOf(t)){for(;r!==null;){var o=Hh(r);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=zc(o.pendingLanes);if(s!==0){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fo(s);a.entanglements[1]|=l,s&=~l}aa(o),!(Dn&6)&&(Yb=Xs()+500,Cm(0))}}break;case 13:a=Xl(o,2),a!==null&&vr(a,o,2),k1(),S4(o,2)}if(o=Wk(i),o===null&&e2(t,e,i,sx,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else e2(t,e,i,null,n)}}function Wk(t){return t=BS(t),E4(t)}var sx=null;function E4(t){if(sx=null,t=Gc(t),t!==null){var e=Uh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=r8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return sx=t,null}function ID(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QU()){case s8:return 2;case a8:return 8;case zb:case eV:return 32;case l8:return 268435456;default:return 32}default:return 32}}var Gk=!1,Bl=null,jl=null,Ul=null,Pp=new Map,Bp=new Map,Il=[],pW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V6(t,e){switch(t){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Pp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(e.pointerId)}}function Lf(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Hh(e),e!==null&&TD(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function mW(t,e,n,i,r){switch(e){case"focusin":return Bl=Lf(Bl,t,e,n,i,r),!0;case"dragenter":return jl=Lf(jl,t,e,n,i,r),!0;case"mouseover":return Ul=Lf(Ul,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Pp.set(o,Lf(Pp.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Bp.set(o,Lf(Bp.get(o)||null,t,e,n,i,r)),!0}return!1}function $D(t){var e=Gc(t.target);if(e!==null){var n=Uh(e);if(n!==null){if(e=n.tag,e===13){if(e=r8(n),e!==null){t.blockedOn=e,cV(t.priority,function(){if(n.tag===13){var i=po(),r=Xl(n,i);r!==null&&vr(r,n,i),S4(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wk(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);uk=i,n.target.dispatchEvent(i),uk=null}else return e=Hh(n),e!==null&&TD(e),t.blockedOn=n,!1;e.shift()}return!0}function H6(t,e,n){kb(t)&&n.delete(e)}function gW(){Gk=!1,Bl!==null&&kb(Bl)&&(Bl=null),jl!==null&&kb(jl)&&(jl=null),Ul!==null&&kb(Ul)&&(Ul=null),Pp.forEach(H6),Bp.forEach(H6)}function N0(t,e){t.blockedOn===e&&(t.blockedOn=null,Gk||(Gk=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,gW)))}var O0=null;function W6(t){O0!==t&&(O0=t,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,function(){O0===t&&(O0=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(E4(i||n)===null)continue;break}var o=Hh(n);o!==null&&(t.splice(e,3),e-=3,vk(o,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function jp(t){function e(l){return N0(l,t)}Bl!==null&&N0(Bl,t),jl!==null&&N0(jl,t),Ul!==null&&N0(Ul,t),Pp.forEach(e),Bp.forEach(e);for(var n=0;n<Il.length;n++){var i=Il[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)$D(n),n.blockedOn===null&&Il.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Vr]||null;if(typeof o=="function")s||W6(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Vr]||null)a=s.formAction;else if(E4(r)!==null)continue}else a=s.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),W6(n)}}}function T4(t){this._internalRoot=t}E1.prototype.render=T4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));var n=e.current,i=po();ED(n,i,t,e,null,null)};E1.prototype.unmount=T4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&nh(),ED(t.current,2,null,t,null,null),k1(),e[Vh]=null}};function E1(t){this._internalRoot=t}E1.prototype.unstable_scheduleHydration=function(t){if(t){var e=p8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Il.length&&e!==0&&e<Il[n].priority;n++);Il.splice(n,0,t),n===0&&$D(t)}};var G6=QN.version;if(G6!=="19.0.0")throw Error(Ee(527,G6,"19.0.0"));kn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=YU(e),t=t!==null?o8(t):null,t=t===null?null:t.stateNode,t};var bW={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:yt,findFiberByHostInstance:Gc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D0.isDisabled&&D0.supportsFiber)try{mm=D0.inject(bW),ho=D0}catch(t){}}u1.createRoot=function(t,e){if(!e8(t))throw Error(Ee(299));var n=!1,i="",r=EO,o=TO,s=IO,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=SD(t,1,!1,null,null,n,i,r,o,s,a,null),t[Vh]=e.current,v4(t.nodeType===8?t.parentNode:t),new T4(e)};u1.hydrateRoot=function(t,e,n){if(!e8(t))throw Error(Ee(299));var i=!1,r="",o=EO,s=TO,a=IO,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=SD(t,1,!0,e,n!=null?n:null,i,r,o,s,a,l,c),e.context=CD(null),n=e.current,i=po(),r=zl(i),r.callback=null,Fl(n,r,i),e.current.lanes=i,bm(e,i),aa(e),t[Vh]=e.current,v4(t),new E1(e)};u1.version="19.0.0";function _D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_D)}catch(t){console.error(t)}}_D(),qN.exports=u1;var xW=qN.exports;const yW="modulepreload",vW=function(t){return"/Cephaline-Supabase/"+t},q6={},fi=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=vW(a),a in q6)return;q6[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":yW,l||(u.as="script",u.crossOrigin=""),u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var ys={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},wW=Object.defineProperty,kW=(t,e)=>{for(var n in e)wW(t,n,{get:e[n],enumerable:!0})},SW={isBrowser:!0},AD=new WeakMap,fc=t=>AD.get(t),CW=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return AD.set(t,n)},X6=(t,e)=>e in t,Im=(t,e)=>(0,console.error)(t,e),ax=new Map,ND=[],EW="slot-fb{display:contents}slot-fb[hidden]{display:none}",K6="http://www.w3.org/1999/xlink",$m=typeof window<"u"?window:{},ks=$m.document||{head:{}},Qe=$m.HTMLElement||class{},Ki={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},TW=(()=>{let t=!1;try{ks.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),IW=t=>Promise.resolve(t),$W=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),qk=!1,Xk=[],OD=[],DD=(t,e)=>n=>{t.push(n),qk||(qk=!0,e&&Ki.$flags$&4?_W(Kk):Ki.raf(Kk))},Y6=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Im(n)}t.length=0},Kk=()=>{Y6(Xk),Y6(OD),(qk=Xk.length>0)&&Ki.raf(Kk)},_W=t=>IW().then(t),gu=DD(Xk,!1),Hr=DD(OD,!0),RD=t=>{const e=new URL(t,Ki.$resourcesUrl$);return e.origin!==$m.location.origin?e.href:e.pathname},Z6={},AW="http://www.w3.org/2000/svg",NW="http://www.w3.org/1999/xhtml",OW=t=>t!=null,I4=t=>(t=typeof t,t==="object"||t==="function");function DW(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var RW={};kW(RW,{err:()=>LD,map:()=>LW,ok:()=>Yk,unwrap:()=>zW,unwrapErr:()=>FW});var Yk=t=>({isOk:!0,isErr:!1,value:t}),LD=t=>({isOk:!1,isErr:!0,value:t});function LW(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>Yk(i)):Yk(n)}if(t.isErr){const n=t.value;return LD(n)}throw"should never get here"}var zW=t=>{if(t.isOk)return t.value;throw t.value},FW=t=>{if(t.isErr)return t.value;throw t.value},bu=(t,e="")=>()=>{},L=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!I4(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?lx(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,PW);const u=lx(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},lx=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},tt={},MW=t=>t&&t.$tag$===tt,PW={forEach:(t,e)=>t.map(J6).forEach(e),map:(t,e)=>t.map(J6).map(e).map(BW)},J6=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),BW=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),L(t.vtag,n,...t.vchildren||[])}const e=lx(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},jW=t=>ND.map(e=>e(t)).find(e=>!!e),UW=t=>ND.push(t),VW=t=>fc(t).$modeName$,HW=(t,e)=>t!=null&&!I4(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,WW=t=>t,ke=(t,e,n)=>{const i=WW(t);return{emit:r=>GW(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},GW=(t,e,n)=>{const i=Ki.ce(e,n);return t.dispatchEvent(i),i},Q6=new WeakMap,qW=(t,e,n)=>{let i=ax.get(t);$W&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,ax.set(t,i)},XW=(t,e,n)=>{var i;const r=zD(e,n),o=ax.get(r);if(t=t.nodeType===11?t:ks,o)if(typeof o=="string"){t=t.head||t;let s=Q6.get(t),a;if(s||Q6.set(t,s=new Set),!s.has(r)){{a=ks.createElement("style"),a.innerHTML=o;const l=(i=Ki.$nonce$)!=null?i:DW(ks);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=EW),s&&s.add(r)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return r},KW=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=bu("attachStyles",e.$tagName$),o=XW(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&i&2&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},zD=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),e$=(t,e,n,i,r,o)=>{if(n!==i){let s=X6(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=t$(n),u=t$(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):X6($m,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(FD);e=e.replace(ZW,""),n&&Ki.rel(t,e,n,l),i&&Ki.ael(t,e,i,l)}}else{const l=I4(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(K6,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(K6,e,i):t.setAttribute(e,i))}}},YW=/\s/,t$=t=>t?t.split(YW):[],FD="Capture",ZW=new RegExp(FD+"$"),MD=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,r=t&&t.$attrs$||Z6,o=e.$attrs$||Z6;for(const s of n$(Object.keys(r)))s in o||e$(i,s,r[s],void 0,n,e.$flags$);for(const s of n$(Object.keys(o)))e$(i,s,r[s],o[s],n,e.$flags$)};function n$(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Td,Zk,Up,cx=!1,ux=!1,$4=!1,oo=!1,dx=(t,e,n,i)=>{var r;const o=e.$children$[n];let s=0,a,l,c;if(cx||($4=!0,o.$tag$==="slot"&&(Td&&i.classList.add(Td+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)a=o.$elm$=ks.createTextNode(o.$text$);else if(o.$flags$&1)a=o.$elm$=ks.createTextNode("");else{if(oo||(oo=o.$tag$==="svg"),a=o.$elm$=ks.createElementNS(oo?AW:NW,!cx&&ys.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),oo&&o.$tag$==="foreignObject"&&(oo=!1),MD(null,o,oo),!!a.getRootNode().querySelector("body")&&ys.scoped&&OW(Td)&&a["s-si"]!==Td&&a.classList.add(a["s-si"]=Td),A4(a,i),o.$children$)for(s=0;s<o.$children$.length;++s)l=dx(t,o,s,a),l&&a.appendChild(l);o.$tag$==="svg"?oo=!1:a.tagName==="foreignObject"&&(oo=!0)}return a["s-hn"]=Up,o.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Zk,a["s-sn"]=o.$name$||"",a["s-rf"]=(r=o.$attrs$)==null?void 0:r.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===o.$tag$&&t.$elm$&&Vp(t.$elm$,!1)),a},Vp=(t,e)=>{Ki.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&ys.experimentalSlotFixes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Up&&r["s-ol"]&&(Vl(jD(r),r,_4(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,$4=!0),e&&Vp(r,e)}Ki.$flags$&=-2},PD=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Up&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=dx(null,n,r,t),a&&(i[r].$elm$=a,Vl(s,a,_4(e))))},BD=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const o=r.$elm$;HD(r),o&&(ux=!0,o["s-ol"]?o["s-ol"].remove():Vp(o,!0),o.remove())}}},JW=(t,e,n,i,r=!1)=>{let o=0,s=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=i.length-1,f=i[0],p=i[h],m,b;for(;o<=c&&s<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(f==null)f=i[++s];else if(p==null)p=i[--h];else if(R0(u,f,r))Id(u,f,r),u=e[++o],f=i[++s];else if(R0(d,p,r))Id(d,p,r),d=e[--c],p=i[--h];else if(R0(u,p,r))(u.$tag$==="slot"||p.$tag$==="slot")&&Vp(u.$elm$.parentNode,!1),Id(u,p,r),Vl(t,u.$elm$,d.$elm$.nextSibling),u=e[++o],p=i[--h];else if(R0(d,f,r))(u.$tag$==="slot"||p.$tag$==="slot")&&Vp(d.$elm$.parentNode,!1),Id(d,f,r),Vl(t,d.$elm$,u.$elm$),d=e[--c],f=i[++s];else{for(a=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===f.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==f.$tag$?m=dx(e&&e[s],n,a,t):(Id(b,f,r),e[a]=void 0,m=b.$elm$),f=i[++s]):(m=dx(e&&e[s],n,s,t),f=i[++s]),m&&Vl(jD(u.$elm$),m,_4(u.$elm$))}o>c?PD(t,i[h+1]==null?null:i[h+1].$elm$,n,i,s,h):s>h&&BD(e,o,c)},R0=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,_4=t=>t&&t["s-ol"]||t,jD=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Id=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,r=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;let l;a===null?(oo=s==="svg"?!0:s==="foreignObject"?!1:oo,s==="slot"&&!cx||MD(t,e,oo),r!==null&&o!==null?JW(i,r,e,o,n):o!==null?(t.$text$!==null&&(i.textContent=""),PD(i,null,e,o,0,o.length-1)):!n&&ys.updatable&&r!==null&&BD(r,0,r.length-1),oo&&s==="svg"&&(oo=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},UD=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const r of e)if(r!==n){if(r["s-hn"]!==n["s-hn"]||i!==""){if(r.nodeType===1&&(i===r.getAttribute("slot")||i===r["s-sn"])||r.nodeType===3&&i===r["s-sn"]){n.hidden=!0;break}}else if(r.nodeType===1||r.nodeType===3&&r.textContent.trim()!==""){n.hidden=!0;break}}}UD(n)}},xa=[],VD=t=>{let e,n,i;for(const r of t.childNodes){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const o=r["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"])if(i$(e,o)){let s=xa.find(a=>a.$nodeToRelocate$===e);ux=!0,e["s-sn"]=e["s-sn"]||o,s?(s.$nodeToRelocate$["s-sh"]=r["s-hn"],s.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],xa.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&xa.map(a=>{i$(a.$nodeToRelocate$,e["s-sn"])&&(s=xa.find(l=>l.$nodeToRelocate$===e),s&&!a.$slotRefNode$&&(a.$slotRefNode$=s.$slotRefNode$))})}else xa.some(s=>s.$nodeToRelocate$===e)||xa.push({$nodeToRelocate$:e})}r.nodeType===1&&VD(r)}},i$=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",HD=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(HD)},Vl=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return A4(e,t),i},WD=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...WD(t.parentElement)),e},A4=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const r=new Set(WD(e).filter(Boolean));if(r.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...r]),t["s-ol"]||n))for(const o of Array.from(t.childNodes))A4(o,t,!0)}},QW=(t,e,n=!1)=>{var i,r,o,s,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||lx(null,null),d=MW(e)?e:L(null,null,e);if(Up=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,f])=>d.$attrs$[f]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Td=l["s-sc"],cx=(c.$flags$&1)!==0,Zk=l["s-cr"],ux=!1,Id(u,d,n);{if(Ki.$flags$|=1,$4){VD(d.$elm$);for(const h of xa){const f=h.$nodeToRelocate$;if(!f["s-ol"]){const p=ks.createTextNode("");p["s-nr"]=f,Vl(f.parentNode,f["s-ol"]=p,f)}}for(const h of xa){const f=h.$nodeToRelocate$,p=h.$slotRefNode$;if(p){const m=p.parentNode;let b=p.nextSibling;{let g=(i=f["s-ol"])==null?void 0:i.previousSibling;for(;g;){let x=(r=g["s-nr"])!=null?r:null;if(x&&x["s-sn"]===f["s-sn"]&&m===x.parentNode){for(x=x.nextSibling;x===f||x!=null&&x["s-sr"];)x=x==null?void 0:x.nextSibling;if(!x||!x["s-nr"]){b=x;break}}g=g.previousSibling}}(!b&&m!==f.parentNode||f.nextSibling!==b)&&f!==b&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),Vl(m,f,b),f.nodeType===1&&(f.hidden=(o=f["s-ih"])!=null?o:!1)),f&&typeof p["s-rf"]=="function"&&p["s-rf"](f)}else f.nodeType===1&&(n&&(f["s-ih"]=(s=f.hidden)!=null?s:!1),f.hidden=!0)}}ux&&UD(d.$elm$),Ki.$flags$&=-2,xa.length=0}if(ys.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==Up&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!=null?a:!1),h.hidden=!0);Zk=void 0},eG=(t,e)=>{},N4=(t,e)=>(t.$flags$|=16,eG(t,t.$ancestorComponent$),Hr(()=>tG(t,e))),tG=(t,e)=>{const n=t.$hostElement$,i=bu("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;if(!r)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let o;return e?o=ih(r,"componentWillLoad"):o=ih(r,"componentWillUpdate"),o=r$(o,()=>ih(r,"componentWillRender")),i(),r$(o,()=>iG(t,r,e))},r$=(t,e)=>nG(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),nG=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",iG=async(t,e,n)=>{const i=t.$hostElement$,r=bu("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&KW(t);const o=bu("render",t.$cmpMeta$.$tagName$);rG(t,e,i,n),o(),r(),oG(t)},o$=null,rG=(t,e,n,i)=>{try{o$=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(ys.hasRenderFn||ys.reflect)&&(ys.vdomRender||ys.reflect)&&(ys.hydrateServerSide||QW(t,e,i))}catch(l){Im(l,t.$hostElement$)}return o$=null,null},oG=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=bu("postUpdate",e),r=n;t.$ancestorComponent$,ih(r,"componentDidRender"),t.$flags$&64?(ih(r,"componentDidUpdate"),i()):(t.$flags$|=64,ih(r,"componentDidLoad"),i())},qi=t=>{{const e=fc(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&N4(e,!1),n}},ih=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Im(i)}},sG=(t,e)=>fc(t).$instanceValues$.get(e),aG=(t,e,n,i)=>{const r=fc(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=HW(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Im(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;N4(r,!1)}}}},lG=(t,e,n)=>{var i,r;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((i=e.$members$)!=null?i:{});s.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(o,a,{get(){return sG(this,a)},set(c){aG(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;o.attributeChangedCallback=function(l,c,u){Ki.jmp(()=>{var d;const h=a.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(o.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const f=fc(this),p=f==null?void 0:f.$flags$;if(p&&!(p&8)&&p&128&&u!==c){const b=this,g=(d=e.$watchers$)==null?void 0:d[l];g==null||g.forEach(x=>{b[x]!=null&&b[x].call(b,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((r=e.$watchers$)!=null?r:{}),...s.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},cG=async(t,e,n,i)=>{let r;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{r=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(r&&r.style){let s;typeof r.style=="string"?s=r.style:typeof r.style!="string"&&(e.$modeName$=jW(t),e.$modeName$&&(s=r.style[e.$modeName$]));const a=zD(n,e.$modeName$);if(!ax.has(a)){const l=bu("registerStyles",n.$tagName$);qW(a,s,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,N4(e,!0)},s$=t=>{},uG=t=>{if(!(Ki.$flags$&1)){const e=fc(t),n=e.$cmpMeta$,i=bu("connectedCallback",n.$tagName$);e.$flags$&1?(GD(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?s$(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>s$(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&dG(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),cG(t,e,n)),i()}},dG=t=>{const e=t["s-cr"]=ks.createComment("");e["s-cn"]=!0,Vl(t,e,t.firstChild)},hG=async t=>{if(!(Ki.$flags$&1)){const e=fc(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},et=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){CW(this,n)},connectedCallback(){const o=fc(this);GD(this,o,n.$listeners$),uG(this),i&&i.call(this)},disconnectedCallback(){hG(this),r&&r.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,lG(t,n)},GD=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=pG(t,r),l=fG(e,s),c=mG(r);Ki.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Ki.rel(a,o,l,c))})},fG=(t,e)=>n=>{var i;try{ys.lazyLoad||t.$hostElement$[e](n)}catch(r){Im(r)}},pG=(t,e)=>e&4?ks:e&8?$m:e&16?ks.body:t,mG=t=>TW?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class gG{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const st=new gG,bG=t=>{try{const e=t.sessionStorage.getItem(qD);return e!==null?JSON.parse(e):{}}catch(e){return{}}},xG=(t,e)=>{try{t.sessionStorage.setItem(qD,JSON.stringify(e))}catch(n){return}},yG=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>{try{return[decodeURIComponent(n),decodeURIComponent(i)]}catch(r){return["",""]}}).filter(([n])=>vG(n,a$)).map(([n,i])=>[n.slice(a$.length),i]).forEach(([n,i])=>{e[n]=i}),e},vG=(t,e)=>t.substr(0,e.length)===e,a$="ionic:",qD="ionic-persist-config";var su;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(su||(su={}));const pn=(t,...e)=>{const n=st.get("logLevel",su.WARN);if([su.WARN].includes(n))return console.warn("[Ionic Warning]: ".concat(t),...e)},ts=(t,...e)=>{const n=st.get("logLevel",su.ERROR);if([su.ERROR,su.WARN].includes(n))return console.error("[Ionic Error]: ".concat(t),...e)},wG=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gt=typeof window<"u"?window:void 0,mo=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let i2;const kG=t=>{if(i2===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;i2=!e&&n?"-webkit-":""}return i2},r2=(t,e,n)=>{const i=e.startsWith("animation")?kG(t):"";t.style.setProperty(i+e,n)},L0=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Le=t=>{let e,n,i,r,o,s,a=[],l=[],c=[],u=!1,d,h={},f=[],p=[],m={},b=0,g=!1,x=!1,y,v,w,E=!0,C=!1,I=!0,T,_=!1;const M=t,D=[],z=[],$=[],F=[],j=[],W=[],V=[],B=[],K=[],q=[],G=[],le=typeof AnimationEffect=="function"||Gt!==void 0&&typeof Gt.AnimationEffect=="function",oe=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&le,re=()=>G,we=xe=>(j.forEach(Xe=>{Xe.destroy(xe)}),_e(xe),F.length=0,j.length=0,a.length=0,lt(),u=!1,I=!0,T),_e=xe=>{O(),xe&&me()},$e=()=>{g=!1,x=!1,I=!0,y=void 0,v=void 0,w=void 0,b=0,C=!1,E=!0,_=!1},Oe=()=>b!==0&&!_,Ge=(xe,Xe)=>{const wt=Xe.findIndex(En=>En.c===xe);wt>-1&&Xe.splice(wt,1)},qe=(xe,Xe)=>($.push({c:xe,o:Xe}),T),ot=(xe,Xe)=>((Xe!=null&&Xe.oneTimeCallback?z:D).push({c:xe,o:Xe}),T),lt=()=>(D.length=0,z.length=0,T),O=()=>{oe&&(G.forEach(xe=>{xe.cancel()}),G.length=0)},me=()=>{W.forEach(xe=>{xe!=null&&xe.parentNode&&xe.parentNode.removeChild(xe)}),W.length=0},he=xe=>(V.push(xe),T),Y=xe=>(B.push(xe),T),X=xe=>(K.push(xe),T),ae=xe=>(q.push(xe),T),ye=xe=>(l=L0(l,xe),T),Ce=xe=>(c=L0(c,xe),T),de=(xe={})=>(h=xe,T),Ie=(xe=[])=>{for(const Xe of xe)h[Xe]="";return T},Fe=xe=>(f=L0(f,xe),T),Ae=xe=>(p=L0(p,xe),T),We=(xe={})=>(m=xe,T),bt=(xe=[])=>{for(const Xe of xe)m[Xe]="";return T},dt=()=>o!==void 0?o:d?d.getFill():"both",Vt=()=>y!==void 0?y:s!==void 0?s:d?d.getDirection():"normal",dr=()=>g?"linear":i!==void 0?i:d?d.getEasing():"linear",cn=()=>x?0:v!==void 0?v:n!==void 0?n:d?d.getDuration():0,$r=()=>r!==void 0?r:d?d.getIterations():1,Pt=()=>w!==void 0?w:e!==void 0?e:d?d.getDelay():0,_r=()=>a,to=xe=>(s=xe,fr(!0),T),hr=xe=>(o=xe,fr(!0),T),Ic=xe=>(e=xe,fr(!0),T),ol=xe=>(i=xe,fr(!0),T),sd=xe=>(!oe&&xe===0&&(xe=1),n=xe,fr(!0),T),ad=xe=>(r=xe,fr(!0),T),$c=xe=>(d=xe,T),ci=xe=>{if(xe!=null)if(xe.nodeType===1)F.push(xe);else if(xe.length>=0)for(let Xe=0;Xe<xe.length;Xe++)F.push(xe[Xe]);else ts("createAnimation - Invalid addElement value.");return T},un=xe=>{if(xe!=null)if(Array.isArray(xe))for(const Xe of xe)Xe.parent(T),j.push(Xe);else xe.parent(T),j.push(xe);return T},l0=xe=>{const Xe=a!==xe;return a=xe,Xe&&Co(a),T},Co=xe=>{oe&&re().forEach(Xe=>{const wt=Xe.effect;if(wt.setKeyframes)wt.setKeyframes(xe);else{const En=new KeyframeEffect(wt.target,xe,wt.getTiming());Xe.effect=En}})},ld=()=>{V.forEach(En=>En()),B.forEach(En=>En());const xe=l,Xe=c,wt=h;F.forEach(En=>{const ji=En.classList;xe.forEach(Eo=>ji.add(Eo)),Xe.forEach(Eo=>ji.remove(Eo));for(const Eo in wt)wt.hasOwnProperty(Eo)&&r2(En,Eo,wt[Eo])})},c0=()=>{K.forEach(ji=>ji()),q.forEach(ji=>ji());const xe=E?1:0,Xe=f,wt=p,En=m;F.forEach(ji=>{const Eo=ji.classList;Xe.forEach(ha=>Eo.add(ha)),wt.forEach(ha=>Eo.remove(ha));for(const ha in En)En.hasOwnProperty(ha)&&r2(ji,ha,En[ha])}),v=void 0,y=void 0,w=void 0,D.forEach(ji=>ji.c(xe,T)),z.forEach(ji=>ji.c(xe,T)),z.length=0,I=!0,E&&(C=!0),E=!0},_c=()=>{b!==0&&(b--,b===0&&(c0(),d&&d.animationFinish()))},u0=()=>{F.forEach(xe=>{const Xe=xe.animate(a,{id:M,delay:Pt(),duration:cn(),easing:dr(),iterations:$r(),fill:dt(),direction:Vt()});Xe.pause(),G.push(Xe)}),G.length>0&&(G[0].onfinish=()=>{_c()})},d0=()=>{ld(),a.length>0&&oe&&u0(),u=!0},sl=xe=>{xe=Math.min(Math.max(xe,0),.9999),oe&&G.forEach(Xe=>{Xe.currentTime=Xe.effect.getComputedTiming().delay+cn()*xe,Xe.pause()})},kf=xe=>{G.forEach(Xe=>{Xe.effect.updateTiming({delay:Pt(),duration:cn(),easing:dr(),iterations:$r(),fill:dt(),direction:Vt()})}),xe!==void 0&&sl(xe)},fr=(xe=!1,Xe=!0,wt)=>(xe&&j.forEach(En=>{En.update(xe,Xe,wt)}),oe&&kf(wt),T),fw=(xe=!1,Xe)=>(j.forEach(wt=>{wt.progressStart(xe,Xe)}),Sf(),g=xe,u||d0(),fr(!1,!0,Xe),T),pw=xe=>(j.forEach(Xe=>{Xe.progressStep(xe)}),sl(xe),T),cd=(xe,Xe,wt)=>(g=!1,j.forEach(En=>{En.progressEnd(xe,Xe,wt)}),wt!==void 0&&(v=wt),C=!1,E=!0,xe===0?(y=Vt()==="reverse"?"normal":"reverse",y==="reverse"&&(E=!1),oe?(fr(),sl(1-Xe)):(w=(1-Xe)*cn()*-1,fr(!1,!1))):xe===1&&(oe?(fr(),sl(Xe)):(w=Xe*cn()*-1,fr(!1,!1))),xe!==void 0&&!d&&Cf(),T),Sf=()=>{u&&(oe?G.forEach(xe=>{xe.pause()}):F.forEach(xe=>{r2(xe,"animation-play-state","paused")}),_=!0)},ud=()=>(j.forEach(xe=>{xe.pause()}),Sf(),T),h0=()=>{_c()},f0=()=>{G.forEach(xe=>{xe.play()}),(a.length===0||F.length===0)&&_c()},dd=()=>{oe&&(sl(0),kf())},Cf=xe=>new Promise(Xe=>{xe!=null&&xe.sync&&(x=!0,ot(()=>x=!1,{oneTimeCallback:!0})),u||d0(),C&&(dd(),C=!1),I&&(b=j.length+1,I=!1);const wt=()=>{Ge(En,z),Xe()},En=()=>{Ge(wt,$),Xe()};ot(En,{oneTimeCallback:!0}),qe(wt,{oneTimeCallback:!0}),j.forEach(ji=>{ji.play()}),oe?f0():h0(),_=!1}),p0=()=>{j.forEach(xe=>{xe.stop()}),u&&(O(),u=!1),$e(),$.forEach(xe=>xe.c(0,T)),$.length=0},m0=(xe,Xe)=>{const wt=a[0];return wt!==void 0&&(wt.offset===void 0||wt.offset===0)?wt[xe]=Xe:a=[{offset:0,[xe]:Xe},...a],T};return T={parentAnimation:d,elements:F,childAnimations:j,id:M,animationFinish:_c,from:m0,to:(xe,Xe)=>{const wt=a[a.length-1];return wt!==void 0&&(wt.offset===void 0||wt.offset===1)?wt[xe]=Xe:a=[...a,{offset:1,[xe]:Xe}],T},fromTo:(xe,Xe,wt)=>m0(xe,Xe).to(xe,wt),parent:$c,play:Cf,pause:ud,stop:p0,destroy:we,keyframes:l0,addAnimation:un,addElement:ci,update:fr,fill:hr,direction:to,iterations:ad,duration:sd,easing:ol,delay:Ic,getWebAnimations:re,getKeyframes:_r,getFill:dt,getDirection:Vt,getDelay:Pt,getIterations:$r,getEasing:dr,getDuration:cn,afterAddRead:X,afterAddWrite:ae,afterClearStyles:bt,afterStyles:We,afterRemoveClass:Ae,afterAddClass:Fe,beforeAddRead:he,beforeAddWrite:Y,beforeClearStyles:Ie,beforeStyles:de,beforeRemoveClass:Ce,beforeAddClass:ye,onFinish:ot,isRunning:Oe,progressStart:fw,progressStep:pw,progressEnd:cd}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ts=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):yi(()=>e(t))},Hp=t=>t.componentOnReady!==void 0,la=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},SG=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Os=(t,e)=>la(t,SG),O4=(t,e,n,i)=>t.addEventListener(e,n,i),XD=(t,e,n,i)=>t.removeEventListener(e,n,i),jn=(t,e=t)=>t.shadowRoot||e,yi=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),CG=t=>!!t.shadowRoot&&!!t.attachShadow,hx=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},_m=(t,e,n,i,r)=>{{let o=e.querySelector("input.aux-input");o||(o=e.ownerDocument.createElement("input"),o.type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=r,o.name=n,o.value=i||""}},Wi=(t,e,n)=>Math.max(t,Math.min(e,n)),Si=(t,e)=>{if(!t){const n="ASSERT: "+e;ts(n);debugger;throw new Error(n)}},g7e=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},l$=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},T1=(t,e)=>{const n=t._original||t;return{_original:t,emit:EG(n.emit.bind(n),e)}},EG=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},KD=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0},wl=t=>typeof t=="number"&&!isNaN(t)&&isFinite(t),TG="ionViewWillEnter",IG="ionViewDidEnter",YD="ionViewWillLeave",ZD="ionViewDidLeave",o2="ionViewWillUnload",zf=t=>{t.tabIndex=-1,t.focus()},z0=t=>t.offsetParent!==null,$G=()=>({saveViewFocus:n=>{if(st.get("focusManagerPriority",!1)){const r=document.activeElement;r!==null&&(n!=null&&n.contains(r))&&r.setAttribute(c$,"true")}},setViewFocus:n=>{const i=st.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const r=n.querySelector("[".concat(c$,"]"));if(r&&z0(r)){zf(r);return}for(const o of i)switch(o){case"content":const s=n.querySelector('main, [role="main"]');if(s&&z0(s)){zf(s);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&z0(a)){zf(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&z0(l)){zf(l);return}break;default:pn("Unrecognized focus manager priority value ".concat(o));break}zf(n)}}}),c$="ion-last-focus",_G=()=>fi(()=>import("./ios.transition-CA0ZbnPI.js"),[]),AG=()=>fi(()=>import("./md.transition-C55-S09_.js"),[]),JD=$G(),QD=t=>new Promise((e,n)=>{Hr(()=>{NG(t),OG(t).then(i=>{i.animation&&i.animation.destroy(),u$(t),e(i)},i=>{u$(t),n(i)})})}),NG=t=>{const e=t.enteringEl,n=t.leavingEl;JD.saveViewFocus(n),MG(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Jk(e,!1),e.style.setProperty("pointer-events","none"),n&&(Jk(n,!1),n.style.setProperty("pointer-events","none"))},OG=async t=>{const e=await DG(t);return e&&SW.isBrowser?RG(e,t):LG(t)},u$=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),JD.setViewFocus(e)},DG=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await _G()).iosTransitionAnimation:(await AG()).mdTransitionAnimation,RG=async(t,e)=>{await eR(e,!0);const n=t(e.baseEl,e);tR(e.enteringEl,e.leavingEl);const i=await FG(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&nR(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},LG=async t=>{const e=t.enteringEl,n=t.leavingEl,i=st.get("focusManagerPriority",!1);return await eR(t,i),tR(e,n),nR(e,n),{hasCompleted:!0}},eR=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([Wp(t.enteringEl),Wp(t.leavingEl)]),await zG(t.viewIsReady,t.enteringEl)},zG=async(t,e)=>{t&&await t(e)},FG=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(o=>r(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},tR=(t,e)=>{Ta(e,YD),Ta(t,TG)},nR=(t,e)=>{Ta(t,IG),Ta(e,ZD)},Ta=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},iR=()=>new Promise(t=>yi(()=>yi(()=>t()))),Wp=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>yi(i));return}await Promise.all(Array.from(e.children).map(Wp))}},Jk=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},MG=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},b7e=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xu=(t,e,n,i,r)=>BG(t[1],e[1],n[1],i[1],r).map(o=>PG(t[0],e[0],n[0],i[0],o)),PG=(t,e,n,i,r)=>{const o=3*e*Math.pow(r-1,2),s=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(o+r*s)-a},BG=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,UG(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),jG=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},UG=(t,e,n,i)=>{if(t===0)return jG(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(o/2,2)+Math.pow(r/3,3);if(s===0)return[Math.pow(o/2,1/2)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class VG{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new HG(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new WG(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const r=this.requestedStart;let o=-1e4;if(r.forEach(s=>{o=Math.max(o,s)}),o===i){this.capturedId=n,r.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return r.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(fx)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(fx)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class HG{constructor(e,n,i,r,o){this.id=n,this.name=i,this.disableScroll=o,this.priority=r*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class WG{constructor(e,n,i,r){this.id=n,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const fx="backdrop-no-scroll",D4=new VG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nc=(t,e,n,i)=>{const r=GG(t)?{capture:!1,passive:!!i.passive}:!1;let o,s;return t.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),t[o](e,n,r),()=>{t[s](e,n,r)}},GG=t=>{if(F0===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{F0=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){F0=!1}return!!F0};let F0;const qG=2e3,XG=(t,e,n,i,r)=>{let o,s,a,l,c,u,d,h=0;const f=E=>{h=Date.now()+qG,e(E)&&(!s&&n&&(s=Nc(t,"touchmove",n,r)),a||(a=Nc(E.target,"touchend",m,r)),l||(l=Nc(E.target,"touchcancel",m,r)))},p=E=>{h>Date.now()||e(E)&&(!u&&n&&(u=Nc(d$(t),"mousemove",n,r)),d||(d=Nc(d$(t),"mouseup",b,r)))},m=E=>{g(),i&&i(E)},b=E=>{x(),i&&i(E)},g=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},x=()=>{u&&u(),d&&d(),u=d=void 0},y=()=>{g(),x()},v=(E=!0)=>{E?(o||(o=Nc(t,"touchstart",f,r)),c||(c=Nc(t,"mousedown",p,r))):(o&&o(),c&&c(),o=c=void 0,y())};return{enable:v,stop:y,destroy:()=>{v(!1),i=n=e=void 0}}},d$=t=>t instanceof Document?t:t.ownerDocument,KG=(t,e,n)=>{const i=n*(Math.PI/180),r=t==="x",o=Math.cos(i),s=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-a,p=h-l,m=f*f+p*p;if(m<s)return!1;const b=Math.sqrt(m),g=(r?f:p)/b;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Am=t=>{let e=!1,n=!1,i=!0,r=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,p=o.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},b=KG(o.direction,o.threshold,o.maxAngle),g=D4.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),x=D=>{const z=oR(D);return n||!i||(rR(D,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=z,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=D,s&&s(m)===!1)||(g.release(),!g.start())?!1:(n=!0,h===0?w():(b.start(m.startX,m.startY),!0))},y=D=>{if(e){!r&&i&&(r=!0,s2(m,D),requestAnimationFrame(v));return}s2(m,D),b.detect(m.currentX,m.currentY)&&(!b.isGesture()||!w())&&M()},v=()=>{e&&(r=!1,d&&d(m))},w=()=>g.capture()?(e=!0,i=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,a?a(m).then(C):C(),!0):!1,E=()=>{if(typeof document<"u"){const D=document.activeElement;D!=null&&D.blur&&D.blur()}},C=()=>{p&&E(),l&&l(m),i=!0},I=()=>{e=!1,n=!1,r=!1,i=!0,g.release()},T=D=>{const z=e,$=i;if(I(),!!$){if(s2(m,D),z){c&&c(m);return}u&&u(m)}},_=XG(o.el,x,y,T,{passive:f}),M=()=>{I(),_.stop(),u&&u(m)};return{enable(D=!0){D||(e&&T(void 0),I()),_.enable(D)},destroy(){g.destroy(),_.destroy()}}},s2=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,r=t.currentTime;rR(e,t);const o=t.currentX,s=t.currentY,l=(t.currentTime=oR(e))-r;if(l>0&&l<100){const c=(o-n)/l,u=(s-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},rR=(t,e)=>{let n=0,i=0;if(t){const r=t.changedTouches;if(r&&r.length>0){const o=r[0];n=o.clientX,i=o.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},oR=t=>t.timeStamp||Date.now(),R4=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:D4,createGesture:Am},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YG=t=>sR(t),Ho=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),YG(t).includes(e)),sR=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=ZG(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},ZG=t=>{const e=st.get("platform");return Object.keys(h$).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):h$[n](t)})},JG=t=>I1(t)&&!lR(t),L4=t=>!!(yu(t,/iPad/i)||yu(t,/Macintosh/i)&&I1(t)),QG=t=>yu(t,/iPhone/i),eq=t=>yu(t,/iPhone|iPod/i)||L4(t),aR=t=>yu(t,/android|sink/i),tq=t=>aR(t)&&!yu(t,/mobile/i),nq=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},iq=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return L4(t)||tq(t)||i>460&&i<820&&r>780&&r<1400},I1=t=>aq(t,"(any-pointer:coarse)"),rq=t=>!I1(t),lR=t=>cR(t)||uR(t),cR=t=>!!(t.cordova||t.phonegap||t.PhoneGap),uR=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},oq=t=>yu(t,/electron/i),sq=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},yu=(t,e)=>e.test(t.navigator.userAgent),aq=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},h$={ipad:L4,iphone:QG,ios:eq,android:aR,phablet:nq,tablet:iq,cordova:cR,capacitor:uR,electron:oq,pwa:sq,mobile:I1,mobileweb:JG,desktop:rq,hybrid:lR};let $d;const Re=t=>t&&VW(t)||$d,lq=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bG(n)),{persistConfig:!1}),i.config),yG(n)),t);st.reset(r),st.getBoolean("persistConfig")&&xG(n,r),sR(n),i.config=st,i.mode=$d=st.get("mode",e.documentElement.getAttribute("mode")||(Ho(n,"ios")?"ios":"md")),st.set("mode",$d),e.documentElement.setAttribute("mode",$d),e.documentElement.classList.add($d),st.getBoolean("_testing")&&st.set("animated",!1);const o=a=>{var l;return(l=a.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},s=a=>["ios","md"].includes(a);UW(a=>{for(;a;){const l=a.mode||a.getAttribute("mode");if(l){if(s(l))return l;o(a)&&pn('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}a=a.parentElement}return $d})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z4=t=>{try{if(t instanceof hq)return t.value;if(!cq()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,dq.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=e3(c);for(let d=0;d<u.length;d++)Qk(u[d])}});const i=e3(e);for(let s=0;s<i.length;s++)Qk(i[s]);const r=document.createElement("div");r.appendChild(e);const o=r.querySelector("div");return o!==null?o.innerHTML:r.innerHTML}catch(e){return ts("sanitizeDOMString",e),""}},Qk=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),r=i.name;if(!uq.includes(r.toLowerCase())){t.removeAttribute(r);continue}const o=i.value,s=t[r];(o!=null&&o.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(r)}const e=e3(t);for(let n=0;n<e.length;n++)Qk(e[n])},e3=t=>t.children!=null?t.children:t.childNodes,cq=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},uq=["class","id","href","src","name","slot"],dq=["script","style","iframe","meta","link","object","embed"];class hq{constructor(e){this.value=e}}const F4=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rn=(t,e)=>e.closest(t)!==null,Kt=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,fq=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],or=t=>{const e={};return fq(t).forEach(n=>e[n]=!0),e},pq=/^[a-z][a-z0-9+\-.]*:/,$1=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!pq.test(t)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kh=()=>st.get("experimentalCloseWatcher",!1)&&Gt!==void 0&&"CloseWatcher"in Gt,mq=()=>{document.addEventListener("backbutton",()=>{})},gq=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,r=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){r.push({priority:l,handler:c,id:i++})}}});t.dispatchEvent(o);const s=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){ts("[ion-app] - Exception in startHardwareBackButton:",c)}},a=()=>{if(r.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,r=r.filter(c=>c.id!==l.id),s(l).then(()=>e=!1)}};a()};if(kh()){let i;const r=()=>{i==null||i.destroy(),i=new Gt.CloseWatcher,i.onclose=()=>{n(),r()}};r()}else t.addEventListener("backbutton",n)},dR=100,hR=99,bq=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:hR,OVERLAY_BACK_BUTTON_PRIORITY:dR,blockHardwareBackButton:mq,shouldUseCloseWatcher:kh,startHardwareBackButton:gq},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const M4=t=>Le().duration(t?400:300),xq=t=>{let e,n;const i=t.width+8,r=Le(),o=Le();t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),r.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));const a=Re(t)==="ios",l=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,l),M4(a).addAnimation([r,o])},yq=t=>{let e,n;const i=Re(t),r=t.width;t.isEndSide?(e=-r+"px",n=r+"px"):(e=r+"px",n=-r+"px");const o=Le().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),s=Le().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=Le().addElement(t.backdropEl).fromTo("opacity",.01,.32);return M4(i==="ios").addAnimation([o,s,a])},vq=t=>{const e=Re(t),n=t.width*(t.isEndSide?-1:1)+"px",i=Le().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return M4(e==="ios").addAnimation(i)},wq=()=>{const t=new Map,e=[],n=async C=>{const I=await c(C,!0);return I?I.open():!1},i=async C=>{const I=await(C!==void 0?c(C,!0):u());return I!==void 0?I.close():!1},r=async C=>{const I=await c(C,!0);return I?I.toggle():!1},o=async(C,I)=>{const T=await c(I);return T&&(T.disabled=!C),T},s=async(C,I)=>{const T=await c(I);return T&&(T.swipeGesture=C),T},a=async C=>{if(C!=null){const I=await c(C);return I!==void 0&&I.isOpen()}else return await u()!==void 0},l=async C=>{const I=await c(C);return I?!I.disabled:!1},c=async(C,I=!1)=>{if(await E(),C==="start"||C==="end"){const _=e.filter(D=>D.side===C&&!D.disabled);if(_.length>=1)return _.length>1&&I&&pn('menuController queried for a menu on the "'.concat(C,'" side, but ').concat(_.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),_.map(D=>D.el)),_[0].el;const M=e.filter(D=>D.side===C);if(M.length>=1)return M.length>1&&I&&pn('menuController queried for a menu on the "'.concat(C,'" side, but ').concat(M.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),M.map(D=>D.el)),M[0].el}else if(C!=null)return w(_=>_.menuId===C);const T=w(_=>!_.disabled);return T||(e.length>0?e[0].el:void 0)},u=async()=>(await E(),x()),d=async()=>(await E(),y()),h=async()=>(await E(),v()),f=(C,I)=>{t.set(C,I)},p=C=>{e.indexOf(C)<0&&e.push(C)},m=C=>{const I=e.indexOf(C);I>-1&&e.splice(I,1)},b=async(C,I,T,_)=>{if(v())return!1;if(I){const M=await u();M&&C.el!==M&&await M.setOpen(!1,!1)}return C._setOpen(I,T,_)},g=(C,I)=>{const T=t.get(C);if(!T)throw new Error("animation not registered");return T(I)},x=()=>w(C=>C._isOpen),y=()=>e.map(C=>C.el),v=()=>e.some(C=>C.isAnimating),w=C=>{const I=e.find(C);if(I!==void 0)return I.el},E=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(C=>new Promise(I=>Ts(C,I))));return f("reveal",vq),f("push",yq),f("overlay",xq),mo==null||mo.addEventListener("ionBackButton",C=>{const I=x();I&&C.detail.register(hR,()=>I.close())}),{registerAnimation:f,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:s,isAnimating:h,isOpen:a,enable:o,toggle:r,close:i,open:n,_getOpenSync:x,_createAnimation:g,_register:p,_unregister:m,_setOpen:b}},$l=wq();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nm=async(t,e,n,i,r,o)=>{var s;if(t)return t.attachViewToDom(e,n,r,i);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ts(a,l)),a},P4=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},B4=()=>{let t,e;return{attachViewToDom:async(r,o,s={},a=[])=>{var l,c;t=r;let u;if(o){const h=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(f=>h.classList.add(f)),Object.assign(h,s),t.appendChild(h),u=h,await new Promise(f=>Ts(h,f))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const f=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");f.classList.add("ion-delegate-host"),a.forEach(p=>f.classList.add(p)),f.append(...t.children),t.appendChild(f),u=f}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Om='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',px=(t,e)=>{const n=t.querySelector(Om);fR(n,e!=null?e:t)},t3=(t,e)=>{const n=Array.from(t.querySelectorAll(Om)),i=n.length>0?n[n.length-1]:null;fR(i,e!=null?e:t)},fR=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;if(i&&(n=i.querySelector(Om)||t),n){const r=n.closest("ion-radio-group");r?r.setFocus():hx(n)}else e.focus()};let n3=0,kq=0;const mx=new WeakMap,Dm=t=>({create(e){return $q(t,e)},dismiss(e,n,i){return Oq(document,e,n,t,i)},async getTop(){return Sh(document,t)}}),Sq=Dm("ion-alert"),Cq=Dm("ion-action-sheet"),Eq=Dm("ion-modal"),Tq=Dm("ion-popover"),Iq=Dm("ion-toast"),Xh=t=>{typeof document<"u"&&Nq(document);const e=n3++;t.overlayIndex=e},Kh=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++kq)),t.id),$q=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),mR(document).appendChild(n),new Promise(i=>Ts(n,i))}):Promise.resolve(),_q=t=>t.classList.contains("overlay-hidden"),f$=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(Om)||t),n?hx(n):e.focus()},Aq=(t,e)=>{const n=Sh(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=t.target;if(!n||!i||n.classList.contains(Gp))return;const r=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")f$(n.lastFocus,n);else{const s=jn(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===s.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;px(a,n),l===e.activeElement&&t3(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")f$(n.lastFocus,n);else{const s=n.lastFocus;px(n),s===e.activeElement&&t3(n),n.lastFocus=e.activeElement}};n.shadowRoot?o():r()},Nq=t=>{n3===0&&(n3=1,t.addEventListener("focus",e=>{Aq(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=Sh(t);n!=null&&n.backdropDismiss&&e.detail.register(dR,()=>{n.dismiss(void 0,na)})}),kh()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=Sh(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,na)}}))},Oq=(t,e,n,i,r)=>{const o=Sh(t,i,r);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},Dq=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),_1=(t,e)=>Dq(t,e).filter(n=>!_q(n)),Sh=(t,e,n)=>{const i=_1(t,e);return n===void 0?i[i.length-1]:i.find(r=>r.id===n)},pR=(t=!1)=>{const n=mR(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},Yh=async(t,e,n,i,r)=>{var o,s;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&(pR(!0),document.body.classList.add(fx)),Fq(t.el),xR(t.el),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=Re(t),l=t.enterAnimation?t.enterAnimation:st.get(e,a==="ios"?n:i);await gR(t,l,t.el,r)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&Rq(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},Rq=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(Om)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},Zh=async(t,e,n,i,r,o,s)=>{var a,l;if(!t.presented)return!1;const u=(mo!==void 0?_1(mo):[]).filter(h=>h.tagName!=="ION-TOAST");u.length===1&&u[0].id===t.el.id&&(pR(!1),document.body.classList.remove(fx)),t.presented=!1;try{xR(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const h=Re(t),f=t.leaveAnimation?t.leaveAnimation:st.get(i,h==="ios"?r:o);n!==La&&await gR(t,f,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(mx.get(t)||[]).forEach(m=>m.destroy()),mx.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(h){ts("[".concat(t.el.tagName.toLowerCase(),"] - "),h)}return t.el.remove(),Mq(),!0},mR=t=>t.querySelector("ion-app")||t.body,gR=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const r=t.el,o=e(r,i);(!t.animated||!st.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=mx.get(t)||[];return mx.set(t,[...s,o]),await o.play(),!0},ns=(t,e)=>{let n;const i=new Promise(r=>n=r);return Lq(t,e,r=>{n(r.detail)}),i},Lq=(t,e,n)=>{const i=r=>{XD(t,e,i),n(r)};O4(t,e,i)},vu=t=>t==="cancel"||t===na,zq=t=>t(),au=(t,e)=>{if(typeof t=="function")return st.get("_zoneGate",zq)(()=>{try{return t(e)}catch(i){throw i}})},na="backdrop",La="gesture",bR=39,A1=t=>{let e=!1,n;const i=B4(),r=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Rm=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,r)=>{e();const o=r!==void 0?document.getElementById(r):null;if(!o){pn("[".concat(i.tagName.toLowerCase(),'] - A trigger element with the ID "').concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,i)},removeClickListener:e}},xR=t=>{mo!==void 0&&Ho("android")&&t.setAttribute("aria-hidden","true")},Fq=t=>{var e;if(mo===void 0)return;const n=_1(mo);for(let i=n.length-1;i>=0;i--){const r=n[i],o=(e=n[i+1])!==null&&e!==void 0?e:t;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&r.setAttribute("aria-hidden","true")}},Mq=()=>{if(mo===void 0)return;const t=_1(mo);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},Gp="ion-disable-focus-trap";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yR="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",Pq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",Bq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Uq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",p$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",vR="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",wR="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",Vq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Hq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",Wq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",Gq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",qq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",m$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Xq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Kq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let a2;const Yq=()=>{if(typeof window>"u")return new Map;if(!a2){const t=window;t.Ionicons=t.Ionicons||{},a2=t.Ionicons.map=t.Ionicons.map||new Map}return a2},Zq=t=>{let e=l2(t.src);return e||(e=kR(t.name,t.icon,t.mode,t.ios,t.md),e?Jq(e,t):t.icon&&(e=l2(t.icon),e||(e=l2(t.icon[t.mode]),e))?e:null)},Jq=(t,e)=>{const n=Yq().get(t);if(n)return n;try{return RD("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},kR=(t,e,n,i,r)=>(n=(n&&M0(n))==="ios"?"ios":"md",i&&n==="ios"?t=M0(i):r&&n==="md"?t=M0(r):(!t&&e&&!SR(e)&&(t=e),gx(t)&&(t=M0(t))),!gx(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),l2=t=>gx(t)&&(t=t.trim(),SR(t))?t:null,SR=t=>t.length>0&&/(\/|\.)/.test(t),gx=t=>typeof t=="string",M0=t=>t.toLowerCase(),Qq=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},eX=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",tX=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),CR(n))return e.innerHTML}return""},CR=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(gx(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!CR(t.childNodes[e]))return!1}return!0},nX=t=>t.startsWith("data:image/svg+xml"),iX=t=>t.indexOf(";utf8,")!==-1,Xc=new Map,g$=new Map;let c2;const rX=(t,e)=>{let n=g$.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(nX(t)&&iX(t)){c2||(c2=new DOMParser);const r=c2.parseFromString(t,"text/html").querySelector("svg");return r&&Xc.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=tX(r)),Xc.set(t,r||"")});Xc.set(t,"")}),g$.set(t,n);else return Xc.set(t,""),Promise.resolve();return n},oX=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",sX=oX,aX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=lX(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Qq(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=Zq(this);e&&(Xc.has(e)?this.svgContent=Xc.get(e):rX(e,this.sanitize).then(()=>this.svgContent=Xc.get(e)),this.didLoadIcon=!0)}this.iconName=kR(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return L(tt,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},cX(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&eX(r)})},i),this.svgContent?L("div",{class:"icon-inner",innerHTML:this.svgContent}):L("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return sX}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),lX=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",cX=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function ss(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,aX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uX=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",dX=uX,hX=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",fX=hX,pX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return L(tt,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:Re(this)},L("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:dX,md:fX}}},[33,"ion-avatar"]);function mX(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,pX);break}})}const gX=mX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bX=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",xX=bX,yX=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",vX=yX,wX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ke(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Re(this);return L(tt,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:xX,md:vX}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Vu(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,wX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kX=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",SX=kX,CX=":host{--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",EX=CX,TX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Re(this);return L(tt,{key:"1a2d39c5deec771a2f2196447627b62a7d4c8389",class:Kt(this.color,{[e]:!0})},L("slot",{key:"fc1b6587f1ed24715748eb6785e7fb7a57cdd5cd"}))}static get style(){return{ios:SX,md:EX}}},[33,"ion-badge",{color:[513]}]);function IX(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,TX);break}})}const $X=IX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _X=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",AX=_X,NX=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",OX=NX,DX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=Re(this);return L(tt,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},L("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:AX,md:OX}}},[38,"ion-buttons",{collapse:[4]}]);function j4(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,DX);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RX=j4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LX="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",zX=LX,FX="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",MX=FX,PX=et(class extends Qe{constructor(){super(),this.__registerHost()}render(){const e=Re(this);return L(tt,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:zX,md:MX}}},[32,"ion-card-content"]);function BX(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,PX);break}})}const jX=BX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UX=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",VX=UX,HX=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",WX=HX,GX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=Re(this);return L(tt,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:Kt(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},L("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:VX,md:WX}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function qX(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,GX);break}})}const XX=qX;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",YX=KX,ZX=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",JX=ZX,QX=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Re(this);return L(tt,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:Kt(this.color,{"ion-inherit-color":!0,[e]:!0})},L("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:YX,md:JX}}},[33,"ion-card-subtitle",{color:[513]}]);function eK(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,QX);break}})}const tK=eK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nK=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",iK=nK,rK=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",oK=rK,sK=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Re(this);return L(tt,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:Kt(this.color,{"ion-inherit-color":!0,[e]:!0})},L("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:iK,md:oK}}},[33,"ion-card-title",{color:[513]}]);function aK(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,sK);break}})}const lK=aK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cK=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",uK=cK,dK=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}.checkbox-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.checkbox-label-placement-stacked) .checkbox-bottom{font-size:1rem}.checkbox-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.checkbox-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .checkbox-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .checkbox-bottom .helper-text{display:none}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",hK=dK,fK=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-cb-".concat(pK++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.setChecked=e=>{const n=this.checked=e;this.ionChange.emit({checked:n,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked(e))},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}componentWillLoad(){this.inheritedAttributes=Object.assign({},Os(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;if(e||n)return L("div",{class:"checkbox-bottom"},L("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),L("div",{id:r,class:"error-text",part:"supporting-text error-text"},n))}render(){const{color:e,checked:n,disabled:i,el:r,getSVGPath:o,indeterminate:s,inheritedAttributes:a,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:f,required:p}=this,m=Re(this),b=o(m,s),g=r.textContent!=="";return _m(!0,r,d,n?h:"",i),L(tt,{key:"90bb17a4fae17088524555968a002327400807cf",role:"checkbox","aria-checked":s?"mixed":"".concat(n),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-labelledby":g?this.inputLabelId:null,"aria-label":a["aria-label"]||null,"aria-disabled":i?"true":null,tabindex:i?void 0:0,onKeyDown:this.onKeyDown,class:Kt(e,{[m]:!0,"in-item":Rn("ion-item",r),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":s,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(f)]:f!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},L("label",{key:"58b5762aa358dff81910874631e06620a2ae1561",class:"checkbox-wrapper",htmlFor:l},L("input",Object.assign({key:"6abe299d690c345d36d6fd76ab113fdccfbbac52",type:"checkbox",checked:n?!0:void 0,disabled:i,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:x=>this.focusEl=x,required:p},a)),L("div",{key:"2654168e45ccfdbcfe13af8c97e0e21d61ba0150",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!g},part:"label",id:this.inputLabelId},L("slot",{key:"a91f3f67d9ddd6b616e48799aba11cae3564d1ab"}),this.renderHintText()),L("div",{key:"d5a9170b084d09df6b02f416e744085b5bcf0dde",class:"native-wrapper"},L("svg",{key:"b1968ce4aa9d652a9f2bdc427ea3a65e6c04df51",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},b))))}getSVGPath(e,n){let i=n?L("path",{d:"M6 12L18 12",part:"mark"}):L("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(i=n?L("path",{d:"M2 12H22",part:"mark"}):L("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get style(){return{ios:uK,md:hK}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],setFocus:[64]}]);let pK=0;function U4(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,fK);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mK=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",gK=mK,bK=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{gu(()=>{const r=this.el.getBoundingClientRect(),o=r.width,s=r.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),c=this.unbounded?l:a+yK,u=Math.floor(l*vK),d=c/u;let h=e-r.left,f=n-r.top;this.unbounded&&(h=o*.5,f=s*.5);const p=h-u*.5,m=f-u*.5,b=o*.5-h,g=s*.5-f;Hr(()=>{const x=document.createElement("div");x.classList.add("ripple-effect");const y=x.style;y.top=m+"px",y.left=p+"px",y.width=y.height=u+"px",y.setProperty("--final-scale","".concat(d)),y.setProperty("--translate-end","".concat(b,"px, ").concat(g,"px")),(this.el.shadowRoot||this.el).appendChild(x),setTimeout(()=>{i(()=>{xK(x)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Re(this);return L(tt,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return gK}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),xK=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},yK=10,vK=.5;function as(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,bK);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wK={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},kK=t=>{if(t===void 0||t==="")return!0;if(window.matchMedia){const e=wK[t];return window.matchMedia(e).matches}return!1},SK=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",CK=SK,P0=typeof window<"u"?window:void 0,b$=P0&&!!(P0.CSS&&P0.CSS.supports&&P0.CSS.supports("--a: 0")),EK=["","xs","sm","md","lg","xl"],TK=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){qi(this)}getColumns(e){let n;for(const i of EK){const r=kK(i),o=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&o!==void 0&&(n=o)}return n}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const n=e==="auto"?"auto":b$?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(n),width:"".concat(n),"max-width":"".concat(n)}}calculatePosition(e,n){const i=this.getColumns(e);if(!i)return;const r=b$?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[n]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",n=Re(this);return L(tt,{key:"32ed75d81dd09d9bc8999f6d42e5b3cb99c84d91",class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},L("slot",{key:"38f8d0440c20cc6d1b1d6a654d07f16de61d8134"}))}static get style(){return CK}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function IK(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,TK);break}})}const $K=IK;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const za=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _K=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',AK=_K,NK=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ke(this,"ionScrollStart",7),this.ionScroll=ke(this,"ionScroll",7),this.ionScrollEnd=ke(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Os(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Hp(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Hp(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=Re(this);return e===void 0?n==="ios"&&Ho("ios"):e}resize(){this.fullscreen?gu(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,qi(this))}readDimensions(){const e=DK(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,qi(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,gu(r=>{this.queued=!1,this.detail.event=e,RK(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ts(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ts(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,n+r.scrollTop,i)}async scrollToPoint(e,n,i=0){const r=await this.getScrollElement();if(i<32){n!=null&&(r.scrollTop=n),e!=null&&(r.scrollLeft=e);return}let o,s=0;const a=new Promise(f=>o=f),l=r.scrollTop,c=r.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-s)/i)-1,m=Math.pow(p,3)+1;u!==0&&(r.scrollTop=Math.floor(m*u+l)),d!==0&&(r.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{s=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:i,scrollX:r,scrollY:o,el:s}=this,a=za(s)?"rtl":"ltr",l=Re(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),L(tt,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:i?"main":void 0,class:Kt(this.color,{[l]:!0,"content-sizing":Rn("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),L("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?L("slot",{name:"fixed"}):null,L("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":r,"scroll-y":o,overscroll:(r||o)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},L("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?L("div",{class:"transition-effect"},L("div",{class:"transition-cover"}),L("div",{class:"transition-shadow"})):null,e==="after"?L("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return AK}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),OK=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},DK=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||OK(t)},RK=(t,e,n,i)=>{const r=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-r)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function V4(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,NK);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LK=V4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zK=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',FK=zK,MK=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',PK=MK,ER=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?$1(this.href,e,this.routerDirection,this.routerAnimation):CG(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Os(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(pn('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(pn('[ion-button] - Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(pn('[ion-button] - The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=Re(this),{buttonType:n,type:i,disabled:r,rel:o,target:s,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,m=a===void 0&&this.inItem?"small":a,b=l===void 0?"button":"a",g=b==="button"?{type:i}:{download:this.download,href:l,rel:o,target:s};let x=this.fill;return x==null&&(x=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),L(tt,{key:"e213b0bb76b3f90f883b1a0ea463bb86c2df69c3",onClick:this.handleClick,"aria-disabled":r?"true":null,class:Kt(c,{[e]:!0,[n]:!0,["".concat(n,"-").concat(u)]:u!==void 0,["".concat(n,"-").concat(m)]:m!==void 0,["".concat(n,"-").concat(h)]:h!==void 0,["".concat(n,"-").concat(x)]:!0,["".concat(n,"-strong")]:f,"in-toolbar":Rn("ion-toolbar",this.el),"in-toolbar-color":Rn("ion-toolbar[color]",this.el),"in-buttons":Rn("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},L(b,Object.assign({key:"b7c2a46fb994024841219316f4089335fa463d84"},g,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},p),L("span",{key:"3e07a5c9f86836f9fbaefc6c617bdde6eb6f70cd",class:"button-inner"},L("slot",{key:"41c08ae09aed16faaa57707d229ff75d97f0731c",name:"icon-only",onSlotchange:this.slotChanged}),L("slot",{key:"ab8b749e4572884cc04970a7594466b4a24c886e",name:"start"}),L("slot",{key:"397f7ff48ea45e82029414be95d29ae86e12c3a9"}),L("slot",{key:"9a5627713002e8be3738d392b616f6e951b70e12",name:"end"})),e==="md"&&L("ion-ripple-effect",{key:"105566543ceda102474edab7ca8a44c7e71af589",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:FK,md:PK}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function H4(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,ER);break;case"ion-ripple-effect":customElements.get(e)||as();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bx=()=>{if(Gt!==void 0)return Gt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var i3;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(i3||(i3={}));var x$;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(x$||(x$={}));const Lm={getEngine(){const t=bx();if(t!=null&&t.isPluginAvailable("Haptics"))return t.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=bx();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(t){const e=this.getEngine();e&&e.impact({style:t.style})},notification(t){const e=this.getEngine();e&&e.notification({type:t.type})},selection(){this.impact({style:i3.Light})},selectionStart(){const t=this.getEngine();t&&t.selectionStart()},selectionChanged(){const t=this.getEngine();t&&t.selectionChanged()},selectionEnd(){const t=this.getEngine();t&&t.selectionEnd()}},N1=()=>Lm.available(),BK=()=>{N1()&&Lm.selection()},jK=()=>{N1()&&Lm.selectionStart()},UK=()=>{N1()&&Lm.selectionChanged()},VK=()=>{N1()&&Lm.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hu=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(r=>i=r),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HK=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},TR=(t,e,n)=>{const i=e.getBoundingClientRect(),r=i.height;let o=i.width;return t==="cover"&&n&&(o=n.getBoundingClientRect().width),{contentWidth:o,contentHeight:r}},WK=(t,e,n,i)=>{let r=[];const s=jn(i).querySelector(".popover-content");switch(e){case"hover":r=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:r=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return r.forEach(({eventName:a,callback:l})=>s.addEventListener(a,l)),()=>{r.forEach(({eventName:a,callback:l})=>s.removeEventListener(a,l))}},GK=(t,e,n)=>{let i=[];switch(e){case"hover":let r;i=[{eventName:"mouseenter",callback:async o=>{o.stopPropagation(),r&&clearTimeout(r),r=setTimeout(()=>{yi(()=>{n.presentFromTrigger(o),r=void 0})},100)}},{eventName:"mouseleave",callback:o=>{r&&clearTimeout(r);const s=o.relatedTarget;s&&s.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),n.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"click":default:i=[{eventName:"click",callback:o=>n.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break}return i.forEach(({eventName:r,callback:o})=>t.addEventListener(r,o)),t.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach(({eventName:r,callback:o})=>t.removeEventListener(r,o)),t.removeAttribute("data-ion-popover-trigger")}},IR=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),qK=(t,e)=>{const n=IR(t,e);return t[n+1]},XK=(t,e)=>{const n=IR(t,e);return t[n-1]},B0=t=>{const n=jn(t).querySelector("button");n&&yi(()=>n.focus())},KK=t=>t.hasAttribute("data-ion-popover-trigger"),YK=t=>{const e=async n=>{var i;const r=document.activeElement;let o=[];const s=(i=n.target)===null||i===void 0?void 0:i.tagName;if(!(s!=="ION-POPOVER"&&s!=="ION-ITEM")){try{o=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(a){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const l=qK(o,r);l!==void 0&&B0(l);break;case"ArrowUp":n.preventDefault();const c=XK(o,r);c!==void 0&&B0(c);break;case"Home":n.preventDefault();const u=o[0];u!==void 0&&B0(u);break;case"End":n.preventDefault();const d=o[o.length-1];d!==void 0&&B0(d);break;case"ArrowRight":case" ":case"Enter":if(r&&KK(r)){const h=new CustomEvent("ionPopoverActivateTrigger");r.dispatchEvent(h)}break}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},$R=(t,e,n,i,r,o,s,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(o){case"event":if(!u)return l;const w=u;h={top:w.clientY,left:w.clientX,width:1,height:1};break;case"trigger":default:const E=u,C=c||((d=E==null?void 0:E.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(E==null?void 0:E.target);if(!C)return l;const I=C.getBoundingClientRect();h={top:I.top,left:I.left,width:I.width,height:I.height};break}const f=QK(s,h,e,n,i,r,t),p=eY(a,s,h,e,n),m=f.top+p.top,b=f.left+p.left,{arrowTop:g,arrowLeft:x}=JK(s,i,r,m,b,e,n,t),{originX:y,originY:v}=ZK(s,a,t);return{top:m,left:b,referenceCoordinates:h,arrowTop:g,arrowLeft:x,originX:y,originY:v}},ZK=(t,e,n)=>{switch(t){case"top":return{originX:y$(e),originY:"bottom"};case"bottom":return{originX:y$(e),originY:"top"};case"left":return{originX:"right",originY:j0(e)};case"right":return{originX:"left",originY:j0(e)};case"start":return{originX:n?"left":"right",originY:j0(e)};case"end":return{originX:n?"right":"left",originY:j0(e)}}},y$=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},j0=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},JK=(t,e,n,i,r,o,s,a)=>{const l={arrowTop:i+s/2-e/2,arrowLeft:r+o-e/2},c={arrowTop:i+s/2-e/2,arrowLeft:r-e*1.5};switch(t){case"top":return{arrowTop:i+s,arrowLeft:r+o/2-e/2};case"bottom":return{arrowTop:i-n,arrowLeft:r+o/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},QK=(t,e,n,i,r,o,s)=>{const a={top:e.top,left:e.left-n-r},l={top:e.top,left:e.left+e.width+r};switch(t){case"top":return{top:e.top-i-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},eY=(t,e,n,i,r)=>{switch(t){case"center":return nY(e,n,i,r);case"end":return tY(e,n,i,r);case"start":default:return{top:0,left:0}}},tY=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},nY=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},_R=(t,e,n,i,r,o,s,a,l,c,u,d,h=0,f=0,p=0)=>{let m=h;const b=f;let g=n,x=e,y,v=c,w=u,E=!1,C=!1;const I=d?d.top+d.height:o/2-a/2,T=d?d.height:0;let _=!1;return g<i+l?(g=i,E=!0,v="left"):s+i+g+l>r&&(C=!0,g=r-s-i,v="right"),I+T+a>o&&(t==="top"||t==="bottom")&&(I-a>0?(x=Math.max(12,I-a-T-(p-1)),m=x+a,w="bottom",_=!0):y=i),{top:x,left:g,bottom:y,originX:v,originY:w,checkSafeAreaLeft:E,checkSafeAreaRight:C,arrowTop:m,arrowLeft:b,addPopoverBottomClass:_}},iY=(t,e=!1,n,i)=>!(!n&&!i||t!=="top"&&t!=="bottom"&&e),rY=5,oY=(t,e)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=jn(t),p=f.querySelector(".popover-content"),m=f.querySelector(".popover-arrow"),b=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:g,contentHeight:x}=TR(r,p,b),{arrowWidth:y,arrowHeight:v}=HK(m),w={top:h/2-x/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},E=$R(u,g,x,y,v,s,a,l,w,o,i),C=r==="cover"?0:rY,I=r==="cover"?0:25,{originX:T,originY:_,top:M,left:D,bottom:z,checkSafeAreaLeft:$,checkSafeAreaRight:F,arrowTop:j,arrowLeft:W,addPopoverBottomClass:V}=_R(a,E.top,E.left,C,d,h,g,x,I,E.originX,E.originY,E.referenceCoordinates,E.arrowTop,E.arrowLeft,v),B=Le(),K=Le(),q=Le();return K.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),q.addElement(f.querySelector(".popover-arrow")).addElement(f.querySelector(".popover-content")).fromTo("opacity",.01,1),B.easing("ease").duration(100).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width","".concat(g,"px")),V&&t.classList.add("popover-bottom"),z!==void 0&&p.style.setProperty("bottom","".concat(z,"px"));const G=" + var(--ion-safe-area-left, 0)",le=" - var(--ion-safe-area-right, 0)";let oe="".concat(D,"px");if($&&(oe="".concat(D,"px").concat(G)),F&&(oe="".concat(D,"px").concat(le)),p.style.setProperty("top","calc(".concat(M,"px + var(--offset-y, 0))")),p.style.setProperty("left","calc(".concat(oe," + var(--offset-x, 0))")),p.style.setProperty("transform-origin","".concat(_," ").concat(T)),m!==null){const re=E.top!==M||E.left!==D;iY(a,re,i,o)?(m.style.setProperty("top","calc(".concat(j,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(W,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}}).addAnimation([K,q])},sY=t=>{const e=jn(t),n=e.querySelector(".popover-content"),i=e.querySelector(".popover-arrow"),r=Le(),o=Le(),s=Le();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))}).duration(300).addAnimation([o,s])},aY=12,lY=(t,e)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=jn(t),p=f.querySelector(".popover-content"),m=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:b,contentHeight:g}=TR(r,p,m),x={top:h/2-g/2,left:d/2-b/2,originX:u?"right":"left",originY:"top"},y=$R(u,b,g,0,0,s,a,l,x,o,i),v=r==="cover"?0:aY,{originX:w,originY:E,top:C,left:I,bottom:T}=_R(a,y.top,y.left,v,d,h,b,g,0,y.originX,y.originY,y.referenceCoordinates),_=Le(),M=Le(),D=Le(),z=Le(),$=Le();return M.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),D.addElement(f.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),z.addElement(p).beforeStyles({top:"calc(".concat(C,"px + var(--offset-y, 0px))"),left:"calc(".concat(I,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(E," ").concat(w)}).beforeAddWrite(()=>{T!==void 0&&p.style.setProperty("bottom","".concat(T,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),$.addElement(f.querySelector(".popover-viewport")).fromTo("opacity",.01,1),_.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width","".concat(b,"px")),E==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([M,D,z,$])},cY=t=>{const e=jn(t),n=e.querySelector(".popover-content"),i=Le(),r=Le(),o=Le();return r.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([r,o])},uY=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',dY=uY,hY=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",fY=hY,pY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionPopoverDidPresent",7),this.willPresent=ke(this,"ionPopoverWillPresent",7),this.willDismiss=ke(this,"ionPopoverWillDismiss",7),this.didDismiss=ke(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.ionMount=ke(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=B4(),this.lockController=Hu(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.onLifecycle=e=>{const n=this.usersElement,i=mY[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:n,el:i,destroyTriggerInteraction:r}=this;if(r&&r(),e===void 0)return;const o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){pn('[ion-popover] - A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=GK(o,n,i)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=YK(n)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:n,triggerAction:i,triggerEl:r,el:o}=this;!n||!r||(e&&e(),this.destroyDismissInteraction=WK(r,i,o,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:n}=this;Xh(n),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,n;const{el:i}=this,r=(n=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:Kh(i);this.parentPopover=i.closest("ion-popover:not(#".concat(r,")")),this.alignment===void 0&&(this.alignment=Re(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:n}=this;n===!0&&yi(()=>this.present()),e&&O4(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,n=!1){this.focusDescendantOnPresent=n,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async present(e){const n=await this.lockController.lock();if(this.presented){n();return}const{el:i}=this,{inline:r,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Nm(o,i,this.component,["popover-viewport"],this.componentProps,r),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Hp(i)?await Wp(this.usersElement):this.keepContentsMounted||await iR(),await Yh(this,"popoverEnter",oY,lY,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&px(i),n()}async dismiss(e,n,i=!0){const r=await this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:s}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,n,i);const a=await Zh(this,e,n,"popoverLeave",sY,cY,this.event);if(a){o&&(o(),this.destroyKeyboardInteraction=void 0),s&&(s(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await P4(l,this.usersElement)}return r(),a}async getParentPopover(){return this.parentPopover}onDidDismiss(){return ns(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return ns(this.el,"ionPopoverWillDismiss")}render(){const e=Re(this),{onLifecycle:n,parentPopover:i,dismissOnSelect:r,side:o,arrow:s,htmlAttributes:a,focusTrap:l}=this,c=Ho("desktop"),u=s&&!i;return L(tt,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},or(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(o)]:!0,[Gp]:l===!1,"popover-nested":!!i}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!i&&L("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),L("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:r?()=>this.dismiss():void 0},u&&L("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),L("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},L("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:dY,md:fY}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),mY={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function gY(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,pY);break;case"ion-backdrop":customElements.get(e)||Vu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bY="ION-CONTENT",AR="ion-content",NR=".ion-content-scroll-host",OR="".concat(AR,", ").concat(NR),Ys=t=>t.tagName===bY,r3=async t=>Ys(t)?(await new Promise(e=>Ts(t,e)),t.getScrollElement()):t,xx=t=>{const e=t.querySelector(NR);return e||t.querySelector(OR)},yx=t=>t.closest(OR),D7e=(t,e)=>Ys(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),R7e=(t,e,n,i)=>Ys(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),vx=t=>wG(t,AR),o3=t=>{if(Ys(t)){const e=t,n=e.scrollY;return e.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},DR=(t,e)=>{Ys(t)?t.scrollY=e:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var s3;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(s3||(s3={}));var a3;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(a3||(a3={}));const RR={getEngine(){const t=bx();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==s3.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LR=t=>{if(mo===void 0||t===a3.None||t===void 0)return null;const e=mo.querySelector("ion-app");return e!=null?e:mo.body},v$=t=>{const e=LR(t);return e===null?0:e.clientHeight},zR=async t=>{let e,n,i,r;const o=async()=>{const u=await RR.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=v$(d)),i=!0,s(i,d)},n=()=>{i=!1,s(i,d)},Gt==null||Gt.addEventListener("keyboardWillShow",e),Gt==null||Gt.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===v$(u))return;const d=LR(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===r&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{Gt==null||Gt.removeEventListener("keyboardWillShow",e),Gt==null||Gt.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w$=(t,e)=>{gu(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,r=10,o=i-r,s=n-o,a=Wi(0,1-s/r,1);Hr(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},xY="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",yY=xY,vY="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",wY=vY,kY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(Re(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=r?xx(r):null;if(!o){vx(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await r3(e);this.contentScrollCallback=()=>{w$(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),w$(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await zR(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=Re(this),r=this.el.closest("ion-tabs"),o=r==null?void 0:r.querySelector(":scope > ion-tab-bar");return L(tt,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":e,["footer-translucent-".concat(i)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!o||o.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&e&&L("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),L("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:yY,md:wY}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function SY(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,kY);break}})}const CY=SY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EY=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",TY=EY,IY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=Re(this);return L(tt,{key:"617127ecfabf9bf615bef1dda1be3fed5a065949",class:{[e]:!0,"grid-fixed":this.fixed}},L("slot",{key:"c781fff853b093d8f44bdb7943bbc4f17c903803"}))}static get style(){return TY}},[1,"ion-grid",{fixed:[4]}]);function $Y(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,IY);break}})}const _Y=$Y;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AY="all 0.2s ease-in-out",k$=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},S$=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},NY=(t,e,n)=>{gu(()=>{const i=t.scrollTop,r=Wi(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Hr(()=>{RY(e.toolbars,r)})})},W4=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},OY=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;W4(e.el,i===1?void 0:i)},DY=(t,e,n,i)=>{Hr(()=>{const r=i.scrollTop;OY(t,e,r);const o=t[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,c=a===0&&l===0,u=Math.abs(s.left-o.boundingClientRect.left),d=Math.abs(s.right-o.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(Jf(e,!1),Jf(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&r>0&&(Jf(e),Jf(n,!1),W4(e.el)))})},Jf=(t,e=!0)=>{const n=t.el,r=t.toolbars.map(o=>o.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),r.forEach(o=>{o&&o.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),r.forEach(o=>{o&&o.setAttribute("aria-hidden","true")}))},RY=(t=[],e=1,n=!1)=>{t.forEach(i=>{const r=i.ionTitleEl,o=i.innerTitleEl;!r||r.size!=="large"||(o.style.transition=n?AY:"",o.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},C$=(t,e,n)=>{gu(()=>{const i=t.scrollTop,r=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&i<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const s=i-o,l=Wi(0,s/10,1);Hr(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},LY="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",zY=LY,FY="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",MY=FY,PY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await r3(e);this.contentScrollCallback=()=>{C$(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),C$(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Os(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Re(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",r=n==="fade";if(this.destroyCollapsibleHeader(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?xx(o):null;Hr(()=>{const a=k$("ion-title");a.size="large",k$("ion-back-button")}),await this.setupCondenseHeader(s,o)}else if(r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?xx(o):null;if(!s){vx(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){vx(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await r3(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=S$(this.collapsibleMainHeader),o=S$(this.el);if(!r||!o)return;Jf(r,!1),W4(r.el,0);const s=a=>{DY(a,r,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{NY(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Hr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=Re(this),r=this.collapse||"none",o=Rn("ion-menu",this.el)?"none":"banner";return L(tt,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&L("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),L("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:zY,md:MY}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function G4(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,PY);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BY=G4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jY=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",UY=jY,VY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ke(this,"ionImgWillLoad",7),this.ionImgDidLoad=ke(this,"ionImgDidLoad",7),this.ionError=ke(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=la(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:r,inheritedAttributes:o}=this,{draggable:s}=o;return L(tt,{key:"da600442894427dee1974a28e545613afac69fca",class:Re(this)},L("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:n,onLoad:i,onError:r,part:"image",draggable:HY(s)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return UY}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),HY=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function WY(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,VY);break}})}const GY=WY;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qY={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i="".concat(t*e/n-t,"ms"),r=2*Math.PI*e/n;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,r="".concat(t*i-t,"ms"),o=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},E$=qY,XY=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",KY=XY,YY=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||st.get("spinner"),n=Re(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=Re(n),r=n.getName(),o=(e=E$[r])!==null&&e!==void 0?e:E$.lines,s=typeof n.duration=="number"&&n.duration>10?n.duration:o.dur,a=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)a.push(ZY(o,s,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)a.push(JY(o,s,l,o.lines));return L(tt,{key:"e0dfa8a3ee2a0469eb31323f506750bd77d65797",class:Kt(n.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":n.paused||st.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:s+"ms"}:{}},a)}static get style(){return KY}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),ZY=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",L("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},L("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},JY=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",L("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},L("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function FR(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,YY);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const q4=(t,e,n)=>{let i;const r=()=>!(e()===void 0||t.label!==void 0||n()===null),o=()=>{r()&&yi(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&Gt!==void 0&&"IntersectionObserver"in Gt){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(s(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:o,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const MR=(t,e,n)=>{let i,r;if(Gt!==void 0&&"MutationObserver"in Gt){const l=Array.isArray(e)?e:[e];i=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){n(),yi(()=>o(d));return}}),i.observe(t,{childList:!0,subtree:!0})}const o=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:s}},PR=(t,e,n)=>{const i=t==null?0:t.toString().length,r=QY(i,e);if(n===void 0)return r;try{return n(i,e)}catch(o){return ts("[ion-input] - Exception in provided `counterFormatter`:",o),r}},QY=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eZ=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",tZ=eZ,nZ=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",iZ=nZ,rZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.ionInput=ke(this,"ionInput",7),this.ionChange=ke(this,"ionChange",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.inputId="ion-input-".concat(oZ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:T1(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),qi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Os(this.el)),la(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=MR(e,["label","start","end"],()=>qi(this)),this.notchController=q4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ts(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;return[L("div",{id:i,class:"helper-text"},e),L("div",{id:r,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return L("div",{class:"counter"},PR(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return L("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return L("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?L("slot",{name:"label"}):L("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Re(this)==="md"&&this.fill==="outline"?[L("div",{class:"input-outline-container"},L("div",{class:"input-outline-start"}),L("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},L("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),L("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:i,shape:r,inputId:o,labelPlacement:s,el:a,hasFocus:l,clearInputIcon:c}=this,u=Re(this),d=this.getValue(),h=Rn("ion-item",this.el),f=u==="md"&&n!=="outline"&&!h,p=u==="ios"?vR:wR,m=c!=null?c:p,b=this.hasValue(),g=a.querySelector('[slot="start"], [slot="end"]')!==null,x=s==="stacked"||s==="floating"&&(b||l||g);return L(tt,{key:"1094be43093d71694bf0e503d3015401b8cd9574",class:Kt(this.color,{[u]:!0,"has-value":b,"has-focus":l,"label-floating":x,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(s)]:!0,"in-item":h,"in-item-color":Rn("ion-item.ion-color",this.el),"input-disabled":e})},L("label",{key:"697c6decb1fb8403777db7a37f54853863421ad9",class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),L("div",{key:"d35f44c3afcf8e075f7f845416cb8500606d3546",class:"native-wrapper"},L("slot",{key:"41ef868873ffd8262d53fd1a5e506c62030dc3f1",name:"start"}),L("input",Object.assign({key:"d98e0aaa285b5424e9589ce36ed4f9910a6859cd",class:"native-input",ref:y=>this.nativeInput=y,id:o,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!i&&!e&&L("button",{key:"367d1a1c2eb69d4887fe29ab96ead3230d7dd513","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:y=>{y.preventDefault()},onFocusin:y=>{y.stopPropagation()},onClick:this.clearTextInput},L("ion-icon",{key:"69afc5c7ea6bfa1bff301635281b536e84277965","aria-hidden":"true",icon:m})),L("slot",{key:"6f770a0ab703b4d19e936a0e1955274bc9f3e941",name:"end"})),f&&L("div",{key:"a048e240432c4d5e11b2c92fa99a0cff07f9a778",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:tZ,md:iZ}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let oZ=0;function sZ(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,rZ);break;case"ion-icon":customElements.get(e)||ss();break}})}const aZ=sZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lZ="",cZ=lZ,uZ="",dZ=uZ,hZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.togglePasswordVisibility=()=>{const{inputElRef:e}=this;e&&(e.type=e.type==="text"?"password":"text")},this.color=void 0,this.showIcon=void 0,this.hideIcon=void 0,this.type="password"}onTypeChange(e){if(e!=="text"&&e!=="password"){pn('[ion-input-password-toggle] - Only inputs of type "text" or "password" are supported. Input of type "'.concat(e,'" is not compatible.'),this.el);return}}connectedCallback(){const{el:e}=this,n=this.inputElRef=e.closest("ion-input");if(!n){pn("[ion-input-password-toggle] - No ancestor ion-input found. This component must be slotted inside of an ion-input.",e);return}this.type=n.type}disconnectedCallback(){this.inputElRef=null}render(){var e,n;const{color:i,type:r}=this,o=Re(this),s=(e=this.showIcon)!==null&&e!==void 0?e:Hq,a=(n=this.hideIcon)!==null&&n!==void 0?n:Wq,l=r==="text";return L(tt,{key:"1a28e078c83e74c72d8bb8189ece93ec2e3fa3d0",class:Kt(i,{[o]:!0})},L("ion-button",{key:"039d1bab764093bb6fe4a34299b0872abda087fd",mode:o,color:i,fill:"clear",shape:"round","aria-checked":l?"true":"false","aria-label":"show password",role:"switch",type:"button",onPointerDown:c=>{c.preventDefault()},onClick:this.togglePasswordVisibility},L("ion-icon",{key:"26477ee97b808c3d79944bf5e33d4e05f1ae0b3f",slot:"icon-only","aria-hidden":"true",icon:l?a:s})))}get el(){return this}static get watchers(){return{type:["onTypeChange"]}}static get style(){return{ios:cZ,md:dZ}}},[33,"ion-input-password-toggle",{color:[513],showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],type:[1025]},void 0,{type:["onTypeChange"]}]);function fZ(){if(typeof customElements>"u")return;["ion-input-password-toggle","ion-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-input-password-toggle":customElements.get(e)||customElements.define(e,hZ);break;case"ion-button":customElements.get(e)||H4();break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}const pZ=fZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mZ=(t,e,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(r=>{n(gZ(r,e))});return i.observe(t,{childList:!0,subtree:!0}),i},gZ=(t,e)=>{let n;return t.forEach(i=>{for(let r=0;r<i.addedNodes.length;r++)n=bZ(i.addedNodes[r],e)||n}),n},bZ=(t,e)=>{if(t.nodeType!==1)return;const n=t;return(n.tagName===e.toUpperCase()?[n]:Array.from(n.querySelectorAll(e))).find(r=>r.value===n.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xZ=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",yZ=xZ,vZ=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",wZ=vZ,kZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.ionColor=ke(this,"ionColor",7),this.ionStyle=ke(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=Re(this);return L(tt,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:Kt(this.color,{[n]:!0,"in-item-color":Rn("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},L("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:yZ,md:wZ}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function X4(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,kZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SZ=X4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CZ="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",EZ=CZ,TZ="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",IZ=TZ,$Z=et(class extends Qe{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=Re(this),{lines:n,inset:i}=this;return L(tt,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(n)]:n!==void 0,["list-".concat(e,"-lines-").concat(n)]:n!==void 0}})}get el(){return this}static get style(){return{ios:EZ,md:IZ}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function O1(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,$Z);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _Z=O1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AZ=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",NZ=AZ,OZ=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",DZ=OZ,RZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=Re(this);return L(tt,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:Kt(this.color,{[n]:!0,["list-header-lines-".concat(e)]:e!==void 0})},L("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},L("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:NZ,md:DZ}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function BR(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,RZ);break}})}const LZ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",zZ=LZ,FZ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",MZ=FZ,PZ="cubic-bezier(0.32,0.72,0,1)",BZ="cubic-bezier(0.0,0.0,0.2,1)",jZ="cubic-bezier(1, 0, 0.68, 0.28)",UZ="cubic-bezier(0.4, 0, 0.6, 1)",VZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ke(this,"ionWillOpen",7),this.ionWillClose=ke(this,"ionWillClose",7),this.ionDidOpen=ke(this,"ionDidOpen",7),this.ionDidClose=ke(this,"ionDidClose",7),this.ionMenuChange=ke(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=D4.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=Sh(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const i=this.contentEl;i&&(n!==void 0&&i.classList.remove("menu-content-".concat(n)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=l$(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=st.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){ts('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&ts('[ion-menu] - The "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),$l._register(this),this.menuChanged(),this.gesture=(await fi(()=>Promise.resolve().then(()=>R4),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Os(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),$l._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,na))}onKeydown(e){e.key==="Escape"&&this.close(void 0,na)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,i){return $l._setOpen(this,e,n,i)}trapKeyboardFocus(e,n){const i=e.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:r}=this;px(r),this.lastFocus===n.activeElement&&t3(r)}}async _setOpen(e,n=!0,i){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,i),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,i),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=l$(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await $l._createAnimation(this.type,this);st.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,n){const i=!e,r=Re(this),o=r==="ios"?PZ:BZ,s=r==="ios"?jZ:UZ,a=this.animation.direction(i?"reverse":"normal").easing(i?s:o);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:$l._getOpenSync()?!1:HZ(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,La),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Si(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Si(!1,"isAnimating has to be true");return}const i=T$(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){Si(!1,"isAnimating has to be true");return}const n=this._isOpen,i=this.isEndSide,r=T$(e.deltaX,n,i),o=this.width,s=r/o,a=e.velocityX,l=o/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=n?i?c:u:i?u:c;let h=!n&&d;n&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let f=d?.001:-.001;const p=s<0?.01:s;f+=xu([0,0],[.4,0],[.6,1],[1,1],Wi(0,p,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h,La),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-f:f,300)}beforeAnimation(e,n){Si(!this.isAnimating,"_before() should not be called while animating"),Ho("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(I$),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add($$),this.contentEl&&(this.contentEl.classList.add(_$),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var i;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(Ho("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((i=document.activeElement)===null||i===void 0?void 0:i.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(I$),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(_$),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove($$),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,La))}render(){const{type:e,disabled:n,el:i,isPaneVisible:r,inheritedAttributes:o,side:s}=this,a=Re(this);return L(tt,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:kh()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[a]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!n,["menu-side-".concat(s)]:!0,"menu-pane-visible":r,"split-pane-side":Rn("ion-split-pane",i)}},L("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},L("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),L("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:zZ,md:MZ}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),T$=(t,e,n)=>Math.max(0,e!==n?-t:t),HZ=(t,e,n,i)=>n?e>=t.innerWidth-i:e<=i,I$="show-menu",$$="show-backdrop",_$="menu-content-open";function WZ(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,VZ);break;case"ion-backdrop":customElements.get(e)||Vu();break}})}const GZ=WZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jR=async t=>{const e=await $l.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qZ=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',XZ=qZ,KZ=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',YZ=KZ,ZZ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>$l.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=Os(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await jR(this.menu)}render(){const{color:e,disabled:n,inheritedAttributes:i}=this,r=Re(this),o=st.get("menuIcon",r==="ios"?Gq:qq),s=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return L(tt,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":n?"true":null,"aria-hidden":s?"true":null,class:Kt(e,{[r]:!0,button:!0,"menu-button-hidden":s,"menu-button-disabled":n,"in-toolbar":Rn("ion-toolbar",this.el),"in-toolbar-color":Rn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},L("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},a,{disabled:n,class:"button-native",part:"native","aria-label":l}),L("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},L("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},L("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:o,mode:r,lazy:!1,"aria-hidden":"true"}))),r==="md"&&L("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:XZ,md:YZ}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function JZ(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,ZZ);break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}const QZ=JZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eJ=":host(.menu-toggle-hidden){display:none}",tJ=eJ,nJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>$l.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await jR(this.menu)}render(){const e=Re(this),n=this.autoHide&&!this.visible;return L(tt,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":n?"true":null,class:{[e]:!0,"menu-toggle-hidden":n}},L("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return tJ}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function iJ(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,nJ);break}})}const rJ=iJ,UR=1,VR=2,wx=3;class l3{constructor(e,n){this.component=e,this.params=n,this.state=UR}async init(e){if(this.state=VR,!this.element){const n=this.component;this.element=await Nm(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Si(this.state!==wx,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=wx}}const A$=(t,e,n)=>!t||t.component!==e?!1:KD(t.params,n),N$=(t,e)=>t?t instanceof l3?t:new l3(t,e):null,oJ=t=>t.map(e=>e instanceof l3?e:"component"in e?N$(e.component,e.componentProps===null?void 0:e.componentProps):N$(e,void 0)).filter(e=>e!==null),sJ=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",aJ=sJ,lJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Re(this);this.swipeGesture=st.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await fi(()=>import("./swipe-back-D-H2scnP.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ta(e.element,o2),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,o){return this.insertPages(e,[{component:n,componentProps:i}],r,o)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const o=this.getActiveSync();if(A$(o,e,n))return Promise.resolve({changed:!1,element:o.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>A$(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const o=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===UR&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;r?o=await this.transition(i,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){Si(e.removeStart!==void 0,"removeView needs removeStart"),Si(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const s=e.insertViews;if(!s)return;Si(s.length>0,"length can not be zero");const a=oJ(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===wx)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const o=this.views,s=r+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<r||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var r,o,s;Si(n||e,"Both leavingView and enteringView are null"),Si(i.resolve,"resolve must be valid"),Si(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){Si(c>=0,"removeStart can not be negative"),Si(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==n&&d.push(p)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(Si(h>=0,"final balance can not be negative"),h===0)throw pn("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=i.insertStart;for(const p of l)this.insertViewAt(p,f),f++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)Ta(f.element,YD),Ta(f.element,ZD),Ta(f.element,o2);for(const f of d)this.destroyView(f)}}async transition(e,n,i){const r=i.opts,o=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,s=Re(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&st.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||st.get("navAnimation")}),{hasCompleted:u}=await QD(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const o=e?n:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(Si(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(Si(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){Si(e.state===VR||e.state===wx,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);Si(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const o=n[r],s=o.element;s&&(r>i?(Ta(s,o2),this.destroyView(o)):r<i&&Jk(s,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=xu([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=xu([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return L("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return aJ}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function cJ(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,lJ);break}})}const uJ=cJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dJ=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",hJ=dJ,fJ=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",pJ=fJ,mJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Re(this);return L(tt,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:Kt(this.color,{[e]:!0})},L("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:hJ,md:pJ}}},[33,"ion-note",{color:[513]}]);function gJ(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,mJ);break}})}const bJ=gJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xJ=":host{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);--progress-background:var(--ion-color-primary, #0054e9);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms linear;transition:-webkit-transform 150ms linear;transition:transform 150ms linear;transition:transform 150ms linear, -webkit-transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;-webkit-animation:primary-indeterminate-translate 2s infinite linear;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{-webkit-animation:primary-indeterminate-scale 2s infinite linear;animation:primary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;-webkit-animation:secondary-indeterminate-translate 2s infinite linear;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{-webkit-animation:secondary-indeterminate-scale 2s infinite linear;animation:secondary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;-webkit-animation:buffering 450ms infinite linear;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{-webkit-animation-play-state:paused;animation-play-state:paused}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@-webkit-keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@-webkit-keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@-webkit-keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}@keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}:host{border-radius:9999px;height:4px}:host(.progress-bar-solid){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}",yJ=xJ,vJ=":host{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.3);--progress-background:var(--ion-color-primary, #0054e9);display:block;position:relative;width:100%;contain:strict;direction:ltr;overflow:hidden}.progress,.progress-indeterminate,.indeterminate-bar-primary,.indeterminate-bar-secondary,.progress-buffer-bar{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%}.buffer-circles-container,.buffer-circles{left:0;right:0;top:0;bottom:0;position:absolute}.buffer-circles{right:-10px;left:-10px;}.progress,.progress-buffer-bar,.buffer-circles-container{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms linear;transition:-webkit-transform 150ms linear;transition:transform 150ms linear;transition:transform 150ms linear, -webkit-transform 150ms linear}.progress,.progress-indeterminate{background:var(--progress-background);z-index:2}.progress-buffer-bar{background:var(--background);z-index:1}.buffer-circles-container{overflow:hidden}.indeterminate-bar-primary{top:0;right:0;bottom:0;left:-145.166611%;-webkit-animation:primary-indeterminate-translate 2s infinite linear;animation:primary-indeterminate-translate 2s infinite linear}.indeterminate-bar-primary .progress-indeterminate{-webkit-animation:primary-indeterminate-scale 2s infinite linear;animation:primary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.indeterminate-bar-secondary{top:0;right:0;bottom:0;left:-54.888891%;-webkit-animation:secondary-indeterminate-translate 2s infinite linear;animation:secondary-indeterminate-translate 2s infinite linear}.indeterminate-bar-secondary .progress-indeterminate{-webkit-animation:secondary-indeterminate-scale 2s infinite linear;animation:secondary-indeterminate-scale 2s infinite linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.buffer-circles{background-image:radial-gradient(ellipse at center, var(--background) 0%, var(--background) 30%, transparent 30%);background-repeat:repeat-x;background-position:5px center;background-size:10px 10px;z-index:0;-webkit-animation:buffering 450ms infinite linear;animation:buffering 450ms infinite linear}:host(.progress-bar-reversed){-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.progress-paused) .indeterminate-bar-secondary,:host(.progress-paused) .indeterminate-bar-primary,:host(.progress-paused) .buffer-circles{-webkit-animation-play-state:paused;animation-play-state:paused}:host(.ion-color) .buffer-circles{background-image:radial-gradient(ellipse at center, rgba(var(--ion-color-base-rgb), 0.3) 0%, rgba(var(--ion-color-base-rgb), 0.3) 30%, transparent 30%)}:host(.ion-color) .progress,:host(.ion-color) .progress-indeterminate{background:var(--ion-color-base)}@-webkit-keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@keyframes primary-indeterminate-translate{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{-webkit-animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);-webkit-transform:translateX(0);transform:translateX(0)}59.15%{-webkit-animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);-webkit-transform:translateX(83.67142%);transform:translateX(83.67142%)}100%{-webkit-transform:translateX(200.611057%);transform:translateX(200.611057%)}}@-webkit-keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes primary-indeterminate-scale{0%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}36.65%{-webkit-animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}69.15%{-webkit-animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);-webkit-transform:scaleX(0.661479);transform:scaleX(0.661479)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@keyframes secondary-indeterminate-translate{0%{-webkit-animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);-webkit-transform:translateX(37.651913%);transform:translateX(37.651913%)}48.35%{-webkit-animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);-webkit-transform:translateX(84.386165%);transform:translateX(84.386165%)}100%{-webkit-transform:translateX(160.277782%);transform:translateX(160.277782%)}}@-webkit-keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@keyframes secondary-indeterminate-scale{0%{-webkit-animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}19.15%{-webkit-animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);-webkit-transform:scaleX(0.457104);transform:scaleX(0.457104)}44.15%{-webkit-animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);-webkit-transform:scaleX(0.72796);transform:scaleX(0.72796)}100%{-webkit-transform:scaleX(0.08);transform:scaleX(0.08)}}@-webkit-keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}@keyframes buffering{to{-webkit-transform:translateX(-10px);transform:translateX(-10px)}}:host{height:4px}:host(.ion-color) .progress-buffer-bar{background:rgba(var(--ion-color-base-rgb), 0.3)}",wJ=vJ,kJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="determinate",this.reversed=!1,this.value=0,this.buffer=1,this.color=void 0}render(){const{color:e,type:n,reversed:i,value:r,buffer:o}=this,s=st.getBoolean("_testing"),a=Re(this),l=o===1;return L(tt,{key:"d60eeaa18aaee607e083c0ef9d0de8178d47c4cd",role:"progressbar","aria-valuenow":n==="determinate"?r:null,"aria-valuemin":"0","aria-valuemax":"1",class:Kt(e,{[a]:!0,["progress-bar-".concat(n)]:!0,"progress-paused":s,"progress-bar-reversed":document.dir==="rtl"?!i:i,"progress-bar-solid":l})},n==="indeterminate"?SJ():CJ(r,o))}static get style(){return{ios:yJ,md:wJ}}},[33,"ion-progress-bar",{type:[1],reversed:[4],value:[2],buffer:[2],color:[513]}]),SJ=()=>L("div",{part:"track",class:"progress-buffer-bar"},L("div",{class:"indeterminate-bar-primary"},L("span",{part:"progress",class:"progress-indeterminate"})),L("div",{class:"indeterminate-bar-secondary"},L("span",{part:"progress",class:"progress-indeterminate"}))),CJ=(t,e)=>{const n=Wi(0,t,1),i=Wi(0,e,1);return[L("div",{part:"progress",class:"progress",style:{transform:"scaleX(".concat(n,")")}}),L("div",{class:{"buffer-circles-container":!0,"ion-hide":i===1},style:{transform:"translateX(".concat(i*100,"%)")}},L("div",{class:"buffer-circles-container",style:{transform:"translateX(-".concat(i*100,"%)")}},L("div",{part:"stream",class:"buffer-circles"}))),L("div",{part:"track",class:"progress-buffer-bar",style:{transform:"scaleX(".concat(i,")")}})]};function EJ(){if(typeof customElements>"u")return;["ion-progress-bar"].forEach(e=>{switch(e){case"ion-progress-bar":customElements.get(e)||customElements.define(e,kJ);break}})}const TJ=EJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const c3=(t,e,n)=>typeof n=="function"?n(t,e):typeof n=="string"?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e,Sb=(t,e,n)=>t===void 0?!1:Array.isArray(t)?t.some(i=>c3(i,e,n)):c3(t,e,n),IJ=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',$J=IJ,_J=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',AJ=_J,NJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-rb-".concat(OJ++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:n}=this.radioGroup;this.checked=Sb(n,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:n,disabled:i}=this;i||(n&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),O4(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(XD(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return L("div",{class:"radio-icon",part:"container"},L("div",{class:"radio-inner",part:"mark"}),L("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:n,color:i,el:r,justify:o,labelPlacement:s,hasLabel:a,buttonTabindex:l,alignment:c}=this,u=Re(this),d=Rn("ion-item",r);return L(tt,{key:"8badd4aec277addc0793e14df21f73bb345e99b7",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:Kt(i,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":n,["radio-justify-".concat(o)]:o!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(s)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":n?"true":null,tabindex:l},L("label",{key:"8765b847edc93a1b5a16506e155ed03da807bb10",class:"radio-wrapper"},L("div",{key:"3d568a0192a32d4f0b8a920019c79ff02639b5c9",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!a},part:"label"},L("slot",{key:"331f3dc2ce5f6ed8f124fc4560f92e0f7c668a85"})),L("div",{key:"473bd4aaf448753e385f2dda3fddc9f56379aa19",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:$J,md:AJ}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let OJ=0;function K4(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,NJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DJ="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",RJ=DJ,LJ="ion-radio-group{vertical-align:top}.radio-group-wrapper{display:inline}.radio-group-top{line-height:1.5}.radio-group-top .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.radio-group-top .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid .radio-group-top .error-text{display:block}.ion-touched.ion-invalid .radio-group-top .helper-text{display:none}ion-list .radio-group-top{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}",zJ=LJ,FJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.ionChange=ke(this,"ionChange",7),this.ionValueChange=ke(this,"ionValueChange",7),this.inputId="ion-rg-".concat(MJ++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const n=this.getRadios(),i=n.find(s=>!s.disabled),r=n.find(s=>s.value===e&&!s.disabled);if(!i&&!r)return;const o=r||i;for(const s of n){const a=s===o?0:-1;s.setButtonTabindex(a)}},this.onClick=e=>{e.preventDefault();const n=e.target&&e.target.closest("ion-radio");if(n&&!n.disabled){const i=this.value,r=n.value;r!==i?(this.value=r,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0,this.helperText=void 0,this.errorText=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const n=this.label=e.querySelector("ion-label");n&&(this.labelId=n.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:n}=this;this.ionChange.emit({value:n,event:e})}onKeydown(e){const n=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter(r=>!r.disabled);if(e.target&&i.includes(e.target)){const r=i.findIndex(a=>a===e.target),o=i[r];let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=r===i.length-1?i[0]:i[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=r===0?i[i.length-1]:i[r-1]),s&&i.includes(s)&&(s.setFocus(e),n||(this.value=s.value,this.emitValueChange(e))),[" "].includes(e.key)){const a=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:o.value,(a!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(n=>n.tabIndex!==-1);e==null||e.setFocus()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;if(e||n)return L("div",{class:"radio-group-top"},L("div",{id:i,class:"helper-text"},e),L("div",{id:r,class:"error-text"},n))}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}render(){const{label:e,labelId:n,el:i,name:r,value:o}=this,s=Re(this);return _m(!0,i,r,o,!1),L(tt,{key:"cac92777297029d7fd1b6af264d92850e35dfbba",role:"radiogroup","aria-labelledby":e?n:null,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,onClick:this.onClick,class:s},this.renderHintText(),L("div",{key:"6b5c634dba30d54eedc031b077863f3d6a9d9e9b",class:"radio-group-wrapper"},L("slot",{key:"443edb3ff6f4c59d4c4324c8a19f2d6def47a322"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:RJ,md:zJ}}},[36,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],helperText:[1,"helper-text"],errorText:[1,"error-text"],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let MJ=0;function Y4(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,FJ);break}})}function PJ(t){return!wl(t)||t%1===0?0:t.toString().split(".")[1].length}function BJ(t,...e){if(!wl(t))return 0;const n=Math.max(...e.map(i=>PJ(i)));return Number(t.toFixed(n))}const jJ=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:2px;--height:42px}:host(.range-item-start-adjustment){-webkit-padding-start:24px;padding-inline-start:24px}:host(.range-item-end-adjustment){-webkit-padding-end:24px;padding-inline-end:24px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:calc(8px + 0.75rem)}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:calc(8px + 0.75rem)}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, var(--ion-background-color-step-900, #e6e6e6));pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  100%,  0) scale(0.01);transform:translate3d(0,  100%,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:0.75rem;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 11px), 0) scale(1);transform:translate3d(0, calc(-100% + 11px), 0) scale(1)}:host(.range-disabled){opacity:0.3}",UJ=jJ,VJ=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-pack:center;justify-content:center;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}.range-knob-handle{inset-inline-start:0}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}.range-bar-container{inset-inline-start:0}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.range-label-placement-stacked) .range-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}:host(.range-label-placement-stacked) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host-context([dir=rtl]):host(.range-label-placement-stacked) .label-text-wrapper,:host-context([dir=rtl]).range-label-placement-stacked .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.range-label-placement-stacked:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.in-item.range-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.range-label-placement-stacked) .native-wrapper{margin-bottom:0px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.26);--bar-background-active:var(--ion-color-primary, #0054e9);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #0054e9);--pin-color:var(--ion-color-primary-contrast, #fff)}::slotted(:not(ion-icon)[slot=start]),::slotted(:not(ion-icon)[slot=end]),.native-wrapper{font-size:0.75rem}:host(.range-item-start-adjustment){-webkit-padding-start:18px;padding-inline-start:18px}:host(.range-item-end-adjustment){-webkit-padding-end:18px;padding-inline-end:18px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin:not(.range-label-placement-stacked)){padding-top:1.75rem}:host(.range-has-pin.range-label-placement-stacked) .label-text-wrapper{margin-bottom:1.75rem}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}.range-knob::before{inset-inline-start:0}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.75rem;height:1.75rem;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color)}.range-pin::before{bottom:-1px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}.range-pin::before{inset-inline-start:50%}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0, calc(-100% + 4px), 0) scale(1);transform:translate3d(0, calc(-100% + 4px), 0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf))}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',HJ=VJ,WJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionInput=ke(this,"ionInput",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.ionKnobMoveStart=ke(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=ke(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(GJ++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.compareValues=(e,n)=>typeof e=="object"&&typeof n=="object"?e.lower!==n.lower||e.upper!==n.upper:e!==n,this.clampBounds=e=>Wi(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await fi(()=>Promise.resolve().then(()=>R4),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:10,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,n)=>{const{ensureValueInBounds:i}=this;let r=this.step;r=r>0?r:1,r=r/(this.max-this.min),n||(r*=-1),e==="A"?this.ratioA=Wi(0,this.ratioA+r,1):this.ratioB=Wi(0,this.ratioB+r,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start"}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:T1(e,n)}minChanged(e){wl(e)||(this.min=0),this.noUpdate||this.updateRatio()}maxChanged(e){wl(e)||(this.max=100),this.noUpdate||this.updateRatio()}stepChanged(e){wl(e)||(this.step=1)}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(pn("[ion-range] - The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(pn("[ion-range] - The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}valueChanged(e,n){this.compareValues(e,n)&&this.ionInput.emit({value:this.value}),this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=Os(this.el),this.min=wl(this.min)?this.min:0,this.max=wl(this.max)?this.max:100,this.step=wl(this.step)?this.step:1}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.updateRatio(),this.didLoad=!0}connectedCallback(){var e;this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture();const n=yx(this.el);this.contentEl=(e=n==null?void 0:n.querySelector(".ion-content-scroll-host"))!==null&&e!==void 0?e:n}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const n=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof n=="object"?n:{lower:0,upper:n}:typeof n=="object"?n.upper:n}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(){this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){const{contentEl:n,pressedKnob:i}=this,r=e.currentX;n&&this.pressedKnob===void 0&&(this.initialContentScrollY=o3(n)),i===void 0&&this.setPressedKnob(r),this.update(r)}onEnd(e){var n;const{contentEl:i,initialContentScrollY:r}=this,o=(n=e.currentX)!==null&&n!==void 0?n:e.clientX;this.pressedKnob===void 0&&this.setPressedKnob(o),i&&this.pressedKnob!==void 0&&DR(i,r),this.update(o),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const n=this.rect;let i=Wi(0,(e-n.left)/n.width,1);za(this.el)&&(i=1-i),this.snaps&&(i=pd(u2(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}setPressedKnob(e){const n=this.rect=this.rangeSlider.getBoundingClientRect();let i=Wi(0,(e-n.left)/n.width,1);za(this.el)&&(i=1-i),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-i)<Math.abs(this.ratioB-i)?"A":"B",this.setFocus(this.pressedKnob)}get valA(){return u2(this.ratioA,this.min,this.max,this.step)}get valB(){return u2(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:pd(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:n,max:i}=this;this.dualKnobs?(this.ratioA=pd(e.lower,n,i),this.ratioB=pd(e.upper,n,i)):this.ratioA=pd(e,n,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:n}=this;this.value=this.dualKnobs?{lower:Math.min(e,n),upper:Math.max(e,n)}:e,this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const n=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");n&&n.focus()}}get hasStartSlotContent(){return this.el.querySelector('[slot="start"]')!==null}get hasEndSlotContent(){return this.el.querySelector('[slot="end"]')!==null}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:n,max:i,step:r,handleKeyboard:o,pressedKnob:s,disabled:a,pin:l,ratioLower:c,ratioUpper:u,pinFormatter:d,inheritedAttributes:h}=this;let f="".concat(c*100,"%"),p="".concat(100-u*100,"%");const m=za(this.el),b=m?"right":"left",g=m?"left":"right",x=w=>({[b]:w[b]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(f="".concat(u*100,"%"),p="".concat(100-c*100,"%")):(f="".concat(c*100,"%"),p="".concat(100-u*100,"%")));const y={[b]:f,[g]:p},v=[];if(this.snaps&&this.ticks)for(let w=n;w<=i;w+=r){const E=pd(w,n,i),C=Math.min(c,u),I=Math.max(c,u),T={ratio:E,active:E>=C&&E<=I};T[b]="".concat(E*100,"%"),v.push(T)}return L("div",{class:"range-slider",ref:w=>this.rangeSlider=w,onPointerUp:w=>{this.pressedKnob===void 0&&(this.onStart(),this.onEnd(w))}},v.map(w=>L("div",{style:x(w),role:"presentation",class:{"range-tick":!0,"range-tick-active":w.active},part:w.active?"tick-active":"tick"})),L("div",{class:"range-bar-container"},L("div",{class:"range-bar",role:"presentation",part:"bar"}),L("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":v.length>0},role:"presentation",style:y,part:"bar-active"})),O$(m,{knob:"A",pressed:s==="A",value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:d,disabled:a,handleKeyboard:o,min:n,max:i,inheritedAttributes:h}),this.dualKnobs&&O$(m,{knob:"B",pressed:s==="B",value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:d,disabled:a,handleKeyboard:o,min:n,max:i,inheritedAttributes:h}))}render(){const{disabled:e,el:n,hasLabel:i,rangeId:r,pin:o,pressedKnob:s,labelPlacement:a,label:l}=this,c=Rn("ion-item",n),u=i&&(a==="start"||a==="fixed")||this.hasStartSlotContent,d=c&&!u,h=i&&a==="end"||this.hasEndSlotContent,f=c&&!h,p=Re(this);return _m(!0,n,this.name,JSON.stringify(this.getValue()),e),L(tt,{key:"3e065039ee048f1f70d97dba5dae98fa1315d867",onFocusin:this.onFocus,onFocusout:this.onBlur,id:r,class:Kt(this.color,{[p]:!0,"in-item":c,"range-disabled":e,"range-pressed":s!==void 0,"range-has-pin":o,["range-label-placement-".concat(a)]:!0,"range-item-start-adjustment":d,"range-item-end-adjustment":f})},L("label",{key:"27ff22842c9ea79a1b9495302b926f70c9080a95",class:"range-wrapper",id:"range-label"},L("div",{key:"da1f9784be02dfe87d2fef34931d8b7f2148189e",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!i},part:"label"},l!==void 0?L("div",{class:"label-text"},l):L("slot",{name:"label"})),L("div",{key:"4389bf30b08214f5b5917fc30976b38f7bcdd29b",class:"native-wrapper"},L("slot",{key:"ad1b2745f8b061ee189617bb5c567e4f1d02250c",name:"start"}),this.renderRangeSlider(),L("slot",{key:"c6dec9e843e232af2a5f16a0f8ee56439c545d7a",name:"end"}))))}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:UJ,md:HJ}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],ratioA:[32],ratioB:[32],pressedKnob:[32]},void 0,{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],step:["stepChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}]),O$=(t,{knob:e,value:n,ratio:i,min:r,max:o,disabled:s,pressed:a,pin:l,handleKeyboard:c,pinFormatter:u,inheritedAttributes:d})=>{const h=t?"right":"left",f=()=>{const m={};return m[h]="".concat(i*100,"%"),m},p=d["aria-label"];return L("div",{onKeyDown:m=>{const b=m.key;b==="ArrowLeft"||b==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(b==="ArrowRight"||b==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":n===r,"range-knob-max":n===o,"ion-activatable":!0,"ion-focusable":!0},style:f(),role:"slider",tabindex:s?-1:0,"aria-label":p!==void 0?p:null,"aria-labelledby":p===void 0?"range-label":null,"aria-valuemin":r,"aria-valuemax":o,"aria-disabled":s?"true":null,"aria-valuenow":n},l&&L("div",{class:"range-pin",role:"presentation",part:"pin"},u(n)),L("div",{class:"range-knob",role:"presentation",part:"knob"}))},u2=(t,e,n,i)=>{let r=(n-e)*t;i>0&&(r=Math.round(r/i)*i+e);const o=Wi(e,r,n);return BJ(o,e,n,i)},pd=(t,e,n)=>Wi(0,(t-e)/(n-e),1);let GJ=0;function qJ(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,WJ);break}})}const XJ=qJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KJ=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",YJ=KJ,ZJ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return L(tt,{key:"a690022e2abdce6946d24264574e4aa0886a8ea5",class:Re(this)},L("slot",{key:"d1a0e831dd1dbfe7877d3ad01d0a3045a5fb29e3"}))}static get style(){return YJ}},[1,"ion-row"]);function JJ(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,ZJ);break}})}const QJ=JJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eQ=".sc-ion-searchbar-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-ios-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:inherit}.searchbar-search-icon.sc-ion-searchbar-ios{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-ios{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-ios{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-ios::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-ios::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-ios>div.sc-ion-searchbar-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-ios:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-clear-button.sc-ion-searchbar-ios{display:block}.searchbar-disabled.sc-ion-searchbar-ios-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-ios-h{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.07);--border-radius:10px;--box-shadow:none;--cancel-button-color:var(--ion-color-primary, #0054e9);--clear-button-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--color:var(--ion-text-color, #000);--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:12px;padding-bottom:12px;min-height:60px;contain:content}.searchbar-input-container.sc-ion-searchbar-ios{min-height:36px}.searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:calc(50% - 60px);margin-inline-start:calc(50% - 60px);top:0;position:absolute;width:1.375rem;height:100%;contain:strict}.searchbar-search-icon.sc-ion-searchbar-ios{inset-inline-start:5px}.searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:6px;padding-bottom:6px;height:100%;font-size:1.0625rem;font-weight:400;contain:strict}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem;-webkit-padding-end:1.75rem;padding-inline-end:1.75rem}.searchbar-clear-button.sc-ion-searchbar-ios{top:0;background-position:center;position:absolute;width:1.875rem;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-ios{inset-inline-end:0}.searchbar-clear-icon.sc-ion-searchbar-ios{width:1.125rem;height:100%}.searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:0;padding-inline-end:0;padding-top:0;padding-bottom:0;-ms-flex-negative:0;flex-shrink:0;background-color:transparent;font-size:17px}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{-webkit-margin-start:0;margin-inline-start:0}.searchbar-left-aligned.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-padding-start:1.875rem;padding-inline-start:1.875rem}.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{display:block}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios{-webkit-transition:all 300ms ease;transition:all 300ms ease}.searchbar-animated.searchbar-has-focus.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios,.searchbar-animated.searchbar-should-show-cancel.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{opacity:1;pointer-events:auto}.searchbar-animated.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-margin-end:-100%;margin-inline-end:-100%;-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);-webkit-transition:all 300ms ease;transition:all 300ms ease;opacity:0;pointer-events:none}.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-input.sc-ion-searchbar-ios,.searchbar-no-animate.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{-webkit-transition-duration:0ms;transition-duration:0ms}.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios{color:var(--ion-color-base)}@media (any-hover: hover){.ion-color.sc-ion-searchbar-ios-h .searchbar-cancel-button.sc-ion-searchbar-ios:hover{color:var(--ion-color-tint)}}ion-toolbar.sc-ion-searchbar-ios-h,ion-toolbar .sc-ion-searchbar-ios-h{padding-top:1px;padding-bottom:15px;min-height:52px}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color),ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color){color:inherit}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-cancel-button.sc-ion-searchbar-ios{color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h .searchbar-search-icon.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-input.sc-ion-searchbar-ios{background:rgba(var(--ion-color-contrast-rgb), 0.07);color:currentColor}ion-toolbar.ion-color.sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios,ion-toolbar.ion-color .sc-ion-searchbar-ios-h:not(.ion-color) .searchbar-clear-button.sc-ion-searchbar-ios{color:currentColor;opacity:0.5}",tQ=eQ,nQ=".sc-ion-searchbar-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-searchbar-md-h{color:var(--ion-color-contrast)}.ion-color.sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background:var(--ion-color-base)}.ion-color.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.ion-color.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{color:inherit}.searchbar-search-icon.sc-ion-searchbar-md{color:var(--icon-color);pointer-events:none}.searchbar-input-container.sc-ion-searchbar-md{display:block;position:relative;-ms-flex-negative:1;flex-shrink:1;width:100%}.searchbar-input.sc-ion-searchbar-md{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;border-radius:var(--border-radius);display:block;width:100%;min-height:inherit;border:0;outline:none;background:var(--background);font-family:inherit;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-input.sc-ion-searchbar-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.searchbar-input.sc-ion-searchbar-md::-webkit-search-cancel-button,.searchbar-input.sc-ion-searchbar-md::-ms-clear{display:none}.searchbar-cancel-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:none;height:100%;border:0;outline:none;color:var(--cancel-button-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-cancel-button.sc-ion-searchbar-md>div.sc-ion-searchbar-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.searchbar-clear-button.sc-ion-searchbar-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:none;min-height:0;outline:none;color:var(--clear-button-color);-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbar-clear-button.sc-ion-searchbar-md:focus{opacity:0.5}.searchbar-has-value.searchbar-should-show-clear.sc-ion-searchbar-md-h .searchbar-clear-button.sc-ion-searchbar-md{display:block}.searchbar-disabled.sc-ion-searchbar-md-h{cursor:default;opacity:0.4;pointer-events:none}.sc-ion-searchbar-md-h{--background:var(--ion-background-color, #fff);--border-radius:2px;--box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--cancel-button-color:var(--ion-color-step-900, var(--ion-text-color-step-100, #1a1a1a));--clear-button-color:initial;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--icon-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;background:inherit}.searchbar-search-icon.sc-ion-searchbar-md{top:11px;width:1.3125rem;height:1.3125rem}.searchbar-search-icon.sc-ion-searchbar-md{inset-inline-start:16px}.searchbar-cancel-button.sc-ion-searchbar-md{top:0;background-color:transparent;font-size:1.5em}.searchbar-cancel-button.sc-ion-searchbar-md{inset-inline-start:9px}.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-cancel-button.sc-ion-searchbar-md{position:absolute}.searchbar-search-icon.ion-activated.sc-ion-searchbar-md,.searchbar-cancel-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-input.sc-ion-searchbar-md{-webkit-padding-start:3.4375rem;padding-inline-start:3.4375rem;-webkit-padding-end:3.4375rem;padding-inline-end:3.4375rem;padding-top:0.375rem;padding-bottom:0.375rem;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;line-height:30px}[dir=rtl].sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md,[dir=rtl] .sc-ion-searchbar-md-h .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}[dir=rtl].sc-ion-searchbar-md .searchbar-input.sc-ion-searchbar-md{background-position:right 8px center}@supports selector(:dir(rtl)){.searchbar-input.sc-ion-searchbar-md:dir(rtl){background-position:right 8px center}}.searchbar-clear-button.sc-ion-searchbar-md{top:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:absolute;height:100%;border:0;background-color:transparent}.searchbar-clear-button.sc-ion-searchbar-md{inset-inline-end:13px}.searchbar-clear-button.ion-activated.sc-ion-searchbar-md{background-color:transparent}.searchbar-clear-icon.sc-ion-searchbar-md{width:1.375rem;height:100%}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-search-icon.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md{display:block}.searchbar-has-focus.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md,.searchbar-should-show-cancel.sc-ion-searchbar-md-h .searchbar-cancel-button.sc-ion-searchbar-md+.searchbar-search-icon.sc-ion-searchbar-md{display:none}ion-toolbar.sc-ion-searchbar-md-h,ion-toolbar .sc-ion-searchbar-md-h{-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:3px;padding-bottom:3px}",iQ=nQ,rQ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.ionInput=ke(this,"ionInput",7),this.ionChange=ke(this,"ionChange",7),this.ionCancel=ke(this,"ionCancel",7),this.ionClear=ke(this,"ionClear",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.ionStyle=ke(this,"ionStyle",7),this.isCancelVisible=!1,this.shouldAlignLeft=!0,this.inputId="ion-searchbar-".concat(oQ++),this.inheritedAttributes={},this.onClearInput=async e=>(this.ionClear.emit(),new Promise(n=>{setTimeout(()=>{const i=this.getValue();i!==""&&(this.value="",this.emitInputChange(),e&&!this.focused&&(this.setFocus(),this.focusedValue=i)),n()},16*4)})),this.onCancelSearchbar=async e=>{e&&(e.preventDefault(),e.stopPropagation()),this.ionCancel.emit();const n=this.getValue(),i=this.focused;await this.onClearInput(),n&&!i&&this.emitValueChange(e),this.nativeInput&&this.nativeInput.blur()},this.onInput=e=>{const n=e.target;n&&(this.value=n.value),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.focused=!1,this.ionBlur.emit(),this.positionElements(),this.focusedValue!==this.value&&this.emitValueChange(e),this.focusedValue=void 0},this.onFocus=()=>{this.focused=!0,this.focusedValue=this.value,this.ionFocus.emit(),this.positionElements()},this.focused=!1,this.noAnimate=!0,this.color=void 0,this.animated=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.cancelButtonIcon=st.get("backButtonIcon",yR),this.cancelButtonText="Cancel",this.clearIcon=void 0,this.debounce=void 0,this.disabled=!1,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder="Search",this.searchIcon=void 0,this.showCancelButton="never",this.showClearButton="always",this.spellcheck=!1,this.type="search",this.value=""}onLangChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{lang:e}),qi(this)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),qi(this)}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:T1(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n)}showCancelButtonChanged(){requestAnimationFrame(()=>{this.positionElements(),qi(this)})}connectedCallback(){this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign({},la(this.el,["lang","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.positionElements(),this.debounceChanged(),setTimeout(()=>{this.noAnimate=!1},300)}emitStyle(){this.ionStyle.emit({searchbar:!0})}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ts(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}positionElements(){const e=this.getValue(),n=this.shouldAlignLeft,i=Re(this),r=!this.animated||e.trim()!==""||!!this.focused;this.shouldAlignLeft=r,i==="ios"&&(n!==r&&this.positionPlaceholder(),this.animated&&this.positionCancelButton())}positionPlaceholder(){const e=this.nativeInput;if(!e)return;const n=za(this.el),i=(this.el.shadowRoot||this.el).querySelector(".searchbar-search-icon");if(this.shouldAlignLeft)e.removeAttribute("style"),i.removeAttribute("style");else{const r=document,o=r.createElement("span");o.innerText=this.placeholder||"",r.body.appendChild(o),yi(()=>{const s=o.offsetWidth;o.remove();const a="calc(50% - "+s/2+"px)",l="calc(50% - "+(s/2+i.clientWidth+8)+"px)";n?(e.style.paddingRight=a,i.style.marginRight=l):(e.style.paddingLeft=a,i.style.marginLeft=l)})}}positionCancelButton(){const e=za(this.el),n=(this.el.shadowRoot||this.el).querySelector(".searchbar-cancel-button"),i=this.shouldShowCancelButton();if(n!==null&&i!==this.isCancelVisible){const r=n.style;if(this.isCancelVisible=i,i)e?r.marginLeft="0":r.marginRight="0";else{const o=n.offsetWidth;o>0&&(e?r.marginLeft=-o+"px":r.marginRight=-o+"px")}}}getValue(){return this.value||""}hasValue(){return this.getValue()!==""}shouldShowCancelButton(){return!(this.showCancelButton==="never"||this.showCancelButton==="focus"&&!this.focused)}shouldShowClearButton(){return!(this.showClearButton==="never"||this.showClearButton==="focus"&&!this.focused)}render(){const{cancelButtonText:e,autocapitalize:n}=this,i=this.animated&&st.getBoolean("animated",!0),r=Re(this),o=this.clearIcon||(r==="ios"?vR:wR),s=this.searchIcon||(r==="ios"?Xq:Kq),a=this.shouldShowCancelButton(),l=this.showCancelButton!=="never"&&L("button",{key:"989f3e84c472ada6e66dd9b249d0d268bf17ce26","aria-label":e,"aria-hidden":a?void 0:"true",type:"button",tabIndex:r==="ios"&&!a?-1:void 0,onMouseDown:this.onCancelSearchbar,onTouchStart:this.onCancelSearchbar,class:"searchbar-cancel-button"},L("div",{key:"7d335d4fde33822dc79d26b748ba2e98db7494bb","aria-hidden":"true"},r==="md"?L("ion-icon",{"aria-hidden":"true",mode:r,icon:this.cancelButtonIcon,lazy:!1}):e));return L(tt,{key:"d1a1972725e949fb102c91487aaa7b9d10c2d718",role:"search","aria-disabled":this.disabled?"true":null,class:Kt(this.color,{[r]:!0,"searchbar-animated":i,"searchbar-disabled":this.disabled,"searchbar-no-animate":i&&this.noAnimate,"searchbar-has-value":this.hasValue(),"searchbar-left-aligned":this.shouldAlignLeft,"searchbar-has-focus":this.focused,"searchbar-should-show-clear":this.shouldShowClearButton(),"searchbar-should-show-cancel":this.shouldShowCancelButton()})},L("div",{key:"add53640b2994cb6b2bf02792dafe51aba6b1684",class:"searchbar-input-container"},L("input",Object.assign({key:"160cc36459a4a652e7f41ccd14dcdc782278779e","aria-label":"search text",disabled:this.disabled,ref:c=>this.nativeInput=c,class:"searchbar-input",inputMode:this.inputmode,enterKeyHint:this.enterkeyhint,name:this.name,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,minLength:this.minlength,maxLength:this.maxlength,placeholder:this.placeholder,type:this.type,value:this.getValue(),autoCapitalize:n==="default"?void 0:n,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,spellcheck:this.spellcheck},this.inheritedAttributes)),r==="md"&&l,L("ion-icon",{key:"8825fd13af0d2dea451ccc0e00ae7b5021dc01c4","aria-hidden":"true",mode:r,icon:s,lazy:!1,class:"searchbar-search-icon"}),L("button",{key:"8a7b56da278b9ca5c4f5a4ee9c01924fd5ae29d8","aria-label":"reset",type:"button","no-blur":!0,class:"searchbar-clear-button",onPointerDown:c=>{c.preventDefault()},onClick:()=>this.onClearInput(!0)},L("ion-icon",{key:"24c55274516ab012d8c25f03525c6cdb9409e52f","aria-hidden":"true",mode:r,icon:o,lazy:!1,class:"searchbar-clear-icon"}))),r==="ios"&&l)}get el(){return this}static get watchers(){return{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}}static get style(){return{ios:tQ,md:iQ}}},[34,"ion-searchbar",{color:[513],animated:[4],autocapitalize:[1],autocomplete:[1],autocorrect:[1],cancelButtonIcon:[1,"cancel-button-icon"],cancelButtonText:[1,"cancel-button-text"],clearIcon:[1,"clear-icon"],debounce:[2],disabled:[4],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],searchIcon:[1,"search-icon"],showCancelButton:[1,"show-cancel-button"],showClearButton:[1,"show-clear-button"],spellcheck:[4],type:[1],value:[1025],focused:[32],noAnimate:[32],setFocus:[64],getInputElement:[64]},void 0,{lang:["onLangChanged"],dir:["onDirChanged"],debounce:["debounceChanged"],value:["valueChanged"],showCancelButton:["showCancelButtonChanged"]}]);let oQ=0;function sQ(){if(typeof customElements>"u")return;["ion-searchbar","ion-icon"].forEach(e=>{switch(e){case"ion-searchbar":customElements.get(e)||customElements.define(e,rQ);break;case"ion-icon":customElements.get(e)||ss();break}})}const aQ=sQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HR=(t,e)=>{let n,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)||u.disabled){s();return}u!==n&&(s(),o(u,c))},o=(a,l)=>{n=a,i||(i=n);const c=n;Hr(()=>c.classList.add("ion-activated")),l()},s=(a=!1)=>{if(!n)return;const l=n;Hr(()=>l.classList.remove("ion-activated")),a&&i!==n&&n.click(),n=void 0};return Am({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,jK),onMove:a=>r(a.currentX,a.currentY,UK),onEnd:()=>{s(!0),VK(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},cQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},uQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},dQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},hQ='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',fQ=hQ,pQ='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',mQ=pQ,gQ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionActionSheetDidPresent",7),this.willPresent=ke(this,"ionActionSheetWillPresent",7),this.willDismiss=ke(this,"ionActionSheetWillDismiss",7),this.didDismiss=ke(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=A1(this),this.lockController=Hu(),this.triggerController=Rm(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(vu(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Yh(this,"actionSheetEnter",lQ,uQ),e()}async dismiss(e,n){const i=await this.lockController.lock(),r=await Zh(this,e,n,"actionSheetLeave",cQ,dQ);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return ns(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return ns(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const n=e.role;return vu(n)?this.dismiss(e.data,n):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await au(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){Xh(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Kh(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:n}=this;!this.gesture&&Re(this)==="ios"&&n&&e&&gu(()=>{e.scrollHeight>e.clientHeight||(this.gesture=HR(n,r=>r.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&yi(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:n,overlayIndex:i}=this,r=Re(this),o=this.getButtons(),s=o.find(c=>c.role==="cancel"),a=o.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(i,"-header");return L(tt,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},n,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[r]:!0},or(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),L("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),L("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),L("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},L("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},L("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&L("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&L("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),a.map(c=>L("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:D$(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),L("span",{class:"action-sheet-button-inner"},c.icon&&L("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),r==="md"&&L("ion-ripple-effect",null)))),s&&L("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},L("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},s.htmlAttributes,{type:"button",class:D$(s),onClick:()=>this.buttonClick(s)}),L("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},s.icon&&L("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:s.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),s.text),r==="md"&&L("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),L("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:fQ,md:mQ}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),D$=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!t.disabled,"ion-focusable":!t.disabled,["action-sheet-".concat(t.role)]:t.role!==void 0},or(t.cssClass));function WR(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,gQ);break;case"ion-backdrop":customElements.get(e)||Vu();break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},xQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},yQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},vQ=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},wQ=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",kQ=wQ,SQ=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",CQ=SQ,EQ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionAlertDidPresent",7),this.willPresent=ke(this,"ionAlertWillPresent",7),this.willDismiss=ke(this,"ionAlertWillDismiss",7),this.didDismiss=ke(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=A1(this),this.lockController=Hu(),this.triggerController=Rm(),this.customHTMLEnabled=st.get("innerHTMLTemplatesEnabled",F4),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(vu(n)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}onKeydown(e){var n;const i=new Set(this.processedInputs.map(l=>l.type));if(i.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(e.target.classList.contains("alert-wrapper")&&e.key==="Tab"&&e.shiftKey){e.preventDefault(),((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button:last-child")).focus();return}if(!i.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const r=this.el.querySelectorAll(".alert-radio"),o=Array.from(r).filter(l=>!l.disabled),s=o.findIndex(l=>l.id===e.target.id);let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=s===o.length-1?o[0]:o[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=s===0?o[o.length-1]:o[s-1]),a&&o.includes(a)){const l=this.processedInputs.find(c=>c.id===(a==null?void 0:a.id));l&&(this.rbClick(l),a.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(n=>typeof n=="string"?{text:n,role:n.toLowerCase()==="cancel"?"cancel":void 0}:n)}inputsChanged(){const e=this.inputs,n=e.find(s=>!s.disabled),r=e.find(s=>s.checked&&!s.disabled)||n,o=new Set(e.map(s=>s.type));o.has("checkbox")&&o.has("radio")&&pn("[ion-alert] - Alert cannot mix input types: ".concat(Array.from(o.values()).join("/"),". Please see alert docs for more info.")),this.inputType=o.values().next().value,this.processedInputs=e.map((s,a)=>{var l;return{type:s.type||"text",name:s.name||"".concat(a),placeholder:s.placeholder||"",value:s.value,label:s.label,checked:!!s.checked,disabled:!!s.disabled,id:s.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:s.handler,min:s.min,max:s.max,cssClass:(l=s.cssClass)!==null&&l!==void 0?l:"",attributes:s.attributes||{},tabindex:s.type==="radio"&&s!==r?-1:0}})}connectedCallback(){Xh(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Kh(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&Re(this)==="ios"&&this.wrapperEl&&(this.gesture=HR(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&yi(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Yh(this,"alertEnter",bQ,yQ).then(()=>{var n,i;this.buttons.length===1&&this.inputs.length===0?((n=this.wrapperEl)===null||n===void 0?void 0:n.querySelector(".alert-button")).focus():(i=this.wrapperEl)===null||i===void 0||i.focus()}),e()}async dismiss(e,n){const i=await this.lockController.lock(),r=await Zh(this,e,n,"alertLeave",xQ,vQ);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return ns(this.el,"ionAlertDidDismiss")}onWillDismiss(){return ns(this.el,"ionAlertWillDismiss")}rbClick(e){for(const n of this.processedInputs)n.checked=n===e,n.tabindex=n===e?0:-1;this.activeId=e.id,au(e.handler,e),qi(this)}cbClick(e){e.checked=!e.checked,au(e.handler,e),qi(this)}async buttonClick(e){const n=e.role,i=this.getValues();if(vu(n))return this.dismiss({values:i},n);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,n){if(e!=null&&e.handler){const i=await au(e.handler,n);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const n=this.processedInputs.find(i=>!!i.checked);return n?n.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(n=>n.checked).map(n=>n.value);const e={};return this.processedInputs.forEach(n=>{e[n.name]=n.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,n=Re(this);return e.length===0?null:L("div",{class:"alert-checkbox-group"},e.map(i=>L("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},or(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},L("div",{class:"alert-button-inner"},L("div",{class:"alert-checkbox-icon"},L("div",{class:"alert-checkbox-inner"})),L("div",{class:"alert-checkbox-label"},i.label)),n==="md"&&L("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:L("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(n=>L("button",{type:"button",onClick:()=>this.rbClick(n),"aria-checked":"".concat(n.checked),disabled:n.disabled,id:n.id,tabIndex:n.tabindex,class:Object.assign(Object.assign({},or(n.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":n.disabled||!1}),role:"radio"},L("div",{class:"alert-button-inner"},L("div",{class:"alert-radio-icon"},L("div",{class:"alert-radio-inner"})),L("div",{class:"alert-radio-label"},n.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:L("div",{class:"alert-input-group"},e.map(n=>{var i,r,o,s;return n.type==="textarea"?L("div",{class:"alert-input-wrapper"},L("textarea",Object.assign({placeholder:n.placeholder,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(r=(i=n.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:n.disabled,class:R$(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}}))):L("div",{class:"alert-input-wrapper"},L("input",Object.assign({placeholder:n.placeholder,type:n.type,min:n.min,max:n.max,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(s=(o=n.attributes)===null||o===void 0?void 0:o.disabled)!==null&&s!==void 0?s:n.disabled,class:R$(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,n=Re(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return L("div",{class:i},e.map(r=>L("button",Object.assign({},r.htmlAttributes,{type:"button",id:r.id,class:TQ(r),tabIndex:0,onClick:()=>this.buttonClick(r)}),L("span",{class:"alert-button-inner"},r.text),n==="md"&&L("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?L("div",{id:e,class:"alert-message",innerHTML:z4(i)}):L("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:n,subHeader:i,message:r,htmlAttributes:o}=this,s=Re(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-msg"),c="alert-".concat(e,"-sub-hdr"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=n&&i?"".concat(a," ").concat(c):n?a:i?c:null;return L(tt,{key:"f8ee04fe6a97a2585b302c8e1a9eea3b122e3479",tabindex:"-1",style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},or(this.cssClass)),{[s]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap},L("ion-backdrop",{key:"e9592e879f51c27ef20016beec12c986be632cf3",tappable:this.backdropDismiss}),L("div",{key:"5e9425c3c8acdea6f8006389689c73220e2ce423",tabindex:"0","aria-hidden":"true"}),L("div",Object.assign({key:"615465703e357619681fc36ed7276591a6fe3787",class:"alert-wrapper ion-overlay-wrapper",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":r!==void 0?l:null,tabindex:"0",ref:h=>this.wrapperEl=h},o),L("div",{key:"934eba3759456cd4660e10f274edc7859f908461",class:"alert-head"},n&&L("h2",{key:"7d5d98d71f81f59a2cba227121b6fa01e6cc53b6",id:a,class:"alert-title"},n),i&&!n&&L("h2",{key:"e5f5d35748c58a98ee933eb15cb1dcaf8113e9a7",id:c,class:"alert-sub-title"},i),i&&n&&L("h3",{key:"a5cb89ca02bfa9c4828e694cb0835493a9088b05",id:c,class:"alert-sub-title"},i)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),L("div",{key:"cacffc31c911882df73e6845d15c8bb2d4acab56",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:kQ,md:CQ}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),R$=t=>{var e,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((n=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&n!==void 0?n:t.disabled)||!1},or(t.cssClass)),or(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))},TQ=t=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(t.role)]:t.role!==void 0},or(t.cssClass));function GR(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,EQ);break;case"ion-backdrop":customElements.get(e)||Vu();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IQ=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',$Q=IQ,_Q=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',AQ=_Q,qR=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=p$,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);o[l]||(s=!0),r[l]=!0}}),!s&&Object.keys(r).length!==Object.keys(o).length&&(s=!0),s&&(this.itemStyles.set(n,r),qi(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=la(this.el,["aria-label"])}componentDidLoad(){yi(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:i,labelColorStyles:r,lines:o,disabled:s,href:a,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:f}=this,p={},m=Re(this),b=this.isClickable(),g=this.canActivate(),x=b?a===void 0?"button":"a":"div",y=x==="button"?{type:this.type}:{download:i,href:a,rel:l,target:c};let v={};const w=this.getFirstInteractive();(b||w!==void 0&&!f)&&(v={onClick:_=>{if(b&&$1(a,_,d,u),w!==void 0&&!f){const D=_.composedPath()[0];_.isTrusted&&this.el.shadowRoot.contains(D)&&((w.tagName==="ION-INPUT"||w.tagName==="ION-TEXTAREA")&&w.setFocus(),w.click(),_.stopImmediatePropagation())}}});const E=e!==void 0?e:m==="ios"&&b;this.itemStyles.forEach(_=>{Object.assign(p,_)});const C=s||p["item-interactive-disabled"]?"true":null,I=Rn("ion-list",this.el)&&!Rn("ion-radio-group",this.el),T=w!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return L(tt,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":C,class:Object.assign(Object.assign(Object.assign({},p),r),Kt(this.color,{item:!0,[m]:!0,"item-lines-default":o===void 0,["item-lines-".concat(o)]:o!==void 0,"item-control-needs-pointer-cursor":T,"item-disabled":s,"in-list":I,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:I?"listitem":null},L(x,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},y,h,{class:"item-native",part:"native",disabled:s},v),L("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),L("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},L("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},L("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),L("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),E&&L("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===p$})),g&&m==="md"&&L("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:$Q,md:AQ}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function Z4(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,qR);break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kx="ionKeyboardDidShow",XR="ionKeyboardDidHide",NQ=150;let Sx={},Fa={},Jh=!1;const OQ=()=>{Sx={},Fa={},Jh=!1},DQ=t=>{if(RR.getEngine())RQ(t);else{if(!t.visualViewport)return;Fa=tC(t.visualViewport),t.visualViewport.onresize=()=>{ZR(t),KR()||YR(t)?J4(t):eC(t)&&Q4(t)}}},RQ=t=>{t.addEventListener("keyboardDidShow",e=>J4(t,e)),t.addEventListener("keyboardDidHide",()=>Q4(t))},J4=(t,e)=>{LQ(t,e),Jh=!0},Q4=t=>{zQ(t),Jh=!1},KR=()=>{const t=(Sx.height-Fa.height)*Fa.scale;return!Jh&&Sx.width===Fa.width&&t>NQ},YR=t=>Jh&&!eC(t),eC=t=>Jh&&Fa.height===t.innerHeight,LQ=(t,e)=>{const n=e?e.keyboardHeight:t.innerHeight-Fa.height,i=new CustomEvent(kx,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},zQ=t=>{const e=new CustomEvent(XR);t.dispatchEvent(e)},ZR=t=>{Sx=Object.assign({},Fa),Fa=tC(t.visualViewport)},tC=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),FQ=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:XR,KEYBOARD_DID_OPEN:kx,copyVisualViewport:tC,keyboardDidClose:eC,keyboardDidOpen:KR,keyboardDidResize:YR,resetKeyboardAssist:OQ,setKeyboardClose:Q4,setKeyboardOpen:J4,startKeyboardAssist:DQ,trackViewportChanges:ZR},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ch;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Ch||(Ch={}));const nC={getEngine(){const t=bx();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return Ch.Default;const{style:e}=await t.getInfo();return e}},u3=(t,e)=>{if(e===1)return 0;const n=1/(1-e),i=-(e*n);return t*n+i},JR=()=>{!Gt||Gt.innerWidth>=768||nC.setStyle({style:Ch.Dark})},d3=(t=Ch.Default)=>{!Gt||Gt.innerWidth>=768||nC.setStyle({style:t})},QR=async(t,e)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,La)||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},h3=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,Cx={MIN_PRESENTING_SCALE:.915},MQ=(t,e,n,i)=>{const o=t.offsetHeight;let s=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const f=()=>l&&Ys(l)?l.scrollY:!0,x=Am({el:t,gestureName:"modalSwipeToClose",gesturePriority:bR,direction:"y",threshold:10,canStart:y=>{const v=y.event.target;return v===null||!v.closest?!0:(l=yx(v),l?(Ys(l)?c=jn(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):v.closest("ion-footer")===null)},onStart:y=>{const{deltaY:v}=y;d=f(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,v>0&&l&&o3(l),e.progressStart(!0,s?1:0)},onMove:y=>{const{deltaY:v}=y;v>0&&l&&o3(l);const w=y.deltaY/o,E=w>=0&&a,C=E?u:.9999,I=E?h3(w/C):w,T=Wi(1e-4,I,C);e.progressStep(T),T>=.5&&h<.5?d3(n):T<.5&&h>=.5&&JR(),h=T},onEnd:y=>{const v=y.velocityY,w=y.deltaY/o,E=w>=0&&a,C=E?u:.9999,I=E?h3(w/C):w,T=Wi(1e-4,I,C),_=(y.deltaY+v*1e3)/o,M=!E&&_>=.5;let D=M?-.001:.001;M?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),D+=xu([0,0],[.32,.72],[0,1],[1,1],T)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),D+=xu([0,0],[1,0],[.68,.28],[1,1],T)[0]);const z=L$(M?w*o:(1-T)*o,v);s=M,x.enable(!1),l&&DR(l,d),e.onFinish(()=>{M||x.enable(!0)}).progressEnd(M?1:0,D,z),E&&T>C/4?QR(t,e):M&&i()}});return x},L$=(t,e)=>Wi(400,t/Math.abs(e*1.1),500),e7=t=>{const{currentBreakpoint:e,backdropBreakpoint:n,expandToScroll:i}=t,r=n===void 0||n<e,o=r?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",s=Le("backdropAnimation").fromTo("opacity",0,o);r&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const a=Le("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),l=i?void 0:Le("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:"".concat((1-e)*100,"%")},{offset:1,opacity:1,maxHeight:"".concat(e*100,"%")}]);return{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}},t7=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i="calc(var(--backdrop-opacity) * ".concat(u3(e,n),")"),r=[{offset:0,opacity:i},{offset:1,opacity:0}],o=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],s=Le("backdropAnimation").keyframes(n!==0?o:r);return{wrapperAnimation:Le("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},PQ=()=>{const t=Le().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Le().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},z$=(t,e)=>{const{presentingEl:n,currentBreakpoint:i,expandToScroll:r}=e,o=jn(t),{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}=i!==void 0?e7(e):PQ();a.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!r&&(l==null||l.addElement(t.querySelector(".ion-page")));const c=Le("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([s]).beforeAddWrite(()=>{if(r)return;const u=t.querySelector("ion-footer"),d=t.shadowRoot.querySelector("ion-footer");if(u&&!d){const h=u.clientHeight,f=u.cloneNode(!0);t.shadowRoot.appendChild(f),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(h,"px"))}});if(l&&c.addAnimation(l),n){const u=window.innerWidth<768,d=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,h=jn(n),f=Le().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=Cx.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");f.afterStyles({transform:x}).beforeAddWrite(()=>p.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"}]),c.addAnimation(f)}else if(c.addAnimation(a),!d)s.fromTo("opacity","0","1");else{const m=d?Cx.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.afterStyles({transform:b}).addElement(h.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=Le().afterStyles({transform:b}).addElement(h.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);c.addAnimation([f,g])}}else c.addAnimation(a);return c},BQ=()=>{const t=Le().fromTo("opacity","var(--backdrop-opacity)",0),e=Le().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},F$=(t,e,n=500)=>{const{presentingEl:i,currentBreakpoint:r,expandToScroll:o}=e,s=jn(t),{wrapperAnimation:a,backdropAnimation:l}=r!==void 0?t7(e):BQ();l.addElement(s.querySelector("ion-backdrop")),a.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const c=Le("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(a).beforeAddWrite(()=>{if(o)return;const u=t.querySelector("ion-footer");if(u){const d=t.shadowRoot.querySelector("ion-footer");u.style.removeProperty("display"),u.removeAttribute("aria-hidden"),d.style.setProperty("display","none"),d.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(i){const u=window.innerWidth<768,d=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,h=jn(i),f=Le().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(m=>{if(m!==1)return;i.style.setProperty("overflow",""),Array.from(p.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(g=>g.presentingElement!==void 0).length<=1&&p.style.setProperty("background-color","")}),p=document.body;if(u){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=d?"-10px":m,g=Cx.MIN_PRESENTING_SCALE,x="translateY(".concat(b,") scale(").concat(g,")");f.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:x,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(f)}else if(c.addAnimation(l),!d)a.fromTo("opacity","1","0");else{const m=d?Cx.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");f.addElement(h.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:b},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const g=Le().addElement(h.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:b},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([f,g])}}else c.addAnimation(l);return c},jQ=()=>{const t=Le().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Le().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},UQ=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,r=jn(t),{wrapperAnimation:o,backdropAnimation:s,contentAnimation:a}=n!==void 0?e7(e):jQ();s.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),i&&(a==null||a.addElement(t.querySelector(".ion-page")));const l=Le().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,o]).beforeAddWrite(()=>{if(i)return;const c=t.querySelector("ion-footer"),u=t.shadowRoot.querySelector("ion-footer");if(c&&!u){const d=c.clientHeight,h=c.cloneNode(!0);t.shadowRoot.appendChild(h),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom","".concat(d,"px"))}});return a&&l.addAnimation(a),l},VQ=()=>{const t=Le().fromTo("opacity","var(--backdrop-opacity)",0),e=Le().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},HQ=(t,e)=>{const{currentBreakpoint:n,expandToScroll:i}=e,r=jn(t),{wrapperAnimation:o,backdropAnimation:s}=n!==void 0?t7(e):VQ();return s.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),Le().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,o]).beforeAddWrite(()=>{if(i)return;const l=t.querySelector("ion-footer");if(l){const c=t.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),c.style.setProperty("display","none"),c.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},WQ=(t,e,n,i,r,o,s=[],a,l,c,u)=>{const d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],h=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}],f={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:r!==0?h:d,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},p=t.querySelector("ion-content"),m=n.clientHeight;let b=i,g=0,x=!1,y=null;const v=.95,w=s[s.length-1],E=s[0],C=o.childAnimations.find(B=>B.id==="wrapperAnimation"),I=o.childAnimations.find(B=>B.id==="backdropAnimation"),T=o.childAnimations.find(B=>B.id==="contentAnimation"),_=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(Gp)},M=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(Gp)},D=B=>{const K=t.querySelector("ion-footer");if(!K)return;const q=n.nextElementSibling,G=B==="original"?q:K,le=B==="original"?K:q;le.style.removeProperty("display"),le.removeAttribute("aria-hidden");const oe=t.querySelector(".ion-page");if(B==="original")oe.style.removeProperty("padding-bottom");else{const re=le.clientHeight;oe.style.setProperty("padding-bottom","".concat(re,"px"))}G.style.setProperty("display","none"),G.setAttribute("aria-hidden","true")};C&&I&&(C.keyframes([...f.WRAPPER_KEYFRAMES]),I.keyframes([...f.BACKDROP_KEYFRAMES]),T==null||T.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-b),b>r?_():M()),p&&b!==w&&a&&(p.scrollY=!1);const z=B=>{const K=yx(B.event.target);if(b=l(),!a&&K)return(Ys(K)?jn(K).querySelector(".inner-scroll"):K).scrollTop===0;if(b===1&&K){const q=Ys(K)?jn(K).querySelector(".inner-scroll"):K;return!!!K.querySelector("ion-refresher")&&q.scrollTop===0}return!0},$=B=>{if(x=t.canDismiss!==void 0&&t.canDismiss!==!0&&E===0,!a){const K=yx(B.event.target);y=K&&Ys(K)?jn(K).querySelector(".inner-scroll"):K}a||D("original"),B.deltaY>0&&p&&(p.scrollY=!1),yi(()=>{t.focus()}),o.progressStart(!0,1-b)},F=B=>{if(!a&&B.deltaY<=0&&y)return;B.deltaY>0&&p&&(p.scrollY=!1);const K=1-b,q=s.length>1?1-s[1]:void 0,G=K+B.deltaY/m,le=q!==void 0&&G>=q&&x,oe=le?v:.9999,re=le&&q!==void 0?q+h3((G-q)/(oe-q)):G;g=Wi(1e-4,re,oe),o.progressStep(g)},j=B=>{if(!a&&B.deltaY<=0&&y&&y.scrollTop>0)return;const K=B.velocityY,q=(B.deltaY+K*350)/m,G=b-q,le=s.reduce((oe,re)=>Math.abs(re-G)<Math.abs(oe-G)?re:oe);W({breakpoint:le,breakpointOffset:g,canDismiss:x,animated:!0})},W=B=>{const{breakpoint:K,canDismiss:q,breakpointOffset:G,animated:le}=B,oe=q&&K===0,re=oe?b:K,we=re!==0;return b=0,C&&I&&(C.keyframes([{offset:0,transform:"translateY(".concat(G*100,"%)")},{offset:1,transform:"translateY(".concat((1-re)*100,"%)")}]),I.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(u3(1-G,r),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(u3(re,r),")")}]),T&&T.keyframes([{offset:0,maxHeight:"".concat((1-G)*100,"%")},{offset:1,maxHeight:"".concat(re*100,"%")}]),o.progressStep(0)),V.enable(!1),!a&&we&&D("cloned"),oe?QR(t,o):we||c(),p&&(re===s[s.length-1]||!a)&&(p.scrollY=!0),new Promise(_e=>{o.onFinish(()=>{we?C&&I?yi(()=>{C.keyframes([...f.WRAPPER_KEYFRAMES]),I.keyframes([...f.BACKDROP_KEYFRAMES]),T==null||T.keyframes([...f.CONTENT_KEYFRAMES]),o.progressStart(!0,1-re),b=re,u(b),b>r?_():M(),V.enable(!0),_e()}):(V.enable(!0),_e()):_e()},{oneTimeCallback:!0}).progressEnd(1,0,le?500:0)})},V=Am({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:z,onStart:$,onMove:F,onEnd:j});return{gesture:V,moveSheetToBreakpoint:W}},GQ=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',qQ=GQ,XQ=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',KQ=XQ,YQ=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionModalDidPresent",7),this.willPresent=ke(this,"ionModalWillPresent",7),this.willDismiss=ke(this,"ionModalWillDismiss",7),this.didDismiss=ke(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ke(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.ionMount=ke(this,"ionMount",7),this.lockController=Hu(),this.triggerController=Rm(),this.coreDelegate=B4(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,na)},this.onLifecycle=e=>{const n=this.usersElement,i=ZQ[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,i)=>n-i))}connectedCallback(){const{el:e}=this;Xh(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:n,initialBreakpoint:i,el:r,htmlAttributes:o}=this,s=this.isSheetModal=n!==void 0&&i!==void 0,a=["aria-label","role"];this.inheritedAttributes=la(r,a),o!==void 0&&a.forEach(l=>{o[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:o[l]}),delete o[l])}),s&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&i!==void 0&&!n.includes(i)&&pn("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Kh(this.el)}componentDidLoad(){this.isOpen===!0&&yi(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async checkCanDismiss(e,n){const{canDismiss:i}=this;return typeof i=="function"?i(e,n):i}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:n,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:r,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Nm(o,i,this.component,["ion-page"],this.componentProps,r),Hp(i)?await Wp(this.usersElement):this.keepContentsMounted||await iR(),Hr(()=>this.el.classList.add("show-modal"));const s=n!==void 0;s&&Re(this)==="ios"&&(this.statusBarStyle=await nC.getStyle(),JR()),await Yh(this,"modalEnter",z$,UQ,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),yi(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(kx,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(Re(this)!=="ios")return;const{el:n}=this,i=this.leaveAnimation||st.get("modalLeave",F$),r=this.animation=i(n,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!xx(n)){vx(n);return}const s=(e=this.statusBarStyle)!==null&&e!==void 0?e:Ch.Default;this.gesture=MQ(n,r,s,()=>{this.gestureAnimationDismissing=!0,d3(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,La),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:i}=this;if(!e||n===void 0)return;const r=this.enterAnimation||st.get("modalEnter",z$),o=this.animation=r(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:i,expandToScroll:this.expandToScroll});o.progressStart(!0,1);const{gesture:s,moveSheetToBreakpoint:a}=WQ(this.el,this.backdropEl,e,n,i,o,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=s,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,La),this.gestureAnimationDismissing=!1})}async dismiss(e,n){var i;if(this.gestureAnimationDismissing&&n!==La)return!1;const r=await this.lockController.lock();if(n!=="handler"&&!await this.checkCanDismiss(e,n))return r(),!1;const{presentingElement:o}=this;o!==void 0&&Re(this)==="ios"&&d3(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(kx,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const a=await Zh(this,e,n,"modalLeave",F$,HQ,{presentingEl:o,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(a){const{delegate:l}=this.getDelegate();await P4(l,this.usersElement),Hr(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,r(),a}onDidDismiss(){return ns(this.el,"ionModalDidDismiss")}onWillDismiss(){return ns(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){pn("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){pn("[ion-modal] - Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:i,canDismiss:r,breakpoints:o,animated:s}=this;n!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-n,canDismiss:r!==void 0&&r!==!0&&o[0]===0,animated:s}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;const i=e.filter(a=>a!==0),o=(i.indexOf(n)+1)%i.length,s=i[o];return await this.setCurrentBreakpoint(s),!0}render(){const{handle:e,isSheetModal:n,presentingElement:i,htmlAttributes:r,handleBehavior:o,inheritedAttributes:s,focusTrap:a,expandToScroll:l}=this,c=e!==!1&&n,u=Re(this),d=i!==void 0&&u==="ios",h=o==="cycle";return L(tt,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},r,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[u]:!0,"modal-default":!d&&!n,"modal-card":d,"modal-sheet":n,"modal-no-expand-scroll":n&&!l,"overlay-hidden":!0,[Gp]:a===!1},or(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),L("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:f=>this.backdropEl=f,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),u==="ios"&&L("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),L("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},s,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:f=>this.wrapperEl=f}),c&&L("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:h?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:h?this.onHandleClick:void 0,part:"handle"}),L("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:qQ,md:KQ}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),ZQ={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function n7(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,YQ);break;case"ion-backdrop":customElements.get(e)||Vu();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JQ=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",QQ=JQ,eee=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",tee=eee,nee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ke(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=Re(this),n=this.getSize();return L(tt,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:Kt(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},L("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},L("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:QQ,md:tee}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function iC(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,nee);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iee=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",ree=iee,oee=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",see=oee,aee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(o=>o.slot==="end")||i.find(o=>o.slot==="primary")||i.find(o=>o.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==o[l]&&(s=!0),c&&(r[l]=!0)}),s&&(this.childrenStyles.set(n,r),qi(this))}render(){const e=Re(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),L(tt,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),Kt(this.color,{[e]:!0,"in-toolbar":Rn("ion-toolbar",this.el)}))},L("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),L("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},L("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),L("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),L("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},L("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),L("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),L("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:ree,md:see}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function rC(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,aee);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lee=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",cee=lee,uee='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',dee=uee,hee=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",fee=hee,pee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(o=>o.checked).map(o=>o.value);const r=e?this.findOptionFromEvent(e):null;return r?r.value:void 0}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&au(n.handler,i)}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(n=>n.checked).map(n=>n.value)[0];return L("ion-radio-group",{value:e,onIonChange:n=>this.callOptionHandler(n)},this.options.map(n=>L("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":n.value===e},or(n.cssClass))},L("ion-radio",{value:n.value,disabled:n.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:i=>{i.key===" "&&this.closeModal()}},n.text))))}renderCheckboxOptions(){return this.options.map(e=>L("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},or(e.cssClass))},L("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:n=>{this.setChecked(n),this.callOptionHandler(n),qi(this)}},e.text)))}render(){return L(tt,{key:"885198a9f21884e3bfb9bf0af53e0ee3ae37b231",class:Re(this)},L("ion-header",{key:"d8b63726869747ac711e4fda78a50ce46f72970c"},L("ion-toolbar",{key:"9ab2a4c1480dd74eeae38d7b580a2e87fb71270e"},this.header!==void 0&&L("ion-title",{key:"87a7034385ef57f55cefdd0371dbb66a64827290"},this.header),L("ion-buttons",{key:"0a35424ea13ca002abc9a43b6138730254f187d0",slot:"end"},L("ion-button",{key:"238bf40b47128d9aa995d14d9ff9ebcae4f79492",onClick:()=>this.closeModal()},"Close")))),L("ion-content",{key:"4a256f3381f8cabbc7194337b8ae4aa1c3ab1066"},L("ion-list",{key:"acd38fc52024632176467ed6a84106a454021544"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:cee,ios:dee,md:fee}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function mee(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,pee);break;case"ion-button":customElements.get(e)||H4();break;case"ion-buttons":customElements.get(e)||j4();break;case"ion-checkbox":customElements.get(e)||U4();break;case"ion-content":customElements.get(e)||V4();break;case"ion-header":customElements.get(e)||G4();break;case"ion-icon":customElements.get(e)||ss();break;case"ion-item":customElements.get(e)||Z4();break;case"ion-list":customElements.get(e)||O1();break;case"ion-radio":customElements.get(e)||K4();break;case"ion-radio-group":customElements.get(e)||Y4();break;case"ion-ripple-effect":customElements.get(e)||as();break;case"ion-title":customElements.get(e)||iC();break;case"ion-toolbar":customElements.get(e)||rC();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gee=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",bee=gee,xee=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",yee=xee,vee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&au(n.handler,i)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(o=>o.checked).map(o=>o.value);const r=this.findOptionFromEvent(e);return r?r.value:void 0}renderOptions(e){const{multiple:n}=this;switch(n){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(n=>L("ion-item",{class:Object.assign({"item-checkbox-checked":n.checked},or(n.cssClass))},L("ion-checkbox",{value:n.value,disabled:n.disabled,checked:n.checked,justify:"start",labelPlacement:"end",onIonChange:i=>{this.setChecked(i),this.callOptionHandler(i),qi(this)}},n.text)))}renderRadioOptions(e){const n=e.filter(i=>i.checked).map(i=>i.value)[0];return L("ion-radio-group",{value:n,onIonChange:i=>this.callOptionHandler(i)},e.map(i=>L("ion-item",{class:Object.assign({"item-radio-checked":i.value===n},or(i.cssClass))},L("ion-radio",{value:i.value,disabled:i.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:r=>{r.key===" "&&this.dismissParentPopover()}},i.text))))}render(){const{header:e,message:n,options:i,subHeader:r}=this,o=r!==void 0||n!==void 0;return L(tt,{key:"542367ab8fb72bfebf7e65630b91017d68827fd6",class:Re(this)},L("ion-list",{key:"f2f0f37e1365cd7780b02de1a1698700d0df48a7"},e!==void 0&&L("ion-list-header",{key:"4b8800a68e800f19277a44b7074ca24b70218daf"},e),o&&L("ion-item",{key:"932b7903daf97d5a57d289b7ee49e868bb9b0cf5"},L("ion-label",{key:"fc3f1b69aa2a0bc6125d35692dcad3a8a99fd160",class:"ion-text-wrap"},r!==void 0&&L("h3",{key:"eceab2f47afa95f04b138342b0bdbfa1f50919a8"},r),n!==void 0&&L("p",{key:"70f4e27ad1316318efd0c17efce31e5e45c8fa02"},n))),this.renderOptions(i)))}get el(){return this}static get style(){return{ios:bee,md:yee}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function wee(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,vee);break;case"ion-checkbox":customElements.get(e)||U4();break;case"ion-icon":customElements.get(e)||ss();break;case"ion-item":customElements.get(e)||Z4();break;case"ion-label":customElements.get(e)||X4();break;case"ion-list":customElements.get(e)||O1();break;case"ion-list-header":customElements.get(e)||BR();break;case"ion-radio":customElements.get(e)||K4();break;case"ion-radio-group":customElements.get(e)||Y4();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kee=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",See=kee,Cee=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.has-focus) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.select-bottom{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}:host(.has-focus.ion-valid),:host(.select-expanded.ion-valid),:host(.ion-touched.ion-invalid),:host(.select-expanded.ion-touched.ion-invalid){--border-color:var(--highlight-color)}.select-bottom .error-text{display:none;color:var(--highlight-color-invalid)}.select-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .select-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .select-bottom .helper-text{display:none}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-focus.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.select-expanded.select-fill-solid.ion-valid),:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.has-focus){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.in-item.select-expanded.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-solid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-solid) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.has-focus){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host(.in-item.select-expanded.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid.select-fill-outline) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid.select-fill-outline) .select-wrapper .select-icon{color:var(--highlight-color)}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.has-focus) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.has-focus) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.has-focus) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.in-item.select-expanded) .select-wrapper .select-icon,:host(.in-item.has-focus) .select-wrapper .select-icon,:host(.in-item.has-focus.ion-valid) .select-wrapper .select-icon,:host(.in-item.ion-touched.ion-invalid) .select-wrapper .select-icon{color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.has-focus) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",Eee=Cee,Tee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionCancel=ke(this,"ionCancel",7),this.ionDismiss=ke(this,"ionDismiss",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.ionStyle=ke(this,"ionStyle",7),this.inputId="ion-sel-".concat(_ee++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.onClick=e=>{const n=e.target,i=n.closest('[slot="start"], [slot="end"]');n===this.el||i===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.hasFocus=!0,this.ionFocus.emit()},this.onBlur=()=>{this.hasFocus=!1,this.ionBlur.emit()},this.isExpanded=!1,this.hasFocus=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.errorText=void 0,this.helperText=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0,this.required=!1}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=q4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=mZ(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),qi(this)})}componentWillLoad(){this.inheritedAttributes=la(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const n=this.overlay=await this.createOverlay(e),i=()=>{const r=this.childOpts.findIndex(o=>o.value===this.value);if(r>-1){const o=n.querySelector(".select-interface-option:nth-child(".concat(r+1,")"));if(o){const s=o.querySelector("ion-radio, ion-checkbox");s&&(o.scrollIntoView({block:"nearest"}),s.setFocus()),hx(o)}}else{const o=n.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");o&&(o.setFocus(),hx(o.closest("ion-item")))}};if(this.interface==="modal")n.addEventListener("ionModalWillPresent",i,{once:!0});else if(this.interface==="popover")n.addEventListener("ionPopoverWillPresent",i,{once:!0});else{const r=()=>{requestAnimationFrame(()=>{i()})};this.interface==="alert"?n.addEventListener("ionAlertWillPresent",r,{once:!0}):this.interface==="action-sheet"&&n.addEventListener("ionActionSheetWillPresent",r,{once:!0})}return n.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await n.present(),n}createOverlay(e){let n=this.interface;return n==="action-sheet"&&this.multiple&&(pn('[ion-select] - Interface cannot be "'.concat(n,'" with a multi-value select. Using the "alert" interface instead.')),n="alert"),n==="popover"&&!e&&(pn('[ion-select] - Interface cannot be a "'.concat(n,'" without passing an event. Using the "alert" interface instead.')),n="alert"),n==="action-sheet"?this.openActionSheet():n==="popover"?this.openPopover(e):n==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const n=this.childOpts,i=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(n,i);break;case"popover":const r=e.querySelector("ion-select-popover");r&&(r.options=this.createOverlaySelectOptions(n,i));break;case"modal":const o=e.querySelector("ion-select-modal");o&&(o.options=this.createOverlaySelectOptions(n,i));break;case"alert":const s=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(n,s,i);break}}createActionSheetButtons(e,n){const i=e.map(r=>{const o=Cb(r),s=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(d2," ").concat(s);return{role:Sb(n,o,this.compareWith)?"selected":"",text:r.textContent,cssClass:a,handler:()=>{this.setValue(o)}}});return i.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),i}createAlertInputs(e,n,i){return e.map(o=>{const s=Cb(o),a=Array.from(o.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(d2," ").concat(a);return{type:n,cssClass:l,label:o.textContent||"",value:s,checked:Sb(i,s,this.compareWith),disabled:o.disabled}})}createOverlaySelectOptions(e,n){return e.map(r=>{const o=Cb(r),s=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(d2," ").concat(s);return{text:r.textContent||"",cssClass:a,value:o,checked:Sb(n,o,this.compareWith),disabled:r.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:n,labelPlacement:i}=this,r=this.interfaceOptions,o=Re(this),s=o!=="md",a=this.multiple,l=this.value;let c=e,u="auto";i==="floating"||i==="stacked"||o==="md"&&n!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:o,event:c,alignment:"center",size:u,showBackdrop:s},r),{component:"ion-select-popover",cssClass:["select-popover",r.cssClass],componentProps:{header:r.header,subHeader:r.subHeader,message:r.message,multiple:a,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return Tq.create(h)}async openActionSheet(){const e=Re(this),n=this.interfaceOptions,i=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]});return Cq.create(i)}async openAlert(){const e=this.interfaceOptions,n=this.multiple?"checkbox":"radio",i=Re(this),r=Object.assign(Object.assign({mode:i},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,n,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:o=>{this.setValue(o)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return Sq.create(r)}openModal(){const{multiple:e,value:n,interfaceOptions:i}=this,r=Re(this),o=Object.assign(Object.assign({},i),{mode:r,cssClass:["select-modal",i.cssClass],component:"ion-select-modal",componentProps:{header:i.header,multiple:e,value:n,options:this.createOverlaySelectOptions(this.childOpts,n)}});return Eq.create(o)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:n}=this;if(n!==null)return n.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:$ee(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,n={"interactive-disabled":e};this.ionStyle.emit(n)}renderLabel(){const{label:e}=this;return L("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?L("slot",{name:"label"}):L("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Re(this)==="md"&&this.fill==="outline"?[L("div",{class:"select-outline-container"},L("div",{class:"select-outline-start"}),L("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},L("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),L("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,n=this.getText();let i=!1,r=n;return r===""&&e!==void 0&&(r=e,i=!0),L("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":i},part:i?"placeholder":"text"},r)}renderSelectIcon(){const e=Re(this),{isExpanded:n,toggleIcon:i,expandedIcon:r}=this;let o;if(n&&r!==void 0)o=r;else{const s=e==="ios"?Uq:Pq;o=i!=null?i:s}return L("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:o})}get ariaLabel(){var e;const{placeholder:n,inheritedAttributes:i}=this,r=this.getText(),o=(e=i["aria-label"])!==null&&e!==void 0?e:this.labelText;let s=r;return s===""&&n!==void 0&&(s=n),o!==void 0&&(s=s===""?o:"".concat(o,", ").concat(s)),s}renderListbox(){const{disabled:e,inputId:n,isExpanded:i,required:r}=this;return L("button",{disabled:e,id:n,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId,"aria-required":"".concat(r),onFocus:this.onFocus,onBlur:this.onBlur,ref:o=>this.focusEl=o})}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;return[L("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),L("div",{id:r,class:"error-text",part:"supporting-text error-text"},n)]}renderBottomContent(){const{helperText:e,errorText:n}=this;if(e||n)return L("div",{class:"select-bottom"},this.renderHintText())}render(){const{disabled:e,el:n,isExpanded:i,expandedIcon:r,labelPlacement:o,justify:s,placeholder:a,fill:l,shape:c,name:u,value:d,hasFocus:h}=this,f=Re(this),p=o==="floating"||o==="stacked",m=!p&&s!==void 0,b=za(n)?"rtl":"ltr",g=Rn("ion-item",this.el),x=f==="md"&&l!=="outline"&&!g,y=this.hasValue(),v=n.querySelector('[slot="start"], [slot="end"]')!==null;_m(!0,n,u,Iee(d),e);const w=o==="stacked"||o==="floating"&&(y||i||v);return L(tt,{key:"e6c0498d6c275f89344f4b5146752a047058ad88",onClick:this.onClick,class:Kt(this.color,{[f]:!0,"in-item":g,"in-item-color":Rn("ion-item.ion-color",n),"select-disabled":e,"select-expanded":i,"has-expanded-icon":r!==void 0,"has-value":y,"label-floating":w,"has-placeholder":a!==void 0,"has-focus":h,"ion-focusable":!0,["select-".concat(b)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(s)]:m,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(o)]:!0})},L("label",{key:"f030b6bd329f8014c7227f5e5f1aeb7efa0e641a",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),L("div",{key:"7480e1b40d09e53a2942295d6c9dae474c9de810",class:"select-wrapper-inner"},L("slot",{key:"250fd2ff08b3e6ed04c7062455a044863481fe1c",name:"start"}),L("div",{key:"11b73ad5b7decfe2d307f9d54293c21c0df3ddb8",class:"native-wrapper",ref:E=>this.nativeWrapperEl=E,part:"container"},this.renderSelectText(),this.renderListbox()),L("slot",{key:"ddedafc89061372567bd46354ef972f08c60e19d",name:"end"}),!p&&this.renderSelectIcon()),p&&this.renderSelectIcon(),x&&L("div",{key:"792ce27aea18a0020c17dceb0f0e293171ded3a3",class:"select-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:See,md:Eee}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],errorText:[1,"error-text"],helperText:[1,"helper-text"],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],required:[4],isExpanded:[32],hasFocus:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),Cb=t=>{const e=t.value;return e===void 0?t.textContent||"":e},Iee=t=>{if(t!=null)return Array.isArray(t)?t.join(","):t.toString()},$ee=(t,e,n)=>e===void 0?"":Array.isArray(e)?e.map(i=>M$(t,i,n)).filter(i=>i!==null).join(", "):M$(t,e,n)||"",M$=(t,e,n)=>{const i=t.find(r=>c3(e,Cb(r),n));return i?i.textContent:null};let _ee=0;const d2="select-interface-option";function Aee(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,Tee);break;case"ion-action-sheet":customElements.get(e)||WR();break;case"ion-alert":customElements.get(e)||GR();break;case"ion-backdrop":customElements.get(e)||Vu();break;case"ion-button":customElements.get(e)||H4();break;case"ion-buttons":customElements.get(e)||j4();break;case"ion-checkbox":customElements.get(e)||U4();break;case"ion-content":customElements.get(e)||V4();break;case"ion-header":customElements.get(e)||G4();break;case"ion-icon":customElements.get(e)||ss();break;case"ion-item":customElements.get(e)||Z4();break;case"ion-label":customElements.get(e)||X4();break;case"ion-list":customElements.get(e)||O1();break;case"ion-list-header":customElements.get(e)||BR();break;case"ion-modal":customElements.get(e)||n7();break;case"ion-popover":customElements.get(e)||gY();break;case"ion-radio":customElements.get(e)||K4();break;case"ion-radio-group":customElements.get(e)||Y4();break;case"ion-ripple-effect":customElements.get(e)||as();break;case"ion-select-modal":customElements.get(e)||mee();break;case"ion-select-popover":customElements.get(e)||wee();break;case"ion-title":customElements.get(e)||iC();break;case"ion-toolbar":customElements.get(e)||rC();break}})}const Nee=Aee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oee=":host{display:none}",Dee=Oee,Ree=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat(Lee++),this.disabled=!1,this.value=void 0}render(){return L(tt,{key:"8c96c199ce3a3065de3fe446500f567236e0610a",role:"option",id:this.inputId,class:Re(this)})}get el(){return this}static get style(){return Dee}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let Lee=0;function zee(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,Ree);break}})}const Fee=zee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mee=FR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pee=":host(.tab-hidden){display:none !important}",Bee=Pee,jee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return Nm(this.delegate,this.el,this.component,["ion-page"])}catch(e){ts("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:i}=this;return L(tt,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":i===void 0,"tab-hidden":!n}},L("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return Bee}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function Uee(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,jee);break}})}const Vee=Uee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hee=":host(.ion-color){color:var(--ion-color-base)}",Wee=Hee,Gee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Re(this);return L(tt,{key:"0c2546ea3f24b0a6bfd606199441d0a4edfa4ca1",class:Kt(this.color,{[e]:!0})},L("slot",{key:"b7623ccb06f9461090a1f33e9f85886c7a4d5eff"}))}static get style(){return Wee}},[1,"ion-text",{color:[513]}]);function qee(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,Gee);break}})}const Xee=qee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kee='.sc-ion-textarea-ios-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-ios-h,.textarea-label-placement-stacked.sc-ion-textarea-ios-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-ios-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-ios-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-ios-h,ion-item .sc-ion-textarea-ios-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-ios-h,ion-item [slot=start].sc-ion-textarea-ios-h,ion-item[slot=end].sc-ion-textarea-ios-h,ion-item [slot=end].sc-ion-textarea-ios-h{width:auto}.native-textarea.sc-ion-textarea-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-ios::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-ios{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-ios{inset-inline-start:0}.cloned-input.sc-ion-textarea-ios:disabled{opacity:1}[auto-grow].sc-ion-textarea-ios-h .cloned-input.sc-ion-textarea-ios{height:100%}[auto-grow].sc-ion-textarea-ios-h .native-textarea.sc-ion-textarea-ios{overflow:hidden}.textarea-wrapper.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-ios{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-ios{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-ios::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-ios::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-ios{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-ios-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-ios-h,.ion-touched.ion-invalid.sc-ion-textarea-ios-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .error-text.sc-ion-textarea-ios{display:block}.ion-touched.ion-invalid.sc-ion-textarea-ios-h .textarea-bottom.sc-ion-textarea-ios .helper-text.sc-ion-textarea-ios{display:none}.textarea-bottom.sc-ion-textarea-ios .counter.sc-ion-textarea-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-ios{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-ios,.sc-ion-textarea-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-ios,.textarea-outline-notch-hidden.sc-ion-textarea-ios{display:none}.textarea-wrapper.sc-ion-textarea-ios textarea.sc-ion-textarea-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-ios-h .label-text.sc-ion-textarea-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .textarea-wrapper.sc-ion-textarea-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .sc-ion-textarea-ios-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-ios-h .native-wrapper.sc-ion-textarea-ios::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-stacked.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-stacked .sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-h.textarea-label-placement-floating.sc-ion-textarea-ios-s>[slot=end],.sc-ion-textarea-ios-h.textarea-label-placement-floating .sc-ion-textarea-ios-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios,.has-value.textarea-label-placement-floating.sc-ion-textarea-ios-h textarea.sc-ion-textarea-ios{opacity:1}.label-floating.sc-ion-textarea-ios-h .label-text-wrapper.sc-ion-textarea-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-ios,.end-slot-wrapper.sc-ion-textarea-ios{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-ios-s>[slot=start],.sc-ion-textarea-ios-s>[slot=end]{margin-top:0}.sc-ion-textarea-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-textarea-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--padding-top:10px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:0px;font-size:inherit}.textarea-disabled.sc-ion-textarea-ios-h{opacity:0.3}.sc-ion-textarea-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}',Yee=Kee,Zee='.sc-ion-textarea-md-h{--background:initial;--color:initial;--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0;--padding-end:0;--padding-bottom:8px;--padding-start:0;--border-radius:0;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}.textarea-label-placement-floating.sc-ion-textarea-md-h,.textarea-label-placement-stacked.sc-ion-textarea-md-h{--padding-top:0px;min-height:56px}[cols].sc-ion-textarea-md-h:not([auto-grow]){width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.ion-color.sc-ion-textarea-md-h{--highlight-color-focused:var(--ion-color-base);background:initial}ion-item.sc-ion-textarea-md-h,ion-item .sc-ion-textarea-md-h{-ms-flex-item-align:baseline;align-self:baseline}ion-item[slot=start].sc-ion-textarea-md-h,ion-item [slot=start].sc-ion-textarea-md-h,ion-item[slot=end].sc-ion-textarea-md-h,ion-item [slot=end].sc-ion-textarea-md-h{width:auto}.native-textarea.sc-ion-textarea-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;white-space:pre-wrap;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.native-textarea.sc-ion-textarea-md::-webkit-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-moz-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md:-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::-ms-input-placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md::placeholder{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-textarea.sc-ion-textarea-md{color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.cloned-input.sc-ion-textarea-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-textarea-md{inset-inline-start:0}.cloned-input.sc-ion-textarea-md:disabled{opacity:1}[auto-grow].sc-ion-textarea-md-h .cloned-input.sc-ion-textarea-md{height:100%}[auto-grow].sc-ion-textarea-md-h .native-textarea.sc-ion-textarea-md{overflow:hidden}.textarea-wrapper.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:0px;padding-bottom:0px;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:start;align-items:flex-start;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-textarea-md{position:relative;width:100%;height:100%}.has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--highlight-color)}.native-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom)}.native-wrapper.sc-ion-textarea-md{display:grid;min-width:inherit;max-width:inherit;min-height:inherit;max-height:inherit;grid-auto-rows:100%}.native-wrapper.sc-ion-textarea-md::after{white-space:pre-wrap;content:attr(data-replicated-value) " ";visibility:hidden}.native-wrapper.sc-ion-textarea-md::after{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-align:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;grid-area:1/1/2/2;word-break:break-word}.textarea-wrapper-inner.sc-ion-textarea-md{display:-ms-flexbox;display:flex;width:100%;min-height:inherit}.ion-touched.ion-invalid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-textarea-md-h{--highlight-color:var(--highlight-color-valid)}.textarea-bottom.sc-ion-textarea-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-textarea-md-h,.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:none;color:var(--highlight-color-invalid)}.textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .error-text.sc-ion-textarea-md{display:block}.ion-touched.ion-invalid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md .helper-text.sc-ion-textarea-md{display:none}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.label-text-wrapper.sc-ion-textarea-md{-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-textarea-md,.sc-ion-textarea-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-textarea-md,.textarea-outline-notch-hidden.sc-ion-textarea-md{display:none}.textarea-wrapper.sc-ion-textarea-md textarea.sc-ion-textarea-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.textarea-label-placement-start.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row;flex-direction:row}.textarea-label-placement-start.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-end.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.textarea-label-placement-end.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.textarea-label-placement-fixed.sc-ion-textarea-md-h .label-text.sc-ion-textarea-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.textarea-label-placement-stacked.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;-webkit-padding-start:0px;padding-inline-start:0px;-webkit-padding-end:0px;padding-inline-end:0px;padding-top:0px;padding-bottom:0px;max-width:100%;z-index:2}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:8px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:8px}.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:0}.has-focus.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.has-value.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{opacity:1}.label-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.start-slot-wrapper.sc-ion-textarea-md,.end-slot-wrapper.sc-ion-textarea-md{padding-left:0;padding-right:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:start}.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-s>[slot=end]{margin-top:0}.sc-ion-textarea-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-textarea-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.textarea-fill-solid.sc-ion-textarea-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.textarea-fill-solid.ion-valid.sc-ion-textarea-md-h,.textarea-fill-solid.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}@media (any-hover: hover){.textarea-fill-solid.sc-ion-textarea-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-solid.has-focus.sc-ion-textarea-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.textarea-fill-solid.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.textarea-fill-solid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{max-width:calc(100% / 0.75)}.textarea-fill-outline.sc-ion-textarea-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.textarea-fill-outline.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.textarea-fill-outline.ion-valid.sc-ion-textarea-md-h,.textarea-fill-outline.ion-touched.ion-invalid.sc-ion-textarea-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.textarea-fill-outline.sc-ion-textarea-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.textarea-fill-outline.has-focus.sc-ion-textarea-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-bottom.sc-ion-textarea-md{border-top:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-wrapper.sc-ion-textarea-md{border-bottom:none}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .sc-ion-textarea-md-h -no-combinator.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl].textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,[dir=rtl] .textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h:dir(rtl) .label-text-wrapper.sc-ion-textarea-md{-webkit-transform-origin:right top;transform-origin:right top}}.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{position:relative}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc(\n    (100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75\n  )}.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-h textarea.sc-ion-textarea-md,.textarea-fill-outline.textarea-label-placement-stacked[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after,.textarea-fill-outline.textarea-label-placement-floating[auto-grow].sc-ion-textarea-md-h .native-wrapper.sc-ion-textarea-md::after{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-top:12px;margin-bottom:0px}.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-stacked .sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=start],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating.sc-ion-textarea-md-s>[slot=end],.sc-ion-textarea-md-h.textarea-fill-outline.textarea-label-placement-floating .sc-ion-textarea-md-s>[slot=end]{margin-top:12px}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-container.sc-ion-textarea-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{pointer-events:none}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md,.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.textarea-fill-outline.sc-ion-textarea-md-h .notch-spacer.sc-ion-textarea-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-start.sc-ion-textarea-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-end.sc-ion-textarea-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.textarea-fill-outline.sc-ion-textarea-md-h .textarea-outline-notch.sc-ion-textarea-md{border-top:none}.sc-ion-textarea-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--padding-top:18px;--padding-end:0px;--padding-bottom:8px;--padding-start:0px;--highlight-height:2px;font-size:inherit}.textarea-bottom.sc-ion-textarea-md .counter.sc-ion-textarea-md{letter-spacing:0.0333333333em}.textarea-label-placement-floating.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.has-focus.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.has-focus.textarea-label-placement-floating.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-floating.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.has-focus.textarea-label-placement-stacked.ion-valid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md,.textarea-label-placement-stacked.ion-touched.ion-invalid.sc-ion-textarea-md-h .label-text-wrapper.sc-ion-textarea-md{color:var(--highlight-color)}.textarea-disabled.sc-ion-textarea-md-h{opacity:0.38}.textarea-highlight.sc-ion-textarea-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.has-focus.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{bottom:0}.in-item.sc-ion-textarea-md-h .textarea-highlight.sc-ion-textarea-md{inset-inline-start:0}.textarea-shape-round.sc-ion-textarea-md-h{--border-radius:16px}.sc-ion-textarea-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-textarea-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}',Jee=Zee,Qee=et(class extends Qe{constructor(){super(),this.__registerHost(),this.ionChange=ke(this,"ionChange",7),this.ionInput=ke(this,"ionInput",7),this.ionBlur=ke(this,"ionBlur",7),this.ionFocus=ke(this,"ionFocus",7),this.inputId="ion-textarea-".concat(ete++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.didTextareaClearOnEdit=!1,this.inheritedAttributes={},this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didTextareaClearOnEdit=!1,this.ionBlur.emit(e)},this.onKeyDown=e=>{this.checkClearOnEdit(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="none",this.autofocus=!1,this.clearOnEdit=!1,this.debounce=void 0,this.disabled=!1,this.fill=void 0,this.inputmode=void 0,this.enterkeyhint=void 0,this.maxlength=void 0,this.minlength=void 0,this.name=this.inputId,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.cols=void 0,this.rows=void 0,this.wrap=void 0,this.autoGrow=!1,this.value="",this.counter=!1,this.counterFormatter=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.shape=void 0}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:T1(e,n)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&(e.value=n),this.runAutoGrow()}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),qi(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}connectedCallback(){const{el:e}=this;this.slotMutationController=MR(e,["label","start","end"],()=>qi(this)),this.notchController=q4(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:e}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Os(this.el)),la(this.el,["data-form-type","title","tabindex","dir"]))}componentDidLoad(){this.originalIonInput=this.ionInput,this.runAutoGrow()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ts(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this;this.ionInput.emit({value:n,event:e})}runAutoGrow(){this.nativeInput&&this.autoGrow&&Hr(()=>{var e;this.textareaWrapper&&(this.textareaWrapper.dataset.replicatedValue=(e=this.value)!==null&&e!==void 0?e:"")})}checkClearOnEdit(e){if(!this.clearOnEdit)return;const i=["Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didTextareaClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didTextareaClearOnEdit=!0)}hasValue(){return this.getValue()!==""}getValue(){return this.value||""}renderLabel(){const{label:e}=this;return L("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?L("slot",{name:"label"}):L("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Re(this)==="md"&&this.fill==="outline"?[L("div",{class:"textarea-outline-container"},L("div",{class:"textarea-outline-start"}),L("div",{class:{"textarea-outline-notch":!0,"textarea-outline-notch-hidden":!this.hasLabel}},L("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),L("div",{class:"textarea-outline-end"})),this.renderLabel()]:this.renderLabel()}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;return[L("div",{id:i,class:"helper-text"},e),L("div",{id:r,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return L("div",{class:"counter"},PR(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return L("div",{class:"textarea-bottom"},this.renderHintText(),this.renderCounter())}render(){const{inputId:e,disabled:n,fill:i,shape:r,labelPlacement:o,el:s,hasFocus:a}=this,l=Re(this),c=this.getValue(),u=Rn("ion-item",this.el),d=l==="md"&&i!=="outline"&&!u,h=this.hasValue(),f=s.querySelector('[slot="start"], [slot="end"]')!==null,p=o==="stacked"||o==="floating"&&(h||a||f);return L(tt,{key:"f53b9060248d885b0b8639401871e52017e497db",class:Kt(this.color,{[l]:!0,"has-value":h,"has-focus":a,"label-floating":p,["textarea-fill-".concat(i)]:i!==void 0,["textarea-shape-".concat(r)]:r!==void 0,["textarea-label-placement-".concat(o)]:!0,"textarea-disabled":n})},L("label",{key:"3bc32a0799d1dd7253eb5a963877964de620ccd0",class:"textarea-wrapper",htmlFor:e},this.renderLabelContainer(),L("div",{key:"f5302723f4561b179b249cb28f5a31223c5c4394",class:"textarea-wrapper-inner"},L("div",{key:"75b85c5bd85af72a41da3310f10877a654397eaf",class:"start-slot-wrapper"},L("slot",{key:"7adc67b4c2917d20c35eecc11a5530e93bc581ea",name:"start"})),L("div",{key:"35cbeca046ec7a40bcbcbc4a70eb83628350ba54",class:"native-wrapper",ref:m=>this.textareaWrapper=m},L("textarea",Object.assign({key:"e3496262d163b70558a0188abdf322cbd8b44dfd",class:"native-textarea",ref:m=>this.nativeInput=m,id:e,disabled:n,autoCapitalize:this.autocapitalize,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,minLength:this.minlength,maxLength:this.maxlength,name:this.name,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,cols:this.cols,rows:this.rows,wrap:this.wrap,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes),c)),L("div",{key:"f274576d2e0bb6dace2ec36c362cb68ecfcd2c69",class:"end-slot-wrapper"},L("slot",{key:"70c881103410e74b3a3ffda4cc889be66f89bf20",name:"end"}))),d&&L("div",{key:"cf33a473dfb637d284acc2b62ca59c2839ee1104",class:"textarea-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:Yee,md:Jee}}},[38,"ion-textarea",{color:[513],autocapitalize:[1],autofocus:[4],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],fill:[1],inputmode:[1],enterkeyhint:[1],maxlength:[2],minlength:[2],name:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],cols:[514],rows:[2],wrap:[1],autoGrow:[516,"auto-grow"],value:[1025],counter:[4],counterFormatter:[16],errorText:[1,"error-text"],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],shape:[1],hasFocus:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],value:["valueChanged"],dir:["onDirChanged"]}]);let ete=0;function tte(){if(typeof customElements>"u")return;["ion-textarea"].forEach(e=>{switch(e){case"ion-textarea":customElements.get(e)||customElements.define(e,Qee);break}})}const nte=tte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ite=":host{--size:48px;--border-radius:0;border-radius:var(--border-radius);display:block;width:var(--size);height:var(--size)}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}",rte=ite,ote=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return L(tt,{key:"7f5fd6c056da2d82feb2c3c33f3e6dec898787f5",class:Re(this)},L("slot",{key:"d15fd2b6cdc03777edc1930be95ad838e1b376c8"}))}static get style(){return rte}},[1,"ion-thumbnail"]);function ste(){if(typeof customElements>"u")return;["ion-thumbnail"].forEach(e=>{switch(e){case"ion-thumbnail":customElements.get(e)||customElements.define(e,ote);break}})}const ate=ste;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lte=iC,cte=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--track-background-checked:var(--ion-color-primary, #0054e9);--border-radius:15.5px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 4px rgba(0, 0, 0, 0.06), 0 3px 8px rgba(0, 0, 0, 0.06);--handle-height:calc(31px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(31px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms}.native-wrapper .toggle-icon{width:51px;height:31px;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark, #222428)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}",ute=cte,dte=":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;max-width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}input{display:none}.toggle-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.toggle-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.toggle-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.toggle-bottom{padding-top:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:0.75rem;white-space:normal}:host(.toggle-label-placement-stacked) .toggle-bottom{font-size:1rem}.toggle-bottom .error-text{display:none;color:var(--ion-color-danger, #c5000f)}.toggle-bottom .helper-text{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}:host(.ion-touched.ion-invalid) .toggle-bottom .error-text{display:block}:host(.ion-touched.ion-invalid) .toggle-bottom .helper-text{display:none}:host(.toggle-label-placement-start) .toggle-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.toggle-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-end) .toggle-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:start}:host(.toggle-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.toggle-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.toggle-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.toggle-label-placement-stacked) .toggle-wrapper{-ms-flex-direction:column;flex-direction:column;text-align:center}:host(.toggle-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.toggle-label-placement-stacked.toggle-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).toggle-label-placement-stacked.toggle-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.toggle-label-placement-stacked.toggle-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.toggle-justify-space-between) .toggle-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.toggle-justify-start) .toggle-wrapper{-ms-flex-pack:start;justify-content:start}:host(.toggle-justify-end) .toggle-wrapper{-ms-flex-pack:end;justify-content:end}:host(.toggle-alignment-start) .toggle-wrapper{-ms-flex-align:start;align-items:start}:host(.toggle-alignment-center) .toggle-wrapper{-ms-flex-align:center;align-items:center}:host(.toggle-justify-space-between),:host(.toggle-justify-start),:host(.toggle-justify-end),:host(.toggle-alignment-start),:host(.toggle-alignment-center){display:block}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--track-background);overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--track-background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;left:var(--handle-spacing);width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--track-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--track-background-checked:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #0054e9);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1)}.native-wrapper .toggle-icon{width:36px;height:14px}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}:host(.toggle-disabled){opacity:0.38}",hte=dte,fte=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ke(this,"ionChange",7),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inputId="ion-tg-".concat(mte++),this.inputLabelId="".concat(this.inputId,"-lbl"),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.lastDrag=0,this.inheritedAttributes={},this.didLoad=!1,this.setupGesture=async()=>{const{toggleTrack:e}=this;e&&(this.gesture=(await fi(()=>Promise.resolve().then(()=>R4),void 0)).createGesture({el:e,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.disabledChanged())},this.onKeyDown=e=>{e.key===" "&&(e.preventDefault(),this.disabled||this.toggleChecked())},this.onClick=e=>{this.disabled||(e.preventDefault(),this.lastDrag+300<Date.now()&&this.toggleChecked())},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.getSwitchLabelIcon=(e,n)=>e==="md"?n?Bq:m$:n?m$:Vq,this.activated=!1,this.color=void 0,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.errorText=void 0,this.helperText=void 0,this.value="on",this.enableOnOffLabels=st.get("toggleOnOffLabels"),this.labelPlacement="start",this.justify=void 0,this.alignment=void 0,this.required=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}toggleChecked(){const{checked:e,value:n}=this,i=!e;this.checked=i,this.setFocus(),this.ionChange.emit({checked:i,value:n})}async connectedCallback(){this.didLoad&&this.setupGesture()}componentDidLoad(){this.setupGesture(),this.didLoad=!0}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Os(this.el))}onStart(){this.activated=!0,this.setFocus()}onMove(e){pte(za(this.el),this.checked,e.deltaX,-10)&&(this.toggleChecked(),BK())}onEnd(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.focusEl&&this.focusEl.focus()}renderOnOffSwitchLabels(e,n){const i=this.getSwitchLabelIcon(e,n);return L("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":n},icon:i,"aria-hidden":"true"})}renderToggleControl(){const e=Re(this),{enableOnOffLabels:n,checked:i}=this;return L("div",{class:"toggle-icon",part:"track",ref:r=>this.toggleTrack=r},n&&e==="ios"&&[this.renderOnOffSwitchLabels(e,!0),this.renderOnOffSwitchLabels(e,!1)],L("div",{class:"toggle-icon-wrapper"},L("div",{class:"toggle-inner",part:"handle"},n&&e==="md"&&this.renderOnOffSwitchLabels(e,i))))}get hasLabel(){return this.el.textContent!==""}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:o}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return o;if(n)return r}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;if(e||n)return L("div",{class:"toggle-bottom"},L("div",{id:i,class:"helper-text",part:"supporting-text helper-text"},e),L("div",{id:r,class:"error-text",part:"supporting-text error-text"},n))}render(){const{activated:e,alignment:n,checked:i,color:r,disabled:o,el:s,errorTextId:a,hasLabel:l,inheritedAttributes:c,inputId:u,inputLabelId:d,justify:h,labelPlacement:f,name:p,required:m}=this,b=Re(this),g=this.getValue(),x=za(s)?"rtl":"ltr";return _m(!0,s,p,i?g:"",o),L(tt,{key:"63c67d52dc47661c5758049f6278e873ab867a22",role:"switch","aria-checked":"".concat(i),"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===a,onClick:this.onClick,"aria-labelledby":l?d:null,"aria-label":c["aria-label"]||null,"aria-disabled":o?"true":null,tabindex:o?void 0:0,onKeyDown:this.onKeyDown,class:Kt(r,{[b]:!0,"in-item":Rn("ion-item",s),"toggle-activated":e,"toggle-checked":i,"toggle-disabled":o,["toggle-justify-".concat(h)]:h!==void 0,["toggle-alignment-".concat(n)]:n!==void 0,["toggle-label-placement-".concat(f)]:!0,["toggle-".concat(x)]:!0})},L("label",{key:"723cfac071ee5ec5c75984fc64762209452e9eea",class:"toggle-wrapper",htmlFor:u},L("input",Object.assign({key:"8fa79f49348afbce5e083d454b751f7f9cc04d3f",type:"checkbox",role:"switch","aria-checked":"".concat(i),checked:i,disabled:o,id:u,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:y=>this.focusEl=y,required:m},c)),L("div",{key:"00a4415539ef677be9f6981afddcec61f7fe9487",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!l},part:"label",id:d},L("slot",{key:"7ce338bd5116337c9ea90805fdee7285ef7c5811"}),this.renderHintText()),L("div",{key:"ecb5dfd2c7b534e357cba272dd4f189728555b3a",class:"native-wrapper"},this.renderToggleControl())))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:ute,md:hte}}},[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],errorText:[1,"error-text"],helperText:[1,"helper-text"],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],required:[4],activated:[32]},void 0,{disabled:["disabledChanged"]}]),pte=(t,e,n,i)=>e?!t&&i>n||t&&10<n:!t&&10<n||t&&i>n;let mte=0;function gte(){if(typeof customElements>"u")return;["ion-toggle","ion-icon"].forEach(e=>{switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,fte);break;case"ion-icon":customElements.get(e)||ss();break}})}const bte=gte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xte=rC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yte=ER;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vte=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",wte=vte,kte=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",Ste=kte,Cte=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=la(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const n=this.isClickable();if(!n)return[L("slot",null)];const{href:i,routerAnimation:r,routerDirection:o,inheritedAriaAttributes:s}=this,a=n?i===void 0?"button":"a":"div",l=a==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return L(a,Object.assign({},l,s,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>$1(i,c,o,r)}),L("slot",null),n&&e==="md"&&L("ion-ripple-effect",null))}render(){const e=Re(this);return L(tt,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:Kt(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:wte,md:Ste}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),Ete=Cte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tte=qR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ite=GR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $te=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},_te=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Ate=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Nte=t=>{const e=Le(),n=Le(),i=Le();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Ote=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",Dte=Ote,Rte=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #0054e9);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",Lte=Rte,zte=et(class extends Qe{constructor(){super(),this.__registerHost(),this.didPresent=ke(this,"ionLoadingDidPresent",7),this.willPresent=ke(this,"ionLoadingWillPresent",7),this.willDismiss=ke(this,"ionLoadingWillDismiss",7),this.didDismiss=ke(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=A1(this),this.lockController=Hu(),this.triggerController=Rm(),this.customHTMLEnabled=st.get("innerHTMLTemplatesEnabled",F4),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,na)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){Xh(this.el),this.triggerChanged()}componentWillLoad(){var e;if(this.spinner===void 0){const n=Re(this);this.spinner=st.get("loadingSpinner",st.get("spinner",n==="ios"?"lines":"crescent"))}!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Kh(this.el)}componentDidLoad(){this.isOpen===!0&&yi(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Yh(this,"loadingEnter",$te,Ate),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,n){const i=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const r=await Zh(this,e,n,"loadingLeave",_te,Nte);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return ns(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return ns(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?L("div",{class:"loading-content",id:e,innerHTML:z4(i)}):L("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:n,htmlAttributes:i,overlayIndex:r}=this,o=Re(this),s="loading-".concat(r,"-msg");return L(tt,Object.assign({key:"d6066c8b56b1fe4b597a243a7dab191ef0d21286",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?s:null,tabindex:"-1"},i,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},or(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),L("ion-backdrop",{key:"2431eda00a2a3f510f5dfc39b7c7d47c056dfa3d",visible:this.showBackdrop,tappable:this.backdropDismiss}),L("div",{key:"cf210aaf5e754e4eccdb49cf7ead4647b3f9b2d1",tabindex:"0","aria-hidden":"true"}),L("div",{key:"fa9375143d391656d70e181d25b952c77c2fc6ec",class:"loading-wrapper ion-overlay-wrapper"},n&&L("div",{key:"8e4a4ed994f7f62df86b03696ac95162df41f52d",class:"loading-spinner"},L("ion-spinner",{key:"e5b323c272d365853ba92bd211e390b4fd4751d2",name:n,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(s)),L("div",{key:"cae35ec8c34800477bff3ebcec8010e632158233",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Dte,md:Lte}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function Fte(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,zte);break;case"ion-backdrop":customElements.get(e)||Vu();break;case"ion-spinner":customElements.get(e)||FR();break}})}const Mte=Fte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function Pte(t,e,n,i){let r;if(n==="md"?r=t==="top"?8:-8:r=t==="top"?10:-10,e&&Gt){Bte(e,i);const o=e.getBoundingClientRect();return t==="top"?r+=o.bottom:t==="bottom"&&(r-=Gt.innerHeight-o.top),{top:"".concat(r,"px"),bottom:"".concat(r,"px")}}else return{top:"calc(".concat(r,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(r,"px - var(--ion-safe-area-bottom, 0px))")}}function Bte(t,e){t.offsetParent===null&&pn("[ion-toast] - The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const oC=(t,e)=>Math.floor(t/2-e/2),jte=(t,e)=>{const n=Le(),i=Le(),{position:r,top:o,bottom:s}=e,l=jn(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=oC(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(s,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},Ute=(t,e)=>{const n=Le(),i=Le(),{position:r,top:o,bottom:s}=e,l=jn(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(s,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},Vte=(t,e)=>{const n=Le(),i=Le(),{position:r,top:o,bottom:s}=e,l=jn(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),i.fromTo("opacity",.01,1);break;case"middle":const c=oC(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(s,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},Hte=t=>{const e=Le(),n=Le(),r=jn(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},Wte=(t,e,n)=>{const i=jn(t).querySelector(".toast-wrapper"),r=t.clientHeight,o=i.getBoundingClientRect();let s=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=oC(r,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=Le("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":s=r+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":s=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:s=r-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const f=g=>g*c/s,b=Am({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:bR,direction:"y",onMove:g=>{const x=l+f(g.deltaY);h.progressStep(x)},onEnd:g=>{const x=g.velocityY,y=(g.deltaY+x*1e3)/s*c;b.enable(!1);let v=!0,w=1,E=0,C=0;if(t.position==="middle"){v=y>=a/2||y<=-.5/2,w=1,E=0;const T=i.getBoundingClientRect(),_=T.top-u,M="".concat(_,"px"),D=g.deltaY<=0?-1:1,z=(u+T.height)*D,$=v?"".concat(z,"px"):"0px",F=[{offset:0,transform:"translateY(".concat(M,")")},{offset:1,transform:"translateY(".concat($,")")}];h.keyframes(F),C=z-_}else v=y>=a,w=v?1:0,E=f(g.deltaY),C=(v?1-E:E)*s;const I=Math.min(Math.abs(C)/Math.abs(x),200);h.onFinish(()=>{v?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),b.enable(!0))},{oneTimeCallback:!0}).progressEnd(w,E,I)}});return b},Gte=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",qte=Gte,Xte=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",Kte=Xte,Yte=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionToastDidPresent",7),this.willPresent=ke(this,"ionToastWillPresent",7),this.willDismiss=ke(this,"ionToastWillDismiss",7),this.didDismiss=ke(this,"ionToastDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=A1(this),this.lockController=Hu(),this.triggerController=Rm(),this.customHTMLEnabled=st.get("innerHTMLTemplatesEnabled",F4),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(vu(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=Wte(this.el,e,()=>{this.dismiss(void 0,La)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=st.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){Xh(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||Kh(this.el)}componentDidLoad(){this.isOpen===!0&&yi(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,r=this.getAnchorElement(),o=Pte(i,r,Re(this),n);this.lastPresentedPosition=o,await Yh(this,"toastEnter",jte,Vte,{position:i,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,n){var i,r;const o=await this.lockController.lock(),{durationTimeout:s,position:a,lastPresentedPosition:l}=this;s&&clearTimeout(s);const c=await Zh(this,e,n,"toastLeave",Ute,Hte,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(r=l==null?void 0:l.bottom)!==null&&r!==void 0?r:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return ns(this.el,"ionToastDidDismiss")}onWillDismiss(){return ns(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){pn('[ion-toast] - The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const r=document.getElementById(n);if(r===null){pn('[ion-toast] - An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return r}if(n instanceof Qe)return n;pn("[ion-toast] - Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return vu(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await au(e.handler)===!1)return!1}catch(n){ts("[ion-toast] - Exception in callButtonHandler:",n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=Re(this),r={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return L("div",{class:r},e.map(o=>L("button",Object.assign({},o.htmlAttributes,{type:"button",class:Zte(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:Jte(o)}),L("div",{class:"toast-button-inner"},o.icon&&L("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),i==="md"&&L("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:r}=this;return i?L("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:z4(r)}):L("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},r)}renderHeader(e,n=null){return L("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:r,message:o}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=Re(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&pn("[ion-toast] - This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),L(tt,Object.assign({key:"a2216d860255c99337464370dcb12f6125871a50",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:Kt(this.color,Object.assign(Object.assign({[c]:!0},or(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),L("div",{key:"d5adf8bc4c6c52431600033a76c4795689f9b412",class:u},L("div",{key:"ab694497ae37ceba123217eb48800129b9bebb84",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&L("ion-icon",{key:"224854fa3989ce0eb69416cb5b0cc55fc9f131ea",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),L("div",{key:"c8e11fb5bdac202987f5c8613a0ebbd42bda946e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&r!==void 0&&this.renderHeader("oldHeader","true"),!i&&o!==void 0&&this.renderToastMessage("oldMessage","true"),i&&r!==void 0&&this.renderHeader("header"),i&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:qte,md:Kte}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Zte=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),Jte=t=>vu(t.role)?"button cancel":"button";function Qte(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,Yte);break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}const i7=Qte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ene=WR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tne=n7,nne="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",ine=nne,rne=et(class extends Qe{constructor(){super(),this.__registerHost()}componentDidLoad(){sne(async()=>{const e=Ho(window,"hybrid");if(st.getBoolean("_testing")||fi(()=>import("./index9-Ci2n1qwi.js"),[]).then(r=>r.startTapClick(st)),st.getBoolean("statusTap",e)&&fi(()=>import("./status-tap-EbdCEU84.js"),[]).then(r=>r.startStatusTap()),st.getBoolean("inputShims",one())){const r=Ho(window,"ios")?"ios":"android";fi(()=>import("./input-shims-retWG394.js"),[]).then(o=>o.startInputShims(st,r))}const n=await fi(()=>Promise.resolve().then(()=>bq),void 0),i=e||kh();st.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(kh()&&pn("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&fi(()=>Promise.resolve().then(()=>FQ),void 0).then(r=>r.startKeyboardAssist(window)),fi(()=>import("./focus-visible-supuXXMI.js"),[]).then(r=>this.focusVisible=r.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Re(this);return L(tt,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":st.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return ine}},[0,"ion-app",{setFocus:[64]}]),one=()=>!!(Ho(window,"ios")&&Ho(window,"mobile")||Ho(window,"android")&&Ho(window,"mobileweb")),sne=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function ane(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,rne);break}})}const lne=ane;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cne=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',une=cne,dne=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',hne=dne,fne=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):$1(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Os(this.el),this.defaultHref===void 0&&(this.defaultHref=st.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:Re(this)==="ios"?st.get("backButtonIcon",jq):st.get("backButtonIcon",yR)}get backButtonText(){const e=Re(this)==="ios"?"Back":null;return this.text!=null?this.text:st.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:r,hasIconOnly:o,backButtonIcon:s,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=Re(this),h=c["aria-label"]||a||"back";return L(tt,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:Kt(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":Rn("ion-toolbar",this.el),"in-toolbar-color":Rn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},L("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:r,disabled:i,class:"button-native",part:"native","aria-label":h},L("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},s&&L("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&L("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&L("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:une,md:hne}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function pne(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,fne);break;case"ion-icon":customElements.get(e)||ss();break;case"ion-ripple-effect":customElements.get(e)||as();break}})}const mne=pne,gne=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",bne=gne,xne=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.lockController=Hu(),this.gestureOrAnimationInProgress=!1,this.mode=Re(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await fi(()=>import("./swipe-back-D-H2scnP.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=xu([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=xu([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,o,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lockController.lock();let o=!1;try{o=await this.transition(e,n,i)}catch(s){ts("[ion-router-outlet] - Exception in commit:",s)}return r(),o}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&KD(n,this.activeParams))return!1;const r=this.activeEl,o=await Nm(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,r,i),await P4(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:o}=this,s=this.animated&&st.getBoolean("animated",!0),a=i.animationBuilder||this.animation||st.get("navAnimation");return await QD(Object.assign(Object.assign({mode:o,animated:s,enteringEl:e,leavingEl:n,baseEl:r,deepWait:Hp(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return L("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return bne}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function yne(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,xne);break}})}const vne=yne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wne=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",kne=wne,Sne=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Cne=Sne,Ene=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ke(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ke(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await zR(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=Re(this),o=i&&this.el.getAttribute("slot")!=="top";return L(tt,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":o?"true":null,class:Kt(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},L("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:kne,md:Cne}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function Tne(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,Ene);break}})}const Ine=Tne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $ne=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',_ne=$ne,Ane=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',Nne=Ane,One=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ke(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},la(this.el,["aria-label"])),this.layout===void 0&&(this.layout=st.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:o,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=Re(this),h={download:this.download,href:r,rel:o,target:s};return L(tt,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},L("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),L("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},L("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),d==="md"&&L("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:_ne,md:Nne}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function Dne(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,One);break;case"ion-ripple-effect":customElements.get(e)||as();break}})}const Rne=Dne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Lne=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",zne=Lne,Fne=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionTabsWillChange=ke(this,"ionTabsWillChange",3),this.ionTabsDidChange=ke(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:i}=e.detail;if(this.useRouter&&n!==void 0){const r=document.querySelector("ion-router");r&&r.push(n)}else this.select(i)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=h2(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return h2(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=h2(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return L(tt,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},L("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),L("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},L("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),L("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return zne}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),h2=(t,e)=>{const n=typeof e=="string"?t.find(i=>i.tab===e):e;return n||ts('[ion-tabs] - Tab with id: "'.concat(n,'" does not exist')),n};function Mne(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,Fne);break}})}const Pne=Mne;let f2;const Bne=()=>{if(typeof window>"u")return new Map;if(!f2){const t=window;t.Ionicons=t.Ionicons||{},f2=t.Ionicons.map=t.Ionicons.map||new Map}return f2},jne=t=>{let e=p2(t.src);return e||(e=r7(t.name,t.icon,t.mode,t.ios,t.md),e?Une(e,t):t.icon&&(e=p2(t.icon),e||(e=p2(t.icon[t.mode]),e))?e:null)},Une=(t,e)=>{const n=Bne().get(t);if(n)return n;try{return RD("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},r7=(t,e,n,i,r)=>(n=(n&&U0(n))==="ios"?"ios":"md",i&&n==="ios"?t=U0(i):r&&n==="md"?t=U0(r):(!t&&e&&!o7(e)&&(t=e),Ex(t)&&(t=U0(t))),!Ex(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),p2=t=>Ex(t)&&(t=t.trim(),o7(t))?t:null,o7=t=>t.length>0&&/(\/|\.)/.test(t),Ex=t=>typeof t=="string",U0=t=>t.toLowerCase(),Vne=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},Hne=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",Wne=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),s7(n))return e.innerHTML}return""},s7=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Ex(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!s7(t.childNodes[e]))return!1}return!0},Gne=t=>t.startsWith("data:image/svg+xml"),qne=t=>t.indexOf(";utf8,")!==-1,Kc=new Map,P$=new Map;let m2;const Xne=(t,e)=>{let n=P$.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(Gne(t)&&qne(t)){m2||(m2=new DOMParser);const r=m2.parseFromString(t,"text/html").querySelector("svg");return r&&Kc.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=Wne(r)),Kc.set(t,r||"")});Kc.set(t,"")}),P$.set(t,n);else return Kc.set(t,""),Promise.resolve();return n},Kne=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",Yne=et(class extends Qe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Zne(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Vne(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=jne(this);e&&(Kc.has(e)?this.svgContent=Kc.get(e):Xne(e,this.sanitize).then(()=>this.svgContent=Kc.get(e)),this.didLoadIcon=!0)}this.iconName=r7(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return L(tt,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},Jne(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&Hne(r)})},i),this.svgContent?L("div",{class:"icon-inner",innerHTML:this.svgContent}):L("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return Kne}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Zne=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",Jne=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function Qne(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,Yne);break}})}const eie=Qne,D1=Ne.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),tie=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},nie=(t,e=[])=>{const n=te.useContext(D1),i=te.useRef();i.current=i.current||Math.floor(Math.random()*1e6),te.useEffect(()=>(t.id=i.current,n.onIonViewWillEnter(t),()=>{n.cleanupIonViewWillEnter(t)}),e)},Ds=Ne.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),sC=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),R1=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),L1=(t,e,n={})=>{if(t instanceof Element){const i=iie(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const o=r.substring(2),s=o[0].toLowerCase()+o.substring(1);zm(s)||oie(t,s,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(R1(r),e[r])})}},iie=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,o=g2(t),s=g2(i?i.split(" "):[]),a=g2(r?r.split(" "):[]),l=[];return o.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},rie=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const zm=t=>{if(typeof document>"u")return!0;{const e="on"+rie(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},oie=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(s){n&&n.call(this,s)})},g2=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},sie=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},z1=(...t)=>e=>{t.forEach(n=>{sie(n,e)})},aie=(t,e)=>{const n=(i,r)=>S.jsx(t,{...i,forwardedRef:r});return n.displayName=e,Ne.forwardRef(n)},lie=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},gt=(t,e,n,i)=>{i!==void 0&&i();const r=sC(t),o=class extends Ne.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){L1(this.componentEl,this.props,s)}render(){const{children:s,forwardedRef:a,style:l,className:c,ref:u,...d}=this.props,f={...Object.keys(d).reduce((p,m)=>{const b=d[m];if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const g=m.substring(2).toLowerCase();typeof document<"u"&&zm(g)&&(p[m]=b)}else{const g=typeof b;(g==="string"||g==="boolean"||g==="number")&&(p[R1(m)]=b)}return p},{}),ref:z1(a,this.setComponentElRef),style:l};return te.createElement(t,f,s)}static get displayName(){return r}};return aie(o,r)},F1=gt("ion-avatar",void 0,void 0,gX),Tx=gt("ion-badge",void 0,void 0,$X),sr=gt("ion-buttons",void 0,void 0,RX),kr=gt("ion-card-content",void 0,void 0,jX),aC=gt("ion-card-header",void 0,void 0,XX),b2=gt("ion-card-subtitle",void 0,void 0,tK),Gd=gt("ion-card-title",void 0,void 0,lK),rr=gt("ion-col",void 0,void 0,$K),qt=gt("ion-content",void 0,void 0,LK),cie=gt("ion-footer",void 0,void 0,CY),Ma=gt("ion-grid",void 0,void 0,_Y),Un=gt("ion-header",void 0,void 0,BY),M1=gt("ion-img",void 0,void 0,GY),vn=gt("ion-input",void 0,void 0,aZ),rh=gt("ion-input-password-toggle",void 0,void 0,pZ),$i=gt("ion-label",void 0,void 0,SZ),a7=gt("ion-list",void 0,void 0,_Z),uie=gt("ion-menu",void 0,void 0,GZ),l7=gt("ion-menu-button",void 0,void 0,QZ),die=gt("ion-menu-toggle",void 0,void 0,rJ),hie=gt("ion-note",void 0,void 0,bJ),lC=gt("ion-progress-bar",void 0,void 0,TJ),fie=gt("ion-range",void 0,void 0,XJ),Mr=gt("ion-row",void 0,void 0,QJ),pie=gt("ion-searchbar",void 0,void 0,aQ),Eb=gt("ion-select",void 0,void 0,Nee),ya=gt("ion-select-option",void 0,void 0,Fee),Wr=gt("ion-spinner",void 0,void 0,Mee),mie=gt("ion-tab",void 0,void 0,Vee),en=gt("ion-text",void 0,void 0,Xee),cC=gt("ion-textarea",void 0,void 0,nte),gie=gt("ion-thumbnail",void 0,void 0,ate),ii=gt("ion-title",void 0,void 0,lte),P1=gt("ion-toggle",void 0,void 0,bte),Vn=gt("ion-toolbar",void 0,void 0,xte),Wu=(t,e)=>{const n=(i,r)=>S.jsx(t,{...i,forwardedRef:r});return n.displayName=e,Ne.forwardRef(n)},uC=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},dC=(t,e)=>{lie(t,e);const n=sC(t),i=class extends Ne.Component{constructor(r){super(r),this.handleClick=o=>{const{routerLink:s,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;s!==void 0&&(o.preventDefault(),this.context.navigate(s,a,void 0,c,l))},this.ref=Ne.createRef(),this.stableMergedRefs=z1(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const o=this.ref.current;L1(o,this.props,r)}render(){const{children:r,forwardedRef:o,style:s,className:a,ref:l,...c}=this.props,d={...Object.keys(c).reduce((h,f)=>{if(f.indexOf("on")===0&&f[2]===f[2].toUpperCase()){const p=f.substring(2).toLowerCase();zm(p)&&(h[f]=c[f])}else["string","boolean","number"].includes(typeof c[f])&&(h[R1(f)]=c[f]);return h},{}),ref:this.stableMergedRefs,style:s};if(this.props.routerLink&&!this.props.href&&(d.href=this.props.routerLink),d.onClick){const h=d.onClick;d.onClick=f=>{h(f),f.defaultPrevented||this.handleClick(f)}}else d.onClick=this.handleClick;return te.createElement(t,d,r)}static get displayName(){return n}static get contextType(){return Ds}};return Wu(i,n)},He=dC("ion-button",yte),Sr=dC("ion-card",Ete),br=dC("ion-item",Tte),bie=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);zm(r)||xie(t,r)}})},xie=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},Fm=(t,e,n)=>{e&&e();const i=sC(t),r=class extends Ne.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=Ne.createRef(),this.stableMergedRefs=z1(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=Ne.createRef()}componentDidMount(){var o,s,a;this.componentDidUpdate(this.props),(o=this.ref.current)==null||o.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)==null||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)==null||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const s=this.ref.current,{onDidDismiss:a,onWillPresent:l,...c}=this.props;L1(s,c,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),bie(o,this.props))}render(){const{children:o,forwardedRef:s,style:a,className:l,ref:c,...u}=this.props,h={...Object.keys(u).reduce((p,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const b=m.substring(2).toLowerCase();zm(b)&&(p[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(p[R1(m)]=u[m]);return p},{}),ref:this.stableMergedRefs,style:a},f=()=>n?"".concat(B$," ion-page"):B$;return te.createElement("template",{},te.createElement(t,h,this.state.isOpen||this.props.keepContentsMounted?te.createElement("div",{ref:this.wrapperRef,className:f()},o):null))}static get displayName(){return i}};return Wu(r,i)},B$="ion-delegate-host",ca=Fm("ion-alert",Ite),Ix=Fm("ion-loading",Mte),Rs=Fm("ion-toast",i7),c7=Fm("ion-action-sheet",ene),go=Fm("ion-modal",tne,!0),yie=Ne.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),vie=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=te.useState({}),r=te.useRef({});te.useEffect(()=>{t(o),e(s)},[]);const o=(l,c,u)=>{const d={...r.current};d[l]={component:c,containerElement:u},r.current=d,i(d)},s=l=>{const c={...r.current};delete c[l],r.current=c,i(c)},a=Object.keys(n);return S.jsx(S.Fragment,{children:a.map(l=>{const c=n[l];return VU.createPortal(c.component,c.containerElement,"overlay-".concat(l))})})},wie=gt("ion-tab-button",void 0,void 0,Rne),kie=gt("ion-tab-bar",void 0,void 0,Ine),j$=gt("ion-tabs",void 0,void 0,Pne),Sie=gt("ion-back-button",void 0,void 0,mne),f3=gt("ion-router-outlet",void 0,void 0,vne),Cie=gt("ion-app",void 0,void 0,lne),Eie=gt("ion-icon",void 0,void 0,eie);class u7 extends Ne.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,i,r)=>{this.addOverlayCallback&&this.addOverlayCallback(n,i,r)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return S.jsxs(yie.Provider,{value:this.ionContext,children:[S.jsx(Cie,{...this.props,children:this.props.children}),S.jsx(vie,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}u7.displayName="IonApp";const hC=Ne.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class fC extends Ne.PureComponent{constructor(e){super(e),this.ionPageElementRef=Ne.createRef(),this.stableMergedRefs=z1(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:i,forwardedRef:r,...o}=this.props;return S.jsx(D1.Consumer,{children:s=>(this.ionLifeCycleContext=s,S.jsx("div",{className:e?"".concat(e," ion-page"):"ion-page",ref:this.stableMergedRefs,...o,children:n}))})}static get contextType(){return hC}}class Tie extends Ne.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:i,...r}=this.props;return this.context.hasIonicRouter()?S.jsx(fC,{className:e?"".concat(e):"",routeInfo:this.context.routeInfo,forwardedRef:i,...r,children:n}):S.jsx("div",{className:e?"ion-page ".concat(e):"ion-page",ref:i,...r,children:n})}static get displayName(){return"IonPage"}static get contextType(){return Ds}}const wr=Wu(Tie,"IonPage"),U$={main:0},qp=(t="main")=>{var n;const e=((n=U$[t])!=null?n:0)+1;return U$[t]=e,e.toString()},Iie=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(qp());let r=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),f="".concat(i,"-").concat(r++),p=RS.createPortal(h,d,f);return n.set(d,p),t(p),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},$ie=gt("ion-nav",void 0,void 0,uJ),_ie=({children:t,forwardedRef:e,...n})=>{const[i,r]=te.useState([]),o=l=>r(c=>[...c,l]),s=l=>r(c=>c.filter(u=>u!==l)),a=te.useMemo(()=>Iie(o,s),[]);return S.jsx($ie,{delegate:a,ref:e,...n,children:i})};Wu(_ie,"IonNav");const d7=Ne.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:Ne.createRef()}}),Aie=typeof HTMLElement<"u"?HTMLElement:class{};class Nie extends Ne.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ts(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:i,...r}=this.props;return S.jsx(D1.Consumer,{children:o=>(this.ionLifeCycleContext=o,S.jsx(e,{routeInfo:i,children:S.jsx(f3,{setRef:s=>this.ionRouterOutlet=s,...r,children:n})}))})}static get contextType(){return hC}}class Oie extends Ne.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:i,...r}=this.props;return this.context.hasIonicRouter()?r.ionPage?S.jsx(Nie,{StackManager:e,routeInfo:this.context.routeInfo,...r,children:n}):S.jsx(e,{routeInfo:this.context.routeInfo,children:S.jsx(f3,{...r,forwardedRef:i,children:n})}):S.jsx(f3,{ref:i,...this.props,children:this.props.children})}static get contextType(){return Ds}}const qd=Wu(Oie,"IonRouterOutlet");class Die extends Aie{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Die));class I9e extends Ne.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=Ne.createRef(),this.tabBarRef=Ne.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return S.jsx(j$,{...this.props,children:Ne.Children.map(e,i=>Ne.isValidElement(i)&&(i.type===qd||i.type.isRouterOutlet||i.type===te.Fragment&&i.props.children[0].type===qd)?n:i)})}render(){let e,n=!1;const{className:i,onIonTabsDidChange:r,onIonTabsWillChange:o,...s}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(Ne.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===qd||l.type.isRouterOutlet?e=Ne.cloneElement(l):l.type===te.Fragment&&l.props.children[0].type===qd?e=Ne.cloneElement(l.props.children[0]):l.type===mie&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};r!==void 0&&(c={...c,onIonTabsDidChange:r}),o!==void 0&&(c={...c,onIonTabsWillChange:o}),this.ionTabContextState.tabBarProps=c}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?S.jsx(j$,{...this.props}):S.jsx(d7.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?S.jsx(fC,{className:i?"".concat(i):"",routeInfo:this.context.routeInfo,...s,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return Ds}}class x2 extends Ne.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return S.jsx(wie,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class Rie extends Ne.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};Ne.Children.forEach(e.children,i=>{var r,o,s,a;i!=null&&typeof i=="object"&&i.props&&(i.type===x2||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)==null?void 0:r.pathname)?(o=e.routeInfo)==null?void 0:o.routeOptions:void 0,currentRouteOptions:i.props.href===((s=e.routeInfo)==null?void 0:s.pathname)?(a=e.routeInfo)==null?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const o=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(o)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var a,l,c;const i={...n.tabs},o=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});Ne.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===x2||u.type.isTabButton)){const d=i[u.props.tab];(!d||d.originalHref!==u.props.href)&&(i[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:s}=n;if(o&&s){const u=n.tabs[s].currentHref,d=n.tabs[s].currentRouteOptions;(o!==s||u!==((a=e.routeInfo)==null?void 0:a.pathname)||d!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(i[o]={originalHref:i[o].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:i[o].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&o!==s&&(i[s]={originalHref:i[s].originalHref,currentHref:i[s].originalHref,originalRouteOptions:i[s].originalRouteOptions,currentRouteOptions:i[s].currentRouteOptions}))}return o&&e.onSetCurrentTab(o,e.routeInfo),{activeTab:o,tabs:i}}onTabButtonClick(e,n){var l;const i=this.state.tabs[e.detail.tab],r=i.originalHref,o=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,s=o?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions)))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===x2||n.type.isTabButton)){const o=n.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(r=this.props.routeInfo)==null?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return Ne.cloneElement(n,{href:o,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return S.jsx(kie,{...this.props,selectedTab:e,children:Ne.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return Ds}}const Lie=Ne.memo(({forwardedRef:t,...e})=>{const n=te.useContext(Ds),i=te.useContext(d7),r=t||i.tabBarProps.ref,o={...i.tabBarProps,ref:r};return S.jsx(Rie,{ref:r,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...i,tabBarProps:o},children:e.children})});Wu(Lie,"IonTabBar");class Xp extends Ne.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:i}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,i)):n!==void 0&&(window.location.href=n)}}render(){return S.jsx(Sie,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return Ds}shouldComponentUpdate(){return!0}}class zie extends Ne.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var c,u;const{icon:e,ios:n,md:i,mode:r,...o}=this.props;let s;const a=uC(),l=r||(a==null?void 0:a.get("mode"));return n||i?l==="ios"?s=(c=n!=null?n:i)!=null?c:e:s=(u=i!=null?i:n)!=null?u:e:s=e,S.jsx(Eie,{ref:this.props.forwardedRef,icon:s,...o,children:this.props.children})}static get contextType(){return Ds}}const at=Wu(zie,"IonIcon");class pC extends Ne.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!pC?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):S.jsx(e,{...this.props})}static get contextType(){return Ds}}class h7 extends Ne.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!h7?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):S.jsx(e,{...this.props})}static get contextType(){return Ds}}const f7=Ne.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Wa(){const t=te.useContext(f7);return te.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class $9e extends Ne.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Le(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),V$(n,e),H$(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;V$(n,i,e),Fie(n,i,e),H$(n,i,e)}render(){const{children:e}=this.props;return S.jsx(S.Fragment,{children:Ne.Children.map(e,(n,i)=>Ne.cloneElement(n,{ref:r=>this.nodes.set(i,r)}))})}}const V$=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},Fie=(t,e={},n={})=>{var s,a,l,c,u;const{progressStart:i,progressStep:r,progressEnd:o}=e;i&&(((s=n.progressStart)==null?void 0:s.forceLinearEasing)!==(i==null?void 0:i.forceLinearEasing)||((a=n.progressStart)==null?void 0:a.step)!==(i==null?void 0:i.step))&&t.progressStart(i.forceLinearEasing,i.step),r&&((l=n.progressStep)==null?void 0:l.step)!==(r==null?void 0:r.step)&&t.progressStep(r.step),o&&(((c=n.progressEnd)==null?void 0:c.playTo)!==(o==null?void 0:o.playTo)||((u=n.progressEnd)==null?void 0:u.step)!==(o==null?void 0:o.step)||(n==null?void 0:n.dur)!==(o==null?void 0:o.dur))&&t.progressEnd(o.playTo,o.step,o.dur)},H$=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};function Mie(t,e,n){const i=te.useRef(),r=te.useMemo(()=>"on".concat(t,"DidDismiss"),[t]),o=te.useMemo(()=>"on".concat(t,"DidPresent"),[t]),s=te.useMemo(()=>"on".concat(t,"WillDismiss"),[t]),a=te.useMemo(()=>"on".concat(t,"WillPresent"),[t]);n();const l=te.useCallback(async u=>{if(i.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:f,onWillPresent:p,...m}=u,b=g=>{d&&d(g),i.current=void 0};i.current=await e.create({...m}),L1(i.current,{[r]:b,[o]:g=>f&&f(g),[s]:g=>h&&h(g),[a]:g=>p&&p(g)}),i.current.present()},[e]),c=te.useCallback(async()=>{i.current&&await i.current.dismiss(),i.current=void 0},[]);return{present:l,dismiss:c}}function B1(){const t=Mie("IonToast",Iq,i7);return[te.useCallback((n,i)=>typeof n=="string"?t.present({message:n,duration:i}):t.present(n),[t.present]),t.dismiss]}const Pie=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),lq({...t})},p7=Ne.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class W$ extends Ne.Component{constructor(e){super(e),this.ionLifeCycleContext=new tie,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return S.jsx(D1.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class Bie{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(r=>r.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(o=>o.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const r=n[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class jie extends Ne.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,o,s)=>{this.navigate(n,i,r,s,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,o,s){this.props.onNavigate(e,i,n,r,o,s)}getPageManager(){return fC}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return S.jsx(Ds.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:S.jsx(f7.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class Uie{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const r=i.find(o=>o.id===e.id);r&&(r.mount=!1,this.viewStacks[n]=i.filter(o=>o.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}function Kp(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gr.apply(null,arguments)}function V0(t){return t.charAt(0)==="/"}function y2(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function Vie(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&V0(t),o=e&&V0(e),s=r||o;if(t&&V0(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?y2(i,u):d===".."?(y2(i,u),c++):c&&(y2(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");s&&i[0]!==""&&(!i[0]||!V0(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function G$(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Tb(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(r,o){return Tb(r,e[o])});if(typeof t=="object"||typeof e=="object"){var n=G$(t),i=G$(e);return n!==t||i!==e?Tb(n,i):Object.keys(Object.assign({},t,e)).every(function(r){return Tb(t[r],e[r])})}return!1}var Hie="Invariant failed";function Gu(t,e){throw new Error(Hie)}function kp(t){return t.charAt(0)==="/"?t:"/"+t}function q$(t){return t.charAt(0)==="/"?t.substr(1):t}function Wie(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function m7(t,e){return Wie(t,e)?t.substr(e.length):t}function g7(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Gie(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function Oo(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Pr(t,e,n,i){var r;typeof t=="string"?(r=Gie(t),r.state=e):(r=Gr({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=Vie(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function qie(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Tb(t.state,e.state)}function mC(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:o}}var b7=!!(typeof window<"u"&&window.document&&window.document.createElement);function x7(t,e){e(window.confirm(t))}function Xie(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Kie(){return window.navigator.userAgent.indexOf("Trident")===-1}function Yie(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Zie(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var X$="popstate",K$="hashchange";function Y$(){try{return window.history.state||{}}catch(t){return{}}}function Jie(t){t===void 0&&(t={}),b7||Gu();var e=window.history,n=Xie(),i=!Kie(),r=t,o=r.forceRefresh,s=o===void 0?!1:o,a=r.getUserConfirmation,l=a===void 0?x7:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?g7(kp(t.basename)):"";function h(B){var K=B||{},q=K.key,G=K.state,le=window.location,oe=le.pathname,re=le.search,we=le.hash,_e=oe+re+we;return d&&(_e=m7(_e,d)),Pr(_e,G,q)}function f(){return Math.random().toString(36).substr(2,u)}var p=mC();function m(B){Gr(V,B),V.length=e.length,p.notifyListeners(V.location,V.action)}function b(B){Zie(B)||y(h(B.state))}function g(){y(h(Y$()))}var x=!1;function y(B){if(x)x=!1,m();else{var K="POP";p.confirmTransitionTo(B,K,l,function(q){q?m({action:K,location:B}):v(B)})}}function v(B){var K=V.location,q=E.indexOf(K.key);q===-1&&(q=0);var G=E.indexOf(B.key);G===-1&&(G=0);var le=q-G;le&&(x=!0,_(le))}var w=h(Y$()),E=[w.key];function C(B){return d+Oo(B)}function I(B,K){var q="PUSH",G=Pr(B,K,f(),V.location);p.confirmTransitionTo(G,q,l,function(le){if(le){var oe=C(G),re=G.key,we=G.state;if(n)if(e.pushState({key:re,state:we},null,oe),s)window.location.href=oe;else{var _e=E.indexOf(V.location.key),$e=E.slice(0,_e+1);$e.push(G.key),E=$e,m({action:q,location:G})}else window.location.href=oe}})}function T(B,K){var q="REPLACE",G=Pr(B,K,f(),V.location);p.confirmTransitionTo(G,q,l,function(le){if(le){var oe=C(G),re=G.key,we=G.state;if(n)if(e.replaceState({key:re,state:we},null,oe),s)window.location.replace(oe);else{var _e=E.indexOf(V.location.key);_e!==-1&&(E[_e]=G.key),m({action:q,location:G})}else window.location.replace(oe)}})}function _(B){e.go(B)}function M(){_(-1)}function D(){_(1)}var z=0;function $(B){z+=B,z===1&&B===1?(window.addEventListener(X$,b),i&&window.addEventListener(K$,g)):z===0&&(window.removeEventListener(X$,b),i&&window.removeEventListener(K$,g))}var F=!1;function j(B){B===void 0&&(B=!1);var K=p.setPrompt(B);return F||($(1),F=!0),function(){return F&&(F=!1,$(-1)),K()}}function W(B){var K=p.appendListener(B);return $(1),function(){$(-1),K()}}var V={length:e.length,action:"POP",location:w,createHref:C,push:I,replace:T,go:_,goBack:M,goForward:D,block:j,listen:W};return V}var Z$="hashchange",Qie={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+q$(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:q$,decodePath:kp},slash:{encodePath:kp,decodePath:kp}};function y7(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Ff(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function ere(t){window.location.hash=t}function v2(t){window.location.replace(y7(window.location.href)+"#"+t)}function tre(t){t===void 0&&(t={}),b7||Gu();var e=window.history;Yie();var n=t,i=n.getUserConfirmation,r=i===void 0?x7:i,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?g7(kp(t.basename)):"",l=Qie[s],c=l.encodePath,u=l.decodePath;function d(){var K=u(Ff());return a&&(K=m7(K,a)),Pr(K)}var h=mC();function f(K){Gr(B,K),B.length=e.length,h.notifyListeners(B.location,B.action)}var p=!1,m=null;function b(K,q){return K.pathname===q.pathname&&K.search===q.search&&K.hash===q.hash}function g(){var K=Ff(),q=c(K);if(K!==q)v2(q);else{var G=d(),le=B.location;if(!p&&b(le,G)||m===Oo(G))return;m=null,x(G)}}function x(K){if(p)p=!1,f();else{var q="POP";h.confirmTransitionTo(K,q,r,function(G){G?f({action:q,location:K}):y(K)})}}function y(K){var q=B.location,G=C.lastIndexOf(Oo(q));G===-1&&(G=0);var le=C.lastIndexOf(Oo(K));le===-1&&(le=0);var oe=G-le;oe&&(p=!0,M(oe))}var v=Ff(),w=c(v);v!==w&&v2(w);var E=d(),C=[Oo(E)];function I(K){var q=document.querySelector("base"),G="";return q&&q.getAttribute("href")&&(G=y7(window.location.href)),G+"#"+c(a+Oo(K))}function T(K,q){var G="PUSH",le=Pr(K,void 0,void 0,B.location);h.confirmTransitionTo(le,G,r,function(oe){if(oe){var re=Oo(le),we=c(a+re),_e=Ff()!==we;if(_e){m=re,ere(we);var $e=C.lastIndexOf(Oo(B.location)),Oe=C.slice(0,$e+1);Oe.push(re),C=Oe,f({action:G,location:le})}else f()}})}function _(K,q){var G="REPLACE",le=Pr(K,void 0,void 0,B.location);h.confirmTransitionTo(le,G,r,function(oe){if(oe){var re=Oo(le),we=c(a+re),_e=Ff()!==we;_e&&(m=re,v2(we));var $e=C.indexOf(Oo(B.location));$e!==-1&&(C[$e]=re),f({action:G,location:le})}})}function M(K){e.go(K)}function D(){M(-1)}function z(){M(1)}var $=0;function F(K){$+=K,$===1&&K===1?window.addEventListener(Z$,g):$===0&&window.removeEventListener(Z$,g)}var j=!1;function W(K){K===void 0&&(K=!1);var q=h.setPrompt(K);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),q()}}function V(K){var q=h.appendListener(K);return F(1),function(){F(-1),q()}}var B={length:e.length,action:"POP",location:E,createHref:I,push:T,replace:_,go:M,goBack:D,goForward:z,block:W,listen:V};return B}function J$(t,e,n){return Math.min(Math.max(t,e),n)}function nre(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=mC();function u(I){Gr(C,I),C.length=C.entries.length,c.notifyListeners(C.location,C.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=J$(s,0,r.length-1),f=r.map(function(I){return typeof I=="string"?Pr(I,void 0,d()):Pr(I,void 0,I.key||d())}),p=Oo;function m(I,T){var _="PUSH",M=Pr(I,T,d(),C.location);c.confirmTransitionTo(M,_,n,function(D){if(D){var z=C.index,$=z+1,F=C.entries.slice(0);F.length>$?F.splice($,F.length-$,M):F.push(M),u({action:_,location:M,index:$,entries:F})}})}function b(I,T){var _="REPLACE",M=Pr(I,T,d(),C.location);c.confirmTransitionTo(M,_,n,function(D){D&&(C.entries[C.index]=M,u({action:_,location:M}))})}function g(I){var T=J$(C.index+I,0,C.entries.length-1),_="POP",M=C.entries[T];c.confirmTransitionTo(M,_,n,function(D){D?u({action:_,location:M,index:T}):u()})}function x(){g(-1)}function y(){g(1)}function v(I){var T=C.index+I;return T>=0&&T<C.entries.length}function w(I){return I===void 0&&(I=!1),c.setPrompt(I)}function E(I){return c.appendListener(I)}var C={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:m,replace:b,go:g,goBack:x,goForward:y,canGo:v,block:w,listen:E};return C}function p3(t,e){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p3(t,e)}function Jl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p3(t,e)}var v7={exports:{}},ire="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rre=ire,ore=rre;function w7(){}function k7(){}k7.resetWarningCache=w7;var sre=function(){function t(i,r,o,s,a,l){if(l!==ore){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:k7,resetWarningCache:w7};return n.PropTypes=n,n};v7.exports=sre();var are=v7.exports;const Q$=Ja(are);var Qh={exports:{}},lre=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},$x=lre;Qh.exports=E7;Qh.exports.parse=gC;Qh.exports.compile=dre;Qh.exports.tokensToFunction=S7;Qh.exports.tokensToRegExp=C7;var cre=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function gC(t,e){for(var n=[],i=0,r=0,o="",s=e&&e.delimiter||"/",a;(a=cre.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(r,u),r=u+l.length,c){o+=c[1];continue}var d=t[r],h=a[2],f=a[3],p=a[4],m=a[5],b=a[6],g=a[7];o&&(n.push(o),o="");var x=h!=null&&d!=null&&d!==h,y=b==="+"||b==="*",v=b==="?"||b==="*",w=h||s,E=p||m,C=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:f||i++,prefix:h||"",delimiter:w,optional:v,repeat:y,partial:x,asterisk:!!g,pattern:E?pre(E):g?".*":ure(w,C)})}return r<t.length&&(o+=t.substr(r)),o&&n.push(o),n}function ure(t,e){return!e||e.indexOf(t)>-1?"[^"+Yc(t)+"]+?":Yc(e)+"|(?:(?!"+Yc(e)+")[^"+Yc(t)+"])+?"}function dre(t,e){return S7(gC(t,e),e)}function hre(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function fre(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function S7(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",xC(e)));return function(r,o){for(var s="",a=r||{},l=o||{},c=l.pretty?hre:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if($x(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!n[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");s+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?fre(h):c(h),!n[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');s+=d.prefix+f}return s}}function Yc(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function pre(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function bC(t,e){return t.keys=e,t}function xC(t){return t&&t.sensitive?"":"i"}function mre(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return bC(t,e)}function gre(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(E7(t[r],e,n).source);var o=new RegExp("(?:"+i.join("|")+")",xC(n));return bC(o,e)}function bre(t,e,n){return C7(gC(t,n),e,n)}function C7(t,e,n){$x(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=Yc(a);else{var l=Yc(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Yc(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),r?o+="$":o+=i&&d?"":"(?="+u+"|$)",bC(new RegExp("^"+o,xC(n)),e)}function E7(t,e,n){return $x(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?mre(t,e):$x(t)?gre(t,e,n):bre(t,e,n)}var xre=Qh.exports;const T7=Ja(xre);var rn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=typeof Symbol=="function"&&Symbol.for,yC=Li?Symbol.for("react.element"):60103,vC=Li?Symbol.for("react.portal"):60106,j1=Li?Symbol.for("react.fragment"):60107,U1=Li?Symbol.for("react.strict_mode"):60108,V1=Li?Symbol.for("react.profiler"):60114,H1=Li?Symbol.for("react.provider"):60109,W1=Li?Symbol.for("react.context"):60110,wC=Li?Symbol.for("react.async_mode"):60111,G1=Li?Symbol.for("react.concurrent_mode"):60111,q1=Li?Symbol.for("react.forward_ref"):60112,X1=Li?Symbol.for("react.suspense"):60113,yre=Li?Symbol.for("react.suspense_list"):60120,K1=Li?Symbol.for("react.memo"):60115,Y1=Li?Symbol.for("react.lazy"):60116,vre=Li?Symbol.for("react.block"):60121,wre=Li?Symbol.for("react.fundamental"):60117,kre=Li?Symbol.for("react.responder"):60118,Sre=Li?Symbol.for("react.scope"):60119;function vo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yC:switch(t=t.type,t){case wC:case G1:case j1:case V1:case U1:case X1:return t;default:switch(t=t&&t.$$typeof,t){case W1:case q1:case Y1:case K1:case H1:return t;default:return e}}case vC:return e}}}function I7(t){return vo(t)===G1}rn.AsyncMode=wC;rn.ConcurrentMode=G1;rn.ContextConsumer=W1;rn.ContextProvider=H1;rn.Element=yC;rn.ForwardRef=q1;rn.Fragment=j1;rn.Lazy=Y1;rn.Memo=K1;rn.Portal=vC;rn.Profiler=V1;rn.StrictMode=U1;rn.Suspense=X1;rn.isAsyncMode=function(t){return I7(t)||vo(t)===wC};rn.isConcurrentMode=I7;rn.isContextConsumer=function(t){return vo(t)===W1};rn.isContextProvider=function(t){return vo(t)===H1};rn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yC};rn.isForwardRef=function(t){return vo(t)===q1};rn.isFragment=function(t){return vo(t)===j1};rn.isLazy=function(t){return vo(t)===Y1};rn.isMemo=function(t){return vo(t)===K1};rn.isPortal=function(t){return vo(t)===vC};rn.isProfiler=function(t){return vo(t)===V1};rn.isStrictMode=function(t){return vo(t)===U1};rn.isSuspense=function(t){return vo(t)===X1};rn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===j1||t===G1||t===V1||t===U1||t===X1||t===yre||typeof t=="object"&&t!==null&&(t.$$typeof===Y1||t.$$typeof===K1||t.$$typeof===H1||t.$$typeof===W1||t.$$typeof===q1||t.$$typeof===wre||t.$$typeof===kre||t.$$typeof===Sre||t.$$typeof===vre)};rn.typeOf=vo;function $7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var _7={exports:{}},Yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=typeof Symbol=="function"&&Symbol.for,kC=zi?Symbol.for("react.element"):60103,SC=zi?Symbol.for("react.portal"):60106,Z1=zi?Symbol.for("react.fragment"):60107,J1=zi?Symbol.for("react.strict_mode"):60108,Q1=zi?Symbol.for("react.profiler"):60114,ey=zi?Symbol.for("react.provider"):60109,ty=zi?Symbol.for("react.context"):60110,CC=zi?Symbol.for("react.async_mode"):60111,ny=zi?Symbol.for("react.concurrent_mode"):60111,iy=zi?Symbol.for("react.forward_ref"):60112,ry=zi?Symbol.for("react.suspense"):60113,Cre=zi?Symbol.for("react.suspense_list"):60120,oy=zi?Symbol.for("react.memo"):60115,sy=zi?Symbol.for("react.lazy"):60116,Ere=zi?Symbol.for("react.block"):60121,Tre=zi?Symbol.for("react.fundamental"):60117,Ire=zi?Symbol.for("react.responder"):60118,$re=zi?Symbol.for("react.scope"):60119;function wo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kC:switch(t=t.type,t){case CC:case ny:case Z1:case Q1:case J1:case ry:return t;default:switch(t=t&&t.$$typeof,t){case ty:case iy:case sy:case oy:case ey:return t;default:return e}}case SC:return e}}}function A7(t){return wo(t)===ny}Yt.AsyncMode=CC;Yt.ConcurrentMode=ny;Yt.ContextConsumer=ty;Yt.ContextProvider=ey;Yt.Element=kC;Yt.ForwardRef=iy;Yt.Fragment=Z1;Yt.Lazy=sy;Yt.Memo=oy;Yt.Portal=SC;Yt.Profiler=Q1;Yt.StrictMode=J1;Yt.Suspense=ry;Yt.isAsyncMode=function(t){return A7(t)||wo(t)===CC};Yt.isConcurrentMode=A7;Yt.isContextConsumer=function(t){return wo(t)===ty};Yt.isContextProvider=function(t){return wo(t)===ey};Yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kC};Yt.isForwardRef=function(t){return wo(t)===iy};Yt.isFragment=function(t){return wo(t)===Z1};Yt.isLazy=function(t){return wo(t)===sy};Yt.isMemo=function(t){return wo(t)===oy};Yt.isPortal=function(t){return wo(t)===SC};Yt.isProfiler=function(t){return wo(t)===Q1};Yt.isStrictMode=function(t){return wo(t)===J1};Yt.isSuspense=function(t){return wo(t)===ry};Yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Z1||t===ny||t===Q1||t===J1||t===ry||t===Cre||typeof t=="object"&&t!==null&&(t.$$typeof===sy||t.$$typeof===oy||t.$$typeof===ey||t.$$typeof===ty||t.$$typeof===iy||t.$$typeof===Tre||t.$$typeof===Ire||t.$$typeof===$re||t.$$typeof===Ere)};Yt.typeOf=wo;_7.exports=Yt;var _re=_7.exports,EC=_re,Are={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Nre={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ore={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},N7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TC={};TC[EC.ForwardRef]=Ore;TC[EC.Memo]=N7;function e_(t){return EC.isMemo(t)?N7:TC[t.$$typeof]||Are}var Dre=Object.defineProperty,Rre=Object.getOwnPropertyNames,t_=Object.getOwnPropertySymbols,Lre=Object.getOwnPropertyDescriptor,zre=Object.getPrototypeOf,n_=Object.prototype;function O7(t,e,n){if(typeof e!="string"){if(n_){var i=zre(e);i&&i!==n_&&O7(t,i,n)}var r=Rre(e);t_&&(r=r.concat(t_(e)));for(var o=e_(t),s=e_(e),a=0;a<r.length;++a){var l=r[a];if(!Nre[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=Lre(e,l);try{Dre(t,l,c)}catch(u){}}}}return t}var Fre=O7;const Mre=Ja(Fre);var w2=1073741823,i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function Pre(){var t="__global_unique_id__";return i_[t]=(i_[t]||0)+1}function Bre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jre(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(o){return o(t,r)})}}}function Ure(t){return Array.isArray(t)?t[0]:t}function Vre(t,e){var n,i,r="__create-react-context-"+Pre()+"__",o=function(a){Jl(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=jre(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;Bre(h,f)?p=0:(p=typeof e=="function"?e(h,f):w2,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(Ne.Component);o.childContextTypes=(n={},n[r]=Q$.object.isRequired,n);var s=function(a){Jl(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?w2:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?w2:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return Ure(this.props.children)(this.state.value)},l}(Ne.Component);return s.contextTypes=(i={},i[r]=Q$.object,i),{Provider:o,Consumer:s}}var Hre=Ne.createContext||Vre,D7=function(e){var n=Hre();return n.displayName=e,n},R7=D7("Router-History"),wu=D7("Router"),Mm=function(t){Jl(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(o){r._pendingLocation=o})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){r._isMounted&&r.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Ne.createElement(wu.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Ne.createElement(R7.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Ne.Component);Ne.Component;var Wre=function(t){Jl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(Ne.Component),k2={},Gre=1e4,r_=0;function qre(t){if(k2[t])return k2[t];var e=T7.compile(t);return r_<Gre&&(k2[t]=e,r_++),e}function o_(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:qre(t)(e,{pretty:!0})}function Xre(t){var e=t.computedMatch,n=t.to,i=t.push,r=i===void 0?!1:i;return Ne.createElement(wu.Consumer,null,function(o){o||Gu();var s=o.history,a=o.staticContext,l=r?s.push:s.replace,c=Pr(e?typeof n=="string"?o_(n,e.params):Gr({},n,{pathname:o_(n.pathname,e.params)}):n);return a?(l(c),null):Ne.createElement(Wre,{onMount:function(){l(c)},onUpdate:function(d,h){var f=Pr(h.to);qie(f,Gr({},c,{key:f.key}))||l(c)},to:n})})}var s_={},Kre=1e4,a_=0;function Yre(t,e){var n=""+e.end+e.strict+e.sensitive,i=s_[n]||(s_[n]={});if(i[t])return i[t];var r=[],o=T7(t,r,e),s={regexp:o,keys:r};return a_<Kre&&(i[t]=s,a_++),s}function IC(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,o=r===void 0?!1:r,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=Yre(h,{end:o,strict:a,sensitive:c}),p=f.regexp,m=f.keys,b=p.exec(t);if(!b)return null;var g=b[0],x=b.slice(1),y=t===g;return o&&!y?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:y,params:m.reduce(function(v,w,E){return v[w.name]=x[E],v},{})}},null)}function Zre(t){return Ne.Children.count(t)===0}var so=function(t){Jl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return Ne.createElement(wu.Consumer,null,function(o){o||Gu();var s=r.props.location||o.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?IC(s.pathname,r.props):o.match,l=Gr({},o,{location:s,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&Zre(u)&&(u=null),Ne.createElement(wu.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?Ne.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(Ne.Component);function $C(t){return t.charAt(0)==="/"?t:"/"+t}function Jre(t,e){return t?Gr({},e,{pathname:$C(t)+e.pathname}):e}function Qre(t,e){if(!t)return e;var n=$C(t);return e.pathname.indexOf(n)!==0?e:Gr({},e,{pathname:e.pathname.substr(n.length)})}function l_(t){return typeof t=="string"?t:Oo(t)}function S2(t){return function(){Gu()}}function c_(){}Ne.Component;Ne.Component;function eoe(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(r){var o=r.wrappedComponentRef,s=$7(r,["wrappedComponentRef"]);return Ne.createElement(wu.Consumer,null,function(a){return a||Gu(),Ne.createElement(t,Gr({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,Mre(n,t)}var L7=Ne.useContext;function ay(){return L7(R7)}function ly(){var t=L7(wu).match;return t?t.params:{}}class toe extends Ne.PureComponent{render(){return Ne.createElement(so,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Yp=({pathname:t,componentProps:e})=>{const{exact:n,component:i}=e,r=e.path||e.from,s=IC(t,{exact:n,path:r,component:i});return s||!1};class noe extends Uie{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,r){const o={id:qp("viewItem"),outletId:e,ionPageElement:r,reactElement:n,mount:!0,ionRoute:!1};return n.type===pC&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:Yp({pathname:i.pathname,componentProps:n.props}),childProps:n.props},o}getChildrenToRender(e,n,i){const r=this.getViewItemsForOutlet(e);return Ne.Children.forEach(n.props.children,s=>{const a=r.find(l=>u_(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),r.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=Ne.createElement(W$,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},Ne.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=u_(s.reactElement,i.pathname);a=Ne.createElement(W$,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},Ne.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:r,match:o}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&r&&o&&(r.routeData.match=o),r}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,n,i);return r}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i){let r,o,s;if(n)s=this.getViewItemsForOutlet(n),s.some(a),r||s.some(l);else{const c=this.getAllViewItems();c.some(a),r||c.some(l)}return{viewItem:r,match:o};function a(c){var u,d;if(i&&!c.ionRoute)return!1;if(o=Yp({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return r=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},r=c,!0):!1}}}function u_(t,e){return Yp({pathname:e,componentProps:t.props})}function ioe(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const d_=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class roe extends Ne.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=qp("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&r!==o&&(o.mount=!1));const s=ooe((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=s:s&&(r=this.context.createViewItem(this.id,s,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===o&&r.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),d_(r.ionPageElement)&&o!==void 0&&!d_(o.ionPageElement)))return;this.transitionPage(e,r,o)}else o&&!s&&!r&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=uC();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:o}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},r=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:r}}async transitionPage(e,n,i,r,o=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(soe(i.reactElement,e.pathname,!0)){const d=ioe(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!o&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=Ne.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return Ne.createElement(hC.Provider,{value:this.stackContextValue},Ne.cloneElement(n,{ref:r=>{n.props.setRef&&n.props.setRef(r),n.props.forwardedRef&&(n.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:o}=n;typeof o=="function"&&o(r)}},i))}static get contextType(){return p7}}function ooe(t,e){let n;return Ne.Children.forEach(t,i=>{Yp({pathname:e.pathname,componentProps:i.props})&&(n=i)}),n||(Ne.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function soe(t,e,n){return Yp({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class aoe extends Ne.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Bie,this.viewStack=new noe,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:qp("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[o,s]=n.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===o?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(o+(s?"?"+s:"")))):this.handleNavigate(o,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,r,o;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:qp("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,r,o,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:o,routeAnimation:r,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=uC();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const o=this.locationHistory.findLastLocation(r);if(o){const s=n||r.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:s}),r.lastPathname===r.pushedByRoute||o.pathname===r.pushedByRoute&&r.tab===""&&o.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",s)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const o=Object.assign({},r);o.pathname=n,o.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return Ne.createElement(p7.Provider,{value:this.routeMangerContextState},Ne.createElement(jie,{ionRoute:toe,ionRedirect:{},stackManager:roe,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const cy=eoe(aoe);cy.displayName="IonRouter";class loe extends Ne.Component{constructor(e){super(e);const{history:n}=e,i=Kp(e,["history"]);this.history=n||Jie(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Kp(e,["children"]);return Ne.createElement(Mm,Object.assign({history:this.history},i),Ne.createElement(cy,{registerHistoryListener:this.registerHistoryListener},n))}}class _9e extends Ne.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Kp(e,["children"]);return Ne.createElement(Mm,Object.assign({},i),Ne.createElement(cy,{registerHistoryListener:this.registerHistoryListener},n))}}class A9e extends Ne.Component{constructor(e){super(e);const{history:n}=e,i=Kp(e,["history"]);this.history=n||tre(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Kp(e,["children"]);return Ne.createElement(Mm,Object.assign({history:this.history},i),Ne.createElement(cy,{registerHistoryListener:this.registerHistoryListener},n))}}const coe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fi(()=>Promise.resolve().then(()=>ef),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class _C extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class uoe extends _C{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class doe extends _C{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hoe extends _C{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m3;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m3||(m3={}));var foe=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class poe{constructor(e,{headers:n={},customFetch:i,region:r=m3.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=coe(i)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e,n={}){var i;return foe(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(p=>{throw new uoe(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new doe(u);if(!u.ok)throw new hoe(u);let h=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var zr={},AC={},uy={},Pm={},dy={},hy={},moe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eh=moe();const goe=Eh.fetch,z7=Eh.fetch.bind(Eh),F7=Eh.Headers,boe=Eh.Request,xoe=Eh.Response,ef=Object.freeze(Object.defineProperty({__proto__:null,Headers:F7,Request:boe,Response:xoe,default:z7,fetch:goe},Symbol.toStringTag,{value:"Module"})),yoe=FN(ef);var fy={};Object.defineProperty(fy,"__esModule",{value:!0});let voe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};fy.default=voe;var M7=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hy,"__esModule",{value:!0});const woe=M7(yoe),koe=M7(fy);let Soe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=woe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,d=null,h=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,f="OK")}catch(b){o.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new koe.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(r=r.catch(o=>{var s,a,l;return{error:{message:"".concat((s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError",": ").concat(o==null?void 0:o.message),details:"".concat((a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""),hint:"",code:"".concat((l=o==null?void 0:o.code)!==null&&l!==void 0?l:"")},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};hy.default=Soe;var Coe=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dy,"__esModule",{value:!0});const Eoe=Coe(hy);let Toe=class extends Eoe.default{select(e){let n=!1;const i=(e!=null?e:"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){const s=o?"".concat(o,".order"):"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(a?"".concat(a,","):"").concat(e,".").concat(n?"asc":"desc").concat(i===void 0?"":i?".nullsfirst":".nullslast")),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"limit":"".concat(i,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,n,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"offset":"".concat(r,".offset"),s=typeof r>"u"?"limit":"".concat(r,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(s,"".concat(n-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(c,'"; options=').concat(l,";"),s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dy.default=Toe;var Ioe=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pm,"__esModule",{value:!0});const $oe=Ioe(dy);let _oe=class extends $oe.default{eq(e,n){return this.url.searchParams.append(e,"eq.".concat(n)),this}neq(e,n){return this.url.searchParams.append(e,"neq.".concat(n)),this}gt(e,n){return this.url.searchParams.append(e,"gt.".concat(n)),this}gte(e,n){return this.url.searchParams.append(e,"gte.".concat(n)),this}lt(e,n){return this.url.searchParams.append(e,"lt.".concat(n)),this}lte(e,n){return this.url.searchParams.append(e,"lte.".concat(n)),this}like(e,n){return this.url.searchParams.append(e,"like.".concat(n)),this}likeAllOf(e,n){return this.url.searchParams.append(e,"like(all).{".concat(n.join(","),"}")),this}likeAnyOf(e,n){return this.url.searchParams.append(e,"like(any).{".concat(n.join(","),"}")),this}ilike(e,n){return this.url.searchParams.append(e,"ilike.".concat(n)),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,"ilike(all).{".concat(n.join(","),"}")),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,"ilike(any).{".concat(n.join(","),"}")),this}is(e,n){return this.url.searchParams.append(e,"is.".concat(n)),this}in(e,n){const i=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?'"'.concat(r,'"'):"".concat(r)).join(",");return this.url.searchParams.append(e,"in.(".concat(i,")")),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(n))),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(e,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(n))),this}rangeGt(e,n){return this.url.searchParams.append(e,"sr.".concat(n)),this}rangeGte(e,n){return this.url.searchParams.append(e,"nxl.".concat(n)),this}rangeLt(e,n){return this.url.searchParams.append(e,"sl.".concat(n)),this}rangeLte(e,n){return this.url.searchParams.append(e,"nxr.".concat(n)),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,"adj.".concat(n)),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,"ov.".concat(n)):this.url.searchParams.append(e,"ov.{".concat(n.join(","),"}")),this}textSearch(e,n,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const s=i===void 0?"":"(".concat(i,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(s,".").concat(n)),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,"eq.".concat(i))}),this}not(e,n,i){return this.url.searchParams.append(e,"not.".concat(n,".").concat(i)),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const r=i?"".concat(i,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,n,i){return this.url.searchParams.append(e,"".concat(n,".").concat(i)),this}};Pm.default=_oe;var Aoe=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uy,"__esModule",{value:!0});const Mf=Aoe(Pm);let Noe=class{constructor(e,{headers:n={},schema:i,fetch:r}){this.url=e,this.headers=n,this.schema=i,this.fetch=r}select(e,{head:n=!1,count:i}={}){const r=n?"HEAD":"GET";let o=!1;const s=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer="count=".concat(i)),new Mf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push("count=".concat(n)),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>'"'.concat(l,'"'));this.url.searchParams.set("columns",a.join(","))}}return new Mf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){const s="POST",a=["resolution=".concat(i?"ignore":"merge","-duplicates")];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push("count=".concat(r)),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>'"'.concat(u,'"'));this.url.searchParams.set("columns",c.join(","))}}return new Mf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push("count=".concat(n)),this.headers.Prefer=r.join(","),new Mf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push("count=".concat(e)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Mf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};uy.default=Noe;var py={},my={};Object.defineProperty(my,"__esModule",{value:!0});my.version=void 0;my.version="0.0.0-automated";Object.defineProperty(py,"__esModule",{value:!0});py.DEFAULT_HEADERS=void 0;const Ooe=my;py.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(Ooe.version)};var P7=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(AC,"__esModule",{value:!0});const Doe=P7(uy),Roe=P7(Pm),Loe=py;let zoe=class B7{constructor(e,{headers:n={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Loe.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=r}from(e){const n=new URL("".concat(this.url,"/").concat(e));return new Doe.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new B7(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:r=!1,count:o}={}){let s;const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;i||r?(s=i?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?"{".concat(d.join(","),"}"):"".concat(d)]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new Roe.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};AC.default=zoe;var tf=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0});zr.PostgrestError=zr.PostgrestBuilder=zr.PostgrestTransformBuilder=zr.PostgrestFilterBuilder=zr.PostgrestQueryBuilder=zr.PostgrestClient=void 0;const j7=tf(AC);zr.PostgrestClient=j7.default;const U7=tf(uy);zr.PostgrestQueryBuilder=U7.default;const V7=tf(Pm);zr.PostgrestFilterBuilder=V7.default;const H7=tf(dy);zr.PostgrestTransformBuilder=H7.default;const W7=tf(hy);zr.PostgrestBuilder=W7.default;const G7=tf(fy);zr.PostgrestError=G7.default;var Foe=zr.default={PostgrestClient:j7.default,PostgrestQueryBuilder:U7.default,PostgrestFilterBuilder:V7.default,PostgrestTransformBuilder:H7.default,PostgrestBuilder:W7.default,PostgrestError:G7.default};const{PostgrestClient:Moe,PostgrestQueryBuilder:z9e,PostgrestFilterBuilder:F9e,PostgrestTransformBuilder:M9e,PostgrestBuilder:P9e,PostgrestError:B9e}=Foe,Poe="2.11.2",Boe={"X-Client-Info":"realtime-js/".concat(Poe)},joe="1.0.0",q7=1e4,Uoe=1e3;var oh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oh||(oh={}));var no;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(no||(no={}));var ms;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ms||(ms={}));var g3;(function(t){t.websocket="websocket"})(g3||(g3={}));var jc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jc||(jc={}));class Voe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=i.decode(e.slice(s,s+r));s=s+r;const l=i.decode(e.slice(s,s+o));s=s+o;const c=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class X7{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(hn||(hn={}));const h_=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,s)=>(o[s]=Hoe(s,t,e,r),o),{})},Hoe=(t,e,n,i)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,s=n[t];return o&&!i.includes(o)?K7(o,s):b3(s)},K7=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Xoe(e,n)}switch(t){case hn.bool:return Woe(e);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return Goe(e);case hn.json:case hn.jsonb:return qoe(e);case hn.timestamp:return Koe(e);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return b3(e);default:return b3(e)}},b3=t=>t,Woe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Goe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qoe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log("JSON parse error: ".concat(e)),t}return t},Xoe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch(a){o=s?s.split(","):[]}return o.map(a=>K7(e,a))}return t},Koe=t=>typeof t=="string"?t.replace(" ","T"):t,Y7=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class C2{constructor(e,n,i={},r=q7){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var f_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(f_||(f_={}));class Sp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sp.syncState(this.state,r,o,s),this.pendingDiffs.forEach(l=>{this.state=Sp.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Sp.syncDiff(this.state,r,o,s),a())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const o=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const h=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),p=u.filter(b=>f.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},i,r)}static syncDiff(e,n,i,r){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var p_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(p_||(p_={}));var m_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(m_||(m_={}));var ba;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class NC{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=no.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new C2(this,ms.join,this.params,this.timeout),this.rejoinTimer=new X7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=no.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=no.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),r),this.state=no.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=no.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ms.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new Sp(this),this.broadcastEndpointURL=Y7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ba.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ba.CLOSED));const l={},c={broadcast:o,presence:s,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(ba.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<f;m++){const b=h[m],{filter:{event:g,schema:x,table:y,filter:v}}=b,w=u&&u[m];if(w&&w.event===g&&w.schema===x&&w.table===y&&w.filter===v)p.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(ba.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=no.leaving;const n=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ms.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const r=new C2(this,ms.leave,{},e);r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,i){const r=new AbortController,o=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(o),s}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new C2(this,e,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ms;if(i&&[a,l,c,u].indexOf(s)>=0&&i!==this._joinRef())return;let h=this._onMessage(s,n,i);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,m,b;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(h,i)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,m,b,g,x,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const v=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return v&&((m=n.ids)===null||m===void 0?void 0:m.includes(v))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(x=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return v==="*"||v===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:b,commit_timestamp:g,type:x,errors:y}=p;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(p))}f.callback(h,i)})}_isClosed(){return this.state===no.closed}_isJoined(){return this.state===no.joined}_isJoining(){return this.state===no.joining}_isLeaving(){return this.state===no.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,n,i){const r=e.toLocaleLowerCase(),o={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&NC.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ms.close,{},e)}_onError(e){this._on(ms.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=no.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=h_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=h_(e.columns,e.old_record)),n}}const Yoe=()=>{},Zoe=typeof WebSocket<"u",Joe='\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });';class Qoe{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Boe,this.params={},this.timeout=q7,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Yoe,this.conn=null,this.sendBuffer=[],this.serializer=new Voe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>fi(()=>Promise.resolve().then(()=>ef),void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint="".concat(e,"/").concat(g3.websocket),this.httpEndpoint=Y7(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new X7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Zoe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ese(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fi(()=>import("./browser-BW7tOHbg.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:joe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return jc.Connecting;case oh.open:return jc.Open;case oh.closing:return jc.Closing;default:return jc.Closed}}isConnected(){return this.connectionState()===jc.Open}channel(e,n={config:{}}){const i=new NC("realtime:".concat(e),n,this);return this.channels.push(i),i}push(e){const{topic:n,event:i,payload:r,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push","".concat(n," ").concat(i," (").concat(o,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let i=null;try{i=JSON.parse(atob(n.split(".")[1]))}catch(r){}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(i.exp));this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(ms.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Uoe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(o.status||""," ").concat(i," ").concat(r," ").concat(s&&"("+s+")"||""),o),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ms.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return"".concat(e).concat(i).concat(r)}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([Joe],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class ese{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=oh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class OC extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ci(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tse extends OC{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class x3 extends OC{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var nse=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Z7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fi(()=>Promise.resolve().then(()=>ef),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},ise=()=>nse(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fi(()=>Promise.resolve().then(()=>ef),void 0)).Response:Response}),y3=t=>{if(Array.isArray(t))return t.map(n=>y3(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=y3(i)}),e};var qu=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const E2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rse=(t,e,n)=>qu(void 0,void 0,void 0,function*(){const i=yield ise();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new tse(E2(r),t.status||500))}).catch(r=>{e(new x3(E2(r),r))}):e(new x3(E2(t),t))}),ose=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(r.body=JSON.stringify(i)),Object.assign(Object.assign({},r),n))};function Bm(t,e,n,i,r,o){return qu(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,ose(e,i,r,o)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>rse(l,a,i))})})}function _x(t,e,n,i){return qu(this,void 0,void 0,function*(){return Bm(t,"GET",e,n,i)})}function kl(t,e,n,i,r){return qu(this,void 0,void 0,function*(){return Bm(t,"POST",e,i,r,n)})}function sse(t,e,n,i,r){return qu(this,void 0,void 0,function*(){return Bm(t,"PUT",e,i,r,n)})}function ase(t,e,n,i){return qu(this,void 0,void 0,function*(){return Bm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function J7(t,e,n,i,r){return qu(this,void 0,void 0,function*(){return Bm(t,"DELETE",e,i,r,n)})}var Nr=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const lse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cse{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Z7(r)}uploadOrUpdate(e,n,i,r){return Nr(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},g_),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=i,a["cache-control"]="max-age=".concat(s.cacheControl),a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Ci(o))return{data:null,error:o};throw o}})}upload(e,n,i){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return Nr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+"/object/upload/sign/".concat(s));a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:g_.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]="max-age=".concat(c.cacheControl),u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ci(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Nr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const o=yield kl(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(i),{},{headers:r}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new OC("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}update(e,n,i){return Nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Nr(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}copy(e,n,i){return Nr(this,void 0,void 0,function*(){try{return{data:{path:(yield kl(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return Nr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield kl(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const s=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(s))},{data:o,error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return Nr(this,void 0,void 0,function*(){try{const r=yield kl(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:n,paths:e},{headers:this.headers}),o=i!=null&&i.download?"&download=".concat(i.download===!0?"":i.download):"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI("".concat(this.url).concat(s.signedURL).concat(o)):null})),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}download(e,n){return Nr(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?"?".concat(o):"";try{const a=this._getFinalPath(e);return{data:yield(yield _x(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(a).concat(s),{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ci(a))return{data:null,error:a};throw a}})}info(e){return Nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield _x(this.fetch,"".concat(this.url,"/object/info/").concat(n),{headers:this.headers});return{data:y3(i),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}exists(e){return Nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ase(this.fetch,"".concat(this.url,"/object/").concat(n),{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ci(i)&&i instanceof x3){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],o=n!=null&&n.download?"download=".concat(n.download===!0?"":n.download):"";o!==""&&r.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c="?".concat(c)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(i).concat(c))}}}remove(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield J7(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ci(n))return{data:null,error:n};throw n}})}list(e,n,i){return Nr(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lse),n),{prefix:e||""});return{data:yield kl(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},i),error:null}}catch(r){if(Ci(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push("width=".concat(e.width)),e.height&&n.push("height=".concat(e.height)),e.resize&&n.push("resize=".concat(e.resize)),e.format&&n.push("format=".concat(e.format)),e.quality&&n.push("quality=".concat(e.quality)),n.join("&")}}const use="2.7.1",dse={"X-Client-Info":"storage-js/".concat(use)};var md=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class hse{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},dse),n),this.fetch=Z7(i)}listBuckets(){return md(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Ci(e))return{data:null,error:e};throw e}})}getBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(n){if(Ci(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return md(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return md(this,void 0,void 0,function*(){try{return{data:yield sse(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ci(i))return{data:null,error:i};throw i}})}emptyBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(n){if(Ci(n))return{data:null,error:n};throw n}})}deleteBucket(e){return md(this,void 0,void 0,function*(){try{return{data:yield J7(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(n){if(Ci(n))return{data:null,error:n};throw n}})}}class fse extends hse{constructor(e,n={},i){super(e,n,i)}from(e){return new cse(this.url,this.headers,e,this.fetch)}}const pse="2.49.4";let Qf="";typeof Deno<"u"?Qf="deno":typeof document<"u"?Qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qf="react-native":Qf="node";const mse={"X-Client-Info":"supabase-js-".concat(Qf,"/").concat(pse)},gse={headers:mse},bse={schema:"public"},xse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yse={};var vse=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const wse=t=>{let e;return t?e=t:typeof fetch>"u"?e=z7:e=fetch,(...n)=>e(...n)},kse=()=>typeof Headers>"u"?F7:Headers,Sse=(t,e,n)=>{const i=wse(n),r=kse();return(o,s)=>vse(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),i(o,Object.assign(Object.assign({},s),{headers:c}))})};var Cse=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function Ese(t){return t.replace(/\/$/,"")}function Tse(t,e){const{db:n,auth:i,realtime:r,global:o}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),o),accessToken:()=>Cse(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Q7="2.69.1",_d=30*1e3,v3=3,T2=v3*_d,Ise="http://localhost:9999",$se="supabase.auth.token",_se={"X-Client-Info":"gotrue-js/".concat(Q7)},w3="X-Supabase-Api-Version",e9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ase=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nse=6e5;class DC extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function St(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ose extends DC{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Dse(t){return St(t)&&t.name==="AuthApiError"}class t9 extends DC{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class pc extends DC{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class bl extends pc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rse(t){return St(t)&&t.name==="AuthSessionMissingError"}class I2 extends pc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class H0 extends pc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class W0 extends pc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lse(t){return St(t)&&t.name==="AuthImplicitGrantRedirectError"}class b_ extends pc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class k3 extends pc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $2(t){return St(t)&&t.name==="AuthRetryableFetchError"}class x_ extends pc{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Cp extends pc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const y_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),v_=" 	\n\r=".split(""),zse=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<v_.length;e+=1)t[v_[e].charCodeAt(0)]=-2;for(let e=0;e<y_.length;e+=1)t[y_[e].charCodeAt(0)]=e;return t})();function n9(t,e,n){const i=zse[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(t),'"'))}}function w_(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=s=>{Pse(s,i,n)};for(let s=0;s<t.length;s+=1)n9(t.charCodeAt(s),r,o);return e.join("")}function Fse(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error("Unrecognized Unicode codepoint: ".concat(t.toString(16)))}function Mse(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Fse(i,e)}}function Pse(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Bse(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)n9(t.charCodeAt(r),n,i);return new Uint8Array(e)}function jse(t){const e=[];return Mse(t,n=>e.push(n)),new Uint8Array(e)}function Use(t){return Math.round(Date.now()/1e3)+t}function Vse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",Oc={tested:!1,writable:!1},Ep=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Oc.tested)return Oc.writable;const t="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Oc.tested=!0,Oc.writable=!0}catch(e){Oc.tested=!0,Oc.writable=!1}return Oc.writable};function Hse(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch(i){}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const i9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fi(()=>Promise.resolve().then(()=>ef),void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Wse=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",r9=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},G0=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(i){return n}},q0=async(t,e)=>{await t.removeItem(e)};class gy{constructor(){this.promise=new gy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gy.promiseConstructor=Promise;function _2(t){const e=t.split(".");if(e.length!==3)throw new Cp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Ase.test(e[i]))throw new Cp("JWT not in base64url format");return{header:JSON.parse(w_(e[0])),payload:JSON.parse(w_(e[1])),signature:Bse(e[2]),raw:{header:e[0],payload:e[1]}}}async function Gse(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qse(t,e){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){i(s);return}}catch(s){if(!e(o,s)){r(s);return}}})()})}function Xse(t){return("0"+t.toString(16)).substr(-2)}function Kse(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let o=0;o<56;o++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,Xse).join("")}async function Yse(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Zse(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Yse(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gd(t,e,n=!1){const i=Kse();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await r9(t,"".concat(e,"-code-verifier"),r);const o=await Zse(i);return[o,i===o?"plain":"s256"]}const Jse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qse(t){const e=t.headers.get(w3);if(!e||!e.match(Jse))return null;try{return new Date("".concat(e,"T00:00:00.0Z"))}catch(n){return null}}function eae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var nae=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Mc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iae=[502,503,504];async function k_(t){var e;if(!Wse(t))throw new k3(Mc(t),0);if(iae.includes(t.status))throw new k3(Mc(t),t.status);let n;try{n=await t.json()}catch(o){throw new t9(Mc(o),o)}let i;const r=Qse(t);if(r&&r.getTime()>=e9["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new x_(Mc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new bl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new x_(Mc(n),t.status,n.weak_password.reasons);throw new Ose(Mc(n),t.status||500,i)}const rae=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ot(t,e,n,i){var r;const o=Object.assign({},i==null?void 0:i.headers);o[w3]||(o[w3]=e9["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization="Bearer ".concat(i.jwt));const s=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(s.redirect_to=i.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await oae(t,e,n+a,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function oae(t,e,n,i,r,o){const s=rae(e,i,r,o);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new k3(Mc(l),0)}if(a.ok||await k_(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await k_(l)}}function xl(t){var e;let n=null;cae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Use(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function S_(t){const e=xl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _l(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sae(t){return{data:t,error:null}}function aae(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:o}=t,s=nae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function lae(t){return t}function cae(t){return t.access_token&&t.refresh_token&&t.expires_in}var uae=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class dae{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=i9(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ot(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(n),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ot(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_l})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=uae(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Ot(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:aae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(St(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ot(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:_l})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ot(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:lae});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);c["".concat(b,"Page")]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(St(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ot(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:_l})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ot(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:n,headers:this.headers,xform:_l})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){try{return await Ot(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:n},xform:_l})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:n,error:i}=await Ot(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(St(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ot(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}}const hae={getItem:t=>Ep()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ep()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ep()&&globalThis.localStorage.removeItem(t)}};function C_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function fae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self<"u"&&(self.globalThis=self)}}const bd={debug:!!(globalThis&&Ep()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pae extends o9{}async function mae(t,e,n){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),bd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pae('Acquiring an exclusive Navigator LockManager lock "'.concat(t,'" immediately failed'));if(bd.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fae();const gae={url:Ise,storageKey:$se,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_se,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function E_(t,e,n){return await n()}class Zp{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zp.nextInstanceID,Zp.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},gae),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new dae({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=i9(r.fetch),this.lock=r.lock||E_,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ps()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mae:this.lock=E_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ep()?this.storage=hae:(this.memoryStorage={},this.storage=C_(this.memoryStorage)):(this.memoryStorage={},this.storage=C_(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Q7,") ").concat(new Date().toISOString()),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Hse(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Ps()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Lse(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return St(n)?{error:n}:{error:new t9("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const o=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:xl}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(St(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,i,r;try{let o;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await gd(this.storage,this.storageKey)),o=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:xl})}else if("phone"in e){const{phone:u,password:d,options:h}=e;o=await Ot(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:u,password:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xl})}else throw new H0("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(St(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:S_})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:S_})}else throw new H0("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new I2}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(St(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await G0(this.storage,"".concat(this.storageKey,"-code-verifier")),[i,r]=(n!=null?n:"").split("/");try{const{data:o,error:s}=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:xl});if(await q0(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new I2}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r!=null?r:null}),error:s})}catch(o){if(St(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:o,nonce:s}=e,a=await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:i,id_token:r,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xl}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new I2}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(St(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,o,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await gd(this.storage,this.storageKey));const{error:d}=await Ot(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Ot(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new H0("You must provide either an email or phone number.")}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,i;try{let r,o;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:a}=await Ot(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:xl});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await gd(this.storage,this.storageKey)),await Ot(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:sae})}catch(o){if(St(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new bl;const{error:r}=await Ot(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(St(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n="".concat(this.url,"/resend");if("email"in e){const{email:i,type:r,options:o}=e,{error:s}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:i,type:r,options:o}=e,{data:s,error:a}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new H0("You must provide either an email or phone number and a type")}catch(n){if(St(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch(o){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch(r){}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await G0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<T2:!1;if(this._debug("#__loadSession()","session has".concat(i?"":" not"," expired"),"expires_at",e.expires_at),!i){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ot(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:_l}):await this._useSession(async n=>{var i,r,o;const{data:s,error:a}=n;if(a)throw a;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bl}:await Ot(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:_l})})}catch(n){if(St(n))return Rse(n)&&(await this._removeSession(),await q0(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:o}=i;if(o)throw o;if(!r.session)throw new bl;const s=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gd(this.storage,this.storageKey));const{data:c,error:u}=await Ot(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:_l});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bl;const n=Date.now()/1e3;let i=n,r=!0,o=null;const{payload:s}=_2(e.access_token);if(s.exp&&(i=s.exp,r=i<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(St(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(i=s.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new bl;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(St(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ps())throw new W0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new W0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new b_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new W0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new b_("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!s||!c)throw new W0("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=_d&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(d,"s"));const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const g={provider_token:i,provider_refresh_token:r,access_token:o,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(i){if(St(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await G0(this.storage,"".concat(this.storageKey,"-code-verifier"));return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:o}=n;if(o)return{error:o};const s=(i=r.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(Dse(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await q0(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const n=Vse(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:o},error:s}=n;if(s)throw s;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await gd(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(St(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Ps()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(St(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:o,error:s}=n;if(s)throw s;return await Ot(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(St(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{const i=Date.now();return await qse(async r=>(r>0&&await Gse(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ot(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:xl})),(r,o)=>{const s=200*Math.pow(2,r);return o&&$2(o)&&Date.now()+s-i<_d})}catch(i){if(this._debug(n,"error",i),St(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ps()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await G0(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<T2;if(this._debug(n,"session has".concat(r?"":" not"," expired with margin of ").concat(T2,"s")),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),$2(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new bl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new gy;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new bl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),St(o)){const s={session:null,error:o};return $2(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",n,"broadcast = ".concat(i));try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await r9(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await q0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_d);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/_d);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(_d,"ms, refresh threshold is ").concat(v3," ticks")),r<=v3&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof o9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n="#_onVisibilityChanged(".concat(e,")");this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=["provider=".concat(encodeURIComponent(n))];if(i!=null&&i.redirectTo&&r.push("redirect_to=".concat(encodeURIComponent(i.redirectTo))),i!=null&&i.scopes&&r.push("scopes=".concat(encodeURIComponent(i.scopes))),this.flowType==="pkce"){const[o,s]=await gd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(s))});r.push(a.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);r.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&r.push("skip_http_redirect=".concat(i.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:o}=n;return o?{data:null,error:o}:await Ot(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(St(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ot(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code="data:image/svg+xml;utf-8,".concat(l.totp.qr_code)),{data:l,error:null})})}catch(n){if(St(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await Ot(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(St(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:o}=n;return o?{data:null,error:o}:await Ot(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(St(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=_2(r.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(s=>s.kid===e);if(i||(i=this.jwks.keys.find(s=>s.kid===e),i&&this.jwks_cached_at+Nse>Date.now()))return i;const{data:r,error:o}=await Ot(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(o)throw o;if(!r.keys||r.keys.length===0)throw new Cp("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),i=r.keys.find(s=>s.kid===e),!i)throw new Cp("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};i=f.session.access_token}const{header:r,payload:o,signature:s,raw:{header:a,payload:l}}=_2(i);if(eae(o.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(i);if(f)throw f;return{data:{claims:o,header:r,signature:s},error:null}}const c=tae(r.alg),u=await this.fetchJwk(r.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,jse("".concat(a,".").concat(l))))throw new Cp("Invalid JWT signature");return{data:{claims:o,header:r,signature:s},error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}}}Zp.nextInstanceID=0;const bae=Zp;class xae extends bae{constructor(e){super(e)}}var yae=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class vae{constructor(e,n,i){var r,o,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ese(e);this.realtimeUrl="".concat(a,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(a,"/auth/v1"),this.storageUrl="".concat(a,"/storage/v1"),this.functionsUrl="".concat(a,"/functions/v1");const l="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),c={db:bse,realtime:yse,auth:Object.assign(Object.assign({},xse),{storageKey:l}),global:gse},u=Tse(i!=null?i:{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(h)," is not possible"))}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Sse(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Moe("".concat(a,"/rest/v1"),{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new poe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fse(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return yae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:o,flowType:s,lock:a,debug:l},c,u){const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new xae({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Qoe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wae=(t,e,n)=>new vae(t,e,n),s9="https://dofkgpqpyxfgxwwbiifj.supabase.co",Ib="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvZmtncHFweXhmZ3h3d2JpaWZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY1MzMzNjYsImV4cCI6MjA2MjEwOTM2Nn0.XZekoiM7DjAU8VidqhMlU0SuSB1QEvqCf5V8YKElTiA";console.log("[Supabase] Initializing with:",{url:s9,key:(Ib==null?void 0:Ib.slice(0,5))+"..."});const De=wae(s9,Ib,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),kae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Sae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Cae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.94v-.05a21.74 21.74 0 1143.44 0z'/></svg>",Eae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Tae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Iae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='64'/><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",$ae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM316.84 346.3a96.06 96.06 0 01-155.66-59.18 16 16 0 01-16.49-26.43l20-20a16 16 0 0122.62 0l20 20A16 16 0 01196 288a17.31 17.31 0 01-2-.14 64.07 64.07 0 00102.66 33.63 16 16 0 1120.21 24.81zm50.47-63l-20 20a16 16 0 01-22.62 0l-20-20a16 16 0 0113.09-27.2A64 64 0 00215 222.64 16 16 0 11194.61 198a96 96 0 01156 59 16 16 0 0116.72 26.35z'/></svg>",_ae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",Aae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 128L240 384l-96-96M144 384l-96-96M368 128L232 284' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Nae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Oae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Ql="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",T_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",$b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Dae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 255.79l-64-64-64 64M256 448.21V207.79' class='ionicon-fill-none ionicon-stroke-width'/></svg>",a9="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Rae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",I_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M288 72v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",$_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Pf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",__="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M176 272l80 80 80-80M256 48v288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",A_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M440 432H72a40 40 0 01-40-40V120a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H440a40 40 0 0140 40v240a40 40 0 01-40 40zM32 192h448' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Lae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm167.67 106.17c-12 40.3-50.2 69.83-95.62 69.83s-83.62-29.53-95.72-69.83a8 8 0 017.83-10.17h175.69a8 8 0 017.82 10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",zae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256.05 384c-45.42 0-83.62-29.53-95.71-69.83a8 8 0 017.82-10.17h175.69a8 8 0 017.82 10.17c-11.99 40.3-50.2 69.83-95.62 69.83z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Fae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>",Mae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Pae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324' stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' class='ionicon-fill-none'/><circle cx='248' cy='399.99' r='32'/></svg>",Bae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",S3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 00-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 11-32-32 32 32 0 0132 32z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M208 352h-64a96 96 0 010-192h64M304 160h64a96 96 0 010 192h-64M163.29 256h187.42' stroke-linecap='round' stroke-linejoin='round' stroke-width='36' class='ionicon-fill-none'/></svg>",Uae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Vae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Hae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.16 221.48l-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 01-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z'/></svg>",N_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M192 448h128M384 208v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32M256 368v80' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 320a78.83 78.83 0 01-56.55-24.1A80.89 80.89 0 01176 239V128a79.69 79.69 0 0180-80c44.86 0 80 35.14 80 80v111c0 44.66-35.89 81-80 81z'/></svg>",Wae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M192 448h128M384 208v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32M256 368v80' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 64a63.68 63.68 0 00-64 64v111c0 35.2 29 65 64 65s64-29 64-65V128c0-36-28-64-64-64z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Gae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>",qae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",Xae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Kae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Yae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z'/></svg>",Zae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM184 208a24 24 0 11-24 24 23.94 23.94 0 0124-24zm-23.67 149.83c12-40.3 50.2-69.83 95.62-69.83s83.62 29.53 95.71 69.83a8 8 0 01-7.82 10.17H168.15a8 8 0 01-7.82-10.17zM328 256a24 24 0 1124-24 23.94 23.94 0 01-24 24z'/></svg>",Jae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='184' cy='232' r='24'/><path d='M256 288c45.42 0 83.62 29.53 95.71 69.83a8 8 0 01-7.87 10.17H168.15a8 8 0 01-7.82-10.17C172.32 317.53 210.53 288 256 288z'/><circle cx='328' cy='232' r='24'/><circle cx='256' cy='256' r='208' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Qae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",ele="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 53.84S208 48 256 48s74 16 96 32h64a64 64 0 0164 64v48a64 64 0 01-64 64h-30a32.34 32.34 0 00-27.37 15.4S350 290.19 324 335.22 248 448 240 464c-29 0-43-22-34-47.71 10.28-29.39 23.71-54.38 27.46-87.09.54-4.78-3.14-12-8-12L96 307' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M96 241l80 2c20 1.84 32 12.4 32 30h0c0 17.6-14 28.84-32 30l-80 4c-17.6 0-32-16.4-32-34v-.17A32 32 0 0196 241zM64 176l112 2c18 .84 32 12.41 32 30h0c0 17.61-14 28.86-32 30l-112 2a32.1 32.1 0 01-32-32h0a32.1 32.1 0 0132-32zM112 48l64 3c21 1.84 32 11.4 32 29h0c0 17.6-14.4 30-32 30l-64 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32zM80 112l96 2c19 .84 32 12.4 32 30h0c0 17.6-13 28.84-32 30l-96 2a32.09 32.09 0 01-32-32h0a32.09 32.09 0 0132-32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",tle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 458.16S304 464 256 464s-74-16-96-32H96a64 64 0 01-64-64v-48a64 64 0 0164-64h30a32.34 32.34 0 0027.37-15.4S162 221.81 188 176.78 264 64 272 48c29 0 43 22 34 47.71-10.28 29.39-23.71 54.38-27.46 87.09-.54 4.78 3.14 12 7.95 12L416 205' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M416 271l-80-2c-20-1.84-32-12.4-32-30h0c0-17.6 14-28.84 32-30l80-4c17.6 0 32 16.4 32 34v.17A32 32 0 01416 271zM448 336l-112-2c-18-.84-32-12.41-32-30h0c0-17.61 14-28.86 32-30l112-2a32.1 32.1 0 0132 32h0a32.1 32.1 0 01-32 32zM400 464l-64-3c-21-1.84-32-11.4-32-29h0c0-17.6 14.4-30 32-30l64-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32zM432 400l-96-2c-19-.84-32-12.4-32-30h0c0-17.6 13-28.84 32-30l96-2a32.09 32.09 0 0132 32h0a32.09 32.09 0 01-32 32z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",nle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ile="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",rle="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",ole=()=>{const t=Wa(),[e]=B1(),n=async()=>{try{const{data:i,error:r}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/Cephaline-Supabase/app"}});if(r)throw r;await e({message:"Google login successful!",duration:2e3,position:"top",color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(i){await e({message:i.message||"Google login failed",duration:3e3,position:"top",color:"danger"}),console.error("Google login error:",i)}};return S.jsxs(He,{expand:"block",onClick:n,fill:"outline",className:"google-login-button",children:[S.jsx(at,{slot:"start",icon:Hae,className:"google-icon"}),"Continue with Google"]})};//! otpauth 9.4.0 | (c) Héctor Molinero Fernández | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.7.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const sle=t=>{const e=new ArrayBuffer(8),n=new Uint8Array(e);let i=t;for(let r=7;r>=0&&i!==0;r--)n[r]=i&255,i-=n[r],i/=256;return n};function Ax(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ale(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function by(t,...e){if(!ale(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lle(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ax(t.outputLen),Ax(t.blockLen)}function Th(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function l9(t,e){by(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cle(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function A2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ms(t,e){return t<<32-e|t>>>e}function N2(t,e){return t<<e|t>>>32-e>>>0}const O_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ule(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function D_(t){for(let e=0;e<t.length;e++)t[e]=ule(t[e])}function dle(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function xy(t){return typeof t=="string"&&(t=dle(t)),by(t),t}class RC{clone(){return this._cloneInto()}}function nf(t){const e=i=>t().update(xy(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class c9 extends RC{update(e){return Th(this),this.iHash.update(e),this}digestInto(e){Th(this),by(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:r,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=r,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,n){super(),this.finished=!1,this.destroyed=!1,lle(e);const i=xy(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(i.length>r?e.create().update(i).digest():i);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}}const E3=(t,e,n)=>new c9(t,e).update(n).digest();E3.create=(t,e)=>new c9(t,e);function hle(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const r=BigInt(32),o=BigInt(4294967295),s=Number(n>>r&o),a=Number(n&o),l=i?4:0,c=i?0:4;t.setUint32(e+l,s,i),t.setUint32(e+c,a,i)}function u9(t,e,n){return t&e^~t&n}function d9(t,e,n){return t&e^t&n^e&n}class LC extends RC{update(e){Th(this);const{view:n,buffer:i,blockLen:r}=this;e=xy(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(r-this.pos,o-s);if(a===r){const l=A2(e);for(;r<=o-s;s+=r)this.process(l,s);continue}i.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Th(this),l9(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:r,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(i,0),s=0);for(let d=s;d<r;d++)n[d]=0;hle(i,r-8,BigInt(this.length*8),o),this.process(i,0);const a=A2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:r,finished:o,destroyed:s,pos:a}=this;return e.length=r,e.pos=a,e.finished=o,e.destroyed=s,r%n&&e.buffer.set(i),e}constructor(e,n,i,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=A2(this.buffer)}}const Bf=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),ul=new Uint32Array(80);class fle extends LC{get(){const{A:e,B:n,C:i,D:r,E:o}=this;return[e,n,i,r,o]}set(e,n,i,r,o){this.A=e|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=o|0}process(e,n){for(let l=0;l<16;l++,n+=4)ul[l]=e.getUint32(n,!1);for(let l=16;l<80;l++)ul[l]=N2(ul[l-3]^ul[l-8]^ul[l-14]^ul[l-16],1);let{A:i,B:r,C:o,D:s,E:a}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=u9(r,o,s),u=1518500249):l<40?(c=r^o^s,u=1859775393):l<60?(c=d9(r,o,s),u=2400959708):(c=r^o^s,u=3395469782);const d=N2(i,5)+c+a+u+ul[l]|0;a=s,s=o,o=N2(r,30),r=i,i=d}i=i+this.A|0,r=r+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(i,r,o,s,a)}roundClean(){ul.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=Bf[0]|0,this.B=Bf[1]|0,this.C=Bf[2]|0,this.D=Bf[3]|0,this.E=Bf[4]|0}}const ple=nf(()=>new fle),mle=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hl=new Uint32Array(64);class h9 extends LC{get(){const{A:e,B:n,C:i,D:r,E:o,F:s,G:a,H:l}=this;return[e,n,i,r,o,s,a,l]}set(e,n,i,r,o,s,a,l){this.A=e|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)hl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=hl[d-15],f=hl[d-2],p=Ms(h,7)^Ms(h,18)^h>>>3,m=Ms(f,17)^Ms(f,19)^f>>>10;hl[d]=m+hl[d-7]+p+hl[d-16]|0}let{A:i,B:r,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=Ms(a,6)^Ms(a,11)^Ms(a,25),f=u+h+u9(a,l,c)+mle[d]+hl[d]|0,m=(Ms(i,2)^Ms(i,13)^Ms(i,22))+d9(i,r,o)|0;u=c,c=l,l=a,a=s+f|0,s=o,o=r,r=i,i=f+m|0}i=i+this.A|0,r=r+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(i,r,o,s,a,l,c,u)}roundClean(){hl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=dl[0]|0,this.B=dl[1]|0,this.C=dl[2]|0,this.D=dl[3]|0,this.E=dl[4]|0,this.F=dl[5]|0,this.G=dl[6]|0,this.H=dl[7]|0}}class gle extends h9{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ble=nf(()=>new h9),xle=nf(()=>new gle),X0=BigInt(2**32-1),T3=BigInt(32);function f9(t,e=!1){return e?{h:Number(t&X0),l:Number(t>>T3&X0)}:{h:Number(t>>T3&X0)|0,l:Number(t&X0)|0}}function p9(t,e=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let r=0;r<t.length;r++){const{h:o,l:s}=f9(t[r],e);[n[r],i[r]]=[o,s]}return[n,i]}const yle=(t,e)=>BigInt(t>>>0)<<T3|BigInt(e>>>0),vle=(t,e,n)=>t>>>n,wle=(t,e,n)=>t<<32-n|e>>>n,kle=(t,e,n)=>t>>>n|e<<32-n,Sle=(t,e,n)=>t<<32-n|e>>>n,Cle=(t,e,n)=>t<<64-n|e>>>n-32,Ele=(t,e,n)=>t>>>n-32|e<<64-n,Tle=(t,e)=>e,Ile=(t,e)=>t,m9=(t,e,n)=>t<<n|e>>>32-n,g9=(t,e,n)=>e<<n|t>>>32-n,b9=(t,e,n)=>e<<n-32|t>>>64-n,x9=(t,e,n)=>t<<n-32|e>>>64-n;function $le(t,e,n,i){const r=(e>>>0)+(i>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}const _le=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ale=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,Nle=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Ole=(t,e,n,i,r)=>e+n+i+r+(t/2**32|0)|0,Dle=(t,e,n,i,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(r>>>0),Rle=(t,e,n,i,r,o)=>e+n+i+r+o+(t/2**32|0)|0,Ct={fromBig:f9,split:p9,toBig:yle,shrSH:vle,shrSL:wle,rotrSH:kle,rotrSL:Sle,rotrBH:Cle,rotrBL:Ele,rotr32H:Tle,rotr32L:Ile,rotlSH:m9,rotlSL:g9,rotlBH:b9,rotlBL:x9,add:$le,add3L:_le,add3H:Ale,add4L:Nle,add4H:Ole,add5H:Rle,add5L:Dle},[Lle,zle]=Ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),fl=new Uint32Array(80),pl=new Uint32Array(80);class y9 extends LC{get(){const{Ah:e,Al:n,Bh:i,Bl:r,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:b}=this;return[e,n,i,r,o,s,a,l,c,u,d,h,f,p,m,b]}set(e,n,i,r,o,s,a,l,c,u,d,h,f,p,m,b){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=r|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=b|0}process(e,n){for(let y=0;y<16;y++,n+=4)fl[y]=e.getUint32(n),pl[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const v=fl[y-15]|0,w=pl[y-15]|0,E=Ct.rotrSH(v,w,1)^Ct.rotrSH(v,w,8)^Ct.shrSH(v,w,7),C=Ct.rotrSL(v,w,1)^Ct.rotrSL(v,w,8)^Ct.shrSL(v,w,7),I=fl[y-2]|0,T=pl[y-2]|0,_=Ct.rotrSH(I,T,19)^Ct.rotrBH(I,T,61)^Ct.shrSH(I,T,6),M=Ct.rotrSL(I,T,19)^Ct.rotrBL(I,T,61)^Ct.shrSL(I,T,6),D=Ct.add4L(C,M,pl[y-7],pl[y-16]),z=Ct.add4H(D,E,_,fl[y-7],fl[y-16]);fl[y]=z|0,pl[y]=D|0}let{Ah:i,Al:r,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:b,Hh:g,Hl:x}=this;for(let y=0;y<80;y++){const v=Ct.rotrSH(d,h,14)^Ct.rotrSH(d,h,18)^Ct.rotrBH(d,h,41),w=Ct.rotrSL(d,h,14)^Ct.rotrSL(d,h,18)^Ct.rotrBL(d,h,41),E=d&f^~d&m,C=h&p^~h&b,I=Ct.add5L(x,w,C,zle[y],pl[y]),T=Ct.add5H(I,g,v,E,Lle[y],fl[y]),_=I|0,M=Ct.rotrSH(i,r,28)^Ct.rotrBH(i,r,34)^Ct.rotrBH(i,r,39),D=Ct.rotrSL(i,r,28)^Ct.rotrBL(i,r,34)^Ct.rotrBL(i,r,39),z=i&o^i&a^o&a,$=r&s^r&l^s&l;g=m|0,x=b|0,m=f|0,b=p|0,f=d|0,p=h|0,{h:d,l:h}=Ct.add(c|0,u|0,T|0,_|0),c=a|0,u=l|0,a=o|0,l=s|0,o=i|0,s=r|0;const F=Ct.add3L(_,D,$);i=Ct.add3H(F,T,M,z),r=F|0}({h:i,l:r}=Ct.add(this.Ah|0,this.Al|0,i|0,r|0)),{h:o,l:s}=Ct.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Ct.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Ct.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Ct.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Ct.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:b}=Ct.add(this.Gh|0,this.Gl|0,m|0,b|0),{h:g,l:x}=Ct.add(this.Hh|0,this.Hl|0,g|0,x|0),this.set(i,r,o,s,a,l,c,u,d,h,f,p,m,b,g,x)}roundClean(){fl.fill(0),pl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class Fle extends y9{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Mle=nf(()=>new y9),Ple=nf(()=>new Fle),v9=[],w9=[],k9=[],Ble=BigInt(0),jf=BigInt(1),jle=BigInt(2),Ule=BigInt(7),Vle=BigInt(256),Hle=BigInt(113);for(let t=0,e=jf,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],v9.push(2*(5*i+n)),w9.push((t+1)*(t+2)/2%64);let r=Ble;for(let o=0;o<7;o++)e=(e<<jf^(e>>Ule)*Hle)%Vle,e&jle&&(r^=jf<<(jf<<BigInt(o))-jf);k9.push(r)}const[Wle,Gle]=p9(k9,!0),R_=(t,e,n)=>n>32?b9(t,e,n):m9(t,e,n),L_=(t,e,n)=>n>32?x9(t,e,n):g9(t,e,n);function qle(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=R_(c,u,1)^n[a],h=L_(c,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=h}let r=t[2],o=t[3];for(let s=0;s<24;s++){const a=w9[s],l=R_(r,o,a),c=L_(r,o,a),u=v9[s];r=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Wle[i],t[1]^=Gle[i]}n.fill(0)}class zC extends RC{keccak(){O_||D_(this.state32),qle(this.state32,this.rounds),O_||D_(this.state32),this.posOut=0,this.pos=0}update(e){Th(this);const{blockLen:n,state:i}=this;e=xy(e);const r=e.length;for(let o=0;o<r;){const s=Math.min(n-this.pos,r-o);for(let a=0;a<s;a++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:r}=this;e[i]^=n,n&128&&i===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Th(this,!1),by(e),this.finish();const n=this.state,{blockLen:i}=this;for(let r=0,o=e.length;r<o;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,o-r);e.set(n.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ax(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(l9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:r,rounds:o,enableXOF:s}=this;return e||(e=new zC(n,i,r,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}constructor(e,n,i,r=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=r,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ax(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=cle(this.state)}}const yy=(t,e,n)=>nf(()=>new zC(e,t,n)),Xle=yy(6,144,224/8),Kle=yy(6,136,256/8),Yle=yy(6,104,384/8),Zle=yy(6,72,512/8),Ih=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),z_={SHA1:ple,SHA224:xle,SHA256:ble,SHA384:Ple,SHA512:Mle,"SHA3-224":Xle,"SHA3-256":Kle,"SHA3-384":Yle,"SHA3-512":Zle},FC=t=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(t):return"SHA1";case/^SHA(?:2?-)?224$/i.test(t):return"SHA224";case/^SHA(?:2?-)?256$/i.test(t):return"SHA256";case/^SHA(?:2?-)?384$/i.test(t):return"SHA384";case/^SHA(?:2?-)?512$/i.test(t):return"SHA512";case/^SHA3-224$/i.test(t):return"SHA3-224";case/^SHA3-256$/i.test(t):return"SHA3-256";case/^SHA3-384$/i.test(t):return"SHA3-384";case/^SHA3-512$/i.test(t):return"SHA3-512";default:throw new TypeError("Unknown hash algorithm: ".concat(t))}},Jle=(t,e,n)=>{var i;if(E3){const r=(i=z_[t])!=null?i:z_[FC(t)];return E3(r,e,n)}else throw new Error("Missing HMAC function")},I3="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Qle=t=>{t=t.replace(/ /g,"");let e=t.length;for(;t[e-1]==="=";)--e;t=(e<t.length?t.substring(0,e):t).toUpperCase();const n=new ArrayBuffer(t.length*5/8|0),i=new Uint8Array(n);let r=0,o=0,s=0;for(let a=0;a<t.length;a++){const l=I3.indexOf(t[a]);if(l===-1)throw new TypeError("Invalid character found: ".concat(t[a]));o=o<<5|l,r+=5,r>=8&&(r-=8,i[s++]=o>>>r)}return i},ece=t=>{let e=0,n=0,i="";for(let r=0;r<t.length;r++)for(n=n<<8|t[r],e+=8;e>=5;)i+=I3[n>>>e-5&31],e-=5;return e>0&&(i+=I3[n<<5-e&31]),i},tce=t=>{t=t.replace(/ /g,"");const e=new ArrayBuffer(t.length/2),n=new Uint8Array(e);for(let i=0;i<t.length;i+=2)n[i/2]=parseInt(t.substring(i,i+2),16);return n},nce=t=>{let e="";for(let n=0;n<t.length;n++){const i=t[n].toString(16);i.length===1&&(e+="0"),e+=i}return e.toUpperCase()},ice=t=>{const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i)&255;return n},rce=t=>{let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},F_=Ih.TextEncoder?new Ih.TextEncoder:null,M_=Ih.TextDecoder?new Ih.TextDecoder:null,oce=t=>{if(!F_)throw new Error("Encoding API not available");return F_.encode(t)},sce=t=>{if(!M_)throw new Error("Encoding API not available");return M_.decode(t)},ace=t=>{var e;if((e=Ih.crypto)!=null&&e.getRandomValues)return Ih.crypto.getRandomValues(new Uint8Array(t));throw new Error("Cryptography API not available")};class Da{static fromLatin1(e){return new Da({buffer:ice(e).buffer})}static fromUTF8(e){return new Da({buffer:oce(e).buffer})}static fromBase32(e){return new Da({buffer:Qle(e).buffer})}static fromHex(e){return new Da({buffer:tce(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:rce(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:sce(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:ece(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:nce(this.bytes)}),this.hex}constructor({buffer:e,size:n=20}={}){this.bytes=typeof e>"u"?ace(n):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const lce=(t,e)=>{{if(t.length!==e.length)throw new TypeError("Input strings must have the same length");let n=-1,i=0;for(;++n<t.length;)i|=t.charCodeAt(n)^e.charCodeAt(n);return i===0}};class ki{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:n=ki.defaults.algorithm,digits:i=ki.defaults.digits,counter:r=ki.defaults.counter}){const o=Jle(n,e.bytes,sle(r)),s=o[o.byteLength-1]&15;return(((o[s]&127)<<24|(o[s+1]&255)<<16|(o[s+2]&255)<<8|o[s+3]&255)%10**i).toString().padStart(i,"0")}generate({counter:e=this.counter++}={}){return ki.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:n,algorithm:i,digits:r=ki.defaults.digits,counter:o=ki.defaults.counter,window:s=ki.defaults.window}){if(e.length!==r)return null;let a=null;const l=c=>{const u=ki.generate({secret:n,algorithm:i,digits:r,counter:c});lce(e,u)&&(a=c-o)};l(o);for(let c=1;c<=s&&a===null&&(l(o-c),!(a!==null||(l(o+c),a!==null)));++c);return a}validate({token:e,counter:n=this.counter,window:i}){return ki.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"counter=".concat(e(this.counter))}constructor({issuer:e=ki.defaults.issuer,label:n=ki.defaults.label,issuerInLabel:i=ki.defaults.issuerInLabel,secret:r=new Da,algorithm:o=ki.defaults.algorithm,digits:s=ki.defaults.digits,counter:a=ki.defaults.counter}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof r=="string"?Da.fromBase32(r):r,this.algorithm=FC(o),this.digits=s,this.counter=a}}class di{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=di.defaults.period,timestamp:n=Date.now()}={}){return Math.floor(n/1e3/e)}counter({timestamp:e=Date.now()}={}){return di.counter({period:this.period,timestamp:e})}static remaining({period:e=di.defaults.period,timestamp:n=Date.now()}={}){return e*1e3-n%(e*1e3)}remaining({timestamp:e=Date.now()}={}){return di.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:n,digits:i,period:r=di.defaults.period,timestamp:o=Date.now()}){return ki.generate({secret:e,algorithm:n,digits:i,counter:di.counter({period:r,timestamp:o})})}generate({timestamp:e=Date.now()}={}){return di.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:n,algorithm:i,digits:r,period:o=di.defaults.period,timestamp:s=Date.now(),window:a}){return ki.validate({token:e,secret:n,algorithm:i,digits:r,counter:di.counter({period:o,timestamp:s}),window:a})}validate({token:e,timestamp:n,window:i}){return di.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:n,window:i})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+"".concat(this.issuer.length>0?this.issuerInLabel?"".concat(e(this.issuer),":").concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?issuer=").concat(e(this.issuer),"&"):"".concat(e(this.label),"?"))+"secret=".concat(e(this.secret.base32),"&")+"algorithm=".concat(e(this.algorithm),"&")+"digits=".concat(e(this.digits),"&")+"period=".concat(e(this.period))}constructor({issuer:e=di.defaults.issuer,label:n=di.defaults.label,issuerInLabel:i=di.defaults.issuerInLabel,secret:r=new Da,algorithm:o=di.defaults.algorithm,digits:s=di.defaults.digits,period:a=di.defaults.period}={}){this.issuer=e,this.label=n,this.issuerInLabel=i,this.secret=typeof r=="string"?Da.fromBase32(r):r,this.algorithm=FC(o),this.digits=s,this.period=a}}const cce=({isOpen:t,onDidDismiss:e,session:n,onVerificationSuccess:i,onTryAnotherWay:r})=>{const[o,s]=te.useState(""),[a,l]=te.useState(""),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[f,p]=te.useState(""),m=async(x,y)=>{if(x.length!==6||!/^\d+$/.test(x))throw new Error("Code must be 6 digits");if(!(new di({secret:y,digits:6,period:30,algorithm:"SHA1"}).validate({token:x,window:1})!==null))throw new Error("Invalid verification code")},b=async()=>{var x,y;if(o.length!==6){l("Please enter a 6-digit code");return}u(!0),l("");try{const{data:v,error:w}=await De.from("user_totp").select("secret, is_verified").eq("user_id",(x=n.user)==null?void 0:x.id).single();if(w||!(v!=null&&v.secret))throw w||new Error("TOTP not configured for this user");if(await m(o,v.secret),!v.is_verified){const{error:I}=await De.from("user_totp").update({is_verified:!0}).eq("user_id",(y=n.user)==null?void 0:y.id);if(I)throw I}const{data:{session:E},error:C}=await De.auth.refreshSession();if(C)throw C;i(E)}catch(v){l(v.message||"Verification failed"),v.message==="Invalid verification code"&&(p("Invalid verification code"),h(!0)),console.error("TOTP verification failed:",v)}finally{u(!1)}},g=()=>{s(""),l(""),e()};return S.jsxs(go,{isOpen:t,onDidDismiss:g,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Two-Factor Authentication"}),S.jsx(He,{slot:"end",fill:"clear",onClick:g,children:S.jsx(at,{icon:Ql})})]})}),S.jsxs(qt,{className:"ion-padding",children:[S.jsxs(Ma,{children:[S.jsx(Mr,{className:"ion-justify-content-center",children:S.jsxs(rr,{size:"12",sizeMd:"8",children:[S.jsx(en,{children:S.jsx("p",{className:"ion-text-center",children:"Enter the 6-digit code from your authenticator app"})}),S.jsx("div",{className:"ion-text-center",style:{margin:"20px 0"},children:S.jsx(vn,{value:o,onIonChange:x=>{const v=(x.detail.value||"").replace(/\D/g,"");s(v.slice(0,6)),l("")},placeholder:"123456",inputMode:"numeric",maxlength:6,autofocus:!0,clearOnEdit:!0,class:a?"ion-invalid":"",style:{fontSize:"24px",textAlign:"center",letterSpacing:"10px",border:a?"2px solid var(--ion-color-danger)":"1px solid var(--ion-color-medium)",borderRadius:"8px",padding:"10px",width:"200px",margin:"0 auto"},disabled:c})}),a&&S.jsx(en,{color:"danger",children:S.jsx("p",{className:"ion-text-center",style:{fontSize:"14px"},children:a})})]})}),S.jsx(Mr,{className:"ion-justify-content-center ion-margin-top",children:S.jsxs(rr,{size:"12",sizeMd:"8",children:[S.jsx(He,{expand:"block",onClick:b,disabled:c||o.length!==6,children:c?S.jsx(Wr,{name:"crescent"}):"Verify"}),S.jsx(He,{fill:"clear",expand:"block",color:"dark",onClick:r,disabled:c,children:"Try another way"})]})})]}),S.jsx(Rs,{isOpen:d,onDidDismiss:()=>h(!1),message:f,duration:1500,position:"top",color:"danger"})]})]})};var S9={exports:{}};(function(t,e){(function(i,r){t.exports=r(te)})(an,function(n){return function(i){var r={};function o(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return i[s].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=i,o.c=r,o.d=function(s,a,l){o.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:l})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,a){if(a&1&&(s=o(s)),a&8||a&4&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),a&2&&typeof s!="string")for(var c in s)o.d(l,c,(function(u){return s[u]}).bind(null,c));return l},o.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(a,"a",a),a},o.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(i,r,o){o.r(r);var s=o("react"),a=function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var g in b)b.hasOwnProperty(g)&&(m[g]=b[g])},h(f,p)};return function(f,p){h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),l=function(){return l=Object.assign||function(h){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(h[b]=f[b])}return h},l.apply(this,arguments)},c=function(h,f){var p={};for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&f.indexOf(m)<0&&(p[m]=h[m]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(h);b<m.length;b++)f.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(h,m[b])&&(p[m[b]]=h[m[b]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(m,b){p.call(navigator,f,m,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(h){a(f,h);function f(p){var m=h.call(this,p)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return f.prototype.componentDidMount=function(){var p=this,m=p.state,b=p.props;if(this.unmounted=!1,!u()){b.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},f.prototype.componentDidUpdate=function(p){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(p.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(m.videoConstraints),x=p.minScreenshotWidth!==m.minScreenshotWidth,y=p.minScreenshotHeight!==m.minScreenshotHeight;(g||x||y)&&(this.canvas=null,this.ctx=null),(b||g)&&(this.stopAndCleanup(),this.requestUserMedia())},f.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},f.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(m){p.removeTrack(m),m.stop()}),p.getAudioTracks().map(function(m){p.removeTrack(m),m.stop()})):p.stop())},f.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(f.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},f.prototype.getScreenshot=function(p){var m=this,b=m.state,g=m.props;if(!b.hasUserMedia)return null;var x=this.getCanvas(p);return x&&x.toDataURL(g.screenshotFormat,g.screenshotQuality)},f.prototype.getCanvas=function(p){var m=this,b=m.state,g=m.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var x=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var v=x/y;x=g.minScreenshotWidth||this.video.clientWidth,y=x/v,g.minScreenshotHeight&&y<g.minScreenshotHeight&&(y=g.minScreenshotHeight,x=y*v)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||x,this.canvas.height=(p==null?void 0:p.height)||y,this.ctx=this.canvas.getContext("2d")}var w=this,E=w.ctx,C=w.canvas;return E&&C&&(C.width=(p==null?void 0:p.width)||C.width,C.height=(p==null?void 0:p.height)||C.height,g.mirrored&&(E.translate(C.width,0),E.scale(-1,1)),E.imageSmoothingEnabled=g.imageSmoothing,E.drawImage(this.video,0,0,(p==null?void 0:p.width)||C.width,(p==null?void 0:p.height)||C.height),g.mirrored&&(E.scale(-1,1),E.translate(-C.width,0))),C},f.prototype.requestUserMedia=function(){var p=this,m=this.props,b=function(y,v){var w={video:typeof v<"u"?v:!0};m.audio&&(w.audio=typeof y<"u"?y:!0),p.requestUserMediaId++;var E=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(w).then(function(C){p.unmounted||E!==p.requestUserMediaId?f.stopMediaStream(C):p.handleUserMedia(null,C)}).catch(function(C){p.handleUserMedia(C)})};if("mediaDevices"in navigator)b(m.audioConstraints,m.videoConstraints);else{var g=function(y){return{optional:[{sourceId:y}]}},x=function(y){var v=y.deviceId;return typeof v=="string"?v:Array.isArray(v)&&v.length>0?v[0]:typeof v=="object"&&v.ideal?v.ideal:null};MediaStreamTrack.getSources(function(y){var v=null,w=null;y.forEach(function(I){I.kind==="audio"?v=I.id:I.kind==="video"&&(w=I.id)});var E=x(m.audioConstraints);E&&(v=E);var C=x(m.videoConstraints);C&&(w=C),b(g(v),g(w))})}},f.prototype.handleUserMedia=function(p,m){var b=this.props;if(p||!m){this.setState({hasUserMedia:!1}),b.onUserMediaError(p);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch(g){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}b.onUserMedia(m)},f.prototype.render=function(){var p=this,m=this,b=m.state,g=m.props,x=g.audio;g.forceScreenshotSourceSize;var y=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var v=g.mirrored,w=g.style,E=w===void 0?{}:w,C=g.children,I=c(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=v?l(l({},E),{transform:(E.transform||"")+" scaleX(-1)"}):E,_={getScreenshot:this.getScreenshot.bind(this)};return s.createElement(s.Fragment,null,s.createElement("video",l({autoPlay:!0,disablePictureInPicture:y,src:b.src,muted:!x,playsInline:!0,ref:function(M){p.video=M},style:T},I)),C&&C(_))},f.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},f}(s.Component);r.default=d},react:function(i,r){i.exports=n}}).default})})(S9);var uce=S9.exports;const dce=Ja(uce),hce=({isOpen:t,onDidDismiss:e,userId:n,onVerificationSuccess:i,onTryAnotherWay:r})=>{const o=te.useRef(null),[s,a]=te.useState("ready"),[l,c]=te.useState(""),[u,d]=te.useState(0),[h,f]=te.useState("user"),p={facingMode:h,width:1280,height:720},m=te.useCallback(async()=>{var x,y;try{a("capturing"),c("");const v=(x=o.current)==null?void 0:x.getScreenshot();if(!v)throw new Error("Failed to capture image");a("verifying");const w=v.split(",")[1],C=(y=(await De.auth.getSession()).data.session)==null?void 0:y.access_token;if(!C)throw new Error("Authentication required");const T=await(await fetch("https://dofkgpqpyxfgxwwbiifj.supabase.co/functions/v1/verify-face",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)},body:JSON.stringify({user_id:n,image_data:w})})).json();if(T.error)throw new Error(T.error);if(T.confidence&&T.confidence<.6)throw new Error("Face not clear. Please try again with better lighting.");if(!T.verified)throw new Error("Face did not match. Please try again.");a("success"),setTimeout(i,1e3)}catch(v){a("error"),c(v.message||"Verification failed"),console.error("Face verification error:",v)}},[n,i]),b=()=>{a("ready"),c(""),d(0),e()},g=()=>{u<2?(d(x=>x+1),a("ready"),c("")):b()};return S.jsxs(go,{isOpen:t,onDidDismiss:b,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Face Verification"}),S.jsx(He,{slot:"end",fill:"clear",onClick:b,children:S.jsx(at,{icon:Ql})})]})}),S.jsx(qt,{className:"ion-padding",children:S.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},children:s==="success"?S.jsxs("div",{style:{padding:"2rem"},children:[S.jsx(en,{color:"success",children:S.jsx("h2",{children:"Verification Successful!"})}),S.jsx("p",{children:"You will be redirected shortly..."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{width:"100%",maxWidth:"400px",height:"300px",position:"relative",borderRadius:"8px",overflow:"hidden",marginBottom:"1rem",backgroundColor:"#f5f5f5"},children:s!=="ready"&&s!=="capturing"?S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#000"},children:S.jsx(Wr,{name:"dots",color:"light"})}):S.jsx(dce,{ref:o,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:p,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l&&S.jsxs("div",{style:{margin:"1rem 0"},children:[S.jsx(en,{color:"danger",children:S.jsx("p",{children:l})}),u<2&&s==="error"&&S.jsx(en,{color:"medium",children:S.jsxs("p",{children:[2-u," attempts remaining"]})})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[s==="error"?S.jsx(He,{onClick:g,children:"Try Again"}):S.jsx(He,{onClick:m,disabled:s!=="ready",children:s==="verifying"?S.jsx(Wr,{name:"dots"}):"Verify Face"}),S.jsx(He,{onClick:()=>f(x=>x==="user"?"environment":"user"),fill:"outline",disabled:s==="verifying",children:S.jsx(at,{icon:$ae})}),S.jsx(He,{fill:"outline",onClick:b,disabled:s==="verifying",children:"Cancel"})]}),S.jsx(He,{fill:"clear",expand:"block",color:"dark",onClick:r,disabled:s==="verifying",children:"Try another way"})]})})})]})};class fce{constructor(){If(this,"recognition",null);If(this,"isListening",!1);If(this,"onResult",null);If(this,"onError",null);this.initialize()}initialize(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){console.error("Speech Recognition API not available");return}this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.lang="en-US",this.recognition.onresult=n=>{var r;const i=n.results[0][0].transcript.toUpperCase().trim();(r=this.onResult)==null||r.call(this,i),this.stop()},this.recognition.onerror=n=>{var i;(i=this.onError)==null||i.call(this,n.error),this.stop()},this.recognition.onend=()=>{this.isListening=!1}}isBrowserSupported(){return!!window.SpeechRecognition||!!window.webkitSpeechRecognition}startListening(e,n){var i,r;if(!this.isBrowserSupported()){n==null||n("Browser not supported");return}if(!this.isListening){this.onResult=e,this.onError=n||null,this.isListening=!0;try{(i=this.recognition)==null||i.start()}catch(o){(r=this.onError)==null||r.call(this,o instanceof Error?o.message:"Failed to start listening"),this.stop()}}}stop(){var e;if(this.isListening){try{(e=this.recognition)==null||e.stop()}catch(n){console.error("Error stopping recognition:",n)}this.isListening=!1,this.onResult=null,this.onError=null}}}const Uf=new fce,pce=({isOpen:t,onDidDismiss:e,onAuthSuccess:n,userId:i,onTryAnotherWay:r})=>{const[o,s]=te.useState("idle"),[a,l]=te.useState(""),[c,u]=te.useState(0);te.useEffect(()=>(Uf.isBrowserSupported()||s("unsupported"),()=>{Uf.stop()}),[]);const d=()=>{if(!Uf.isBrowserSupported()){s("unsupported");return}s("listening"),l(""),Uf.startListening(async p=>{s("processing");try{const{data:m,error:b}=await De.from("user_voice_passwords").select("password").eq("user_id",i).single();if(b||!(m!=null&&m.password))throw new Error("Voice authentication not set up");if(m.password.toUpperCase().trim()===p.toUpperCase().trim())await De.from("user_voice_passwords").update({last_used_at:new Date().toISOString()}).eq("user_id",i),s("success"),setTimeout(()=>n(),1e3);else throw new Error("Voice authentication failed")}catch(m){s("error"),l(m instanceof Error?m.message:"Verification failed")}},p=>{s("error"),l(p==="no-speech"?"No speech detected":"Recognition error")})},h=()=>{Uf.stop(),s("idle")},f=()=>{c<2?(u(p=>p+1),s("idle"),l("")):e()};return o==="unsupported"?S.jsxs(go,{isOpen:t,onDidDismiss:e,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Voice Authentication"}),S.jsx(He,{slot:"end",fill:"clear",onClick:e,children:S.jsx(at,{icon:Ql})})]})}),S.jsxs(qt,{className:"ion-padding ion-text-center",children:[S.jsx(at,{icon:T_,color:"danger",size:"large"}),S.jsxs(en,{children:[S.jsx("h3",{children:"Browser Not Supported"}),S.jsx("p",{children:"Voice authentication requires Chrome or Edge with microphone access."})]}),S.jsx(He,{expand:"block",onClick:e,children:"Close"})]})]}):S.jsxs(go,{isOpen:t,onDidDismiss:e,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Voice Authentication"}),S.jsx(He,{slot:"end",fill:"clear",onClick:e,children:S.jsx(at,{icon:Ql})})]})}),S.jsx(qt,{className:"ion-padding ion-text-center",children:o==="success"?S.jsxs("div",{style:{padding:"2rem"},children:[S.jsx(at,{icon:_ae,color:"success",size:"large"}),S.jsxs(en,{children:[S.jsx("h3",{children:"Verification Successful!"}),S.jsx("p",{children:"You will be redirected shortly..."})]})]}):S.jsxs(S.Fragment,{children:[o==="idle"&&S.jsxs(S.Fragment,{children:[S.jsx(at,{icon:N_,size:"large",color:"primary"}),S.jsx(en,{children:S.jsx("p",{children:"Click the button and say your voice passphrase"})})]}),o==="listening"&&S.jsxs("div",{className:"ion-text-center",children:[S.jsx(Wr,{name:"circles",color:"primary"}),S.jsx("p",{children:"Listening... Speak now"})]}),o==="processing"&&S.jsxs("div",{className:"ion-text-center",children:[S.jsx(Wr,{name:"dots",color:"primary"}),S.jsx("p",{children:"Verifying your voice..."})]}),o==="error"&&S.jsxs("div",{className:"ion-text-center",children:[S.jsx(at,{icon:T_,color:"danger",size:"large"}),S.jsx("p",{children:a||"Verification failed"}),c<2&&S.jsxs("p",{children:[2-c," attempts remaining"]})]}),S.jsxs("div",{style:{margin:"2rem 0"},children:[o==="error"?S.jsx(He,{expand:"block",onClick:f,children:"Try Again"}):S.jsxs(He,{expand:"block",onClick:d,disabled:o==="listening"||o==="processing",children:[S.jsx(at,{slot:"start",icon:N_}),o==="listening"?"Listening...":"Start Voice Authentication"]}),(o==="listening"||o==="processing")&&S.jsx(He,{expand:"block",fill:"clear",color:"medium",onClick:h,children:"Cancel"})]}),S.jsx(He,{fill:"clear",expand:"block",color:"dark",onClick:r,disabled:o==="listening"||o==="processing",children:"Try another way"})]})})]})},mce=({isOpen:t,onClose:e,onSubmit:n,onTryAnotherWay:i})=>{const[r,o]=te.useState(""),[s,a]=te.useState(!1),[l,c]=te.useState(""),[u,d]=te.useState(!1),[h,f]=te.useState("");te.useEffect(()=>{t||(o(""),c(""))},[t]);const p=async()=>{if(c(""),!r.trim()){c("Please enter a recovery code");return}a(!0);try{await n(r.trim())||(c("Invalid recovery code. Please try again."),f("Invalid recovery code"),d(!0))}catch(b){c("An error occurred. Please try again."),f("An error occurred. Please try again."),d(!0),console.error("Recovery code verification error:",b)}finally{a(!1)}},m=()=>{o(""),c(""),e()};return S.jsxs(go,{isOpen:t,onDidDismiss:m,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Use Recovery Code"}),S.jsx(He,{slot:"end",fill:"clear",onClick:m,children:S.jsx(at,{icon:Ql})})]})}),S.jsxs(qt,{className:"ion-padding",children:[S.jsxs(Ma,{children:[S.jsx(Mr,{className:"ion-justify-content-center",children:S.jsxs(rr,{size:"12",sizeMd:"8",children:[S.jsx(en,{children:S.jsx("p",{className:"ion-text-center",children:"Enter a recovery code to sign in. Each code can only be used once."})}),S.jsx("div",{className:"ion-text-center",style:{margin:"20px 0"},children:S.jsx(vn,{value:r,onIonChange:b=>{const g=b.detail.value||"";o(g),c("")},placeholder:"Enter your recovery code",autofocus:!0,clearOnEdit:!0,class:l?"ion-invalid":"",style:{fontSize:"18px",textAlign:"center",border:l?"2px solid var(--ion-color-danger)":"1px solid var(--ion-color-medium)",borderRadius:"8px",padding:"10px",width:"100%",maxWidth:"400px",margin:"0 auto"},disabled:s})}),l&&S.jsx(en,{color:"danger",children:S.jsx("p",{className:"ion-text-center",style:{fontSize:"14px"},children:l})})]})}),S.jsx(Mr,{className:"ion-justify-content-center ion-margin-top",children:S.jsxs(rr,{size:"12",sizeMd:"8",children:[S.jsx(He,{expand:"block",onClick:p,disabled:s||!r.trim(),children:s?S.jsx(Wr,{name:"crescent"}):"Verify Code"}),i&&S.jsx(He,{fill:"clear",expand:"block",color:"dark",onClick:i,disabled:s,children:"Try another way"})]})})]}),S.jsx(Rs,{isOpen:u,onDidDismiss:()=>d(!1),message:h,duration:1500,position:"top",color:"danger"})]})]})},gce=({isOpen:t,onDidDismiss:e,currentMethod:n,availableMethods:i,onSelectOption:r})=>{const o={totp:{text:"Authenticator App",icon:nle},face:{text:"Face Recognition",icon:Xae},voice:{text:"Voice Authentication",icon:Wae},recovery:{text:"Recovery Code",icon:jae}},s=Object.entries(i).filter(([a,l])=>l&&a!==n).map(([a])=>a);return S.jsx(c7,{isOpen:t,onDidDismiss:e,header:"Choose another authentication method",buttons:[...s.map(a=>({text:o[a].text,icon:o[a].icon,handler:()=>r(a)})),{text:"Cancel",role:"cancel",handler:e}]})},bce=()=>{var C,I;const t=Wa(),[e,n]=te.useState(""),[i,r]=te.useState(""),[o,s]=te.useState(""),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[f,p]=te.useState({showTotpModal:!1,showFaceModal:!1,showVoiceModal:!1,showRecoveryModal:!1,showActionSheet:!1,currentUser:null,sessionFor2FA:null,currentMethod:null,availableMethods:{totp:!1,face:!1,voice:!1,recovery:!0}}),m=()=>{u(!0),setTimeout(()=>{t.push("/Cephaline-Supabase/app","forward","replace")},300)},b=async()=>{if(!e||!i){s("Please enter both email and password"),l(!0);return}try{h(!0);const{data:T,error:_}=await De.auth.signInWithPassword({email:e,password:i});if(_)throw _;p({...f,showTotpModal:!1,showFaceModal:!1,showVoiceModal:!1,showRecoveryModal:!1,showActionSheet:!1,currentUser:T.user,sessionFor2FA:T,currentMethod:null}),await g(T.user)}catch(T){s(T.message||"Login failed"),l(!0),h(!1)}},g=async T=>{try{const _=T.id,[{data:M},{data:D},{data:z}]=await Promise.all([De.from("user_totp").select("user_id").eq("user_id",_).maybeSingle(),De.from("user_facial_enrollments").select("user_id").eq("user_id",_).maybeSingle(),De.from("user_voice_passwords").select("user_id").eq("user_id",_).maybeSingle()]),$={totp:!!M,face:!!D,voice:!!z,recovery:!0};p(F=>({...F,availableMethods:$,currentUser:T})),M?p(F=>({...F,showTotpModal:!0,currentMethod:"totp"})):D?p(F=>({...F,showFaceModal:!0,currentMethod:"face"})):z?p(F=>({...F,showVoiceModal:!0,currentMethod:"voice"})):m()}catch(_){console.error("Error checking MFA factors:",_),m()}finally{h(!1)}},x=()=>{p(T=>({...T,showTotpModal:!1})),m()},y=()=>{p(T=>({...T,showFaceModal:!1})),m()},v=()=>{p(T=>({...T,showVoiceModal:!1})),m()},w=()=>{p(T=>({...T,showTotpModal:!1,showFaceModal:!1,showVoiceModal:!1,showRecoveryModal:!1,showActionSheet:!0}))},E=T=>{p(_=>({..._,showActionSheet:!1,showTotpModal:T==="totp",showFaceModal:T==="face",showVoiceModal:T==="voice",showRecoveryModal:T==="recovery",currentMethod:T}))};return S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(Vn,{children:S.jsx(ii,{style:{textAlign:"left"},children:"Cephaline Coding Journal App"})})}),S.jsxs(qt,{className:"ion-padding",fullscreen:!0,children:[S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:S.jsx(Sr,{className:"fancy-card",style:{width:"90%",maxWidth:"400px",padding:"2rem"},children:S.jsxs(kr,{children:[S.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"USER LOGIN"}),S.jsx(vn,{fill:"outline",className:"fancy-input",type:"email",placeholder:"Email",value:e,onIonChange:T=>n(T.detail.value),disabled:d}),S.jsx(vn,{className:"fancy-input",fill:"outline",type:"password",placeholder:"Password",value:i,onIonChange:T=>r(T.detail.value),style:{marginTop:"1rem"},disabled:d,children:S.jsx(rh,{slot:"end"})}),S.jsx(He,{className:"fancy-button",expand:"block",onClick:b,style:{marginTop:"2rem",borderRadius:"8px"},disabled:d,children:d?"Logging in...":"Login"}),S.jsx("div",{style:{textAlign:"center",margin:"1rem 0"},children:S.jsx("span",{style:{color:"#666"},children:"OR"})}),S.jsx(ole,{}),S.jsx(He,{fill:"clear",expand:"block",routerLink:"/Cephaline-Supabase/Registration",color:"primary",disabled:d,children:"Don't have an account? Register here"}),S.jsx(He,{routerLink:"/Cephaline-Supabase/forgotpassword",expand:"full",fill:"clear",style:{color:"#a1a1aa",textTransform:"none",fontSize:"14px",fontWeight:"normal",marginTop:"0"},children:"Forgot Password?"}),S.jsx(xce,{message:o,isOpen:a,onClose:()=>l(!1)}),S.jsx(Rs,{isOpen:c,onDidDismiss:()=>u(!1),message:"Login successful! Redirecting...",duration:1500,position:"top",color:"primary"})]})})}),S.jsx(cce,{isOpen:f.showTotpModal,onDidDismiss:()=>p(T=>({...T,showTotpModal:!1})),session:f.sessionFor2FA,onVerificationSuccess:x,onTryAnotherWay:w}),S.jsx(hce,{isOpen:f.showFaceModal,onDidDismiss:()=>p(T=>({...T,showFaceModal:!1})),userId:(C=f.currentUser)==null?void 0:C.id,onVerificationSuccess:y,onTryAnotherWay:w}),S.jsx(pce,{isOpen:f.showVoiceModal,onDidDismiss:()=>p(T=>({...T,showVoiceModal:!1})),onAuthSuccess:v,userId:(I=f.currentUser)==null?void 0:I.id,onTryAnotherWay:w}),S.jsx(mce,{isOpen:f.showRecoveryModal,onClose:()=>p(T=>({...T,showRecoveryModal:!1})),onSubmit:async T=>{var M;const{error:_}=await De.rpc("verify_recovery_code",{user_id:(M=f.currentUser)==null?void 0:M.id,code:T});return!_},onTryAnotherWay:w}),S.jsx(gce,{isOpen:f.showActionSheet,onDidDismiss:()=>p(T=>({...T,showActionSheet:!1})),currentMethod:f.currentMethod,availableMethods:f.availableMethods,onSelectOption:E}),S.jsx(Ix,{isOpen:d,message:"Authenticating..."})]})]})},xce=({message:t,isOpen:e,onClose:n})=>S.jsx(ca,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),C9={},yce=Object.freeze(Object.defineProperty({__proto__:null,default:C9},Symbol.toStringTag,{value:"Module"}));var $3=null;function vce(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch(e){}try{return C9.randomBytes(t)}catch(e){}if(!$3)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return $3(t)}function wce(t){$3=t}function MC(t,e){if(t=t||PC,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Nx(vce(Jp),Jp)),n.join("")}function E9(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=PC;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(r){vs(function(){try{r(null,MC(t))}catch(o){r(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(r,o){i(function(s,a){if(s){o(s);return}r(a)})})}function T9(t,e){if(typeof e>"u"&&(e=PC),typeof e=="number"&&(e=MC(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return _3(t,e)}function I9(t,e,n,i){function r(o){typeof t=="string"&&typeof e=="number"?E9(e,function(s,a){_3(t,a,o,i)}):typeof t=="string"&&typeof e=="string"?_3(t,e,o,i):vs(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(o,s){r(function(a,l){if(a){s(a);return}o(l)})})}function $9(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function kce(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:$9(T9(t,e.substring(0,e.length-31)),e)}function Sce(t,e,n,i){function r(o){if(typeof t!="string"||typeof e!="string"){vs(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){vs(o.bind(this,null,!1));return}I9(t,e.substring(0,29),function(s,a){s?o(s):o(null,$9(a,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(o,s){r(function(a,l){if(a){s(a);return}o(l)})})}function Cce(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Ece(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Tce(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return _9(t)>72}var vs=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function _9(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function Ice(t){for(var e=0,n,i,r=new Array(_9(t)),o=0,s=t.length;o<s;++o)n=t.charCodeAt(o),n<128?r[e++]=n:n<2048?(r[e++]=n>>6|192,r[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++o,r[e++]=n>>18|240,r[e++]=n>>12&63|128,r[e++]=n>>6&63|128,r[e++]=n&63|128):(r[e++]=n>>12|224,r[e++]=n>>6&63|128,r[e++]=n&63|128);return r}var xd="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ml=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Nx(t,e){var n=0,i=[],r,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(r=t[n++]&255,i.push(xd[r>>2&63]),r=(r&3)<<4,n>=e){i.push(xd[r&63]);break}if(o=t[n++]&255,r|=o>>4&15,i.push(xd[r&63]),r=(o&15)<<2,n>=e){i.push(xd[r&63]);break}o=t[n++]&255,r|=o>>6&3,i.push(xd[r&63]),i.push(xd[o&63])}return i.join("")}function A9(t,e){var n=0,i=t.length,r=0,o=[],s,a,l,c,u,d;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&r<e&&(d=t.charCodeAt(n++),s=d<ml.length?ml[d]:-1,d=t.charCodeAt(n++),a=d<ml.length?ml[d]:-1,!(s==-1||a==-1||(u=s<<2>>>0,u|=(a&48)>>4,o.push(String.fromCharCode(u)),++r>=e||n>=i)||(d=t.charCodeAt(n++),l=d<ml.length?ml[d]:-1,l==-1)||(u=(a&15)<<4>>>0,u|=(l&60)>>2,o.push(String.fromCharCode(u)),++r>=e||n>=i)));)d=t.charCodeAt(n++),c=d<ml.length?ml[d]:-1,u=(l&3)<<6>>>0,u|=c,o.push(String.fromCharCode(u)),++r;var h=[];for(n=0;n<r;n++)h.push(o[n].charCodeAt(0));return h}var Jp=16,PC=10,$ce=16,_ce=100,P_=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],B_=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],N9=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Qp(t,e,n,i){var r,o=t[e],s=t[e+1];return o^=n[0],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[1],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[2],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[3],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[4],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[5],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[6],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[7],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[8],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[9],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[10],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[11],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[12],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[13],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[14],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],s^=r^n[15],r=i[s>>>24],r+=i[256|s>>16&255],r^=i[512|s>>8&255],r+=i[768|s&255],o^=r^n[16],t[e]=s^n[$ce+1],t[e+1]=o,t}function Ad(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function j_(t,e,n){for(var i=0,r=[0,0],o=e.length,s=n.length,a,l=0;l<o;l++)a=Ad(t,i),i=a.offp,e[l]=e[l]^a.key;for(l=0;l<o;l+=2)r=Qp(r,0,e,n),e[l]=r[0],e[l+1]=r[1];for(l=0;l<s;l+=2)r=Qp(r,0,e,n),n[l]=r[0],n[l+1]=r[1]}function Ace(t,e,n,i){for(var r=0,o=[0,0],s=n.length,a=i.length,l,c=0;c<s;c++)l=Ad(e,r),r=l.offp,n[c]=n[c]^l.key;for(r=0,c=0;c<s;c+=2)l=Ad(t,r),r=l.offp,o[0]^=l.key,l=Ad(t,r),r=l.offp,o[1]^=l.key,o=Qp(o,0,n,i),n[c]=o[0],n[c+1]=o[1];for(c=0;c<a;c+=2)l=Ad(t,r),r=l.offp,o[0]^=l.key,l=Ad(t,r),r=l.offp,o[1]^=l.key,o=Qp(o,0,n,i),i[c]=o[0],i[c+1]=o[1]}function U_(t,e,n,i,r){var o=N9.slice(),s=o.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),i){vs(i.bind(this,a));return}else throw a;if(e.length!==Jp)if(a=Error("Illegal salt length: "+e.length+" != "+Jp),i){vs(i.bind(this,a));return}else throw a;n=1<<n>>>0;var l,c,u=0,d;typeof Int32Array=="function"?(l=new Int32Array(P_),c=new Int32Array(B_)):(l=P_.slice(),c=B_.slice()),Ace(e,t,l,c);function h(){if(r&&r(u/n),u<n)for(var p=Date.now();u<n&&(u=u+1,j_(t,l,c),j_(e,l,c),!(Date.now()-p>_ce)););else{for(u=0;u<64;u++)for(d=0;d<s>>1;d++)Qp(o,d<<1,l,c);var m=[];for(u=0;u<s;u++)m.push((o[u]>>24&255)>>>0),m.push((o[u]>>16&255)>>>0),m.push((o[u]>>8&255)>>>0),m.push((o[u]&255)>>>0);if(i){i(null,m);return}else return m}i&&vs(h)}if(typeof i<"u")h();else for(var f;;)if(typeof(f=h())<"u")return f||[]}function _3(t,e,n,i){var r;if(typeof t!="string"||typeof e!="string")if(r=Error("Invalid string / salt: Not a string"),n){vs(n.bind(this,r));return}else throw r;var o,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(r=Error("Invalid salt version: "+e.substring(0,2)),n){vs(n.bind(this,r));return}else throw r;if(e.charAt(2)==="$")o="\0",s=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(r=Error("Invalid salt revision: "+e.substring(2,4)),n){vs(n.bind(this,r));return}else throw r;s=4}if(e.charAt(s+2)>"$")if(r=Error("Missing salt rounds"),n){vs(n.bind(this,r));return}else throw r;var a=parseInt(e.substring(s,s+1),10)*10,l=parseInt(e.substring(s+1,s+2),10),c=a+l,u=e.substring(s+3,s+25);t+=o>="a"?"\0":"";var d=Ice(t),h=A9(u,Jp);function f(p){var m=[];return m.push("$2"),o>="a"&&m.push(o),m.push("$"),c<10&&m.push("0"),m.push(c.toString()),m.push("$"),m.push(Nx(h,h.length)),m.push(Nx(p,N9.length*4-1)),m.join("")}if(typeof n>"u")return f(U_(d,h,c));U_(d,h,c,function(p,m){p?n(p,null):n(null,f(m))},i)}function Nce(t,e){return Nx(t,e)}function Oce(t,e){return A9(t,e)}const V_={setRandomFallback:wce,genSaltSync:MC,genSalt:E9,hashSync:T9,hash:I9,compareSync:kce,compare:Sce,getRounds:Cce,getSalt:Ece,truncates:Tce,encodeBase64:Nce,decodeBase64:Oce},Dce=({message:t,isOpen:e,onClose:n})=>S.jsx(ca,{isOpen:e,onDidDismiss:n,header:"Notification",message:t,buttons:["OK"]}),Rce=()=>{const[t,e]=te.useState(""),[n,i]=te.useState(""),[r,o]=te.useState(""),[s,a]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[h,f]=te.useState(!1),[p,m]=te.useState(!1),[b,g]=te.useState(""),[x,y]=te.useState(!1),[v,w]=te.useState({value:0,label:"",color:""});te.useEffect(()=>{if(l){const _=E(l);w(_)}else w({value:0,label:"",color:""})},[l]);const E=_=>{let M=0;return _.length>=8&&(M+=1),_.length>=12&&(M+=1),/[A-Z]/.test(_)&&(M+=1),/[a-z]/.test(_)&&(M+=1),/[0-9]/.test(_)&&(M+=1),/[^A-Za-z0-9]/.test(_)&&(M+=1),M<=2?{value:.25,label:"Very Weak",color:"danger"}:M<=4?{value:.5,label:"Weak",color:"warning"}:M<=6?{value:.75,label:"Strong",color:"success"}:{value:1,label:"Very Strong",color:"primary"}},C=()=>{if(!s.endsWith("@nbsc.edu.ph")){g("Only @nbsc.edu.ph emails are allowed to register."),y(!0);return}if(l!==u){g("Passwords do not match."),y(!0);return}if(l.length<8){g("Password must be at least 8 characters."),y(!0);return}f(!0)},I=async()=>{f(!1);try{const{data:_,error:M}=await De.auth.signUp({email:s,password:l});if(M)throw new Error("Account creation failed: "+M.message);const D=await V_.genSalt(10),z=await V_.hash(l,D),{error:$}=await De.from("users").insert([{username:t,user_email:s,user_firstname:n,user_lastname:r,user_password:z}]);if($)throw new Error("Failed to save user data: "+$.message);m(!0)}catch(_){_ instanceof Error?g(_.message):g("An unknown error occurred."),y(!0)}},T={marginTop:"15px",color:"white",backgroundColor:"#1e1e1e",borderRadius:"8px",padding:"12px","--background":"#1e1e1e","--color":"#fff","--placeholder-color":"#aaa","--highlight-color-focused":"#3a8ef6"};return S.jsx(wr,{children:S.jsx(qt,{fullscreen:!0,className:"ion-padding",style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#121212",height:"100vh"},children:S.jsx(Sr,{style:{background:"#1e1e1e",width:"100%",maxWidth:"500px",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0,0,0,0.6)",margin:"auto"},children:S.jsxs(kr,{children:[S.jsx("h1",{style:{color:"white",marginBottom:"20px",textAlign:"center"},children:"Create your account"}),S.jsx(vn,{label:"Username",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter a unique username",value:t,onIonChange:_=>e(_.detail.value),style:T}),S.jsx(vn,{label:"First Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your first name",value:n,onIonChange:_=>i(_.detail.value),style:T}),S.jsx(vn,{label:"Last Name",labelPlacement:"stacked",fill:"outline",type:"text",placeholder:"Enter your last name",value:r,onIonChange:_=>o(_.detail.value),style:T}),S.jsx(vn,{label:"Email",labelPlacement:"stacked",fill:"outline",type:"email",placeholder:"youremail@nbsc.edu.ph",value:s,onIonChange:_=>a(_.detail.value),style:T}),S.jsx(vn,{label:"Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Enter password",value:l,onIonChange:_=>c(_.detail.value),style:T,children:S.jsx(rh,{slot:"end"})}),l&&S.jsxs("div",{style:{width:"100%",marginTop:"8px"},children:[S.jsx(lC,{value:v.value,color:v.color,style:{height:"4px"}}),S.jsx(en,{color:v.color,style:{fontSize:"12px"},children:v.label})]}),S.jsx(vn,{label:"Confirm Password",labelPlacement:"stacked",fill:"outline",type:"password",placeholder:"Confirm password",value:u,onIonChange:_=>d(_.detail.value),style:T,children:S.jsx(rh,{slot:"end"})}),S.jsxs("div",{style:{width:"100%",color:"#a1a1aa",fontSize:"12px",margin:"8px 0"},children:[S.jsx("p",{children:"Password should contain:"}),S.jsxs("ul",{style:{paddingLeft:"20px",margin:"8px 0 0 0"},children:[S.jsx("li",{style:{color:l.length>=8?"#3880ff":"#a1a1aa"},children:"At least 8 characters"}),S.jsx("li",{style:{color:/[A-Z]/.test(l)?"#3880ff":"#a1a1aa"},children:"One uppercase letter"}),S.jsx("li",{style:{color:/[0-9]/.test(l)?"#3880ff":"#a1a1aa"},children:"One number"}),S.jsx("li",{style:{color:/[^A-Za-z0-9]/.test(l)?"#3880ff":"#a1a1aa"},children:"One special character"})]})]}),S.jsx(He,{onClick:C,expand:"block",shape:"round",color:"primary",style:{marginTop:"20px"},children:"Register"}),S.jsx(He,{routerLink:"/Cephaline-Supabase",expand:"block",fill:"clear",shape:"round",color:"primary",children:"Already have an account? Sign in"}),S.jsx(go,{isOpen:h,onDidDismiss:()=>f(!1),children:S.jsx(qt,{className:"ion-padding",children:S.jsxs(Sr,{className:"ion-padding",style:{marginTop:"25%",background:"#1e1e1e"},children:[S.jsxs(aC,{children:[S.jsx(Gd,{style:{color:"white"},children:"User Registration Details"}),S.jsx("hr",{style:{borderColor:"#333"}}),S.jsx(b2,{style:{color:"#a1a1aa"},children:"Username"}),S.jsx(Gd,{style:{color:"white"},children:t}),S.jsx(b2,{style:{color:"#a1a1aa"},children:"Email"}),S.jsx(Gd,{style:{color:"white"},children:s}),S.jsx(b2,{style:{color:"#a1a1aa"},children:"Name"}),S.jsxs(Gd,{style:{color:"white"},children:[n," ",r]})]}),S.jsx(kr,{}),S.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"5px"},children:[S.jsx(He,{fill:"clear",onClick:()=>f(!1),children:"Cancel"}),S.jsx(He,{color:"primary",onClick:I,children:"Confirm"})]})]})})}),S.jsx(go,{isOpen:p,onDidDismiss:()=>m(!1),children:S.jsxs(qt,{className:"ion-padding",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center",background:"#1e1e1e"},children:[S.jsx(ii,{style:{marginTop:"35%",color:"white"},children:"Registration Successful 🎉"}),S.jsxs(en,{style:{color:"#a1a1aa"},children:[S.jsx("p",{children:"Your account has been created successfully."}),S.jsx("p",{children:"Please check your email address."})]}),S.jsx(He,{routerLink:"/Cephaline-Supabase",routerDirection:"back",color:"primary",children:"Go to Login"})]})}),S.jsx(Dce,{message:b,isOpen:x,onClose:()=>y(!1)})]})})})})},O9="/Cephaline-Supabase/assets/favicon-DlFodefd.png",Lce=()=>{Wa();const[t,e]=te.useState(""),[n,i]=te.useState(""),[r,o]=te.useState(!1),[s,a]=te.useState(!1),[l,c]=te.useState(!1),u=async()=>{if(!t){i("Please enter your email address"),o(!0);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){i("Please enter a valid email address"),o(!0);return}c(!0);try{const{error:d}=await De.auth.resetPasswordForEmail(t,{redirectTo:"".concat(window.location.origin,"/Cephaline-Supabase/changepassword")});if(d)throw d;a(!0),i("Password reset link sent. Check your email to proceed."),o(!0),e("")}catch(d){i(d.message||"Failed to send reset link."),o(!0)}finally{c(!1)}};return S.jsx(wr,{children:S.jsxs(qt,{className:"ion-padding",style:{backgroundColor:"#121212"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"1rem",padding:"1rem"},children:[S.jsxs("div",{style:{backgroundColor:"#1e1e1e",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:"450px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx(F1,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",backgroundColor:"#2c2c2e",marginBottom:"1.5rem"},children:S.jsx("img",{src:O9,alt:"Logo"})}),S.jsx("h1",{style:{color:"#ffffff",fontWeight:"bold",fontSize:"22px",margin:"0 0 8px 0"},children:"Reset Password"}),S.jsx("p",{style:{color:"#a1a1aa",fontSize:"14px",margin:"0 0 24px 0",textAlign:"center",maxWidth:"300px"},children:"Enter your email to receive a reset link"}),S.jsx("div",{style:{width:"100%",marginBottom:"1rem"},children:S.jsx(vn,{label:"Email",labelPlacement:"floating",fill:"outline",type:"email",placeholder:"Enter your email",value:t,onIonChange:d=>e(d.detail.value),style:{color:"#ffffff","--placeholder-color":"#a1a1aa","--color":"#ffffff",width:"100%","--background":"#2c2c2e","--border-radius":"8px"}})}),S.jsx(He,{onClick:u,expand:"block",shape:"round",disabled:l,style:{marginTop:"10px",width:"100%",fontWeight:"bold","--background":"#3880ff","--background-activated":"#4d8eff","--background-focused":"#4d8eff","--background-hover":"#4d8eff","--border-radius":"8px",height:"46px"},children:l?"SENDING...":"SEND RESET LINK"})]}),S.jsxs(He,{routerLink:"/Cephaline-Supabase",fill:"clear",style:{color:"#000000",textTransform:"none",fontSize:"14px",fontWeight:"normal","--background-activated":"transparent",marginTop:"1rem"},children:["Back to  ",S.jsx("b",{children:"LOGIN"})]})]}),S.jsx(ca,{isOpen:r,onDidDismiss:()=>o(!1),header:"Notification",message:n,buttons:["OK"]}),S.jsx(Rs,{isOpen:s,onDidDismiss:()=>a(!1),message:"Reset link sent!",duration:2e3,position:"top",color:"success"})]})})},zce=()=>{const t=Wa(),[e,n]=te.useState(""),[i,r]=te.useState(""),[o,s]=te.useState(""),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[f,p]=te.useState({value:0,label:"",color:""}),[m,b]=te.useState(""),[g,x]=te.useState("");te.useEffect(()=>{const E=window.location.search,C=new URLSearchParams(E),I=C.get("email"),T=C.get("token");I&&b(decodeURIComponent(I)),T&&x(T),y(I,T)},[]);const y=async(E,C)=>{if(!E||!C){s("Invalid password reset link"),l(!0);return}h(!0);try{const{error:I}=await De.auth.verifyOtp({email:E,token:C,type:"recovery"});if(I)throw I}catch(I){s("Invalid or expired reset link. Please request a new one."),l(!0),t.push("/Cephaline-Supabase","root","replace")}finally{h(!1)}};te.useEffect(()=>{if(e){const E=v(e);p(E)}else p({value:0,label:"",color:""})},[e]);const v=E=>{let C=0;return E.length>=8&&(C+=1),E.length>=12&&(C+=1),/[A-Z]/.test(E)&&(C+=1),/[a-z]/.test(E)&&(C+=1),/[0-9]/.test(E)&&(C+=1),/[^A-Za-z0-9]/.test(E)&&(C+=1),C<=2?{value:.25,label:"Very Weak",color:"danger"}:C<=4?{value:.5,label:"Weak",color:"warning"}:C<=6?{value:.75,label:"Strong",color:"success"}:{value:1,label:"Very Strong",color:"primary"}},w=async()=>{if(!e||!i){s("Please fill in all password fields"),l(!0);return}if(e!==i){s("Passwords do not match"),l(!0);return}if(e.length<6){s("Password must be at least 6 characters"),l(!0);return}h(!0);try{const{data:E,error:C}=await De.auth.updateUser({password:e});if(C)throw C;u(!0),s("Password updated successfully!"),l(!0),await De.auth.signOut(),t.push("/Cephaline-Supabase","root","replace")}catch(E){s(E.message||"Password update failed. Please try again."),l(!0)}finally{h(!1)}};return S.jsx(wr,{children:S.jsxs(qt,{className:"ion-padding",style:{backgroundColor:"#121212"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"1rem",padding:"1rem"},children:[S.jsxs("div",{style:{backgroundColor:"#1e1e1e",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:"450px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx(F1,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",backgroundColor:"#2c2c2e",marginBottom:"1.5rem"},children:S.jsx("img",{src:O9,alt:"Logo"})}),S.jsx("h1",{style:{color:"#ffffff",fontWeight:"bold",fontSize:"22px",margin:"0 0 8px 0"},children:"Set New Password"}),m&&S.jsxs("p",{style:{color:"#a1a1aa",fontSize:"14px",margin:"0 0 24px 0"},children:["For: ",m]}),S.jsxs("div",{style:{width:"100%",marginBottom:"1rem"},children:[S.jsx(vn,{label:"New Password",labelPlacement:"floating",fill:"outline",type:"password",placeholder:"Enter new password",value:e,onIonChange:E=>n(E.detail.value),style:{width:"100%",color:"#ffffff","--placeholder-color":"#a1a1aa","--background":"#2c2c2e","--border-radius":"8px"}}),e&&S.jsxs("div",{style:{width:"100%",marginTop:"8px"},children:[S.jsx(lC,{value:f.value,color:f.color,style:{height:"4px"}}),S.jsx(en,{color:f.color,style:{fontSize:"12px"},children:f.label})]})]}),S.jsx("div",{style:{width:"100%",marginBottom:"1.5rem"},children:S.jsx(vn,{label:"Confirm Password",labelPlacement:"floating",fill:"outline",type:"password",placeholder:"Confirm new password",value:i,onIonChange:E=>r(E.detail.value),style:{width:"100%",color:"#ffffff","--placeholder-color":"#a1a1aa","--background":"#2c2c2e","--border-radius":"8px"}})}),S.jsx(He,{onClick:w,expand:"block",shape:"round",disabled:d,style:{width:"100%",fontWeight:"bold","--background":"#3880ff","--border-radius":"8px",height:"46px"},children:d?"UPDATING...":"UPDATE PASSWORD"}),S.jsxs("div",{style:{width:"100%",color:"#a1a1aa",fontSize:"12px",marginTop:"1.5rem"},children:[S.jsx("p",{children:"Password should contain:"}),S.jsxs("ul",{style:{paddingLeft:"20px",margin:"8px 0 0 0"},children:[S.jsx("li",{style:{color:e.length>=8?"#3880ff":"#a1a1aa"},children:"At least 8 characters"}),S.jsx("li",{style:{color:/[A-Z]/.test(e)?"#3880ff":"#a1a1aa"},children:"One uppercase letter"}),S.jsx("li",{style:{color:/[0-9]/.test(e)?"#3880ff":"#a1a1aa"},children:"One number"}),S.jsx("li",{style:{color:/[^A-Za-z0-9]/.test(e)?"#3880ff":"#a1a1aa"},children:"One special character"})]})]})]}),S.jsxs(He,{routerLink:"/Cephaline-Supabase",fill:"clear",style:{color:"#3880ff",textTransform:"none",fontSize:"14px",fontWeight:"normal","--background-activated":"transparent",marginTop:"1rem"},children:["Back to ",S.jsx("b",{children:"LOGIN"})]})]}),S.jsx(ca,{isOpen:a,onDidDismiss:()=>l(!1),header:"Notification",message:o,buttons:["OK"]}),S.jsx(Rs,{isOpen:c,onDidDismiss:()=>u(!1),message:"Password updated successfully!",duration:2e3,position:"top",color:"success"})]})})},Fce=()=>{const[t,e]=te.useState("Loading..."),[n,i]=te.useState("Loading..."),[r,o]=te.useState("https://placehold.co/200");te.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:{user:a},error:l}=await De.auth.getUser();if(!a){e("Not logged in");return}const{data:c,error:u}=await De.from("users").select("username, user_firstname, user_lastname, user_avatar_url").eq("user_email",a.email).single();if(u)throw u;if(e(c.username||"No username"),i("".concat(c.user_firstname," ").concat(c.user_lastname).trim()||"No bio"),c.user_avatar_url)if(c.user_avatar_url.startsWith("http"))o(c.user_avatar_url);else{const{data:{publicUrl:d}}=await De.storage.from("user-avatars").getPublicUrl(c.user_avatar_url);o(d)}else o("https://placehold.co/200")}catch(a){console.error("Error fetching profile:",a),e("Error loading profile"),i("Please try again later")}};return S.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[S.jsx(F1,{style:{width:"200px",height:"200px",margin:"0 auto 16px"},children:S.jsx(M1,{src:r,style:{objectFit:"cover"},onError:a=>{a.target.src="https://placehold.co/200"}})}),S.jsxs($i,{children:[S.jsx("h2",{style:{margin:"8px 0",fontSize:"1.5rem"},children:t}),S.jsx("p",{style:{margin:"8px 0",color:"#666"},children:n})]}),S.jsxs(He,{fill:"outline",style:{marginTop:"16px"},routerLink:"/Cephaline-Supabase/app/editProfile",children:[S.jsx(at,{icon:Gae,slot:"start"}),"Edit Profile"]})]})};function Mce({value:t,onChange:e}){return S.jsx(pie,{placeholder:"Find Journal",value:t,onIonInput:n=>e(n.detail.value),debounce:300,style:{width:"1500px"}})}const Pce=({onJournalCreated:t})=>{const[e,n]=te.useState(!1),[i,r]=te.useState(""),[o,s]=te.useState(""),[a,l]=te.useState("#3880ff"),[c,u]=te.useState("#555555"),[d,h]=te.useState("#ffffff"),[f,p]=te.useState(!1),[m,b]=te.useState(""),g=[{value:"#3880ff",name:"Primary Blue"},{value:"#3dc2ff",name:"Light Blue"},{value:"#2dd36f",name:"Success Green"},{value:"#ffc409",name:"Warning Yellow"},{value:"#eb445a",name:"Danger Red"},{value:"#92949c",name:"Medium Gray"},{value:"#555555",name:"Dark Gray"},{value:"#000000",name:"Black"},{value:"#ffffff",name:"White"},{value:"#fff8e1",name:"Warm White"},{value:"#f5f5f5",name:"Light Gray"}],x=async()=>{if(!i.trim()){b("Journal title is required"),p(!0);return}try{const{data:{user:y},error:v}=await De.auth.getUser();if(v||!y)throw new Error((v==null?void 0:v.message)||"User not authenticated");const{data:w,error:E}=await De.from("journals").insert({user_id:y.id,title:i,description:o,title_color:a,description_color:c,card_color:d}).select().single();if(E)throw E;t&&t(w),r(""),s(""),n(!1)}catch(y){console.error("Error creating journal:",y),b(y instanceof Error?y.message:"Failed to create journal"),p(!0)}};return S.jsxs(S.Fragment,{children:[S.jsxs(He,{onClick:()=>n(!0),expand:"block",color:"primary",style:{margin:"0 10px",width:"100px"},children:[S.jsx(at,{slot:"start",icon:Tae}),"New Journal"]}),S.jsxs(go,{isOpen:e,onDidDismiss:()=>n(!1),children:[S.jsx(Un,{children:S.jsxs(Vn,{color:"primary",children:[S.jsx(sr,{slot:"start",children:S.jsx(He,{onClick:()=>n(!1),children:S.jsx(at,{icon:Ql})})}),S.jsx(ii,{children:"Create New Journal"}),S.jsx(sr,{slot:"end",children:S.jsx(He,{onClick:x,strong:!0,children:"Save"})})]})}),S.jsx(qt,{className:"ion-padding",children:S.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[S.jsxs(br,{children:[S.jsxs($i,{position:"stacked",color:"primary",children:["Journal Title ",S.jsx("span",{style:{color:"red"},children:"*"})]}),S.jsx(vn,{value:i,onIonChange:y=>r(y.detail.value||""),placeholder:"Enter journal title",autofocus:!0,clearOnEdit:!0})]}),S.jsxs(br,{children:[S.jsx($i,{position:"stacked",color:"primary",children:"Description"}),S.jsx(cC,{value:o,onIonChange:y=>s(y.detail.value||""),placeholder:"Enter journal description",rows:6,autoGrow:!0})]}),S.jsxs("div",{style:{marginTop:"20px"},children:[S.jsxs(br,{children:[S.jsx($i,{children:"Title Color"}),S.jsx(Eb,{value:a,onIonChange:y=>l(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(ya,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),S.jsxs(br,{children:[S.jsx($i,{children:"Description Color"}),S.jsx(Eb,{value:c,onIonChange:y=>u(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(ya,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]}),S.jsxs(br,{children:[S.jsx($i,{children:"Card Background"}),S.jsx(Eb,{value:d,onIonChange:y=>h(y.detail.value),interface:"popover",children:g.map(y=>S.jsx(ya,{value:y.value,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:y.value,marginRight:"8px",border:"1px solid #ddd"}}),y.name]})},y.value))})]})]}),S.jsxs("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:d,borderRadius:"8px",borderLeft:"4px solid var(--ion-color-primary)",boxShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:[S.jsx("h3",{style:{color:a,margin:"0 0 10px 0"},children:i||"Title Preview"}),S.jsx("p",{style:{color:c,fontStyle:"italic",margin:"8px 0"},children:o||"Description preview text goes here..."}),S.jsx("small",{style:{color:"#888",display:"block",textAlign:"right"},children:"Created: Just now"})]})]})})]}),S.jsx(ca,{isOpen:f,onDidDismiss:()=>p(!1),header:"Error",message:m,buttons:["OK"]})]})},Bce=({journals:t,setJournals:e,searchText:n,sortOption:i})=>{const r=ay(),[o,s]=te.useState(!0);te.useEffect(()=>{(async()=>{try{s(!0);const{data:{user:u}}=await De.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await De.from("journals").select("*").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(u){console.error("Error fetching journals:",u)}finally{s(!1)}})()},[e]);const a=te.useMemo(()=>[...t.filter(u=>{var d;return u.title.toLowerCase().includes(n.toLowerCase())||((d=u.description)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))})].sort((u,d)=>{switch(i){case"title-asc":return u.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(u.title);case"date-newest":return new Date(d.created_at).getTime()-new Date(u.created_at).getTime();case"date-oldest":return new Date(u.created_at).getTime()-new Date(d.created_at).getTime();case"color-asc":return(u.card_color||"").localeCompare(d.card_color||"");case"color-desc":return(d.card_color||"").localeCompare(u.card_color||"");default:return 0}}),[t,n,i]),l=async c=>{try{const{data:u,error:d}=await De.from("journal_pages").select("page_id").eq("journal_id",c).order("created_at",{ascending:!1}).limit(1);if(d)throw d;u!=null&&u.length?r.push("/Cephaline-Supabase/app/Overviewing/".concat(c)):r.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}catch(u){console.error("Error checking journal pages:",u),r.push("/Cephaline-Supabase/app/JournalPage/".concat(c))}};return o?S.jsxs("div",{className:"loading-container",children:[S.jsx(Wr,{name:"crescent"}),S.jsx("p",{children:"Loading your journals..."})]}):a.length===0?S.jsx("div",{className:"empty-state",children:S.jsx("p",{children:"No journals match your search."})}):S.jsx("div",{className:"bookshelf-container",children:S.jsxs("div",{className:"bookshelf",children:[S.jsx("div",{className:"shelf"}),S.jsx("div",{className:"journal-grid-container",children:a.map(c=>S.jsxs("div",{className:"journal-card-wrapper",style:{"--card-color":c.card_color,"--title-color":c.title_color},onClick:()=>l(c.journal_id),children:[S.jsx("div",{className:"journal-spine",children:S.jsxs("div",{className:"journal-title-container",children:[S.jsx("h3",{className:"journal-title",children:c.title}),S.jsx("div",{className:"journal-date",children:new Date(c.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})}),S.jsx("div",{className:"journal-card-preview",children:S.jsxs(Sr,{className:"journal-card",children:[S.jsx(aC,{children:S.jsx(Gd,{style:{color:c.title_color},children:c.title})}),S.jsxs(kr,{children:[S.jsx("p",{style:{color:c.description_color},children:c.description}),S.jsxs("small",{children:["Created: ",new Date(c.created_at).toLocaleDateString()]})]})]})})]},c.journal_id))})]})})},jce=({value:t,onChange:e})=>S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"-3px",marginBottom:"4px",marginLeft:"30px"},children:[S.jsx($i,{children:"Sort by:"}),S.jsxs(Eb,{value:t,placeholder:"Select sort",onIonChange:n=>e(n.detail.value),children:[S.jsx(ya,{value:"title-asc",children:"Title (A–Z)"}),S.jsx(ya,{value:"title-desc",children:"Title (Z–A)"}),S.jsx(ya,{value:"date-newest",children:"Date (Newest)"}),S.jsx(ya,{value:"date-oldest",children:"Date (Oldest)"}),S.jsx(ya,{value:"color-asc",children:"Background Color (A–Z)"}),S.jsx(ya,{value:"color-desc",children:"Background Color (Z–A)"})]})]}),Uce=()=>{const[t,e]=te.useState([]),[n,i]=te.useState(""),[r,o]=te.useState("date-newest"),[s,a]=te.useState(0),l=c=>{e(u=>[c,...u])};return nie(()=>{a(c=>c+1)}),S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(Vn,{children:S.jsx(ii,{children:"Journals"})})}),S.jsxs(qt,{children:[S.jsx(Fce,{}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(Mce,{value:n,onChange:i}),S.jsx(Pce,{onJournalCreated:l})]}),S.jsx(jce,{value:r,onChange:o}),S.jsx(Bce,{journals:t,setJournals:e,searchText:n,sortOption:r},s)]})]})},Vce=({avatarPreview:t,handleAvatarChange:e})=>{const n=te.useRef(null);return S.jsx(Ma,{children:S.jsx(Mr,{className:"ion-justify-content-center ion-align-items-center",children:S.jsxs(rr,{className:"ion-text-center",children:[t&&S.jsx(F1,{style:{width:"200px",height:"200px",margin:"10px auto"},children:S.jsx(M1,{src:t,style:{objectFit:"cover"}})}),S.jsx("input",{type:"file",ref:n,style:{display:"none"},accept:"image/*",onChange:e}),S.jsx(He,{expand:"block",onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},children:"Upload Avatar"})]})})})},Hce=({username:t,firstName:e,lastName:n,setUsername:i,setFirstName:r,setLastName:o})=>S.jsxs(Ma,{children:[S.jsx(Mr,{children:S.jsx(rr,{children:S.jsx(vn,{label:"Username",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter username",value:t,onIonChange:s=>i(s.detail.value)})})}),S.jsxs(Mr,{children:[S.jsx(rr,{size:"6",children:S.jsx(vn,{label:"First Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter First Name",value:e,onIonChange:s=>r(s.detail.value)})}),S.jsx(rr,{size:"6",children:S.jsx(vn,{label:"Last Name",type:"text",labelPlacement:"floating",fill:"outline",placeholder:"Enter Last Name",value:n,onIonChange:s=>o(s.detail.value)})})]})]}),Wce=({password:t,confirmPassword:e,currentPassword:n,setPassword:i,setConfirmPassword:r,setCurrentPassword:o})=>{const[s,a]=te.useState({value:0,label:"",color:""});te.useEffect(()=>{if(t){const c=l(t);a(c)}else a({value:0,label:"",color:""})},[t]);const l=c=>{let u=0;return c.length>=8&&(u+=1),c.length>=12&&(u+=1),/[A-Z]/.test(c)&&(u+=1),/[a-z]/.test(c)&&(u+=1),/[0-9]/.test(c)&&(u+=1),/[^A-Za-z0-9]/.test(c)&&(u+=1),u<=2?{value:.25,label:"Very Weak",color:"danger"}:u<=4?{value:.5,label:"Weak",color:"warning"}:u<=6?{value:.75,label:"Strong",color:"success"}:{value:1,label:"Very Strong",color:"primary"}};return S.jsxs(S.Fragment,{children:[S.jsx(Ma,{children:S.jsxs(Mr,{children:[S.jsx(en,{color:"secondary",children:S.jsx("h3",{children:"Change Password"})}),S.jsxs(rr,{size:"12",children:[S.jsx(vn,{label:"New Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter New Password",value:t,onIonChange:c=>i(c.detail.value),children:S.jsx(rh,{slot:"end"})}),t&&S.jsxs("div",{style:{marginTop:"8px"},children:[S.jsx(lC,{value:s.value,color:s.color,style:{height:"4px"}}),S.jsxs(en,{color:s.color,style:{fontSize:"12px"},children:["Strength: ",s.label]})]})]})]})}),S.jsxs(Ma,{children:[S.jsx(Mr,{children:S.jsx(rr,{size:"12",children:S.jsx(vn,{label:"Confirm Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Confirm New Password",value:e,onIonChange:c=>r(c.detail.value),children:S.jsx(rh,{slot:"end"})})})}),t&&S.jsx(Mr,{children:S.jsx(rr,{size:"12",children:S.jsxs("div",{style:{color:"#666",fontSize:"12px",marginTop:"8px"},children:[S.jsx("p",{children:"Password should contain:"}),S.jsxs("ul",{style:{paddingLeft:"20px",margin:"4px 0"},children:[S.jsx("li",{style:{color:t.length>=8?"#2dd36f":"#666"},children:"At least 8 characters"}),S.jsx("li",{style:{color:/[A-Z]/.test(t)?"#2dd36f":"#666"},children:"One uppercase letter"}),S.jsx("li",{style:{color:/[0-9]/.test(t)?"#2dd36f":"#666"},children:"One number"}),S.jsx("li",{style:{color:/[^A-Za-z0-9]/.test(t)?"#2dd36f":"#666"},children:"One special character"})]})]})})})]}),S.jsx(Ma,{children:S.jsxs(Mr,{children:[S.jsx(en,{color:"secondary",children:S.jsx("h3",{children:"Confirm Changes"})}),S.jsx(rr,{size:"12",children:S.jsx(vn,{label:"Current Password",type:"password",labelPlacement:"floating",fill:"outline",placeholder:"Enter Current Password to Save Changes",value:n,onIonChange:c=>o(c.detail.value),children:S.jsx(rh,{slot:"end"})})})]})})]})};function Gce(){var t=te.useRef(!1),e=te.useCallback(function(){return t.current},[]);return te.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}var qce=function(t){t===void 0&&(t={});var e=te.useState(t),n=e[0],i=e[1],r=te.useCallback(function(o){i(function(s){return Object.assign({},s,o instanceof Function?o(s):o)})},[]);return[n,r]},Xce=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(r){t.addRange(r)}),e&&e.focus()}},Kce=Xce,H_={"text/plain":"Text","text/html":"Url",default:"Text"},Yce="Copy to clipboard: #{key}, Enter";function Zce(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Jce(t,e){var n,i,r,o,s,a,l=!1;e||(e={}),n=e.debug||!1;try{r=Kce(),o=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=H_[e.format]||H_.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=Zce("message"in e?e.message:Yce),window.prompt(i,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),r()}return l}var Qce=Jce;const eue=Ja(Qce);var tue=function(){var t=Gce(),e=qce({value:void 0,error:void 0,noUserInteraction:!0}),n=e[0],i=e[1],r=te.useCallback(function(o){if(t()){var s,a;try{if(typeof o!="string"&&typeof o!="number"){var l=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");i({value:o,error:l,noUserInteraction:!0});return}else if(o===""){var l=new Error("Cannot copy empty string to clipboard.");i({value:o,error:l,noUserInteraction:!0});return}a=o.toString(),s=eue(a),i({value:a,error:void 0,noUserInteraction:s})}catch(c){i({value:a,error:c,noUserInteraction:s})}}},[]);return[n,r]};const nue=({userId:t,initialEnabled:e=!1,onToggleChange:n,disabled:i})=>{const[r,o]=te.useState(""),[s,a]=te.useState(!1),[l,c]=te.useState(""),[u,d]=te.useState(!1),[h,f]=te.useState(e),[p,m]=te.useState(!1),[b,g]=te.useState(!1),x=te.useCallback(()=>new di({issuer:"Cephaline-Supabase",label:"Cephaline-Supabase:"+t,algorithm:"SHA1",digits:6,period:30}).secret.base32,[t]),y=te.useCallback(async()=>{try{const{data:T,error:_}=await De.from("user_totp").select("secret, is_verified").eq("user_id",t).single();if(_&&_.code!=="PGRST116")throw _;return{enabled:!!(T!=null&&T.secret),secret:T==null?void 0:T.secret,isVerified:(T==null?void 0:T.is_verified)||!1}}catch(T){return console.error("Error checking TOTP status:",T),{enabled:!1,isVerified:!1}}},[t]);te.useEffect(()=>{(async()=>{if(t){d(!0);try{const _=await y();console.log(_);const{enabled:M,secret:D,isVerified:z}=_;f(M),g(z!=null?z:!1),M&&D&&o(D)}catch(_){console.error("Error checking TOTP status:",_)}finally{d(!1)}}})()},[t,y,f,g,o,d]);const v=async()=>{d(!0);try{const T=x(),{error:_}=await De.from("user_totp").upsert({user_id:t,secret:T,is_verified:!1,updated_at:new Date().toISOString()});if(_)throw _;return o(T),g(!1),!0}catch(T){return console.error("Error enabling TOTP:",T),c(T.message||"Failed to enable TOTP"),a(!0),!1}finally{d(!1)}},w=async()=>{d(!0);try{const{error:T}=await De.from("user_totp").delete().eq("user_id",t);if(T)throw T;return o(""),g(!1),!0}catch(T){return console.error("Error disabling TOTP:",T),c(T.message||"Failed to disable TOTP"),a(!0),!1}finally{d(!1)}},E=async T=>{const _=T.detail.checked;u||(_?await v()&&(f(!0),n==null||n(!0)):m(!0))},C=async()=>{m(!1),await w()&&(f(!1),n==null||n(!1))},I=async()=>{if(r)try{await navigator.clipboard.writeText(r),c("Copied to clipboard!"),a(!0)}catch(T){c("Copy failed"),a(!0)}};return S.jsxs("div",{className:"ion-padding",children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[S.jsx($i,{children:S.jsx("strong",{children:"Authenticator App (TOTP)"})}),u?S.jsx(Wr,{name:"crescent"}):S.jsx(P1,{checked:h,onIonChange:E,disabled:u||i})]}),h&&S.jsxs(S.Fragment,{children:[S.jsx(Sr,{children:S.jsx(kr,{children:S.jsx(Ma,{children:S.jsxs(Mr,{className:"ion-align-items-center",children:[S.jsx(rr,{children:S.jsxs(en,{children:[S.jsx("h3",{style:{margin:0},children:"Secret Key:"}),S.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.1rem",letterSpacing:"1px",wordBreak:"break-all",margin:"8px 0",userSelect:"all"},children:r||"Loading..."}),!b&&S.jsx(en,{color:"warning",children:S.jsx("p",{children:"This secret key is not yet verified. Please complete setup in your authenticator app."})})]})}),S.jsx(rr,{size:"auto",children:S.jsx(He,{fill:"clear",onClick:I,disabled:!r,children:S.jsx(at,{icon:a9})})})]})})})}),S.jsx("div",{style:{marginTop:"16px"},children:S.jsxs(en,{color:"medium",children:[S.jsx("p",{children:S.jsx("strong",{children:"How to setup:"})}),S.jsxs("ol",{style:{paddingLeft:"20px",margin:"8px 0"},children:[S.jsx("li",{children:"Copy the secret key above"}),S.jsx("li",{children:"Open your authenticator app (Google Authenticator, Authy, etc.)"}),S.jsx("li",{children:'Select "Enter a setup key" or similar option'}),S.jsx("li",{children:"Enter your account name (e.g., your email)"}),S.jsx("li",{children:"Paste the secret key"}),S.jsx("li",{children:'Select "Time-based" if given an option'}),S.jsx("li",{children:"Save the entry"})]}),S.jsxs("p",{style:{marginTop:"8px"},children:[S.jsx("strong",{children:"Note:"})," You'll need to enter the 6-digit code from your authenticator app when logging in."]})]})})]}),S.jsx(Rs,{isOpen:s,onDidDismiss:()=>a(!1),message:l,duration:2e3,position:"top"}),S.jsx(ca,{isOpen:p,onDidDismiss:()=>m(!1),header:"Disable Two-Factor Authentication?",message:"Are you sure you want to disable this security feature?",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:C}]})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iue=1e-7,rue=1e-4;class D9{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class BC{refCount(e){return Or("refCount")}incRef(e){return Or("incRef")}timerAvailable(){return!0}time(e){return Or("time")}read(e){return Or("read")}readSync(e){return Or("readSync")}readToGPU(e,n){return Or("readToGPU")}numDataIds(){return Or("numDataIds")}disposeData(e,n){return Or("disposeData")}write(e,n,i){return Or("write")}move(e,n,i,r,o){return Or("move")}createTensorFromGPUData(e,n,i){return Or("createTensorFromGPUData")}memory(){return Or("memory")}floatPrecision(){return Or("floatPrecision")}epsilon(){return this.floatPrecision()===32?iue:rue}dispose(){return Or("dispose")}}function Or(t){throw new Error("'".concat(t,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oue(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Nd(t,e,n)}function ku(t,e,n){return Math.max(t,Math.min(e,n))}function jC(t){return t%2===0?t:t+1}function Nd(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function sue(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function P(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Jr(t,e,n=""){P(Nt(t,e),()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}function rf(t){P(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ge(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function aue(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Nt(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $h(t){return t%1===0}function A3(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function sh(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function W_(t,e=r=>0,n,i){return new Promise((r,o)=>{let s=0;const a=()=>{if(t()){r();return}s++;const l=e(s);if(n!=null&&s>=n){o();return}i!=null?i(a,l):setTimeout(a,l)};a()})}function R9(t,e){let n=1,i=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(i!==-1)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(i," and dim ").concat(o));i=o}else if(t[o]<0)throw Error("Shapes can not be < 0. Found ".concat(t[o]," at dim ").concat(o));if(i===-1){if(e>0&&e!==n)throw Error("Size(".concat(e,") must match the product of shape ").concat(t));return t}if(n===0)throw Error("Cannot infer the missing size in [".concat(t,"] when ")+"there are 0 elements");if(e%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(e," / ").concat(n));const r=t.slice();return r[i]=e/n,r}function Tt(t,e){const n=e.length;return t=t==null?e.map((i,r)=>r):[].concat(t),P(t.every(i=>i>=-n&&i<n),()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(t)),P(t.every(i=>$h(i)),()=>"All values in axis param must be integers but "+"got axis ".concat(t)),t.map(i=>i<0?n+i:i)}function mc(t,e){const n=[],i=[],r=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||r?null:Tt(e,t).sort();let s=0;for(let a=0;a<t.length;++a){if(o!=null){if(o[s]===a&&t[a]!==1)throw new Error("Can't squeeze axis ".concat(a," since its dim '").concat(t[a],"' is not 1"));(o[s]==null||o[s]>a)&&t[a]===1&&(n.push(t[a]),i.push(a)),o[s]<=a&&s++}t[a]!==1&&(n.push(t[a]),i.push(a))}return{newShape:n,keptDims:i}}function Di(t,e){return Bn(t,e)}function Bn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error("Unknown data type ".concat(t));return n}function lue(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(isNaN(i)||!isFinite(i))throw Error("A tensor of type ".concat(e," being uploaded contains ").concat(i,"."))}}function cue(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function L9(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Ox(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype ".concat(t))}function uue(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function jm(t){return typeof t=="string"||t instanceof String}function due(t){return typeof t=="boolean"}function N3(t){return typeof t=="number"}function of(t){return Array.isArray(t)?of(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":N3(t)?"float32":jm(t)?"string":due(t)?"bool":"float32"}function O3(t){return!!(t&&t.constructor&&t.call&&t.apply)}function D3(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function it(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let i=e-3;i>=0;--i)n[i]=n[i+1]*t[i+1];return n}function z9(t,e,n,i=!1){const r=new Array;if(e.length===1){const o=e[0]*(i?2:1);for(let s=0;s<o;s++)r[s]=n[t+s]}else{const o=e[0],s=e.slice(1),a=s.reduce((l,c)=>l*c)*(i?2:1);for(let l=0;l<o;l++)r[l]=z9(t+l*a,s,n,i)}return r}function Zo(t,e,n=!1){if(t.length===0)return e[0];const i=t.reduce((r,o)=>r*o)*(n?2:1);if(i===0)return[];if(i!==e.length)throw new Error("[".concat(t,"] does not match the input size ").concat(e.length).concat(n?" for a complex tensor":"","."));return z9(0,t,e,n)}function hue(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error("Unknown dtype ".concat(e))}function UC(t,e){const n=Yi(t,e);for(let i=0;i<n.length;i++)n[i]=1;return n}function Yi(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type ".concat(e))}function F9(t,e){const n=t.reduce((i,r)=>i*r,1);if(e==null||e==="float32")return Zo(t,new Float32Array(n));if(e==="int32")return Zo(t,new Int32Array(n));if(e==="bool")return Zo(t,new Uint8Array(n));throw new Error("Unknown data type ".concat(e))}function ko(t){t.forEach(e=>{P(Number.isInteger(e)&&e>=0,()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(t,"]."))})}function Zs(t,e,n){if(e===0)return 0;if(e===1)return t[0];let i=t[t.length-1];for(let r=0;r<t.length-1;++r)i+=n[r]*t[r];return i}function sf(t,e,n){if(e===0)return[];if(e===1)return[t];const i=new Array(e);for(let r=0;r<i.length-1;++r)i[r]=Math.floor(t/n[r]),t-=i[r]*n[r];return i[i.length-1]=t,i}function Su(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G_="tfjsflags";class fue{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=pue,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(fe().getBool("IS_TEST")||fe().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=n}registerFlag(e,n,i){if(this.flagRegistry[e]={evaluationFn:n,setHook:i},this.urlFlags[e]!=null){const r=this.urlFlags[e];fe().getBool("IS_TEST")||fe().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Su(n))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);G_ in e&&e[G_].split(",").forEach(i=>{const[r,o]=i.split(":");this.urlFlags[r]=gue(r,o)})}}function pue(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...i)=>(mue(e,i[0],i[1]),i.join("="))),e}function mue(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function gue(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":"".concat(+n)===n?+n:e}function fe(){return M9}let M9=null;function bue(t){M9=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let O2;function P9(){if(O2==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");O2=t}return O2}function xue(){const t=P9();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function VC(t,e){const n=xue();if(n.has(t))return n.get(t);{const i=e();return n.set(t,i),n.get(t)}}const vy="Abs",Um="Acos",Vm="Acosh",af="Add",wy="AddN",HC="All",WC="Any",ky="ArgMax",Sy="ArgMin",Hm="Asin",Wm="Asinh",Gm="Atan",qm="Atanh",Xm="Atan2",Cy="AvgPool",GC="AvgPoolGrad",Ey="AvgPool3D",qC="AvgPool3DGrad",Ty="BatchMatMul",Iy="BatchToSpaceND",XC="Bincount",$y="BitwiseAnd",yue="BroadcastTo",KC="BroadcastArgs",Km="Cast",Ym="Ceil",Zm="ClipByValue",YC="Complex",_y="ComplexAbs",Ay="Concat",Ny="Conv2D",ZC="Conv2DBackpropFilter",Oy="Conv2DBackpropInput",Dy="Conv3D",JC="Conv3DBackpropFilterV2",QC="Conv3DBackpropInputV2",Jm="Cos",Qm="Cosh",eE="Cumprod",Ry="Cumsum",tE="CropAndResize",nE="DenseBincount",iE="DepthToSpace",Ly="DepthwiseConv2dNative",rE="DepthwiseConv2dNativeBackpropFilter",oE="DepthwiseConv2dNativeBackpropInput",sE="Diag",zy="Dilation2D",R3="Dilation2DBackpropInput",L3="Dilation2DBackpropFilter",vue="Draw",eg="RealDiv",aE="Einsum",tg="Elu",lE="EluGrad",ng="Erf",Fy="Equal",ig="Exp",My="ExpandDims",rg="Expm1",cE="FFT",uE="Fill",dE="FlipLeftRight",og="Floor",sg="FloorDiv",Py="FusedBatchNorm",By="GatherV2",hE="GatherNd",jy="Greater",ag="GreaterEqual",lg="Identity",fE="IFFT",pE="Imag",cg="IsFinite",ug="IsInf",dg="IsNan",Uy="LeakyRelu",Vy="Less",Hy="LessEqual",mE="LinSpace",hg="Log",fg="Log1p",Wy="LogicalAnd",Gy="LogicalNot",qy="LogicalOr",wue="LogSoftmax",Xy="LRN",gE="LRNGrad",Ky="Max",pg="Maximum",Yy="MaxPool",bE="MaxPoolGrad",Zy="MaxPool3D",xE="MaxPool3DGrad",yE="MaxPoolWithArgmax",Jy="Mean",Qy="Min",mg="Minimum",ev="MirrorPad",gg="Mod",vE="Multinomial",bg="Multiply",tv="Neg",nv="NotEqual",wE="NonMaxSuppressionV3",kE="NonMaxSuppressionV4",SE="NonMaxSuppressionV5",iv="OnesLike",rv="OneHot",ov="Pack",sv="PadV2",xg="Pow",av="Prelu",lv="Prod",CE="RaggedGather",EE="RaggedRange",TE="RaggedTensorToTensor",IE="Range",$E="Real",yg="Reciprocal",vg="Relu",cv="Reshape",uv="ResizeNearestNeighbor",_E="ResizeNearestNeighborGrad",dv="ResizeBilinear",AE="ResizeBilinearGrad",wg="Relu6",hv="Reverse",kg="Round",Sg="Rsqrt",NE="ScatterNd",OE="TensorScatterUpdate",DE="SearchSorted",fv="Select",Cg="Selu",pv="Slice",Eg="Sin",Tg="Sinh",Ig="Sign",$g="Sigmoid",_g="Softplus",Ag="Sqrt",mv="Sum",gv="SpaceToBatchND",bv="SplitV",xv="Softmax",RE="SparseFillEmptyRows",LE="SparseReshape",zE="SparseSegmentMean",FE="SparseSegmentSum",ME="SparseToDense",Ng="SquaredDifference",PE="Square",yv="StaticRegexReplace",BE="StridedSlice",jE="StringNGrams",UE="StringSplit",VE="StringToHashBucketFast",Og="Sub",Dg="Tan",Rg="Tanh",Lg="Tile",HE="TopK",WE="Transform",ah="Transpose",GE="Unique",vv="Unpack",wv="UnsortedSegmentSum",kv="ZerosLike",zg="Step",z3="FromPixels",qE="RotateWithOffset",Dx="_FusedMatMul",Rx="FusedConv2D",Lx="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lo(...t){fe().getBool("IS_TEST")||fe().getBool("PROD")||console.warn(...t)}function kue(...t){fe().getBool("IS_TEST")||fe().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zx=VC("kernelRegistry",()=>new Map),F3=VC("gradRegistry",()=>new Map);function M3(t,e){const n=j9(t,e);return zx.get(n)}function q_(t){return F3.get(t)}function X_(t){const e=zx.entries(),n=[];for(;;){const{done:i,value:r}=e.next();if(i)break;const[o,s]=r,[a]=o.split("_");a===t&&n.push(s)}return n}function B9(t){const{kernelName:e,backendName:n}=t,i=j9(e,n);zx.has(i)&&lo("The kernel '".concat(e,"' for backend ")+"'".concat(n,"' is already registered")),zx.set(i,t)}function Sue(t){const{kernelName:e}=t;F3.has(e)&&fe().getBool("DEBUG")&&lo("Overriding the gradient for '".concat(e,"'")),F3.set(e,t)}function j9(t,e){return"".concat(e,"_").concat(t)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U9(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var V9=gn,Wo=null;try{Wo=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function gn(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}gn.prototype.__isLong__;Object.defineProperty(gn.prototype,"__isLong__",{value:!0});function Qr(t){return(t&&t.__isLong__)===!0}gn.isLong=Qr;var K_={},Y_={};function Xu(t,e){var n,i,r;return e?(t>>>=0,(r=0<=t&&t<256)&&(i=Y_[t],i)?i:(n=bn(t,(t|0)<0?-1:0,!0),r&&(Y_[t]=n),n)):(t|=0,(r=-128<=t&&t<128)&&(i=K_[t],i)?i:(n=bn(t,t<0?-1:0,!1),r&&(K_[t]=n),n))}gn.fromInt=Xu;function Go(t,e){if(isNaN(t))return e?Zc:qo;if(e){if(t<0)return Zc;if(t>=H9)return q9}else{if(t<=-9223372036854776e3)return Br;if(t+1>=Eue)return G9}return t<0?Go(-t,e).neg():bn(t%_h|0,t/_h|0,e)}gn.fromNumber=Go;function bn(t,e,n){return new gn(t,e,n)}gn.fromBits=bn;var Fx=Math.pow;function XE(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return qo;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return XE(t.substring(1),e,n).neg();for(var r=Go(Fx(n,8)),o=qo,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+a),n);if(a<8){var c=Go(Fx(n,a));o=o.mul(c).add(Go(l))}else o=o.mul(r),o=o.add(Go(l))}return o.unsigned=e,o}gn.fromString=XE;function Ls(t,e){return typeof t=="number"?Go(t,e):typeof t=="string"?XE(t,e):bn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}gn.fromValue=Ls;var Z_=65536,Cue=1<<24,_h=Z_*Z_,H9=_h*_h,Eue=H9/2,J_=Xu(Cue),qo=Xu(0);gn.ZERO=qo;var Zc=Xu(0,!0);gn.UZERO=Zc;var Xd=Xu(1);gn.ONE=Xd;var W9=Xu(1,!0);gn.UONE=W9;var P3=Xu(-1);gn.NEG_ONE=P3;var G9=bn(-1,2147483647,!1);gn.MAX_VALUE=G9;var q9=bn(-1,-1,!0);gn.MAX_UNSIGNED_VALUE=q9;var Br=bn(0,-2147483648,!1);gn.MIN_VALUE=Br;var Be=gn.prototype;Be.toInt=function(){return this.unsigned?this.low>>>0:this.low};Be.toNumber=function(){return this.unsigned?(this.high>>>0)*_h+(this.low>>>0):this.high*_h+(this.low>>>0)};Be.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Br)){var n=Go(e),i=this.div(n),r=i.mul(n).sub(this);return i.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=Go(Fx(e,6),this.unsigned),s=this,a="";;){var l=s.div(o),c=s.sub(l.mul(o)).toInt()>>>0,u=c.toString(e);if(s=l,s.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};Be.getHighBits=function(){return this.high};Be.getHighBitsUnsigned=function(){return this.high>>>0};Be.getLowBits=function(){return this.low};Be.getLowBitsUnsigned=function(){return this.low>>>0};Be.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Br)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};Be.isZero=function(){return this.high===0&&this.low===0};Be.eqz=Be.isZero;Be.isNegative=function(){return!this.unsigned&&this.high<0};Be.isPositive=function(){return this.unsigned||this.high>=0};Be.isOdd=function(){return(this.low&1)===1};Be.isEven=function(){return(this.low&1)===0};Be.equals=function(e){return Qr(e)||(e=Ls(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Be.eq=Be.equals;Be.notEquals=function(e){return!this.eq(e)};Be.neq=Be.notEquals;Be.ne=Be.notEquals;Be.lessThan=function(e){return this.comp(e)<0};Be.lt=Be.lessThan;Be.lessThanOrEqual=function(e){return this.comp(e)<=0};Be.lte=Be.lessThanOrEqual;Be.le=Be.lessThanOrEqual;Be.greaterThan=function(e){return this.comp(e)>0};Be.gt=Be.greaterThan;Be.greaterThanOrEqual=function(e){return this.comp(e)>=0};Be.gte=Be.greaterThanOrEqual;Be.ge=Be.greaterThanOrEqual;Be.compare=function(e){if(Qr(e)||(e=Ls(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Be.comp=Be.compare;Be.negate=function(){return!this.unsigned&&this.eq(Br)?Br:this.not().add(Xd)};Be.neg=Be.negate;Be.add=function(e){Qr(e)||(e=Ls(e));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,o=this.low&65535,s=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,h=0,f=0;return f+=o+c,h+=f>>>16,f&=65535,h+=r+l,d+=h>>>16,h&=65535,d+=i+a,u+=d>>>16,d&=65535,u+=n+s,u&=65535,bn(h<<16|f,u<<16|d,this.unsigned)};Be.subtract=function(e){return Qr(e)||(e=Ls(e)),this.add(e.neg())};Be.sub=Be.subtract;Be.multiply=function(e){if(this.isZero())return qo;if(Qr(e)||(e=Ls(e)),Wo){var n=Wo.mul(this.low,this.high,e.low,e.high);return bn(n,Wo.get_high(),this.unsigned)}if(e.isZero())return qo;if(this.eq(Br))return e.isOdd()?Br:qo;if(e.eq(Br))return this.isOdd()?Br:qo;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(J_)&&e.lt(J_))return Go(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,h=0,f=0,p=0;return p+=s*u,f+=p>>>16,p&=65535,f+=o*u,h+=f>>>16,f&=65535,f+=s*c,h+=f>>>16,f&=65535,h+=r*u,d+=h>>>16,h&=65535,h+=o*c,d+=h>>>16,h&=65535,h+=s*l,d+=h>>>16,h&=65535,d+=i*u+r*c+o*l+s*a,d&=65535,bn(f<<16|p,d<<16|h,this.unsigned)};Be.mul=Be.multiply;Be.divide=function(e){if(Qr(e)||(e=Ls(e)),e.isZero())throw Error("division by zero");if(Wo){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Wo.div_u:Wo.div_s)(this.low,this.high,e.low,e.high);return bn(n,Wo.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Zc:qo;var i,r,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Zc;if(e.gt(this.shru(1)))return W9;o=Zc}else{if(this.eq(Br)){if(e.eq(Xd)||e.eq(P3))return Br;if(e.eq(Br))return Xd;var s=this.shr(1);return i=s.div(e).shl(1),i.eq(qo)?e.isNegative()?Xd:P3:(r=this.sub(e.mul(i)),o=i.add(r.div(e)),o)}else if(e.eq(Br))return this.unsigned?Zc:qo;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=qo}for(r=this;r.gte(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=a<=48?1:Fx(2,a-48),c=Go(i),u=c.mul(e);u.isNegative()||u.gt(r);)i-=l,c=Go(i,this.unsigned),u=c.mul(e);c.isZero()&&(c=Xd),o=o.add(c),r=r.sub(u)}return o};Be.div=Be.divide;Be.modulo=function(e){if(Qr(e)||(e=Ls(e)),Wo){var n=(this.unsigned?Wo.rem_u:Wo.rem_s)(this.low,this.high,e.low,e.high);return bn(n,Wo.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Be.mod=Be.modulo;Be.rem=Be.modulo;Be.not=function(){return bn(~this.low,~this.high,this.unsigned)};Be.and=function(e){return Qr(e)||(e=Ls(e)),bn(this.low&e.low,this.high&e.high,this.unsigned)};Be.or=function(e){return Qr(e)||(e=Ls(e)),bn(this.low|e.low,this.high|e.high,this.unsigned)};Be.xor=function(e){return Qr(e)||(e=Ls(e)),bn(this.low^e.low,this.high^e.high,this.unsigned)};Be.shiftLeft=function(e){return Qr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?bn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):bn(0,this.low<<e-32,this.unsigned)};Be.shl=Be.shiftLeft;Be.shiftRight=function(e){return Qr(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?bn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):bn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Be.shr=Be.shiftRight;Be.shiftRightUnsigned=function(e){if(Qr(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var i=this.low;return bn(i>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?bn(n,0,this.unsigned):bn(n>>>e-32,0,this.unsigned)};Be.shru=Be.shiftRightUnsigned;Be.shr_u=Be.shiftRightUnsigned;Be.toSigned=function(){return this.unsigned?bn(this.low,this.high,!1):this};Be.toUnsigned=function(){return this.unsigned?this:bn(this.low,this.high,!0)};Be.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Be.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Be.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};gn.fromBytes=function(e,n,i){return i?gn.fromBytesLE(e,n):gn.fromBytesBE(e,n)};gn.fromBytesLE=function(e,n){return new gn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};gn.fromBytesBE=function(e,n){return new gn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const X9=Ja(V9),Tue=wU({__proto__:null,default:X9},[V9]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uc=X9||Tue;function Sv(t){return Uc.fromString(t,!0,16)}const K9=Sv("c3a5c85c97cb3127"),Pc=Sv("b492b66fbe98f273"),er=Sv("9ae16a3b2f90404f");function B3(t){return t.xor(t.shru(47))}function Y9(t,e,n){const i=t.slice(e,e+n);return Uc.fromBytes(Array.from(i),!0,!0)}function on(t,e){return Y9(t,e,8)}function Q_(t,e){return Y9(t,e,4)}function pi(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Hl(t,e,n=Sv("9ddfea08eb382d69")){let i=t.xor(e).mul(n);i=i.xor(i.shru(47));let r=e.xor(i).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function Iue(t,e,n,i,r,o){r=r.add(t),o=pi(o.add(r).add(i),21);const s=r;return r=r.add(e),r=r.add(n),o=o.add(pi(r,44)),[r.add(i),o.add(s)]}function K0(t,e,n,i){return Iue(on(t,e),on(t,e+8),on(t,e+16),on(t,e+24),n,i)}function $ue(t,e=t.length){if(e>=8){const n=er.add(e*2),i=on(t,0).add(er),r=on(t,e-8),o=pi(r,37).mul(n).add(i),s=pi(i,25).add(r).mul(n);return Hl(o,s,n)}if(e>=4){const n=er.add(e*2),i=Q_(t,0);return Hl(i.shl(3).add(e),Q_(t,e-4),n)}if(e>0){const n=t[0],i=t[e>>1],r=t[e-1],o=n+(i<<8),s=e+(r<<2);return B3(er.mul(o).xor(K9.mul(s))).mul(er)}return er}function _ue(t,e=t.length){const n=er.add(e*2),i=on(t,0).mul(Pc),r=on(t,8),o=on(t,e-8).mul(n),s=on(t,e-16).mul(er);return Hl(pi(i.add(r),43).add(pi(o,30)).add(s),i.add(pi(r.add(er),18)).add(o),n)}function Aue(t,e=t.length){const n=er.add(e*2),i=on(t,0).mul(er),r=on(t,8),o=on(t,e-8).mul(n),s=on(t,e-16).mul(er),a=pi(i.add(r),43).add(pi(o,30)).add(s),l=Hl(a,i.add(pi(r.add(er),18)).add(o),n),c=on(t,16).mul(n),u=on(t,24),d=a.add(on(t,e-32)).mul(n),h=l.add(on(t,e-24)).mul(n);return Hl(pi(c.add(u),43).add(pi(d,30)).add(h),c.add(pi(u.add(i),18)).add(d),n)}function Nue(t,e=t.length){const n=Uc.fromNumber(81,!0);if(e<=32)return e<=16?$ue(t,e):_ue(t,e);if(e<=64)return Aue(t,e);let i=n,r=n.mul(Pc).add(113),o=B3(r.mul(er).add(113)).mul(er),s=[Uc.UZERO,Uc.UZERO],a=[Uc.UZERO,Uc.UZERO];i=i.mul(er).add(on(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do i=pi(i.add(r).add(s[0]).add(on(t,l+8)),37).mul(Pc),r=pi(r.add(s[1]).add(on(t,l+48)),42).mul(Pc),i=i.xor(a[1]),r=r.add(s[0]).add(on(t,l+40)),o=pi(o.add(a[0]),33).mul(Pc),s=K0(t,l,s[1].mul(Pc),i.add(a[0])),a=K0(t,l+32,o.add(a[1]),r.add(on(t,l+16))),[o,i]=[i,o],l+=64;while(l!==c);const d=Pc.add(o.and(255).shl(1));return l=u,a[0]=a[0].add(e-1&63),s[0]=s[0].add(a[0]),a[0]=a[0].add(s[0]),i=pi(i.add(r).add(s[0]).add(on(t,l+8)),37).mul(d),r=pi(r.add(s[1]).add(on(t,l+48)),42).mul(d),i=i.xor(a[1].mul(9)),r=r.add(s[0].mul(9).add(on(t,l+40))),o=pi(o.add(a[0]),33).mul(d),s=K0(t,l,s[1].mul(d),i.add(a[0])),a=K0(t,l+32,o.add(a[1]),r.add(on(t,l+16))),[o,i]=[i,o],Hl(Hl(s[0],a[0],d).add(B3(r).mul(K9)).add(o),Hl(s[1],a[1],d).add(i),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gc(t,e){return e==="string"?Wl(t):Ku([t],e)}function Oue(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Ku(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Cu(t)),fe().getBool("DEBUG")&&lue(t,e),Oue(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let i=0;i<n.length;++i)Math.round(t[i])!==0&&(n[i]=1);return n}else throw new Error("Unknown data type ".concat(e))}function pr(){return fe().platform.now()}function Wl(t,e="utf-8"){return e=e||"utf-8",fe().platform.encode(t,e)}function ec(t,e="utf-8"){return e=e||"utf-8",fe().platform.decode(t,e)}function is(t){return fe().platform.isTypedArray!=null?fe().platform.isTypedArray(t):U9(t)}function Cu(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Su(t)||t==null||is(t)&&n)e.push(t);else if(Array.isArray(t)||is(t))for(let i=0;i<t.length;++i)Cu(t[i],e,n);else{let i=-1;for(const r of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(r)&&(i=Math.max(i,Number(r)));for(let r=0;r<=i;r++)Cu(t[r],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Due{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Lue)}profileKernel(e,n,i){let r;const o=()=>{r=i()};let s;const a=pr();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(o);else{o();for(const c of r)c.dataSync();s=Promise.resolve({kernelMs:pr()-a})}if(fe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<r.length;c++){const u=r[c];u.data().then(d=>{Rue(d,u.dtype,e)})}return{kernelName:e,outputs:r,inputs:n,timeMs:s.then(c=>c.kernelMs),extraInfo:s.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:i,timeMs:r,inputs:o,extraInfo:s}=e;i.forEach(a=>{Promise.all([a.data(),r,s]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function Rue(t,e,n){if(e!=="float32")return!1;for(let i=0;i<t.length;i++){const r=t[i];if(isNaN(r)||!isFinite(r))return console.warn("Found ".concat(r," in the result of '").concat(n,"'")),!0}return!1}class Lue{logKernelProfile(e,n,i,r,o,s){const a=typeof r=="number"?sh("".concat(r,"ms"),9):r.error,l=sh(e,25),c=n.rank,u=n.size,d=sh(n.shape.toString(),14);let h="";for(const f in o){const p=o[f];if(p!=null){const m=p.shape||n.shape,b=m.length;h+="".concat(f,": ").concat(b,"D ").concat(b>0?m:""," ")}}console.log("%c".concat(l,"	%c").concat(a,"	%c").concat(c,"D ").concat(d,"	%c").concat(u,"	%c").concat(h,"	%c").concat(s),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zue(t,e,n){const i={},r={};for(let l=0;l<e.length;l++)i[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const h=u[d];let f=!1;for(let p=0;p<e.length;p++)if(i[h.id]){c.outputs.forEach(m=>i[m.id]=!0),f=!0,r[c.id]=!0;break}if(f)break}}const o={};o[n.id]=!0;const s={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(o[c.outputs[d].id]){for(const h in u)o[u[h].id]=!0,s[c.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const c=t[l];if(r[c.id]&&s[c.id]){const u={};for(const h in c.inputs){const f=c.inputs[h];i[f.id]&&(u[h]=f)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,a.push(d)}}return a}function Fue(t,e,n,i){for(let r=e.length-1;r>=0;r--){const o=e[r],s=[];if(o.outputs.forEach(l=>{const c=t[l.id];c!=null?s.push(c):s.push(null)}),o.gradient==null)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const a=o.gradient(s);for(const l in o.inputs){if(!(l in a))throw new Error("Cannot backprop through input ".concat(l,". ")+"Available gradients found: ".concat(Object.keys(a),"."));const c=n(()=>a[l]());if(c.dtype!=="float32")throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(l," must have 'float32' dtype, but has '").concat(c.dtype,"'"));const u=o.inputs[l];if(!Nt(c.shape,u.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(l,"' has shape '").concat(c.shape,"', which does not match ")+"the shape of the input '".concat(u.shape,"'"));if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=i(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eA=20,Vf=3,D2=7;function Mue(t,e,n,i){const r=it(e),o=Pue(t,e,n,r),s=e.length,a=_b(t,e,n,r,o),l=["Tensor"];return i&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(s)),l.push("  shape: [".concat(e,"]")),l.push("  values:")),l.push(a.map(c=>"    "+c).join("\n")),l.join("\n")}function Pue(t,e,n,i){const r=ge(e),o=i[i.length-1],s=new Array(o).fill(0),a=e.length,l=n==="complex64"?tp(t):t;if(a>1)for(let c=0;c<r/o;c++){const u=c*o;for(let d=0;d<o;d++)s[d]=Math.max(s[d],ep(l[u+d],0,n).length)}return s}function ep(t,e,n){let i;return Array.isArray(t)?i="".concat(parseFloat(t[0].toFixed(D2))," + ")+"".concat(parseFloat(t[1].toFixed(D2)),"j"):jm(t)?i="'".concat(t,"'"):n==="bool"?i=Z9(t):i=parseFloat(t.toFixed(D2)).toString(),sh(i,e)}function Z9(t){return t===0?"false":"true"}function _b(t,e,n,i,r,o=!0){const s=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=tp(t);return[ep(m[0],0,n)]}return n==="bool"?[Z9(t[0])]:[t[0].toString()]}if(l===1){if(a>eA){const b=Vf*s;let g=Array.from(t.slice(0,b)),x=Array.from(t.slice((a-Vf)*s,a*s));return n==="complex64"&&(g=tp(g),x=tp(x)),["["+g.map((y,v)=>ep(y,r[v],n)).join(", ")+", ..., "+x.map((y,v)=>ep(y,r[a-Vf+v],n)).join(", ")+"]"]}return["["+(n==="complex64"?tp(t):Array.from(t)).map((b,g)=>ep(b,r[g],n)).join(", ")+"]"]}const c=e.slice(1),u=i.slice(1),d=i[0]*s,h=[];if(a>eA){for(let m=0;m<Vf;m++){const b=m*d,g=b+d;h.push(..._b(t.slice(b,g),c,n,u,r,!1))}h.push("...");for(let m=a-Vf;m<a;m++){const b=m*d,g=b+d;h.push(..._b(t.slice(b,g),c,n,u,r,m===a-1))}}else for(let m=0;m<a;m++){const b=m*d,g=b+d;h.push(..._b(t.slice(b,g),c,n,u,r,m===a-1))}const f=l===2?",":"";h[0]="["+(a>0?h[0]+f:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+f;let p=",\n";for(let m=2;m<l;m++)p+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(o?"":p),h}function tp(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ri{constructor(e,n,i){if(this.dtype=n,this.shape=e.slice(),this.size=ge(e),i!=null){const r=i.length;P(r===this.size,()=>"Length of values '".concat(r,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'."))}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||Bn(n,this.size),this.strides=it(e)}set(e,...n){n.length===0&&(n=[0]),P(n.length===this.rank,()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")"));const i=this.locToIndex(n);this.values[i]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const r of e){if(r<0||r>=this.shape[n]){const o="Requested out of range element at ".concat(e,". ")+"  Buffer shape=".concat(this.shape);throw new Error(o)}n++}let i=e[e.length-1];for(let r=0;r<e.length-1;++r)i+=this.strides[r]*e[r];return this.values[i]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let i=0;i<e.length-1;++i)n+=this.strides[i]*e[i];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let i=0;i<n.length-1;++i)n[i]=Math.floor(e/this.strides[i]),e-=n[i]*this.strides[i];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return bs().makeTensor(this.values,this.shape,this.dtype)}}let bs=null,Od=null;function Bue(t){bs=t}function jue(t){Od=t}class Qt{constructor(e,n,i,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=ge(e),this.strides=it(e),this.dataId=i,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Od.buffer(this.shape,this.dtype,e)}bufferSync(){return Od.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Zo(this.shape,e,this.dtype==="complex64")}arraySync(){return Zo(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=bs().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(i=>ec(i))}catch(i){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),bs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=bs().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>ec(n))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await bs().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),bs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Od.print(this,e)}clone(){return this.throwIfDisposed(),Od.clone(this)}toString(e=!1){const n=this.dataSync();return Mue(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Od.cast(this,e)}variable(e=!0,n,i){return this.throwIfDisposed(),bs().makeVariable(this,e,n,i)}}Object.defineProperty(Qt,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function be(){return VC("Tensor",()=>Qt)}be();class Mx extends Qt{constructor(e,n,i,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=n,this.name=i}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Nt(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));bs().disposeTensor(this),this.dataId=e.dataId,bs().incRef(this,null)}dispose(){bs().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Mx,Symbol.hasInstance,{value:t=>t instanceof Qt&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var tA;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(tA||(tA={}));var j3;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(j3||(j3={}));var U3;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(U3||(U3={}));var V3;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(V3||(V3={}));var H3;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(H3||(H3={}));const Uue={float32:V3,int32:j3,bool:U3,complex64:H3};function qr(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast ".concat(t," with ").concat(e))}return Uue[t][e]}function KE(t){return qr(t,"int32")}function J9(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function Q9(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zn(t,e){if(t.dtype===e.dtype)return[t,e];const n=qr(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Vue(t,e){P(t.dtype===e.dtype,()=>"The dtypes of the first(".concat(t.dtype,") and")+" second(".concat(e.dtype,") input must match"))}function eL(t){const e=[];return tL(t,e,new Set),e}function tL(t,e,n){if(t==null)return;if(t instanceof Qt){e.push(t);return}if(!Hue(t))return;const i=t;for(const r in i){const o=i[r];n.has(o)||(n.add(o),tL(o,e,n))}}function Hue(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R2(t){return t.kernelName!=null}class nA{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Ah{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new nA}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n];if(await this.initializeBackend(i).success){await this.setBackend(i);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,i=1){return e in this.registryFactory?(lo("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:i},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:i}=this.initializeBackend(e);if(!(i?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Due(this.backendInstance),!0}setupRegisteredKernels(){X_(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){X_(e).forEach(i=>{i.disposeFunc!=null&&i.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const i=n.factory();if(i&&!(i instanceof BC)&&typeof i.then=="function"){const r=++this.pendingBackendInitId,o=i.then(s=>r<this.pendingBackendInitId?!1:(this.registry[e]=s,this.pendingBackendInit=null,!0)).catch(s=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,lo("Initialization of backend ".concat(e," failed")),lo(s.stack||s.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(i){return lo("Initialization of backend ".concat(e," failed")),lo(i.stack||i.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n],{success:r,asyncInit:o}=this.initializeBackend(i);if(o||r)return{name:i,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const i=this.state.tensorInfo.get(n),r=i.backend,o=this.readSync(n),s=r.refCount(n);r.disposeData(n,!0),i.backend=e,e.move(n,o,i.shape,i.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let i=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}let r;return this.scopedRun(()=>this.startScope(i),()=>this.endScope(r),()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,n,i){e();try{const r=i();return n(),r}catch(r){throw n(),r}}nextTensorId(){return Ah.nextTensorId++}nextVariableId(){return Ah.nextVariableId++}clone(e){const n=ee.runKernel(lg,{x:e}),i={x:e},r=s=>({x:()=>{const a="float32",l={x:s},c={dtype:a};return ee.runKernel(Km,l,c)}}),o=[];return this.addTapeNode(this.state.activeScope.name,i,[n],r,o,{}),n}runKernel(e,n,i){if(this.backendName==null&&this.backend,!(M3(e,this.backendName)!=null))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:n,attrs:i})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,i){const r=this.backend.numDataIds();let o=0;i.forEach(l=>{o+=l.dtype==="complex64"?3:1});const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-n-o-s;if(a>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(a," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let n,i=[];const r=this.isTapeOn(),o=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const c=R2(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(R2(e)){const{kernelName:p,inputs:m,attrs:b}=e;this.backendName==null&&this.backend;const g=M3(p,this.backendName);P(g!=null,()=>"Cannot find registered kernel '".concat(p,"' for backend '").concat(this.backendName,"'")),a=()=>{const x=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:b,backend:this.backend});const y=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,x,y);const v=y.map(w=>w.rank!=null?w:this.makeTensorFromTensorInfo(w));if(r){const w=this.getTensorsForGradient(p,m,v);i=this.saveTensorsForBackwardMode(w)}return v}}else{const{forwardFunc:p}=e,m=b=>{r&&(i=b.map(g=>this.keep(this.clone(g))))};a=()=>{const b=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,b,g),g}}const{inputs:u,attrs:d}=e,h=R2(e)?null:e.backwardsFunc;let f;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(f=this.profiler.profileKernel(c,u,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(f),n=f.outputs)}),r&&this.addTapeNode(c,u,n,h,i,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(p=>u[p]!=null?u[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:f.timeMs,extraInfo:f.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(i=>this.keep(this.clone(i)))}getTensorsForGradient(e,n,i){const r=q_(e);if(r!=null){const o=r.inputsToSave||[],s=r.outputsToSave||[];let a;r.saveAllInputs?(P(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(c=>n[c])):a=o.map(c=>n[c]);const l=i.filter((c,u)=>s[u]);return a.concat(l)}return[]}makeTensor(e,n,i,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");i=i||"float32",r=r||this.backend;let o=e;i==="string"&&jm(e[0])&&(o=e.map(l=>Wl(l)));const s=r.write(o,n,i),a=new Qt(n,i,s,this.nextTensorId());if(this.trackTensor(a,r),i==="string"){const l=this.state.tensorInfo.get(s),c=uue(o);this.state.numBytes+=c-l.bytes,l.bytes=c}return a}makeTensorFromDataId(e,n,i,r){i=i||"float32";const o={dataId:e,shape:n,dtype:i};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,n){const{dataId:i,shape:r,dtype:o}=e,s=new Qt(r,o,i,this.nextTensorId());return this.trackTensor(s,n),s}makeVariable(e,n=!0,i,r){i=i||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const o=new Mx(e,n,i,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name ".concat(o.name," was already registered"));return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*Ox(e.dtype)),this.state.numBytes+=i,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:i})),e instanceof Mx||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const i=e.size*Ox(e.dtype);this.state.numBytes-=i}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,i=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,i,r,o,s){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:i,saved:o},l=q_(e);l!=null&&(r=l.gradFunc),r!=null&&(a.gradient=c=>(c=c.map((u,d)=>{if(u==null){const h=i[d],f=Yi(h.size,h.dtype);return this.makeTensor(f,h.shape,h.dtype)}return u}),r(c.length>1?c:c[0],o,s))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=eL(e),i=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const s=this.state.activeScope.track[o];!s.kept&&!i.has(s.id)&&s.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===r.id&&this.track(o)})}gradients(e,n,i,r=!1){if(P(n.length>0,()=>"gradients() received an empty list of xs."),i!=null&&i.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '".concat(i.dtype,"'"));const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));P(o instanceof Qt,()=>"The result y returned by f() must be a tensor.");const s=zue(this.state.activeTape,n,o);if(!r&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=i==null?Wue(o.shape):i,Fue(a,s,c=>this.tidy(c),Gue);const l=n.map(c=>a[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(e){return P(O3(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{P(n.every(a=>a instanceof Qt),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let i;const r={};n.forEach((a,l)=>{r[l]=a});const o=(a,l)=>(i=e(...n,l),P(i.value instanceof Qt,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),P(O3(i.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i.value),s=(a,l)=>{const c=i.gradFunc(a,l),u=Array.isArray(c)?c:[c];P(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),P(u.every(h=>h instanceof Qt),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((h,f)=>{d[f]=()=>h}),d};return this.runKernelFunc({forwardFunc:o,backwardsFunc:s,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=pr(),i=await this.backend.time(e);return i.wallMs=pr()-n,i}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new nA;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Ah.nextTensorId=0;Ah.nextVariableId=0;function Wue(t){const e=UC(ge(t),"float32");return ee.makeTensor(e,t,"float32")}function nL(){const t=P9();if(t._tfengine==null){const e=new fue(t);t._tfengine=new Ah(e)}return bue(t._tfengine.ENV),Bue(()=>t._tfengine),t._tfengine}const ee=nL();function Gue(t,e){const n={a:t,b:e};return ee.runKernel(af,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function que(){return typeof navigator<"u"&&navigator!=null}function iL(t){if(t||que()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function rL(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cr=fe();Cr.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Cr.registerFlag("IS_BROWSER",()=>rL());Cr.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Cr.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Cr.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Cr.registerFlag("PROD",()=>!1);Cr.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Cr.getBool("DEBUG"));Cr.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Cr.registerFlag("IS_TEST",()=>!1);Cr.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Cr.getBool("DEBUG"));Cr.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Cr.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Cr.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bc(t,e){let n=t;if(is(t))return e==="string"?[]:[t.length];if(J9(t)){const r=t.channels||"RGBA";return[t.height,t.width*r.length]}else if(Q9(t))return[t.buffer.size/(e==null?4:Ox(e))];if(!Array.isArray(t))return[];const i=[];for(;Array.isArray(n)||is(n)&&e!=="string";)i.push(n.length),n=n[0];return Array.isArray(t)&&fe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&oL(t,i,[]),i}function oL(t,e,n){if(n=n||[],!Array.isArray(t)&&!is(t)){P(e.length===0,()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(e[0]," elements"));return}P(e.length>0,()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")),P(t.length===e[0],()=>"Element arr[".concat(n.join("]["),"] should have ").concat(e[0]," ")+"elements, but has ".concat(t.length," elements"));const i=e.slice(1);for(let r=0;r<t.length;++r)oL(t[r],i,n.concat(r))}function iA(t,e,n,i){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error("Argument '".concat(n,"' passed to '").concat(i,"' must ")+"be ".concat(t," tensor, but got ").concat(e," tensor"))}}function U(t,e,n,i="numeric"){if(t instanceof be())return iA(i,t.dtype,e,n),t;let r=of(t);if(r!=="string"&&["bool","int32","float32"].indexOf(i)>=0&&(r=i),iA(i,r,e,n),t==null||!is(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error("Argument '".concat(e,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(l,"'"))}const o=bc(t,r);!is(t)&&!Array.isArray(t)&&(t=[t]);const a=r!=="string"?Ku(t,r):Cu(t,[],!0);return ee.makeTensor(a,o,r)}function Px(t,e,n,i="numeric"){if(!Array.isArray(t))throw new Error("Argument ".concat(e," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return t.map((o,s)=>U(o,"".concat(e,"[").concat(s,"]"),n,i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sL="__op";function Z(t){const e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(e.length," keys."));let n=e[0];const i=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+sL;const r=(...o)=>{ee.startScope(n);try{const s=i(...o);return Su(s)&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(s),s}catch(s){throw ee.endScope(null),s}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xue(t,e){const n=U(t,"real","complex"),i=U(e,"imag","complex");Jr(n.shape,i.shape,"real and imag shapes, ".concat(n.shape," and ").concat(i.shape,", ")+"must match in call to tf.complex().");const r={real:n,imag:i};return ee.runKernel(YC,r)}const tc=Z({complex_:Xue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xc(t,e,n,i){if(i==null)i=of(t);else if(i==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Q9(t)||J9(t)){if(i!=="float32"&&i!=="int32")throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(i,"."));return ee.backend.createTensorFromGPUData(t,e||n,i)}if(!is(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){ko(e);const r=ge(e),o=ge(n);P(r===o,()=>"Based on the provided shape, [".concat(e,"], the tensor should have ")+"".concat(r," values but has ").concat(o));for(let s=0;s<n.length;++s){const a=n[s],l=s===n.length-1?a!==ge(e.slice(s)):!0;P(n[s]===e[s]||!l,()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(e,"). "))}}return!is(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=i!=="string"?Ku(t,i):Cu(t,[],!0),ee.makeTensor(t,e,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ss(t,e,n){const i=bc(t,n);return xc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eu={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class zs{static join(e){return new zs(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(i=>is(i)?i.buffer:i),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let i=0;i<e.length;i++){const r=e[i];i!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+r.byteLength;this.shards.push({buffer:r,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const i=this.findShardForByte(e);if(i===-1)throw new Error("Could not find start shard for byte ".concat(e));const r=n-e,o=new ArrayBuffer(r),s=new Uint8Array(o);let a=0;for(let l=i;l<this.shards.length;l++){const c=this.shards[l],d=e+a-c.start,h=a,p=Math.min(n,c.end)-c.start,m=new Uint8Array(c.buffer,d,p-d);if(s.set(m,h),a+=m.length,n<c.end)break}return o}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(r){return e<r.start?-1:e>=r.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const i=Kue(this.shards,n);return i===-1?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function Kue(t,e){let n=0,i=t.length;for(;n<=i;){const r=Math.floor((i-n)/2)+n,o=e(t[r]);if(o===0)return r;o<0?i=r:n=r+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bs(){return ee}function rA(){return ee.memory()}function ce(t,e){return ee.tidy(t,e)}function pt(t){eL(t).forEach(n=>n.dispose())}function gi(t){return ee.keep(t)}function oA(t){return ee.setBackend(t)}function Yue(){return ee.ready()}function Zue(){return ee.backendName}function aL(t,e,n=1){return ee.registerBackend(t,e,n)}function lL(){return ee.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nc=4;async function W3(t,e){const n=[],i=[],r=Array.isArray(t)?t.map(s=>s.name):Object.keys(t);for(let s=0;s<r.length;++s){const a=r[s],l=Array.isArray(t)?t[s].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error("Unsupported dtype in weight '".concat(a,"': ").concat(l.dtype));const c={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const h=await l.bytes(),f=h.reduce((b,g)=>b+g.length,0)+nc*h.length,p=new Uint8Array(f);let m=0;for(let b=0;b<h.length;b++){const g=h[b],x=new Uint8Array(new Uint32Array([g.length]).buffer);p.set(x,m),m+=nc,p.set(g,m),m+=g.length}d(p)});i.push(u)}else i.push(l.data());e!=null&&(c.group=e),n.push(c)}const o=await Promise.all(i);return{data:ede(o),specs:n}}function cL(t,e){const n=new zs(t),i={};let r=0;for(const o of e){const s=Jue(o,(a,l)=>n.slice(r+a,r+l));i[o.name]=uL(o,n.slice(r,r+s)),r+=s}return i}function Jue(t,e){const n=ge(t.shape);let i;if("quantization"in t){const r=t.quantization;i=Eu[r.dtype]}else if(t.dtype==="string"){let r=0;for(let o=0;o<n;o++)r+=nc+new Uint32Array(e(r,r+nc))[0];return r}else i=Eu[t.dtype];return n*i}async function Que(t,e){const n=ge(t.shape);let i;if("quantization"in t){const r=t.quantization;i=Eu[r.dtype]}else if(t.dtype==="string"){let r=0;for(let o=0;o<n;o++)r+=nc+new Uint32Array(await e(r,r+nc))[0];return r}else i=Eu[t.dtype];return n*i}function uL(t,e){const n=t.name,i=t.dtype,r=t.shape,o=ge(r);let s,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error("Weight ".concat(t.name," with quantization ").concat(l.dtype," ")+"doesn't have corresponding metadata min and scale.")}else if(l.dtype==="float16"){if(i!=="float32")throw new Error("Weight ".concat(t.name," is quantized with ").concat(l.dtype," ")+"which only supports weights of type float32 not ".concat(i,"."))}else throw new Error("Weight ".concat(t.name," has unknown ")+"quantization dtype ".concat(l.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");const c=Eu[l.dtype],u=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(i==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){s=new Float32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];s[d]=h*l.scale+l.min}}else if(l.dtype==="float16")s=sde()(u);else throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type float32.");else if(i==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error("Unsupported quantization type ".concat(l.dtype," ")+"for weight type int32.");s=new Int32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];s[d]=Math.round(h*l.scale+l.min)}}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=o*c}else if(i==="string"){const l=ge(t.shape);s=[];for(let c=0;c<l;c++){const u=new Uint32Array(e.slice(a,a+nc))[0];a+=nc;const d=new Uint8Array(e.slice(a,a+u));s.push(d),a+=u}}else{const l=Eu[i];if(i==="float32")s=new Float32Array(e);else if(i==="int32")s=new Int32Array(e);else if(i==="bool")s=new Uint8Array(e);else if(i==="complex64"){s=new Float32Array(e);const c=new Float32Array(s.length/2),u=new Float32Array(s.length/2);for(let p=0;p<c.length;p++)c[p]=s[p*2],u[p]=s[p*2+1];const d=Ss(c,r,"float32"),h=Ss(u,r,"float32"),f=tc(d,h);return d.dispose(),h.dispose(),f}else throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(i));a+=o*l}return Ss(s,r,i)}async function sA(t,e,n){let i=new Uint8Array(e);for(;i.byteLength<n;){const{done:r,value:o}=await t.read();if(r&&o==null){const a=n-i.byteLength;throw new Error("Reader is done but ".concat(a," bytes are still expected"))}const s=new Uint8Array(i.length+o.byteLength);s.set(i,0),s.set(new Uint8Array(o),i.length),i=s}return i.buffer}async function dL(t,e){const n={},i=t.getReader();let r=new ArrayBuffer(0);for(const o of e){const s=await Que(o,async(c,u)=>(r=await sA(i,r,u),r.slice(c,u)));r=await sA(i,r,s);const a=r.slice(0,s);r=r.slice(s);const l=uL(o,a);if(n[o.name]=l,Zue()==="webgpu"){const c=lL();"uploadToGPU"in c&&ge(l.shape)>=fe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&c.uploadToGPU(l.dataId)}}return n}function ede(t){if(t===null)throw new Error("Invalid input value: ".concat(JSON.stringify(t)));let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(o.constructor.name))});const i=new Uint8Array(e);let r=0;return n.forEach(o=>{i.set(new Uint8Array(o.buffer),r),r+=o.byteLength}),i.buffer}const YE=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function aA(t){return YE?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function tde(t){if(YE)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);return btoa(n)}function nde(t){if(YE){const i=Buffer.from(t,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n.set([e.charCodeAt(i)],i);return n.buffer}function hL(t){return zs.join(t)}function lA(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function fL(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function pL(t,e,n){const i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(i.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=e,i.weightData=n}return t.signature!=null&&(i.signature=t.signature),t.userDefinedMetadata!=null&&(i.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(i.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(i.initializerSignature=t.initializerSignature),i}async function ZE(t,e){let n,i;return t.weightsManifest!=null&&([n,i]=await e(t.weightsManifest)),pL(t,n,i)}function Fg(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:aA(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:aA(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new zs(t.weightData).byteLength}}function G3(t){const e=[];for(const n of t)e.push(...n.weights);return e}function ide(){const t=n=>{let i=n<<13,r=0;for(;!(i&8388608);)r-=8388608,i<<=1;return i&=-8388609,r+=947912704,i|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function rde(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function ode(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function sde(){const t=ide(),e=rde(),n=ode();return i=>{const r=new ArrayBuffer(4*i.length),o=new Uint32Array(r);for(let s=0;s<i.length;s++){const a=i[s],l=t[n[a>>10]+(a&1023)]+e[a>>10];o[s]=l}return new Float32Array(r)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Tn.instance==null&&(Tn.instance=new Tn),Tn.instance}static registerSaveRouter(e){Tn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Tn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Tn.getHandlers(e,"save")}static getLoadHandlers(e,n){return Tn.getHandlers(e,"load",n)}static getHandlers(e,n,i){const r=[];return(n==="load"?Tn.getInstance().loadRouters:Tn.getInstance().saveRouters).forEach(s=>{const a=s(e,i);a!==null&&r.push(a)}),r}}const ade=t=>Tn.registerSaveRouter(t),lde=t=>Tn.registerLoadRouter(t),mL=t=>Tn.getSaveHandlers(t),cde=(t,e)=>Tn.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3="tensorflowjs",X3=1,Jc="models_store",Ol="model_info_store";function gL(){if(!fe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function K3(t){const e=t.result;e.createObjectStore(Jc,{keyPath:"modelPath"}),e.createObjectStore(Ol,{keyPath:"modelPath"})}class Tu{constructor(e){if(this.indexedDB=gL(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((i,r)=>{const o=this.indexedDB.open(q3,X3);o.onupgradeneeded=()=>K3(o),o.onsuccess=()=>{const s=o.result;if(n==null){const a=s.transaction(Jc,"readonly"),c=a.objectStore(Jc).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return s.close(),r(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));i(c.result.modelArtifacts)},c.onerror=u=>(s.close(),r(c.error)),a.oncomplete=()=>s.close()}else{n.weightData=zs.join(n.weightData);const a=Fg(n),l=s.transaction(Ol,"readwrite");let c=l.objectStore(Ol),u;try{u=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(h){return r(h)}let d;u.onsuccess=()=>{d=s.transaction(Jc,"readwrite");const h=d.objectStore(Jc);let f;try{f=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(p){return r(p)}f.onsuccess=()=>i({modelArtifactsInfo:a}),f.onerror=p=>{c=l.objectStore(Ol);const m=c.delete(this.modelPath);m.onsuccess=()=>(s.close(),r(f.error)),m.onerror=b=>(s.close(),r(f.error))}},u.onerror=h=>(s.close(),r(u.error)),l.oncomplete=()=>{d==null?s.close():d.oncomplete=()=>s.close()}}},o.onerror=s=>r(o.error)})}}Tu.URL_SCHEME="indexeddb://";const bL=t=>fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Tu.URL_SCHEME)?ude(t.slice(Tu.URL_SCHEME.length)):null;Tn.registerSaveRouter(bL);Tn.registerLoadRouter(bL);function ude(t){return new Tu(t)}function dde(t){return t.startsWith(Tu.URL_SCHEME)?t.slice(Tu.URL_SCHEME.length):t}class hde{constructor(){this.indexedDB=gL()}async listModels(){return new Promise((e,n)=>{const i=this.indexedDB.open(q3,X3);i.onupgradeneeded=()=>K3(i),i.onsuccess=()=>{const r=i.result,o=r.transaction(Ol,"readonly"),a=o.objectStore(Ol).getAll();a.onsuccess=()=>{const l={};for(const c of a.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},a.onerror=l=>(r.close(),n(a.error)),o.oncomplete=()=>r.close()},i.onerror=r=>n(i.error)})}async removeModel(e){return e=dde(e),new Promise((n,i)=>{const r=this.indexedDB.open(q3,X3);r.onupgradeneeded=()=>K3(r),r.onsuccess=()=>{const o=r.result,s=o.transaction(Ol,"readwrite"),a=s.objectStore(Ol),l=a.get(e);let c;l.onsuccess=()=>{if(l.result==null)return o.close(),i(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const u=a.delete(e),d=()=>{c=o.transaction(Jc,"readwrite");const f=c.objectStore(Jc).delete(e);f.onsuccess=()=>n(l.result.modelArtifactsInfo),f.onerror=p=>i(l.error)};u.onsuccess=d,u.onerror=h=>(d(),o.close(),i(l.error))}},l.onerror=u=>(o.close(),i(l.error)),s.oncomplete=()=>{c==null?o.close():c.oncomplete=()=>o.close()}},r.onerror=o=>i(r.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ia="/",Dd="tensorflowjs_models",xL="info",fde="model_topology",pde="weight_specs",mde="weight_data",gde="model_metadata";function yL(t){return{info:[Dd,t,xL].join(Ia),topology:[Dd,t,fde].join(Ia),weightSpecs:[Dd,t,pde].join(Ia),weightData:[Dd,t,mde].join(Ia),modelMetadata:[Dd,t,gde].join(Ia)}}function vL(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function bde(t){const e=t.split(Ia);if(e.length<3)throw new Error("Invalid key format: ".concat(t));return e.slice(1,e.length-1).join(Ia)}function xde(t){return t.startsWith(Iu.URL_SCHEME)?t.slice(Iu.URL_SCHEME.length):t}class Iu{constructor(e){if(!fe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=yL(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),i=JSON.stringify(e.weightSpecs),r=Fg(e),o=zs.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,i),this.LS.setItem(this.keys.weightData,tde(o));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:r}}catch(s){throw vL(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(r.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(r.weightSpecsBytes,", ")+"weightDataBytes=".concat(r.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},i=JSON.parse(this.LS.getItem(this.keys.topology));if(i==null)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");n.modelTopology=i;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");n.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(s==null)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return n.weightData=nde(s),n}}Iu.URL_SCHEME="localstorage://";const wL=t=>fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Iu.URL_SCHEME)?yde(t.slice(Iu.URL_SCHEME.length)):null;Tn.registerSaveRouter(wL);Tn.registerLoadRouter(wL);function yde(t){return new Iu(t)}class vde{constructor(){P(fe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),P(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Dd+Ia,i=Ia+xL;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(n)&&o.endsWith(i)){const s=bde(o);e[s]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=xde(e);const n=yL(e);if(this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '".concat(e,"'"));const i=JSON.parse(this.LS.getItem(n.info));return vL(n),i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lh="://";class Qi{constructor(){this.managers={}}static getInstance(){return Qi.instance==null&&(Qi.instance=new Qi),Qi.instance}static registerManager(e,n){P(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(lh)&&(e=e.slice(0,e.indexOf(lh))),P(e.length>0,()=>"scheme must not be an empty string.");const i=Qi.getInstance();P(i.managers[e]==null,()=>"A model store manager is already registered for scheme '".concat(e,"'.")),i.managers[e]=n}static getManager(e){const n=Qi.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return n}static getSchemes(){return Object.keys(Qi.getInstance().managers)}}function Ab(t){if(t.indexOf(lh)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Qi.getSchemes().join(",")));return{scheme:t.split(lh)[0],path:t.split(lh)[1]}}async function kL(t,e,n=!1){P(t!==e,()=>"Old path and new path are the same: '".concat(t,"'"));const i=Tn.getLoadHandlers(t);P(i.length>0,()=>"Copying failed because no load handler is found for source URL ".concat(t,".")),P(i.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,"."));const r=i[0],o=Tn.getSaveHandlers(e);P(o.length>0,()=>"Copying failed because no save handler is found for destination "+"URL ".concat(e,".")),P(o.length<2,()=>"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(e,"."));const s=o[0],a=Ab(t).scheme,l=Ab(t).path,c=a===Ab(t).scheme,u=await r.load();n&&c&&await Qi.getManager(a).removeModel(l);const d=await s.save(u);return n&&!c&&await Qi.getManager(a).removeModel(l),d.modelArtifactsInfo}async function wde(){const t=Qi.getSchemes(),e={};for(const n of t){const i=await Qi.getManager(n).listModels();for(const r in i){const o=n+lh+r;e[o]=i[r]}}return e}async function kde(t){const e=Ab(t);return Qi.getManager(e.scheme).removeModel(e.path)}async function Sde(t,e){return kL(t,e,!1)}async function Cde(t,e){return kL(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ede{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got ".concat(n));return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!fe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{if(i.source===window&&i.data.name===this.messageName){i.stopPropagation();const r=this.functionRefs[i.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return U9(e)}}if(fe().get("IS_BROWSER")){fe().setPlatform("browser",new Ede);try{Qi.registerManager(Iu.URL_SCHEME,new vde)}catch(t){}try{Qi.registerManager(Tu.URL_SCHEME,new hde)}catch(t){}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tde={importFetch:()=>require("node-fetch")};let L2;class Ide{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return fe().global.fetch!=null?fe().global.fetch(e,n):(L2==null&&(L2=Tde.importFetch()),L2(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got ".concat(n));return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}fe().get("IS_NODE")&&!fe().get("IS_BROWSER")&&fe().setPlatform("node",new Ide);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vt(t,e="float32",n){return e=e||"float32",ko(t),new ri(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(t,e){const n=U(t,"x","cast");if(!cue(e))throw new Error("Failed to cast to unknown dtype ".concat(e));if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const i={x:n},r={dtype:e};return ee.runKernel(Km,i,r)}const Me=Z({cast_:$de});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const n={x:U(t,"x","clone","string_or_numeric")};return ee.runKernel(lg,n)}const Pa=Z({clone_:_de});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SL(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */nL();const Ade={buffer:vt,cast:Me,clone:Pa,print:SL};jue(Ade);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nde(t,e){let n=U(t,"a","add"),i=U(e,"b","add");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(af,r)}const Se=Z({add_:Nde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ode(t,e){let n=U(t,"a","floorDiv"),i=U(e,"b","floorDiv");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(sg,r)}const JE=Z({floorDiv_:Ode});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(t,e){let n=U(t,"a","div"),i=U(e,"b","div");if([n,i]=zn(n,i),n.dtype==="int32"&&i.dtype==="int32")return JE(n,i);const r={a:n,b:i},o={};return ee.runKernel(eg,r,o)}const Ue=Z({div_:Dde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rde(t,e){let n=U(t,"a","mul"),i=U(e,"b","mul");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(bg,r)}const Q=Z({mul_:Rde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lde(t){const e=U(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ee.runKernel(_y,n)}else{const n={x:e};return ee.runKernel(vy,n)}}const Jn=Z({abs_:Lde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zde(t){const n={x:U(t,"x","acos")};return ee.runKernel(Um,n)}const CL=Z({acos_:zde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fde(t){const n={x:U(t,"x","acosh")};return ee.runKernel(Vm,n)}const EL=Z({acosh_:Fde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mde(t){P(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),P(t.length>=1,()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(t.length));const e=t.map((r,o)=>U(r,"tensors".concat(o),"addN")),n=e[0];e.forEach(r=>{if(r.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!Nt(r.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const i=e;return ee.runKernel(wy,i)}const Pde=Z({addN_:Mde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bde(t,e=null,n=!1){const r={x:U(t,"x","all","bool")},o={axis:e,keepDims:n};return ee.runKernel(HC,r,o)}const QE=Z({all_:Bde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jde(t,e=null,n=!1){const r={x:U(t,"x","any","bool")},o={axis:e,keepDims:n};return ee.runKernel(WC,r,o)}const Bx=Z({any_:jde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t,e=0){const i={x:U(t,"x","argMax")},r={axis:e};return ee.runKernel(ky,i,r)}const Nh=Z({argMax_:Ude});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vde(t,e=0){const i={x:U(t,"x","argMin")},r={axis:e};return ee.runKernel(Sy,i,r)}const TL=Z({argMin_:Vde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(t){const n={x:U(t,"x","asin")};return ee.runKernel(Hm,n)}const IL=Z({asin_:Hde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wde(t){const n={x:U(t,"x","asinh")};return ee.runKernel(Wm,n)}const $L=Z({asinh_:Wde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gde(t){const n={x:U(t,"x","atan")};return ee.runKernel(Gm,n)}const _L=Z({atan_:Gde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(t,e){let n=U(t,"a","atan2"),i=U(e,"b","atan2");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(Xm,r)}const AL=Z({atan2_:qde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xde(t){const n={x:U(t,"x","atanh")};return ee.runKernel(qm,n)}const NL=Z({atanh_:Xde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mg(t,e,n,i,r="NHWC",o){const s=t[3],a=[...e,s],l=tl(r);return vi(t,a,n,o,i,null,null,l)}function ls(t,e,n,i,r,o,s="channelsLast"){const[a,l]=em(e);let c;if(s==="channelsLast")c=[a,l,t[3],t[3]];else if(s==="channelsFirst")c=[a,l,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(s));return vi(t,c,n,i,r,o,!1,s)}function el(t,e,n,i,r,o,s="NDHWC"){const[a,l,c]=Y3(e);let u,d;if(s==="NDHWC")d="channelsLast",u=[a,l,c,t[4],t[4]];else if(s==="NCDHW")d="channelsFirst",u=[a,l,c,t[1],t[1]];else throw new Error("Unknown dataFormat ".concat(s));return yc(t,u,n,i,r,!1,d,o)}function vi(t,e,n,i,r,o,s=!1,a="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(a==="channelsLast")[l,c,u,d]=t;else if(a==="channelsFirst")[l,d,c,u]=t;else throw new Error("Unknown dataFormat ".concat(a));const[h,f,,p]=e,[m,b]=em(n),[g,x]=em(i),y=ch(h,g),v=ch(f,x),{padInfo:w,outHeight:E,outWidth:C}=Zde(r,c,u,m,b,y,v,o,a),I=s?p*d:p;let T;return a==="channelsFirst"?T=[l,I,E,C]:a==="channelsLast"&&(T=[l,E,C,I]),{batchSize:l,dataFormat:a,inHeight:c,inWidth:u,inChannels:d,outHeight:E,outWidth:C,outChannels:I,padInfo:w,strideHeight:m,strideWidth:b,filterHeight:h,filterWidth:f,effectiveFilterHeight:y,effectiveFilterWidth:v,dilationHeight:g,dilationWidth:x,inShape:t,outShape:T,filterShape:e}}function yc(t,e,n,i,r,o=!1,s="channelsLast",a){let[l,c,u,d,h]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[l,c,u,d,h]=t;else if(s==="channelsFirst")[l,h,c,u,d]=t;else throw new Error("Unknown dataFormat ".concat(s));const[f,p,m,,b]=e,[g,x,y]=Y3(n),[v,w,E]=Y3(i),C=ch(f,v),I=ch(p,w),T=ch(m,E),{padInfo:_,outDepth:M,outHeight:D,outWidth:z}=Jde(r,c,u,d,g,x,y,C,I,T,a),$=o?b*h:b;let F;return s==="channelsFirst"?F=[l,$,M,D,z]:s==="channelsLast"&&(F=[l,M,D,z,$]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:M,outHeight:D,outWidth:z,outChannels:$,padInfo:_,strideDepth:g,strideHeight:x,strideWidth:y,filterDepth:f,filterHeight:p,filterWidth:m,effectiveFilterDepth:C,effectiveFilterHeight:I,effectiveFilterWidth:T,dilationDepth:v,dilationHeight:w,dilationWidth:E,inShape:t,outShape:F,filterShape:e}}function Kde(t,e,n,i,r){i==null&&(i=eT(t,e,n));const o=t[0],s=t[1],a=tm((o-e+2*i)/n+1,r),l=tm((s-e+2*i)/n+1,r);return[a,l]}function Yde(t,e,n,i,r,o){r==null&&(r=eT(t,e[0],i[0]));const s=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*r>=e[a]&&(s[a]=tm((t[a]-e[a]+2*r)/i[a]+1,o));return s}function eT(t,e,n,i=1){const r=ch(e,i);return Math.floor((t[0]*(n-1)-n+r)/2)}function em(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Y3(t){return typeof t=="number"?[t,t,t]:t}function ch(t,e){return e<=1?t:t+(t-1)*(e-1)}function Zde(t,e,n,i,r,o,s,a,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const f=Kde([e,n],o,i,t,a);u=f[0],d=f[1]}else if(t==="same"){u=Math.ceil(e/i),d=Math.ceil(n/r);const h=Math.max(0,(u-1)*i+o-e),f=Math.max(0,(d-1)*r+s-n),p=Math.floor(h/2),m=h-p,b=Math.floor(f/2),g=f-b;c={top:p,bottom:m,left:b,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-o+1)/i),d=Math.ceil((n-s+1)/r);else if(typeof t=="object"){const h=l==="channelsLast"?t[1][0]:t[2][0],f=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:h,bottom:f,left:p,right:m,type:h===0&&f===0&&p===0&&m===0?"VALID":"EXPLICIT"},u=tm((e-o+h+f)/i+1,a),d=tm((n-s+p+m)/r+1,a)}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:c,outHeight:u,outWidth:d}}function Jde(t,e,n,i,r,o,s,a,l,c,u){let d,h,f,p;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=Yde([e,n,i,1],[a,l,c],1,[r,o,s],t,u);h=b[0],f=b[1],p=b[2]}else if(t==="same"){h=Math.ceil(e/r),f=Math.ceil(n/o),p=Math.ceil(i/s);const m=(h-1)*r+a-e,b=(f-1)*o+l-n,g=(p-1)*s+c-i,x=Math.floor(m/2),y=m-x,v=Math.floor(b/2),w=b-v,E=Math.floor(g/2),C=g-E;d={top:v,bottom:w,left:E,right:C,front:x,back:y,type:"SAME"}}else throw Error("Unknown padding parameter: ".concat(t));return{padInfo:d,outDepth:h,outHeight:f,outWidth:p}}function tm(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode ".concat(e))}}function ic(t){const[e,n,i]=em(t);return e===1&&n===1&&i===1}function Fi(t,e){return ic(t)||ic(e)}function $u(t){return em(t).every(e=>e>0)}function tl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat ".concat(t))}function cr(t,e,n){if(n!=null){if(typeof e=="string")throw Error("Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));if(typeof e=="number")P($h(e),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(e,"."));else if(typeof e=="object")e.forEach(i=>{i.forEach(r=>{P($h(r),()=>"Error in ".concat(t,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(r,"."))})});else throw Error("Error in ".concat(t,": Unknown padding parameter: ").concat(e))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(t,e){const i={x:U(t,"x","reshape","string_or_numeric")},r={shape:e};return ee.runKernel(cv,i,r)}const ne=Z({reshape_:Qde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ehe(t,e,n,i,r){const o=U(t,"x","avgPool","float32"),s=1;P(Fi(n,s),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'"));let a=o,l=!1;o.rank===3&&(l=!0,a=ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),P(a.rank===4,()=>"Error in avgPool: x must be rank 4 but got rank ".concat(a.rank,".")),cr("avgPool",i,r);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:r};let d=ee.runKernel(Cy,c,u);return d=Me(d,o.dtype),l?ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Cv=Z({avgPool_:ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function the(t,e,n,i,r,o="NDHWC"){const s=U(t,"x","avgPool3d","float32");let a=s,l=!1;s.rank===4&&(l=!0,a=ne(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),P(a.rank===5,()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),P(o==="NDHWC",()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),P(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")),cr("avgPool3d",i,r);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:r,dataFormat:o};let d=ee.runKernel(Ey,c,u);return d=Me(d,a.dtype),l?ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const OL=Z({avgPool3d_:the});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(t,e=0){P(t.length>=1,()=>"Pass at least one tensor to concat");const n=Px(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(o.dtype,". "))}),n.length===1)return Pa(n[0]);const i=n,r={axis:e};return ee.runKernel(Ay,i,r)}const Ln=Z({concat_:nhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(t,e,n=!1,i=!1){let r=U(t,"a","matMul"),o=U(e,"b","matMul");[r,o]=zn(r,o);const s={a:r,b:o},a={transposeA:n,transposeB:i};return ee.runKernel(Ty,s,a)}const $t=Z({matMul_:ihe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t){const n={x:U(t,"x","sigmoid","float32")};return ee.runKernel($g,n)}const Cs=Z({sigmoid_:rhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e,n){const i=U(t,"x","slice","string_or_numeric");if(i.rank===0)throw new Error("Slicing scalar is not possible");const r={x:i},o={begin:e,size:n};return ee.runKernel(pv,r,o)}const ct=Z({slice_:ohe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(t){const n={x:U(t,"x","tanh","float32")};return ee.runKernel(Rg,n)}const _u=Z({tanh_:she});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(t,e,n,i,r,o){const s=U(t,"forgetBias","basicLSTMCell"),a=U(e,"lstmKernel","basicLSTMCell"),l=U(n,"lstmBias","basicLSTMCell"),c=U(i,"data","basicLSTMCell"),u=U(r,"c","basicLSTMCell"),d=U(o,"h","basicLSTMCell"),h=Ln([c,d],1),f=$t(h,a),p=Se(f,l),m=p.shape[0],b=p.shape[1]/4,g=[m,b],x=ct(p,[0,0],g),y=ct(p,[0,b],g),v=ct(p,[0,b*2],g),w=ct(p,[0,b*3],g),E=Se(Q(Cs(x),_u(y)),Q(u,Cs(Se(s,v)))),C=Q(_u(E),Cs(w));return[E,C]}const lhe=Z({basicLSTMCell_:ahe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function che(t,e,n){const i=U(t,"x","batchToSpaceND"),r=e.reduce((a,l)=>a*l);P(i.rank>=1+e.length,()=>"input rank is ".concat(i.rank," but should be > than blockShape.length ").concat(e.length)),P(n.length===e.length,()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(e.length)),P(i.shape[0]%r===0,()=>"input tensor batch is ".concat(i.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(e.join(" * ")," === ").concat(r));const o={x:i},s={blockShape:e,crops:n};return ee.runKernel(Iy,o,s)}const Ev=Z({batchToSpaceND_:che});function uhe(t){let e;return t.rank===0||t.rank===1?e=ne(t,[1,1,1,t.size]):t.rank===2?e=ne(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dhe(t,e,n,i,r,o){o==null&&(o=.001);const s=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),l=U(n,"variance","batchNorm");let c;r!=null&&(c=U(r,"scale","batchNorm"));let u;i!=null&&(u=U(i,"offset","batchNorm")),P(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),P(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),P(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:uhe(s),scale:c,offset:u,mean:a,variance:l},f={varianceEpsilon:o},p=ee.runKernel(Py,h,f);return ne(p,s.shape)}const Pg=Z({batchNorm_:dhe});function hhe(t,e,n,i,r,o){const s=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),l=U(n,"variance","batchNorm");let c;r!=null&&(c=U(r,"scale","batchNorm"));let u;return i!=null&&(u=U(i,"offset","batchNorm")),P(s.rank===2,()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")),P(a.rank===2||a.rank===1,()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(a.rank,".")),P(l.rank===2||l.rank===1,()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&P(c.rank===2||c.rank===1,()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&P(u.rank===2||u.rank===1,()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")),Pg(s,a,l,u,c,o)}const DL=Z({batchNorm2d_:hhe});function fhe(t,e,n,i,r,o){const s=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),l=U(n,"variance","batchNorm");let c;r!=null&&(c=U(r,"scale","batchNorm"));let u;return i!=null&&(u=U(i,"offset","batchNorm")),P(s.rank===3,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")),P(a.rank===3||a.rank===1,()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(a.rank,".")),P(l.rank===3||l.rank===1,()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&P(c.rank===3||c.rank===1,()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&P(u.rank===3||u.rank===1,()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")),Pg(s,a,l,u,c,o)}const RL=Z({batchNorm3d_:fhe});function phe(t,e,n,i,r,o){const s=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),l=U(n,"variance","batchNorm");let c;r!=null&&(c=U(r,"scale","batchNorm"));let u;return i!=null&&(u=U(i,"offset","batchNorm")),P(s.rank===4,()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")),P(a.rank===4||a.rank===1,()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(a.rank,".")),P(l.rank===4||l.rank===1,()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")),c!=null&&P(c.rank===4||c.rank===1,()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")),u!=null&&P(u.rank===4||u.rank===1,()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")),Pg(s,a,l,u,c,o)}const LL=Z({batchNorm4d_:phe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mhe(t,e,n){const i=U(t,"x","bincount"),r=U(e,"weights","bincount");P(i.dtype==="int32",()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(i.dtype)),P(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),P(r.size===i.size||r.size===0,()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(i.shape,", weights shape: ")+"".concat(r.shape,"."));const o={x:i,weights:r},s={size:n};return ee.runKernel(XC,o,s)}const zL=Z({bincount_:mhe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(t,e){const n=U(t,"x","bitwiseAnd"),i=U(e,"y","bitwiseAnd");if(!Nt(n.shape,i.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(i.shape));if(n.dtype!=="int32"||i.dtype!=="int32")throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(i.dtype));const r={a:n,b:i};return ee.runKernel($y,r)}const bhe=Z({bitwiseAnd_:ghe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xhe(t,e){const n=U(t,"s0","broadcastArgs","int32"),i=U(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(i.rank!==1)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(i.rank));const r={s0:n,s1:i};return ee.runKernel(KC,r)}const yhe=Z({broadcastArgs_:xhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vhe(t,e){let n=U(t,"broadcastTo","x");const i=n.shape;if(ko(e),e.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(e.length," < input.rank=").concat(n.rank,"."));if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=ne(n,c)}const r=n.shape,o=Array.from(e);for(let c=e.length-1;c>=0;c--)if(r[c]===e[c])o[c]=1;else if(n.shape[c]!==1)throw new Error("broadcastTo(): [".concat(i,"] cannot be broadcast to [").concat(e,"]."));if(o.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return Pa(n);const a={x:n},l={reps:o};return ee.runKernel(Lg,a,l)}const uh=Z({broadcastTo_:vhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function whe(t){const n={x:U(t,"x","ceil","float32")};return ee.runKernel(Ym,n)}const FL=Z({ceil_:whe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lf(t,e,n){ko(t),n=n||of(e);const i={shape:t,value:e,dtype:n};return ee.runKernel(uE,{},i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t,e,n){const i=U(t,"x","clipByValue");if(P(e<=n,()=>"Error in clip: min (".concat(e,") must be ")+"less than or equal to max (".concat(n,").")),e===n)return lf(i.shape,e,i.dtype);const r={x:i},o={clipValueMin:e,clipValueMax:n};return ee.runKernel(Zm,r,o)}const Er=Z({clipByValue_:khe});function She(t){return Ln(t,0)}const ML=Z({concat1d_:She});function Che(t,e){return Ln(t,e)}const PL=Z({concat2d_:Che});function Ehe(t,e){return Ln(t,e)}const BL=Z({concat3d_:Ehe});function The(t,e){return Ln(t,e)}const jL=Z({concat4d_:The});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ihe(t,e,n,i,r="NHWC",o=[1,1],s){const a=U(t,"x","conv2d","float32"),l=U(e,"filter","conv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(c.rank===4,()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,".")),P(l.rank===4,()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")),cr("conv2d",i,s);const d=r==="NHWC"?c.shape[3]:c.shape[1];P(d===l.shape[2],()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],".")),P(Fi(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),P($u(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),P($u(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:c,filter:l},f={strides:n,pad:i,dataFormat:r,dilations:o,dimRoundingMode:s},p=ee.runKernel(Ny,h,f);return u?ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const rc=Z({conv2d_:Ihe});function $he(t,e,n,i,r="NWC",o=1,s){const a=U(t,"x","conv1d"),l=U(e,"filter","conv1d");let c=a,u=!1;a.rank===2&&(u=!0,c=ne(a,[1,a.shape[0],a.shape[1]])),P(c.rank===3,()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,".")),P(l.rank===3,()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,".")),cr("conv1d",i,s),P(c.shape[2]===l.shape[1],()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],".")),P(Fi(n,o),()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")),P($u(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),P($u(n),()=>"Error in conv1D: Stride should be larger than 0."),P(r==="NWC",()=>"Error in conv1d: got dataFormat of ".concat(r," but only NWC is currently supported."));const d=ne(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=ne(c,[c.shape[0],1,c.shape[1],c.shape[2]]),b=rc(h,d,[1,n],i,"NHWC",[1,o],s);return u?ne(b,[b.shape[2],b.shape[3]]):ne(b,[b.shape[0],b.shape[2],b.shape[3]])}const tT=Z({conv1d_:$he});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _he(t,e,n,i,r,o="NHWC",s){P(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let a=t,l=e,c=!1;e.rank===3&&(c=!0,l=ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),P(a.length===4,()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(a.length,".")),P(l.rank===4,()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)),P(n.rank===4,()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank));const u=o==="NHWC"?a[3]:a[1],d=o==="NHWC"?l.shape[3]:l.shape[1];P(u===n.shape[2],()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],".")),P(d===n.shape[3],()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")),cr("conv2dDerInput",r,s);const h={dy:l,filter:n},f={strides:i,pad:r,dataFormat:o,dimRoundingMode:s,inputShape:a},p=ee.runKernel(Oy,h,f);return c?ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const nT=Z({conv2DBackpropInput_:_he});function Ahe(t,e,n,i,r,o){const s=U(t,"x","conv2dTranspose"),a=U(e,"filter","conv2dTranspose");return nT(n,s,a,i,r,"NHWC",o)}const iT=Z({conv2dTranspose_:Ahe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nhe(t,e,n,i,r="NDHWC",o=[1,1,1]){const s=U(t,"x","conv3d"),a=U(e,"filter","conv3d");let l=s,c=!1;s.rank===4&&(c=!0,l=ne(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),P(l.rank===5,()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,".")),P(a.rank===5,()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(a.rank,".")),P(l.shape[4]===a.shape[3],()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(a.shape[3],".")),P(Fi(n,o),()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")),P(r==="NDHWC",()=>"Error in conv3d: got dataFormat of ".concat(r," but only NDHWC is currently supported.")),P($u(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),P($u(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:l,filter:a},d={strides:n,pad:i,dataFormat:r,dilations:o},h=ee.runKernel(Dy,u,d);return c?ne(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const UL=Z({conv3d_:Nhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ohe(t,e,n,i,r){P(t.length===e.rank,()=>"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match"));let o=t,s=e,a=!1;e.rank===4&&(a=!0,s=ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const l=o[4],c=s.shape[4];P(o.length===5,()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")),P(s.rank===5,()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(s.rank)),P(n.rank===5,()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)),P(l===n.shape[3],()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")),P(c===n.shape[4],()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],"."));const u={dy:s,filter:n},d={pad:r,strides:i,inputShape:o},h=ee.runKernel(QC,u,d);return a?ne(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const VL=Z({conv3DBackpropInput_:Ohe});function Dhe(t,e,n,i,r){const o=U(t,"x","conv3dTranspose"),s=U(e,"filter","conv3dTranspose");return VL(n,o,s,i,r)}const HL=Z({conv3dTranspose_:Dhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rhe(t){const n={x:U(t,"x","cos","float32")};return ee.runKernel(Jm,n)}const Tv=Z({cos_:Rhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t){const n={x:U(t,"x","cosh","float32")};return ee.runKernel(Qm,n)}const rT=Z({cosh_:Lhe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe(t,e=0,n=!1,i=!1){const o={x:U(t,"x","cumprod")},s={axis:e,exclusive:n,reverse:i};return ee.runKernel(eE,o,s)}const jx=Z({cumprod_:zhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t,e=0,n=!1,i=!1){const o={x:U(t,"x","cumsum")},s={axis:e,exclusive:n,reverse:i};return ee.runKernel(Ry,o,s)}const oT=Z({cumsum_:Fhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe(t,e,n,i=!1){const r=U(t,"x","denseBincount"),o=U(e,"weights","denseBincount");P(r.dtype==="int32",()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(r.dtype)),P(r.rank<=2,()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(r.rank,".")),P(n>=0,()=>"size must be non-negative, but got ".concat(n,".")),P(o.size===r.size||o.size===0,()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(r.shape,", weights shape: ")+"".concat(o.shape,"."));const s={x:r,weights:o},a={size:n,binaryOutput:i};return ee.runKernel(nE,s,a)}const Z3=Z({denseBincount_:Mhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Phe(t,e,n="NHWC"){const i=U(t,"x","depthToSpace","float32"),r=n==="NHWC"?i.shape[1]:i.shape[2],o=n==="NHWC"?i.shape[2]:i.shape[3],s=n==="NHWC"?i.shape[3]:i.shape[1];P(e>1,()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(e)),P(r*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(r," and ").concat(e,"  for depthToSpace with input shape\n    ").concat(i.shape)),P(o*e>=0,()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(e," for depthToSpace with input shape\n        ").concat(i.shape)),P(s%(e*e)===0,()=>"Dimension size must be evenly divisible by ".concat(e*e," but is ").concat(s," for depthToSpace with input shape ").concat(i.shape));const a={x:i},l={blockSize:e,dataFormat:n};return ee.runKernel(iE,a,l)}const WL=Z({depthToSpace_:Phe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bhe(t,e,n,i,r="NHWC",o=[1,1],s){const a=U(t,"x","depthwiseConv2d","float32"),l=U(e,"filter","depthwiseConv2d","float32");let c=a,u=!1;a.rank===3&&(u=!0,c=ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(c.rank===4,()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")),P(l.rank===4,()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."));const d=r==="NHWC"?c.shape[3]:c.shape[1];P(d===l.shape[2],()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],".")),cr("depthwiseConv2d",i,s);const h={x:c,filter:l},f={strides:n,pad:i,dataFormat:r,dilations:o,dimRoundingMode:s},p=ee.runKernel(Ly,h,f);return u?ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Bg=Z({depthwiseConv2d_:Bhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jhe(t){const n={x:U(t,"x","diag")};return ee.runKernel(sE,n)}const Uhe=Z({diag_:jhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vhe(t,e,n,i,r=[1,1],o="NHWC"){const s=U(t,"x","dilation2d"),a=U(e,"filter","dilation2d");P(s.rank===3||s.rank===4,()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(s.rank,".")),P(a.rank===3,()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(a.rank,".")),P(o==="NHWC",()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o));let l=s,c=!1;s.rank===3&&(l=ne(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=!0),P(l.shape[3]===a.shape[2],()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(a.shape[2]));const u={x:l,filter:a},d={strides:n,pad:i,dilations:r},h=ee.runKernel(zy,u,d);return c?ne(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const GL=Z({dilation2d_:Vhe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oh(t,e){const n=t.length,i=[];for(let r=0;r<n;r++){const o=n-1-r,s=t[o]||1;(e[e.length-1-r]||1)>1&&s===1&&i.unshift(o)}return i}function ai(t,e){const n=[];for(let i=0;i<e.length;i++){const r=t[t.length-i-1],o=e.length-i-1,s=e[o];(r==null||r===1&&s>1)&&n.unshift(o)}return n}function mt(t,e){const n=Math.max(t.length,e.length),i=new Array(n);for(let r=0;r<n;r++){let o=t[t.length-r-1];o==null&&(o=1);let s=e[e.length-r-1];if(s==null&&(s=1),o===1)i[n-r-1]=s;else if(s===1)i[n-r-1]=o;else if(o!==s){const a="Operands could not be broadcast together with shapes "+"".concat(t," and ").concat(e,".");throw Error(a)}else i[n-r-1]=o}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hhe(t,e){let n=U(t,"a","equal","string_or_numeric"),i=U(e,"b","equal","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(Fy,r)}const Is=Z({equal_:Hhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Whe(t,e,n){const i=U(e,"a","where"),r=U(n,"b","where"),o=U(t,"condition","where","bool"),s=mt(mt(o.shape,i.shape),r.shape),a=uh(o,s),l=uh(i,s),c=uh(r,s),u={condition:a,t:l,e:c};return ee.runKernel(fv,u)}const Xi=Z({where_:Whe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ghe(t){const n={x:U(t,"x","zerosLike")};return ee.runKernel(kv,n)}const Rt=Z({zerosLike_:Ghe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(t,e){let n=U(t,"a","div"),i=U(e,"b","div");[n,i]=zn(n,i);const r=Ue(n,i),o=Rt(r),s=Is(i,o);return Xi(s,o,r)}const qL=Z({divNoNan_:qhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xhe(t,e){const n=U(t,"t1","dot"),i=U(e,"t2","dot");P((n.rank===1||n.rank===2)&&(i.rank===1||i.rank===2),()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const r=n.rank===1?n.size:n.shape[1],o=i.rank===1?i.size:i.shape[0];if(P(r===o,()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(r," and ").concat(o,".")),n.rank===1&&i.rank===1){const s=ne(n,[1,-1]),a=ne(i,[-1,1]),l=$t(s,a);return ne(l,[])}else if(n.rank===1&&i.rank===2){const s=ne(n,[1,-1]),a=ne(i,[i.shape[0],i.shape[1]]),l=$t(s,a);return ne(l,[l.size])}else if(n.rank===2&&i.rank===1){const s=ne(i,[-1,1]),a=$t(n,s);return ne(a,[a.size])}else{const s=ne(i,[i.shape[0],i.shape[1]]);return $t(n,s)}}const XL=Z({dot_:Xhe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Khe(t,...e){const n=e.map((r,o)=>U(r,"tensors".concat(o),"einsum")),i={equation:t};return ee.runKernel(aE,n,i)}const Rd=Z({einsum_:Khe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(t){const n={x:U(t,"x","elu","float32")};return ee.runKernel(tg,n)}const jg=Z({elu_:Yhe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zhe(t,e){const n=U(t,"x","ensureShape","string_or_numeric");if(!aue(n.shape,e))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(e));return t}const Jhe=Z({ensureShape_:Zhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qhe(t){let e=U(t,"x","erf");P(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Me(e,"float32"));const n={x:e};return ee.runKernel(ng,n)}const sT=Z({erf_:Qhe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aT(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function KL(t,e,n){const i=t.length+e.length,r=[];let o=0,s=0;for(let a=0;a<i;a++)n.indexOf(a)===-1?r.push(t[o++]):r.push(e[s++]);return r}function wi(t,e){const n=[],i=t.length;for(let o=0;o<i;o++)e.indexOf(o)===-1&&n.push(t[o]);const r=e.map(o=>t[o]);return[n,r]}function Hn(t,e){const n=e.map(i=>1);return KL(t,n,e)}function Mi(t,e,n){P(aT(e,n),()=>"".concat(t," supports only inner-most axes for now. ")+"Got axes ".concat(e," and rank-").concat(n," input."))}function _n(t,e){if(aT(t,e))return null;const n=[];for(let i=0;i<e;++i)t.indexOf(i)===-1&&n.push(i);return t.forEach(i=>n.push(i)),n}function vc(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Wn(t,e){const n=[];for(let i=e-t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t,e=null,n=!1){const r={x:U(t,"x","max")},o={reductionIndices:e,keepDims:n};return ee.runKernel(Ky,r,o)}const Jo=Z({max_:efe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t,e=null,n=!1){const r={x:U(t,"x","min")},o={axis:e,keepDims:n};return ee.runKernel(Qy,r,o)}const nm=Z({min_:tfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nfe(t,e){let n=U(t,"base","pow"),i=U(e,"exp","pow");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(xg,r)}const Ga=Z({pow_:nfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rt(t,e){if((is(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&is(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return xc(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t){const n={x:U(t,"x","sqrt","float32")};return ee.runKernel(Ag,n)}const Ri=Z({sqrt_:ife});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t){const e=U(t,"x","square"),n={};return ee.runKernel("Square",{x:e},n)}const tn=Z({square_:rfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t,e=null,n=!1){let i=U(t,"x","sum");i.dtype==="bool"&&(i=Me(i,"int32"));const r={x:i},o={axis:e,keepDims:n};return ee.runKernel(mv,r,o)}const Ke=Z({sum_:ofe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t,e="euclidean",n=null,i=!1){t=U(t,"x","norm");const r=YL(t,e,n);let o=r.shape;if(i){const s=Tt(n,t.shape);o=Hn(r.shape,s)}return ne(r,o)}function YL(t,e,n=null){if(t.rank===0)return Jn(t);if(t.rank!==1&&n===null)return YL(ne(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Ke(Jn(t),n);if(e===1/0)return Jo(Jn(t),n);if(e===-1/0)return nm(Jn(t),n);if(e==="euclidean"||e===2)return Ri(Ke(Ga(Jn(t),rt(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}if(Array.isArray(n)&&n.length===2){if(e===1)return Jo(Ke(Jn(t),n[0]),n[1]-1);if(e===1/0)return Jo(Ke(Jn(t),n[1]),n[0]);if(e===-1/0)return nm(Ke(Jn(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Ri(Ke(tn(t),n));throw new Error("Error in norm: invalid ord value: ".concat(e))}throw new Error("Error in norm: invalid axis: ".concat(n))}const Ug=Z({norm_:sfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function afe(t,e=null,n=!1){return Ug(t,"euclidean",e,n)}const ZL=Z({euclideanNorm_:afe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t){const n={x:U(t,"x","exp")};return ee.runKernel(ig,n)}const ar=Z({exp_:lfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(t,e=0){const n=U(t,"x","expandDims","string_or_numeric");P(e<=n.rank,()=>"Axis must be <= rank of the tensor");const i={input:n},r={dim:e};return ee.runKernel(My,i,r)}const Ii=Z({expandDims_:cfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t){const n={x:U(t,"x","expm1")};return ee.runKernel(rg,n)}const JL=Z({expm1_:ufe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e){const n=U(t,"x","tile","string_or_numeric");P(n.rank===e.length,()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(e,"."));const i={x:n},r={reps:e};return ee.runKernel(Lg,i,r)}const Xo=Z({tile_:dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hfe(t,e,n,i="float32"){e==null&&(e=t);const r=vt([t,e],i),o=t<=e?t:e;for(let a=0;a<o;++a)r.set(1,a,a);const s=ne(r.toTensor(),[t,e]);if(n==null)return s;if(n.length===1)return Xo(Ii(s,0),[n[0],1,1]);if(n.length===2)return Xo(Ii(Ii(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Xo(Ii(Ii(Ii(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}const lT=Z({eye_:hfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t){const n={x:U(t,"x","floor","float32")};return ee.runKernel(og,n)}const Vg=Z({floor_:ffe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pfe(t,e,n=0,i=0){const r=U(t,"x","gather"),o=U(e,"indices","gather","int32"),s={x:r,indices:o},a={axis:n,batchDims:i};return ee.runKernel(By,s,a)}const Hg=Z({gather_:pfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe(t,e){let n=U(t,"a","greater","string_or_numeric"),i=U(e,"b","greater","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(jy,r)}const eo=Z({greater_:mfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t,e){let n=U(t,"a","greaterEqual","string_or_numeric"),i=U(e,"b","greaterEqual","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(ag,r)}const wc=Z({greaterEqual_:gfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bfe(t){const n={input:U(t,"input","imag")};return ee.runKernel(pE,n)}const Iv=Z({imag_:bfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xfe(t){const n={x:U(t,"x","isFinite")};return ee.runKernel(cg,n)}const QL=Z({isFinite_:xfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yfe(t){const n={x:U(t,"x","isInf")};return ee.runKernel(ug,n)}const ez=Z({isInf_:yfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vfe(t){const n={x:U(t,"x","isNaN")};return ee.runKernel(dg,n)}const tz=Z({isNaN_:vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wfe(t,e=.2){const i={x:U(t,"x","leakyRelu")},r={alpha:e};return ee.runKernel(Uy,i,r)}const $v=Z({leakyRelu_:wfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kfe(t,e){let n=U(t,"a","less","string_or_numeric"),i=U(e,"b","less","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(Vy,r)}const im=Z({less_:kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sfe(t,e){let n=U(t,"a","lessEqual","string_or_numeric"),i=U(e,"b","lessEqual","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(Hy,r)}const Yu=Z({lessEqual_:Sfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cfe(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const i={start:t,stop:e,num:n};return ee.runKernel(mE,{},i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Efe(t,e=5,n=1,i=1,r=.5){const o=U(t,"x","localResponseNormalization");P(o.rank===4||o.rank===3,()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")),P($h(e),()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(e,"."));let s=o,a=!1;o.rank===3&&(a=!0,s=ne(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},c={depthRadius:e,bias:n,alpha:i,beta:r},u=ee.runKernel(Xy,l,c);return a?ne(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const nz=Z({localResponseNormalization_:Efe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t){const n={x:U(t,"x","log","float32")};return ee.runKernel(hg,n)}const xo=Z({log_:Tfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ife(t){const n={x:U(t,"x","log1p")};return ee.runKernel(fg,n)}const _v=Z({log1p_:Ife});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t,e){P(O3(t),()=>"The f passed in variableGrads(f) must be a function"),P(e==null||Array.isArray(e)&&e.every(c=>c instanceof Mx),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in ee.registeredVariables)e.push(ee.registeredVariables[c])}const i=n?e.filter(c=>!c.trainable):null,r=e.length;e=e.filter(c=>c.trainable),P(e.length>0,()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(r," variables is ")+"trainable.");const o=!0,{value:s,grads:a}=ee.gradients(t,e,null,o);P(a.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),P(s.rank===0,()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor"));const l={};return e.forEach((c,u)=>{a[u]!=null&&(l[c.name]=a[u])}),i!=null&&i.forEach(c=>l[c.name]=null),{value:s,grads:l}}function qa(t){return ee.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _fe(t){const n={x:U(t,"x","neg")};return ee.runKernel(tv,n)}const xn=Z({neg_:_fe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Afe(t){const n={x:U(t,"x","softplus")};return ee.runKernel(_g,n)}const cf=Z({softplus_:Afe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t){const e=U(t,"x","logSigmoid");return qa(i=>({value:xn(cf(xn(i))),gradFunc:s=>Q(s,Cs(xn(i)))}))(e)}const iz=Z({logSigmoid_:Nfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ofe(t,e){let n=U(t,"a","sub"),i=U(e,"b","sub");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(Og,r)}const Ve=Z({sub_:Ofe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t,e=-1){const n=U(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(e));return qa((r,o)=>{const a=Jo(r,e,!0),l=Ve(r,a),c=Ve(Me(l,"float32"),xo(Ke(ar(l),e,!0)));return o([c]),{value:c,gradFunc:(d,h)=>{const[f]=h,p=!0,m=ar(f);return Ve(d,Q(Ke(d,e,p),m))}}})(n)}const cT=Z({logSoftmax_:Dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rfe(t,e=null,n=!1){const i=U(t,"x","logSumExp"),r=Tt(e,i.shape),o=Jo(i,r,!0),s=Ve(i,o),a=ar(s),l=Ke(a,r),c=xo(l),u=Se(ne(o,c.shape),c);if(n){const d=Hn(u.shape,r);return ne(u,d)}return u}const Av=Z({logSumExp_:Rfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lfe(t,e){const n=U(t,"a","logicalAnd","bool"),i=U(e,"b","logicalAnd","bool");mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(Wy,r)}const ia=Z({logicalAnd_:Lfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t){const n={x:U(t,"x","logicalNot","bool")};return ee.runKernel(Gy,n)}const Nv=Z({logicalNot_:zfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t,e){const n=U(t,"a","logicalOr","bool"),i=U(e,"b","logicalOr","bool");mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(qy,r)}const uT=Z({logicalOr_:Ffe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t,e){const n=U(t,"a","logicalXor","bool"),i=U(e,"b","logicalXor","bool");return mt(n.shape,i.shape),ia(uT(t,e),Nv(ia(t,e)))}const rz=Z({logicalXor_:Mfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y0=2147483648;function Pfe(t,e,n="left"){const i=U(t,"sortedSequence","searchSorted"),r=U(e,"values","searchSorted"),o=i.shape[i.shape.length-1],s=r.shape[r.shape.length-1],a=ne(i,[-1,o]),l=ne(r,[-1,s]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ge(l.shape)>=Y0)throw new Error("values tensor size must less than ".concat(Y0));if(a.shape[1]>=Y0)throw new Error("trailing dim_size must less than ".concat(Y0," for int32 output type, was ").concat(a.shape[1]));const c={sortedSequence:a,values:l},u={side:n};return ee.runKernel(DE,c,u)}const dT=Z({searchSorted_:Pfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t,e){return dT(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jfe(t,e,n,i,r){const o=U(t,"x","maxPool"),s=1;let a=o,l=!1;o.rank===3&&(l=!0,a=ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),P(a.rank===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.rank,".")),P(Fi(n,s),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(s,"'")),cr("maxPool",i,r);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:r},d=ee.runKernel(Yy,c,u);return l?ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Ov=Z({maxPool_:jfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ufe(t,e=[1,1,1],n,i,r,o="NDHWC"){const s=U(t,"x","maxPool3d");let a=s,l=!1;s.rank===4&&(l=!0,a=ne(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),P(a.rank===5,()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(a.rank,".")),P(o==="NDHWC",()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)),cr("maxPool3d",i,r);const c={x:a},u={filterSize:e,strides:n,pad:i,dimRoundingMode:r,dataFormat:o},d=ee.runKernel(Zy,c,u);return l?ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const oz=Z({maxPool3d_:Ufe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vfe(t,e,n,i,r=!1){const s={x:U(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:i,includeBatchInIndex:r},l=ee.runKernel(yE,s,a);return{result:l[0],indexes:l[1]}}const Hfe=Z({maxPoolWithArgmax_:Vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wfe(t,e){let n=U(t,"a","maximum"),i=U(e,"b","maximum");[n,i]=zn(n,i),n.dtype==="bool"&&(n=Me(n,"int32"),i=Me(i,"int32")),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(pg,r)}const nl=Z({maximum_:Wfe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t,e=null,n=!1){const r={x:U(t,"x","mean")},o={axis:e,keepDims:n};return ee.runKernel(Jy,r,o)}const Nn=Z({mean_:Gfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qn(t,e="float32"){if(ko(t),e==="complex64"){const i=Qn(t,"float32"),r=Qn(t,"float32");return tc(i,r)}const n=Yi(ge(t),e);return ee.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jr(t,e="float32"){if(ko(t),e==="complex64"){const i=jr(t,"float32"),r=Qn(t,"float32");return tc(i,r)}const n=UC(ge(t),e);return ee.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qfe(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(t===void 0)return[];let i=U(t,"x","meshgrid",t instanceof Qt?t.dtype:"float32");if(e===void 0)return[i];let r=U(e,"y","meshgrid",e instanceof Qt?e.dtype:"float32");const o=ge(i.shape),s=ge(r.shape);return n==="xy"?(i=ne(i,[1,-1]),r=ne(r,[-1,1]),[$t(jr([s,1],i.dtype),i),$t(r,jr([1,o],r.dtype))]):(i=ne(i,[-1,1]),r=ne(r,[1,-1]),[$t(i,jr([1,s],i.dtype)),$t(jr([o,1],r.dtype),r)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xfe(t,e){let n=U(t,"a","minimum"),i=U(e,"b","minimum");[n,i]=zn(n,i),n.dtype==="bool"&&(n=Me(n,"int32"),i=Me(i,"int32")),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(mg,r)}const Au=Z({minimum_:Xfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kfe(t,e,n){P(n==="reflect"||n==="symmetric",()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,"."));const i=U(t,"x","mirrorPad");if(i.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");P(e.length===i.rank,()=>"Padding doesn't match input. Must be ".concat(i.rank,". ")+"Got ".concat(e.length,"."));const r=n==="reflect"?1:0;for(let a=0;a<i.rank;a++)P(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),P(e[a][0]>=0&&e[a][0]<=i.shape[a]-r&&e[a][1]>=0&&e[a][1]<=i.shape[a]-r,()=>"Padding in dimension ".concat(a," cannot be greater than or equal ")+"to ".concat(i.shape[a]-r," or less than 0 for input of ")+"shape ".concat(i.shape));const o={paddings:e,mode:n},s={x:i};return ee.runKernel(ev,s,o)}const sz=Z({mirrorPad_:Kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yfe(t,e){let n=U(t,"a","mod"),i=U(e,"b","mod");[n,i]=zn(n,i);const r={a:n,b:i};return ee.runKernel(gg,r)}const az=Z({mod_:Yfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t,e=null,n=!1){t=U(t,"x","moments");const i=Tt(e,t.shape),r=Nn(t,i,n);let o=r.shape;n||(o=Hn(r.shape,i));const s=tn(Ve(Me(t,"float32"),ne(r,o))),a=Nn(s,i,n);return{mean:r,variance:a}}const Dv=Z({moments_:Zfe});function Jfe(t,e,n,i){const r=U(e,"data","multiRNNCell"),o=Px(n,"c","multiRNNCell"),s=Px(i,"h","multiRNNCell");let a=r;const l=[];for(let d=0;d<t.length;d++){const h=t[d](a,o[d],s[d]);l.push(h[0]),l.push(h[1]),a=h[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}const Qfe=Z({multiRNNCell_:Jfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t,e,n,i=!1){const r=U(t,"logits","multinomial"),o=r.size,s=r.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(s));n=n||Math.random();const l={logits:s===1?ne(r,[1,-1]):r},c={numSamples:e,seed:n,normalized:i},u=ee.runKernel(vE,l,c);return s===1?ne(u,[u.size]):u}const tpe=Z({multinomial_:epe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(t,e){let n=U(t,"a","notEqual","string_or_numeric"),i=U(e,"b","notEqual","string_or_numeric");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i};return ee.runKernel(nv,r)}const Dh=Z({notEqual_:npe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ipe(t,e,n=1,i=0,r="int32"){if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(e));const s={indices:U(t,"indices","oneHot","int32")},a={dtype:r,depth:e,onValue:n,offValue:i};return ee.runKernel(rv,s,a)}const hT=Z({oneHot_:ipe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rpe(t){const n={x:U(t,"x","onesLike")};return ee.runKernel(iv,n)}const yo=Z({onesLike_:rpe});function ope(t,e){const n=U(t,"v1","outerProduct"),i=U(e,"v2","outerProduct");P(n.rank===1&&i.rank===1,()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(i.rank,"."));const r=ne(n,[-1,1]),o=ne(i,[1,-1]);return $t(r,o)}const spe=Z({outerProduct_:ope});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t,e,n=0){const i=U(t,"x","pad");if(i.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:n},o={x:i};return ee.runKernel(sv,o,r)}const kc=Z({pad_:ape});function lpe(t,e,n=0){return P(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),kc(t,[e],n)}const cpe=Z({pad1d_:lpe});function upe(t,e,n=0){return P(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),kc(t,e,n)}const dpe=Z({pad2d_:upe});function hpe(t,e,n=0){return P(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),kc(t,e,n)}const fpe=Z({pad3d_:hpe});function ppe(t,e,n=0){return P(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),kc(t,e,n)}const mpe=Z({pad4d_:ppe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t,e,n){const i=U(t,"x","spaceToBatchND");P(i.rank>=1+e.length,()=>"input rank ".concat(i.rank," should be > than [blockShape] ").concat(e.length)),P(n.length===e.length,()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(e.length)),P(i.shape.reduce((s,a,l)=>l>0&&l<=e.length?s&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:s,!0),()=>"input spatial dimensions ".concat(i.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(e.toString()));const r={x:i},o={blockShape:e,paddings:n};return ee.runKernel(gv,r,o)}const Rv=Z({spaceToBatchND_:gpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t,e,n,i,r,o,s){r==null&&(r=[1,1]),o==null&&(o=1),i===0&&(i="valid");const a=U(t,"x","maxPool");let l=a,c=!1;a.rank===3&&(c=!0,l=ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(Fi(o,r),()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(r,"'"));const u=ls(l.shape,e,o,r,i),d=[u.dilationHeight,u.dilationWidth];let h;i==="same"?h=ype([u.filterHeight,u.filterWidth],d):h=[[0,0],[0,0]];const f=d[0]===1&&d[1]===1,[p,m]=xpe([u.inHeight,u.inWidth],d,h),b=f?i:"valid",g=f?l:Rv(l,d,p),y=(n==="avg"?()=>Cv(g,e,o,b,s):()=>Ov(g,e,o,b,s))(),v=f?y:Ev(y,d,m);return c?ne(v,[v.shape[1],v.shape[2],v.shape[3]]):v}function xpe(t,e,n){const i=n.map(u=>u[0]),r=n.map(u=>u[1]),o=t.concat(i,r),s=e.map((u,d)=>(u-o[d]%u)%u),a=r.map((u,d)=>u+s[d]),l=e.map((u,d)=>[i[d],a[d]]),c=e.map((u,d)=>[0,s[d]]);return[l,c]}function ype(t,e){const i=t.map((s,a)=>s+(s-1)*(e[a]-1)).map(s=>s-1),r=i.map(s=>Math.floor(s/2)),o=i.map((s,a)=>s-r[a]);return i.map((s,a)=>[r[a],o[a]])}const lz=Z({pool_:bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vpe(t,e){const n=U(t,"x","prelu"),i=U(e,"alpha","prelu"),r={x:n,alpha:i};return ee.runKernel(av,r)}const Lv=Z({prelu_:vpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t,e=null,n=!1){let i=U(t,"x","prod");i.dtype==="bool"&&(i=Me(i,"int32"));const r={x:i},o={axis:e,keepDims:n};return ee.runKernel(lv,r,o)}const cz=Z({prod_:wpe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpe(t,e,n,i){const r=t.map((u,d)=>U(u,"tensors".concat(d),"raggedGather","int32")),o=U(e,"paramsDenseValues","raggedGather"),s=U(n,"indices","raggedGather","int32"),a={paramsNestedSplits:r,paramsDenseValues:o,indices:s},l={outputRaggedRank:i},c=ee.runKernel(CE,a,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const Spe=Z({raggedGather_:kpe});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t,e,n){const i=U(t,"starts","raggedRange"),r=U(e,"limits","raggedRange",i.dtype),o=U(n,"deltas","raggedRange",i.dtype),s={starts:i,limits:r,deltas:o},a=ee.runKernel(EE,s);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Epe=Z({raggedRange_:Cpe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpe(t,e,n,i,r){const o=U(t,"shape","raggedTensorToTensor","int32"),s=U(e,"values","raggedTensorToTensor"),a=U(n,"defaultValue","raggedTensorToTensor",s.dtype),l=i.map((d,h)=>U(d,"tensors".concat(h),"raggedTensorToTensor","int32")),c={shape:o,values:s,defaultValue:a,rowPartitionTensors:l},u={rowPartitionTypes:r};return ee.runKernel(TE,c,u)}const Ipe=Z({raggedTensorToTensor_:Tpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t,e,n){ko(t);const i=ge(t);let r=null;if(n==null||n==="float32")r=new Float32Array(i);else if(n==="int32")r=new Int32Array(i);else if(n==="bool")r=new Uint8Array(i);else throw new Error("Unknown data type ".concat(n));for(let o=0;o<i;o++)r[o]=e();return ee.makeTensor(r,t,n)}const _pe=Z({rand_:$pe});var fT={exports:{}};fT.exports;(function(t){(function(e,n,i){function r(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var u=new r(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&o(d,u),h.state=function(){return o(u,{})}),h}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=s:this.alea=s})(an,t)})(fT);var Ape=fT.exports,pT={exports:{}};pT.exports;(function(t){(function(e,n,i){function r(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function s(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=s:this.xor128=s})(an,t)})(pT);var Npe=pT.exports,mT={exports:{}};mT.exports;(function(t){(function(e,n,i){function r(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function s(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=s:this.xorwow=s})(an,t)})(mT);var Ope=mT.exports,gT={exports:{}};gT.exports;(function(t){(function(e,n,i){function r(a){var l=this;l.next=function(){var u=l.x,d=l.i,h,f;return h=u[d],h^=h>>>7,f=h^h<<24,h=u[d+1&7],f^=h^h>>>10,h=u[d+3&7],f^=h^h>>>3,h=u[d+4&7],f^=h^h<<7,h=u[d+7&7],h=h^h<<13,f^=h^h<<9,u[d]=f,l.i=d+1&7,f};function c(u,d){var h,f=[];if(d===(d|0))f[0]=d;else for(d=""+d,h=0;h<d.length;++h)f[h&7]=f[h&7]<<15^d.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],u.x=f,u.i=0,h=256;h>0;--h)u.next()}c(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function s(a,l){a==null&&(a=+new Date);var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(u.x&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=s:this.xorshift7=s})(an,t)})(gT);var Dpe=gT.exports,bT={exports:{}};bT.exports;(function(t){(function(e,n,i){function r(a){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,f,p;return l.w=u=u+1640531527|0,p=d[h+34&127],f=d[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,p=d[h]=p^f,l.i=h,p+(u^u>>>16)|0};function c(u,d){var h,f,p,m,b,g=[],x=128;for(d===(d|0)?(f=d,d=null):(d=d+"\0",f=0,x=Math.max(x,d.length)),p=0,m=-32;m<x;++m)d&&(f^=d.charCodeAt((m+32)%d.length)),m===0&&(b=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,m>=0&&(b=b+1640531527|0,h=g[m&127]^=f+b,p=h==0?p+1:0);for(p>=128&&(g[(d&&d.length||0)&127]=-1),p=127,m=4*128;m>0;--m)f=g[p+34&127],h=g[p=p+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,g[p]=f^h;u.w=b,u.X=g,u.i=p}c(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function s(a,l){a==null&&(a=+new Date);var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(u.X&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=s:this.xor4096=s})(an,t)})(bT);var Rpe=bT.exports,xT={exports:{}};xT.exports;(function(t){(function(e,n,i){function r(a){var l=this,c="";l.next=function(){var d=l.b,h=l.c,f=l.d,p=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function s(a,l){var c=new r(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&o(u,c),d.state=function(){return o(c,{})}),d}n&&n.exports?n.exports=s:this.tychei=s})(an,t)})(xT);var Lpe=xT.exports,uz={exports:{}};const zpe=FN(yce);(function(t){(function(e,n,i){var r=256,o=6,s=52,a="random",l=i.pow(r,o),c=i.pow(2,s),u=c*2,d=r-1,h;function f(v,w,E){var C=[];w=w==!0?{entropy:!0}:w||{};var I=g(b(w.entropy?[v,y(n)]:v==null?x():v,3),C),T=new p(C),_=function(){for(var M=T.g(o),D=l,z=0;M<c;)M=(M+z)*r,D*=r,z=T.g(1);for(;M>=u;)M/=2,D/=2,z>>>=1;return(M+z)/D};return _.int32=function(){return T.g(4)|0},_.quick=function(){return T.g(4)/4294967296},_.double=_,g(y(T.S),n),(w.pass||E||function(M,D,z,$){return $&&($.S&&m($,T),M.state=function(){return m(T,{})}),z?(i[a]=M,D):M})(_,I,"global"in w?w.global:this==i,w.state)}function p(v){var w,E=v.length,C=this,I=0,T=C.i=C.j=0,_=C.S=[];for(E||(v=[E++]);I<r;)_[I]=I++;for(I=0;I<r;I++)_[I]=_[T=d&T+v[I%E]+(w=_[I])],_[T]=w;(C.g=function(M){for(var D,z=0,$=C.i,F=C.j,j=C.S;M--;)D=j[$=d&$+1],z=z*r+j[d&(j[$]=j[F=d&F+D])+(j[F]=D)];return C.i=$,C.j=F,z})(r)}function m(v,w){return w.i=v.i,w.j=v.j,w.S=v.S.slice(),w}function b(v,w){var E=[],C=typeof v,I;if(w&&C=="object")for(I in v)try{E.push(b(v[I],w-1))}catch(T){}return E.length?E:C=="string"?v:v+"\0"}function g(v,w){for(var E=v+"",C,I=0;I<E.length;)w[d&I]=d&(C^=w[d&I]*19)+E.charCodeAt(I++);return y(w)}function x(){try{var v;return h&&(v=h.randomBytes)?v=v(r):(v=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(v)),y(v)}catch(C){var w=e.navigator,E=w&&w.plugins;return[+new Date,e,E,e.screen,y(n)]}}function y(v){return String.fromCharCode.apply(0,v)}if(g(i.random(),n),t.exports){t.exports=f;try{h=zpe}catch(v){}}else i["seed"+a]=f})(typeof self<"u"?self:an,[],Math)})(uz);var Fpe=uz.exports,Mpe=Ape,Ppe=Npe,Bpe=Ope,jpe=Dpe,Upe=Rpe,Vpe=Lpe,Zu=Fpe;Zu.alea=Mpe;Zu.xor128=Ppe;Zu.xorwow=Bpe;Zu.xorshift7=jpe;Zu.xor4096=Upe;Zu.tychei=Vpe;var zv=Zu;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yT{constructor(e,n,i,r,o){this.mean=e,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const s=o||Math.random();this.random=zv.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,n,i=!1;for(;!i;){let r,o,s;do r=2*this.random()-1,o=2*this.random()-1,s=r*r+o*o;while(s>=1||s===0);const a=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*r*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(e))&&(i=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Hpe{constructor(e,n,i,r){this.alpha=e,this.beta=1/n,this.dtype=i;const o=r||Math.random();this.randu=zv.alea(o.toString()),this.randn=new yT(0,1,i,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,i,r,o,s;for(;;){do r=this.randn.nextValue(),s=1+this.c*r;while(s<=0);if(s*=s*s,e=r*r,n=1-.331*e*e,i=.5*e+this.d*(1-s+Math.log(s)),o=this.randu(),o<n||Math.log(o)<i)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Wpe{constructor(e=0,n=1,i,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=i,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(n," <= 1 and dtype is not float"));this.random=zv.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gpe(t,e,n=1,i="float32",r){if(ko(t),n==null&&(n=1),i==null&&(i="float32"),i!=="float32"&&i!=="int32")throw new Error("Unsupported data type ".concat(i));const o=new Hpe(e,n,i,r),s=vt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}const qpe=Z({randomGamma_:Gpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpe(t,e=0,n=1,i,r){if(ko(t),i!=null&&i==="bool")throw new Error("Unsupported data type ".concat(i));const o=new yT(e,n,i,!1,r),s=vt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}const vT=Z({randomNormal_:Xpe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(t,e,n){if(e!=null&&e==="bool")throw new Error("Unsupported data type ".concat(e));return vT(t,0,1,e,n)}const Ype=Z({randomStandardNormal_:Kpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(t,e=0,n=1,i="float32",r){ko(t);const o=vt(t,i),s=new Wpe(e,n,null,r);for(let a=0;a<o.values.length;a++)o.values[a]=s.nextValue();return o.toTensor()}const Ju=Z({randomUniform_:Zpe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jpe(t,e,n,i){return Ju(t,e,n,"int32",i)}const Qpe=Z({randomUniformInt_:Jpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rh(t,e,n=1,i="float32"){if(n===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:n,dtype:i};return ee.runKernel(IE,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eme(t){const n={input:U(t,"input","real")};return ee.runKernel($E,n)}const rm=Z({real_:eme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tme(t){const n={x:U(t,"x","reciprocal")};return ee.runKernel(yg,n)}const dz=Z({reciprocal_:tme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nme(t){const n={x:U(t,"x","relu")};return ee.runKernel(vg,n)}const ua=Z({relu_:nme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ime(t){const n={x:U(t,"x","relu6")};return ee.runKernel(wg,n)}const wT=Z({relu6_:ime});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rme(t,e){const i={x:U(t,"x","reverse")},r={dims:e};return ee.runKernel(hv,i,r)}const rs=Z({reverse_:rme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ome(t){const e=U(t,"x","reverse");return P(e.rank===1,()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(e.rank,".")),rs(e,0)}const sme=Z({reverse1d_:ome});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ame(t,e){const n=U(t,"x","reverse");return P(n.rank===2,()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")),rs(n,e)}const lme=Z({reverse2d_:ame});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cme(t,e){const n=U(t,"x","reverse");return P(n.rank===3,()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")),rs(n,e)}const ume=Z({reverse3d_:cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t,e){const n=U(t,"x","reverse");return P(n.rank===4,()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")),rs(n,e)}const hme=Z({reverse4d_:dme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fme(t){const n={x:U(t,"x","round")};return ee.runKernel(kg,n)}const kT=Z({round_:fme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pme(t){const n={x:U(t,"x","rsqrt","float32")};return ee.runKernel(Sg,n)}const ST=Z({rsqrt_:pme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mme(t){const n={x:U(t,"x","selu")};return ee.runKernel(Cg,n)}const CT=Z({selu_:mme});function gme(t,e,n,i,r,o=[1,1],s="NHWC"){const a=U(t,"x","separableConv2d"),l=U(e,"depthwiseFilter","separableConv2d"),c=U(n,"pointwiseFilter","separableConv2d");let u=a,d=!1;if(a.rank===3&&(d=!0,u=ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");P(u.rank===4,()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,".")),P(l.rank===4,()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),P(c.rank===4,()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")),P(c.shape[0]===1,()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")),P(c.shape[1]===1,()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],"."));const h=l.shape[2],f=l.shape[3];P(c.shape[2]===h*f,()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*f,", ")+"but got ".concat(c.shape[2],"."));const p=Bg(u,l,i,r,s,o),b=rc(p,c,1,"valid",s);return d?ne(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const ET=Z({separableConv2d_:gme});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function bme(t,e){const n=U(t,"x","setdiff1d"),i=U(e,"y","setdiff1d");P(n.dtype===i.dtype,()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(i.dtype,").")),P(n.rank===1,()=>"x should be 1D tensor, but got x (".concat(n.shape,").")),P(i.rank===1,()=>"y should be 1D tensor, but got y (".concat(i.shape,")."));const r=await n.data(),o=await i.data(),s=new Set(o);let a=0;for(let u=0;u<r.length;u++)s.has(r[u])||a++;const l=new ri([a],n.dtype),c=new ri([a],"int32");for(let u=0,d=0;u<r.length;u++)s.has(r[u])||(l.values[d]=r[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]}const xme=bme;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yme(t){const n={x:U(t,"x","sign")};return ee.runKernel(Ig,n)}const hz=Z({sign_:yme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vme(t){const n={x:U(t,"x","sin","float32")};return ee.runKernel(Eg,n)}const TT=Z({sin_:vme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wme(t){const n={x:U(t,"x","sinh")};return ee.runKernel(Tg,n)}const IT=Z({sinh_:wme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kme(t,e,n){const i=U(t,"x","slice1d");return P(i.rank===1,()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(i.rank," tensor")),ct(i,[e],[n])}const Fv=Z({slice1d_:kme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sme(t,e,n){const i=U(t,"x","slice2d");return P(i.rank===2,()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(i.rank," tensor")),ct(i,e,n)}const $T=Z({slice2d_:Sme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cme(t,e,n){const i=U(t,"x","slice3d");return P(i.rank===3,()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(i.rank," tensor")),ct(i,e,n)}const Mv=Z({slice3d_:Cme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eme(t,e,n){const i=U(t,"x","slice4d");return P(i.rank===4,()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(i.rank," tensor")),ct(i,e,n)}const om=Z({slice4d_:Eme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tme(t,e=-1){const n=U(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(e));const i={logits:n},r={dim:e};return ee.runKernel(xv,i,r)}const Pv=Z({softmax_:Tme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ime(t){P(t.dtype==="complex64",()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return ee.runKernel(cE,e)}const Bv=Z({fft_:Ime});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $me(t){P(t.dtype==="complex64",()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(t.dtype,"."));const e={input:t};return ee.runKernel(fE,e)}const sm=Z({ifft_:$me});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _me(t){const e=t.shape[t.shape.length-1],n=t.size/e;let i;if(e<=2){const r=ne(t,[n,e]);i=sm(r)}else{const r=[n,2*(e-1)],o=ne(rm(t),[n,e]),s=ne(Iv(t),[n,e]),a=rs(ct(o,[0,1],[n,e-2]),1),l=Q(rs(ct(s,[0,1],[n,e-2]),1),rt(-1)),c=Ln([o,a],1),u=Ln([s,l],1),d=ne(tc(c,u),[r[0],r[1]]);i=sm(d)}if(i=rm(i),t.rank===3&&t.shape[0]!==0){const r=i,o=t.shape[0];i=ne(i,[o,i.shape[0]/o,i.shape[1]]),r.dispose()}return i}const _T=Z({irfft_:_me});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ame(t,e,n=0){const r={x:U(t,"x","split")},o={numOrSizeSplits:e,axis:n};return ee.runKernel(bv,r,o)}const Ur=Z({split_:Ame});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nme(t,e){P(t.dtype==="float32",()=>"The dtype for rfft() must be real value but got ".concat(t.dtype));let n=t.shape[t.shape.length-1];const i=t.size/n;let r;if(e!=null&&e<n){const p=t.shape.map(b=>0),m=t.shape.map(b=>b);m[t.shape.length-1]=e,r=ct(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,r=Ln([t,Qn(p)],t.shape.length-1),n=e}else r=t;const o=Rt(r),s=ne(tc(r,o),[i,n]),a=Bv(s),l=Math.floor(n/2)+1,c=rm(a),u=Iv(a),d=Ur(c,[l,n-l],c.shape.length-1),h=Ur(u,[l,n-l],u.shape.length-1),f=r.shape.slice();return f[r.shape.length-1]=l,ne(tc(d[0],h[0]),f)}const jv=Z({rfft_:Nme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ome(t,e){let n=U(t,"a","squaredDifference"),i=U(e,"b","squaredDifference");[n,i]=zn(n,i),mt(n.shape,i.shape);const r={a:n,b:i},o={};return ee.runKernel(Ng,r,o)}const AT=Z({squaredDifference_:Ome});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dme(t,e){const n=U(t,"x","squeeze","string_or_numeric");return ne(n,mc(n.shape,e).newShape)}const Fn=Z({squeeze_:Dme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rme(t,e=0){const n=Px(t,"tensors","stack","string_or_numeric");P(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&P(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const i=n,r={axis:e};return ee.runKernel(ov,i,r)}const Xr=Z({stack_:Rme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lme(t,e=0){const i={x:U(t,"x","step")},r={alpha:e};return ee.runKernel(zg,i,r)}const uf=Z({step_:Lme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zme(t,e,n,i,r=0,o=0,s=0,a=0,l=0){const u={x:U(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:i,beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:l};return ee.runKernel(BE,u,d)}const fz=Z({stridedSlice_:zme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fme(t){const n={x:U(t,"x","tan","float32")};return ee.runKernel(Dg,n)}const pz=Z({tan_:Fme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kn(t,e){rf(t);const n=bc(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return xc(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lu(t,e,n){if(rf(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const i=bc(t,n);if(i.length!==2&&i.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return xc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mz(t,e,n){if(rf(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const i=bc(t,n);if(i.length!==3&&i.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return xc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mme(t,e,n){if(rf(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const i=bc(t,n);if(i.length!==4&&i.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return xc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pme(t,e,n){if(rf(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const i=bc(t,n);if(i.length!==5&&i.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return xc(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bme(t,e,n){if(rf(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const i=bc(t,n);if(i.length!==6&&i.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||i,xc(t,e,i,n)}function gz(t,e,n){const i=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(e.shape,", shape: ").concat(t)+", sliceDim: ".concat(i,", and batchDim: ").concat(r,".");if(n.rank<r)throw new Error(o+" update.rank < ".concat(r,". "));if(t.length<i+(n.rank-r))throw new Error(o+" Output shape length < ".concat(i+(n.rank-r)));if(n.rank!==r+t.length-i)throw new Error(o+" update.rank != ".concat(r+t.length-i));for(let s=0;s<r;++s)if(n.shape[s]!==e.shape[s])throw new Error(o+" updates.shape[".concat(s,"] (").concat(n.shape[s],") != indices.shape[").concat(s,"] (").concat(e.shape[s],")."));for(let s=0;s<n.rank-r;++s)if(n.shape[s+r]!==t[s+i])throw new Error(o+" updates.shape[".concat(s+r,"] (").concat(n.shape[s+r],") != shape[").concat(s+r,"] (").concat(t[s+r],")"))}function NT(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(e.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: ".concat(e.shape));if(t.size===0)throw new Error("Updates specified for empty output. updates shape: ".concat(t.shape))}gz(n,e,t)}function Qu(t,e,n){const i=e.shape.length,r=i>1?e.shape[i-1]:1,o=n.length;let s=1;for(let d=r;d<o;++d)s*=n[d];const a=r<1?1:r,l=ge(e.shape)/a,c=[...it(n.slice(0,r)),1],u=ge(n);return{sliceRank:r,numUpdates:l,sliceSize:s,strides:c,outputSize:u}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jme(t,e,n){const i=U(t,"tensor","tensorScatterupdate"),r=U(e,"indices","tensorScatterupdate","int32"),o=U(n,"updates","tensorScatterupdate");if(NT(o,r,i.shape),i.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(i.dtype," and ").concat(o.dtype,"."));const s={tensor:i,indices:r,updates:o},a={};return ee.runKernel(OE,s,a)}const Ume=Z({tensorScatterUpdate_:jme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vme(t,e=1,n=!0){const i=U(t,"x","topk");if(i.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=i.shape[i.shape.length-1];if(e<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(e));if(e>r)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(r,") ")+"but got ".concat(e));const o={x:i},s={k:e,sorted:n},[a,l]=ee.runKernel(HE,o,s);return{values:a,indices:l}}const bz=Z({topk_:Vme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hme(t,e=0,n=1,i,r){if(ko(t),i!=null&&i==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new yT(e,n,i,!0,r),s=vt(t,i);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}const OT=Z({truncatedNormal_:Hme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wme(t,e=0){const n=U(t,"x","unique","string_or_numeric");P(n.rank>0,()=>"The input tensor must be at least 1D");const i={x:n},r={axis:e},[o,s]=ee.runKernel(GE,i,r);return{values:o,indices:s}}const xz=Z({unique_:Wme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gme(t,e,n){const i=U(t,"x","unsortedSegmentSum"),r=U(e,"segmentIds","unsortedSegmentSum","int32");P($h(n),()=>"numSegments must be of dtype int");const o={x:i,segmentIds:r},s={numSegments:n};return ee.runKernel(wv,o,s)}const DT=Z({unsortedSegmentSum_:Gme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qme(t,e=0){const n=U(t,"x","unstack","string_or_numeric");P(e>=-n.shape.length&&e<n.shape.length,()=>"Axis = ".concat(e," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")"));const i={value:n},r={axis:e};return ee.runKernel(vv,i,r)}const os=Z({unstack_:qme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xme(t,e){return dT(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yz(t,e=!0,n,i){return ee.makeVariable(t,e,n,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RT(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const i=vt(t,"int32"),r=vt([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const s=i.indexToLoc(n[o]),a=o*t.length;r.values.set(s,a)}return r.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Kme(t){const e=U(t,"condition","whereAsync","bool"),n=await e.data(),i=RT(e.shape,n);return t!==e&&e.dispose(),i}const vz=Kme;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Yme(t,e,n){const i=U(t,"tensor","boolMask"),r=U(e,"mask","boolMask","bool"),o=n==null?0:n,s=r.rank,a=i.shape;P(s>0,()=>"mask cannot be scalar"),Jr(a.slice(o,o+s),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+s;m++)l*=a[m];const c=a.slice(0,o).concat([l],a.slice(o+s)),u=ne(i,c),d=ne(r,[-1]),h=await vz(d),f=Fn(h,[1]),p=Hg(u,f,o);return t!==i&&i.dispose(),e!==r&&r.dispose(),f.dispose(),u.dispose(),d.dispose(),h.dispose(),p}const Zme=Yme;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jme(t,e,n){const i=U(t,"x","transpose");if(e==null&&(e=i.shape.map((s,a)=>a).reverse()),P(i.rank===e.length,()=>"Error in transpose: rank of input ".concat(i.rank," ")+"must match length of perm ".concat(e,".")),e.forEach(s=>{P(s>=0&&s<i.rank,()=>"All entries in 'perm' must be between 0 and ".concat(i.rank-1)+" but got ".concat(e))}),i.rank<=1)return i.clone();const r={x:i},o={perm:e};return i.dtype==="complex64"?ce(()=>{let s=rm(i),a=Iv(i);return s=ee.runKernel(ah,{x:s},o),a=ee.runKernel(ah,{x:a},o),n&&(a=xn(a)),tc(s,a)}):ee.runKernel(ah,r,o)}const Dt=Z({transpose_:Jme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qme(t,e,n,i,r=!0){const o=U(t,"v","movingAverage"),s=U(e,"x","movingAverage"),a=U(n,"decay","movingAverage");Vue(o,s),P(Nt(o.shape,s.shape),()=>"Shape mismatch in v and x");const l=rt(1),c=Ve(l,a);let u=Q(Ve(s,o),c);if(r){P(i!=null,()=>"When using zeroDebias: true, step is required.");const d=U(i,"step","movingAverage");u=Ue(u,Ve(l,Ga(a,d)))}return Se(o,u)}const ege=Z({movingAverage_:Qme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tge(t,e,n){ko(n);const i=U(t,"indices","scatterND","int32"),r=U(e,"updates","scatterND");NT(r,i,n);const o={indices:i,updates:r},s={shape:n};return ee.runKernel(NE,o,s)}const nge=Z({scatterND_:tge});function ige(t,e,n,i){if(t.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(t.shape,"."));const r=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const s=e.size;if(!(e.rank===0||e.rank===1&&s===r))throw new Error("sparseValues has incorrect shape "+"".concat(e.shape,", should be [] or [").concat(r,"]"));if(e.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rge(t,e,n,i=0){ko(n);const r=U(t,"sparseIndices","sparseToDense","int32"),o=U(e,"sparseValues","sparseToDense","string_or_numeric"),s=U(i,"defaultValue","sparseToDense",o.dtype);ige(r,o,n,s);const a={sparseIndices:r,sparseValues:o,defaultValue:s},l={outputShape:n};return ee.runKernel(ME,a,l)}const oge=Z({sparseToDense_:rge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sge(t,e){const n=U(e,"indices","gatherND","int32"),r={params:U(t,"x","gatherND","string_or_numeric"),indices:n};return ee.runKernel(hE,r)}const age=Z({gatherND_:sge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lge(t,e){if(e==null)return t.shape.slice();if(Nt(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let i=0;i<t.shape.length;i++)e[i]==null&&t.shape[i]!=null?n.push(t.shape[i]):n.push(e[i]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cge(t,e,n,i){const r=U(t,"x","dropout");if(P(r.dtype==="float32",()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(r.dtype," tensor instead.")),P(e>=0&&e<1,()=>"rate must be a float in the range [0, 1), but got ".concat(e,".")),e===0)return t instanceof Qt?r.clone():r;const o=lge(r,n),s=1-e,a=Ue(Vg(Se(Ju(o,0,1,"float32",i),s)),s);return Q(r,a)}const wz=Z({dropout_:cge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kz(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function LT(t,e,n){const i=1-t%2,r=new Float32Array(t);for(let o=0;o<t;++o){const s=2*Math.PI*o/(t+i-1);r[o]=e-n*Math.cos(s)}return Kn(r,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function uge(t,e,n=1){const i=U(t,"predictions","inTopK"),r=U(e,"targets","inTopK");P(i.rank>1,()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)),P(i.rank-1===r.rank,()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(r.rank)),Jr(i.shape.slice(0,i.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=i.shape[i.shape.length-1];P(n>0&&n<=o,()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n));const s=await i.data(),a=await r.data(),[l,c]=[s.length/o,o],u=Di("bool",l);for(let d=0;d<l;d++){const h=d*c,f=s.subarray(h,h+c),p=[];for(let m=0;m<f.length;m++)p.push({value:f[m],index:m});p.sort((m,b)=>b.value-m.value),u[d]=0;for(let m=0;m<n;m++)if(p[m].index===a[d]){u[d]=1;break}}return t!==i&&i.dispose(),e!==r&&r.dispose(),Ss(u,r.shape,"bool")}const dge=uge;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hge(t,e,n,i,r,o="NHWC",s){let a=t;t.rank===3&&(a=ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ne(e,[1,e.shape[0],e.shape[1],e.shape[2]])),P(a.rank===4,()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(a.shape,".")),P(l.rank===4,()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")),P(n.length===4,()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,"."));const c=o==="NHWC"?a.shape[3]:a.shape[1],u=o==="NHWC"?l.shape[3]:l.shape[1];P(c===n[2],()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],".")),P(u===n[3],()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],").")),cr("conv2dDerFilter",r,s);const d={x:a,dy:l},h={strides:i,pad:r,dataFormat:o,dimRoundingMode:s,filterShape:n};return ee.runKernel(ZC,d,h)}const zT=Z({conv2DBackpropFilter_:hge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uv(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Q(t,uf(e));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function Vv(t,e){let n=e;const i=ai(t.shape,e.shape);return i.length>0&&(n=Ke(n,i)),ne(n,t.shape)}function Hv(t,e,n,i){if(e==="linear")return t;if(e==="relu")return ua(t);if(e==="elu")return jg(t);if(e==="relu6")return wT(t);if(e==="prelu")return Lv(t,n);if(e==="leakyrelu")return $v(t,i);if(e==="sigmoid")return Cs(t);throw new Error("Unknown fused activation ".concat(e,"."))}const Wv=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fge({x:t,filter:e,strides:n,pad:i,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",Wv(ee.state.gradientDepth,l)===!1){P(r==="NHWC",()=>"Error in fused conv2d: got dataFormat of ".concat(r," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.");let E=rc(t,e,n,i,r,o,s);return a!=null&&(E=Se(E,a)),Hv(E,l,c,u)}const d=U(t,"x","conv2d","float32"),h=U(e,"filter","conv2d","float32");let f=d,p=!1;d.rank===3&&(p=!0,f=ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),P(f.rank===4,()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,".")),P(h.rank===4,()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")),cr("fused conv2d",i,s);const m=r==="NHWC"?f.shape[3]:f.shape[1];P(h.shape[2]===m,()=>"Error in conv2d: depth of input (".concat(m,") must match ")+"input depth for filter ".concat(h.shape[2],".")),P(Fi(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"));const b=vi(f.shape,h.shape,n,o,i,s);let g;a!=null&&(g=U(a,"bias","fused conv2d"),[g]=zn(g,d),r==="NHWC"?mt(b.outShape,g.shape):(P(g.shape.length<=1,()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(g.shape.length,".")),P(g.shape.length===0||g.shape[0]===b.outChannels||g.shape[0]===1,()=>"Error in fused conv2d: bias shape (".concat(g.shape,") is not ")+"compatible with the number of output channels "+"(".concat(b.outChannels,")"))));let x;if(c!=null){const E=c.shape;if(P(E.length<=1||E.length===3,()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(E.length,".")),E.length===1)P(E[0]===1||E[0]===b.outChannels,()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(E,") is not compatible with the number of output ")+"channels (".concat(b.outChannels,")."));else if(E.length===3)try{mt(E,b.outShape)}catch(C){const I="Error in fused conv2d: PReLU activation weights (".concat(E,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(b.outShape,").");throw Error(I)}x=U(c,"prelu weights","fused conv2d")}const y=(E,C)=>{P(r==="NHWC",()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(r," but only NHWC is currently supported."));const[I,T,_,M]=C,D=Uv(E,_,l);P(ic(o),()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'"));const z=nT(T.shape,D,I,n,i),$=zT(T,D,I.shape,n,i),F=[z,$];if(M!=null){const j=Vv(M,D);F.push(j)}return F},v={x:f,filter:h,bias:g,preluActivationWeights:x},w={strides:n,pad:i,dataFormat:r,dilations:o,dimRoundingMode:s,activation:l,leakyreluAlpha:u};return a==null?qa((C,I,T)=>{let _=ee.runKernel(Rx,v,w);return T([I,C,_]),p&&(_=ne(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:y}})(f,h):qa((C,I,T,_)=>{let M=ee.runKernel(Rx,v,w);return _([I,C,M,T]),p&&(M=ne(M,[M.shape[1],M.shape[2],M.shape[3]])),{value:M,gradFunc:y}})(f,h,g)}const Sz=Z({fusedConv2d_:fge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pge(t,e,n,i,r,o=[1,1],s){let a=t;t.rank===3&&(a=ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:a,dy:l},u={strides:i,pad:r,dimRoundingMode:s,dilations:o,filterShape:n};return ee.runKernel(rE,c,u)}const Cz=Z({depthwiseConv2dNativeBackpropFilter_:pge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mge(t,e,n,i,r,o=[1,1],s){let a=e,l=!1;e.rank===3&&(l=!0,a=ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:a,filter:n},u={strides:i,pad:r,dimRoundingMode:s,dilations:o,inputShape:t},d=ee.runKernel(oE,c,u);return l?ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Ez=Z({depthwiseConv2dNativeBackpropInput_:mge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gge({x:t,filter:e,strides:n,pad:i,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:a,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(Wv(ee.state.gradientDepth,l)===!1){let w=Bg(t,e,n,i,r,o,s);return a!=null&&(w=Se(w,a)),Hv(w,l,c,u)}const d=U(t,"x","depthwiseConv2d","float32"),h=U(e,"filter","depthwiseConv2d","float32");let f=d,p=!1;d.rank===3&&(p=!0,f=ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),P(f.rank===4,()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,".")),P(h.rank===4,()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,".")),P(f.shape[3]===h.shape[2],()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")),o==null&&(o=[1,1]),P(Fi(n,o),()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(n," and dilations '").concat(o,"'")),cr("fused depthwiseConv2d",i,s);const m=vi(f.shape,h.shape,n,o,i,s,!0);let b;a!=null&&(b=U(a,"bias","fused conv2d"),[b]=zn(b,d),mt(m.outShape,b.shape));let g;c!=null&&(g=U(c,"prelu weights","fused depthwiseConv2d"));const x=(w,E)=>{P(ic(o),()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(o,"'"));const[C,I,T,_]=E,M=Uv(w,T,l),D=Ez(I.shape,M,C,n,i,o,s),z=Cz(I,M,C.shape,n,i,o,s);if(_!=null){const $=Vv(b,M);return[D,z,$]}return[D,z]},y={x:f,filter:h,bias:b,preluActivationWeights:g},v={strides:n,pad:i,dataFormat:r,dilations:o,dimRoundingMode:s,activation:l,leakyreluAlpha:u};return a==null?qa((E,C,I)=>{let T=ee.runKernel(Lx,y,v);return I([C,E,T]),p&&(T=ne(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:x}})(f,h):qa((E,C,I,T)=>{let _=ee.runKernel(Lx,y,v);return T([C,E,_,I]),p&&(_=ne(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:x}})(f,h,b)}const bge=Z({fusedDepthwiseConv2d_:gge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xge({a:t,b:e,transposeA:n=!1,transposeB:i=!1,bias:r,activation:o="linear",preluActivationWeights:s,leakyreluAlpha:a=.2}){if(Wv(ee.state.gradientDepth,o)===!1){let M=$t(t,e,n,i);return r!=null&&(M=Se(M,r)),Hv(M,o,s,a)}let l=U(t,"a","fused matMul"),c=U(e,"b","fused matMul");[l,c]=zn(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=i?c.shape[c.rank-1]:c.shape[c.rank-2],h=n?l.shape[l.rank-1]:l.shape[l.rank-2],f=i?c.shape[c.rank-2]:c.shape[c.rank-1],p=l.shape.slice(0,-2),m=c.shape.slice(0,-2),b=ge(p),g=ge(m);P(u===d,()=>"Error in fused matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(l.shape," and ")+"".concat(c.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const y=mt(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),v=n?ne(l,[b,u,h]):ne(l,[b,h,u]),w=i?ne(c,[g,f,d]):ne(c,[g,d,f]);let E;r!=null&&(E=U(r,"bias","fused matMul"),[E]=zn(E,l),mt(y,E.shape));let C;s!=null&&(C=U(s,"prelu weights","fused matMul"));const I=(M,D)=>{const[z,$,F,j]=D,W=Uv(ne(M,F.shape),F,o);let V,B;if(!n&&!i?(V=$t(W,$,!1,!0),B=$t(z,W,!0,!1)):!n&&i?(V=$t(W,$,!1,!1),B=$t(W,z,!0,!1)):n&&!i?(V=$t($,W,!1,!0),B=$t(z,W,!1,!1)):(V=$t($,W,!0,!0),B=$t(W,z,!0,!0)),r!=null){const K=Vv(j,W);return[V,B,K]}else return[V,B]},T={a:v,b:w,bias:E,preluActivationWeights:C},_={transposeA:n,transposeB:i,activation:o,leakyreluAlpha:a};return r==null?qa((D,z,$)=>{const F=ee.runKernel(Dx,T,_);return $([D,z,F]),{value:ne(F,y),gradFunc:I}})(v,w):qa((D,z,$,F)=>{const j=ee.runKernel(Dx,T,_);return F([D,z,j,$]),{value:ne(j,y),gradFunc:I}})(v,w,E)}const J3=Z({fusedMatMul_:xge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yge=Object.freeze(Object.defineProperty({__proto__:null,conv2d:Sz,depthwiseConv2d:bge,matMul:J3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vge(t){return LT(t,.54,.46)}const wge=Z({hammingWindow_:vge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kge(t){return LT(t,.5,.5)}const Tz=Z({hannWindow_:kge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sge(t,e,n,i=!1,r=0){let o=0;const s=[];for(;o+e<=t.size;)s.push(ct(t,o,e)),o+=n;if(i)for(;o<t.size;){const a=o+e-t.size,l=Ln([ct(t,o,e-a),lf([a],r)]);s.push(l),o+=n}return s.length===0?lu([],[0,e]):ne(Ln(s),[s.length,e])}const Iz=Z({frame_:Sge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cge(t,e,n,i,r=Tz){i==null&&(i=kz(e));const o=Iz(t,e,n),s=Q(o,r(e));return jv(s,i)}const Ege=Z({stft_:Cge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tge(t,e,n,i,r="bilinear",o=0){const s=U(t,"image","cropAndResize"),a=U(e,"boxes","cropAndResize","float32"),l=U(n,"boxInd","cropAndResize","int32"),c=a.shape[0];P(s.rank===4,()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(s.rank,".")),P(a.rank===2&&a.shape[1]===4,()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(a.shape,".")),P(l.rank===1&&l.shape[0]===c,()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(a.shape,".")),P(i.length===2,()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(i.length,".")),P(i[0]>=1&&i[1]>=1,()=>"cropSize must be atleast [1,1], but was ".concat(i)),P(r==="bilinear"||r==="nearest",()=>"method must be bilinear or nearest, but was ".concat(r));const u={image:s,boxes:a,boxInd:l},d={method:r,extrapolationValue:o,cropSize:i};return ee.runKernel(tE,u,d)}const Ige=Z({cropAndResize_:Tge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ge(t){const e=U(t,"image","flipLeftRight","float32");P(e.rank===4,()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(e.rank,"."));const n={image:e};return ee.runKernel(dE,n,{})}const _ge=Z({flipLeftRight_:$ge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Age(t){const e=U(t,"image","grayscaleToRGB"),n=e.rank-1,i=e.shape[n];P(e.rank>=2,()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),P(i===1,()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(i,"."));const r=new Array(e.rank);return r.fill(1,0,n),r[n]=3,Xo(e,r)}const Nge=Z({grayscaleToRGB_:Age});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oge(t){const e=U(t,"image","RGBToGrayscale"),n=e.rank-1,i=e.shape[n];P(e.rank>=2,()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(e.rank,".")),P(i===3,()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(i,"."));const r=e.dtype,o=Me(e,"float32"),s=Kn([.2989,.587,.114]);let a;switch(e.rank){case 2:a=Rd("ij,j->i",o,s);break;case 3:a=Rd("ijk,k->ij",o,s);break;case 4:a=Rd("ijkl,l->ijk",o,s);break;case 5:a=Rd("ijklm,m->ijkl",o,s);break;case 6:a=Rd("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return a=Ii(a,-1),Me(a,r)}const Dge=Z({rgbToGrayscale_:Oge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rge(t,e,n=0,i=.5){const r=U(t,"image","rotateWithOffset","float32");P(r.rank===4,()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(r.rank,"."));const o={image:r},s={radians:e,fillValue:n,center:i};return ee.runKernel(qE,o,s)}const Lge=Z({rotateWithOffset_:Rge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function df(t,e,n,i,r,o){i==null&&(i=.5),r==null&&(r=Number.NEGATIVE_INFINITY),o==null&&(o=0);const s=t.shape[0];return n=Math.min(n,s),P(0<=i&&i<=1,()=>"iouThreshold must be in [0, 1], but was '".concat(i,"'")),P(t.rank===2,()=>"boxes must be a 2D tensor, but was of rank '".concat(t.rank,"'")),P(t.shape[1]===4,()=>"boxes must have 4 columns, but 2nd dimension was ".concat(t.shape[1])),P(e.rank===1,()=>"scores must be a 1D tensor"),P(e.shape[0]===s,()=>"scores has incompatible shape with boxes. Expected ".concat(s,", ")+"but was ".concat(e.shape[0])),P(0<=o&&o<=1,()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'")),{maxOutputSize:n,iouThreshold:i,scoreThreshold:r,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY){const o=U(t,"boxes","nonMaxSuppression","float32"),s=U(e,"scores","nonMaxSuppression","float32"),a=df(o,s,n,i,r);n=a.maxOutputSize,i=a.iouThreshold,r=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:i,scoreThreshold:r};return ee.runKernel(wE,{boxes:o,scores:s},l)}const Fge=Z({nonMaxSuppression_:zge});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mge(t,e,n){const i=Pge(t,e,n),r=i<0?-(i+1):i;t.splice(r,0,e)}function Pge(t,e,n){return jge(t,e,n||Bge)}function Bge(t,e){return t>e?1:t<e?-1:0}function jge(t,e,n){let i=0,r=t.length,o=0,s=!1;for(;i<r;){o=i+(r-i>>>1);const a=n(e,t[o]);a>0?i=o+1:(r=o,s=!a)}return s?i:-i-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FT(t,e,n,i,r){return BT(t,e,n,i,r,0)}function MT(t,e,n,i,r,o){return BT(t,e,n,i,r,0,!1,o,!0)}function PT(t,e,n,i,r,o){return BT(t,e,n,i,r,o,!0)}function BT(t,e,n,i,r,o,s=!1,a=!1,l=!1){const c=[];for(let b=0;b<e.length;b++)e[b]>r&&c.push({score:e[b],boxIndex:b,suppressBeginIndex:0});c.sort(cA);const u=o>0?-.5/o:0,d=[],h=[];for(;d.length<n&&c.length>0;){const b=c.pop(),{score:g,boxIndex:x,suppressBeginIndex:y}=b;if(g<r)break;let v=!1;for(let w=d.length-1;w>=y;--w){const E=Uge(t,x,d[w]);if(E>=i){v=!0;break}if(b.score=b.score*Vge(i,u,E),b.score<=r)break}b.suppressBeginIndex=d.length,v||(b.score===g?(d.push(x),h.push(b.score)):b.score>r&&Mge(c,b,cA))}const f=d.length,p=n-f;a&&p>0&&(d.push(...new Array(p).fill(0)),h.push(...new Array(p).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=h),l&&(m.validOutputs=f),m}function Uge(t,e,n){const i=t.subarray(e*4,e*4+4),r=t.subarray(n*4,n*4+4),o=Math.min(i[0],i[2]),s=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]),c=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),f=(a-o)*(l-s),p=(d-c)*(h-u);if(f<=0||p<=0)return 0;const m=Math.max(o,c),b=Math.max(s,u),g=Math.min(a,d),x=Math.min(l,h),y=Math.max(g-m,0)*Math.max(x-b,0);return y/(f+p-y)}function Vge(t,e,n){const i=Math.exp(e*n*n);return n<=t?i:0}function cA(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Hge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY){const o=U(t,"boxes","nonMaxSuppressionAsync"),s=U(e,"scores","nonMaxSuppressionAsync"),a=df(o,s,n,i,r);n=a.maxOutputSize,i=a.iouThreshold,r=a.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:d}=FT(c,u,n,i,r);return o!==t&&o.dispose(),s!==e&&s.dispose(),Kn(d,"int32")}const Wge=Hge;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=U(t,"boxes","nonMaxSuppression"),a=U(e,"scores","nonMaxSuppression"),l=df(s,a,n,i,r,o);n=l.maxOutputSize,i=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c={boxes:s,scores:a},u={maxOutputSize:n,iouThreshold:i,scoreThreshold:r,softNmsSigma:o},d=ee.runKernel(SE,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const qge=Z({nonMaxSuppressionWithScore_:Gge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Xge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=U(t,"boxes","nonMaxSuppressionAsync"),a=U(e,"scores","nonMaxSuppressionAsync"),l=df(s,a,n,i,r,o);n=l.maxOutputSize,i=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([s.data(),a.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:f}=PT(u,d,n,i,r,o);return s!==t&&s.dispose(),a!==e&&a.dispose(),{selectedIndices:Kn(h,"int32"),selectedScores:Kn(f)}}const Kge=Xge;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=U(t,"boxes","nonMaxSuppression"),a=U(e,"scores","nonMaxSuppression"),l=df(s,a,n,i,r,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,h={boxes:s,scores:a},f={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:o},p=ee.runKernel(kE,h,f);return{selectedIndices:p[0],validOutputs:p[1]}}const Zge=Z({nonMaxSuppressionPadded_:Yge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Jge(t,e,n,i=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=U(t,"boxes","nonMaxSuppressionAsync"),a=U(e,"scores","nonMaxSuppressionAsync"),l=df(s,a,n,i,r,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,f]=await Promise.all([s.data(),a.data()]),{selectedIndices:p,validOutputs:m}=MT(h,f,c,u,d,o);return s!==t&&s.dispose(),a!==e&&a.dispose(),{selectedIndices:Kn(p,"int32"),validOutputs:rt(m,"int32")}}const Qge=Jge;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e0e(t,e,n=!1,i=!1){const r=U(t,"images","resizeBilinear");P(r.rank===3||r.rank===4,()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,".")),P(e.length===2,()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(e,".")),P(i===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=r,s=!1;r.rank===3&&(s=!0,o=ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:i,size:e},c=ee.runKernel(dv,a,l);return s?ne(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const $z=Z({resizeBilinear_:e0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t0e(t,e,n=!1,i=!1){const r=U(t,"images","resizeNearestNeighbor");P(r.rank===3||r.rank===4,()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,".")),P(e.length===2,()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(e,".")),P(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),P(i===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=r,s=!1;r.rank===3&&(s=!0,o=ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:i,size:e},c=ee.runKernel(uv,a,l);return s?ne(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const _z=Z({resizeNearestNeighbor_:t0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0e(t,e="binary",n=!1,i=.5){const r=U(t,"image","threshold"),o=.2989,s=.587,a=.114,l=r.shape[0]*r.shape[1];let c=Q(Kn([i]),255),u,d,h,f;if(P(r.rank===3,()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(r.rank,".")),P(r.shape[2]===3||r.shape[2]===1,()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(r.shape[2],".")),P(r.dtype==="int32"||r.dtype==="float32",()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(r.dtype,".")),P(e==="otsu"||e==="binary",()=>"Method must be binary or otsu, but was ".concat(e)),r.shape[2]===3){[u,d,h]=Ur(r,[1,1,1],-1);const b=Q(u,o),g=Q(d,s),x=Q(h,a);f=Se(Se(b,g),x)}else f=t;if(e==="otsu"){const b=zL(Me(kT(f),"int32"),Ss([]),256);c=i0e(b,l)}const p=n?Yu(f,c):eo(f,c);return Me(Q(p,255),"int32")}function i0e(t,e){let n=Kn([-1]),i=Kn([0]),r=Kn([0]),o,s,a,l,c,u;for(let d=0;d<t.size-1;d++){o=ct(t,0,d+1),s=ct(t,d+1),c=Ue(Ke(o),e),u=Ue(Ke(s),e);const h=Ke(Q(o,Rh(0,o.size)));a=Ue(h,Ke(o));const f=lf(s.shape,o.size),p=Se(Rh(0,s.size),f),m=Q(s,p);l=Ue(Ke(m),Ke(s));const b=Ve(a,l),g=Ve(a,l),x=Q(c,u);r=Q(Q(x,b),g);const y=eo(r,i);i=Xi(y,r,i),n=Xi(y,Kn([d]),n)}return n}const r0e=Z({threshold_:n0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0e(t,e,n="nearest",i="constant",r=0,o){const s=U(t,"image","transform","float32"),a=U(e,"transforms","transform","float32");P(s.rank===4,()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(s.rank,".")),P(a.rank===2&&(a.shape[0]===s.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),P(o==null||o.length===2,()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,"."));const l={image:s,transforms:a},c={interpolation:n,fillMode:i,fillValue:r,outputShape:o};return ee.runKernel(WE,l,c)}const s0e=Z({transform_:o0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a0e(t,e,n){const i=U(t,"a","bandPart");P(i.rank>=2,()=>"bandPart(): Rank must be at least 2, got ".concat(i.rank,"."));const r=i.shape,[o,s]=i.shape.slice(-2);let a,l;typeof e=="number"?(P(e%1===0,()=>"bandPart(): numLower must be an integer, got ".concat(e,".")),P(e<=o,()=>"bandPart(): numLower (".concat(e,")")+" must not be greater than the number of rows (".concat(o,").")),a=U(e<0?o:e,"numLower","bandPart")):(P(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=Xi(im(e,0),o,Au(e,o))),typeof n=="number"?(P(n%1===0,()=>"bandPart(): numUpper must be an integer, got ".concat(n,".")),P(n<=s,()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,").")),l=U(n<0?s:n,"numUpper","bandPart")):(P(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=Xi(im(n,0),s,Au(n,s)));const c=ne(Rh(0,o,1,"int32"),[-1,1]),u=Rh(0,s,1,"int32"),d=Ve(c,u),h=ia(Yu(d,a),wc(d,xn(l))),f=Qn([o,s],i.dtype);return ne(Xr(os(ne(i,[-1,o,s])).map(p=>Xi(h,p,f))),r)}const l0e=Z({bandPart_:a0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c0e(t){let e;if(Array.isArray(t)){e=!1,P(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let o=1;o<t.length;++o)P(t[o].shape[0]===r,()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(t[o].shape[0]," vs. ").concat(r,")"))}else e=!0,t=Ur(t,t.shape[0],0).map(r=>Fn(r,[0]));P(t.length<=t[0].shape[0],()=>"Gram-Schmidt: Number of vectors (".concat(t.length,") exceeds ")+"number of dimensions (".concat(t[0].shape[0],")."));const n=[],i=t;for(let r=0;r<t.length;++r)n.push(ee.tidy(()=>{let o=i[r];if(r>0)for(let s=0;s<r;++s){const a=Q(Ke(Q(n[s],o)),n[s]);o=Ve(o,a)}return Ue(o,Ug(o,"euclidean"))}));return e?Xr(n,0):n}const u0e=Z({gramSchmidt_:c0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0e(t,e=!1){if(P(t.rank>=2,()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(t.rank)),t.rank===2)return uA(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),i=os(ne(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],o=[];i.forEach(l=>{const[c,u]=uA(l,e);r.push(c),o.push(u)});const s=ne(Xr(r,0),t.shape),a=ne(Xr(o,0),t.shape);return[s,a]}}function uA(t,e=!1){return ee.tidy(()=>{P(t.shape.length===2,()=>"qr2d() requires a 2D Tensor, but got a ".concat(t.shape.length,"D Tensor."));const n=t.shape[0],i=t.shape[1];let r=lT(n),o=Pa(t);const s=lu([[1]],[1,1]);let a=Pa(s);const l=n>=i?i:n;for(let c=0;c<l;++c){const u=o,d=a,h=r;[a,o,r]=ee.tidy(()=>{const f=ct(o,[c,c],[n-c,1]),p=Ug(f),m=ct(o,[c,c],[1,1]),b=Xi(eo(m,0),lu([[-1]]),lu([[1]])),g=Ve(m,Q(b,p)),x=Ue(f,g);x.shape[0]===1?a=Pa(s):a=Ln([s,ct(x,[1,0],[x.shape[0]-1,x.shape[1]])],0);const y=xn(Ue($t(b,g),p)),v=ct(o,[c,0],[n-c,i]),w=Q(y,a),E=Dt(a);if(c===0)o=Ve(v,$t(w,$t(E,v)));else{const T=Ve(v,$t(w,$t(E,v)));o=Ln([ct(o,[0,0],[c,i]),T],0)}const C=Dt(w),I=ct(r,[0,c],[n,r.shape[1]-c]);if(c===0)r=Ve(I,$t($t(I,a),C));else{const T=Ve(I,$t($t(I,a),C));r=Ln([ct(r,[0,0],[n,c]),T],1)}return[a,o,r]}),pt([u,d,h])}return!e&&n>i&&(r=ct(r,[0,0],[n,i]),o=ct(o,[0,0],[i,i])),[r,o]})}const h0e=Z({qr_:d0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xr;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(xr||(xr={}));function f0e(t,e,n=xr.SUM_BY_NONZERO_WEIGHTS){const i=U(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=U(e,"weights","computeWeightedLoss"));const o=r==null?i:Q(i,r);if(n===xr.NONE)return o;if(n===xr.SUM)return Ke(o);if(n===xr.MEAN){if(r==null)return Nn(o);{const s=i.size/r.size,a=Ue(Ke(o),Ke(r));return s>1?Ue(a,rt(s)):a}}if(n===xr.SUM_BY_NONZERO_WEIGHTS){if(r==null)return Ue(Ke(o),rt(i.size));{const s=Q(r,jr(i.shape)),a=Me(Ke(Dh(s,rt(0))),"float32");return Ue(Ke(o),a)}}throw Error("Unknown reduction: ".concat(n))}const il=Z({computeWeightedLoss_:f0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p0e(t,e,n,i=xr.SUM_BY_NONZERO_WEIGHTS){const r=U(t,"labels","absoluteDifference"),o=U(e,"predictions","absoluteDifference");let s=null;n!=null&&(s=U(n,"weights","absoluteDifference")),Jr(r.shape,o.shape,"Error in absoluteDifference: ");const a=Jn(Ve(r,o));return il(a,s,i)}const m0e=Z({absoluteDifference_:p0e});function g0e(t,e,n,i,r=xr.SUM_BY_NONZERO_WEIGHTS){const o=U(t,"labels","cosineDistance"),s=U(e,"predictions","cosineDistance");let a=null;i!=null&&(a=U(i,"weights","cosineDistance")),Jr(o.shape,s.shape,"Error in cosineDistance: ");const l=rt(1),c=Ve(l,Ke(Q(o,s),n,!0));return il(c,a,r)}const b0e=Z({cosineDistance_:g0e});function x0e(t,e,n,i=xr.SUM_BY_NONZERO_WEIGHTS){let r=U(t,"labels","hingeLoss");const o=U(e,"predictions","hingeLoss");let s=null;n!=null&&(s=U(n,"weights","hingeLoss")),Jr(r.shape,o.shape,"Error in hingeLoss: ");const a=rt(1);r=Ve(Q(rt(2),r),a);const l=ua(Ve(a,Q(r,o)));return il(l,s,i)}const y0e=Z({hingeLoss_:x0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v0e(t,e,n,i=1,r=xr.SUM_BY_NONZERO_WEIGHTS){const o=U(t,"labels","huberLoss"),s=U(e,"predictions","huberLoss");let a=null;n!=null&&(a=U(n,"weights","huberLoss")),Jr(o.shape,s.shape,"Error in huberLoss: ");const l=rt(i),c=Jn(Ve(s,o)),u=Au(c,l),d=Ve(c,u),h=Se(Q(rt(.5),tn(u)),Q(l,d));return il(h,a,r)}const w0e=Z({huberLoss_:v0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k0e(t,e,n,i=1e-7,r=xr.SUM_BY_NONZERO_WEIGHTS){const o=U(t,"labels","logLoss"),s=U(e,"predictions","logLoss");let a=null;n!=null&&(a=U(n,"weights","logLoss")),Jr(o.shape,s.shape,"Error in logLoss: ");const l=rt(1),c=rt(i),u=xn(Q(o,xo(Se(s,c)))),d=Q(Ve(l,o),xo(Se(Ve(l,s),c))),h=Ve(u,d);return il(h,a,r)}const S0e=Z({logLoss_:k0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C0e(t,e,n,i=xr.SUM_BY_NONZERO_WEIGHTS){const r=U(t,"labels","meanSquaredError"),o=U(e,"predictions","meanSquaredError");let s=null;n!=null&&(s=U(n,"weights","meanSquaredError")),Jr(r.shape,o.shape,"Error in meanSquaredError: ");const a=AT(r,o);return il(a,s,i)}const E0e=Z({meanSquaredError_:C0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T0e(t,e){const n=U(t,"labels","sigmoidCrossEntropyWithLogits"),i=U(e,"logits","sigmoidCrossEntropyWithLogits");Jr(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=ua(i),o=Q(i,n),s=_v(ar(xn(Jn(i))));return Se(Ve(r,o),s)}function I0e(t,e,n,i=0,r=xr.SUM_BY_NONZERO_WEIGHTS){let o=U(t,"multiClassLabels","sigmoidCrossEntropy");const s=U(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=U(n,"weights","sigmoidCrossEntropy")),Jr(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),i>0){const c=rt(i),u=rt(1),d=rt(.5);o=Se(Q(o,Ve(u,c)),Q(d,c))}const l=T0e(o,s);return il(l,a,r)}const $0e=Z({sigmoidCrossEntropy_:I0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0e(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(e.rank," ")+"and dim was ".concat(n));return qa((r,o,s)=>{const l=Av(o,[n],!0),c=Ve(Me(o,"float32"),l);s([r,c]);const u=xn(Q(c,r));return{value:Ke(u,[n]),gradFunc:(f,p)=>{const[m,b]=p,g=Hn(f.shape,[n]);return[Q(ne(f,g),Ve(Me(m,"float32"),ar(b))),Q(ne(f,g),Ve(ar(b),Me(m,"float32")))]}}})(t,e)}function A0e(t,e,n,i=0,r=xr.SUM_BY_NONZERO_WEIGHTS){let o=U(t,"onehotLabels","softmaxCrossEntropy");const s=U(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=U(n,"weights","softmaxCrossEntropy")),Jr(o.shape,s.shape,"Error in softmaxCrossEntropy: "),i>0){const c=rt(i),u=rt(1),d=rt(o.shape[1]);o=Se(Q(o,Ve(u,c)),Ue(c,d))}const l=_0e(o,s);return il(l,a,r)}const N0e=Z({softmaxCrossEntropy_:A0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O0e(t,e,n,i){const r=U(t,"indices","sparseFillEmptyRows","int32"),o=U(e,"values","sparseFillEmptyRows"),s=U(n,"denseShape","sparseFillEmptyRows","int32"),a=U(i,"defaultValue","sparseFillEmptyRows",o.dtype);if(r.rank!==2)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(r.shape));if(o.rank!==1)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(s.rank!==1)throw new Error("Dense shape should be Tensor1D but received shape ".concat(s.shape));if(a.rank!==0)throw new Error("Default value should be a scalar but received shape ".concat(a.shape));const l={indices:r,values:o,denseShape:s,defaultValue:a},c=ee.runKernel(RE,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const D0e=Z({sparseFillEmptyRows_:O0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R0e(t,e,n){const i=U(t,"inputIndices","sparseReshape","int32"),r=U(e,"inputShape","sparseReshape","int32"),o=U(n,"newShape","sparseReshape","int32");if(i.rank!==2)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(i.shape));if(r.rank!==1)throw new Error("Input shape should be Tensor1D but received shape ".concat(r.shape));if(o.rank!==1)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const s={inputIndices:i,inputShape:r,newShape:o},a=ee.runKernel(LE,s);return{outputIndices:a[0],outputShape:a[1]}}const L0e=Z({sparseReshape_:R0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0e(t,e,n){const i=U(t,"data","sparseSegmentMean"),r=U(e,"indices","sparseSegmentMean","int32"),o=U(n,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(r.shape));if(o.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const s={data:i,indices:r,segmentIds:o};return ee.runKernel(zE,s)}const F0e=Z({sparseSegmentMean_:z0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M0e(t,e,n){const i=U(t,"data","sparseSegmentSum"),r=U(e,"indices","sparseSegmentSum","int32"),o=U(n,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(r.shape));if(o.rank!==1)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const s={data:i,indices:r,segmentIds:o};return ee.runKernel(FE,s)}const P0e=Z({sparseSegmentSum_:M0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0e(t,e,n,i,r,o,s,a){const l=U(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error("Data must be a vector, saw: ".concat(l.shape));const c=U(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:i,leftPad:r,rightPad:o,padWidth:s,preserveShortSequences:a},d={data:l,dataSplits:c},h=ee.runKernel(jE,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}const j0e=Z({stringNGrams_:B0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0e(t,e,n=!0){const i=U(t,"input","stringSplit","string"),r=U(e,"delimiter","stringSplit","string");if(i.rank!==1)throw new Error("Input should be Tensor1D but received shape ".concat(i.shape));if(r.rank!==0)throw new Error("Delimiter should be a scalar but received shape ".concat(r.shape));const o={skipEmpty:n},s={input:i,delimiter:r},a=ee.runKernel(UE,s,o);return{indices:a[0],values:a[1],shape:a[2]}}const V0e=Z({stringSplit_:U0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H0e(t,e){const n=U(t,"input","stringToHashBucketFast","string"),i={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return ee.runKernel(VE,r,i)}const W0e=Z({stringToHashBucketFast_:H0e});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G0e(t,e,n,i=!0){const r=U(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:i};return ee.runKernel(yv,{x:r},o)}const q0e=Z({staticRegexReplace_:G0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X0e={fft:Bv,ifft:sm,rfft:jv,irfft:_T},K0e={hammingWindow:wge,hannWindow:Tz,frame:Iz,stft:Ege},co={flipLeftRight:_ge,grayscaleToRGB:Nge,resizeNearestNeighbor:_z,resizeBilinear:$z,rgbToGrayscale:Dge,rotateWithOffset:Lge,cropAndResize:Ige,nonMaxSuppression:Fge,nonMaxSuppressionAsync:Wge,nonMaxSuppressionWithScore:qge,nonMaxSuppressionWithScoreAsync:Kge,nonMaxSuppressionPadded:Zge,nonMaxSuppressionPaddedAsync:Qge,threshold:r0e,transform:s0e},Az={bandPart:l0e,gramSchmidt:u0e,qr:h0e},Y0e={absoluteDifference:m0e,computeWeightedLoss:il,cosineDistance:b0e,hingeLoss:y0e,huberLoss:w0e,logLoss:S0e,meanSquaredError:E0e,sigmoidCrossEntropy:$0e,softmaxCrossEntropy:N0e},Z0e={sparseFillEmptyRows:D0e,sparseReshape:L0e,sparseSegmentMean:F0e,sparseSegmentSum:P0e},J0e={stringNGrams:j0e,stringSplit:V0e,stringToHashBucketFast:W0e,staticRegexReplace:q0e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q0e=new Map,ebe=new Map;class hf{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class jo{constructor(){this.classNameMap={}}static getMap(){return jo.instance==null&&(jo.instance=new jo),jo.instance}static register(e){jo.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Te(t,e,n){P(t.className!=null,()=>"Class being registered does not have the static className property defined."),P(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),P(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const i=n,r=e+">"+i;return jo.register(t),Q0e.set(r,t),ebe.set(t,r),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sc extends hf{minimize(e,n=!1,i){const{value:r,grads:o}=this.computeGradients(e,i);if(i!=null){const s=i.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(s)}else this.applyGradients(o);return pt(o),n?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return $fe(e,n)}dispose(){this.iterations_!=null&&pt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:rt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Sc,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nz extends Sc{static get className(){return"Adadelta"}constructor(e,n,i=null){super(),this.learningRate=e,this.rho=n,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],i==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,r)=>{const o=ee.registeredVariables[i],s=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:"".concat(i,"/accum_grad"),variable:ce(()=>Rt(o).variable(s))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:"".concat(i,"/accum_var"),variable:ce(()=>Rt(o).variable(s))});const a=Array.isArray(e)?e[r].tensor:e[i];if(a==null)return;const l=this.accumulatedGrads[r].variable,c=this.accumulatedUpdates[r].variable;ce(()=>{const u=Se(Q(l,this.rho),Q(tn(a),1-this.rho)),d=Q(Ue(Ri(Se(c,this.epsilon)),Ri(Se(l,this.epsilon))),a),h=Se(Q(c,this.rho),Q(tn(d),1-this.rho));l.assign(u),c.assign(h);const f=Se(Q(d,-this.learningRate),o);o.assign(f)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(pt(this.accumulatedGrads.map(e=>e.variable)),pt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,i=!1;this.accumulatedGrads=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(i)})),this.accumulatedUpdates=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oz extends Sc{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,r)=>{const o=ee.registeredVariables[i];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:"".concat(i,"/accumulator"),variable:ce(()=>lf(o.shape,this.initialAccumulatorValue).variable(!1))});const s=Array.isArray(e)?e[r].tensor:e[i];if(s==null)return;const a=this.accumulatedGrads[r].variable;ce(()=>{const l=Se(a,tn(s));a.assign(l);const c=Se(Q(Ue(s,Ri(Se(l,ee.backend.epsilon()))),-this.learningRate),o);o.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&pt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dz extends Sc{static get className(){return"Adam"}constructor(e,n,i,r=null){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],ce(()=>{this.accBeta1=rt(n).variable(),this.accBeta2=rt(i).variable()}),r==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ce(()=>{const i=Ve(1,this.accBeta1),r=Ve(1,this.accBeta2);n.forEach((o,s)=>{const a=ee.registeredVariables[o],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:"".concat(o,"/m"),variable:ce(()=>Rt(a).variable(l))}),this.accumulatedSecondMoment[s]==null&&(this.accumulatedSecondMoment[s]={originalName:"".concat(o,"/v"),variable:ce(()=>Rt(a).variable(l))});const c=Array.isArray(e)?e[s].tensor:e[o];if(c==null)return;const u=this.accumulatedFirstMoment[s].variable,d=this.accumulatedSecondMoment[s].variable,h=Se(Q(u,this.beta1),Q(c,1-this.beta1)),f=Se(Q(d,this.beta2),Q(tn(c),1-this.beta2)),p=Ue(h,i),m=Ue(f,r);u.assign(h),d.assign(f);const b=Se(Q(Ue(p,Se(Ri(m),this.epsilon)),-this.learningRate),a);a.assign(b)}),this.accBeta1.assign(Q(this.accBeta1,this.beta1)),this.accBeta2.assign(Q(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&pt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),ce(()=>{this.accBeta1.assign(Ga(this.beta1,this.iterations_+1)),this.accBeta2.assign(Ga(this.beta2,this.iterations_+1))});const n=e.length/2,i=!1;this.accumulatedFirstMoment=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(i)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rz extends Sc{static get className(){return"Adamax"}constructor(e,n,i,r=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],ce(()=>{this.iteration=rt(0).variable(),this.accBeta1=rt(n).variable()}),r==null&&(this.epsilon=ee.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);ce(()=>{const i=Ve(1,this.accBeta1),r=Ue(-this.learningRate,Se(Q(this.iteration,this.decay),1));n.forEach((o,s)=>{const a=ee.registeredVariables[o],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:"".concat(o,"/m"),variable:Rt(a).variable(l)}),this.accumulatedWeightedInfNorm[s]==null&&(this.accumulatedWeightedInfNorm[s]={originalName:"".concat(o,"/v"),variable:Rt(a).variable(l)});const c=Array.isArray(e)?e[s].tensor:e[o];if(c==null)return;const u=this.accumulatedFirstMoment[s].variable,d=this.accumulatedWeightedInfNorm[s].variable,h=Se(Q(u,this.beta1),Q(c,1-this.beta1)),f=Q(d,this.beta2),p=Jn(c),m=nl(f,p);u.assign(h),d.assign(m);const b=Se(Q(Ue(r,i),Ue(h,Se(m,this.epsilon))),a);a.assign(b)}),this.iteration.assign(Se(this.iteration,1)),this.accBeta1.assign(Q(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&pt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jT extends Sc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,r)=>{const o=Array.isArray(e)?e[r].tensor:e[i];if(o==null)return;const s=ee.registeredVariables[i];ce(()=>{const a=Se(Q(this.c,o),s);s.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=gi(rt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lz extends jT{static get className(){return"Momentum"}constructor(e,n,i=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=i,this.accumulations=[],this.m=rt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,r)=>{const o=ee.registeredVariables[i];this.accumulations[r]==null&&(this.accumulations[r]={originalName:"".concat(i,"/momentum"),variable:ce(()=>Rt(o).variable(!1))});const s=this.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[i];a!=null&&ce(()=>{let l;const c=Se(Q(this.m,s),a);this.useNesterov?l=Se(Q(this.c,Se(a,Q(c,this.m))),o):l=Se(Q(this.c,c),o),s.assign(c),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&pt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zz extends Sc{static get className(){return"RMSProp"}constructor(e,n=.9,i=0,r=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=i,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,r==null&&(this.epsilon=ee.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,r)=>{const o=ee.registeredVariables[i],s=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:"".concat(i,"/rms"),variable:ce(()=>Rt(o).variable(s))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:"".concat(i,"/momentum"),variable:ce(()=>Rt(o).variable(s))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:"".concat(i,"/mg"),variable:ce(()=>Rt(o).variable(s))});const a=Array.isArray(e)?e[r].tensor:e[i];if(a==null)return;const l=this.accumulatedMeanSquares[r].variable,c=this.accumulatedMoments[r].variable;ce(()=>{const u=Se(Q(l,this.decay),Q(tn(a),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,h=Se(Q(d,this.decay),Q(a,1-this.decay)),f=Ue(Q(a,this.learningRate),Ri(Ve(u,Se(tn(h),this.epsilon)))),p=Se(Q(c,this.momentum),f);l.assign(u),d.assign(h),c.assign(p);const m=Ve(o,p);o.assign(m)}else{const d=Se(Q(l,this.decay),Q(tn(a),1-this.decay)),h=Se(Q(c,this.momentum),Ue(Q(a,this.learningRate),Ri(Se(d,this.epsilon))));l.assign(d),c.assign(h);const f=Ve(o,h);o.assign(f)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&pt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&pt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&pt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,i=!1;this.accumulatedMeanSquares=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(i)})),this.accumulatedMoments=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(i)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(r=>({originalName:r.name,variable:r.tensor.variable(i)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tbe=[Nz,Oz,Dz,Rz,Lz,zz,jT];function nbe(){for(const t of tbe)Te(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ibe="model",rbe=".json",obe=".weights.bin";function dA(t){return new Promise(e=>setTimeout(e)).then(t)}class Nu{constructor(e){if(!fe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Nu.URL_SCHEME)&&(e=e.slice(Nu.URL_SCHEME.length)),(e==null||e.length===0)&&(e=ibe),this.modelJsonFileName=e+rbe,this.weightDataFileName=e+obe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=zs.join(e.weightData),i=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o=fL(e,r),s=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=s,await dA(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=i,await dA(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Fg(e)}}}}Nu.URL_SCHEME="downloads://";class sbe{constructor(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const i=new FileReader;i.onload=r=>{const o=JSON.parse(r.target.result),s=o.modelTopology;if(s==null){n(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));return}if(o.weightsManifest==null){n(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));return}if(this.weightsFiles.length===0){e({modelTopology:s});return}const l=ZE(o,c=>this.loadWeights(c));e(l)},i.onerror=r=>n("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),i.readAsText(this.jsonFile)})}loadWeights(e){const n=[],i=[];for(const s of e)n.push(...s.weights),i.push(...s.paths);const r=this.checkManifestAndWeightFiles(e),o=i.map(s=>this.loadWeightsFile(s,r[s]));return Promise.all(o).then(s=>[n,s])}loadWeightsFile(e,n){return new Promise((i,r)=>{const o=new FileReader;o.onload=s=>{const a=s.target.result;i(a)},o.onerror=s=>r("Failed to weights data from file of path '".concat(e,"'.")),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],i=this.weightsFiles.map(o=>lA(o.name)),r={};for(const o of e)o.paths.forEach(s=>{const a=lA(s);if(n.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(n.push(a),i.indexOf(a)===-1)throw new Error("Weight file with basename '".concat(a,"' is not provided."));r[s]=this.weightsFiles[i.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(n.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}const abe=t=>fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Nu.URL_SCHEME)?lbe(t.slice(Nu.URL_SCHEME.length)):null;Tn.registerSaveRouter(abe);function lbe(t="model"){return new Nu(t)}function cbe(t){return new sbe(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hA(t,e,n,i){s(t),n=n==null?0:n,i=i==null?1:i,a(n,i);let r=0;const o=l=>(l.then(c=>{const u=n+ ++r/t.length*(i-n);return e(u),c}),l);function s(l){P(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,c){P(l>=0&&l<=1,()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(l)),P(c>=0&&c<=1,()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(c)),P(c>=l,()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(l," and endFraction ")+"".concat(c))}return Promise.all(t.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Fz(t,e){e==null&&(e={});const n=e.fetchFunc==null?fe().platform.fetch:e.fetchFunc,i=t.map(d=>n(d,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(i):await hA(i,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(a):await hA(a,e.onProgress,.5,1)}function ube(t,e){var n;const i=e.fetchFunc==null?fe().platform.fetch:e.fetchFunc;let r=0,o;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async s=>{for(var a;r<t.length;){o||(o=(await i(t[r],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:c}=await o.read();if(l){r++,o=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,r/t.length);continue}s.enqueue(c);return}s.close()}})}async function dbe(t,e="",n,i){return Mz(s=>Fz(s,{requestInit:i}))(t,e,n)}function Mz(t){return async(e,n="",i)=>{const r=e.map(()=>!1),o={},s=i!=null?i.map(()=>!1):[],a=[];if(e.forEach((f,p)=>{let m=0;f.weights.forEach(b=>{const g="quantization"in b?b.quantization.dtype:b.dtype,x=Eu[g]*ge(b.shape),y=()=>{r[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:b,groupOffset:m,sizeBytes:x})};i!=null?i.forEach((v,w)=>{v===b.name&&(y(),s[w]=!0)}):y(),a.push(b.name),m+=x})}),!s.every(f=>f)){const f=i.filter((p,m)=>!s[m]);throw new Error("Could not find weights in manifest with names: "+"".concat(f.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(a.join(", "),"."))}const l=r.reduce((f,p,m)=>(p&&f.push(m),f),[]),c=[];l.forEach(f=>{e[f].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;c.push(m)})});const u=await t(c),d={};let h=0;return l.forEach(f=>{const p=e[f].paths.length,m=new zs(u.slice(h,h+p));o[f].forEach(g=>{const x=m.slice(g.groupOffset,g.groupOffset+g.sizeBytes),y=cL(x,[g.manifestEntry]);for(const v in y)d[v]=y[v]}),h+=p}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hbe="application/octet-stream",fbe="application/json";class UT{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(P(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=fe().platform.fetch,P(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&P(e.length===2,()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,").")),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const i=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=fL(e,i);if(n.body.append("model.json",new Blob([JSON.stringify(r)],{type:fbe}),"model.json"),e.weightData!=null){const s=zs.join(e.weightData);n.body.append("model.weights.bin",new Blob([s],{type:hbe}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Fg(e),responses:[o]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let n;try{n=await e.json()}catch(o){let s="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?s+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":s+=" Please make sure the server is serving valid JSON for this request.",new Error(s)}const i=n.modelTopology,r=n.weightsManifest;if(i==null&&r==null)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return ZE(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),i=G3(e.weightsManifest),r=()=>ube(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:i,getWeightStream:r})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[i,r]=pbe(n),o=this.weightPathPrefix||i,s=[],a=[];for(const l of e)for(const c of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(c)):s.push(o+c+r);return this.weightUrlConverter&&s.push(...await Promise.all(a)),s}async loadWeights(e){const n=await this.getWeightUrls(e),i=G3(e),r=await Fz(n,this.loadOptions);return[i,r]}}UT.URL_SCHEME_REGEX=/^https?:\/\//;function pbe(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),i=t.substring(0,e),r=n>e?t.substring(n):"";return[i+"/",r]}function Q3(t){return t.match(UT.URL_SCHEME_REGEX)!=null}const Pz=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(i=>Q3(i)):n=Q3(t),n)return VT(t,e)}return null};Tn.registerSaveRouter(Pz);Tn.registerLoadRouter(Pz);function VT(t,e){return new UT(t,e)}function mbe(t,e){return VT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z2{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Bz{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class gbe{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function bbe(t,e,n,i){const r=arguments;return new gbe(jz(...r))}function jz(t,e,n,i){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new z2(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z2({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z2({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:i}))}function xbe(t){return new Bz(t)}function ybe(t){return new Bz(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uz=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:zs,browserFiles:cbe,browserHTTPRequest:mbe,concatenateArrayBuffers:hL,copyModel:Sde,decodeWeights:cL,decodeWeightsStream:dL,encodeWeights:W3,fromMemory:bbe,fromMemorySync:jz,getLoadHandlers:cde,getModelArtifactsForJSON:ZE,getModelArtifactsForJSONSync:pL,getModelArtifactsInfoForJSON:Fg,getSaveHandlers:mL,getWeightSpecs:G3,http:VT,isHTTPScheme:Q3,listModels:wde,loadWeights:dbe,moveModel:Cde,registerLoadRouter:lde,registerSaveRouter:ade,removeModel:kde,weightsLoaderFactory:Mz,withSaveHandler:xbe,withSaveHandlerSync:ybe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Dc;function vbe(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,i=!1,r=!1,o=!1,s=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(t.constructor.name));if(M3(z3,ee.backendName)!=null){const p={pixels:t},m={numChannels:e};return ee.runKernel(z3,p,m)}const[c,u]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(s)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(i||n)d=t.data;else if(o||r||a){if(Dc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Dc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Dc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Dc.canvas.width=c,Dc.canvas.height=u,Dc.drawImage(t,0,0,c,u),d=Dc.getImageData(0,0,c,u).data}let h;if(e===4)h=new Int32Array(d);else{const p=c*u;h=new Int32Array(p*e);for(let m=0;m<p;m++)for(let b=0;b<e;++b)h[m*e+b]=d[m*4+b]}return mz(h,[u,c,e],"int32")}function wbe(t){if(t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(t.rank,"."));const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(e));if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error("Unsupported type for toPixels: ".concat(t.dtype,".")+" Please use float32 or int32 tensors.")}async function kbe(t,e){let n=U(t,"img","toPixels");if(!(t instanceof Qt)){const c=n;n=Me(c,"int32"),c.dispose()}wbe(n);const[i,r]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],s=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(r*i*4);for(let c=0;c<i*r;++c){const u=[0,0,0,255];for(let h=0;h<o;h++){const f=s[c*o+h];if(n.dtype==="float32"){if(f<0||f>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(f,"."))}else if(n.dtype==="int32"&&(f<0||f>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(f,"."));o===1?(u[0]=f*a,u[1]=f*a,u[2]=f*a):u[h]=f*a}const d=c*4;l[d+0]=Math.round(u[0]),l[d+1]=Math.round(u[1]),l[d+2]=Math.round(u[2]),l[d+3]=Math.round(u[3])}return n!==t&&n.dispose(),l}const Sbe=Z({fromPixels_:vbe});function HT(t,e){const n=t.shape.length,i=e.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(i<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(i,"."));if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.shape[i-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(e.shape[i-1]," vs. ").concat(n));if(ge(t.shape)===0)throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(t.shape,"."));const r=e.shape,o=r[r.length-1];let s=1;for(let d=0;d<r.length-1;++d)s*=r[d];const a=t.shape,l=r.slice();l.pop();let c=1;for(let d=o;d<n;++d)c*=a[d],l.push(a[d]);const u=[...it(t.shape).map(d=>d/c),1].slice(0,o);return[l,s,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eS=-2,Cbe=-1;function WT(t,e,n){const i=t.shape.length;P(i===e.length,()=>"Error in slice".concat(i,"D: Length of begin ").concat(e," must ")+"match the rank of the array (".concat(i,").")),P(i===n.length,()=>"Error in slice".concat(i,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(i,")."));for(let r=0;r<i;++r)P(e[r]+n[r]<=t.shape[r],()=>"Error in slice".concat(i,"D: begin[").concat(r,"] + size[").concat(r,"] ")+"(".concat(e[r]+n[r],") would overflow input.shape[").concat(r,"] (").concat(t.shape[r],")"))}function Ebe(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function GT(t,e,n){const i=[];for(let r=0;r<t.length;r++)i[r]=Math.ceil((e[r]-t[r])/n[r]);return i}function Vz(t,e,n,i){const r=[...t];for(let o=r.length;o<i.length;o++)r.push(1);for(let o=0;o<n;o++)o===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function Hz(t,e,n){return n<=t?n:n-(e-1)}function Wz(t,e){const n=[];for(let i=0;i<t;i++)n.push(e+i);return n}function Tbe(t,e,n,i,r,o,s,a,l){const c=t.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(e.length&&n>0){const f=e[0],p=n+1;u=Gz(s,f,p,i,t),d=qz(a,f,p,r,t),h=Vz(o,f,p,t)}else for(let f=0;f<c;f++)u[f]=Kz(s,i,o,t,f,l),d[f]=Yz(a,r,o,t,f,l),h[f]=Xz(o,f,l);return{begin:u,end:d,strides:h}}function Gz(t,e,n,i,r){const o=[...r],s=Wz(n,e);for(let a=0;a<o.length;a++)if(s.indexOf(a)>-1)o[a]=0;else{const l=Hz(e,n,a);let c=i[l];t&1<<l&&(c=0),o[a]=c}return o}function qz(t,e,n,i,r){const o=[...r],s=Wz(n,e);for(let a=0;a<o.length;a++)if(s.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{const l=Hz(e,n,a);let c=i[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),o[a]=c}for(let a=0;a<o.length;a++){const l=r[a];o[a]<0&&(o[a]+=l),o[a]=ku(0,o[a],r[a])}return o}function Xz(t,e,n){let i=t[e];return(n&1<<e||i==null)&&(i=1),i}function Kz(t,e,n,i,r,o){let s=e[r];const a=n[r]||1;(t&1<<r||o&1<<r||s==null)&&(a>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);const l=i[r];return s<0&&(s+=l),s=ku(0,s,l-1),s}function Yz(t,e,n,i,r,o){let s=e[r];const a=n[r]||1;(t&1<<r||o&1<<r||s==null)&&(a>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);const l=i[r];return s<0&&(s+=l),a>0?s=ku(0,s,l):s=ku(-1,s,l-1),s}function qT(t,e,n){let i=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){i=r;break}for(let r=i+1;r<n.length;r++)if(e[r]>0||n[r]!==t[r])return!1;return!0}function XT(t,e){let n=t.length>0?t[t.length-1]:1;for(let i=0;i<t.length-1;i++)n+=t[i]*e[i];return n}function Gv(t,e,n){let i;const r=t.shape.length;typeof e=="number"?i=[e,...new Array(r-1).fill(0)]:e.length<r?i=e.concat(new Array(r-e.length).fill(0)):i=e.slice(),i.forEach(s=>{P(s!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(r).fill(-1):typeof n=="number"?o=[n,...new Array(r-1).fill(-1)]:n.length<r?o=n.concat(new Array(r-n.length).fill(-1)):o=n,o=o.map((s,a)=>s>=0?s:(P(s===-1,()=>"Negative size values should be exactly -1 but got "+"".concat(s," for the slice() size at index ").concat(a,".")),t.shape[a]-i[a])),[i,o]}function KT(t,e,n,i,r,o,s,a,l){let c;if(i==null?(c=new Array(e.length),c.fill(1)):c=i,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)u&&1<<y&a&&d.numAddAxisAfterEllipsis++,1<<y&s&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Ibe(d,h);let f=!0,p=!0,m=!0;const b=[],g=[];for(let y=0;y<t.length;++y){if(h.strides[y]===0)throw Error("strides[".concat(y,"] must be non-zero"));const v=!!(h.shrinkAxisMask&1<<y),w=t[y];if(w===-1){b.push(v?1:-1);continue}const E=[h.beginMask&1<<y,h.endMask&1<<y],C=[h.strides[y]>0?0:-1,h.strides[y]>0?w:w-1];if(v&&h.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&h.strides[y]===1;const I=!!(h.beginMask&1<<y&&h.endMask&1<<y);if(h.beginValid&&h.endValid){if(v){const D=h.begin[y]<0?w+h.begin[y]:h.begin[y];if(h.begin[y]=D,h.end[y]=h.begin[y]+1,D<0||D>=w)throw Error("slice index ".concat(h.begin[y]," of dimension ").concat(y," out of bounds."))}else h.begin[y]=fA(h.begin[y],0,h.strides[y],w,E,C),h.end[y]=fA(h.end[y],1,h.strides[y],w,E,C);const M=h.strides[y]===1&&h.begin[y]===0&&h.end[y]===w;f=f&&M,p=p&&(y===0&&h.strides[y]===1||M)}else f=f&&h.strides[y]===1&&I,p=p&&(y===0&&h.strides[y]===1||I);let T,_=!1;if(h.beginValid&&h.endValid?(T=h.end[y]-h.begin[y],_=!0):v?(T=1,_=!0):I&&w>=0&&(h.strides[y]<0?T=-w:T=w,_=!0),_){let M;T===0||T<0!=h.strides[y]<0?M=0:M=Math.trunc(T/h.strides[y])+(T%h.strides[y]!==0?1:0),b.push(M)}else b.push(-1)}for(let y=0;y<h.finalShapeGatherIndices.length;++y){const v=h.finalShapeGatherIndices[y];v>=0?g.push(b[v]):v===eS&&g.push(1)}return{finalShapeSparse:g.filter((y,v)=>h.finalShapeGatherIndices[v]!==eS),finalShape:g,isIdentity:f,sliceDim0:p,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function Ibe(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let i=0;i<t.dims;i++)if(1<<i&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-i)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<r;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=i}else if(1<<i&t.newAxisMask)e.finalShapeGatherIndices.push(eS),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(e.dims," dims, ").concat(e.begin.length,"."));t.begin!=null&&(e.begin[n]=t.begin[i]),t.end!=null&&(e.end[n]=t.end[i]),e.strides[n]=t.strides[i],t.beginMask&1<<i&&(e.beginMask|=1<<n),t.endMask&1<<i&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<i?(e.finalShapeGatherIndices.push(Cbe),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(i)),e.inputShapeGatherIndicesSparse[n]=i,n++}}function fA(t,e,n,i,r,o){if(r[e])return n>0?o[e]:o[e+1&1];{const s=t<0?i+t:t;return s<o[0]?o[0]:s>o[1]?o[1]:s}}const $be=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:WT,computeFlatOffset:XT,computeOutShape:GT,getNormalizedAxes:Tbe,isSliceContinous:qT,maskToAxes:Ebe,parseSliceParams:Gv,sliceInfo:KT,startForAxis:Kz,startIndicesWithElidedDims:Gz,stopForAxis:Yz,stopIndicesWithElidedDims:qz,stridesForAxis:Xz,stridesWithElidedDims:Vz},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _be{static sgd(e){return new jT(e)}static momentum(e,n,i=!1){return new Lz(e,n,i)}static rmsprop(e,n=.9,i=0,r=null,o=!1){return new zz(e,n,i,r,o)}static adam(e=.001,n=.9,i=.999,r=null){return new Dz(e,n,i,r)}static adadelta(e=.001,n=.95,i=null){return new Nz(e,n,i)}static adamax(e=.002,n=.9,i=.999,r=null,o=0){return new Rz(e,n,i,r,o)}static adagrad(e,n=.1){return new Oz(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yd=_be;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Abe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function Zz(){return new Promise(t=>Abe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YT(t,e){const n=t[0].length;t.forEach((r,o)=>{P(r.length===n,()=>"Error in concat".concat(n,"D: rank of tensors[").concat(o,"] must be the same ")+"as the rank of the rest (".concat(n,")"))}),P(e>=0&&e<n,()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,"."));const i=t[0];t.forEach((r,o)=>{for(let s=0;s<n;s++)P(s===e||r[s]===i[s],()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(o,"] (").concat(r,") ")+"does not match the shape of the rest (".concat(i,") ")+"along the non-concatenated axis ".concat(o,"."))})}function Js(t,e){const n=t[0].slice();for(let i=1;i<t.length;i++)n[e]+=t[i][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xs;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(xs||(xs={}));function Jz(t,e,n){let i=new Array;if(n==null&&e==null)return i;if(e==null)for(;i.length<t+n.length;)i.push(-1);else i=e.slice();if(n==null)return i;if(t+n.length!==i.length)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.rank = ").concat(t+n.length,", but shape.rank = ").concat(i.length));for(let r=1;r<n.length;++r){const o=n[r],s=i[i.length-n.length+r],a=i[s];if(o>=0)if(a>=0){if(a!==o)throw new Error("rt input.shape and shape=".concat(e," are incompatible: rt input.shape[").concat(r+t,"] = ").concat(o," but shape[").concat(r+t,"] = ").concat(a))}else i[s]=o}return i}function Qz(t){const e={FIRST_DIM_SIZE:xs.FIRST_DIM_SIZE,VALUE_ROWIDS:xs.VALUE_ROWIDS,ROW_LENGTHS:xs.ROW_LENGTHS,ROW_SPLITS:xs.ROW_SPLITS,ROW_LIMITS:xs.ROW_LIMITS,ROW_STARTS:xs.ROW_STARTS},n=[];for(const i of t)if(i in e)n.push(e[i]);else break;return n}function eF(t){return t.length===0?0:t[0]===xs.FIRST_DIM_SIZE?t.length-1:t.length}function tF(t,e){if(t==null||e==null)return;const n=t.length,i=e.length;if(n>=i)throw new Error("defaultValue.shape=".concat(t," and ragged tensor flatValues.shape=").concat(e,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(i,")"));for(let r=0;r<Math.min(n,i-1);++r){const o=t[r],s=e[r+1];if(o>=0&&s>=0&&o!==1&&o!==s)throw new Error("defaultValue.shape=".concat(t,", and ragged tensor input flatValues.shape=").concat(e," are incompatible: defaultValue.shape[").concat(r-t.length,"] = ").concat(o," but ragged tensor input.flatValues.shape[").concat(r-t.length,"] = ").concat(s))}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZT=30;function qv(t){return t<=ZT?t:D3(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JT(t,e,n){const i=n*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[i,r]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wg(t,e,n,i=!0){let r=[];if(i)r=r.concat(e.slice(0)),r.push(t[0]/n),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const o=e.length;for(let s=0;s<o;++s)r=r.concat([t[s+1]/e[s],e[s]]);r=r.concat(t.slice(o+1))}return r}function Gg(t,e,n=!0){const i=[];if(n){i.push(e);for(let r=e+1;r<t;++r)r<=2*e?(i.push(r),i.push(r-(e+1))):i.push(r)}else{const r=[],o=[];for(let s=1;s<t;++s)s>=e*2+1||s%2===1?o.push(s):r.push(s);i.push(...r),i.push(0),i.push(...o)}return i}function qg(t,e,n,i=!0){const r=[];i?r.push(t[0]/n):r.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?i?r.push(e[o-1]*t[o]):r.push(t[o]/e[o-1]):r.push(t[o]);return r}function QT(t,e){const n=[0];for(let i=0;i<e;++i)n.push(t[i][0]);return n}function eI(t,e,n){const i=t.slice(0,1);for(let r=0;r<n;++r)i.push(t[r+1]-e[r][0]-e[r][1]);return i}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xv=1.7580993408473768,Kv=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tI=.3275911,nI=.254829592,iI=-.284496736,rI=1.421413741,oI=-1.453152027,sI=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(t.length,", imag: ").concat(e.length,"."));const n=new Float32Array(t.length*2);for(let i=0;i<n.length;i+=2)n[i]=t[i/2],n[i+1]=e[i/2];return n}function nF(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=t[i],n[i/2]=t[i+1];return{real:e,imag:n}}function iF(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let r=0;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],i[Math.floor(r/4)]=t[r+1];return{real:n,imag:i}}function rF(t){const e=Math.floor(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let r=2;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],i[Math.floor(r/4)]=t[r+1];return{real:n,imag:i}}function aI(t,e){const n=t[e*2],i=t[e*2+1];return{real:n,imag:i}}function oF(t,e,n,i){t[i*2]=e,t[i*2+1]=n}function sF(t,e){const n=new Float32Array(t/2),i=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const o=(e?2:-2)*Math.PI*(r/t);n[r]=Math.cos(o),i[r]=Math.sin(o)}return{real:n,imag:i}}function aF(t,e,n){const i=(n?2:-2)*Math.PI*(t/e),r=Math.cos(i),o=Math.sin(i);return{real:r,imag:o}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F2="->",Nbe=/->/g,pA=",",mA="...";function lI(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Nbe,"").length)/F2.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(F2,'").'));const[i,r]=t.split(F2);P(i.indexOf(mA)===-1,()=>'The ellipsis notation ("'.concat(mA,'") is not supported yet.'));const o=i.split(pA),s=o.length;if(e!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(e));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let h=0;h<r.length;++h){const f=r[h];if(!o.some(p=>p.indexOf(f)!==-1))throw new Error("Output subscripts contain the label ".concat(f," ")+"not present in the input subscripts.");a.indexOf(f)===-1&&a.push(f)}for(let h=0;h<i.length;++h){const f=i[h];a.indexOf(f)===-1&&f!==pA&&a.push(f)}const l=new Array(o.length);for(let h=0;h<s;++h){if(new Set(o[h].split("")).size!==o[h].length)throw new Error("Found duplicate axes in input component ".concat(o[h],". ")+"Support for duplicate axes in input is not implemented yet.");l[h]=[];for(let f=0;f<o[h].length;++f)l[h].push(a.indexOf(o[h][f]))}const c=a.length,u=r.length,d=[];for(let h=u;h<c;++h)d.push(h);return{allDims:a,summedDims:d,idDims:l}}function cI(t,e){let n=new Array(t);n.fill(-1);for(let r=0;r<e.length;++r)n[e[r]]=r;const i=[];for(let r=0;r<t;++r)n[r]===-1&&i.push(r);return n=n.filter(r=>r!==-1),{permutationIndices:n,expandDims:i}}function uI(t,e,n){const i=new Array(t);for(let r=0;r<n.length;++r){const o=n[r].shape;for(let s=0;s<e[r].length;++s)i[e[r][s]]===void 0?i[e[r][s]]=o[s]:P(i[e[r][s]]===o[s],()=>"Expected dimension ".concat(i[e[r][s]]," at axis ").concat(s," ")+"of input shaped ".concat(JSON.stringify(o),", ")+"but got dimension ".concat(o[s]))}}function dI(t,e){const n=t,i=[];let r=0;t.length===0&&n.push(-1),r=t.length+1;for(let s=0;s<r;++s)i.push([]);const o=[];for(let s=0;s<n.length;++s){const a=n[s],l=Obe(e,a);for(const c of l)o.indexOf(c)===-1&&(i[s].push(c),o.push(c))}return{path:n,steps:i}}function hI(t){return t.every((e,n)=>e===n)}function Obe(t,e){const n=[];for(let i=0;i<t.length;++i)(t[i].length===0||t[i].indexOf(e)!==-1||e===-1)&&n.push(i);return n}function fI(t,e,n=0){let i=[];if(typeof e=="number")P(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),i=new Array(e).fill(t.shape[n]/e);else{const r=e.reduce((s,a)=>(a===-1&&(s+=1),s),0);P(r<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const s=e.reduce((a,l)=>l>0?a+l:a);e[o]=t.shape[n]-s}P(t.shape[n]===e.reduce((s,a)=>s+a),()=>"The sum of sizes must match the size of the axis dimension."),i=e}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lF(t){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(t)}function cF(t,e){return"indices(".concat(t,", 0) is invalid: ").concat(e," < 0")}function uF(t,e,n){return"indices(".concat(t,", 0) is invalid: ").concat(e," >= ").concat(n)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dF(t,e){return"only one output dimension may be -1, not both ".concat(t," and ").concat(e)}function hF(t,e){return"size ".concat(t," must be non-negative, not ").concat(e)}function fF(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function pF(t,e){const n=ge(t),i=ge(e);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(i,". inputShape=").concat(t," outputShape= ").concat(e)}function mF(t,e){const n=ge(t),i=ge(e);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(i,". inputShape=").concat(t," outputShape=").concat(e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tS(){return"segment ids must be >= 0"}function gF(){return"segment ids are not increasing"}function bF(t,e){return"Segment id ".concat(t," out of range [0, ").concat(e,"), possibly because segmentIds input is not sorted.")}function xF(t,e,n){return"Bad: indices[".concat(t,"] == ").concat(e," out of range [0, ").concat(n,")")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yF(t,e){let n=!1,i;for(t<=ZT?(i=t,n=!0):i=D3(t,Math.floor(Math.sqrt(t)));!n;)i>e||i===t?n=!0:i=D3(t,i+1);return i}function vF(t,e,n){const i=[],r=t.length;for(let o=0;o<r;o++)o!==e?i.push(t[o]):i.push(n);return i}function pI(t,e,n,i){const r=e.shape.length,o=t.shape.length;if(i!==0&&(i<-r||i>r))throw new Error("Expect batchDims in the range of [-".concat(r,", ").concat(r,"], but got ").concat(i));if(i<0&&(i+=r),i>o)throw new Error("batchDims (".concat(i,") must be less than rank(x) (\n    ").concat(o,")."));if(n<i)throw new Error("batchDims (".concat(i,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<i;++d)if(t.shape[d]!==e.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(t.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(e.shape[d],"."));const s=t.shape[n],a=[];let l=1,c=1,u=1;for(let d=0;d<i;++d)a.push(t.shape[d]),l*=t.shape[d];for(let d=i;d<n;d++)a.push(t.shape[d]),c*=t.shape[d];for(let d=i;d<r;d++)a.push(e.shape[d]);for(let d=n+1;d<o;d++)a.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:a}}const Dbe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:pI,computeOutShape:vF,segOpComputeOptimalWindowSize:yF},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ka(t){try{return t.map(e=>ec(e))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(e))}}function wF(t){return t.map(e=>Wl(e))}const Rbe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:nI,ERF_A2:iI,ERF_A3:rI,ERF_A4:oI,ERF_A5:sI,ERF_P:tI,PARALLELIZE_THRESHOLD:ZT,get RowPartitionType(){return xs},SELU_SCALE:Kv,SELU_SCALEALPHA:Xv,applyActivation:Hv,assertAndGetBroadcastShape:mt,assertAxesAreInnerMostDims:Mi,assertParamsConsistent:YT,assignToTypedArray:oF,axesAreInnerMostDims:aT,calculateShapes:Qu,checkEinsumDimSizes:uI,checkPadOnDimRoundingMode:cr,combineLocations:KL,combineRaggedTensorToTensorShapes:Jz,complexWithEvenIndex:iF,complexWithOddIndex:rF,computeConv2DInfo:vi,computeConv3DInfo:yc,computeDefaultPad:eT,computeDilation2DInfo:Mg,computeOptimalWindowSize:qv,computeOutAndReduceShapes:wi,computeOutShape:Js,computePool2DInfo:ls,computePool3DInfo:el,convertConv2DDataFormat:tl,decodeEinsumEquation:lI,eitherStridesOrDilationsAreOne:Fi,expandShapeToKeepDim:Hn,exponent:aF,exponents:sF,fromStringArrayToUint8:wF,fromUint8ToStringArray:Ka,getAxesPermutation:_n,getBroadcastDims:Oh,getComplexWithIndex:aI,getEinsumComputePath:dI,getEinsumPermutation:cI,getFusedBiasGradient:Vv,getFusedDyActivation:Uv,getImageCenter:JT,getInnerMostAxes:Wn,getPermuted:Gg,getRaggedRank:eF,getReductionAxes:ai,getReshaped:Wg,getReshapedPermuted:qg,getRowPartitionTypesHelper:Qz,getSliceBeginCoords:QT,getSliceSize:eI,getSparseFillEmptyRowsIndicesDenseShapeMismatch:lF,getSparseFillEmptyRowsNegativeIndexErrorMessage:cF,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:uF,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:fF,getSparseReshapeInputOutputMismatchErrorMessage:mF,getSparseReshapeInputOutputMultipleErrorMessage:pF,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:dF,getSparseReshapeNegativeOutputDimErrorMessage:hF,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:xF,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:tS,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:gF,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:bF,getUndoAxesPermutation:vc,isIdentityPermutation:hI,log:kue,mergeRealAndImagArrays:Xa,prepareAndValidate:HT,prepareSplitSize:fI,segment_util:Dbe,shouldFuse:Wv,slice_util:$be,splitRealAndImagArrays:nF,stridesOrDilationsArePositive:$u,tupleValuesAreOne:ic,upcastType:qr,validateDefaultValueShape:tF,validateInput:NT,validateUpdateShape:gz,warn:lo},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */nbe();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kF={kernelName:vy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,uf(Me(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lbe={kernelName:Um,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=tn(Me(n,"float32")),r=Ri(Ve(rt(1),i));return xn(Ue(t,r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zbe={kernelName:Vm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Ri(Ve(tn(Me(n,"float32")),1));return Ue(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fbe={kernelName:af,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{let a=t;const l=ai(n.shape,r);return l.length>0&&(a=Ke(a,l)),ne(a,n.shape)},b:()=>{let a=t;const l=ai(i.shape,r);return l.length>0&&(a=Ke(a,l)),ne(a,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mbe={kernelName:wy,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((i,r)=>{n[r]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pbe={kernelName:ky,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bbe={kernelName:Sy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Rt(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jbe={kernelName:Hm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Ri(Ve(rt(1),tn(Me(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ube={kernelName:Wm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=Ri(Se(rt(1),tn(Me(n,"float32"))));return Ue(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vbe={kernelName:Xm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{const a=Se(tn(n),tn(i));let l=Q(t,Ue(i,a));const c=ai(n.shape,r);return c.length>0&&(l=Ke(l,c)),ne(l,n.shape)},b:()=>{const a=Se(tn(n),tn(i));let l=xn(Q(t,Ue(n,a)));const c=ai(i.shape,r);return c.length>0&&(l=Ke(l,c)),ne(l,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hbe={kernelName:Gm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Se(tn(Me(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wbe={kernelName:qm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Ve(rt(1),tn(Me(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gbe(t,e,n,i,r,o){const s=U(t,"dy","avgPool3dGrad"),a=U(e,"input","avgPool3dGrad");let l=s,c=a,u=!1;a.rank===4&&(u=!0,l=ne(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),c=ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),P(l.rank===5,()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,".")),P(c.rank===5,()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,".")),cr("avgPool3dGrad",r,o);const d={dy:l,input:c},h={filterSize:n,strides:i,pad:r,dimRoundingMode:o},f=ee.runKernel(qC,d,h);return u?ne(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const qbe=Z({avgPool3dGrad_:Gbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xbe={kernelName:Ey,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:r,strides:o,pad:s,dimRoundingMode:a}=n;return{x:()=>qbe(t,i,r,o,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kbe(t,e,n,i,r){const o=U(t,"dy","avgPoolGrad"),s=U(e,"input","avgPoolGrad");P(s.rank===o.rank,()=>"Rank of input (".concat(s.rank,") does not match rank of dy (").concat(o.rank,")"));let a=s,l=o,c=!1;s.rank===3&&(c=!0,a=ne(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),P(l.rank===4,()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,".")),P(a.rank===4,()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(a.rank,"."));const u={dy:l,input:a},d={filterSize:n,strides:i,pad:r},h=ee.runKernel(GC,u,d);return c?ne(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const Ybe=Z({avgPoolGrad_:Kbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zbe={kernelName:Cy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:r,strides:o,pad:s}=n;return{x:()=>Ybe(t,i,r,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jbe={kernelName:Ty,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[i,r]=e,{transposeA:o,transposeB:s}=n;return!o&&!s?{a:()=>$t(t,r,!1,!0),b:()=>$t(i,t,!0,!1)}:!o&&s?{a:()=>$t(t,r,!1,!1),b:()=>$t(t,i,!0,!1)}:o&&!s?{a:()=>$t(r,t,!1,!0),b:()=>$t(i,t,!1,!1)}:{a:()=>$t(r,t,!0,!0),b:()=>$t(t,i,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qbe={kernelName:Iy,gradFunc:(t,e,n)=>{const{blockShape:i,crops:r}=n;return{x:()=>Rv(t,i,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const exe={kernelName:yue,gradFunc:(t,e,n)=>{const i=n,r=i.inputShape,o=i.shape,s=Array.from(o);for(let l=r.length-1;l>=0;l--)if(r[l]===o[l])s[l]=1;else if(r[l]!==1)throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(o,"]."));const a=[];for(let l=0;l<s.length;l++)s[l]>1&&a.push(l);return{x:()=>Ke(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const txe={kernelName:Km,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nxe={kernelName:Ym,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ixe={kernelName:Zm,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{clipValueMin:r,clipValueMax:o}=n;return{x:()=>Xi(ia(wc(i,r),Yu(i,o)),t,Rt(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rxe={kernelName:_y,inputsToSave:["x"],gradFunc:kF.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oxe={kernelName:Ay,saveAllInputs:!0,gradFunc:(t,e,n)=>{const i=e.map(l=>l.shape),{axis:r}=n,o=Tt(r,e[0].shape)[0],s=i.map(l=>l[o]);return Ur(t,s,o).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sxe={kernelName:Ny,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,r]=e,{dilations:o,strides:s,pad:a,dataFormat:l}=n;return P(ic(o),()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")),{x:()=>nT(i.shape,t,r,s,a,l),filter:()=>zT(i,t,r.shape,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const axe={kernelName:Oy,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[i,r]=e,{strides:o,pad:s,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>rc(t,r,o,s,a,1,l),filter:()=>zT(t,i,r.shape,o,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lxe(t,e,n,i,r){let o=t;t.rank===4&&(o=ne(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let s=e;s.rank===4&&(s=ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),P(o.rank===5,()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,".")),P(s.rank===5,()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(s.shape,".")),P(n.length===5,()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")),P(o.shape[4]===n[3],()=>"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")),P(s.shape[4]===n[4],()=>"Error in conv3dDerFilter: depth of dy (".concat(s.shape[4],") must ")+"match output depth for filter (".concat(n[4],")."));const a={x:o,dy:s},l={strides:i,pad:r,filterShape:n};return ee.runKernel(JC,a,l)}const cxe=Z({conv3DBackpropFilter_:lxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uxe={kernelName:Dy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:r,pad:o}=n;P(ic(i),()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(i,"'"));const[s,a]=e;return{x:()=>VL(s.shape,t,a,r,o),filter:()=>cxe(s,t,a.shape,r,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxe={kernelName:Jm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(xn(TT(Me(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hxe={kernelName:Qm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(IT(Me(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fxe={kernelName:Ry,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:r,exclusive:o,reverse:s}=n;return{x:()=>{const a=_n([r],i.rank);let l=oT(t,r,o,!s);return a!=null&&(l=Dt(l,a)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pxe={kernelName:Ly,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:r,pad:o,dimRoundingMode:s}=n,a=i==null?[1,1]:i;P(ic(a),()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(a,"'"));const[l,c]=e;return P(l.rank===4,()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")),P(c.rank===4,()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")),P(l.shape[3]===c.shape[2],()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")),P(Fi(r,a),()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(r," and dilations ")+"'".concat(a,"'.")),cr("depthwiseConv2d",o,s),{x:()=>Ez(l.shape,t,c,r,o,a,s),filter:()=>Cz(l,t,c.shape,r,o,a,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mxe={kernelName:zy,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,r]=e,o={x:i,filter:r,dy:t},s={x:i,filter:r,dy:t};return{x:()=>ee.runKernel(R3,o,n),filter:()=>ee.runKernel(L3,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gxe={kernelName:tg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,i={dy:t,y:n};return{x:()=>ee.runKernel(lE,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bxe={kernelName:ng,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=Q(ar(xn(tn(n))),2/Math.sqrt(Math.PI));return{x:()=>Q(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xxe={kernelName:ig,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yxe={kernelName:My,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>ne(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vxe={kernelName:rg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,ar(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wxe={kernelName:og,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kxe={kernelName:sg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{const a=Ue(t,Me(i,"float32")),l=ai(n.shape,r);return l.length>0?ne(Ke(a,l),n.shape):a},b:()=>{let a=Q(t,Me(n,"float32"));const l=ai(i.shape,r);l.length>0&&(a=ne(Ke(a,l),i.shape));const c=tn(i);return xn(Ue(a,Me(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sxe={kernelName:Py,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:i}=n,[r,o,s,a]=e,l=a==null?rt(1):a,c=ai(o.shape,r.shape),u=[];if(o.rank===1){for(let v=0;v<r.shape.length-1;++v)u.push(r.shape[v]);u.push(1)}const d=Ve(r,o),h=Q(t,l),f=ST(Se(s,rt(i))),p=Q(Q(Q(f,f),f),rt(-.5));return{x:()=>o.rank===1?ne(Q(Q(t,Xo(ne(f,[1,1,1,o.shape[0]]),u)),l),r.shape):ne(Q(Q(t,f),l),r.shape),mean:()=>{let v=Q(Q(f,rt(-1)),h);return o.rank===1&&(v=Ke(v,c)),ne(v,o.shape)},variance:()=>{let v=Q(Q(p,d),h);return o.rank===1&&(v=Ke(v,c)),ne(v,o.shape)},scale:()=>{const v=Q(d,f);let w=Q(t,v);return o.rank===1&&(w=Ke(w,c)),ne(w,o.shape)},offset:()=>{let v=t;return o.rank===1&&(v=Ke(v,c)),ne(v,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cxe={kernelName:By,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[i,r]=e,{axis:o,batchDims:s}=n,a=Tt(o,i.shape)[0],l=(c,u,d)=>()=>{const h=c.shape,f=u.size,p=h.slice(0,a),m=p.length,b=h.slice(o,h.length).slice(1),g=b.length,x=gA(0,m),y=gA(m+1,m+1+g),v=bA([p,[f],b]),w=ne(d,v),E=ne(u,[f]),C=bA([[m],x,y]),I=Dt(w,C);let T=DT(I,E,c.shape[a]);const _=vc(C);return T=Dt(T,_),T};if(s===1){const c=i.shape[0],u=i.split(c,0);return{x:()=>Xr(u.map((f,p)=>l(f,r.slice(p,1),t.slice(p,1))())).reshape(i.shape),indices:()=>r}}else return{x:l(i,r,t),indices:()=>r}}};function gA(t,e){const n=[];for(let i=t;i<e;++i)n.push(i);return n}function bA(t){const e=[];for(let n=0;n<t.length;++n)for(let i=0;i<t[n].length;++i)e.push(t[n][i]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Exe={kernelName:ag,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Rt(n),b:()=>Rt(i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Txe={kernelName:lg,gradFunc:t=>({x:()=>Me(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ixe={kernelName:cg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $xe={kernelName:ug,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _xe={kernelName:dg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Axe={kernelName:Uy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{alpha:r}=n,o=eo(i,0);return{x:()=>Xi(o,t,Q(t,r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nxe={kernelName:fg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Se(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oxe={kernelName:hg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Me(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dxe={kernelName:wue,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{axis:r}=n;return{logits:()=>{const s=ar(i);return Ve(t,Q(Ke(t,r,!0),s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rxe(t,e,n,i=5,r=1,o=1,s=.5){const a={x:t,y:e,dy:n},l={depthRadius:i,bias:r,alpha:o,beta:s};return ee.runKernel(gE,a,l)}const Lxe=Z({localResponseNormalizationBackprop_:Rxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zxe={kernelName:Xy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,r]=e,{depthRadius:o,bias:s,alpha:a,beta:l}=n;return{x:()=>Lxe(i,r,t,o,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SF(t,e,n,i){return e.rank<n.rank&&(e=ne(e,Hn(e.shape,i))),t.rank<n.rank&&(t=ne(t,Hn(t.shape,i))),{x:()=>Q(t,Me(Is(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xA={kernelName:Ky,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{reductionIndices:r}=i,o=e[0],s=e[1],a=Tt(r,o.shape),l=SF(t,s,o,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fxe={kernelName:pg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Q(t,Me(wc(n,i),"float32")),b:()=>Q(t,Me(im(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mxe(t,e,n,i,r,o,s){const a=U(t,"dy","maxPool3dGrad"),l=U(e,"input","maxPool3dGrad"),c=U(n,"output","maxPool3dGrad");let u=a,d=l,h=c,f=!1;l.rank===4&&(f=!0,u=ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),d=ne(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=ne(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),P(u.rank===5,()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,".")),P(d.rank===5,()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")),P(h.rank===5,()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")),cr("maxPool3dGrad",o,s);const p={dy:u,input:d,output:h},m={filterSize:i,strides:r,pad:o,dimRoundingMode:s},b=ee.runKernel(xE,p,m);return f?ne(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const Pxe=Z({maxPool3dGrad_:Mxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bxe={kernelName:Zy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,r]=e,{filterSize:o,strides:s,pad:a,dimRoundingMode:l}=n;return{x:()=>Pxe(t,i,r,o,s,a,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jxe(t,e,n,i,r,o,s){const a=U(t,"dy","maxPoolGrad"),l=U(e,"input","maxPoolGrad"),c=U(n,"output","maxPoolGrad");P(l.rank===a.rank,()=>"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(a.rank,")")),P(a.rank===4,()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(a.rank,".")),P(l.rank===4,()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,".")),cr("maxPoolGrad",o,s);const u={dy:a,input:l,output:c},d={filterSize:i,strides:r,pad:o,dimRoundingMode:s};return ee.runKernel(bE,u,d)}const Uxe=Z({maxPoolGrad_:jxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vxe={kernelName:Yy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,r]=e,{filterSize:o,strides:s,pad:a}=n;return{x:()=>Uxe(t,i,r,o,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hxe={kernelName:Jy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:r}=n,o=Tt(r,i.shape),a=wi(i.shape,o)[1],l=ge(a);return{x:()=>{const u=i.shape.slice();o.forEach(f=>{u[f]=1});const d=ne(t,u);return Ue(Q(d,jr(i.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wxe={kernelName:Qy,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{axis:r}=i,[o,s]=e,a=Tt(r,o.shape),l=SF(t,s,o,a);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gxe={kernelName:mg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Q(t,Me(Yu(n,i),"float32")),b:()=>Q(t,Me(eo(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qxe={kernelName:ev,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:r}=n,o=r.map(s=>s[0]);return{x:()=>ct(t,o,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xxe={kernelName:gg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{const a=ai(n.shape,r);return a.length>0?ne(Ke(t,a),n.shape):t},b:()=>{const a=Q(t,xn(Vg(Ue(n,i)))),l=ai(i.shape,r);return l.length>0?ne(Ke(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kxe={kernelName:bg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{const a=Q(t,Me(i,"float32")),l=ai(n.shape,r);return l.length>0?ne(Ke(a,l),n.shape):a},b:()=>{const a=Q(t,Me(n,"float32")),l=ai(i.shape,r);return l.length>0?ne(Ke(a,l),i.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yxe={kernelName:tv,gradFunc:t=>({x:()=>xn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zxe={kernelName:rv,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Qn(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jxe={kernelName:iv,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qxe={kernelName:ov,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:i}=n;return os(t,i).map(o=>()=>o)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yA={kernelName:sv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:r}=n,o=r.map(s=>s[0]);return{x:()=>ct(t,o,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e1e={kernelName:xg,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,i,r]=e,o=n,s=i,a=mt(o.shape,s.shape);return{a:()=>{const u=Me(s,"float32");let d=Q(t,Q(u,Ga(o,Ve(u,rt(1)))));const h=ai(o.shape,a);return h.length>0&&(d=Ke(d,h)),ne(d,o.shape)},b:()=>{const u=eo(o,0),d=Xi(u,xo(o),Rt(o));let h=Q(t,Q(r,d));const f=ai(s.shape,a);return f.length>0&&(h=Ke(h,f)),ne(h,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t1e={kernelName:av,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,i]=e,r=eo(n,0);return{x:()=>Xi(r,t,Q(t,i)),alpha:()=>{let o=Xi(r,Rt(t),Q(t,n));const s=ai(i.shape,t.shape);return s.length>0&&(o=Ke(o,s)),ne(o,i.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n1e(t,e,n){const i=t.shape.slice();i[n]=1;const r=ne(e,i),o=jx(t,n,!0,!1),s=jx(t,n,!0,!0),a=Q(o,s);return Q(r,a)}function i1e(t,e,n){const i=t.shape.length,r=i-n.length,o=_n(n,i);let s=t;o!=null&&(s=Dt(t,o));const a=s.shape.slice(),c=a.splice(i-n.length,n.length).reduce((h,f)=>h*f,1);a.push(c);const u=s.reshape(a);let d=n1e(u,e,r);if(d=d.reshape(s.shape),o!=null){const h=vc(o);d=Dt(d,h)}return d}const r1e={kernelName:lv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:r}=n;let o=[];return r==null?o=i.shape.map((s,a)=>a):typeof r=="number"?o=[r]:o=r,{x:()=>i1e(i,t,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o1e={kernelName:eg,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{const a=Ue(t,Me(i,"float32")),l=ai(n.shape,r);return l.length>0?ne(Ke(a,l),n.shape):a},b:()=>{let a=Q(t,Me(n,"float32"));const l=ai(i.shape,r);l.length>0&&(a=ne(Ke(a,l),i.shape));const c=tn(i);return xn(Ue(a,Me(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s1e={kernelName:yg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,xn(tn(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a1e={kernelName:wg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=Q(Yu(n,6),uf(n));return{x:()=>Q(t,Me(i,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l1e={kernelName:vg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Me(uf(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c1e={kernelName:cv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ne(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u1e={kernelName:dv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,r={dy:t,images:i};return{images:()=>ee.runKernel(AE,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d1e={kernelName:uv,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,r={dy:t,images:i};return{images:()=>ee.runKernel(_E,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h1e={kernelName:hv,gradFunc:(t,e,n)=>{const{dims:i}=n,r=Tt(i,t.shape);return{x:()=>rs(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f1e={kernelName:kg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p1e={kernelName:Sg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xn(Ue(t,Q(Ga(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m1e={kernelName:fv,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>Me(Rt(n),"float32"),t:()=>Q(t,Me(n,t.dtype)),e:()=>Q(t,Me(Nv(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g1e={kernelName:Cg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=eo(n,rt(0)),r=rt(Xv),o=rt(Kv),s=Q(t,o),a=Q(Q(t,r),ar(Me(n,"float32")));return Xi(i,s,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b1e={kernelName:$g,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Q(n,Ve(rt(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x1e={kernelName:Ig,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y1e={kernelName:Eg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(Tv(Me(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v1e={kernelName:Tg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(rT(Me(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w1e={kernelName:pv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{begin:r,size:o}=n,s=i.shape,[a,l]=Gv(i,r,o),c=[];for(let u=0;u<t.rank;u++)c.push([a[u],s[u]-a[u]-l[u]]);return{x:()=>kc(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k1e={kernelName:xv,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{dim:r}=n,o=!0,s=Q(t,i);return{logits:()=>Ve(s,Q(Ke(s,[r],o),i))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S1e={kernelName:_g,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Cs(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vA={kernelName:gv,gradFunc:(t,e,n)=>{const{blockShape:i,paddings:r}=n;return{x:()=>Ev(t,i,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wA={kernelName:bv,gradFunc:(t,e,n)=>{const{axis:i}=n;return{x:()=>Ln(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C1e={kernelName:Ag,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,Q(Ri(Me(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E1e={kernelName:PE,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(t,Q(Me(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T1e={kernelName:Ng,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=rt(2);return{a:()=>Q(t,Q(r,Ve(n,i))),b:()=>Q(t,Q(r,Ve(i,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I1e={kernelName:zg,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $1e={kernelName:Og,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,r=mt(n.shape,i.shape);return{a:()=>{let a=t;const l=ai(n.shape,r);return l.length>0&&(a=Ke(a,l)),ne(a,n.shape)},b:()=>{let a=t;const l=ai(i.shape,r);return l.length>0&&(a=Ke(a,l)),ne(xn(a),i.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1e={kernelName:mv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,r=i.shape.slice(),{axis:o}=n;Tt(o,i.shape).forEach(c=>{r[c]=1});const a=ne(t,r),l=Q(a,jr(i.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A1e={kernelName:Dg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ue(t,tn(Tv(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N1e={kernelName:Rg,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Q(Ve(rt(1),tn(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O1e={kernelName:Lg,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{reps:r}=n;return{x:()=>{let s=Rt(i);if(i.rank===1)for(let a=0;a<r[0];++a)s=Se(s,ct(t,[a*i.shape[0]],[i.shape[0]]));else if(i.rank===2)for(let a=0;a<r[0];++a)for(let l=0;l<r[1];++l)s=Se(s,ct(t,[a*i.shape[0],l*i.shape[1]],[i.shape[0],i.shape[1]]));else if(i.rank===3)for(let a=0;a<r[0];++a)for(let l=0;l<r[1];++l)for(let c=0;c<r[2];++c)s=Se(s,ct(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else if(i.rank===4)for(let a=0;a<r[0];++a)for(let l=0;l<r[1];++l)for(let c=0;c<r[2];++c)for(let u=0;u<r[3];++u)s=Se(s,ct(t,[a*i.shape[0],l*i.shape[1],c*i.shape[2],u*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]));else throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(i.rank," tensors yet."));return s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D1e={kernelName:ah,gradFunc:(t,e,n)=>{const i=n,{perm:r}=i,o=vc(r);return{x:()=>Dt(t,o)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R1e={kernelName:vv,gradFunc:(t,e,n)=>{const i=n,{axis:r}=i;return{value:()=>Xr(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L1e={kernelName:wv,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>z1e(t,n)}}};function z1e(t,e){const n=nl(e,Rt(e)),i=Hg(t,n);let r=wc(e,rt(0,"int32"));const o=i.rank-r.rank;for(let a=0;a<o;++a)r=Ii(r,a+1);r=ia(r,jr(i.shape,"bool"));const s=Rt(i);return Xi(r,i,s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F1e={kernelName:kv,gradFunc:t=>({x:()=>Rt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M1e=[kF,Lbe,zbe,Fbe,Mbe,Pbe,Bbe,jbe,Ube,Vbe,Hbe,Wbe,Xbe,Zbe,Jbe,Qbe,exe,txe,nxe,ixe,rxe,oxe,axe,sxe,uxe,dxe,hxe,fxe,pxe,mxe,o1e,gxe,bxe,xxe,yxe,vxe,kxe,wxe,Sxe,Cxe,Exe,Txe,Ixe,$xe,_xe,Axe,Nxe,Oxe,Dxe,zxe,xA,xA,Fxe,Bxe,Vxe,Hxe,Wxe,Gxe,qxe,Xxe,Kxe,Yxe,Zxe,Jxe,Qxe,yA,yA,e1e,t1e,r1e,s1e,a1e,l1e,c1e,u1e,d1e,h1e,f1e,p1e,m1e,g1e,b1e,x1e,y1e,v1e,w1e,k1e,S1e,vA,vA,wA,wA,C1e,T1e,E1e,I1e,$1e,_1e,A1e,N1e,O1e,D1e,R1e,L1e,F1e];for(const t of M1e)Sue(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.abs=function(){return this.throwIfDisposed(),Jn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.acos=function(){return this.throwIfDisposed(),CL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.acosh=function(){return this.throwIfDisposed(),EL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.add=function(t){return this.throwIfDisposed(),Se(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.all=function(t,e){return this.throwIfDisposed(),QE(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.any=function(t,e){return this.throwIfDisposed(),Bx(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.argMax=function(t){return this.throwIfDisposed(),Nh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.argMin=function(t){return this.throwIfDisposed(),TL(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asScalar=function(){return this.throwIfDisposed(),P(this.size===1,()=>"The array must have only 1 element."),ne(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asType=function(t){return this.throwIfDisposed(),Me(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as1D=function(){return this.throwIfDisposed(),ne(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as2D=function(t,e){return this.throwIfDisposed(),ne(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),ne(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as4D=function(t,e,n,i){return this.throwIfDisposed(),ne(this,[t,e,n,i])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.as5D=function(t,e,n,i,r){return this.throwIfDisposed(),ne(this,[t,e,n,i,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asin=function(){return this.throwIfDisposed(),IL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.asinh=function(){return this.throwIfDisposed(),$L(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atan=function(){return this.throwIfDisposed(),_L(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atan2=function(t){return this.throwIfDisposed(),AL(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.atanh=function(){return this.throwIfDisposed(),NL(this)};be().prototype.avgPool=function(t,e,n,i){return this.throwIfDisposed(),Cv(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),Ev(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.batchNorm=function(t,e,n,i,r){return this.throwIfDisposed(),Pg(this,t,e,n,i,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.broadcastTo=function(t){return this.throwIfDisposed(),uh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cast=function(t){return this.throwIfDisposed(),Me(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.ceil=function(){return this.throwIfDisposed(),FL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Er(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Qt&&(t=[t]),Ln([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv1d=function(t,e,n,i,r,o){return this.throwIfDisposed(),tT(this,t,e,n,i,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv2dTranspose=function(t,e,n,i,r){return this.throwIfDisposed(),iT(this,t,e,n,i,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.conv2d=function(t,e,n,i,r,o){return this.throwIfDisposed(),rc(this,t,e,n,i,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cos=function(){return this.throwIfDisposed(),Tv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cosh=function(){return this.throwIfDisposed(),rT(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),jx(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),oT(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),WL(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.depthwiseConv2d=function(t,e,n,i,r,o){return this.throwIfDisposed(),Bg(this,t,e,n,i,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.dilation2d=function(t,e,n,i,r){return this.throwIfDisposed(),GL(this,t,e,n,i,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.divNoNan=function(t){return this.throwIfDisposed(),qL(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.div=function(t){return this.throwIfDisposed(),Ue(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.dot=function(t){return this.throwIfDisposed(),XL(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.elu=function(){return this.throwIfDisposed(),jg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.equal=function(t){return this.throwIfDisposed(),Is(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.erf=function(){return this.throwIfDisposed(),sT(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),ZL(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.exp=function(){return this.throwIfDisposed(),ar(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.expandDims=function(t){return this.throwIfDisposed(),Ii(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.expm1=function(){return this.throwIfDisposed(),JL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.fft=function(){return this.throwIfDisposed(),Bv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.flatten=function(){return this.throwIfDisposed(),ne(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.floor=function(){return this.throwIfDisposed(),Vg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.floorDiv=function(t){return this.throwIfDisposed(),JE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.gather=function(t,e,n){return this.throwIfDisposed(),Hg(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.greaterEqual=function(t){return this.throwIfDisposed(),wc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.greater=function(t){return this.throwIfDisposed(),eo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.ifft=function(){return this.throwIfDisposed(),sm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.irfft=function(){return this.throwIfDisposed(),_T(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isFinite=function(){return this.throwIfDisposed(),QL(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isInf=function(){return this.throwIfDisposed(),ez(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.isNaN=function(){return this.throwIfDisposed(),tz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.leakyRelu=function(t){return this.throwIfDisposed(),$v(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.lessEqual=function(t){return this.throwIfDisposed(),Yu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.less=function(t){return this.throwIfDisposed(),im(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.localResponseNormalization=function(t,e,n,i){return this.throwIfDisposed(),nz(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSigmoid=function(){return this.throwIfDisposed(),iz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSoftmax=function(t){return this.throwIfDisposed(),cT(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),Av(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.log=function(){return this.throwIfDisposed(),xo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.log1p=function(){return this.throwIfDisposed(),_v(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalAnd=function(t){return this.throwIfDisposed(),ia(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalNot=function(){return this.throwIfDisposed(),Nv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalOr=function(t){return this.throwIfDisposed(),uT(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.logicalXor=function(t){return this.throwIfDisposed(),rz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),$t(this,t,e,n)};be().prototype.maxPool=function(t,e,n,i){return this.throwIfDisposed(),Ov(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.max=function(t,e){return this.throwIfDisposed(),Jo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.maximum=function(t){return this.throwIfDisposed(),nl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mean=function(t,e){return this.throwIfDisposed(),Nn(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.min=function(t,e){return this.throwIfDisposed(),nm(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.minimum=function(t){return this.throwIfDisposed(),Au(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),sz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mod=function(t){return this.throwIfDisposed(),az(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.mul=function(t){return this.throwIfDisposed(),Q(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.neg=function(){return this.throwIfDisposed(),xn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.norm=function(t,e,n){return this.throwIfDisposed(),Ug(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.notEqual=function(t){return this.throwIfDisposed(),Dh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),hT(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.onesLike=function(){return this.throwIfDisposed(),yo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.pad=function(t,e){return this.throwIfDisposed(),kc(this,t,e)};be().prototype.pool=function(t,e,n,i,r,o){return this.throwIfDisposed(),lz(this,t,e,n,i,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.pow=function(t){return this.throwIfDisposed(),Ga(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.prelu=function(t){return this.throwIfDisposed(),Lv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.prod=function(t,e){return this.throwIfDisposed(),cz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reciprocal=function(){return this.throwIfDisposed(),dz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.relu=function(){return this.throwIfDisposed(),ua(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.relu6=function(){return this.throwIfDisposed(),wT(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reshapeAs=function(t){return this.throwIfDisposed(),ne(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reshape=function(t){return this.throwIfDisposed(),ne(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),$z(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),_z(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.reverse=function(t){return this.throwIfDisposed(),rs(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.rfft=function(){return this.throwIfDisposed(),jv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.round=function(){return this.throwIfDisposed(),kT(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.rsqrt=function(){return this.throwIfDisposed(),ST(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.selu=function(){return this.throwIfDisposed(),CT(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.separableConv2d=function(t,e,n,i,r,o){return this.throwIfDisposed(),ET(this,t,e,n,i,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sigmoid=function(){return this.throwIfDisposed(),Cs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sign=function(){return this.throwIfDisposed(),hz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sin=function(){return this.throwIfDisposed(),TT(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sinh=function(){return this.throwIfDisposed(),IT(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.slice=function(t,e){return this.throwIfDisposed(),ct(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.softmax=function(t){return this.throwIfDisposed(),Pv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.softplus=function(){return this.throwIfDisposed(),cf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),Rv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.split=function(t,e){return this.throwIfDisposed(),Ur(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sqrt=function(){return this.throwIfDisposed(),Ri(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.square=function(){return this.throwIfDisposed(),tn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.squaredDifference=function(t){return this.throwIfDisposed(),AT(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.squeeze=function(t){return this.throwIfDisposed(),Fn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Qt?[this,t]:[this,...t];return Xr(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.step=function(t){return this.throwIfDisposed(),uf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.stridedSlice=function(t,e,n,i,r,o,s,a){return this.throwIfDisposed(),fz(this,t,e,n,i,r,o,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sub=function(t){return this.throwIfDisposed(),Ve(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.sum=function(t,e){return this.throwIfDisposed(),Ke(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tan=function(){return this.throwIfDisposed(),pz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tanh=function(){return this.throwIfDisposed(),_u(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.tile=function(t){return this.throwIfDisposed(),Xo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toBool=function(){return this.throwIfDisposed(),Me(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toFloat=function(){return this.throwIfDisposed(),Me(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.toInt=function(){return this.throwIfDisposed(),Me(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.topk=function(t,e){return this.throwIfDisposed(),bz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.transpose=function(t){return this.throwIfDisposed(),Dt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unique=function(t){return this.throwIfDisposed(),xz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),DT(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.unstack=function(t){return this.throwIfDisposed(),os(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.where=function(t,e){return this.throwIfDisposed(),Xi(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */be().prototype.zerosLike=function(){return this.throwIfDisposed(),Rt(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class js extends Error{constructor(e){super(e),Object.setPrototypeOf(this,js.prototype)}}class Ko extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ko.prototype)}}class se extends Error{constructor(e){super(e),Object.setPrototypeOf(this,se.prototype)}}class xt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,xt.prototype)}}class mI extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mI.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class CF{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ou(t,e){if(Array.isArray(t)){let n=[];for(let i=0;i<e;i++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Us(t,e){if(!t)throw new mI(e)}function kA(t,e){let n=0;for(const i of t)i===e&&n++;return n}function mr(t){return t.length===1?t[0]:t}function Ht(t){return Array.isArray(t)?t:[t]}function va(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Vc(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Ao={};function gI(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function nS(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>nS(e));else{const e=Object.keys(t);for(const n of e){const i=t[n];i!=null&&typeof i=="object"&&(!Array.isArray(i)&&i.type==="ndarray"&&typeof i.value=="number"?t[n]=i.value:nS(i))}}}function Xg(t,e={},n={},i="object",r=!1){if(typeof t=="string"){const o=t;let s;if(o in n)s=n[o];else if(o in Ao)s=Ao[o];else if(s=e[o],s==null)throw new se("Unknown ".concat(i,": ").concat(t,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return s}else{const o=t;if(o.className==null||o.config==null)throw new se("".concat(i,": Improper config format: ")+"".concat(JSON.stringify(o),".\n")+"'className' and 'config' must set.");const s=o.className;let a,l;if(s in n?[a,l]=n[s]:s in Ao?[a,l]=Ao.className:s in e&&([a,l]=e[s]),a==null)throw new se("Unknown ".concat(i,": ").concat(s,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(i," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(i," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(l!=null){const c={};for(const f of Object.keys(Ao))c[f]=Ao[f];for(const f of Object.keys(n))c[f]=n[f];const u=o.config;u.customObjects=c;const d=Object.assign({},Ao);for(const f of Object.keys(n))Ao[f]=n[f];nS(o.config);const h=l(a,o.config,n,r);return Ao=Object.assign({},d),h}else{const c=Object.assign({},Ao);for(const d of Object.keys(n))Ao[d]=n[d];const u=new a(o.config);return Ao=Object.assign({},c),u}}}function P1e(t,e){return t<e?-1:t>e?1:0}function Z0(t,e){return-1*P1e(t,e)}function Gl(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function B1e(t){if(t==null)throw new se("Invalid value in obj: ".concat(JSON.stringify(t)));for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function ed(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new se("".concat(n," is not a valid ").concat(e,".  Valid values are ").concat(t," or null/undefined."))}function bI(t,e,n=0,i=1/0){return Us(n>=0),Us(i>=n),Array.isArray(t)&&t.length>=n&&t.length<=i&&t.every(r=>typeof r===e)}function bi(t,e){Array.isArray(t)?(P(t.length>0,()=>"".concat(e," is unexpectedly an empty array.")),t.forEach((n,i)=>bi(n,"element ".concat(i+1," of ").concat(e)))):P(Number.isInteger(t)&&t>0,()=>"Expected ".concat(e," to be a positive integer, but got ")+"".concat(EF(t),"."))}function EF(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>EF(e)).join(",")+"]":typeof t=="string"?'"'.concat(t,'"'):"".concat(t)}function j1e(t,e,n){let i=n!=null?n():pr(),r;return(...s)=>{const a=n!=null?n():pr();return a-i<e||(i=a,r=t(...s)),r}}function TF(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let U1e=0;function IF(){return U1e++}const J0={};function Yv(t=""){return t in J0||(J0[t]=0),J0[t]+=1,t+J0[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const V1e=["channelsFirst","channelsLast"],H1e=["nearest","bilinear"],W1e=["valid","same","causal"],G1e=["max","avg"],q1e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const vd=new Map;function Gn(t){ed(V1e,"DataFormat",t)}function X1e(t){ed(H1e,"InterpolationFormat",t)}function So(t){ed(W1e,"PaddingMode",t)}function $F(t){ed(G1e,"PoolMode",t)}const Tp=[],SA="/";function cu(t,e){Tp.push(t);try{const n=e();return Tp.pop(),n}catch(n){throw Tp.pop(),n}}function K1e(){return Tp.length===0?"":Tp.join(SA)+SA}function _F(t){if(!NF(t))throw new Error("Not a valid tensor name: '"+t+"'");return K1e()+t}function AF(t){if(!NF(t))throw new Error("Not a valid tensor name: '"+t+"'");vd.has(t)||vd.set(t,0);const e=vd.get(t);if(vd.set(t,vd.get(t)+1),e>0){const n="".concat(t,"_").concat(e);return vd.set(n,1),n}else return t}const Y1e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function NF(t){return!!t.match(Y1e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Z1e(t){return t===parseInt(t.toString(),10)}function ql(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let i=1;for(let r=e;r<n;++r)i*=t[r];return i}function Lh(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i<e&&(e=i)}return e}function oc(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i>e&&(e=i)}return e}function $s(t,e){if(e<t)throw new se("end (".concat(e,") < begin (").concat(t,") is forbidden."));const n=[];for(let i=t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let M2;function ei(){return M2==null&&(M2=lL().epsilon()),M2}function _s(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qs(t,e){return Me(t,e)}function Kg(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),ne(t,n)}function J1e(t,e){return ce(()=>{if(t.shape.length!==2)throw new se("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));const n=Kg(t,1);return iS(n,[1,e,1])})}function Q1e(t){const e=[ql(t.shape)];return ne(t,e)}function eye(t){if(t.rank<=1)throw new se("batchFlatten requires a minimum rank of 2. Got rank: ".concat(t.rank,"."));const e=[t.shape[0],ql(t.shape,1)];return ne(t,e)}function uu(t,e,n){return ce(()=>{switch(t.rank){case 1:return Fv(t,e,n);case 2:return $T(t,[e,0],[n,t.shape[1]]);case 3:return Mv(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return om(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return ct(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return ct(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new se("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function P2(t,e,n){return ce(()=>{switch(t.rank){case 1:return Fv(t,e,n);case 2:return $T(t,[0,e],[t.shape[0],n]);case 3:return Mv(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return om(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new se("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function Q0(t,e,n,i){return ce(()=>{switch(t.rank){case 1:return Fv(t,e,n);case 2:switch(i){case 1:return uu(t,e,n);case 2:return P2(t,e,n);default:throw new se("The axis is not within the rank of the tensor "+"".concat(i))}case 3:switch(i){case 1:return uu(t,e,n);case 2:return Mv(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return P2(t,e,n);default:throw new se("The axis is not within the rank of the tensor "+"".concat(i))}case 4:switch(i){case 1:return uu(t,e,n);case 2:return om(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return om(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return P2(t,e,n);default:throw new se("The axis is not within the rank of the tensor "+"".concat(i))}default:throw new se("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}})}function xI(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Ln(t,e)}function CA(t,e){switch(t.rank){case 1:return ML([t,e]);case 2:return PL([t,e],0);case 3:return BL([t,e],0);case 4:return jL([t,e],0);default:throw new se("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(t.rank))}}function iS(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new se("The length of input n (".concat(e.length,") does not match ")+"the number of dimensions in input x (".concat(t.rank,")"));return Xo(t,e)}function Zv(t,e=0,n=1,i,r){return vT(t,e,n,i,r)}function ea(t,e,n,i){if(t.rank<2||e.rank<2)throw new xt("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(t.shape," and y shape = ").concat(e.shape));if(e.rank>=3){const r=t.shape.slice(-1)[0],o=e.shape.slice(-2)[0];if(r!==o)throw new xt("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(t.shape," and ")+" y shape = ".concat(e.shape))}if(t.rank===2&&e.rank===2)return J3({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?rS(t.rank,i,_s()):null,activation:n});{const r=t.shape.slice(),o=r.pop();t=ne(t,[-1,o]);const s=e.shape.slice(),a=s.pop(),l=s.pop(),c=[...s,a],u=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=ne(Dt(e,u),[l,-1]);const d=[...r,...c];return ne(J3({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?rS(t.rank,i,_s()):null,activation:n}),d)}}function OF(t,e,n){return ce(()=>(Array.isArray(e)?e=Kn(e,"int32"):e=Me(e,"int32"),Hg(t,e,n)))}function Yg(t){return Q(t,t)}function rS(t,e,n){const i=e.shape;if(e.rank!==1&&e.rank!==t)throw new se("Unexpected bias dimensions: ".concat(e.rank)+"; expected it to be 1 or ".concat(t));if(t===5){if(n==="channelsFirst")return i.length===1?ne(e,[1,i[0],1,1,1]):ne(e,[1,i[3],i[0],i[1],i[2]]);if(n==="channelsLast")return i.length===1?ne(e,[1,1,1,1,i[0]]):ne(e,[1].concat(i))}else if(t===4){if(n==="channelsFirst")return i.length===1?ne(e,[1,i[0],1,1]):ne(e,[1,i[2],i[0],i[1]]);if(n==="channelsLast")return i.length===1?ne(e,[1,1,1,i[0]]):ne(e,[1].concat(i))}else if(t===3){if(n==="channelsFirst")return i.length===1?ne(e,[1,i[0],1]):ne(e,[1,i[1],i[0]]);if(n==="channelsLast")return i.length===1?ne(e,[1,1,i[0]]):ne(e,[1].concat(i))}else if(t<3)return e;throw new se("Unsupported input rank by biasAdd: ".concat(e.rank))}function Fs(t,e,n){return ce(()=>(n==null&&(n=_s()),Gn(n),Se(t,rS(t.rank,e,n))))}function tye(t,e=1){if(e!==1)throw new xt("Support for alpha values other than 1 (".concat(e,") is not implemented ")+"yet.");return jg(t)}function nye(t){return ce(()=>Ue(t,Se(Jn(t),1)))}function DF(t,e,n,i){return ce(()=>wz(t,e,n,i))}function iye(t){return ce(()=>{const e=Se(.5,Q(.2,t));return Er(e,0,1)})}function Zg(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const rye=["fanIn","fanOut","fanAvg"],oye=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sye(t){ed(rye,"FanMode",t)}function aye(t){ed(oye,"Distribution",t)}class cs extends hf{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class RF extends cs{apply(e,n){return Qn(e,n)}}RF.className="Zeros";Te(RF);class yI extends cs{apply(e,n){return jr(e,n)}}yI.className="Ones";Te(yI);class LF extends cs{constructor(e){if(super(),typeof e!="object")throw new se("Expected argument of type ConstantConfig but got ".concat(e));if(e.value===void 0)throw new se("config must have value set but got ".concat(e));this.value=e.value}apply(e,n){return ce(()=>Q(rt(this.value),jr(e,n)))}getConfig(){return{value:this.value}}}LF.className="Constant";Te(LF);class zF extends cs{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Ju(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}zF.className="RandomUniform";Te(zF);class FF extends cs{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xt("randomNormal does not support dType ".concat(n,"."));return Zv(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}FF.className="RandomNormal";Te(FF);class MF extends cs{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xt("truncatedNormal does not support dType ".concat(n,"."));return OT(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}MF.className="TruncatedNormal";Te(MF);class PF extends cs{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return ce(()=>{if(e.length!==2||e[0]!==e[1])throw new se("Identity matrix initializer can only be used for 2D square matrices.");return Q(this.gain,lT(e[0]))})}getConfig(){return{gain:this.gain}}}PF.className="Identity";Te(PF);function lye(t,e="channelsLast"){let n,i;if(Gn(e),t.length===2)n=t[0],i=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const r=ql(t,2);n=t[1]*r,i=t[0]*r}else if(e==="channelsLast"){const r=ql(t,0,t.length-2);n=t[t.length-2]*r,i=t[t.length-1]*r}}else{const r=ql(t);n=Math.sqrt(r),i=Math.sqrt(r)}return[n,i]}class Kr extends cs{constructor(e){if(super(),e.scale<0)throw new se("scale must be a positive float. Got: ".concat(e.scale));this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,sye(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,aye(this.distribution),this.seed=e.seed}apply(e,n){const i=lye(e),r=i[0],o=i[1];let s=this.scale;if(this.mode==="fanIn"?s/=Math.max(1,r):this.mode==="fanOut"?s/=Math.max(1,o):s/=Math.max(1,(r+o)/2),this.distribution==="normal"){const a=Math.sqrt(s);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new xt("".concat(this.getClassName()," does not support dType ").concat(n,"."));return OT(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*s);return Ju(e,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Kr.className="VarianceScaling";Te(Kr);class vI extends Kr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}vI.className="GlorotUniform";Te(vI);class wI extends Kr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}wI.className="GlorotNormal";Te(wI);class kI extends Kr{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}kI.className="HeNormal";Te(kI);class SI extends Kr{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}SI.className="HeUniform";Te(SI);class CI extends Kr{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}CI.className="LeCunNormal";Te(CI);class EI extends Kr{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Kr.className}}EI.className="LeCunUniform";Te(EI);class BF extends cs{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return ce(()=>{if(e.length<2)throw new xt("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError("Unsupported data type ".concat(n,"."));n=n;const i=ge(e.slice(0,-1)),r=e[e.length-1],o=i*r;o>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(o,") elements: ")+"Slowness may result.");const s=[Math.max(r,i),Math.min(r,i)],a=Zv(s,0,1,n,this.seed),l=Az.qr(a,!1);let c=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(r,i)*Math.min(r,i)],[Math.min(r,i)+1]);return c=Q(c,d.sign()),i<r&&(c=c.transpose()),Q(rt(this.gain),c.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}BF.className="Orthogonal";Te(BF);const EA={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function TA(t,e={}){return Xg(t,jo.getMap().classNameMap,e,"initializer")}function $n(t){return gI(t)}function wn(t){if(typeof t=="string"){const e=t in EA?EA[t]:t;if(e==="GlorotNormal")return new wI;if(e==="GlorotUniform")return new vI;if(e==="HeNormal")return new kI;if(e==="HeUniform")return new SI;if(e==="LeCunNormal")return new CI;if(e==="LeCunUniform")return new EI;{const n={};return n.className=e,n.config={},TA(n)}}else return t instanceof cs?t:TA(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oS(t){return Array.isArray(t)&&Array.isArray(t[0])}function Ux(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function ut(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new se("Expected Tensor length to be 1; got ".concat(t.length));e=t[0]}else e=t;return e}function Mt(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new se("Expected exactly 1 Shape; got ".concat(t.length))}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Vx(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((i,r)=>i*r);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const IA="Variable";class cye{constructor(e,n="float32",i=IA,r=!0,o=null){this.dtype=n==null?"float32":n,this.shape=e.shape,this.id=IF(),i=i==null?IA:i,this.originalName=_F(i),this.name=AF(this.originalName),this.trainable_=r,this.constraint=o,this.val=yz(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),uye(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function uye(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function sS(t){return t.map(e=>e.read())}function TI(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ti{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class ra{constructor(e,n,i,r,o,s,a){this.dtype=e,this.shape=n,this.sourceLayer=i,this.inputs=r,this.callArgs=o,this.outputTensorIndex=a,this.id=IF(),s!=null&&(this.originalName=_F(s),this.name=AF(this.originalName)),this.rank=n.length}}let dye=0,Jv=class{constructor(e,n){this.callArgs=n,this.id=dye++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const i of e.inboundLayers)i!=null&&i.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},hye=0;class It extends hf{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=hye++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const i=this.getClassName();n=va(i)+"_"+Yv(i)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let i;if(e.batchInputShape!=null)i=e.batchInputShape;else if(e.inputShape!=null){let o=null;e.batchSize!=null&&(o=e.batchSize),i=[o].concat(e.inputShape)}this.batchInputShape=i;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Ko("The layer has never been called "+"and thus has no defined ".concat(n,"."));if(this.inboundNodes.length<=e)throw new se("Asked to get ".concat(n," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return mr(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return mr(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new js("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(this.inboundNodes.length===0)throw new js("Layer ".concat(this.name)+" is not connected, no input to return.");return mr(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new js("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new js("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return mr(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=Ht(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const i=Ht(this.inputSpec);if(n.length!==i.length)throw new se("Layer ".concat(this.name," expects ").concat(i.length," inputs, ")+"but it received ".concat(n.length," input tensors. ")+"Input received: ".concat(e));for(let r=0;r<n.length;r++){const o=n[r],s=i[r];if(s==null)continue;const a=o.rank;if(s.ndim!=null&&a!==s.ndim)throw new se("Input ".concat(r," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(s.ndim,", found ndim=").concat(a));if(s.maxNDim!=null&&a>s.maxNDim)throw new se("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(s.maxNDim,", found ndim=").concat(a));if(s.minNDim!=null&&a<s.minNDim)throw new se("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(s.minNDim,", found ndim=").concat(a,"."));if(s.dtype!=null&&o.dtype!==s.dtype)throw new se("Input ".concat(r," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(s.dtype,", found dtype=").concat(o.dtype,"."));if(s.axes){const l=o.shape;for(const c in s.axes){const u=Number(c),d=s.axes[c],h=u>=0?l[u]:l[l.length+u];if(d!=null&&[d,null].indexOf(h)===-1)throw new se("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(d," but got shape ").concat(l,"."))}}if(s.shape!=null)for(let l=0;l<s.shape.length;++l){const c=s.shape[l],u=o.shape[l];if(c!=null&&u!=null&&c!==u)throw new se("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(s.shape,", ")+"found shape=".concat(o.shape,"."))}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const i=Ht(e),r=mye(e),o=gye(e);if(r===o)throw new se("Arguments to apply() must be all SymbolicTensors or all Tensors");return cu(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const s=[];for(const a of Ht(e))s.push(a.shape);this.build(mr(s)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let s=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,s);const a=Ht(s),l=[];for(let c of a)i.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(s=mr(l),this.activityRegularizer!=null)throw new xt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}else{const s=fye(e),a=this.computeOutputShape(s);let l;const c=pye(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?s[0]:s),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((u,d)=>new ra(c,u,this,Ht(e),n,this.name,d)):l=new ra(c,a,this,Ht(e),n,this.name),this.addInboundNode(e,l,null,null,s,a,n),this._refCount++,this.activityRegularizer!=null)throw new xt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let n=!1;this.batchInputShape.forEach((i,r)=>{i!=null&&e[r]!=null&&e[r]!==i&&(n=!0)}),n&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new js("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const n of this.inboundNodes){const i=JSON.stringify(n.outputShapes);e.indexOf(i)===-1&&e.push(i)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new js("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new Ko("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Vx(this.weights)}build(e){this.built=!0}getWeights(e=!1){return sS(e?this.trainableWeights:this.weights)}setWeights(e){ce(()=>{const n=this.weights;if(n.length!==e.length)throw new se('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(n.length===0)return;const i=[],r=sS(n);for(let o=0;o<r.length;++o){const s=r[o],a=n[o],l=e[o];if(!Nt(s.shape,l.shape))throw new se("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(l.shape));i.push([a,l])}TI(i)})}addWeight(e,n,i,r,o,s,a,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new se("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),i==null&&(i="float32"),this.fastWeightInitDuringBuild&&(r=l!=null?l():wn("zeros"));const c=r.apply(n,i),u=new cye(c,i,e,s,a);return c.dispose(),o!=null&&this.addLoss(()=>o.apply(u.read())),s==null&&(s=!0),s?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Ht(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(i=>{if(i!=null)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")});else throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");return null}return n}setMaskMetadata(e,n,i){if(!this.supportsMasking)return;const r=this.computeMask(e,i),o=Ht(n),s=Ht(r);if(o.length!==s.length)throw new Error("".concat(this.name," outputs ").concat(o.length," tensors ")+"but ".concat(o.length," masks for those tensors"));for(let a=0;a<o.length;a++)o[a].kerasMask=s[a]}addInboundNode(e,n,i,r,o,s,a=null){const l=Ht(e);n=Ht(n),i=Ht(i),r=Ht(r),o=Ux(o),s=Ux(s);const c=[],u=[],d=[];for(const h of l)c.push(h.sourceLayer),u.push(h.nodeIndex),d.push(h.tensorIndex);new Jv({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:i,outputMasks:r,inputShapes:o,outputShapes:s},a);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(this._refCount===null)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function fye(t){t=Ht(t);const e=[];for(const n of t)e.push(n.shape);return mr(e)}function pye(t){return"float32"}function jF(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const i=e.inboundNodes[n];if(i.inboundLayers.length===0)return i.inputTensors;{const r=[];for(let o=0;o<i.inboundLayers.length;o++){const s=i.inputTensors[o],a=i.inboundLayers[o],l=i.nodeIndices[o],c=jF(s,a,l);for(const u of c)r.indexOf(u)===-1&&r.push(u)}return r}}}function mye(t){let e=!0;for(const n of Ht(t))if(!(n instanceof ra)){e=!1;break}return e}function gye(t){let e=!0;for(const n of Ht(t))if(n instanceof ra){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Jg extends It{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:Yv("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new se("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new se("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new se("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const i=e.dtype||"float32";this.batchInputShape=n,this.dtype=i,this.inputSpec=[{shape:n}];const r=new ra(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new Jv({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new se("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Jg.className="InputLayer";Te(Jg);function bye(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new se("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new Jg({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xye(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return Me(e,t.dtype)}catch(n){throw new se("The dtype of the feed (".concat(e.dtype,") can not be cast to the dtype ")+"of the key '".concat(t.name,"' (").concat(t.dtype,")."))}}class Dl{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Dl)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,i){if(this.id2Value[e.id]==null)this.id2Value[e.id]=xye(e,n),this.name2Id[e.name]=e.id,i!=null&&(this.id2Mask[e.id]=i);else throw new se("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof ra){if(this.id2Value[e.id]==null)throw new se("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new se("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[n]}}getMask(e){if(e instanceof ra){if(this.id2Value[e.id]==null)throw new se("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new se("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&pt(this.id2Mask)}}const Hx=new CF,Wx=new CF;function yye(t){Hx!=null&&Hx.setMaxEntries(t),Wx!=null&&Wx.setMaxEntries(t)}function np(t,e,n,i){const r=n==null?!1:n.training,o=Array.isArray(t),s=o?t:[t],a=s.map(p=>p.name),l=[],c=e.names();for(const p of a)c.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);const u=a.join(",")+"|"+e.names().sort().join(",");let d=Hx.get(u),h;if(d==null){const p=vye(s,e);d=p.sorted,h=p.recipientCounts,Hx.put(u,d),Wx.put(u,h)}h={},r||Object.assign(h,Wx.get(u));const f=new Dl(e);for(let p=0;p<d.length;++p){const m=d[p],b=m.sourceLayer;if(b instanceof Jg)continue;const g=[],x=[],y=[];let v=!1;for(const T of m.inputs){const _=f.getValue(T),M=f.getMask(T);g.push(_),x.push(M),M!=null&&(v=!0),r||(h[T.name]--,h[T.name]===0&&!e.hasKey(T)&&a.indexOf(T.name)===-1&&!_.isDisposed&&T.sourceLayer.stateful!==!0&&y.push(_))}v&&(n=n||{},n.mask=x[0]);const w=Ht(b.apply(g,n));let E=null;b.supportsMasking&&(E=b.computeMask(g,x));const C=kye(m),I=Array.isArray(C)?C:[C];for(let T=0;T<I.length;++T){f.hasKey(I[T])||f.add(I[T],w[T],Array.isArray(E)?E[0]:E);const _=a.indexOf(I[T].name);_!==-1&&(l[_]=w[T])}r||pt(y)}return f.disposeMasks(),o?l:l[0]}function vye(t,e){P(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],i={};if(t.length===1){const r=$A(t[0],e);n=r.sorted,i=r.recipientMap}else{const r=new Set;for(const o of t){const{sorted:s,recipientMap:a}=$A(o,e);for(const l of s)r.has(l.name)||(n.push(l),r.add(l.name));for(const l in a)i[l]==null&&(i[l]=new Set),a[l].forEach(c=>i[l].add(c))}}return{sorted:n,recipientCounts:wye(i)}}function wye(t){const e={};for(const n in t)e[n]=t[n].size;return e}function $A(t,e){const n=new Set,i=[],r={};for(const a of e.names())n.add(a);const o=[],s=[];for(o.push(t);o.length>0;){const a=o[o.length-1];if(n.has(a.name)){o.pop();continue}const l=s[s.length-1]===o.length-1;if(a.inputs.length===0||l)o.pop(),i.push(a),n.add(a.name),l&&s.pop();else{s.push(o.length-1);for(const c of a.inputs)r[c.name]==null&&(r[c.name]=new Set),r[c.name].add(a.name),!n.has(c.name)&&o.push(c)}}return{sorted:i,recipientMap:r}}function kye(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let i=0;i<t.sourceLayer.inboundNodes.length;++i)for(const r of t.sourceLayer.inboundNodes[i].outputTensors)if(r.id===t.id){n=i;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sye=fe();Sye.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,yye);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function II(t,e){return ce(()=>Ri(Ke(Q(t,t),e,!0)))}class Qg extends hf{getConfig(){return{}}}class UF extends Qg{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>{const n=II(e,this.axis),i=Er(n,0,this.maxValue);return Q(e,Ue(i,Se(ei(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}UF.className="MaxNorm";Te(UF);class VF extends Qg{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>Ue(e,Se(ei(),II(e,this.axis))))}getConfig(){return{axis:this.axis}}}VF.className="UnitNorm";Te(VF);class HF extends Qg{apply(e){return ua(e)}}HF.className="NonNeg";Te(HF);class WF extends Qg{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ce(()=>{const n=II(e,this.axis),i=Se(Q(this.rate,Er(n,this.minValue,this.maxValue)),Q(1-this.rate,n));return Q(e,Ue(i,Se(ei(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}WF.className="MinMaxNorm";Te(WF);const _A={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function oi(t){return gI(t)}function AA(t,e={}){return Xg(t,jo.getMap().classNameMap,e,"constraint")}function si(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in _A?_A[t]:t,config:{}};return AA(n)}else return t instanceof Qg?t:AA(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Rc(t){if(t==null)return;const e=[],n=[],i=[];for(const r in t){const o=t[r];if(typeof o!="number"){const s=o;e.push(s.data()),n.push(r),i.push(s)}}if(e.length>0){const r=await Promise.all(e);for(let o=0;o<r.length;++o)t[n[o]]=r[o][0];pt(i)}}function GF(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var NA;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(NA||(NA={}));const Cye=125;class am{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class Eye{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class Tye extends am{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const i=n.size==null?0:n.size;this.seen+=i;for(const r in n){const o=n[r];if(typeof o=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+o*i;else{let s;r in this.totals?s=this.totals[r]:this.totals[r]=0;const a=ce(()=>Se(this.totals[r],Q(o,i)));this.totals[r]=a,s!=null&&s.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const i of this.params.metrics)this.totals[i]!=null&&(typeof this.totals[i]=="number"?n[i]=this.totals[i]/this.seen:ce(()=>{const r=Q(Ue(1,this.seen),this.totals[i]);n[i]=r,this.totals[i].dispose(),gi(n[i])}))}}class Iye extends am{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const i in n)this.history[i]==null&&(this.history[i]=[]),this.history[i].push(n[i])}async syncData(){const e=[],n=[],i=[];for(const o in this.history){const s=this.history[o];for(let a=0;a<s.length;++a)if(typeof s[a]!="number"){const l=s[a];e.push(l.data()),n.push(o),i.push(a)}}const r=await Promise.all(e);for(let o=0;o<r.length;++o)this.history[n[o]][i[o]].dispose(),this.history[n[o]][i[o]]=r[o][0]}}class $ye extends am{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Zz,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Cye),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");N3(this.yieldEvery)&&(this.maybeWait=j1e(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,i){const r=[];this.yield!=null&&(await Rc(i),r.push(this.yield(e,n,i))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Rc(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const i=[];this.epochEnd!=null&&(await Rc(n),i.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&i.push(this.nextFrameFunc()),await Promise.all(i)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Rc(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const i=[];this.batchEnd!=null&&(await Rc(n),i.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?i.push(this.nextFrameFunc()):N3(this.yieldEvery)&&i.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(i)}async onTrainBegin(e){this.trainBegin!=null&&(await Rc(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Rc(e),await this.trainEnd(e))}}function qF(t,e){return t==null&&(t={}),t instanceof am?[t]:Array.isArray(t)&&t[0]instanceof am?t:Ht(t).map(i=>new $ye(i,e))}class Do{constructor(){}static registerCallbackConstructor(e,n){P(e>=0&&Number.isInteger(e),()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e)),Do.checkForDuplicate(n),Do.constructors[e]==null&&(Do.constructors[e]=[]),Do.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Do.constructors)Do.constructors[+n].forEach(r=>{if(r===e)throw new se("Duplicate callback constructor.")})}static clear(){Do.constructors={}}static createCallbacks(e){const n=[];for(const i in Do.constructors){const r=+i;e>=r&&n.push(...Do.constructors[r])}return n.map(i=>new i)}}Do.constructors={};function XF(t,e,n,i,r,o,s,a,l){const c=new Iye,u=[new Tye,...Do.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const d=new Eye(u);return d.setParams({epochs:n,initialEpoch:i,samples:r,steps:o,batchSize:s,verbose:e,doValidation:a,metrics:l}),{callbackList:d,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ba(t,e={},n=!1){return Xg(t,jo.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Gx(t,e){return ce(()=>{t.dtype!=="float32"&&(t=Me(t,"float32"));const n=Ke(Yg(t),e,!0),i=lf(n.shape,ei()),r=Ri(nl(n,i));return Ue(t,r)})}function Qv(t,e){return ce(()=>Nn(Yg(Ve(e,t)),-1))}function $I(t,e){return ce(()=>Nn(Jn(Ve(e,t)),-1))}function _I(t,e){return ce(()=>{const n=Ve(t,e),i=Er(Jn(t),ei(),Number.MAX_VALUE),r=Jn(Ue(n,i));return Q(100,Nn(r,-1))})}function _ye(t,e){return ce(()=>{const n=Er(e,ei(),Number.MAX_VALUE),i=xo(Se(1,n)),r=Er(t,ei(),Number.MAX_VALUE),o=xo(Se(1,r));return Nn(Yg(Ve(i,o)),-1)})}function Aye(t,e){return ce(()=>{const n=nl(0,Ve(1,Q(t,e)));return Nn(Yg(n),-1)})}function Nye(t,e){return ce(()=>{const n=nl(0,Ve(1,Q(t,e)));return Nn(n,-1)})}function Oye(t,e){return ce(()=>{const n=Ke(Q(t,e),-1),i=Jo(Q(Ve(1,t),e),-1);return nl(0,Se(1,Ve(i,n)))})}function Dye(t,e){return ce(()=>{const n=Math.log(2),i=Ve(e,t),r=Ve(Se(i,cf(Q(-2,i))),n);return Nn(r,-1)})}function lm(t,e,n=!1){return ce(()=>{if(n)e=Pv(e);else{const i=Ke(e,e.shape.length-1,!0);e=Ue(e,i)}return e=Er(e,ei(),1-ei()),xn(Ke(Q(Me(t,"float32"),xo(e)),e.shape.length-1))})}function qx(t,e,n=!1){return ce(()=>{const i=Me(Vg(Q1e(t)),"int32");e=Er(e,ei(),1-ei());const r=e.shape,o=ne(hT(i,r[r.length-1]),r);return lm(o,e,n)})}function Rye(t,e){if(!Nt(t.shape,e.shape))throw new se("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(t.shape)," and ").concat(JSON.stringify(e.shape)));return ce(()=>{const n=ua(e),i=xn(Jn(e));return Se(Ve(n,Q(e,t)),_v(ar(i)))})}function ew(t,e){return ce(()=>{let n;return n=Er(e,ei(),1-ei()),n=xo(Ue(n,Ve(1,n))),Nn(Rye(t,n),-1)})}function Lye(t,e){return ce(()=>{const n=Er(t,ei(),1),i=Er(e,ei(),1);return Ke(Q(t,xo(Ue(n,i))),-1)})}function zye(t,e){return ce(()=>{const n=xo(Se(ei(),e));return Nn(Ve(e,Q(t,n)),-1)})}function KF(t,e){return ce(()=>{const n=Gx(t,-1),i=Gx(e,-1),r=Q(n,i);return xn(Ke(r,-1))})}const Xx={meanSquaredError:Qv,meanAbsoluteError:$I,meanAbsolutePercentageError:_I,meanSquaredLogarithmicError:_ye,squaredHinge:Aye,hinge:Nye,categoricalHinge:Oye,logcosh:Dye,categoricalCrossentropy:lm,sparseCategoricalCrossentropy:qx,binaryCrossentropy:ew,kullbackLeiblerDivergence:Lye,poisson:zye,cosineProximity:KF};function B2(t){if(typeof t=="string"){if(t in Xx)return Xx[t];let e="Unknown loss ".concat(t);throw t.toLowerCase().includes("softmaxcrossentropy")&&(e="Unknown loss ".concat(t,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new se(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function YF(t,e){return ce(()=>{const n=Q(.5,yo(e)),i=Qs(eo(e,n),t.dtype);return Nn(Is(t,i),-1)})}function ZF(t,e){return ce(()=>Qs(Is(Nh(t,-1),Nh(e,-1)),"float32"))}function Fye(t,e){return ce(()=>Me(Ke(ia(Is(t,1),Is(e,1))),"float32"))}function Mye(t,e){return ce(()=>Me(Ke(ia(Is(t,0),Is(e,1))),"float32"))}function Pye(t,e){return ce(()=>{const n=Fye(t,e),i=Mye(t,e),r=Se(n,i);return Me(Xi(eo(r,0),Ue(n,r),0),"float32")})}function Bye(t,e){return ew(t,e)}function jye(t,e){return t.rank===e.rank&&(t=Fn(t,[t.rank-1])),e=Nh(e,-1),e.dtype!==t.dtype&&(e=Me(e,t.dtype)),Me(Is(t,e),"float32")}const Uye=Qv,Vye=Qv,Hye=$I,Wye=$I,Gye=_I,qye=_I,JF=lm,Xye=KF,QF=qx,Kx={binaryAccuracy:YF,categoricalAccuracy:ZF,precision:Pye,categoricalCrossentropy:JF,sparseCategoricalCrossentropy:QF,mse:Uye,MSE:Vye,mae:Hye,MAE:Wye,mape:Gye,MAPE:qye,cosine:Xye};function Kye(t){if(typeof t=="string"&&t in Kx)return Kx[t];if(typeof t!="string"&&t!=null)return t;throw new se("Unknown metric ".concat(t))}function eb(t){if(Us(t!==null,"Unknown LossOrMetricFn ".concat(t)),typeof t=="string")return t;{let e;for(const n of Object.keys(Xx))if(Xx[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(Kx))if(Kx[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Yye(t){const e={Adagrad:()=>yd.adagrad(.01),Adadelta:()=>yd.adadelta(1,.95,ei()),Adam:()=>yd.adam(.001,.9,.999,ei()),Adamax:()=>yd.adamax(.002,.9,.999,ei(),0),RMSProp:()=>yd.rmsprop(.001,.9,0,ei()),SGD:()=>yd.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new se("Unknown Optimizer ".concat(t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const OA=1*1024*1024;function DA(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!aS(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const i=JSON.stringify(t);i.length>OA&&console.warn('User-defined metadata of model "'.concat(e,'" is too large in ')+"size (length=".concat(i.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(OA,"."))}}function aS(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!aS(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!aS(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Zye(t,e,n,i=console.log){const r=Qye(t),o=["Layer (type)","Input Shape","Output shape","Param #"];r?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let s;if(!r){o.push("Receives inputs"),s=[];for(const u in t.nodesByDepth)s.push(...t.nodesByDepth[u])}i("_".repeat(e)),Yx(o,n,i),i("=".repeat(e));const a=t.layers;for(let u=0;u<a.length;++u)r?eve(a[u],n,i):tve(a[u],n,s,i),i((u===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=Jye(t),c=Vx(t.nonTrainableWeights);i("Total params: ".concat(l+c)),i("Trainable params: ".concat(l)),i("Non-trainable params: ".concat(c)),i("_".repeat(e))}function Jye(t){let e;return t.collectedTrainableWeights!=null?e=Vx(t.collectedTrainableWeights):e=Vx(t.trainableWeights),e}function Qye(t){let e=!0;const n=[],i=[];for(const r in t.nodesByDepth)n.push(t.nodesByDepth[r]);for(const r of n){if(r.length>1||r.length===1&&r[0].inboundLayers.length>1){e=!1;break}i.push(...r)}if(e)for(const r of t.layers){let o=!1;for(const s of r.inboundNodes)if(i.indexOf(s)!==-1)if(o){e=!1;break}else o=!0;if(!e)break}return e}function Yx(t,e,n=console.log){let i="";for(let r=0;r<t.length;++r)r>0&&(i=i.slice(0,i.length-1)+" "),i+=t[r],i=i.slice(0,e[r]),i+=" ".repeat(e[r]-i.length);n(i)}function eve(t,e,n){let i,r;try{r=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch(l){r="multiple"}try{i=JSON.stringify(t.outputShape)}catch(l){i="multiple"}const o=t.name,s=t.getClassName(),a=["".concat(o," (").concat(s,")"),r,i,t.countParams().toString()];Yx(a,e,n)}function tve(t,e,n,i){let r,o;try{o=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch(d){o="multiple"}try{r=JSON.stringify(t.outputShape)}catch(d){r="multiple"}const s=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const f=d.inboundLayers[h].name,p=d.nodeIndices[h],m=d.tensorIndices[h];s.push("".concat(f,"[").concat(p,"][").concat(m,"]"))}const a=t.name,l=t.getClassName(),c=s.length===0?"":s[0],u=["".concat(a," (").concat(l,")"),o,r,t.countParams().toString(),c];Yx(u,e,i);for(let d=1;d<s.length;++d)Yx(["","","","",s[d]],e,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function eM(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function lS(t,e){if(t===null)return null;if(typeof t=="string")return Vc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let r=0;r<i;++r){const o=t[r];eM(e,r,o)?n.push(o):n.push(lS(o,e))}return n}else{const n={};for(const i of Object.keys(t)){const r=t[i];if(i==="name"&&typeof r=="string")n[i]=r;else{const o=Vc(i);n[o]=lS(r,o)}}return n}}function cS(t,e){if(t==null)return null;if(typeof t=="string")return va(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let r=0;r<i;++r){const o=t[r];eM(e,r,o)?n.push(o):n.push(cS(o,e))}return n}else{const n={};for(const i of Object.keys(t)){const r=t[i],o=va(i);(i==="name"||i==="className")&&typeof r=="string"?n[o]=r:n[o]=cS(r,i)}return n}}/** @license See the LICENSE file. */const tM="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const nve=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class fs extends It{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const x=this.getClassName().toLowerCase();this.name=Yv(x)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Gl(this.inputs).length!==this.inputs.length)throw new se("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map(x=>x.name)));Gl(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map(x=>x.name))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const x of this.outputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;this.outputLayers.push(y),this.outputLayersNodeIndices.push(v),this.outputLayersTensorIndices.push(w)}for(const x of this.inputs){const y=x.sourceLayer,v=x.nodeIndex,w=x.tensorIndex;Us(v===0,"input layer has >1 nodes"),Us(w===0,"input layer has >1 tensors"),this.inputLayers.push(y),this.inputLayersNodeIndices.push(v),this.inputLayersTensorIndices.push(w)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let x=0;x<this.inputLayers.length;x++){const y=this.inputLayers[x];if(!(y instanceof Jg))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(x," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));this.inputNames.push(y.name),this.feedInputShapes.push(y.batchInputShape),this.feedInputNames.push(y.name)}for(const x of this.outputLayers)this.outputNames.push(x.name);this.internalInputShapes=this.inputs.map(x=>x.shape),this.internalOutputShapes=this.outputs.map(x=>x.shape);const n={},i={},r={},o={},s={},a=[],l=(x,y,v,w,E,C)=>{(w==null||E==null||C==null)&&(w=x.sourceLayer,E=x.nodeIndex,C=x.tensorIndex);const I=w.inboundNodes[E];if(v.indexOf(I)!==-1)throw new Ko("The tensor ".concat(x.name,' at layer "').concat(w.name,'" ')+"is part of a cycle.");if(y.indexOf(I)!==-1)return;this.containerNodes.add(fs.nodeKey(w,E)),w.id in s||(s[w.id]=Object.keys(s).length),v.indexOf(I)===-1&&v.push(I);const T=I.inboundLayers.length;for(let _=0;_<T;_++){const M=I.inputTensors[_],D=I.inboundLayers[_],z=I.nodeIndices[_],$=I.tensorIndices[_];l(M,y,v,D,z,$)}for(y.push(I);v.indexOf(I)>=0;)v.splice(v.indexOf(I),1);a.push(I)},c=[],u=[];for(const x of this.outputs)l(x,c,u);const d=a.slice().reverse();for(const x of d){i[x.id]=x,x.id in n||(n[x.id]=0);let y=n[x.id];const v=r[x.outboundLayer.id]==null?0:r[x.outboundLayer.id];y=Math.max(y,v),r[x.outboundLayer.id]=y,o[x.outboundLayer.id]=x.outboundLayer,n[x.id]=y;for(let w=0;w<x.inboundLayers.length;w++){const E=x.inboundLayers[w],C=x.nodeIndices[w],I=E.inboundNodes[C],T=n[I.id]==null?0:n[I.id];n[I.id]=Math.max(y+1,T),i[I.id]=I}}const h={};for(const x in n){const y=n[x];y in h||(h[y]=[]),h[y].push(i[x])}const f={};for(const x in r){const y=r[x];y in f||(f[y]=[]),f[y].push(o[x])}let p=Object.keys(f).map(x=>parseInt(x,10)).sort(Z0);this.layers=[];for(const x of p){const y=f[x];y.sort((v,w)=>{const E=s[v.id],C=s[w.id];return E<C?-1:E>C?1:0});for(const v of y)v instanceof fs&&this.internalContainerRefs.push(v),this.layers.push(v)}this.layersByDepth=f,p=Object.keys(h).map(x=>parseInt(x,10)).sort(Z0);const m=this.inputs.slice(),b=[];for(const x of p)for(const y of h[x]){const v=y.outboundLayer;if(v!=null){for(const w of y.inputTensors)if(m.indexOf(w)===-1)throw new Ko("Graph disconnected: cannot obtain value for tensor ".concat(w)+' at layer "'.concat(v.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(b));for(const w of y.outputTensors)m.push(w);b.push(v.name)}}this.nodesByDepth=h;const g=this.layers.map(x=>x.name);for(const x of g){const y=g.filter(v=>v===x).length;if(y!==1)throw new Ko('The name "'.concat(x,'" is used ').concat(y," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Jv({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(x=>null),outputMasks:this.outputs.map(x=>null),inputShapes:this.inputs.map(x=>x.shape),outputShapes:this.outputs.map(x=>x.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(i=>i.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new se("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.layers)n.push(...i.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const i={};let r=0;const o=nve(e);o&&this.parseWeights(e);for(const a of this.layers)for(const[l,c]of a.weights.entries()){const u=o?"".concat(c.name.split("/").slice(0,-1).join("/")+"/").concat(l):c.originalName;if(i[u]!=null)throw new se("Duplicate weight name: ".concat(u));i[u]=c,r++}const s=[];for(const a in e){let l=a;if(i[a]==null){const c=a.split("/");l=c.slice(0,-2).concat([c[c.length-1]]).join("/")}if(i[l]!=null)s.push([i[l],e[a]]);else if(n)throw new se("Provided weight data has no target variable: ".concat(a));delete i[l]}if(n){const a=[];for(const l in i)a.push(l);if(a.length>0)throw new se("".concat(a.length," of ").concat(r," weights are not set: ")+"".concat(a))}TI(s)}parseWeights(e){for(const n in Object.keys(e)){const i=n.split("/"),r=["vars","layer_checkpoint_dependencies"],o=i.map(s=>s.startsWith("_")?s.slice(1):s).filter(s=>!r.includes(s)).join("/");o!==n&&(e[o]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion="tfjs-layers ".concat(tM),n.backend="TensorFlow.js",n}toJSON(e,n=!0){const i=cS(this.updatedConfig());return n?JSON.stringify(i):i}call(e,n){return ce(()=>{e=Ht(e);const i=new Dl;for(let r=0;r<this.inputs.length;++r)i.add(this.inputs[r],e[r]);return np(this.outputs,i,n)})}computeMask(e,n){return ce(()=>{e=Ht(e);let i;return n==null?i=Ou(null,e.length):i=Ht(n),this.runInternalGraph(e,i)[1]})}computeOutputShape(e){const n=Ux(e);if(n.length!==this.inputLayers.length)throw new se("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const i={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],c=n[a],u=l.name+"_0_0";i[u]=c}const r=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(Z0);if(r.length>1)for(const a of r){const l=this.nodesByDepth[a];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const d=[];for(let m=0;m<c.inboundLayers.length;m++){const b=c.inboundLayers[m],g=c.nodeIndices[m],x=c.tensorIndices[m],y="".concat(b.name,"_").concat(g,"_").concat(x),v=i[y];d.push(v)}const h=u.computeOutputShape(mr(d)),f=Ux(h),p=u.inboundNodes.indexOf(c);for(let m=0;m<f.length;m++){const b="".concat(u.name,"_").concat(p,"_").concat(m);i[b]=f[m]}}}const o=[],s=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],c=this.outputLayersNodeIndices[a],u=this.outputLayersTensorIndices[a],d="".concat(l.name,"_").concat(c,"_").concat(u);s.push(d)}for(let a=0;a<s.length;a++){const l=s[a];Us(l in i),o.push(i[l])}return mr(o)}runInternalGraph(e,n){n==null&&(n=Ou(null,e.length));const i={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],d=n[l];i[c.id]=[u,d]}const r=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(Z0);for(const l of r){const c=this.nodesByDepth[l];for(const u of c){const d=u.outboundLayer,h=u.inputTensors,f=u.outputTensors,p=new Array;for(const m of h)m.id in i&&p.push(i[m.id]);if(p.length===h.length){let m={},b,g,x,y;if(u.callArgs!=null&&(m=u.callArgs),p.length===1){const[v,w]=p[0];m.mask==null&&(m.mask=w),x=Ht(d.call(v,m)),y=Ht(d.computeMask(v,w)),b=[v],g=[w]}else b=p.map(v=>v[0]),g=p.map(v=>v[1]),m.mask==null&&(m.mask=g),x=Ht(d.call(b,m)),y=Ht(d.computeMask(b,g));if(d.activityRegularizer)throw new xt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let v=0;v<f.length;++v){const w=f[v],E=x[v],C=y[v];i[w.id]=[E,C]}}}}const o=[],s=[],a=[];for(const l of this.outputs){Us(l.id in i,"Could not compute output ".concat(l.name," : ").concat(l.id));const[c,u]=i[l.id];a.push(c.shape),o.push(c),s.push(u)}return[o,s,a]}buildNodeConversionMap(e){const n={};let i;for(const r of this.layers){i=r instanceof fs?1:0;for(let o=0;o<r.inboundNodes.length;o++){const s=fs.nodeKey(r,o);this.containerNodes.has(s)&&(n[s]=i,i+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new se("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const i of this.layers)if(i.name===e)return i;throw new se("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new se("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return ce(()=>{const e=[];for(const n of this.layers)for(let i=0;i<n.inboundNodes.length;++i){const r=fs.nodeKey(n,i);this.containerNodes.has(r)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),i=[];for(const s of this.layers){const a=s.getClassName(),l=s.getConfig(),c=[];for(let d=0;d<s.inboundNodes.length;d++){const h=s.inboundNodes[d],f=fs.nodeKey(s,d);let p={};if(this.containerNodes.has(f)){if(h.callArgs)try{JSON.stringify(h.callArgs),p=h.callArgs}catch(m){console.warn("Layer ".concat(s.name," was passed ")+"non-serializable keyword arguments: "+"".concat(h.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),p={}}if(h.inboundLayers.length>0){const m=[];for(let b=0;b<h.inboundLayers.length;b++){const g=h.inboundLayers[b],x=h.nodeIndices[b],y=h.tensorIndices[b],v=fs.nodeKey(g,x);let w=n[v];w==null&&(w=0),m.push([g.name,w,y,p])}c.push(m)}}}const u={};u.name=s.name,u.className=a,u.config=l,u.inboundNodes=c,i.push(u)}e.layers=i;const r=[];for(let s=0;s<this.inputLayers.length;s++){const a=this.inputLayers[s],l=this.inputLayersNodeIndices[s],c=fs.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.inputLayersTensorIndices[s];r.push([a.name,u,d])}e.inputLayers=r;const o=[];for(let s=0;s<this.outputLayers.length;s++){const a=this.outputLayers[s],l=this.outputLayersNodeIndices[s],c=fs.nodeKey(a,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.outputLayersTensorIndices[s];o.push([a.name,u,d])}return e.outputLayers=o,e}static fromConfig(e,n,i={},r=!1){const o={},s={};function a(b,g){b.name in s?s[b.name].push(g):s[b.name]=[g]}function l(b,g){const x=[];let y;for(const v of g){const w=v[0],E=v[1],C=v[2];if(y=v[3]==null?{}:v[3],!(w in o)){a(b,g);return}const I=o[w];if(I.inboundNodes.length<=E){a(b,g);return}const T=I.inboundNodes[E];x.push(T.outputTensors[C])}x.length>0&&b.apply(mr(x),y)}function c(b){const g=b.name,x=Ba(b,n.customObjects!=null?n.customObjects:{});x.setFastWeightInitDuringBuild(r),o[g]=x,b.inboundNodes.forEach(v=>{if(!(v instanceof Array))throw new se("Corrupted configuration, expected array for nodeData: ".concat(v));a(x,v)})}const u=n.name,d=n.layers;for(const b of d)c(b);for(;!B1e(s);)for(const b of d){const g=o[b.name];if(g.name in s){const x=s[g.name];delete s[g.name];for(const y of x)l(g,y)}}const h=[],f=[],p=n.inputLayers;for(const b of p){const g=b[0],x=b[1],y=b[2];Us(g in o);const w=o[g].inboundNodes[x].outputTensors;h.push(w[y])}const m=n.outputLayers;for(const b of m){const g=b[0],x=b[1],y=b[2];Us(g in o);const w=o[g].inboundNodes[x].outputTensors;f.push(w[y])}return new e({inputs:h,outputs:f,name:u})}get stateful(){if(this._stateful)throw new se("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){ce(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ive(t,e,n){const i=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>null);if(i===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==i)throw new Error("Provided ".concat(n," is an array of ").concat(t.length," ")+"element(s), but the model has ".concat(i," outputs. ")+"Make sure a set of weights is provided for each model output.");return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const r=[];return e.forEach(o=>{o in t?r.push(t[o]):r.push(null)}),r}else throw new Error("The model has multiple (".concat(i,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(i," elements or an object with ").concat(e," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(t)))}function nM(t,e){return ive(t,e,"classWeight")}async function iM(t,e,n,i){if(n!=null){const r=ce(()=>{if(t.shape.length===1)return Pa(t);if(t.shape.length===2){if(t.shape[1]>1)return Nh(t,1);if(t.shape[1]===1)return ne(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}else throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")}),o=Array.from(await r.data());pt(r);const s=[];return o.forEach(a=>{if(n[a]==null)throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(a," exists in the data but not in ")+"classWeight");s.push(n[a])}),Kn(s,"float32")}else return null}function rve(t,e){return Q(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const ove=32;function rM(t,e){let n,i;const r=e;n=r.xs,i=r.ys,P(n!=null&&i!=null,()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(e));const o=RA("input",t.inputNames,n),s=RA("output",t.outputNames,i),a=o[0].shape[0];P(o.length===t.inputs.length,()=>"LayersModel has ".concat(t.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(t.inputNames),")")),P(s.length===t.outputs.length,()=>"LayersModel has ".concat(t.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(t.outputNames),")"));for(let l=0;l<o.length;l++)P(o[l].shape[0]===a,()=>"Batch size mismatch: input "+"".concat(t.inputNames[l]," has ").concat(o[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));for(let l=0;l<s.length;l++)P(s[l].shape[0]===a,()=>"Batch size mismatch: output "+"".concat(t.outputNames[l]," has ").concat(s[l].shape[0],"; ")+"expected  ".concat(a," based on input ").concat(t.inputNames[0],"."));return{xs:o,ys:s}}function RA(t,e,n){if(n instanceof Qt)return[n];if(Array.isArray(n))return P(n.length===e.length,()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(e.length," to match the ").concat(t," keys ").concat(e,".")),n;{const i=[];for(const r of e){if(n[r]==null)throw new se("The feature data generated by the dataset lacks the required "+"".concat(t," key '").concat(r,"'."));i.push(n[r])}return i}}function sve(t){if(t.length===3)throw new xt("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function ave(t,e,n){const i=n.batchesPerEpoch!=null;if(P(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),P(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),P(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs)),P(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch)),P(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const r=n.validationData!=null;let o,s;if(r)if(LA(n.validationData))P(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches));else{const b=sve(n.validationData);o=b.xs,s=b.ys}const a=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;r?c=l.slice().concat(l.map(b=>"val_"+b)):c=l.slice();const u=qF(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:f}=XF(u,d,n.epochs,null,null,lve(e,n),null,r,c);h.setModel(t),t.history=f,await h.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const b={};await h.onEpochBegin(p);let g=0,x=0;for(i||(m=await e.iterator());!i||g<n.batchesPerEpoch;){const y=await m.next();if(i&&y.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(g," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(y.value!=null){const{xs:v,ys:w}=rM(t,y.value),E={};E.batch=x,E.size=v[0].shape[0],await h.onBatchBegin(x,E);const C=[];if(n.classWeight!=null){const _=nM(n.classWeight,t.outputNames);for(let M=0;M<_.length;++M)C.push(await iM(w[M],null,_[M]))}const I=v.concat(w).concat(C),T=a(I);pt(I);for(let _=0;_<l.length;++_){const M=l[_],D=T[_];E[M]=D,gi(D)}await h.onBatchEnd(x,E),GF(E),x++,g++}if(i?g>=n.batchesPerEpoch:y.done){if(r){let v;LA(n.validationData)?v=Ht(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):v=Ht(t.evaluate(o,s,{batchSize:n.validationBatchSize==null?ove:n.validationBatchSize,verbose:0}));for(let w=0;w<t.metricsNames.length;++w)b["val_".concat(t.metricsNames[w])]=v[w]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(p,b),p++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function lve(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function LA(t){return typeof t.iterator=="function"}function cve(t){return typeof t.next=="function"}async function uve(t,e,n){n=n||{};const i=n.batches!=null,r=t.testFunction;let o=[];if(n.verbose>0)throw new xt("Verbose mode is not implemented yet.");P(!i||n.batches>0&&Number.isInteger(n.batches),()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches)));const s=cve(e)?e:await e.iterator();let a=0,l=0;for(;!i||l<n.batches;){const c=await s.next();if(o=ce(()=>{if(c.value){const{xs:u,ys:d}=rM(t,c.value),h=u.concat(d),f=ce(()=>r(h));if(pt(h),l===0)for(let m=0;m<f.length;++m)o.push(rt(0));const p=h[0].shape[0];for(let m=0;m<f.length;++m){const b=f[m],g=o[m];o[m]=ce(()=>Se(o[m],Q(p,b))),l>0&&pt(g)}pt(f),a+=p,++l}return o}),c.done){i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let c=0;c<o.length;++c){const u=o[c];o[c]=Ue(o[c],a),pt(u)}return mr(o)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j2(t){P(t>0&&Number.isInteger(t),()=>"batchSize is required to be a positive integer, but got ".concat(t))}function Hf(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(i=>uu(i,e,n-e)):uu(t,e,n-e)}function uS(t,e){return ce(()=>t==null?null:Array.isArray(t)?t.map(n=>uS(n,e)):OF(t,e.dtype==="int32"?e:Me(e,"int32")))}function U2(t,e){const n=[];let i=0,r=null;for(;i<t;)r=i+e,r>=t&&(r=t),n.push([i,r]),i=r;return n}function oM(t){const e=[];t instanceof Qt&&(t=[t]);for(let n=0;n<t.length;++n){const i=t[n];if(i.rank===1)e.push(Kg(i,1));else{if(i.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(i)}}return e}function hs(t,e){if(t==null)return;const n=[];if(e instanceof Qt)n.push(e.id);else if(Array.isArray(e))e.forEach(r=>n.push(r.id));else if(e!=null)for(const r in e){const o=e[r];n.push(o.id)}const i=[];if(t instanceof Qt)n.indexOf(t.id)===-1&&i.push(t);else if(Array.isArray(t))t.forEach(r=>{n.indexOf(r.id)===-1&&i.push(r)});else if(t!=null)for(const r in t){const o=t[r];n.indexOf(o.id)===-1&&i.push(o)}i.forEach(r=>{r.isDisposed||r.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dve(t){return t instanceof Qt}function dS(t){return Array.isArray(t)}function zA(t){return!dve(t)&&!dS(t)}function FA(t,e,n,i=!0,r=""){if(e==null||e.length===0){if(t!=null){let s=!1;if(dS(t)&&t.length>0)s=!0;else if(zA(t)){for(const a in t)if(t.hasOwnProperty(a)){s=!0;break}}else s=!0;if(s)throw new se("Error when checking model ".concat(r," expected no data, ")+"but got ".concat(t))}return[]}if(t==null)return e.map(s=>null);let o;if(zA(t)){t=t,o=[];for(const s of e){if(t[s]==null)throw new se('No data provided for "'.concat(s,'". Need data for each key in: ')+"".concat(e));o.push(t[s])}}else if(dS(t)){if(t=t,t.length!==e.length)throw new se("Error when checking model ".concat(r,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(e.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(t));o=t}else{if(t=t,e.length>1)throw new se("The model ".concat(r," expects ").concat(e.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(t.shape));o=[t]}if(o=oM(o),n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const a=o[s];if(a.shape.length!==n[s].length)throw new se("Error when checking ".concat(r,": expected ").concat(e[s]," ")+"to have ".concat(n[s].length," dimension(s). but got array with ")+"shape ".concat(a.shape));for(let l=0;l<n[s].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[s][l];if(u!=null&&u>=0&&c!==u)throw new se("".concat(r," expected a batch of elements where each ")+"example has shape [".concat(n[s].slice(1,n[s].length),"] ")+"(i.e.,tensor shape [*,".concat(n[s].slice(1,n[s].length),"])")+" but the ".concat(r," received an input with ").concat(a.shape[0])+" examples, each with shape [".concat(a.shape.slice(1,a.shape.length),"]")+" (tensor shape [".concat(a.shape,"])"))}}return o}function hve(t,e,n){const i=Gl(t.map(o=>o.shape[0]));i.sort();const r=Gl(e.map(o=>o.shape[0]));if(r.sort(),i.length>1)throw new se("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map(o=>o.shape))));if(r.length>1)throw new se("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map(o=>o.shape))));if(i.length>0&&r.length>0&&!Nt(i,r))throw new se("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(i[0]," input sample(s) and ").concat(r[0]," target ")+"sample(s).")}function fve(t,e,n){const i=[Qv,ew,lm];for(let r=0;r<t.length;++r){const o=t[r],s=e[r],a=n[r];if(s!=null){if(s===lm&&o.shape[o.shape.length-1]===1)throw new se("You are passing a target array of shape ".concat(o.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(i.indexOf(s)!==-1){const l=o.shape.slice(1),c=a.slice(1);for(let u=0;u<l.length;++u){const d=l[u],h=c[u];if(h!=null&&d!==h)throw new se("A target Tensor with shape ".concat(o.shape," was passed for an ")+"output of shape ".concat(a,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}function MA(t,e,n,i=!0,r=""){let o;if(Array.isArray(t)){if(t.length!==e.length)throw new se("Error when checking model ".concat(r,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(e.length," Tensor(s),")+" but instead got ".concat(t.length," Tensors(s)."));o=t}else{if(e.length>1)throw new se("The model expects ".concat(e.length," ").concat(r," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(t.shape),"."));o=[t]}if(n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const a=o[s];if(a.shape.length!==n[s].length)throw new se("Error when checking ".concat(r,": expected ").concat(e[s]," ")+"to have ".concat(n[s].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(a.shape)));for(let l=0;l<n[s].length;++l){if(l===0&&!i)continue;const c=a.shape[l],u=n[s][l];if(u!=null&&u!==c)throw new se("Error when checking ".concat(r,": expected ")+"".concat(e[s]," to have shape ").concat(JSON.stringify(n[s])," but ")+"got array with shape ".concat(JSON.stringify(a.shape),"."))}}}function pve(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(i=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(t));if(Array.isArray(n))return e.map(i=>n);{const i=[];for(const r of e){let o=n.hasOwnProperty(r)?n[r]:[];Array.isArray(o)||(o=[o]),i.push(o)}return i}}const mve="layers-model";class dh extends fs{constructor(e){super(e),this.isTraining=!1}summary(e,n,i=console.log){if(!this.built)throw new se("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Zye(this,e,n,i)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=Yye(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Sc))throw new se("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const s in e.loss)if(this.outputNames.indexOf(s)===-1)throw new se('Unknown entry in loss dictionary: "'.concat(s,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const s of this.outputNames)e.loss[s]==null&&console.warn('Output "'.concat(s,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(s," during training")),n.push(B2(e.loss[s]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new se("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));n=e.loss.map(a=>B2(a))}else{const s=B2(e.loss);this.outputs.forEach(a=>{n.push(s)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let s=0;s<this.outputs.length;++s){const a=this.internalOutputShapes[s],l=this.outputNames[s];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[s])}const i=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],cu("loss",()=>{for(let s=0;s<this.outputs.length;++s){if(i.indexOf(s)!==-1)continue;const a=this.lossFunctions[s];this.outputs.length>1&&(this.metricsTensors.push([a,s]),this.metricsNames.push(this.outputNames[s]+"_loss"))}});const r=pve(e.metrics,this.outputNames),o=(s,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[s]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,s])};cu("metric",()=>{for(let s=0;s<this.outputs.length;++s){if(i.indexOf(s)!==-1)continue;const a=r[s];(c=>{const u="";let d,h,f;for(const p of c){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const b=this.internalOutputShapes[s];b[b.length-1]===1||this.lossFunctions[s]===ew?["accuracy","acc"].indexOf(p)!==-1?h=YF:["crossentropy","ce"].indexOf(p)!==-1&&(h=Bye):this.lossFunctions[s]===qx?["accuracy","acc"].indexOf(p)!==-1?h=jye:["crossentropy","ce"].indexOf(p)!==-1&&(h=QF):["accuracy","acc"].indexOf(p)!==-1?h=ZF:["crossentropy","ce"].indexOf(p)!==-1&&(h=JF);let g;["accuracy","acc"].indexOf(p)!==-1?g="acc":["crossentropy","ce"].indexOf(p)!==-1&&(g="ce"),f=h,d=u+g}else f=Kye(p),d=u+eb(p);let m;cu(d,()=>{m=f}),o(s,d,m)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,i={}){const r=i.batchSize==null?32:i.batchSize;j2(r);const s=this.standardizeUserDataXY(e,n,!0,r);try{const a=s[0].concat(s[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,a,r,i.verbose,i.steps);return mr(c)}finally{hs(s[0],e),hs(s[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),uve(this,e,n)}checkNumSamples(e,n,i,r="steps"){let o;if(i!=null){if(o=null,n!=null)throw new se("If ".concat(r," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(n))}else if(e!=null)Array.isArray(e)?o=e[0].shape[0]:o=e.shape[0];else throw new se("Either the input data should have a defined shape, or "+"".concat(r," shoud be specified."));return o}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new se("`outputs` is an empty Array, which is not allowed.");const i=Array.isArray(n),r=i?n:[n],o=this.retrieveSymbolicTensors(r),s=new Dl;if(e instanceof Qt&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new se("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let l=0;l<this.inputs.length;++l)s.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new se("No value is provided for the model's input ".concat(l.name));s.add(l,c)}const a=np(o,s);return i?a:a[0]}retrieveSymbolicTensors(e){const n=Ou(null,e.length);let i=e.length;for(const r of this.layers){const o=Array.isArray(r.output)?r.output:[r.output],s=o.map(a=>a.name);for(let a=0;a<e.length;++a){const l=s.indexOf(e[a]);if(l!==-1&&(n[a]=o[l],i--),i===0)break}if(i===0)break}if(i>0){const r=[];throw n.forEach((o,s)=>{o==null&&r.push(e[s])}),new se("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(r)))}return n}predictLoop(e,n=32,i=!1){return ce(()=>{const r=this.checkNumSamples(e);if(i)throw new xt("Verbose predictLoop() is not implemented yet.");const o=U2(r,n),s=this.outputs.map(a=>[]);for(let a=0;a<o.length;++a)ce(()=>{const c=o[a][0],u=o[a][1],d=Hf(e,c,u),h=[];if(Array.isArray(d))for(let p=0;p<d.length;++p)h.push({key:this.inputs[p],value:d[p]});else h.push({key:this.inputs[0],value:d});const f=new Dl(h);return np(this.outputs,f)}).forEach((c,u)=>s[u].push(c));return mr(s.map(a=>Ln(a,0)))})}predict(e,n={}){const i=oM(e);MA(i,this.inputNames,this.feedInputShapes,!1);try{const r=n.batchSize==null?32:n.batchSize;return j2(r),this.predictLoop(i,r)}finally{hs(i,e)}}predictOnBatch(e){MA(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,i=!0,r){if(this.optimizer_==null)throw new Ko("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let s=0;s<this.feedOutputShapes.length;++s){const a=this.feedOutputShapes[s];this.feedLossFns[s]===qx?o.push(a.slice(0,a.length-1).concat([1])):o.push(a)}if(e=FA(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=FA(n,this.feedOutputNames,o,!1,"target"),hve(e,n),fve(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new se("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(r,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,n]}async standardizeUserData(e,n,i,r,o=!0,s){const[a,l]=this.standardizeUserDataXY(e,n,o,s);if(i!=null)throw new Error("sample weight is not supported yet.");let c=null;if(r!=null){const u=nM(r,this.outputNames);c=[];for(let d=0;d<u.length;++d)c.push(await iM(l[d],null,u[d]))}return[a,l,c]}testLoop(e,n,i,r=0,o){return ce(()=>{const s=this.checkNumSamples(n,i,o,"steps"),a=[];if(r>0)throw new xt("Verbose mode is not implemented yet.");if(o!=null)throw new xt("steps mode in testLoop() is not implemented yet");{const l=U2(s,i),c=Kn($s(0,s));for(let u=0;u<l.length;++u){const d=l[u][0],h=l[u][1],f=uu(c,d,h-d),p=uS(n,f),m=e(p);if(u===0)for(let b=0;b<m.length;++b)a.push(rt(0));for(let b=0;b<m.length;++b){const g=m[b];a[b]=Se(a[b],Q(h-d,g))}}for(let u=0;u<a.length;++u)a[u]=Ue(a[u],s)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let i=0;i<e.length;++i){const r=e[i];let o=r;if(kA(e,r)>1){const s=kA(e.slice(0,i),r);o+="_".concat(s)}n.push(o)}return n}makeTrainFunction(){return e=>{const n=[],i=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),s=[],a=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:i[m]});const h=new Dl(d),f=np(this.outputs,h,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const b=this.lossFunctions[m];let g=b(r[m],f[m]);o[m]!=null&&(g=rve(g,o[m]));const x=Nn(g);n.push(x),m===0?p=g:p=Se(p,g)}for(let m=0;m<this.metricsTensors.length;++m){let b;if(this.outputs.length>1&&m<this.outputs.length)b=n[m];else{const g=this.metricsTensors[m][0],x=this.metricsTensors[m][1];b=Nn(g(r[x],f[x]))}gi(b),s.push(b)}return p=Nn(p),this.calculateLosses().forEach(m=>{p=Se(p,m)}),p},l=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(a,!0,l)].concat(s)}}makeTestFunction(){this.testFunction=e=>ce(()=>{const n=[];let i;const r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let c=0;c<this.inputs.length;++c)s.push({key:this.inputs[c],value:r[c]});const a=new Dl(s),l=np(this.outputs,a);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],d=Nn(u(o[c],l[c]));c===0?i=d:i=Se(i,d),n.push(i)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],d=this.metricsTensors[c][1],h=Nn(u(o[d],l[d]));n.push(h)}return n})}async fit(e,n,i={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,o,s,a,l,c,u,d,h;try{const f=i.batchSize==null?32:i.batchSize;j2(f);const m=await this.standardizeUserData(e,n,i.sampleWeight,i.classWeight,!1,f);r=m[0],o=m[1],h=m[2];let b=!1,g;if(i.validationData!=null&&i.validationData.length>0){if(b=!0,i.validationData.length===2)l=i.validationData[0],c=i.validationData[1];else throw i.validationData.length===3?new xt("validationData including sample weights is not supported yet."):new se("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(i.validationData," is invalid."));const _=await this.standardizeUserData(l,c,null,null,!0,f);u=_[0],d=_[1],g=u.concat(d)}else if(i.validationSplit!=null&&i.validationSplit>0&&i.validationSplit<1){b=!0;const T=Math.floor(r[0].shape[0]*(1-i.validationSplit)),_=r[0].shape[0];u=Hf(r,T,_),s=r,r=Hf(r,0,T),d=Hf(o,T,_),a=o,o=Hf(o,0,T),g=u.concat(d)}else i.validationSteps!=null&&(b=!0);const x=r.concat(o).concat(h);this.checkTrainableWeightsConsistency();const y=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let w,E;b?(this.makeTestFunction(),w=this.testFunction,E=v.slice().concat(v.map(T=>"val_"+T))):(w=null,g=[],E=v.slice());const C=qF(i.callbacks,i.yieldEvery);return await this.fitLoop(y,x,v,f,i.epochs,i.verbose,C,w,g,i.shuffle,E,i.initialEpoch,null,null)}finally{this.isTraining=!1,hs(r,e),hs(o,n),hs(s,e),hs(a,n),hs(u,l),hs(d,c),h!=null&&pt(h)}}async fitLoop(e,n,i,r,o,s,a,l,c,u,d,h,f,p){r==null&&(r=32),o==null&&(o=1),u==null&&(u=!0),h==null&&(h=0);let m=!1;if(l!=null&&c!=null&&(m=!0),p!=null&&(m=!0,f==null))throw new se("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=this.checkNumSamples(n,r,f,"steps_per_epoch");let g;b!=null&&(g=$s(0,b)),s==null&&(s=1);const{callbackList:x,history:y}=XF(a,s,o,h,b,f,r,m,d);x.setModel(this),this.history=y,await x.onTrainBegin(),this.stopTraining_=!1;for(let v=h;v<o;++v){await x.onEpochBegin(v);const w={};if(f!=null)throw new xt("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new xt("batch shuffling is not implemneted yet");u&&oue(g);const E=Kn(g),C=U2(b,r);for(let I=0;I<C.length;++I){const T={};if(await x.onBatchBegin(I,T),ce(()=>{const _=C[I][0],M=C[I][1],D=uu(E,_,M-_);T.batch=I,T.size=M-_;const z=uS(n,D),$=e(z);for(let F=0;F<i.length;++F){const j=i[F],W=$[F];T[j]=W,gi(W)}if(I===C.length-1&&m){const F=this.testLoop(l,c,r);for(let j=0;j<i.length;++j){const W=i[j],V=F[j];gi(V),w["val_"+W]=V}}}),await x.onBatchEnd(I,T),GF(T),this.stopTraining_)break}E.dispose()}if(await x.onEpochEnd(v,w),this.stopTraining_)break}return await x.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return ave(this,e,n)}async trainOnBatch(e,n){const i=await this.standardizeUserData(e,n),r=i[0],o=i[1],a=this.makeTrainFunction()(r.concat(o)),l=[];for(const c of a){const u=await c.data();l.push(u[0])}return pt(a),hs(i[0],e),hs(i[1],n),mr(l)}getNamedWeights(e){const n=[],i=e!=null&&e.trainableOnly,r=i?this.trainableWeights:this.weights,o=this.getWeights(i);for(let s=0;s<r.length;++s)i&&!r[s].trainable||n.push({name:r[s].originalName,tensor:o[s]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=rA().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-rA().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=va(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>va(n))}else{const n=Object.keys(this.loss);e={};const i=this.loss;for(const r of n)if(typeof i[r]=="string")e[r]=va(i[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[va(eb(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>va(eb(e)));{const e={};for(const n in this.metrics)e[n]=va(eb(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=lS(e.optimizer_config),i=Ba(n);let r;if(typeof e.loss=="string")r=Vc(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(s=>Vc(s));else if(e.loss!=null){r={};for(const s in e.loss)r[s]=Vc(e.loss[s])}let o;if(Array.isArray(e.metrics))o=e.metrics.map(s=>Vc(s));else if(e.metrics!=null){o={};for(const s in e.metrics)o[s]=Vc(e.metrics[s])}this.compile({loss:r,metrics:o,optimizer:i})}async save(e,n){if(typeof e=="string"){const c=mL(e);if(c.length===0)throw new se("Cannot find any save handlers for URL '".concat(e,"'"));if(c.length>1)throw new se("Found more than one (".concat(c.length,") save handlers for ")+"URL '".concat(e,"'"));e=c[0]}if(e.save==null)throw new se("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const i=await W3(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:mve,generatedBy:"TensorFlow.js tfjs-layers v".concat(tM),convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:d}=await W3(await this.optimizer.getWeights(),c);i.specs.push(...d),i.data=hL([i.data,u])}return this.userDefinedMetadata!=null&&(DA(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=i.data,a.weightSpecs=i.specs,e.save(a)}setUserDefinedMetadata(e){DA(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}dh.className="Model";Te(dh);class sM extends dh{}sM.className="Functional";Te(sM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cm extends dh{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:Yv("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(i=>i<0))throw new se("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const n=e instanceof cm||e instanceof dh;let i;if(n){if(i=e,i.outputs.length!==1)throw new se("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(i.inputs.length!==1)throw new se("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new se("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const r=bye({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(r)}if(n)this.outputs=i.outputs,this.inputs=i.inputs;else{if(e.inboundNodes.length!==1)throw new se("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(e.inboundNodes[0].outputTensors.length!==1)throw new se("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=jF(this.outputs[0])}this.inboundNodes=[],new Jv({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Ou(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(r=>r.shape),outputShapes:this.outputs[0].shape})}else{const r=e.apply(this.outputs[0]);if(Array.isArray(r))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[r],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Mt(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new dh({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,i=console.log){this.built||this.build(),super.summary(e,n,i)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,i={}){if(!this.built)throw new Ko("The model needs to be compiled before being used.");return this.model.evaluate(e,n,i)}async evaluateDataset(e,n){if(!this.built)throw new Ko("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,i={}){if(!this.built)throw new Ko("The model needs to be compiled before being used.");return this.model.fit(e,n,i)}async fitDataset(e,n){if(!this.built)throw new Ko("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,i={},r=!1){let o,s={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new se("Legacy serialization format not supported yet.");o=n}else P(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=n.layers,delete n.layers,s=n;const a=new e(s);if(!(a instanceof cm))throw new xt("Sequential.fromConfig called on non-Sequential input: ".concat(a));for(const l of o){const u=Ba(l,void 0,r);r&&u.setFastWeightInitDuringBuild(!0),a.add(u)}return a}set stopTraining(e){if(this.model==null)throw new se("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new se("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const i={};i.className=n.getClassName(),i.config=n.getConfig(),e.push(i)}return{name:this.name,layers:e}}}cm.className="Sequential";Te(cm);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Zi=class extends hf{getConfig(){return{}}};class aM extends Zi{apply(e,n=1){return tye(e,n)}}aM.className="elu";Te(aM);class lM extends Zi{apply(e){return CT(e)}}lM.className="selu";Te(lM);class cM extends Zi{apply(e){return ua(e)}}cM.className="relu";Te(cM);class uM extends Zi{apply(e){return ce(()=>Au(6,ua(e)))}}uM.className="relu6";Te(uM);class dM extends Zi{apply(e){return e}}dM.className="linear";Te(dM);class hM extends Zi{apply(e){return Cs(e)}}hM.className="sigmoid";Te(hM);class fM extends Zi{apply(e){return iye(e)}}fM.className="hardSigmoid";Te(fM);class pM extends Zi{apply(e){return cf(e)}}pM.className="softplus";Te(pM);class mM extends Zi{apply(e){return nye(e)}}mM.className="softsign";Te(mM);class gM extends Zi{apply(e){return _u(e)}}gM.className="tanh";Te(gM);let AI=class extends Zi{apply(e,n=-1){return Pv(e,n)}};AI.className="softmax";Te(AI);class bM extends Zi{apply(e,n=-1){return cT(e,n)}}bM.className="logSoftmax";Te(bM);class xM extends Zi{apply(e){return ce(()=>ce(()=>{const n=Math.sqrt(2),i=Q(.5,Se(1,sT(Ue(e,n))));return Q(e,i)}))}}xM.className="gelu";Te(xM);class yM extends Zi{apply(e){return ce(()=>Q(.5,Q(e,Se(1,_u(Q(Ri(Ue(2,Math.PI)),Se(e,Q(.044715,Ga(e,3)))))))))}}yM.className="gelu_new";Te(yM);class vM extends Zi{apply(e){return ce(()=>Q(e,_u(cf(e))))}}vM.className="mish";Te(vM);class wM extends Zi{apply(e,n=1){return ce(()=>Q(Cs(Q(e,n)),e))}}wM.className="swish";Te(wM);function sc(t){return t.getClassName()}function V2(t,e={}){return Xg(t,jo.getMap().classNameMap,e,"activation")}function ac(t){if(t==null){const e={};return e.className="linear",e.config={},V2(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},V2(e)}else return t instanceof Zi?t:V2(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gve(t){if(t!=null&&typeof t!="object")throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(t))}class kM extends hf{}class SM extends kM{constructor(e){super(),gve(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return ce(()=>{let n=Qn([1]);return this.hasL1&&(n=Se(n,Ke(Q(this.l1,Jn(e))))),this.hasL2&&(n=Se(n,Ke(Q(this.l2,Yg(e))))),ne(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}SM.className="L1L2";Te(SM);const PA={l1l2:"L1L2"};function nn(t){return gI(t)}function BA(t,e={}){return Xg(t,jo.getMap().classNameMap,e,"regularizer")}function Sn(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in PA?PA[t]:t,config:{}};return BA(n)}else return t instanceof kM?t:BA(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class CM extends It{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=ut(e);let i=ua(e);return this.maxValue!=null&&(i=Er(i,0,this.maxValue)),i}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}CM.className="ReLU";Te(CM);class EM extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=ut(e);return $v(i,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}EM.className="LeakyReLU";Te(EM);class TM extends It{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=wn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Sn(e.alphaRegularizer),this.alphaConstraint=si(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new se("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes))}build(e){e=Mt(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const r of this.sharedAxes)n[r-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const i={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)i[r]=e[r];this.inputSpec=[new ti({ndim:e.length,axes:i})],this.built=!0}call(e,n){return e=ut(e),Lv(e,this.alpha.read())}getConfig(){const e={alphaInitializer:$n(this.alphaInitializer),alphaRegularizer:nn(this.alphaRegularizer),alphaConstraint:oi(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}TM.className="PReLU";Te(TM);let IM=class extends It{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new xt("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=ut(e);return jg(i)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};IM.className="ELU";Te(IM);class $M extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const i=ut(e);return Q(i,Me(eo(i,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}$M.className="ThresholdedReLU";Te($M);class _M extends It{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new AI().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return ce(()=>{let i=ut(e);const r=n.mask;if(r!=null){const o=Q(Ve(jr(i.shape),Me(r,i.dtype)),rt(-1e9));i=Se(i,o)}return this.axis instanceof Array?this.axis.length>1?ar(Ve(i,Av(i,this.axis,!0))):this.softmax(i,this.axis[0]):this.softmax(i,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}_M.className="Softmax";Te(_M);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hh(t,e,n){if(typeof t=="number")return Ou(t,e);if(t.length!==e)throw new se("The ".concat(n," argument must be an integer or tuple of ").concat(e," integers.")+" Received: ".concat(t.length," elements."));for(let i=0;i<e;++i){const r=t[i];if(!Z1e(r))throw new se("The ".concat(n," argument must be an integer or tuple of ").concat(e)+" integers. Received: ".concat(JSON.stringify(t)," including a")+" non-integer number ".concat(r))}return t}function Es(t,e,n,i,r=1){if(t==null)return t;const o=e+(e-1)*(r-1);let s;return n==="same"?s=t:s=t-o+1,Math.floor((s+i-1)/i)}function Vs(t,e,n,i){if(t==null)return null;if(i==="valid")t=t*e+oc([n-e,0]);else if(i==="same")t=t*e;else throw new se("Unsupport padding mode: ".concat(i,"."));return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function NI(t,e){return ce(()=>(Gn(e),e==="channelsFirst"?Dt(t,[0,2,3,1]):t))}function AM(t,e){return ce(()=>(Gn(e),e==="channelsFirst"?Dt(t,[0,2,3,4,1]):t))}function bve(t,e,n,i=1,r="valid",o,s=1){return ce(()=>{if(o==null&&(o=_s()),Gn(o),t.shape.length!==3)throw new se("The input of a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead."));if(e.shape.length!==3)throw new se("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead"));if(n!=null&&n.shape.length!==1)throw new se("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if(o==="channelsFirst"&&(t=Dt(t,[0,2,1])),r==="causal")throw new xt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=tT(t,e,i,r==="same"?"same":"valid","NWC",s);return n!=null&&(a=Fs(a,n)),a})}function jA(t,e,n,i=[1,1],r="valid",o,s,a=null){return ce(()=>{if(o==null&&(o=_s()),Gn(o),t.rank!==3&&t.rank!==4)throw new se("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));if(e.rank!==3&&e.rank!==4)throw new se("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));let l=NI(t,o);if(r==="causal")throw new xt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Sz({x:l,filter:e,strides:i,pad:r==="same"?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:a}),o==="channelsFirst"&&(l=Dt(l,[0,3,1,2])),l})}function xve(t,e,n,i=[1,1,1],r="valid",o,s){return ce(()=>{if(o==null&&(o=_s()),Gn(o),t.rank!==4&&t.rank!==5)throw new se("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(t.rank,"."));if(e.rank!==4&&e.rank!==5)throw new se("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(t.rank,"."));let a=AM(t,o);if(r==="causal")throw new xt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=UL(a,e,i,r==="same"?"same":"valid","NDHWC",s),n!=null&&(a=Fs(a,n)),o==="channelsFirst"&&(a=Dt(a,[0,4,1,2,3])),a})}class tw extends It{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",tw.verifyArgs(n),this.rank=e,bi(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new xt("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=hh(n.kernelSize,e,"kernelSize"),this.strides=hh(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,So(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Gn(this.dataFormat),this.activation=ac(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=wn(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=si(n.biasConstraint),this.biasRegularizer=Sn(n.biasRegularizer),this.activityRegularizer=Sn(n.activityRegularizer),this.dilationRate=hh(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new se("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new se("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new se("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}}static verifyArgs(e){if(Us("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!bI(e.kernelSize,"number",1,3))throw new se("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:sc(this.activation),useBias:this.useBias,biasInitializer:$n(this.biasInitializer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),biasConstraint:oi(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class ff extends tw{constructor(e,n){super(e,n),this.kernel=null,ff.verifyArgs(n),this.filters=n.filters,bi(this.filters,"filters"),this.kernelInitializer=wn(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=si(n.kernelConstraint),this.kernelRegularizer=Sn(n.kernelRegularizer)}build(e){e=Mt(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new se("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const i=e[n],r=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:i}}],this.built=!0}call(e,n){return ce(()=>{e=ut(e);let i;const r=this.bias==null?null:this.bias.read(),o=TF(this.activation.getClassName());if(o!=null&&this.rank===2)i=jA(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)i=bve(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)i=jA(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)i=xve(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new xt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(i=this.activation.apply(i))}return i})}computeOutputShape(e){e=Mt(e);const n=[],i=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<i.length;++o){const s=Es(i[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);n.push(s)}let r=[e[0]];return this.dataFormat==="channelsLast"?(r=r.concat(n),r.push(this.filters)):(r.push(this.filters),r=r.concat(n)),r}getConfig(){const e={filters:this.filters,kernelInitializer:$n(this.kernelInitializer),kernelRegularizer:nn(this.kernelRegularizer),kernelConstraint:oi(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new se("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class e0 extends ff{constructor(e){super(2,e),e0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!bI(e.kernelSize,"number",1,2))throw new se("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}e0.className="Conv2D";Te(e0);class t0 extends ff{constructor(e){super(3,e),t0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new se("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}t0.className="Conv3D";Te(t0);class NM extends e0{constructor(e){if(super(e),this.inputSpec=[new ti({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new se("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=Mt(e),e.length!==4)throw new se("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new se("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],r=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ti({ndim:4,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{let i=ut(e);if(i.shape.length!==4)throw new se("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const r=i.shape,o=r[0];let s,a;this.dataFormat==="channelsFirst"?(s=2,a=3):(s=1,a=2);const l=r[s],c=r[a],u=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],f=this.strides[1],p=Vs(l,h,u,this.padding),m=Vs(c,f,d,this.padding),b=[o,p,m,this.filters];this.dataFormat!=="channelsLast"&&(i=Dt(i,[0,2,3,1]));let g=iT(i,this.kernel.read(),b,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=Dt(g,[0,3,1,2])),this.bias!=null&&(g=Fs(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=Mt(e);const n=e.slice();let i,r,o;this.dataFormat==="channelsFirst"?(i=1,r=2,o=3):(i=3,r=1,o=2);const s=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[i]=this.filters,n[r]=Vs(n[r],l,s,this.padding),n[o]=Vs(n[o],c,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}NM.className="Conv2DTranspose";Te(NM);class OM extends t0{constructor(e){if(super(e),this.inputSpec=[new ti({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new se("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(e=Mt(e),e.length!==5)throw new se("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new se("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],r=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ti({ndim:5,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{let i=ut(e);if(i.shape.length!==5)throw new se("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(i.shape.length));const r=i.shape,o=r[0];let s,a,l;this.dataFormat==="channelsFirst"?(l=2,s=3,a=4):(l=1,s=2,a=3);const c=r[l],u=r[s],d=r[a],h=this.kernelSize[0],f=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],b=this.strides[1],g=this.strides[2],x=Vs(c,m,h,this.padding),y=Vs(u,b,f,this.padding),v=Vs(d,g,p,this.padding),w=[o,x,y,v,this.filters];this.dataFormat!=="channelsLast"&&(i=Dt(i,[0,2,3,4,1]));let E=HL(i,this.kernel.read(),w,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(E=Dt(E,[0,4,1,2,3])),this.bias!==null&&(E=Fs(E,this.bias.read(),this.dataFormat)),this.activation!==null&&(E=this.activation.apply(E)),E})}computeOutputShape(e){e=Mt(e);const n=e.slice();let i,r,o,s;this.dataFormat==="channelsFirst"?(i=1,r=2,o=3,s=4):(i=4,r=1,o=2,s=3);const a=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],d=this.strides[1],h=this.strides[2];return n[i]=this.filters,n[r]=Vs(n[r],u,a,this.padding),n[o]=Vs(n[o],d,l,this.padding),n[s]=Vs(n[s],h,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}OM.className="Conv3DTranspose";Te(OM);class DM extends ff{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new se("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new se("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new se("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(n.padding)));this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=wn(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Sn(n.depthwiseRegularizer),this.depthwiseConstraint=si(n.depthwiseConstraint),this.pointwiseInitializer=wn(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Sn(n.pointwiseRegularizer),this.pointwiseConstraint=si(n.pointwiseConstraint)}build(e){if(e=Mt(e),e.length<this.rank+2)throw new se("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new se("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[n])));const i=e[n],r=this.kernelSize.concat([i,this.depthMultiplier]),o=[];for(let a=0;a<this.rank;++a)o.push(1);o.push(i*this.depthMultiplier,this.filters);const s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new ti({ndim:this.rank+2,axes:{[n]:i}})],this.built=!0}call(e,n){return ce(()=>{e=ut(e);let i;if(this.rank===1)throw new xt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Dt(e,[0,2,3,1])),i=ET(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(i=Fs(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),this.dataFormat==="channelsFirst"&&(i=Dt(i,[0,3,1,2])),i})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=$n(this.depthwiseInitializer),e.pointwiseInitializer=$n(this.pointwiseInitializer),e.depthwiseRegularizer=nn(this.depthwiseRegularizer),e.pointwiseRegularizer=nn(this.pointwiseRegularizer),e.depthwiseConstraint=oi(this.depthwiseConstraint),e.pointwiseConstraint=oi(this.pointwiseConstraint),e}}DM.className="SeparableConv";class RM extends DM{constructor(e){super(2,e)}}RM.className="SeparableConv2D";Te(RM);class nw extends ff{constructor(e){super(1,e),nw.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!bI(e.kernelSize,"number",1,1))throw new se("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}nw.className="Conv1D";Te(nw);class LM extends It{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return ce(()=>{if(e=ut(e),this.dataFormat==="channelsLast"){const i=Q0(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Q0(i,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const i=Q0(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Q0(i,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}LM.className="Cropping2D";Te(LM);class zM extends It{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Gn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,X1e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],i=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,i]}else{const n=e[1]==null?null:this.size[0]*e[1],i=e[2]==null?null:this.size[1]*e[2];return[e[0],n,i,e[3]]}}call(e,n){return ce(()=>{let i=ut(e);const r=i.shape;if(this.dataFormat==="channelsFirst"){i=Dt(i,[0,2,3,1]);const o=this.size[0]*r[2],s=this.size[1]*r[3],a=this.interpolation==="nearest"?co.resizeNearestNeighbor(i,[o,s]):co.resizeBilinear(i,[o,s]);return Dt(a,[0,3,1,2])}else{const o=this.size[0]*r[1],s=this.size[1]*r[2];return this.interpolation==="nearest"?co.resizeNearestNeighbor(i,[o,s]):co.resizeBilinear(i,[o,s])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}zM.className="UpSampling2D";Te(zM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yve(t,e,n=[1,1],i="valid",r,o){return ce(()=>{r==null&&(r=_s()),Gn(r);let s=NI(t,r);if(t.rank!==4)throw new se("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));if(e.rank!==4)throw new se("depthwiseKernel is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));return s=Bg(s,e,n,i==="same"?"same":"valid","NHWC",o),r==="channelsFirst"&&(s=Dt(s,[0,3,1,2])),s})}class FM extends tw{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=wn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=si(e.depthwiseConstraint),this.depthwiseRegularizer=Sn(e.depthwiseRegularizer)}build(e){if(e=Mt(e),e.length<4)throw new se("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new se("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[n],")."));const i=e[n],r=[this.kernelSize[0],this.kernelSize[1],i,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[i*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{e=ut(e);let i=yve(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(i=Fs(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),i})}computeOutputShape(e){e=Mt(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=Es(n,this.kernelSize[0],this.padding,this.strides[0]),s=Es(i,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,o,s]:[e[0],o,s,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=$n(this.depthwiseInitializer),e.depthwiseRegularizer=nn(this.depthwiseRegularizer),e.depthwiseConstraint=oi(this.depthwiseRegularizer),e}}FM.className="DepthwiseConv2D";Te(FM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function MM(t,e,n,i){if(Array.isArray(t)){if(e!=null||n!=null)throw new se("When inputs is an array, neither initialState or constants should be provided");i!=null&&(n=t.slice(t.length-i,t.length),t=t.slice(0,t.length-i)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function r(o){return o==null||Array.isArray(o)?o:[o]}return e=r(e),n=r(n),{inputs:t,initialState:e,constants:n}}function PM(t,e,n,i=!1,r,o,s=!1,a=!1){return ce(()=>{const l=e.shape.length;if(l<3)throw new se("Input should be at least 3D, but is ".concat(l,"D."));const c=[1,0].concat($s(2,l));e=Dt(e,c),s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r!=null&&(r=Me(Me(r,"bool"),"float32"),r.rank===l-1&&(r=Ii(r,-1)),r=Dt(r,c)),i&&(e=rs(e,0),r!=null&&(r=rs(r,0)));const u=[];let d,h=n;const f=e.shape[0],p=os(e);let m;r!=null&&(m=os(r));for(let g=0;g<f;++g){const x=p[g],y=ce(()=>t(x,h));if(r==null)d=y[0],h=y[1];else{const v=ce(()=>{const w=m[g],E=Ve(yo(w),w),C=Se(Q(y[0],w),Q(h[0],E)),I=h.map((T,_)=>Se(Q(y[1][_],w),Q(T,E)));return{output:C,newStates:I}});d=v.output,h=v.newStates}a&&u.push(d)}let b;return a&&(b=Xr(u,1)),[d,b,h]})}class Cc extends It{constructor(e){super(e);let n;if(e.cell==null)throw new se("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new RI({cells:e.cell}):n=e.cell,n.stateSize==null)throw new se("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new ti({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return $s(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){oS(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const i=n[0];let r;if(this.returnSequences?r=[e[0],e[1],i]:r=[e[0],i],this.returnState){const o=[];for(const s of n)o.push([e[0],s]);return[r].concat(o)}else return r}computeMask(e,n){return ce(()=>{Array.isArray(n)&&(n=n[0]);const i=this.returnSequences?n:null;if(this.returnState){const r=this.states.map(o=>null);return[i].concat(r)}else return i})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let i=0;i<e;++i)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new xt("Constants support is not implemented in RNN yet.");oS(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,i=e.slice(2);this.inputSpec[0]=new ti({shape:[n,null,...i]});const r=[e[0]].concat(e.slice(2));this.cell.build(r);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!Nt(this.stateSpec.map(s=>s.shape[s.shape.length-1]),o))throw new se("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=o.map(s=>new ti({shape:[null,s]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){ce(()=>{if(!this.stateful)throw new js("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape[0];if(i==null)throw new se("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>Qn([i,r])):this.states_=[Qn([i,this.cell.stateSize])];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>Qn([i,r])):this.states_[0]=Qn([i,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new se("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n===!0?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let r=0;r<this.states_.length;++r){const o=e[r],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[r]:this.cell.stateSize,a=[i,s];if(!Nt(o.shape,a))throw new se("State ".concat(r," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(a,", received shape=").concat(o.shape));this.states_[r]=o}}this.states_=this.states_.map(r=>gi(r.clone()))})}apply(e,n){let i=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const o=MM(e,i,r,this.numConstants);e=o.inputs,i=o.initialState,r=o.constants;let s=[],a=[];if(i!=null){n.initialState=i,s=s.concat(i),this.stateSpec=[];for(const c of i)this.stateSpec.push(new ti({shape:c.shape}));a=a.concat(this.stateSpec)}if(r!=null&&(n.constants=r,s=s.concat(r),this.numConstants=r.length),s[0]instanceof ra){const c=[e].concat(s),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ce(()=>{const i=n==null?null:n.mask,r=n==null?null:n.training;let o=n==null?null:n.initialState;e=ut(e),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(e));const s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==s)throw new se("RNN Layer has ".concat(s," state(s) but was passed ")+"".concat(o.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:r},c=PM((p,m)=>{const b=this.cell.call([p].concat(m),a);return[b[0],b.slice(1)]},e,o,this.goBackwards,i,null,this.unroll,this.returnSequences),u=c[0],d=c[1],h=c[2];this.stateful&&this.resetStates(h,r);const f=this.returnSequences?d:u;return this.returnState?[f].concat(h):f})}getInitialState(e){return ce(()=>{let n=Qn(e.shape);return n=Ke(n,[1,2]),n=Kg(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(i=>i>1?iS(n,[1,i]):n):this.cell.stateSize>1?[iS(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const i=this.cell.getConfig();return this.getClassName()===Cc.className&&(n.cell={className:this.cell.getClassName(),config:i}),Object.assign(Object.assign(Object.assign({},i),e),n)}static fromConfig(e,n,i={}){const r=n.cell,o=Ba(r,i);return new e(Object.assign(n,{cell:o}))}}Cc.className="RNN";Te(Cc);class iw extends It{}class OI extends iw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,bi(this.units,"units"),this.activation=ac(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=wn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=wn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=wn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Sn(e.kernelRegularizer),this.recurrentRegularizer=Sn(e.recurrentRegularizer),this.biasRegularizer=Sn(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=Lh([1,oc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,oc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Mt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{if(e=e,e.length!==2)throw new se("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let i=e[1];e=e[0];const r=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>yo(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>yo(i),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let o;const s=this.dropoutMask,a=this.recurrentDropoutMask;s!=null?o=ea(Q(e,s),this.kernel.read()):o=ea(e,this.kernel.read()),this.bias!=null&&(o=Fs(o,this.bias.read())),a!=null&&(i=Q(i,a));let l=Se(o,ea(i,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),useBias:this.useBias,kernelInitializer:$n(this.kernelInitializer),recurrentInitializer:$n(this.recurrentInitializer),biasInitializer:$n(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:oi(this.kernelConstraint),recurrentConstraint:oi(this.recurrentConstraint),biasConstraint:oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}OI.className="SimpleRNNCell";Te(OI);class BM extends Cc{constructor(e){e.cell=new OI(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:r,initialState:o})})}static fromConfig(e,n){return new e(n)}}BM.className="SimpleRNN";Te(BM);class DI extends iw{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new se("GRUCell does not support reset_after parameter set to true.");this.units=e.units,bi(this.units,"units"),this.activation=ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=wn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=wn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=wn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Sn(e.kernelRegularizer),this.recurrentRegularizer=Sn(e.recurrentRegularizer),this.biasRegularizer=Sn(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=Lh([1,oc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,oc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Mt(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ce(()=>{if(e=e,e.length!==2)throw new se("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training==null?!1:n.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>yo(e),rate:this.dropout,training:i,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>yo(r),rate:this.recurrentDropout,training:i,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=this.recurrentDropoutMask;let a,l,c;0<this.dropout&&this.dropout<1&&(e=Q(e,o[0]));let u=ea(e,this.kernel.read());this.useBias&&(u=Fs(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Q(r,s[0]));const d=this.recurrentKernel.read(),[h,f]=Ur(d,[2*this.units,this.units],d.rank-1),p=ea(r,h),[m,b,g]=Ur(u,3,u.rank-1),[x,y]=Ur(p,2,p.rank-1);a=this.recurrentActivation.apply(Se(m,x)),l=this.recurrentActivation.apply(Se(b,y));const v=ea(Q(l,r),f);c=this.activation.apply(Se(g,v));const w=Se(Q(a,r),Q(Se(1,xn(a)),c));return[w,w]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),recurrentActivation:sc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$n(this.kernelInitializer),recurrentInitializer:$n(this.recurrentInitializer),biasInitializer:$n(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:oi(this.kernelConstraint),recurrentConstraint:oi(this.recurrentConstraint),biasConstraint:oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}DI.className="GRUCell";Te(DI);class jM extends Cc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new DI(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:r,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}jM.className="GRU";Te(jM);class rw extends iw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,bi(this.units,"units"),this.activation=ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=wn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=wn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=wn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Sn(e.kernelRegularizer),this.recurrentRegularizer=Sn(e.recurrentRegularizer),this.biasRegularizer=Sn(e.biasRegularizer),this.kernelConstraint=si(e.kernelConstraint),this.recurrentConstraint=si(e.recurrentConstraint),this.biasConstraint=si(e.biasConstraint),this.dropout=Lh([1,oc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Lh([1,oc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Mt(e);const i=e[e.length-1];this.kernel=this.addWeight("kernel",[i,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){const o=this.biasInitializer,s=this.units;r=new(n=class extends cs{apply(l,c){const u=o.apply([s]),d=new yI().apply([s]),h=o.apply([s*2]);return CA(CA(u,d),h)}},n.className="CustomInit",n)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return ce(()=>{const i=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new se("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let r=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>yo(e),rate:this.dropout,training:i,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>yo(r),rate:this.recurrentDropout,training:i,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,a=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=Q(e,s[0]));let h=ea(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Q(r,a[0])),h=Se(h,ea(r,this.recurrentKernel.read())),this.useBias&&(h=Fs(h,this.bias.read()));const[f,p,m,b]=Ur(h,4,h.rank-1);l=this.recurrentActivation.apply(f),c=this.recurrentActivation.apply(p),u=Se(Q(c,o),Q(l,this.activation.apply(m))),d=this.recurrentActivation.apply(b);const g=Q(d,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:sc(this.activation),recurrentActivation:sc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$n(this.kernelInitializer),recurrentInitializer:$n(this.recurrentInitializer),biasInitializer:$n(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:nn(this.kernelRegularizer),recurrentRegularizer:nn(this.recurrentRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:oi(this.kernelConstraint),recurrentConstraint:oi(this.recurrentConstraint),biasConstraint:oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}rw.className="LSTMCell";Te(rw);class UM extends Cc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new rw(e),super(e)}call(e,n){return ce(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:r,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}UM.className="LSTM";Te(UM);class RI extends iw{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return ce(()=>{e=e;let i=e.slice(1);const r=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?r.push(i.splice(0,a.stateSize.length)):r.push(i.splice(0,1));r.reverse();const o=[];let s;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];i=r[a],a===0?s=[e[0]].concat(i):s=[s[0]].concat(i),s=l.call(s,n),o.push(s.slice(1))}i=[];for(const a of o.slice().reverse())i.push(...a);return[s[0]].concat(i)})}build(e){oS(e)&&(e=e[0]),e=e;let n;this.cells.forEach((i,r)=>{cu("RNNCell_".concat(r),()=>{i.build(e),Array.isArray(i.stateSize)?n=i.stateSize[0]:n=i.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=o=>({className:o.getClassName(),config:o.getConfig()}),r={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),r)}static fromConfig(e,n,i={}){const r=[];for(const o of n.cells)r.push(Ba(o,i));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.cells)n.push(...i.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return sS(e)}setWeights(e){const n=[];for(const i of this.cells){const r=i.weights.length,o=e.splice(r);for(let s=0;s<i.weights.length;++s)n.push([i.weights[s],o[s]])}TI(n)}}RI.className="StackedRNNCells";Te(RI);function lc(t){const{ones:e,rate:n,training:i=!1,count:r=1,dropoutFunc:o}=t,s=()=>o!=null?o(e(),n):DF(e(),n),a=()=>Zg(s,e,i);return!r||r<=1?gi(a().clone()):Array(r).fill(void 0).map(a).map(c=>gi(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var vve=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class VM extends Cc{constructor(e){if(e.unroll)throw new xt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new xt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new ti({ndim:5})]}call(e,n){return ce(()=>{if(this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new se("ConvRNN2D cell does not support constants");const i=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:i,training:r,initialState:o})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return ce(()=>{const{stateSize:n}=this.cell,i=e.shape,r=this.computeSingleOutputShape(i),o=[r[0],...r.slice(2)],s=Qn(o);return Array.isArray(n)?Array(n.length).fill(s):[s]})}resetStates(e,n=!1){ce(()=>{if(!this.stateful)throw new js("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape,r=this.computeSingleOutputShape(i),o=[r[0],...r.slice(2)];if(i[0]==null)throw new se("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Qn(o)):this.states_=[Qn(o)];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Qn(o)):this.states_[0]=Qn(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new se("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let a=0;a<this.states_.length;++a){const l=e[a],c=o;if(!Nt(l.shape,c))throw new se("State ".concat(a," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(c,", received shape=").concat(l.shape));this.states_[a]=l}}this.states_=this.states_.map(a=>gi(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:i,kernelSize:r,padding:o,strides:s,dilationRate:a}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],d=Es(c,r[0],o,s[0],a[0]),h=Es(u,r[1],o,s[1],a[1]);return[...e.slice(0,2),...l?[i,d,h]:[d,h,i]]}}VM.className="ConvRNN2D";class LI extends rw{constructor(e){const{filters:n,kernelSize:i,strides:r,padding:o,dataFormat:s,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,bi(this.filters,"filters"),this.kernelSize=hh(i,2,"kernelSize"),this.kernelSize.forEach(l=>bi(l,"kernelSize")),this.strides=hh(r||1,2,"strides"),this.strides.forEach(l=>bi(l,"strides")),this.padding=o||"valid",So(this.padding),this.dataFormat=s||"channelsLast",Gn(this.dataFormat),this.dilationRate=hh(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>bi(l,"dilationRate"))}build(e){var n;e=Mt(e);const i=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[i]==null)throw new se("The channel dimension of the input should be defined. "+"Found ".concat(e[i]));const r=e[i],o=4,s=this.kernelSize.concat([r,this.filters*o]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends cs{apply(h,f){const p=c.apply([u]),m=jr([u]),b=c.apply([u*2]);return xI([p,m,b])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return ce(()=>{if(e.length!==3)throw new se("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const i=n.training||!1,r=e[0],o=e[1],s=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=lc({ones:()=>yo(r),rate:this.dropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(K,q,G)=>!q||!q[G]?K:Q(q[G],K);let u=c(r,l,0),d=c(r,l,1),h=c(r,l,2),f=c(r,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=lc({ones:()=>yo(o),rate:this.recurrentDropout,training:i,count:a,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=c(o,p,0),b=c(o,p,1),g=c(o,p,2),x=c(o,p,3);const y=3,[v,w,E,C]=Ur(this.kernel.read(),a,y),[I,T,_,M]=this.useBias?Ur(this.bias.read(),a):[null,null,null,null];u=this.inputConv(u,v,I,this.padding),d=this.inputConv(d,w,T,this.padding),h=this.inputConv(h,E,_,this.padding),f=this.inputConv(f,C,M,this.padding);const[D,z,$,F]=Ur(this.recurrentKernel.read(),a,y);m=this.recurrentConv(m,D),b=this.recurrentConv(b,z),g=this.recurrentConv(g,$),x=this.recurrentConv(x,F);const j=this.recurrentActivation.apply(Se(u,m)),W=this.recurrentActivation.apply(Se(d,b)),V=Se(Q(W,s),Q(j,this.activation.apply(Se(h,g)))),B=Q(this.recurrentActivation.apply(Se(f,x)),this.activation.apply(V));return[B,B,V]})}getConfig(){const e=super.getConfig(),{units:n}=e,i=vve(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},i),r)}inputConv(e,n,i,r){const o=rc(e,n,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return i?Fs(o,i,this.dataFormat):o}recurrentConv(e,n){return rc(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}LI.className="ConvLSTM2DCell";Te(LI);class HM extends VM{constructor(e){const n=new LI(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}HM.className="ConvLSTM2D";Te(HM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class zI extends It{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,i=[];for(let r=0;r<this.noiseShape.length;++r)i.push(this.noiseShape[r]==null?n[r]:this.noiseShape[r]);return i}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e);if(0<this.rate&&this.rate<1){const r=n.training==null?!1:n.training,o=this.getNoiseShape(i);return Zg(()=>DF(i,this.rate,o,this.seed),()=>i,r)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}zI.className="Dropout";Te(zI);class WM extends zI{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}WM.className="SpatialDropout1D";Te(WM);class GM extends It{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,bi(this.units,"units"),this.activation=ac(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=wn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=wn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=si(e.kernelConstraint),this.biasConstraint=si(e.biasConstraint),this.kernelRegularizer=Sn(e.kernelRegularizer),this.biasRegularizer=Sn(e.biasRegularizer),this.activityRegularizer=Sn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Mt(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Mt(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e),r=TF(this.activation.getClassName());let o;return r!=null?o=ea(i,this.kernel.read(),r,this.bias?this.bias.read():null):(o=ea(i,this.kernel.read()),this.bias!=null&&(o=Fs(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){const e={units:this.units,activation:sc(this.activation),useBias:this.useBias,kernelInitializer:$n(this.kernelInitializer),biasInitializer:$n(this.biasInitializer),kernelRegularizer:nn(this.kernelRegularizer),biasRegularizer:nn(this.biasRegularizer),activityRegularizer:nn(this.activityRegularizer),kernelConstraint:oi(this.kernelConstraint),biasConstraint:oi(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}GM.className="Dense";Te(GM);class qM extends It{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Mt(e);for(const n of e.slice(1))if(n==null)throw new se('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],ql(e,1)]}call(e,n){return ce(()=>{this.invokeCallHook(e,n);let i=ut(e);if(this.dataFormat==="channelsFirst"&&i.rank>1){const r=[0];for(let o=2;o<i.rank;++o)r.push(o);r.push(1),i=Dt(i,r)}return eye(i)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}qM.className="Flatten";Te(qM);class XM extends It{constructor(e){super(e),this.supportsMasking=!0,this.activation=ac(e.activation)}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e);return this.activation.apply(i)})}getConfig(){const e={activation:sc(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}XM.className="Activation";Te(XM);class KM extends It{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return ce(()=>(e=ut(e),J1e(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}KM.className="RepeatVector";Te(KM);class YM extends It{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const i="Total size of new array must be unchanged.",r=n.slice();let o=1,s=null;for(let l=0;l<r.length;++l){const c=r[l];if(this.isUnknown(c))if(s===null)s=l;else throw new se("Can only specifiy one unknown dimension.");else o*=c}const a=ql(e);if(s!==null){if(o===0||a%o!==0)throw new se(i);r[s]=a/o}else if(a!==o)throw new se(i);return r}computeOutputShape(e){let n=!1;for(let i=0;i<e.length;++i)if(this.isUnknown(e[i])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e),r=i.shape,o=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return ne(i,o)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}YM.className="Reshape";Te(YM);class ZM extends It{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const n=$s(1,e.dims.length+1);if(!Nt(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new ti({ndim:this.dims.length+1})]}computeOutputShape(e){e=Mt(e);const n=e.slice();return this.dims.forEach((i,r)=>{n[r+1]=e[i]}),n}call(e,n){return Dt(ut(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}ZM.className="Permute";Te(ZM);class JM extends It{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const i=ut(e);return Bx(Dh(i,this.maskValue),-1)}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e),s=Bx(Dh(i,this.maskValue),-1,!0);return Q(i,Me(s,i.dtype))})}}JM.className="Masking";Te(JM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class QM extends It{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Ht(e.inputLength))}this.inputDim=e.inputDim,bi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,bi(this.outputDim,"outputDim"),this.embeddingsInitializer=wn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Sn(e.embeddingsRegularizer),this.activityRegularizer=Sn(e.activityRegularizer),this.embeddingsConstraint=si(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return ce(()=>this.maskZero?(e=ut(e),Dh(e,Rt(e))):null)}computeOutputShape(e){if(e=Mt(e),this.inputLength==null)return[...e,this.outputDim];const n=Ht(this.inputLength);if(n.length!==e.length-1)throw new se('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let i=0;for(let r=0;r<n.length;++r){const o=n[r],s=e[r+1];if(o!=null&&s!=null&&o!==s)throw new se('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));o==null&&(n[i]=s),i++}}return[e[0],...n,this.outputDim]}call(e,n){return ce(()=>{this.invokeCallHook(e,n);let i=ut(e);i.dtype!=="int32"&&(i=Qs(i,"int32"));const r=OF(this.embeddings.read(),ne(i,[i.size]));return ne(r,Mt(this.computeOutputShape(i.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:$n(this.embeddingsInitializer),embeddingsRegularizer:nn(this.embeddingsRegularizer),activityRegularizer:nn(this.activityRegularizer),embeddingsConstraint:oi(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}QM.className="Embedding";Te(QM);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class td extends It{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new xt}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const i=e.slice(0,e.length-n.length);for(let r=0;r<n.length;++r){const o=e[e.length-n.length+r],s=n[r];if(o==null||s==null||o<0||s<0)i.push(null);else if(o===1)i.push(s);else if(s===1)i.push(o);else{if(o!==s)throw new se("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));i.push(o)}}return i}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Mt(e)]),e=e,e.length<2)throw new se("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let n=[];for(const o of e)o!=null&&o[0]!==null&&n.push(o[0]);if(n=Gl(n),n.length>1)throw new se("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let i=e[0]==null?null:e[0].slice(1);for(let o=1;o<e.length;++o){const s=e[o]==null?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}const r=e.map(o=>o.length);e.indexOf(null)===-1&&Gl(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return ce(()=>{if(e=e,this.reshapeRequired){const i=[],r=e.map(o=>o.rank);if(r.indexOf(null)===-1){const o=oc(r);for(let s of e){const a=s.rank;for(let l=0;l<o-a;++l)s=Kg(s,1);i.push(s)}return this.mergeFunction(i)}else{let o=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,d=u[0],h=u.slice(1).concat([d]);let f=ne(l,[d].concat(ql(u.slice(1))));f=Dt(f,[1,0]),f=ne(f,h),i.push(f),o=!0}else if(c>1){const u=$s(1,c).concat([0]);i.push(Dt(l,u)),o=!0}else i.push(l)}let s=this.mergeFunction(i);const a=s.rank;if(o){if(a==null){const l=s.shape,c=l.length,u=l[c-1],d=[u].concat(l.slice(0,l.length-1));s=ne(Dt(ne(s,[-1,u]),[1,0]),d)}else if(a>1){const l=[a-1].concat($s(0,a-1));s=Dt(s,l)}}return s}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let r=1;r<e.length;++r){const o=e[r]==null?null:e[r].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let i=[];for(const r of e)r!=null&&r[0]!==null&&i.push(r[0]);return i=Gl(i),i.length===1?n=i.concat(n):n=[null].concat(n),n}computeMask(e,n){return ce(()=>{if(n==null)return null;if(!Array.isArray(n))throw new se("`mask` should be an Array");if(!Array.isArray(e))throw new se("`inputs` should be an Array");if(n.length!==e.length)throw new se("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(n.length,")"));if(n.every(r=>r==null))return null;n=n.map(r=>r==null?r:Ii(r,0));let i=n[0];for(let r=1;r<n.length-1;++r)i=ia(i,n[r]);return i})}}class eP extends td{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Se(n,e[i]);return n})}}eP.className="Add";Te(eP);class tP extends td{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Q(n,e[i]);return n})}}tP.className="Multiply";Te(tP);class nP extends td{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=Se(n,e[i]);return Q(1/e.length,n)})}}nP.className="Average";Te(nP);class iP extends td{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=nl(n,e[i]);return n})}}iP.className="Maximum";Te(iP);class rP extends td{constructor(e){super(e)}mergeFunction(e){return ce(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=Au(n,e[i]);return n})}}rP.className="Minimum";Te(rP);class oP extends td{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new se("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const r of e)if(r!=null){n=!1;break}if(n)return;const i=[];for(let r=0;r<e.length;++r){const o=e[r].slice();o.splice(this.axis,1);let s=!1;for(const a of i)if(Nt(a,o)){s=!0;break}s||i.push(o)}if(i.length>1)throw new se("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return ce(()=>xI(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new se("A `Concatenate` layer should be called on a list of inputs.");const n=e,i=n[0].slice(),r=this.axis<0?i.length+this.axis:this.axis;for(const o of n.slice(1)){if(i[r]==null||o[r]==null){i[r]=null;break}i[r]+=o[r]}return i}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new se("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new se("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new se("Mismatch in the length of mask (".concat(n.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return ce(()=>{let i=!0;if(n.forEach(s=>{if(s!=null){i=!1;return}}),i)return null;const r=[];for(let s=0;s<e.length;++s)n[s]==null?r.push(Me(yo(e[s]),"bool")):n[s].rank<e[s].rank?r.push(Ii(n[s],-1)):r.push(n[s]);const o=Ln(r,this.axis);return QE(o,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}oP.className="Concatenate";Te(oP);function Wf(t,e){for(;t<0;)t+=e;return t}function wve(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new xt("batchDot is not implemented for tensors of 4D or higher rank yet");if(P(t.shape.length>=2,()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(t.shape.length)),P(t.shape.length>=2,()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(e.shape.length)),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new xt("batchDot is not implemented for complex64-type Tensors yet.");const i=t.shape.length,r=e.shape.length;n==null&&(n=[i-1,r-2]);const o=n;return ce(()=>{let s;if(i>r){s=i-r;const l=[];for(let c=0;c<s;++c)l.push(1);e=ne(e,e.shape.concat(l))}else if(r>i){s=r-i;const l=[];for(let c=0;c<s;++c)l.push(1);t=ne(t,t.shape.concat(l))}else s=0;let a;if(t.shape.length===2&&e.shape.length===2)o[0]===o[1]?a=Ke(Q(t,e),o[0]):a=Ke(Q(Dt(t,[1,0]),e),o[1]);else{const l=o[0]!==t.shape.length-1,c=o[1]===e.shape.length-1;a=$t(t,e,l,c)}if(s>0){let l;i>r?l=i+r-3:l=i-1;const c=[];for(let u=l;u<l+s;++u)c.push(u);a=Fn(a,c)}return a.shape.length===1&&(a=Ii(a,1)),a})}class sP extends td{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){P(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],i=e[1];if(n.length>3||i.length>3)throw new xt("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,i);if(n[r[0]]!==i[r[1]])throw new se("Dimension incompatibility: "+"".concat(n[r[0]]," !== ").concat(i[r[1]]))}mergeFunction(e){if(e.length!==2)throw new se("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let n=e[0],i=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((o,s)=>Wf(o,e[s].shape.length)):r=[Wf(this.axes,n.shape.length),Wf(this.axes,i.shape.length)],this.normalize&&(n=Gx(n,r[0]),i=Gx(i,r[1])),wve(n,i,r)}interpretAxes(e,n){let i;return Array.isArray(this.axes)?i=this.axes:i=[Wf(this.axes,e.length),Wf(this.axes,n.length)],i}computeOutputShape(e){P(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),i=e[1].slice();if(n.length>3||i.length>3)throw new xt("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,i);n.splice(r[0],1),i.splice(r[1],1),i.splice(0,1);const o=n.concat(i);return o.length===1&&o.push(1),o}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}sP.className="Dot";Te(sP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class aP extends It{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e);return Zg(()=>Se(Zv(i.shape,0,this.stddev),i),()=>i,n.training||!1)})}}aP.className="GaussianNoise";Te(aP);class lP extends It{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ce(()=>{this.invokeCallHook(e,n);const i=ut(e);return this.rate>0&&this.rate<1?Zg(()=>{const o=Math.sqrt(this.rate/(1-this.rate));return Q(i,Zv(i.shape,1,o))},()=>i,n.training||!1):i})}}lP.className="GaussianDropout";Te(lP);class cP extends It{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||ut(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ce(()=>{if(this.rate<1&&this.rate>0){const i=this._getNoiseShape(e);return Zg(()=>{const o=ut(e),a=-1.6732632423543772*1.0507009873554805;let l=wc(Ju(i),this.rate);l=Qs(l,"float32");const c=((1-this.rate)*(1+this.rate*a**2))**-.5,u=-c*a*this.rate,d=Se(Q(o,l),Q(Se(l,-1),a));return Se(Q(d,c),u)},()=>ut(e),n.training||!1)}return e})}}cP.className="AlphaDropout";Te(cP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function um(t,e,n,i,r,o=.001){let s;if(t.rank===2)s=DL(t,e,n,i,r,o);else if(t.rank===3)s=RL(t,e,n,i,r,o);else if(t.rank===4)s=LL(t,e,n,i,r,o);else throw new xt("batchNormalization is not implemented for array of rank ".concat(t.rank," ")+"yet");return s}function kve(t,e,n,i,r=.001){return ce(()=>{const o=Dv(t,i),s=o.mean,a=o.variance;return[um(t,s,a,n,e,r),s,a]})}function Sve(t,e,n,i,r=.001){return ce(()=>{const o=Dv(t,i),s=o.mean,a=o.variance,l=[];for(const p of $s(0,t.rank))i.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const c=ne(s,l),u=ne(a,l),d=e==null?null:ne(e,l),h=n==null?null:ne(n,l);return[um(t,c,u,h,d,r),s,a]})}function Cve(t,e,n,i,r=.001){return Nt(i.slice().sort(),$s(0,t.rank-1))?kve(t,e,n,i,r):Sve(t,e,n,i,r)}class uP extends It{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=wn(e.betaInitializer||"zeros"),this.gammaInitializer=wn(e.gammaInitializer||"ones"),this.movingMeanInitializer=wn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=wn(e.movingVarianceInitializer||"ones"),this.betaConstraint=si(e.betaConstraint),this.gammaConstraint=si(e.gammaConstraint),this.betaRegularizer=Sn(e.betaRegularizer),this.gammaRegularizer=Sn(e.gammaRegularizer)}build(e){e=Mt(e);const n=this.axis>=0?this.axis:this.axis+e.length,i=e[n];if(i==null)throw new se("Axis ".concat(n," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new ti({ndim:e.length,axes:{[n]:i}})];const r=[i];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return ce(()=>{const i=n.training==null?!1:n.training,r=ut(e),o=r.shape,s=o.length,a=$s(0,s),l=this.axis>=0?this.axis:this.axis+s;a.splice(l,1);const c=Ou(1,s);c[l]=o[l];const u=a.slice();u.sort();const d=!Nt(u,$s(0,s).slice(0,s-1)),h=()=>{if(d){const x=ne(this.movingMean.read(),c),y=ne(this.movingVariance.read(),c),v=this.center?ne(this.beta.read(),c):null,w=this.scale?ne(this.gamma.read(),c):null;return um(r,x,y,v,w,this.epsilon)}else return um(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!i)return h();const[f,p,m]=Cve(r,this.gamma.read(),this.beta.read(),a,this.epsilon),b=(x,y,v)=>{ce(()=>{const w=1-v,E=x.read(),C=Q(Ve(E,y),w);x.write(Ve(E,C))})};return(()=>{b(this.movingMean,p,this.momentum),b(this.movingVariance,m,this.momentum)})(),f})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$n(this.betaInitializer),gammaInitializer:$n(this.gammaInitializer),movingMeanInitializer:$n(this.movingMeanInitializer),movingVarianceInitializer:$n(this.movingVarianceInitializer),betaRegularizer:nn(this.betaRegularizer),gammaRegularizer:nn(this.gammaRegularizer),betaConstraint:oi(this.betaConstraint),gammaConstraint:oi(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}uP.className="BatchNormalization";Te(uP);class dP extends It{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}else throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=wn(e.betaInitializer||"zeros"),this.gammaInitializer=wn(e.gammaInitializer||"ones"),this.betaRegularizer=Sn(e.betaRegularizer),this.gammaRegularizer=Sn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Mt(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=n);for(const o of this.axis)if(o<0||o>=n)throw new Error("Invalid axis: ".concat(o));if(this.axis.length!==Gl(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const i=this.axis.map(o=>e[o]),r=!0;this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,n){const i=ut(e),r=i.shape,o=r.length;return ce(()=>{let{mean:a,variance:l}=Dv(i,this.axis,!0);const c=Ou(1,o);for(const m of this.axis)c[m]=r[m];const u=m=>m!=null&&m.shape.length!==o?ne(m,c):m;let d=this.scale?u(this.gamma.read()):null,h=this.center?u(this.beta.read()):null;const f=[],p=[];for(let m=0;m<o;++m)this.axis.indexOf(m)!==-1?(f.push(r[m]),p.push(1)):(f.push(1),p.push(r[m]));return a=Xo(a,f),l=Xo(l,f),d!=null&&(d=Xo(d,p)),h!=null&&(h=Xo(h,p)),um(i,a,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$n(this.betaInitializer),gammaInitializer:$n(this.gammaInitializer),betaRegularizer:nn(this.betaRegularizer),gammaRegularizer:nn(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}dP.className="LayerNormalization";Te(dP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Eve(t,e,n){return ce(()=>{if(t.rank!==4)throw new se("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new se("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=_s()),n!=="channelsLast"&&n!=="channelsFirst")throw new se("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let i;return n==="channelsFirst"?i=[[0,0],[0,0],e[0],e[1]]:i=[[0,0],e[0],e[1],[0,0]],kc(t,i)})}class hP extends It{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?_s():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new se("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let n,i;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new se("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(n=e.padding[0],e.padding[1].length!==2)throw new se("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}this.padding=[n,i]}this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){e=Mt(e);let n,i;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?i=e[3]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],e[1],n,i]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?i=e[2]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],n,i,e[3]])}call(e,n){return ce(()=>Eve(ut(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}hP.className="ZeroPadding2D";Te(hP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ow(t,e,n,i,r,o){return ce(()=>{Gn(r),$F(o),So(i),n==null&&(n=[1,1]),i==null&&(i="valid"),r==null&&(r=_s()),o==null&&(o="max"),t=NI(t,r);let s;const a=i==="same"?"same":"valid";return o==="max"?s=Ov(t,e,n,a):s=Cv(t,e,n,a),r==="channelsFirst"&&(s=Dt(s,[0,3,1,2])),s})}function fP(t,e,n,i,r,o){return ce(()=>{Gn(r),$F(o),So(i),n==null&&(n=[1,1,1]),i==null&&(i="valid"),r==null&&(r=_s()),o==null&&(o="max"),t=AM(t,r);let s;const a=i==="same"?"same":"valid";return o==="max"?s=oz(t,e,n,a):s=OL(t,e,n,a),r==="channelsFirst"&&(s=Dt(s,[0,4,1,2,3])),s})}class pP extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new se("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));if(bi(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new se("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));bi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,So(this.padding),this.inputSpec=[new ti({ndim:3})]}computeOutputShape(e){e=Mt(e);const n=Es(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return ce(()=>{this.invokeCallHook(e,n),e=Kg(ut(e),2);const i=this.poolingFunction(ut(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Fn(i,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class mP extends pP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),ow(e,n,i,r,o,"max")}}mP.className="MaxPooling1D";Te(mP);class gP extends pP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),ow(e,n,i,r,o,"avg")}}gP.className="AveragePooling1D";Te(gP);class bP extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new se("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];bi(this.poolSize,"poolSize"),bi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Gn(this.dataFormat),So(this.padding),this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){e=Mt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Es(n,this.poolSize[0],this.padding,this.strides[0]),i=Es(i,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i]:[e[0],n,i,e[3]]}call(e,n){return ce(()=>(this.invokeCallHook(e,n),this.poolingFunction(ut(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class xP extends bP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),ow(e,n,i,r,o,"max")}}xP.className="MaxPooling2D";Te(xP);class yP extends bP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),ow(e,n,i,r,o,"avg")}}yP.className="AveragePooling2D";Te(yP);class vP extends It{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new se("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];bi(this.poolSize,"poolSize"),bi(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Gn(this.dataFormat),So(this.padding),this.inputSpec=[new ti({ndim:5})]}computeOutputShape(e){e=Mt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Es(n,this.poolSize[0],this.padding,this.strides[0]),i=Es(i,this.poolSize[1],this.padding,this.strides[1]),r=Es(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i,r]:[e[0],n,i,r,e[4]]}call(e,n){return ce(()=>(this.invokeCallHook(e,n),this.poolingFunction(ut(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class wP extends vP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),fP(e,n,i,r,o,"max")}}wP.className="MaxPooling3D";Te(wP);class kP extends vP{constructor(e){super(e)}poolingFunction(e,n,i,r,o){return Gn(o),So(r),fP(e,n,i,r,o,"avg")}}kP.className="AveragePooling3D";Te(kP);class SP extends It{constructor(e){super(e),this.inputSpec=[new ti({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new xt}}class CP extends SP{constructor(e){super(e||{})}call(e,n){return ce(()=>{const i=ut(e);return Nn(i,1)})}}CP.className="GlobalAveragePooling1D";Te(CP);class EP extends SP{constructor(e){super(e||{})}call(e,n){return ce(()=>{const i=ut(e);return Jo(i,1)})}}EP.className="GlobalMaxPooling1D";Te(EP);class TP extends It{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Gn(this.dataFormat),this.inputSpec=[new ti({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new xt}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class IP extends TP{call(e,n){return ce(()=>{const i=ut(e);return this.dataFormat==="channelsLast"?Nn(i,[1,2]):Nn(i,[2,3])})}}IP.className="GlobalAveragePooling2D";Te(IP);class $P extends TP{call(e,n){return ce(()=>{const i=ut(e);return this.dataFormat==="channelsLast"?Jo(i,[1,2]):Jo(i,[2,3])})}}$P.className="GlobalMaxPooling2D";Te($P);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class _P extends It{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,i={}){const r=n.layer,o=Ba(r,i);delete n.layer;const s={layer:o};return Object.assign(s,n),new e(s)}}class AP extends _P{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Mt(e),e.length<3)throw new se("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Mt(e);const n=[e[0]].concat(e.slice(2)),i=this.layer.computeOutputShape(n),r=e[1];return[i[0],r].concat(i.slice(1))}call(e,n){return ce(()=>(e=ut(e),PM((s,a)=>[ut(this.layer.call(s,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}AP.className="TimeDistributed";Te(AP);function Tve(t){ed(q1e,"BidirectionalMergeMode",t)}const Ive="concat";class NP extends _P{constructor(e){super(e);const n=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=n,this.forwardLayer=Ba(i),n.goBackwards=n.goBackwards!==!0;const r={};if(r.className=e.layer.getClassName(),r.config=n,this.backwardLayer=Ba(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?Ive:e.mergeMode,Tve(this.mergeMode),e.weights)throw new xt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,i=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,i)),this.backwardLayer.setWeights(e.slice(i))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let i,r,o;return this.returnState&&(o=n.slice(1)),i=n[0],i=i,this.mergeMode==="concat"?(i[i.length-1]*=2,r=[i]):this.mergeMode==null?r=[i,i.slice()]:r=[i],this.returnState?this.mergeMode==null?r.concat(o).concat(o.slice()):[i].concat(o).concat(o.slice()):mr(r)}apply(e,n){let i=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const o=MM(e,i,r,this.numConstants);if(e=o.inputs,i=o.initialState,r=o.constants,Array.isArray(e)&&(i=e.slice(1),e=e[0]),(i==null||i.length===0)&&r==null)return super.apply(e,n);const s=[],a=[];if(i!=null){const c=i.length;if(c%2>0)throw new se("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=i,s.push(...i);const u=i.map(d=>new ti({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),a.push(...u)}if(r!=null)throw new xt("Support for constants in Bidirectional layers is not implemented yet.");const l=s[0]instanceof ra;for(const c of s)if(c instanceof ra!==l)throw new se("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(s),u=this.inputSpec.concat(a),d=this.inputSpec;this.inputSpec=u;const h=super.apply(c,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return ce(()=>{const i=n.initialState;let r,o;if(i==null)r=this.forwardLayer.call(e,n),o=this.backwardLayer.call(e,n);else{const l=i.slice(0,i.length/2),c=i.slice(i.length/2);r=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),o=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let s;this.returnState&&(Array.isArray(r)&&(s=r.slice(1).concat(o.slice(1))),r=r[0],o=o[0]),this.returnSequences&&(o=rs(o,1));let a;return this.mergeMode==="concat"?a=xI([r,o]):this.mergeMode==="sum"?a=Se(r,o):this.mergeMode==="ave"?a=Q(.5,Se(r,o)):this.mergeMode==="mul"?a=Q(r,o):this.mergeMode==null&&(a=[r,o]),this.returnState?this.mergeMode==null?a.concat(s):[a].concat(s):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){cu(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),cu(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let i;if(this.returnSequences?this.mergeMode==null?i=[n,n]:i=n:this.mergeMode==null?i=[null,null]:i=null,this.returnState){const o=this.forwardLayer.states.map(s=>null);return Array.isArray(i)?i.concat(o).concat(o):[i].concat(o).concat(o)}else return i}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const i=Ba(n.layer);if(delete n.layer,n.numConstants!=null)throw new xt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=n;return r.layer=i,new e(r)}}NP.className="Bidirectional";Te(NP);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class OP extends It{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ce(()=>(e=ut(e),e.dtype!=="float32"&&(e=Qs(e,"float32")),Se(Q(e,this.scale),this.offset)))}}OP.className="Rescaling";Te(OP);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:$ve,cropAndResize:_ve}=co;class DP extends It{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,i,r,o,s,a,l){return ce(()=>{let c,u=!1;const d=n/s,h=i/a,f=(r+n)/s,p=(o+i)/a,m=[d,h,f,p],b=[];e.rank===3?(u=!0,c=Xr([e])):c=e;for(let w=0;w<c.shape[0];w++)b.push(m);const g=Ss(b,[b.length,4]),x=Rh(0,b.length,1,"int32"),v=_ve(c,g,x,[r,o],"nearest");return Qs(u?ut(os(v)):v,l)})}upsize(e,n,i,r){return ce(()=>{const o=$ve(e,[n,i]);return Qs(o,r)})}call(e,n){return ce(()=>{const i=ut(e),r=i.dtype,o=i.shape,s=o[o.length-3],a=o[o.length-2];let l=0;s!==this.height&&(l=Math.floor((s-this.height)/2));let c=0;return a!==this.width&&(c=Math.floor((a-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(i,l,c,this.height,this.width,s,a,r):this.upsize(e,this.height,this.width,r)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Mt(e);const n=e.length-3,i=e.length-2;return e[n]=this.height,e[i]=this.width,e}}DP.className="CenterCrop";Te(DP);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ave(t,e,n,i){let r=ut(t);if(r.dtype!=="int32"&&(r=Qs(r,"int32")),e==="int")return r;const o=r.shape;if(r.rank===0&&(r=Ii(r,-1)),e==="oneHot"&&r.shape[r.shape.length-1]!==1&&(r=Ii(r,-1)),r.rank>2)throw new se("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(e," and input shape ").concat(o)+" which would result in output rank ".concat(r.rank,"."));const s=["multiHot","oneHot"].includes(e),a=r;let l;if(typeof i<"u"&&e==="count"?l=Z3(a,i,n,s):l=Z3(a,[],n,s),e!=="tfIdf")return l;if(i)return Q(l,i);throw new se("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class RP extends It{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Mt(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return ce(()=>{e=ut(e),e.dtype!=="int32"&&(e=Qs(e,"int32"));let i;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new se("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(n.countWeights));i=ut(n.countWeights)}const r=Jo(e),o=nm(e),s=eo(this.numTokens,r).bufferSync().get(0),a=wc(o,0).bufferSync().get(0);if(!(s&&a))throw new se("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return Ave(e,this.outputMode,this.numTokens,i)})}}RP.className="CategoryEncoding";Te(RP);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Nve=["bilinear","nearest"],UA=new Set(Nve);class LP extends It{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(UA.has(e.interpolation))this.interpolation=e.interpolation;else throw new se("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Mt(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ce(()=>{const i=[this.height,this.width];if(this.interpolation==="bilinear")return co.resizeBilinear(e,i,!this.cropToAspectRatio);if(this.interpolation==="nearest")return co.resizeNearestNeighbor(e,i,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...UA]," are supported"))})}}LP.className="Resizing";Te(LP);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class zP{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}zP.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class FP extends It{constructor(e){super(e),this.randomGenerator=new zP(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}FP.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ove=["bilinear","nearest"],VA=new Set(Ove);class MP extends FP{constructor(e){super(e);const{factor:n,interpolation:i="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new se("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));if(this.widthLower<-1||this.widthUpper<-1)throw new se("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new se("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(i)if(VA.has(i))this.interpolation=i;else throw new se("Invalid interpolation parameter: ".concat(i," is not implemented"))}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Mt(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return ce(()=>{const i=ut(e);this.imgHeight=i.shape[i.shape.length-3];const r=i.shape[i.shape.length-2];this.widthFactor=Ju([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let o=this.widthFactor.dataSync()[0]*r;o=Math.round(o);const s=[this.imgHeight,o];switch(this.interpolation){case"bilinear":return co.resizeBilinear(e,s);case"nearest":return co.resizeNearestNeighbor(e,s);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...VA]," are supported"))}})}}MP.className="RandomWidth";Te(MP);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dve=fe();Dve.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Dr;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Dr||(Dr={}));var HA;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(HA||(HA={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rve={};function PP(t){return Rve[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A(t,e,n,i,r){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const a=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?a+1:o.inputIndexEnd,c=a<0?e.inputNames.length+a:a;if(o.type==="tensor")return _i(e.inputNames[c],n,i,r);if(o.type==="tensors"){const h=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((p,m)=>{var b;return((b=h[m])===null||b===void 0?void 0:b.op)!=="NoOp"}).map(p=>_i(p,n,i,r))}const u=_i(e.inputNames[c],n,i,r),d=u.dataSync();return o.type==="number"?d[0]:Zo(u.shape,d)}const s=e.attrParams[t];return s&&s.value}function _i(t,e,n,i){const[r,o]=Lr(t,n);if(i!=null){const a=i.getHashTableHandleByName(r);if(a!=null)return a}const s=n.currentContextIds.find(a=>!!e[Zx(r,a)]);return s!==void 0?e[Zx(r,s)][o]:void 0}function WA(t,e,n){return e[Zx(t,n.currentContextId)]}function wa(t,e){const[n,i,r]=Lr(t,e);return[Zx(n,e&&e.currentContextId),i,r]}function Zx(t,e){return e?"".concat(t,"-").concat(e):t}function Lr(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const o=e.parseNodeNameCache.get(t);if(o!=null)return o}const i=t.split(":");let r;if(i.length===1)r=[t,0,void 0];else{const o=i[0],s=i.length===3?i[1]:void 0,a=Number(i[i.length-1]);r=[o,a,s]}return n&&e.parseNodeNameCache.set(t,r),r}function Nb(t,e,n){let i=A("pad",t,e,n);if(i==="explicit"){i=A("explicitPaddings",t,e,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)r[o][0]=i[o*2],r[o][1]=i[o*2+1];return r}return i}function ka(t){return t.kept?t:Pa(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lve=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],zve=Object.freeze(Object.defineProperty({__proto__:null,json:Lve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fve=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Mve=Object.freeze(Object.defineProperty({__proto__:null,json:Fve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pve=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Bve=Object.freeze(Object.defineProperty({__proto__:null,json:Pve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jve=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Uve=Object.freeze(Object.defineProperty({__proto__:null,json:jve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vve=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Hve=Object.freeze(Object.defineProperty({__proto__:null,json:Vve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wve=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Gve=Object.freeze(Object.defineProperty({__proto__:null,json:Wve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qve=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Xve=Object.freeze(Object.defineProperty({__proto__:null,json:qve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kve=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Yve=Object.freeze(Object.defineProperty({__proto__:null,json:Kve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zve=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Jve=Object.freeze(Object.defineProperty({__proto__:null,json:Zve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qve=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],ewe=Object.freeze(Object.defineProperty({__proto__:null,json:Qve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const twe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],nwe=Object.freeze(Object.defineProperty({__proto__:null,json:twe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iwe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],rwe=Object.freeze(Object.defineProperty({__proto__:null,json:iwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const owe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],swe=Object.freeze(Object.defineProperty({__proto__:null,json:owe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const awe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],lwe=Object.freeze(Object.defineProperty({__proto__:null,json:awe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cwe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],uwe=Object.freeze(Object.defineProperty({__proto__:null,json:cwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dwe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],hwe=Object.freeze(Object.defineProperty({__proto__:null,json:dwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fwe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],pwe=Object.freeze(Object.defineProperty({__proto__:null,json:fwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mwe=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],gwe=Object.freeze(Object.defineProperty({__proto__:null,json:mwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bwe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],xwe=Object.freeze(Object.defineProperty({__proto__:null,json:bwe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GA{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[zve,Mve,Bve,Uve,Hve,Gve,Xve,Yve,Jve,ewe,nwe,rwe,swe,lwe,uwe,hwe,pwe,gwe,xwe],n=[].concat(...e.map(i=>i.json));this.opMappers=n.reduce((i,r)=>(i[r.tfOpName]=r,i),{})}transformGraph(e,n={}){const i=e.node,r=[],o=[],s=[],a=i.reduce((m,b)=>(m[b.name]=this.mapNode(b),b.op.startsWith("Placeholder")?r.push(m[b.name]):b.op==="Const"?o.push(m[b.name]):(b.input==null||b.input.length===0)&&s.push(m[b.name]),m),{});let l=[];const c=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const h=Object.keys(a);h.forEach(m=>{const b=a[m];b.inputNames.forEach((g,x)=>{const[y,,v]=wa(g),w=a[y];if(w.outputs!=null){const E=w.outputs.indexOf(v);if(E!==-1){const C="".concat(y,":").concat(E);b.inputNames[x]=C}}b.inputs.push(w),w.children.push(b)})}),Object.keys(d).length===0?h.forEach(m=>{const b=a[m];b.children.length===0&&c.push(b)}):Object.keys(d).forEach(m=>{const[b]=wa(m),g=a[b];g!=null&&(g.signatureKey=d[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[b]=wa(m),g=a[b];g&&(g.signatureKey=u[m],l.push(g))}):l=r;let f={};e.library!=null&&e.library.function!=null&&(f=e.library.function.reduce((m,b)=>(m[b.signature.name]=this.mapFunction(b),m),{}));const p={nodes:a,inputs:l,outputs:c,weights:o,placeholders:r,signature:n,functions:f};return s.length>0&&(p.initNodes=s),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,i)=>(n[e[i].name]=i,n),{})}mapNode(e){const n=PP(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const i={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(i.inputParams=n.inputs.reduce((r,o)=>(r[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},r),{})),n.attrs!=null&&(i.attrParams=n.attrs.reduce((r,o)=>{const s=o.type;let a;switch(o.type){case"string":a=hS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=hS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":a=yS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=yS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":a=pS(e.attr,o.tfName,o.defaultValue||0),a===void 0&&o.tfDeprecatedName&&(a=pS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":a=xS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=xS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":a=fS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=fS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":a=wS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=wS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":a=bS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=bS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":a=vS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=vS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":a=mS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=mS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":a=gS(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=gS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":a=qA(e.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=qA(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(o.type," for op: ").concat(e.op))}return r[o.name]={value:a,type:s},r},{})),i}mapFunction(e){const n=e.nodeDef,i=[],r=[];let o={};n!=null&&(o=n.reduce((d,h)=>(d[h.name]=this.mapNode(h),h.op==="Const"&&r.push(d[h.name]),d),{}));const s=[],a=[];e.signature.inputArg.forEach(d=>{const[h]=wa(d.name),f={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:FI(d.type),type:"dtype"}},children:[]};f.signatureKey=d.name,s.push(f),o[h]=f}),Object.keys(o).forEach(d=>{const h=o[d];h.inputNames.forEach((f,p)=>{const[m,,b]=wa(f),g=o[m];if(g.outputs!=null){const x=g.outputs.indexOf(b);if(x!==-1){const y="".concat(m,":").concat(x);h.inputNames[p]=y}}h.inputs.push(g),g.children.push(h)})});const c=e.ret;e.signature.outputArg.forEach(d=>{const[h,f]=wa(c[d.name]),p=o[h];p!=null&&(p.defaultOutput=f,a.push(p))});const u=this.mapArgsToSignature(e);return{nodes:o,inputs:s,outputs:a,weights:r,placeholders:i,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i),n),{}),outputs:e.signature.outputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i,e.ret),n),{})}}mapArgToTensorInfo(e,n){let i=e.name;return n!=null&&(i=n[i]),{name:i,dtype:e.type}}}function ywe(t){const e=fe().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function BP(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):ywe(t);return e?n:n.toLowerCase()}function hS(t,e,n,i=!1){const r=t[e];return r!=null?BP(r.s,i):n}function fS(t,e,n){const i=t[e];return i?i.b:n}function pS(t,e,n){const i=t[e]||{},r=i.i!=null?i.i:i.f!=null?i.f:n;return typeof r=="number"?r:parseInt(r,10)}function FI(t){switch(typeof t=="string"&&(t=Dr[t]),t){case Dr.DT_FLOAT:case Dr.DT_HALF:return"float32";case Dr.DT_INT32:case Dr.DT_INT64:case Dr.DT_INT8:case Dr.DT_UINT8:return"int32";case Dr.DT_BOOL:return"bool";case Dr.DT_DOUBLE:return"float32";case Dr.DT_STRING:return"string";case Dr.DT_COMPLEX64:case Dr.DT_COMPLEX128:return"complex64";default:return null}}function qA(t,e,n){const i=t[e];return i&&i.func?i.func.name:n}function mS(t,e,n){const i=t[e];return i&&i.type?FI(i.type):n}function gS(t,e,n){const i=t[e];return i&&i.list&&i.list.type?i.list.type.map(r=>FI(r)):n}function jP(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function bS(t,e,n){const i=t[e];return i&&i.shape?jP(i.shape):n}function xS(t,e,n){const i=t[e];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):n}function yS(t,e,n,i=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(o=>BP(o,i)):n}function vS(t,e,n){const i=t[e];return i&&i.list&&i.list.shape?i.list.shape.map(r=>jP(r)):n}function wS(t,e,n){const i=t[e];return i&&i.list&&i.list.b?i.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vwe{constructor(e,n,i){this.node=e,this.tensorMap=n,this.context=i,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,o)=>(r[o]=this.getAttr(o),r),{}))}getInput(e){return _i(e,this.tensorMap,this.context)}getAttr(e,n){const i=this.node.rawAttrs[e];if(i.tensor!=null)return _i(e,this.tensorMap,this.context);if(i.i!=null||i.f!=null)return pS(this.node.rawAttrs,e,n);if(i.s!=null)return hS(this.node.rawAttrs,e,n);if(i.b!=null)return fS(this.node.rawAttrs,e,n);if(i.shape!=null)return bS(this.node.rawAttrs,e,n);if(i.type!=null)return mS(this.node.rawAttrs,e,n);if(i.list!=null){if(i.list.i!=null||i.list.f!=null)return xS(this.node.rawAttrs,e,n);if(i.list.s!=null)return yS(this.node.rawAttrs,e,n);if(i.list.shape!=null)return vS(this.node.rawAttrs,e,n);if(i.list.b!=null)return wS(this.node.rawAttrs,e,n);if(i.list.type!=null)return gS(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pi=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:sL,abs:Jn,acos:CL,acosh:EL,add:Se,addN:Pde,all:QE,any:Bx,argMax:Nh,argMin:TL,asin:IL,asinh:$L,atan:_L,atan2:AL,atanh:NL,avgPool:Cv,avgPool3d:OL,basicLSTMCell:lhe,batchNorm:Pg,batchNorm2d:DL,batchNorm3d:RL,batchNorm4d:LL,batchToSpaceND:Ev,bincount:zL,bitwiseAnd:bhe,booleanMaskAsync:Zme,broadcastArgs:yhe,broadcastTo:uh,buffer:vt,cast:Me,ceil:FL,clipByValue:Er,clone:Pa,complex:tc,concat:Ln,concat1d:ML,concat2d:PL,concat3d:BL,concat4d:jL,conv1d:tT,conv2d:rc,conv2dTranspose:iT,conv3d:UL,conv3dTranspose:HL,cos:Tv,cosh:rT,cosineWindow:LT,cumprod:jx,cumsum:oT,denseBincount:Z3,depthToSpace:WL,depthwiseConv2d:Bg,diag:Uhe,dilation2d:GL,div:Ue,divNoNan:qL,dot:XL,dropout:wz,einsum:Rd,elu:jg,enclosingPowerOfTwo:kz,ensureShape:Jhe,equal:Is,erf:sT,euclideanNorm:ZL,exp:ar,expandDims:Ii,expm1:JL,eye:lT,fft:Bv,fill:lf,floor:Vg,floorDiv:JE,fused:yge,gather:Hg,gatherND:age,greater:eo,greaterEqual:wc,ifft:sm,imag:Iv,image:co,inTopKAsync:dge,irfft:_T,isFinite:QL,isInf:ez,isNaN:tz,leakyRelu:$v,less:im,lessEqual:Yu,linalg:Az,linspace:Cfe,localResponseNormalization:nz,log:xo,log1p:_v,logSigmoid:iz,logSoftmax:cT,logSumExp:Av,logicalAnd:ia,logicalNot:Nv,logicalOr:uT,logicalXor:rz,losses:Y0e,lowerBound:Bfe,matMul:$t,max:Jo,maxPool:Ov,maxPool3d:oz,maxPoolWithArgmax:Hfe,maximum:nl,mean:Nn,meshgrid:qfe,min:nm,minimum:Au,mirrorPad:sz,mod:az,moments:Dv,movingAverage:ege,mul:Q,multiRNNCell:Qfe,multinomial:tpe,neg:xn,norm:Ug,notEqual:Dh,oneHot:hT,ones:jr,onesLike:yo,op:Z,outerProduct:spe,pad:kc,pad1d:cpe,pad2d:dpe,pad3d:fpe,pad4d:mpe,pool:lz,pow:Ga,prelu:Lv,print:SL,prod:cz,raggedGather:Spe,raggedRange:Epe,raggedTensorToTensor:Ipe,rand:_pe,randomGamma:qpe,randomNormal:vT,randomStandardNormal:Ype,randomUniform:Ju,randomUniformInt:Qpe,range:Rh,real:rm,reciprocal:dz,relu:ua,relu6:wT,reshape:ne,reverse:rs,reverse1d:sme,reverse2d:lme,reverse3d:ume,reverse4d:hme,rfft:jv,round:kT,rsqrt:ST,scalar:rt,scatterND:nge,searchSorted:dT,selu:CT,separableConv2d:ET,setdiff1dAsync:xme,sigmoid:Cs,sign:hz,signal:K0e,sin:TT,sinh:IT,slice:ct,slice1d:Fv,slice2d:$T,slice3d:Mv,slice4d:om,softmax:Pv,softplus:cf,spaceToBatchND:Rv,sparse:Z0e,sparseToDense:oge,spectral:X0e,split:Ur,sqrt:Ri,square:tn,squaredDifference:AT,squeeze:Fn,stack:Xr,step:uf,stridedSlice:fz,string:J0e,sub:Ve,sum:Ke,tan:pz,tanh:_u,tensor:Ss,tensor1d:Kn,tensor2d:lu,tensor3d:mz,tensor4d:Mme,tensor5d:Pme,tensor6d:Bme,tensorScatterUpdate:Ume,tile:Xo,topk:bz,transpose:Dt,truncatedNormal:OT,unique:xz,unsortedSegmentSum:DT,unstack:os,upperBound:Xme,variable:yz,where:Xi,whereAsync:vz,zeros:Qn,zerosLike:Rt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wwe=(t,e,n,i=Pi)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[i.add(A("a",t,e,n),A("b",t,e,n))];case"AddN":return[i.addN(A("tensors",t,e,n))];case"FloorMod":case"Mod":return[i.mod(A("a",t,e,n),A("b",t,e,n))];case"Mul":return[i.mul(A("a",t,e,n),A("b",t,e,n))];case"RealDiv":case"Div":return[i.div(A("a",t,e,n),A("b",t,e,n))];case"DivNoNan":return[i.divNoNan(A("a",t,e,n),A("b",t,e,n))];case"FloorDiv":return[i.floorDiv(A("a",t,e,n),A("b",t,e,n))];case"Sub":return[i.sub(A("a",t,e,n),A("b",t,e,n))];case"Minimum":return[i.minimum(A("a",t,e,n),A("b",t,e,n))];case"Maximum":return[i.maximum(A("a",t,e,n),A("b",t,e,n))];case"Pow":return[i.pow(A("a",t,e,n),A("b",t,e,n))];case"SquaredDifference":return[i.squaredDifference(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kwe=(t,e,n,i=Pi)=>{switch(t.op){case"Abs":case"ComplexAbs":return[i.abs(A("x",t,e,n))];case"Acos":return[i.acos(A("x",t,e,n))];case"Acosh":return[i.acosh(A("x",t,e,n))];case"Asin":return[i.asin(A("x",t,e,n))];case"Asinh":return[i.asinh(A("x",t,e,n))];case"Atan":return[i.atan(A("x",t,e,n))];case"Atan2":return[i.atan2(A("x",t,e,n),A("y",t,e,n))];case"Atanh":return[i.atanh(A("x",t,e,n))];case"Ceil":return[i.ceil(A("x",t,e,n))];case"Complex":return[i.complex(A("real",t,e,n),A("imag",t,e,n))];case"Cos":return[i.cos(A("x",t,e,n))];case"Cosh":return[i.cosh(A("x",t,e,n))];case"Elu":return[i.elu(A("x",t,e,n))];case"Erf":return[i.erf(A("x",t,e,n))];case"Exp":return[i.exp(A("x",t,e,n))];case"Expm1":return[i.expm1(A("x",t,e,n))];case"Floor":return[i.floor(A("x",t,e,n))];case"Log":return[i.log(A("x",t,e,n))];case"Log1p":return[i.log1p(A("x",t,e,n))];case"Imag":return[i.imag(A("x",t,e,n))];case"Neg":return[i.neg(A("x",t,e,n))];case"Reciprocal":return[i.reciprocal(A("x",t,e,n))];case"Real":return[i.real(A("x",t,e,n))];case"Relu":return[i.relu(A("x",t,e,n))];case"Round":return[i.round(A("x",t,e,n))];case"Selu":return[i.selu(A("x",t,e,n))];case"Sigmoid":return[i.sigmoid(A("x",t,e,n))];case"Sin":return[i.sin(A("x",t,e,n))];case"Sign":return[i.sign(A("x",t,e,n))];case"Sinh":return[i.sinh(A("x",t,e,n))];case"Softplus":return[i.softplus(A("x",t,e,n))];case"Sqrt":return[i.sqrt(A("x",t,e,n))];case"Square":return[i.square(A("x",t,e,n))];case"Tanh":return[i.tanh(A("x",t,e,n))];case"Tan":return[i.tan(A("x",t,e,n))];case"ClipByValue":return[i.clipByValue(A("x",t,e,n),A("clipValueMin",t,e,n),A("clipValueMax",t,e,n))];case"Relu6":return[i.relu6(A("x",t,e,n))];case"Rsqrt":return[i.rsqrt(_i(t.inputNames[0],e,n))];case"LeakyRelu":return[i.leakyRelu(A("x",t,e,n),A("alpha",t,e,n))];case"Prelu":return[i.prelu(A("x",t,e,n),A("alpha",t,e,n))];case"IsNan":return[i.isNaN(_i(t.inputNames[0],e,n))];case"IsInf":return[i.isInf(_i(t.inputNames[0],e,n))];case"IsFinite":return[i.isFinite(_i(t.inputNames[0],e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lo(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){P(t.length===e.length,()=>n+" Shapes ".concat(t," and ").concat(e," must match"));for(let i=0;i<t.length;i++){const r=t[i],o=e[i];P(r<0||o<0||r===o,()=>n+" Shapes ".concat(t," and ").concat(e," must match"))}}}function XA(t){return!(typeof t=="number"||t.some(e=>e<0))}function Gf(t,e,n){let i=kS(t,n);const r=!XA(i);if(r&&e.length===0)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(i));if(r&&e.forEach(o=>{i=kS(o.shape,i)}),!XA(i))throw new Error("Non-fully-defined elementShape: ".concat(i));return i}function kS(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error("Incompatible ranks during merge: ".concat(t," vs. ").concat(e));const n=[];for(let i=0;i<t.length;++i){const r=t[i],o=e[i];if(r>=0&&o>=0&&r!==o)throw new Error("Incompatible shape during merge: ".concat(t," vs. ").concat(e));n[i]=r>=0?r:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Swe{constructor(e,n,i,r,o,s,a){this.name=e,this.dtype=n,this.maxSize=i,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=s,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=rt(0),gi(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const n=this.tensors[e];if(n.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const i=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(n.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Lo(this.elementShape,n.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),i.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(i.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));i.tensor=n,gi(n),i.written=!0,this.tensors[e]=i}writeMany(e,n){if(e.length!==n.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(n.length,"."));e.forEach((i,r)=>this.write(i,n[r]))}gather(e,n){if(n&&n!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(n));if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return Ss([],[0].concat(this.elementShape));const i=this.readMany(e);return Lo(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),Xr(i,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(this.size()===0)return Ss([],[0].concat(this.elementShape));const n=[];for(let r=0;r<this.size();r++)n.push(r);const i=this.readMany(n);return Lo(this.elementShape,i[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(i[0].shape,")")),Ln(i,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));if(e.length!==n.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(n.shape[0]));const i=Math.max(...e);if(!this.dynamicSize&&i>=this.maxSize)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,os(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(n.dtype));let i=0;const r=e.map(l=>(i+=l,i));if(i!==n.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(n.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const o=i===0?0:n.size/i,s=[];ce(()=>{n=ne(n,[1,i,o]);for(let l=0;l<e.length;++l){const u=[0,l===0?0:r[l-1],0],d=[1,e[l],o];s[l]=ne(ct(n,u,d),this.elementShape)}return s});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,s)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Du{get id(){return this.idTensor.id}constructor(e,n,i,r=-1){this.tensors=e,this.elementShape=n,this.elementDtype=i,e!=null&&e.forEach(o=>{if(i!==o.dtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(o.dtype));Lo(n,o.shape,"TensorList shape mismatch: "),gi(o)}),this.idTensor=rt(0),this.maxNumElements=r,gi(this.idTensor)}copy(){return new Du([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,i=-1){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(i!==-1&&this.tensors.length!==i)throw new Error("Operation expected a list with ".concat(i," elements but got a list with ").concat(this.tensors.length," elements."));Lo(e,this.elementShape,"TensorList shape mismatch: ");const r=Gf(this.elementShape,this.tensors,e);return ce(()=>{const o=this.tensors.map(s=>ne(s,r));return Xr(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(this.size()===0)throw new Error("Trying to pop from an empty list.");const i=Gf(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Lo(r.shape,e,"TensorList shape mismatch: "),ne(r,i)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Lo(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");gi(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const n=new Du([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let i=0;i<Math.min(this.tensors.length,e);++i)n.tensors[i]=this.tensors[i];return n}getItem(e,n,i){if(i!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(i,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(this.tensors[e]==null)throw new Error("element at index ".concat(e," is null."));Lo(this.tensors[e].shape,n,"TensorList shape mismatch: ");const r=Gf(this.elementShape,this.tensors,n);return ne(this.tensors[e],r)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n.dtype,", but list elements ").concat(this.elementDtype));if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Lo(this.elementShape,n.shape,"TensorList shape mismatch: "),gi(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,i){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));Lo(this.elementShape,i,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Gf(this.elementShape,this.tensors,i);return e.length===0?Ss([],[0].concat(r)):ce(()=>{const o=e.map(s=>ne(this.tensors[s],r));return Xr(o,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Lo(this.elementShape,n,"TensorList shape mismatch: ");const i=Gf(this.elementShape,this.tensors,n);return this.size()===0?Ss([],[0].concat(i)):ce(()=>{const r=this.tensors.map(o=>ne(o,i));return Ln(r,0)})}}function Cwe(t,e,n){const i=t.dtype;if(t.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(t.shape));if(t.dtype!==n)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(n));const r=t.shape.slice(1);Lo(r,e,"TensorList shape mismatch: ");const o=os(t);return new Du(o,e,i)}function Ewe(t,e,n,i){return new Du([],t,e,i)}function Twe(t,e,n,i){if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const r=Math.max(...e);if(i!=null&&i!==-1&&r>=i)throw new Error("Max index must be < array size (".concat(r,"  vs. ").concat(i,")"));const o=new Du([],n,t.dtype,i),s=os(t,0);return e.forEach((a,l)=>{o.setItem(a,s[l])}),o}function Iwe(t,e,n){let i=0;const r=e.map(u=>(i+=u,i));if(i!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(i,", and tensor's shape is: ").concat(t.shape));const o=t.shape.slice(1),s=kS(o,n),a=i===0?0:t.size/i,l=ce(()=>{const u=[];t=ne(t,[1,i,a]);for(let d=0;d<e.length;++d){const f=[0,d===0?0:r[d-1],0],p=[1,e[d],a];u[d]=ne(ct(t,f,p),s)}return t.dispose(),u}),c=new Du([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $we=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const i=A("thenBranch",t,e,n),r=A("elseBranch",t,e,n),o=A("cond",t,e,n),s=A("args",t,e,n);return(await o.data())[0]?n.functionMap[i].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const i=A("body",t,e,n),r=A("cond",t,e,n),o=A("args",t,e,n),s=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),a=o.map(u=>u.id);let l=await s[0].data();s.forEach(u=>{!u.kept&&a.indexOf(u.id)===-1&&u.dispose()});let c=o;for(;l[0];){const u=c;c=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const d=c.map(f=>f.id);u.forEach(f=>{!f.kept&&a.indexOf(f.id)===-1&&d.indexOf(f.id)===-1&&f.dispose()});const h=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await h[0].data(),h.forEach(f=>{!f.kept&&a.indexOf(f.id)===-1&&d.indexOf(f.id)===-1&&f.dispose()})}return c}case"LoopCond":{const i=A("pred",t,e,n);return[ka(i)]}case"Switch":{const i=A("pred",t,e,n);let r=A("data",t,e,n);return r.kept||(r=ka(r)),(await i.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const i=t.inputNames.find(r=>_i(r,e,n)!==void 0);if(i){const r=_i(i,e,n);return[ka(r)]}return}case"Enter":{const i=A("frameName",t,e,n),r=A("tensor",t,e,n);return n.enterFrame(i),[ka(r)]}case"Exit":{const i=A("tensor",t,e,n);return n.exitFrame(),[ka(i)]}case"NextIteration":{const i=A("tensor",t,e,n);return n.nextIteration(),[ka(i)]}case"TensorArrayV3":{const i=A("size",t,e,n),r=A("dtype",t,e,n),o=A("elementShape",t,e,n),s=A("dynamicSize",t,e,n),a=A("clearAfterRead",t,e,n),l=A("identicalElementShapes",t,e,n),c=A("name",t,e,n),u=new Swe(c,r,i,o,l,s,a);return n.addTensorArray(u),[u.idTensor,rt(1)]}case"TensorArrayWriteV3":{const i=A("tensorArrayId",t,e,n),r=A("index",t,e,n),o=A("tensor",t,e,n),s=n.getTensorArray(i.id);return s.write(r,o),[s.idTensor]}case"TensorArrayReadV3":{const i=A("tensorArrayId",t,e,n),r=A("index",t,e,n);return[n.getTensorArray(i.id).read(r)]}case"TensorArrayGatherV3":{const i=A("tensorArrayId",t,e,n),r=A("indices",t,e,n),o=A("dtype",t,e,n);return[n.getTensorArray(i.id).gather(r,o)]}case"TensorArrayScatterV3":{const i=A("tensorArrayId",t,e,n),r=A("indices",t,e,n),o=A("tensor",t,e,n),s=n.getTensorArray(i.id);return s.scatter(r,o),[s.idTensor]}case"TensorArrayConcatV3":{const i=A("tensorArrayId",t,e,n),r=n.getTensorArray(i.id),o=A("dtype",t,e,n);return[r.concat(o)]}case"TensorArraySplitV3":{const i=A("tensorArrayId",t,e,n),r=A("tensor",t,e,n),o=A("lengths",t,e,n),s=n.getTensorArray(i.id);return s.split(o,r),[s.idTensor]}case"TensorArraySizeV3":{const i=A("tensorArrayId",t,e,n),r=n.getTensorArray(i.id);return[rt(r.size(),"int32")]}case"TensorArrayCloseV3":{const i=A("tensorArrayId",t,e,n),r=n.getTensorArray(i.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const i=A("tensorListId",t,e,n),r=A("index",t,e,n),o=A("tensor",t,e,n),s=n.getTensorList(i.id);return s.setItem(r,o),[s.idTensor]}case"TensorListGetItem":{const i=A("tensorListId",t,e,n),r=A("index",t,e,n),o=A("elementShape",t,e,n),s=A("elementDType",t,e,n);return[n.getTensorList(i.id).getItem(r,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const i=A("indices",t,e,n),r=A("tensor",t,e,n),o=A("elementShape",t,e,n),s=A("numElements",t,e,n),a=Twe(r,i,o,s);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const i=A("elementShape",t,e,n),r=A("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const s=A(o,t,e,n),a=t.op==="TensorListReserve"?-1:s,l=Ewe(i,r,s,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const i=A("tensorListId",t,e,n),r=A("indices",t,e,n),o=A("elementShape",t,e,n),s=A("elementDType",t,e,n);return[n.getTensorList(i.id).gather(r,s,o)]}case"TensorListStack":{const i=A("tensorListId",t,e,n),r=A("elementShape",t,e,n),o=A("elementDType",t,e,n),s=A("numElements",t,e,n);return[n.getTensorList(i.id).stack(r,o,s)]}case"TensorListFromTensor":{const i=A("tensor",t,e,n),r=A("elementShape",t,e,n),o=A("elementDType",t,e,n),s=Cwe(i,r,o);return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const i=A("tensorListId",t,e,n),r=n.getTensorList(i.id),o=A("dtype",t,e,n),s=A("elementShape",t,e,n);return[r.concat(o,s)]}case"TensorListPushBack":{const i=A("tensorListId",t,e,n),r=A("tensor",t,e,n),o=n.getTensorList(i.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const i=A("tensorListId",t,e,n),r=A("elementShape",t,e,n),o=A("elementDType",t,e,n);return[n.getTensorList(i.id).popBack(r,o)]}case"TensorListSplit":{const i=A("tensor",t,e,n),r=A("elementShape",t,e,n),o=A("lengths",t,e,n),s=Iwe(i,o,r);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const i=A("tensorListId",t,e,n),r=n.getTensorList(i.id);return[rt(r.size(),"int32")]}case"TensorListResize":{const i=A("tensorListId",t,e,n),r=A("size",t,e,n),s=n.getTensorList(i.id).resize(r);return n.addTensorList(s),[s.idTensor]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KA(t,e,n){const[i,r]=A("fusedOps",t,e,n),o=i==="biasadd",s=!o,a=r==="prelu",l=i==="fusedbatchnorm",c=A("numArgs",t,e,n);if(o){if(a&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&o&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=A("strides",t,e,n),d=Nb(t,e,n),h=A("dataFormat",t,e,n).toUpperCase(),f=A("dilations",t,e,n);let[p,m]=A("args",t,e,n);s&&(m=p,p=void 0);const b=A("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:h,dilations:f,biasArg:p,preluArg:m,activationFunc:r,leakyreluAlpha:b}}const _we=(t,e,n,i=Pi)=>{switch(t.op){case"Conv1D":{const r=A("stride",t,e,n),o=A("pad",t,e,n),s=A("dataFormat",t,e,n).toUpperCase(),a=A("dilation",t,e,n);return[i.conv1d(A("x",t,e,n),A("filter",t,e,n),r,o,s,a)]}case"Conv2D":{const r=A("strides",t,e,n),o=Nb(t,e,n),s=A("dataFormat",t,e,n).toUpperCase(),a=A("dilations",t,e,n);return[i.conv2d(A("x",t,e,n),A("filter",t,e,n),[r[1],r[2]],o,s,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:r,pad:o,dataFormat:s,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=KA(t,e,n);return[i.fused.conv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:o,dataFormat:s,dilations:a,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=KA(t,e,n);return[i.fused.depthwiseConv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[a[1],a[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=A("outputShape",t,e,n),o=A("strides",t,e,n),s=Nb(t,e,n);return[i.conv2dTranspose(A("x",t,e,n),A("filter",t,e,n),r,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=A("strides",t,e,n),o=Nb(t,e,n),s=A("dilations",t,e,n),a=A("dataFormat",t,e,n).toUpperCase();return[i.depthwiseConv2d(A("input",t,e,n),A("filter",t,e,n),[r[1],r[2]],o,a,[s[1],s[2]])]}case"Conv3D":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("dataFormat",t,e,n).toUpperCase(),a=A("dilations",t,e,n);return[i.conv3d(A("x",t,e,n),A("filter",t,e,n),[r[1],r[2],r[3]],o,s,[a[1],a[2],a[3]])]}case"AvgPool":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("kernelSize",t,e,n);return[i.avgPool(A("x",t,e,n),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPool":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("kernelSize",t,e,n);return[i.maxPool(A("x",t,e,n),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("kernelSize",t,e,n),a=A("includeBatchInIndex",t,e,n),{result:l,indexes:c}=i.maxPoolWithArgmax(A("x",t,e,n),[s[1],s[2]],[r[1],r[2]],o,a);return[l,c]}case"AvgPool3D":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("kernelSize",t,e,n);return[i.avgPool3d(A("x",t,e,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("kernelSize",t,e,n);return[i.maxPool3d(A("x",t,e,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{const r=A("strides",t,e,n),o=A("pad",t,e,n),s=A("dilations",t,e,n),a=r[1],l=r[2],c=s[1],u=s[2];return[i.dilation2d(A("x",t,e,n),A("filter",t,e,n),[a,l],o,[c,u],"NHWC")]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Awe=(t,e,n,i=Pi)=>{switch(t.op){case"Fill":{const r=A("shape",t,e,n),o=A("dtype",t,e,n),s=A("value",t,e,n);return[i.fill(r,s,o)]}case"LinSpace":{const r=A("start",t,e,n),o=A("stop",t,e,n),s=A("num",t,e,n);return[i.linspace(r,o,s)]}case"Multinomial":{const r=A("logits",t,e,n),o=A("numSamples",t,e,n),s=A("seed",t,e,n);return[i.multinomial(r,o,s)]}case"OneHot":{const r=A("indices",t,e,n),o=A("depth",t,e,n),s=A("onValue",t,e,n),a=A("offValue",t,e,n),l=A("dtype",t,e,n);return[i.oneHot(r,o,s,a,l)]}case"Ones":return[i.ones(A("shape",t,e,n),A("dtype",t,e,n))];case"OnesLike":return[i.onesLike(A("x",t,e,n))];case"RandomStandardNormal":return[i.randomStandardNormal(A("shape",t,e,n),A("dtype",t,e,n),A("seed",t,e,n))];case"RandomUniform":return[i.randomUniform(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("dtype",t,e,n))];case"RandomUniformInt":return[i.randomUniformInt(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("seed",t,e,n))];case"Range":{const r=A("start",t,e,n),o=A("stop",t,e,n),s=A("step",t,e,n);return[i.range(r,o,s,A("dtype",t,e,n))]}case"TruncatedNormal":{const r=A("shape",t,e,n),o=A("mean",t,e,n),s=A("stdDev",t,e,n),a=A("seed",t,e,n);return[i.truncatedNormal(r,o,s,A("dtype",t,e,n),a)]}case"Zeros":return[i.zeros(A("shape",t,e,n),A("dtype",t,e,n))];case"ZerosLike":return[i.zerosLike(A("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H2(t,e,n){const i=A("boxes",t,e,n),r=A("scores",t,e,n),o=A("maxOutputSize",t,e,n),s=A("iouThreshold",t,e,n),a=A("scoreThreshold",t,e,n),l=A("softNmsSigma",t,e,n);return{boxes:i,scores:r,maxOutputSize:o,iouThreshold:s,scoreThreshold:a,softNmsSigma:l}}const Nwe=async(t,e,n,i,r=Pi)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=H2(t,e,n),d=await r.image.nonMaxSuppressionWithScoreAsync(o,s,a,l,c,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=H2(t,e,n),u=A("padToMaxOutputSize",t,e,n),d=await r.image.nonMaxSuppressionPaddedAsync(o,s,a,l,c,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:s,maxOutputSize:a,iouThreshold:l,scoreThreshold:c}=H2(t,e,n);return[await r.image.nonMaxSuppressionAsync(o,s,a,l,c)]}case"Where":{const o=r.cast(A("condition",t,e,n),"bool"),s=[await r.whereAsync(o)];return o.dispose(),s}case"ListDiff":return r.setdiff1dAsync(A("x",t,e,n),A("y",t,e,n));default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Owe=(t,e,n,i=Pi)=>{switch(t.op){case"LowerBound":{const r=A("sortedSequence",t,e,n),o=A("values",t,e,n);return[i.lowerBound(r,o)]}case"TopKV2":{const r=A("x",t,e,n),o=A("k",t,e,n),s=A("sorted",t,e,n),a=i.topk(r,o,s);return[a.values,a.indices]}case"UpperBound":{const r=A("sortedSequence",t,e,n),o=A("values",t,e,n);return[i.upperBound(r,o)]}case"Unique":{const r=A("x",t,e,n),o=i.unique(r);return[o.values,o.indices]}case"UniqueV2":{const r=A("x",t,e,n),o=A("axis",t,e,n),s=i.unique(r,o);return[s.values,s.indices]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dwe=(t,e,n,i=Pi)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=A("default",t,e,n);return[_i(t.name,e,n)||r];case"Placeholder":return[_i(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=A("x",t,e,n);return[ka(u)]}case"IdentityN":return A("x",t,e,n).map(u=>ka(u));case"Snapshot":const o=A("x",t,e,n);return[ka(o)];case"Shape":return[i.tensor1d(A("x",t,e,n).shape,"int32")];case"ShapeN":return A("x",t,e,n).map(u=>i.tensor1d(u.shape));case"Size":return[i.scalar(A("x",t,e,n).size,"int32")];case"Rank":return[i.scalar(A("x",t,e,n).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const s=A("x",t,e,n),a=A("data",t,e,n),l=A("message",t,e,n),c=A("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rwe{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=rt(0),this.tensorMap=new Map,gi(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return rt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),ce(()=>{const r=os(n),o=i.length,s=r.length;P(o===s,()=>"The number of elements doesn't match, keys has "+"".concat(o," elements, the values has ").concat(s," ")+"elements.");for(let a=0;a<o;a++){const l=i[a],c=r[a];gi(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return ce(()=>{const r=[];for(let o=0;o<i.length;o++){const s=i[o],a=this.findWithDefault(s,n);r.push(a)}return Xr(r)})}findWithDefault(e,n){const i=this.tensorMap.get(e);return i!=null?i:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(n.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(n.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lwe=async(t,e,n,i)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=i.getHashTableHandleByName(t.name);if(r!=null)return[r];{const o=A("keyDType",t,e,n),s=A("valueDType",t,e,n),a=new Rwe(o,s);return i.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=A("tableHandle",t,e,n,i),o=A("keys",t,e,n),s=A("values",t,e,n);return[await i.getHashTableById(r.id).import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const r=A("tableHandle",t,e,n,i),o=A("keys",t,e,n),s=A("defaultValue",t,e,n);return[await i.getHashTableById(r.id).find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=A("tableHandle",t,e,n,i);return[i.getHashTableById(r.id).tensorSize()]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zwe=(t,e,n,i=Pi)=>{switch(t.op){case"ResizeBilinear":{const r=A("images",t,e,n),o=A("size",t,e,n),s=A("alignCorners",t,e,n),a=A("halfPixelCenters",t,e,n);return[i.image.resizeBilinear(r,[o[0],o[1]],s,a)]}case"ResizeNearestNeighbor":{const r=A("images",t,e,n),o=A("size",t,e,n),s=A("alignCorners",t,e,n),a=A("halfPixelCenters",t,e,n);return[i.image.resizeNearestNeighbor(r,[o[0],o[1]],s,a)]}case"CropAndResize":{const r=A("image",t,e,n),o=A("boxes",t,e,n),s=A("boxInd",t,e,n),a=A("cropSize",t,e,n),l=A("method",t,e,n),c=A("extrapolationValue",t,e,n);return[i.image.cropAndResize(r,o,s,a,l,c)]}case"ImageProjectiveTransformV3":{const r=A("images",t,e,n),o=A("transforms",t,e,n),s=A("outputShape",t,e,n),a=A("fillValue",t,e,n),l=A("interpolation",t,e,n),c=A("fillMode",t,e,n);return[i.image.transform(r,o,l.toLowerCase(),c.toLowerCase(),a,s)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fwe=(t,e,n,i=Pi)=>{switch(t.op){case"Equal":return[i.equal(A("a",t,e,n),A("b",t,e,n))];case"NotEqual":return[i.notEqual(A("a",t,e,n),A("b",t,e,n))];case"Greater":return[i.greater(A("a",t,e,n),A("b",t,e,n))];case"GreaterEqual":return[i.greaterEqual(A("a",t,e,n),A("b",t,e,n))];case"Less":return[i.less(A("a",t,e,n),A("b",t,e,n))];case"LessEqual":return[i.lessEqual(A("a",t,e,n),A("b",t,e,n))];case"LogicalAnd":return[i.logicalAnd(A("a",t,e,n),A("b",t,e,n))];case"LogicalNot":return[i.logicalNot(A("a",t,e,n))];case"LogicalOr":return[i.logicalOr(A("a",t,e,n),A("b",t,e,n))];case"Select":case"SelectV2":return[i.where(A("condition",t,e,n),A("a",t,e,n),A("b",t,e,n))];case"BitwiseAnd":return[i.bitwiseAnd(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mwe=(t,e,n,i=Pi)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul(A("a",t,e,n),A("b",t,e,n),A("transposeA",t,e,n),A("transposeB",t,e,n))];case"Einsum":return[i.einsum(A("equation",t,e,n),...A("tensors",t,e,n))];case"Transpose":return[i.transpose(A("x",t,e,n),A("perm",t,e,n))];case"_FusedMatMul":const[r,o]=A("fusedOps",t,e,n),s=r==="biasadd",a=o==="prelu",l=A("numArgs",t,e,n),c=A("leakyreluAlpha",t,e,n);if(s){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=A("args",t,e,n);return[i.fused.matMul({a:A("a",t,e,n),b:A("b",t,e,n),transposeA:A("transposeA",t,e,n),transposeB:A("transposeB",t,e,n),bias:u,activation:o,preluActivationWeights:d,leakyreluAlpha:c})];case"MatrixBandPart":return[i.linalg.bandPart(A("a",t,e,n),A("numLower",t,e,n),A("numUpper",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pwe=(t,e,n,i=Pi)=>{switch(t.op){case"EuclideanNorm":return[i.euclideanNorm(A("x",t,e,n),A("axis",t,e,n),A("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[i.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"FusedBatchNormV3":return[i.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"LRN":return[i.localResponseNormalization(A("x",t,e,n),A("radius",t,e,n),A("bias",t,e,n),A("alpha",t,e,n),A("beta",t,e,n))];case"Softmax":return[i.softmax(A("x",t,e,n))];case"LogSoftmax":return[i.logSoftmax(A("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bwe=(t,e,n,i=Pi)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:o}=i.raggedGather(A("paramsNestedSplits",t,e,n),A("paramsDenseValues",t,e,n),A("indices",t,e,n),A("outputRaggedRank",t,e,n));return r.concat(o)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:o}=i.raggedRange(A("starts",t,e,n),A("limits",t,e,n),A("splits",t,e,n));return[r,o]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor(A("shape",t,e,n),A("values",t,e,n),A("defaultValue",t,e,n),A("rowPartitionTensors",t,e,n),A("rowPartitionTypes",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jwe=(t,e,n,i=Pi)=>{switch(t.op){case"Max":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.max(A("x",t,e,n),a,l)]}case"Mean":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.mean(A("x",t,e,n),a,l)]}case"Min":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.min(A("x",t,e,n),a,l)]}case"Sum":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.sum(A("x",t,e,n),a,l)]}case"All":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.all(A("x",t,e,n),a,l)]}case"Any":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.any(A("x",t,e,n),a,l)]}case"ArgMax":{const a=A("axis",t,e,n);return[i.argMax(A("x",t,e,n),a)]}case"ArgMin":{const a=A("axis",t,e,n);return[i.argMin(A("x",t,e,n),a)]}case"Prod":{const a=A("axis",t,e,n),l=A("keepDims",t,e,n);return[i.prod(A("x",t,e,n),a,l)]}case"Cumprod":{const a=A("axis",t,e,n),l=A("exclusive",t,e,n),c=A("reverse",t,e,n);return[i.cumprod(A("x",t,e,n),a,l,c)]}case"Cumsum":{const a=A("axis",t,e,n),l=A("exclusive",t,e,n),c=A("reverse",t,e,n);return[i.cumsum(A("x",t,e,n),a,l,c)]}case"Bincount":const r=A("x",t,e,n),o=A("weights",t,e,n),s=A("size",t,e,n);return[i.bincount(r,o,s)];case"DenseBincount":{const a=A("x",t,e,n),l=A("weights",t,e,n),c=A("size",t,e,n),u=A("binaryOutput",t,e,n);return[i.denseBincount(a,l,c,u)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uwe=(t,e,n,i=Pi)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=A("n",t,e,n),o=A("axis",t,e,n);let s=A("tensors",t,e,n);return s=s.slice(0,r),[i.concat(s,o)]}case"Gather":{const r=A("x",t,e,n),o=A("indices",t,e,n);return[i.gather(r,i.cast(o,"int32"),0)]}case"GatherV2":{const r=A("axis",t,e,n),o=A("batchDims",t,e,n),s=A("x",t,e,n),a=A("indices",t,e,n);return[i.gather(s,i.cast(a,"int32"),r,o)]}case"Reverse":{const r=A("dims",t,e,n),o=[];for(let a=0;a<r.length;a++)r[a]&&o.push(a);const s=A("x",t,e,n);return[i.reverse(s,o)]}case"ReverseV2":{const r=A("axis",t,e,n),o=A("x",t,e,n);return[i.reverse(o,r)]}case"Slice":{const r=A("begin",t,e,n),o=A("size",t,e,n);return[i.slice(A("x",t,e,n),r,o)]}case"StridedSlice":{const r=A("begin",t,e,n),o=A("end",t,e,n),s=A("strides",t,e,n),a=A("beginMask",t,e,n),l=A("endMask",t,e,n),c=A("ellipsisMask",t,e,n),u=A("newAxisMask",t,e,n),d=A("shrinkAxisMask",t,e,n),h=A("x",t,e,n);return[i.stridedSlice(h,r,o,s,a,l,c,u,d)]}case"Pack":return ce(()=>{const r=A("axis",t,e,n),o=A("tensors",t,e,n),s=o[0].shape,a=i.squeeze(o[0]).shape,l=o.map(c=>{const u=Nt(c.shape,s);if(!u&&!Nt(i.squeeze(c).shape,a))throw new Error("the input tensors shape does not match");return u?c:i.reshape(c,s)});return[i.stack(l,r)]});case"Unpack":{const r=A("axis",t,e,n),o=A("tensor",t,e,n);return i.unstack(o,r)}case"Tile":{const r=A("reps",t,e,n);return[i.tile(A("x",t,e,n),r)]}case"Split":case"SplitV":{const r=A("axis",t,e,n),o=A("numOrSizeSplits",t,e,n),s=A("x",t,e,n);return i.split(s,o,r)}case"ScatterNd":{const r=A("indices",t,e,n),o=A("values",t,e,n),s=A("shape",t,e,n);return[i.scatterND(r,o,s)]}case"GatherNd":{const r=A("x",t,e,n),o=A("indices",t,e,n);return[i.gatherND(r,o)]}case"SparseToDense":{const r=A("sparseIndices",t,e,n),o=A("outputShape",t,e,n),s=A("sparseValues",t,e,n),a=A("defaultValue",t,e,n);return[i.sparseToDense(r,s,o,s.dtype===a.dtype?a:i.cast(a,s.dtype))]}case"TensorScatterUpdate":{const r=A("indices",t,e,n),o=A("values",t,e,n),s=A("tensor",t,e,n);return[i.tensorScatterUpdate(s,r,o)]}default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vwe=(t,e,n,i=Pi)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:o,emptyRowIndicator:s,reverseIndexMap:a}=i.sparse.sparseFillEmptyRows(A("indices",t,e,n),A("values",t,e,n),A("denseShape",t,e,n),A("defaultValue",t,e,n));return[r,o,s,a]}case"SparseReshape":{const{outputIndices:r,outputShape:o}=i.sparse.sparseReshape(A("inputIndices",t,e,n),A("inputShape",t,e,n),A("newShape",t,e,n));return[r,o]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hwe=(t,e,n,i=Pi)=>{switch(t.op){case"FFT":return[i.fft(A("x",t,e,n))];case"IFFT":return[i.ifft(A("x",t,e,n))];case"RFFT":return[i.rfft(A("x",t,e,n))];case"IRFFT":return[i.irfft(A("x",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wwe=(t,e,n,i=Pi)=>{switch(t.op){case"StaticRegexReplace":return[i.string.staticRegexReplace(A("input",t,e,n),A("pattern",t,e,n),A("rewrite",t,e,n),A("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:o}=i.string.stringNGrams(A("data",t,e,n),A("dataSplits",t,e,n),A("separator",t,e,n),A("nGramWidths",t,e,n),A("leftPad",t,e,n),A("rightPad",t,e,n),A("padWidth",t,e,n),A("preserveShortSequences",t,e,n));return[r,o]}case"StringSplit":{const{indices:r,values:o,shape:s}=i.string.stringSplit(A("input",t,e,n),A("delimiter",t,e,n),A("skipEmpty",t,e,n));return[r,o,s]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast(A("input",t,e,n),A("numBuckets",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gwe=(t,e,n,i=Pi)=>{switch(t.op){case"Cast":return[i.cast(A("x",t,e,n),A("dtype",t,e,n))];case"ExpandDims":{const r=A("axis",t,e,n);return[i.expandDims(A("x",t,e,n),r)]}case"Squeeze":{const r=A("axis",t,e,n);return[i.squeeze(A("x",t,e,n),r)]}case"Reshape":return[i.reshape(A("x",t,e,n),A("shape",t,e,n))];case"EnsureShape":return[i.ensureShape(A("x",t,e,n),A("shape",t,e,n))];case"MirrorPad":return[i.mirrorPad(A("x",t,e,n),A("padding",t,e,n),A("mode",t,e,n))];case"PadV2":case"Pad":return[i.pad(A("x",t,e,n),A("padding",t,e,n),A("constantValue",t,e,n))];case"SpaceToBatchND":{const r=A("blockShape",t,e,n),o=A("paddings",t,e,n);return[i.spaceToBatchND(A("x",t,e,n),r,o)]}case"BatchToSpaceND":{const r=A("blockShape",t,e,n),o=A("crops",t,e,n);return[i.batchToSpaceND(A("x",t,e,n),r,o)]}case"DepthToSpace":{const r=A("blockSize",t,e,n),o=A("dataFormat",t,e,n).toUpperCase();return[i.depthToSpace(A("x",t,e,n),r,o)]}case"BroadcastTo":return[i.broadcastTo(A("x",t,e,n),A("shape",t,e,n))];case"BroadcastArgs":return[i.broadcastArgs(A("s0",t,e,n),A("s1",t,e,n))];default:throw TypeError("Node type ".concat(t.op," is not implemented"))}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YA(t,e,n,i,r=ce){const o=((s,a,l)=>{switch(s.category){case"arithmetic":return r(()=>wwe(s,a,l));case"basic_math":return r(()=>kwe(s,a,l));case"control":return $we(s,a,l);case"convolution":return r(()=>_we(s,a,l));case"creation":return r(()=>Awe(s,a,l));case"dynamic":return Nwe(s,a,l);case"evaluation":return r(()=>Owe(s,a,l));case"image":return r(()=>zwe(s,a,l));case"graph":return r(()=>Dwe(s,a,l));case"logical":return r(()=>Fwe(s,a,l));case"matrices":return r(()=>Mwe(s,a,l));case"normalization":return r(()=>Pwe(s,a,l));case"ragged":return r(()=>Bwe(s,a,l));case"reduction":return r(()=>jwe(s,a,l));case"slice_join":return r(()=>Uwe(s,a,l));case"sparse":return r(()=>Vwe(s,a,l));case"spectral":return r(()=>Hwe(s,a,l));case"string":return r(()=>Wwe(s,a,l));case"transformation":return r(()=>Gwe(s,a,l));case"hash_table":return Lwe(s,a,l,i);case"custom":const c=PP(s.op);if(c&&c.customExecutor)return c.customExecutor(new vwe(s,a,l));throw TypeError("Custom op ".concat(s.op," is not registered."));default:throw TypeError("Unknown op '".concat(s.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(t,e,n);return Su(o)?o.then(s=>[].concat(s)):[].concat(o)}class ZA{constructor(e={},n={},i={},r={},o){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=i,this.functionMap=r,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const i=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(i))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":"".concat(n.frameName,"-").concat(n.iterationId)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JA(t,e,n,i){const r=new Set,o=[];let s=null,a=null;const l=new Set,c=new Set(Object.keys(t).map(h=>Lr(h)[0]));i=i||[];const u=new Set(i.map(h=>Lr(h.name)[0])),d=[...e];for(;d.length>0;){const h=d.pop();if((Hc(h)||e2e(h)||t2e(h))&&s==null&&(s=h,a=s.children.map(f=>f.name).filter(f=>r.has(f))),r.add(h.name),n[h.name]==null&&!c.has(h.name)&&!u.has(h.name)){if(h.inputs.length===0){o.push(h.name);continue}h.inputs.forEach(f=>{l.has(f.name)||(l.add(f.name),d.push(f))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:o,dynamicNode:s,syncInputs:a}}function qwe(t,e){const{usedNodes:n,inputs:i}=e,r=Object.keys(i).map(b=>Lr(b)[0]).map(b=>t.nodes[b]),o=t.initNodes||[],s=b=>n.has(typeof b=="string"?b:b.name);function a(b){return[...new Map(b.map(g=>[g.name,g])).values()]}const l=a([...r,...t.weights,...o]).filter(s),c=a([...l,...Object.values(t.nodes)]).filter(s),u=new Map(c.map(b=>[b.name,b])),d={};for(const b of c){d[b.name]=d[b.name]||0;for(const g of b.children)s(g)||(d[g.name]=Number.POSITIVE_INFINITY),d[g.name]=(d[g.name]||0)+1}const h=Object.entries(d).filter(([,b])=>b===0).map(([b])=>b),f=[...h];for(;h.length>0;){const b=h.pop(),g=u.get(b);for(const x of g.children.filter(s))--d[x.name]===0&&(f.push(x.name),h.push(x.name))}const p=f.map(b=>u.get(b)),m=Xwe(p,l);return Kwe(m,l),m}function Xwe(t,e){const n=new Map(t.map(s=>[s.name,s])),i=e.map(s=>s.name),r=new Set(i);for(;i.length>0;){const s=i.pop(),a=n.get(s);for(const l of a.children)!n.has(l.name)||r.has(l.name)||(r.add(l.name),i.push(l.name))}return t.filter(s=>r.has(s.name))}class tb extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}function Kwe(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),i=new Set(e.map(a=>a.name)),r=a=>i.has(typeof a=="string"?a:a.name),o=new Set(t.map(a=>a.name)),s=a=>o.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(s)){if(!n.has(l.name))throw new tb("Child ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(a.name)>n.get(l.name))throw new tb("Node ".concat(a.name," is scheduled to run after its child ").concat(l.name,"."))}if(!r(a))for(const l of a.inputs){if(!n.has(l.name))throw new tb("Input ".concat(l.name," of node ").concat(a.name," is unreachable."));if(n.get(l.name)>n.get(a.name))throw new tb("Node ".concat(a.name," is scheduled to run before its input ").concat(l.name,"."))}}}function Ywe(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,i=t.map((a,l)=>Hc(a)?n:l),r=a=>{const l=i[e.get(a.name)];return l==null?-1:l},o=t.map((a,l)=>a.children.map(r).reduce((c,u)=>Math.max(c,u),i[l])),s=new Map;for(let a=0;a<t.length;++a){const l=o[a];if(l===n)continue;const c=t[a],u=t[l];s.has(u.name)||s.set(u.name,[]),s.get(u.name).push(c)}return s}const Zwe=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Jwe=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Qwe=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Hc(t){return Zwe.has(t.op)}function e2e(t){return Jwe.has(t.op)}function t2e(t){return Qwe.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jx{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(i=>e[i].map(r=>r.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?"".concat(n,":").concat(e.defaultOutput):n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(i=>{this._functionExecutorMap[i]=new Jx(e.functions[i],this)})}getCompilationKey(e,n){const i=e.map(o=>o.name).sort(),r=n.map(o=>o.name).sort();return i.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,n){const i=JA(e,n,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:s}=i;if(o!=null)throw new Error("This execution contains the node '".concat(o.name,"', which has ")+"the dynamic op '".concat(o.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(s,"]"));if(r.length>0){const c=n.map(d=>d.name),u=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(c,"] from the provided inputs ")+"[".concat(u,"]. Missing the following inputs: [").concat(r,"]"))}const a=qwe(this.graph,i),l=Ywe(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return gi(n),n}cloneTensorList(e){return e?e.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,this.cloneTensorList(i)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const r=i.map(h=>this.graph.nodes[Lr(h)[0]]),o=n.map(h=>Lr(h)[0]),s=new Set(o);let a=o.map(h=>this.graph.nodes[h]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(r,a);let c=this.compiledMap.get(l);c==null&&(c=this.compile(e,a),this.compiledMap.set(l,c));try{this.keepIntermediateTensors=fe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const u={},d={};return ce(()=>{const h=new ZA(this.weightMap,u,d,this.functionExecutorMap,this.parseNodeNameCache),f=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(g=>{const[x,y]=Lr(g,h),v=[];v[y]=e[g],f[x]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(v))});const p=this.getFrozenTensorIds(f),{orderedNodes:m,nodeLiveUntilMap:b}=c;for(const g of m){if(f[g.name])continue;const x=YA(g,f,h,this._resourceManager);if(Su(x))throw new Error("The execution of the op '".concat(g.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");f[g.name]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(x)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,f,h,p,s,b.get(g.name))}return this.parent==null&&h.dispose(p),n.map(g=>_i(g,f,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(i=>e[i]).map(i=>i.map(r=>r.id)));return new Set(n)}checkTensorForDisposal(e,n,i,r,o,s,a){if(!(Hc(n)||s.has(e))){for(const l of i[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(Hc(l))continue;const c=WA(l.name,i,r);if(c!=null)for(const u of c){if(!u||u.kept||o.has(u.id))continue;const d=a[u.id];d===1?(u.dispose(),delete a[u.id]):d!=null&&a[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,i,r,o,s){function a(l){return Hc(l)||o.has(l.name)}if(!(Hc(e)||s==null))for(const l of s){if(a(l))continue;const c=WA(l.name,n,i);for(const u of c)!u||u.kept||r.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,i=!1,r={},o={}){this.disposeIntermediateTensors(),i||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=fe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const s=new ZA(this.weightMap,r,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,s,n,i),l=n.map(h=>_i(h,a,s)),c=l.map(h=>h.id),u=Object.keys(e).map(h=>e[h].id),d=new Set([...c,...u,...this.weightIds]);return Object.values(a).forEach(h=>{h.forEach(f=>{f&&!f.isDisposed&&!d.has(f.id)&&f.dispose()})}),this.parent==null&&s.dispose(d),l}async executeFunctionAsync(e,n,i){const r=e.reduce((o,s,a)=>(o[this.inputs[a].name]=s,o),{});return this._executeAsync(r,this.outputNodes,!0,n,i)}async executeWithControlFlow(e,n,i,r){const o=Object.keys(e),s=o.map(v=>this.graph.nodes[Lr(v)[0]]),a=i.map(v=>Lr(v)[0]),l=new Set(a);let c=a.map(v=>this.graph.nodes[v]);c.length===0&&(c=this._outputs);const{usedNodes:u,missingInputs:d,dynamicNode:h,syncInputs:f}=JA(e,c,this.weightMap,this._initNodes),p=[...s,...this.graph.weights,...this._initNodes||[]].map(v=>({node:v,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(v=>{const[w,E]=Lr(v),C=[];C[E]=e[v],m[w]=C});const b={},g=this.getFrozenTensorIds(m),x={};for(;p.length>0;){const v=this.processStack(s,p,n,m,x,g,l,b,u);await Promise.all(v)}h==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=c.filter(v=>!Hc(v)&&!_i(v.name,m,n)).map(v=>v.name);if(y.length>0){let v="";throw h!=null&&(v="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(f,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(v))}return m}processStack(e,n,i,r,o,s,a,l,c){const u=[];for(;n.length>0;){const d=n.pop();i.currentContext=d.contexts;let h="";if(d.node.op==="Enter"&&A("isConstant",d.node,r,i)&&([h]=wa(d.node.name,i)),r[d.node.name]==null){const f=YA(d.node,r,i,this._resourceManager);h||([h]=wa(d.node.name,i));const p=i.currentContext;Su(f)?u.push(f.then(m=>(r[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),i.currentContext=p,this.checkTensorForDisposal(h,d.node,r,i,s,a,l),this.processChildNodes(d.node,n,i,r,o,c),m))):(r[h]=f,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(f)),this.checkTensorForDisposal(h,d.node,r,i,s,a,l),this.processChildNodes(d.node,n,i,r,o,c))}else this.processChildNodes(d.node,n,i,r,o,c)}return u}processChildNodes(e,n,i,r,o,s){e.children.forEach(a=>{const[l]=wa(a.name,i);o[l]||!s.has(a.name)||(a.op==="Merge"?a.inputNames.some(c=>!!_i(c,r,i))&&(o[l]=!0,n.push({contexts:i.currentContext,node:a})):a.inputNames.every(c=>!!_i(c,r,i))&&(o[l]=!0,n.push({contexts:i.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const i=e[n],[r]=Lr(n),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const s=o.attrParams.shape.value,a=s.length===i.shape.length&&i.shape.every((l,c)=>s[c]===-1||s[c]===l);P(a,()=>"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(i.shape,"]"))}o.attrParams.dtype&&o.attrParams.dtype.value&&P(i.dtype===o.attrParams.dtype.value,()=>"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(i.dtype))})}mapInputs(e){var n,i;const r={};for(const o in e){const s=(i=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||i===void 0?void 0:i[o];s!=null?r[s.name]=e[o]:r[o]=e[o]}return r}checkInputs(e){const n=Object.keys(e).filter(i=>{const[r]=Lr(i);return this.graph.nodes[r]==null});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}mapOutputs(e){return e.map(n=>{var i,r;const o=(r=(i=this._signature)===null||i===void 0?void 0:i.outputs)===null||r===void 0?void 0:r[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[i]=Lr(n);if(!this.graph.nodes[i])throw new Error("The output '".concat(n,"' is not found in the graph"))})}}class n2e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i2e="?tfjs-format=file",r2e="model.json";class o2e{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},i=Uz){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=i,n==null&&(this.loadOptions={}),this.resourceManager=new n2e}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error("Found more than one (".concat(n.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Su(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await dL(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const i=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(r=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=r,this.version="".concat(i.versions.producer,".").concat(i.versions.minConsumer),this.executor=new Jx(GA.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=GA.Instance.transformGraph(e.modelInitializer);this.initializer=new Jx(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const i=this.io.getSaveHandlers(e);if(i.length===0)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(i.length>1)throw new Error("Found more than one (".concat(i.length,") save handlers for ")+"URL '".concat(e,"'"));e=i[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Qt?[e]:e,i={};return n.forEach((r,o)=>i[this.structuredOutputKeys[o]]=r),i}return e}predict(e,n){const i=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(i)}async predictAsync(e,n){const i=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(i)}normalizeInputs(e){var n;if(!(e instanceof Qt)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const s in o){const a=o[s];a.resourceId!=null&&(e[s]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const i=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+i!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-i," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce((o,s)=>{var a,l,c;const u=(c=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[s])===null||c===void 0?void 0:c.resourceId;return u!=null?o[s]=this.resourceIdToCapturedInput[u]:o[s]=e[r++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,i=Object.keys(n);for(let r=0;r<i.length;r++){const o=i[r],s=n[o];this.resourceIdToCapturedInput[s.resourceId]=e[r]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=this.executor.execute(e,n);return i.length>1?i:i[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=await this.executor.executeAsync(e,n);return i.length>1?i:i[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,i)=>(n[i]=[e[i]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&pt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function s2e(t,e={},n=Uz){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=a2e(t));const i=new o2e(t,e,n);return await i.load(),i}function a2e(t){return t.endsWith("/")||(t=t+"/"),"".concat(t).concat(r2e).concat(i2e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var QA;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(QA||(QA={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ye(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&P(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors in the CPU backend."))})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l2e=RT;class sw extends BC{nextDataId(){return sw.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new D9(this,Bs())}write(e,n,i){this.firstUse&&(this.firstUse=!1,fe().get("IS_NODE")&&lo("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:i,refCount:1}),r}makeTensorInfo(e,n,i){let r;if(n==="string"&&i!=null&&i.length>0&&jm(i[0])){const o=i.map(s=>Wl(s));r=this.write(o,e,n)}else r=this.write(i,e,n);return{dataId:r,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,i,r,o){this.data.set(e,{values:n,dtype:r,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:i}=this.data.get(e);if(n==="complex64"){const r=this.readSync(i.real.dataId),o=this.readSync(i.imag.dataId);return Xa(r,o)}return hue(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(r=>ec(r));return vt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return vt(e.shape,e.dtype,n)}makeOutput(e,n,i){return Bs().makeTensorFromTensorInfo(this.makeTensorInfo(n,i,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:i}=this.data.get(e);i!=null&&(this.disposeData(i.real.dataId,!0),this.disposeData(i.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=pr();return e(),{kernelMs:pr()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ye([e],"where");const n=this.readSync(e.dataId);return l2e(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}sw.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UP(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const c2e=t=>{const{x:e}=t.inputs,n=t.backend;Ye(e,"abs");let i=new Float32Array(ge(e.shape));const r=n.data.get(e.dataId).values;return i=UP(r),n.makeOutput(i,e.shape,e.dtype)},u2e={kernelName:vy,backendName:"cpu",kernelFunc:c2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qn(t){return(e,n,i,r,o)=>{const s=mt(e,n),a=s.length,l=it(s),c=ge(s),u=Di(o,c),d=e.length,h=n.length,f=it(e),p=it(n),m=Oh(e,s),b=Oh(n,s);if(m.length+b.length===0)for(let g=0;g<u.length;++g)u[g]=t(i[g%i.length],r[g%r.length]);else for(let g=0;g<u.length;++g){const x=sf(g,a,l),y=x.slice(-d);m.forEach(C=>y[C]=0);const v=Zs(y,d,f),w=x.slice(-h);b.forEach(C=>w[C]=0);const E=Zs(w,h,p);u[g]=t(i[v],r[E])}return[u,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fr(t){const{inputs:e,backend:n}=t,{real:i,imag:r}=e,o=n.data.get(i.dataId).values,s=n.data.get(r.dataId).values,a=n.makeTensorInfo(i.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(i.shape,"float32",o),imag:n.makeTensorInfo(r.shape,"float32",s)},a}const d2e={kernelName:YC,backendName:"cpu",kernelFunc:Fr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qx(t,e,n="float32"){if(n==="complex64"){const r=Qx(t,e,"float32"),o=Qx(t,e,"float32");return Fr({inputs:{real:r,imag:o},backend:t})}const i=Yi(ge(e),n);return t.makeTensorInfo(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oa(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const h2e={kernelName:lg,backendName:"cpu",kernelFunc:oa};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ru(t){const{inputs:e,backend:n}=t,{input:i}=e,r=n.data.get(i.dataId).complexTensorInfos.real,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const f2e={kernelName:$E,backendName:"cpu",kernelFunc:Ru};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VP(t,e,n,i){if(i==="int32"){const r=Int32Array.from(t);return[e,"int32",r]}if(i==="bool"){const r=Ku([0],n),[o,s]=qn((a,l)=>a!==l?1:0)(e,[],t,r,"bool");return[s,"bool",o]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(i))}function cc(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{dtype:o}=i;if(o==="complex64"){if(r.dtype==="complex64")return oa({inputs:{x:r},backend:n});const u=Qx(n,r.shape,r.dtype),d=cc({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),h=Fr({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),h}if(r.dtype==="complex64"){const u=Ru({inputs:{input:r},backend:n}),d=cc({inputs:{x:u},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(u),d}if(!L9(r.dtype,o)){const u=oa({inputs:{x:r},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:o}}const s=n.data.get(r.dataId).values,[a,l,c]=VP(s,r.shape,r.dtype,o);return n.makeTensorInfo(a,l,c)}const p2e={kernelName:Km,backendName:"cpu",kernelFunc:cc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function li(t,e,n,i){return n==null?({inputs:r,backend:o})=>{const{a:s,b:a}=r,l=o;Ye([s,a],t);const c=l.data.get(s.dataId).values,u=l.data.get(a.dataId).values,d=s.dtype==="string"?Ka(c):c,h=s.dtype==="string"?Ka(u):u,f=i||s.dtype,[p,m]=e(s.shape,a.shape,d,h,f);return l.makeTensorInfo(m,f,p)}:({inputs:r,backend:o})=>{const{a:s,b:a}=r,l=o;if(s.dtype==="complex64"||a.dtype==="complex64"){const c=cc({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,h=u.complexTensorInfos.imag,f=l.data.get(d.dataId).values,p=l.data.get(h.dataId).values,m=cc({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),b=l.data.get(m.dataId),g=b.complexTensorInfos.real,x=b.complexTensorInfos.imag,y=l.data.get(g.dataId).values,v=l.data.get(x.dataId).values,[w,E,C]=n(s.shape,a.shape,f,p,y,v),I=l.makeTensorInfo(C,"float32",w),T=l.makeTensorInfo(C,"float32",E),_=Fr({inputs:{real:I,imag:T},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(I),l.disposeIntermediateTensorInfo(T),_}else{const c=l.data.get(s.dataId).values,u=l.data.get(a.dataId).values,d=i||s.dtype,[h,f]=e(s.shape,a.shape,c,u,d);return l.makeTensorInfo(f,d,h)}}}function MI(t){return(e,n,i,r,o,s)=>{const a=mt(e,n),l=ge(a),c=a.length,u=it(a),d=Di("float32",l),h=Di("float32",l),f=Oh(e,a),p=Oh(n,a),m=Xa(i,r),b=Xa(o,s),g=e.length,x=it(e),y=n.length,v=it(n);if(f.length+p.length===0)for(let w=0;w<d.length;w++){const E=w%m.length,C=w%b.length,I=t(m[E*2],m[E*2+1],b[C*2],b[C*2+1]);d[w]=I.real,h[w]=I.imag}else for(let w=0;w<d.length;w++){const E=sf(w,c,u),C=E.slice(-g);f.forEach(D=>C[D]=0);const I=Zs(C,g,x),T=E.slice(-y);p.forEach(D=>T[D]=0);const _=Zs(T,y,v),M=t(m[I*2],m[I*2+1],b[_*2],b[_*2+1]);d[w]=M.real,h[w]=M.imag}return[d,h,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HP=qn((t,e)=>t+e),m2e=MI((t,e,n,i)=>({real:t+n,imag:e+i})),zh=li(af,HP,m2e),g2e={kernelName:af,backendName:"cpu",kernelFunc:zh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PI(t,e,n,i,r){const o=ge(i),s=Yi(r,n);for(let a=0;a<t.length;a++){const l=t[a];if(l<0)throw new Error("Input x must be non-negative!");l>=r||(o>0?s[l]+=e[a]:s[l]+=1)}return s}function WP(t,e,n,i=!1){const r=t.shape[0],o=t.shape[1],s=vt([r,n],e.dtype);for(let a=0;a<r;a++)for(let l=0;l<o;l++){const c=t.get(a,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(i?s.set(1,a,c):e.size>0?s.set(s.get(a,c)+e.get(a,l),a,c):s.set(s.get(a,c)+1,a,c))}return s}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GP=qn((t,e)=>t&e),b2e=li($y,GP),x2e={kernelName:$y,backendName:"cpu",kernelFunc:b2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function da(t){return(e,n,i)=>{const r=Bn(n,e.length);for(let o=0;o<e.length;++o)r[o]=t(e[o],i);return r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(t,e,n){const i=da(e);return Ec(t,i,n)}function Ec(t,e,n){return({inputs:i,attrs:r,backend:o})=>{const{x:s}=i;Ye(s,t);const a=o,l=a.data.get(s.dataId).values;let c;if(s.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=Ka(l)}else c=l;const u=n||s.dtype,d=e(c,u,r);return a.makeTensorInfo(s.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qP=da(t=>Math.ceil(t)),y2e=Ec(Ym,qP),v2e={kernelName:Ym,backendName:"cpu",kernelFunc:y2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XP(t,e,n,i){const r=Bn(n,ge(e));if(i&&n!=="string"){let o=0;t.forEach(s=>{const a=ge(s.shape);r.set(s.vals,o),o+=a})}else{let o=0;t.forEach(s=>{const a=n==="string"?Ka(s.vals):s.vals;let l=0;for(let c=0;c<s.shape[0];++c){const u=c*e[1]+o;for(let d=0;d<s.shape[1];++d)r[u+d]=a[l++]}o+=s.shape[1]})}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KP=qn((t,e)=>t===e?1:0),YP=li(Fy,KP,null,"bool"),w2e={kernelName:Fy,backendName:"cpu",kernelFunc:YP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZP=da(t=>Math.exp(t)),JP=Ec(ig,ZP,"float32"),k2e={kernelName:ig,backendName:"cpu",kernelFunc:JP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QP=da(t=>Math.expm1(t)),S2e=Ec(rg,QP),C2e={kernelName:rg,backendName:"cpu",kernelFunc:S2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eB=da(t=>Math.floor(t)),E2e=Ec(og,eB),T2e={kernelName:og,backendName:"cpu",kernelFunc:E2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tB=qn((t,e)=>Math.floor(t/e)),I2e=li(sg,tB,null,"int32"),$2e={kernelName:sg,backendName:"cpu",kernelFunc:I2e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nB(t,e,n,i,r,o,s,a,l){const c=vt([i,o],n);for(let u=0;u<i;u++){const d=[];let h=0;for(let f=0;f<r;f++){const p=t[u*r+f];h+=p*s[f],d.push(p)}if(h<0||h>=l/o)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(a));for(let f=0;f<o;f++)c.values[u*o+f]=e.get(...e.indexToLoc(h*o+f))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iB(t,e,n){const i=vt(n,t.dtype);for(let r=0;r<i.size;++r){const s=i.indexToLoc(r).slice(),a=s[0],l=s[2],c=e.locToIndex([a,l]);s[2]=e.values[c];const u=t.locToIndex(s);0<=u&&u<t.values.length&&(i.values[r]=t.values[u])}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rB=qn((t,e)=>t>e?1:0),_2e=li(jy,rB,null,"bool"),A2e={kernelName:jy,backendName:"cpu",kernelFunc:_2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oB=qn((t,e)=>t>=e?1:0),N2e=li(ag,oB,null,"bool"),O2e={kernelName:ag,backendName:"cpu",kernelFunc:N2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sB=qn((t,e)=>t<e?1:0),D2e=li(Vy,sB,null,"bool"),R2e={kernelName:Vy,backendName:"cpu",kernelFunc:D2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aB=qn((t,e)=>t<=e?1:0),L2e=li(Hy,aB,null,"bool"),z2e={kernelName:Hy,backendName:"cpu",kernelFunc:L2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lB(t,e,n){const i=(e-t)/(n-1),r=Yi(n,"float32");r[0]=t;for(let o=1;o<r.length;o++)r[o]=r[o-1]+i;return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cB=da(t=>Math.log(t)),F2e=Ec(hg,cB),M2e={kernelName:hg,backendName:"cpu",kernelFunc:F2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uB(t,e,n,i){const r=Di(i,ge(n));for(let o=0;o<r.length;++o){const s=o*e;let a=t[s];for(let l=0;l<e;++l){const c=t[s+l];(Number.isNaN(c)||c>a)&&(a=c)}r[o]=a}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dB=qn((t,e)=>Math.max(t,e)),P2e=li(pg,dB),B2e={kernelName:pg,backendName:"cpu",kernelFunc:P2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hB=qn((t,e)=>Math.min(t,e)),j2e=li(mg,hB),U2e={kernelName:mg,backendName:"cpu",kernelFunc:j2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BI=qn((t,e)=>t*e),V2e=MI((t,e,n,i)=>({real:t*n-e*i,imag:t*i+e*n})),aw=li(bg,BI,V2e),H2e={kernelName:bg,backendName:"cpu",kernelFunc:aw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fB(t,e,n){const i=gc(-1,n);return BI([],e,i,t,n)}function W2e(t){const{inputs:e,backend:n}=t,{x:i}=e;Ye(i,"neg");const r=n.data.get(i.dataId).values,[o,s]=fB(r,i.shape,i.dtype);return n.makeTensorInfo(s,i.dtype,o)}const G2e={kernelName:tv,backendName:"cpu",kernelFunc:W2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pB=qn((t,e)=>t!==e?1:0),q2e=li(nv,pB,null,"bool"),X2e={kernelName:nv,backendName:"cpu",kernelFunc:q2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jI(t,e,n,i,r){const o=e.length,s=ge(e),a=it(e),l=it(r),c=Di(n,ge(r));for(let u=0;u<s;++u){const d=sf(u,o,a),h=new Array(d.length);for(let p=0;p<h.length;p++)h[p]=d[i[p]];const f=Zs(h,o,l);c[f]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tr(t){const{inputs:e,attrs:n,backend:i}=t,{x:r}=e,{perm:o}=n;Ye(r,"transpose");const s=r.shape.length,a=new Array(s);for(let d=0;d<a.length;d++)a[d]=r.shape[o[d]];const l=i.data.get(r.dataId).values,c=jI(l,r.shape,r.dtype,o,a);return{dataId:i.write(c,a,r.dtype),shape:a,dtype:r.dtype}}const K2e={kernelName:ah,backendName:"cpu",kernelFunc:Tr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mB(t,e,n,i){const[r,o]=wi(t,i),s=qr(e,"int32"),a=Yi(ge(r),s),l=ge(o);for(let c=0;c<a.length;++c){const u=c*l;let d=1;for(let h=0;h<l;++h)d*=n[u+h];a[c]=d}return{outVals:a,outShape:r,outDtype:s}}function Y2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;Ye(r,"prod");const a=r.shape.length,l=Tt(o,r.shape),c=_n(l,a);let u=l,d=r;const h=[];c!=null&&(d=Tr({inputs:{x:r},backend:n,attrs:{perm:c}}),h.push(d),u=Wn(u.length,a));const f=n.data.get(d.dataId).values,{outVals:p,outShape:m,outDtype:b}=mB(d.shape,d.dtype,f,u);let g=m;return s&&(g=Hn(m,l)),h.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(g,b,p)}const Z2e={kernelName:lv,backendName:"cpu",kernelFunc:Y2e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J2e(t,e,n){t.forEach((i,r)=>{if(i<0||i>=n){const o=sf(r,e.length,it(e)).join(",");throw new Error("indices[".concat(o,"] = ").concat(i," is not in [0, ").concat(n,")"))}})}function Q2e(t,e){for(let n=0;n<t.length;++n){const i=t[n],r=n===t.length-1?e:t[n+1].length;if(i.length===0)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>r)throw new Error("Ragged splits must not point past values");for(let o=1;o<i.length;++o)if(i[o-1]>i[o])throw new Error("Ragged splits must be sorted in ascending order")}}function eke(t,e,n,i){const r=[];let o=0;const s=e.length-1+n.length,a=new Array(s).fill(null).map(()=>[0]);Q2e(n,i);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)a[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let h=0;h<n.length;++h){const f=n[h],p=h+e.length-1;if(p>=0){const m=a[p],b=m[m.length-1]-f[u];for(let g=u;g<d;++g)a[p].push(f[g+1]+b)}u=f[u],d=f[d]}d!==u&&(r.push([u,d]),o+=d-u)}return{outSplits:a,valueSlices:r,numValues:o}}function tke(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n].length,r=Bn("int32",i);e.push(r),t[n].forEach((o,s)=>r[s]=o)}return e}function eN(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let i=e;i<t.length;i++)n[e-1]*=t[i];return n}function nke(t,e,n,i,r,o){const s=eN(e,2)[1],a=eN(o,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<i;++d)r[l*a+d]=t[u*s+d];++l}}function ike(t,e,n,i,r){const o=e.slice();o[0]=r;const s=Bn(n,ge(o)),a=t.length,l=a===0?0:a/e[0];return nke(t,e,i,l,s,o),[s,o]}function gB(t,e,n,i,r,o,s,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(J2e(o,s,l),i.length===0)throw new Error("params.rank must be nonzero");const c=i[0],{outSplits:u,valueSlices:d,numValues:h}=eke(o,s,t,c),f=tke(u),p=ike(n,i,r,d,h);return[f,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tN=2147483647;function bB(t,e,n,i,r,o,s){if(e.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const a=e.length===0,l=r.length===0,c=s.length===0,u=[];a||u.push(e[0]),l||u.push(r[0]),c||u.push(s[0]);for(let b=1;b<u.length;++b)if(u[b]!==u[b-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],h=Bn("int32",d+1);h[0]=0;for(let b=0;b<d;++b){const g=a?t[0]:t[b],x=l?i[0]:i[b],y=c?o[0]:o[b];if(y===0)throw new Error("Requires delta != 0");let v;if(y>0&&x<g||y<0&&x>g)v=0;else if(v=Math.ceil(Math.abs((x-g)/y)),v>tN)throw new Error("Requires ((limit - start) / delta) <= ".concat(tN));h[b+1]=h[b]+v}const f=h[d],p=Bn(n,f);let m=0;for(let b=0;b<d;++b){const g=h[b+1]-h[b];let x=a?t[0]:t[b];const y=c?o[0]:o[b];for(let v=0;v<g;++v)p[m++]=x,x+=y}return[h,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var No=xs;class e1{constructor(e,n,i,r,o,s,a,l,c,u){this.shape=e,this.shapeShape=n,this.values=i,this.valuesShape=r,this.valuesDType=o,this.defaultValue=s,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=Qz(u),this.raggedRank=eF(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===No.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===No.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case No.VALUE_ROWIDS:return e1.getMaxWidthValueRowID(n);case No.ROW_SPLITS:return e1.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat(No[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let i=0;for(let r=0;r<n-1;++r){const o=e[r+1]-e[r];o>i&&(i=o)}return i}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let i=0,r=e[0],o=0;for(let s=1;s<n;++s){const a=e[s];a!==r&&(r=a,o=Math.max(s-i,o),i=s)}return Math.max(n-i,o)}tensorShapeFromTensor(e,n,i=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return iN(e,i)}calculateOutputSize(e){const n=this.valuesShape,i=this.defaultValueShape;tF(i,n);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=Jz(this.raggedRank,r,n);s[0]<0&&(s[0]=e);for(let a=1;a<=this.raggedRank;++a)s[a]<0&&(s[a]=this.getMaxWidth(a));return s}calculateFirstParentOutputIndex(e,n,i){const r=Math.min(e,i),o=[];let s=0;for(let a=0;a<r;++a,s+=n)o.push(s);for(let a=r;a<e;++a)o.push(-1);return P(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,i,r){const o=e.length,s=[];for(let a=0;a<o-1;++a){const l=e[a+1]-e[a];let c=Math.min(r,l),u=n[a];u===-1&&(c=0);for(let d=0;d<c;++d)s.push(u),u+=i;for(let d=0;d<l-c;++d)s.push(-1)}if(o>0&&s.length!==e[o-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(e,n,i,r){const o=e.length,s=[];if(o===0)return[];let a=0,l=e[0];if(l>=n.length)throw new Error("Got currentValueRowId=".concat(l,", which is not less than ").concat(n.length));let c=n[l];s.push(c);for(let u=1;u<o;++u){const d=e[u];if(d===l)c>=0&&(++a,a<r?c+=i:c=-1);else{if(a=0,l=d,d>=n.length)throw new Error("Got nextValueRowId=".concat(d," which is not less than ").concat(n.length));c=n[d]}s.push(c)}if(s.length!==e.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(e,n,i,r){const o=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case No.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,i,r);case No.ROW_SPLITS:if(o.length-1>n.length)throw new Error("Row partition size is greater than output size: ".concat(o.length-1," > ").concat(n.length));return this.calculateOutputIndexRowSplit(o,n,i,r);default:throw new Error("Unsupported partition type: ".concat(No[s]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case No.FIRST_DIM_SIZE:return e[0];case No.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case No.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(No[n]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),i=this.calculateOutputSize(n),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let l=r.length-2;l>=0;--l)r[l]=r[l+1]*i[l+1];const o=iN(i,!1),s=Bn(this.valuesDType,ge(o));if(r[0]*i[0]>0){let l=this.calculateFirstParentOutputIndex(n,r[0],i[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,r[c],i[c]);this.setOutput(this.raggedRank,l,s,o)}return[o,s]}setOutput(e,n,i,r){if(i.length===0)return;const o=this.values,s=i;let a=r.slice();a=a.slice(e+1);const l=ge(a),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const p=this.defaultValueShape;ce(()=>{const m=ne(u,p);u=uh(m,a).dataSync()})}let d=0,h=0,f=0;for(let p=0;p<=c;++p){let m=p<c?n[p]:-1;if(m===f){++f;continue}if(h<f){const b=o.subarray(d*l),g=s.subarray(h*l),x=(f-h)*l;nN(g,b,x)}if(p>=c){const b=i.length;m=Math.floor(b/l)}if(m>f)if(this.defaultValue.length===1)s.subarray(f*l,m*l).fill(this.defaultValue[0]),f=m;else for(;m>f;){const b=s.slice(f*l);nN(b,u,l),++f}m<0?(d=p+1,h=f):(d=p,h=f,f=h+1)}}}function nN(t,e,n){for(let i=0;i<n;i++)t[i]=e[i]}function iN(t,e){const n=[];for(let i of t){if(i<0){if(!e)throw new Error("Dimension ".concat(i," must be >= 0"));if(i<-1)throw new Error("Dimension ".concat(i," must be >= -1"));i=-1}n.push(i)}return n}function xB(t,e,n,i,r,o,s,a,l,c){return new e1(t,e,n,i,r,o,s,a,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yB(t,e,n,i){const r=t===e,o=t<e&&n<0,s=e<t&&n>1;if(r||o||s)return Yi(0,i);const a=Math.abs(Math.ceil((e-t)/n)),l=Yi(a,i);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vB=da(t=>1/Math.sqrt(t)),rke=Ec(Sg,vB),oke={kernelName:Sg,backendName:"cpu",kernelFunc:rke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qc(t,e,n,i,r,o,s,a,l,c){const u=[i/r,r],d=t.values,h=e.values;if(i===0)return vt(n,e.dtype);const f=l instanceof ri?l:vt(u,e.dtype);typeof l=="string"||typeof l=="number"?f.values.fill(l):typeof l=="boolean"&&f.values.fill(+l);for(let p=0;p<o;p++){const m=[];let b=0;for(let g=0;g<s;g++){const x=d[p*s+g];m.push(x),b+=x*a[g]}if(b<0||b>=i/r)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(let g=0;g<r;g++)c?f.values[b*r+g]+=h[p*r+g]:f.values[b*r+g]=e.rank===0?h[0]:h[p*r+g]}return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ske=da(t=>1/(1+Math.exp(-t))),wB=Wt($g,t=>1/(1+Math.exp(-t))),ake={kernelName:$g,backendName:"cpu",kernelFunc:wB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kB(t,e,n,i,r){const o=qT(i,e,n),s=ge(n),a=it(i);if(o){const d=XT(e,a);return r==="string"?t.slice(d,d+s):t.subarray(d,d+s)}const l=r==="string"?Ka(t):t,c=vt(i,r,l),u=vt(n,r);for(let d=0;d<u.size;++d){const h=u.indexToLoc(d),f=h.map((p,m)=>p+e[m]);u.set(c.get(...f),...h)}return r==="string"?wF(u.values):u.values}function Lu(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{begin:o,size:s}=i;Ye(r,"slice");const[a,l]=Gv(r,o,s);WT(r,a,l);const c=n.data.get(r.dataId).values,u=kB(c,a,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,u)}const lke={kernelName:pv,backendName:"cpu",kernelFunc:Lu};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SB(t,e,n,i,r,o,s){const a=e[0],l=o[0],c=new Array(l),u=new Array(a),d=e[1];if(l===0){if(a!==0)throw new Error(lF(a));const b=Bn(n,0),g=Bn(r,0);return[b,[0,d],g,c,u]}let h=!0,f=0;const p=new Array(l).fill(0);for(let b=0;b<a;++b){const g=t[b*d];if(g<0)throw new Error(cF(b,g));if(g>=l)throw new Error(uF(b,g,l));++p[g],h=h&&g>=f,f=g}let m=!0;for(let b=0;b<l;++b){const g=p[b]===0;c[b]=g,m=m&&!g,p[b]=Math.max(p[b],1),b>0&&(p[b]+=p[b-1])}if(m&&h){const b=t,g=i;for(let x=0;x<a;++x)u[x]=x;return[b,[a,d],g,c,u]}else{const b=p[l-1],g=Bn(n,b*d),x=Bn(r,b),y=new Array(l).fill(0);for(let v=0;v<a;++v){const w=t[v*d],E=y[w],C=(w===0?0:p[w-1])+E;y[w]++;for(let I=0;I<d;++I)g[C*d+I]=t[v*d+I];x[C]=i[v],u[v]=C}for(let v=0;v<l;++v)if(y[v]===0){const E=v===0?0:p[v-1];g[E*d+0]=v;for(let C=1;C<d;++C)g[E*d+C]=0;x[E]=s}return[g,[b,d],x,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CB(t,e,n,i,r){const o=ge(i),s=e[0],a=r.length,l=[];let c=1,u=-1;for(let b=0;b<a;++b){const g=r[b];if(g===-1){if(u!==-1)throw new Error(dF(u,b));u=b,l.push(1)}else{if(g<0)throw new Error(hF(b,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(fF());const b=Math.trunc(o/c);if(c*b!==o)throw new Error(pF(i,l));l[u]=b}if(ge(l)!==o)throw new Error(mF(i,l));const h=i.length,f=[];if(h>0){f[h-1]=1;for(let b=h-2;b>=0;--b)f[b]=f[b+1]*i[b+1]}const p=[];if(a>0){p[a-1]=1;for(let b=a-2;b>=0;--b)p[b]=p[b+1]*l[b+1]}const m=Bn(n,s*a);for(let b=0;b<s;++b){let g=0;for(let x=0;x<h;++x)g+=t[b*h+x]*f[x];for(let x=0;x<a;++x)m[b*a+x]=Math.trunc(g/p[x]),g%=p[x]}return[m,[s,a],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UI(t,e,n,i,r,o=!1,s=0){const a=i.length,l=[e[0],t.length/e[0]],c=l[1],d=a>0?r[a-1]+1:0;if(d<0)throw new Error(tS());const h=e.slice();h[0]=d;const f=h.reduce((y,v)=>y*v,1),p=Bn(n,f);if(a===0)return d>0&&p.fill(s),[p,h];if(d<=0)throw new Error(tS());let m=0,b=1,g=0,x=r[m];for(;;){let y=0;if(b<a){if(y=r[b],x===y){++b;continue}if(x>=y)throw new Error(gF())}if(x<0||x>=d)throw new Error(bF(x,d));x>g&&p.fill(s,g*c,x*c);for(let v=m;v<b;++v){const w=i[v];if(w<0||w>=l[0])throw new Error(xF(v,i[v],l[0]));for(let E=0;E<c;E++)p[x*c+E]+=t[w*c+E]}if(o)for(let v=0;v<c;v++)p[x*c+v]/=b-m;if(m=b,++b,g=x+1,x=y,b>a)break}return g<d&&p.fill(s,g*c,d*c),[p,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cke=da(t=>Math.sqrt(t)),uke=Wt(Ag,t=>Math.sqrt(t)),dke={kernelName:Ag,backendName:"cpu",kernelFunc:uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EB=qn((t,e)=>{const n=t-e;return n*n}),hke=li(Ng,EB),fke={kernelName:Ng,backendName:"cpu",kernelFunc:hke};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TB=da((t,e)=>{const{pattern:n,replaceGlobal:i,rewrite:r}=e;return t.replace(new RegExp(n,i?"g":""),r)}),pke=Ec(yv,TB),mke={kernelName:yv,backendName:"cpu",kernelFunc:pke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IB(t,e,n,i){const r=vt(t,e.dtype);for(let o=0;o<r.size;o++){const s=r.indexToLoc(o),a=new Array(s.length);for(let l=0;l<a.length;l++)a[l]=s[l]*n[l]+i[l];r.set(e.get(...a),...s)}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gke{constructor(e,n,i,r,o,s){this.separator=Wl(e),this.nGramWidths=n,this.leftPad=Wl(i),this.rightPad=Wl(r),this.padWidth=o,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const i=this.getPadWidth(n);return Math.max(0,e+2*i-n+1)}createNGrams(e,n,i,r,o,s){for(let a=0;a<o;++a){const l=this.getPadWidth(s),c=Math.max(0,l-a),u=Math.max(0,l-(o-(a+1))),d=s-(c+u),h=n+(c>0?0:a-l);let f=0;f+=c*this.leftPad.length;for(let x=0;x<d;++x)f+=e[h+x].length;f+=u*this.rightPad.length;const p=c+u+d-1;f+=p*this.separator.length,i[r+a]=new Uint8Array(f);const m=i[r+a];let b=0;const g=x=>x.forEach(y=>m[b++]=y);for(let x=0;x<c;++x)g(this.leftPad),g(this.separator);for(let x=0;x<d-1;++x)g(e[h+x]),g(this.separator);if(d>0){g(e[h+d-1]);for(let x=0;x<u;++x)g(this.separator),g(this.rightPad)}else{for(let x=0;x<u-1;++x)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const i=e.length,r=n.length;if(r>0){let l=n[0];if(l!==0)throw new Error("First split value must be 0, got ".concat(l));for(let c=1;c<r;++c){let u=n[c]>=l;if(u=u&&n[c]<=i,!u)throw new Error("Invalid split value ".concat(n[c],", must be in [").concat(l,", ").concat(i,"]"));l=n[c]}if(l!==i)throw new Error("Last split value must be data size. Expected ".concat(i,", got ").concat(l))}const o=r-1,s=Bn("int32",r);if(i===0||r===0){const l=new Array(i);for(let c=0;c<=o;++c)s[c]=0;return[l,s]}s[0]=0;for(let l=1;l<=o;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),s[l]=s[l-1]+u}const a=new Array(s[o]);for(let l=0;l<o;++l){const c=n[l];let u=s[l];if(this.nGramWidths.forEach(d=>{const h=n[l+1]-n[l],f=this.getNumNGrams(h,d);this.createNGrams(e,c,a,u,f,d),u+=f}),this.preserveShort&&u===s[l]){const d=n[l+1]-n[l];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,c,a,u,1,h)}}return[a,s]}}function $B(t,e,n,i,r,o,s,a){return new gke(n,i,r,o,s,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bke(t,e,n,i){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)i.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let s=t.indexOf(o);for(;s!==-1;){const a=t.subarray(0,s);(!n||a.length!==0)&&i.push(a),t=t.subarray(s+1),s=t.indexOf(o)}(!n||t.length!==0)&&i.push(t);return}let r=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const s=t.subarray(r,o);(!n||s.length!==0)&&i.push(s),r=o+1}}function _B(t,e,n){const i=t.length,r=[];let o=0,s=0;const a=new Array(i);for(let h=0;h<i;++h){const f=r.length;bke(t[h],e,n,r);const p=r.length-f;a[h]=p,o+=p,s=Math.max(s,p)}const l=Bn("int32",o*2),c=new Array(o),u=[i,s];let d=0;for(let h=0;h<i;++h)for(let f=0;f<a[h];++f)l[d*2]=h,l[d*2+1]=f,c[d]=r[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AB(t,e){const n=Bn("int32",t.length);for(let i=0;i<t.length;++i)n[i]=Nue(t[i]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NB=qn((t,e)=>t-e),xke=MI((t,e,n,i)=>({real:t-n,imag:e-i})),VI=li(Og,NB,xke),yke={kernelName:Og,backendName:"cpu",kernelFunc:VI};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OB(t,e){const n=new Array(t.rank);for(let r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];const i=vt(n,t.dtype);for(let r=0;r<i.values.length;++r){const o=i.indexToLoc(r),s=new Array(t.rank);for(let l=0;l<s.length;l++)s[l]=o[l]%t.shape[l];const a=t.locToIndex(s);i.values[r]=t.values[a]}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ip=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function DB(t,e,n=0,i=t.length-1){for(;i>n;){if(i-n>600){const a=i-n+1,l=e-n+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*Math.sign(l-a/2),h=Math.max(n,Math.floor(e-l*u/a+d)),f=Math.min(i,Math.floor(e+(a-l)*u/a+d));DB(t,e,h,f)}const r=t[e];let o=n,s=i;for(Nd(t,n,e),ip(t[i],r)>0&&Nd(t,n,i);o<s;){for(Nd(t,o,s),o++,s--;ip(t[o],r)<0;)o=o+1;for(;ip(t[s],r)>0;)s=s-1}ip(t[n],r)===0?Nd(t,n,s):(s=s+1,Nd(t,s,i)),s<=e&&(n=s+1),e<=s&&(i=s-1)}}function RB(t,e,n,i,r){const o=e[e.length-1],[s,a]=[t.length/o,o],l=Di(n,s*i),c=Di("int32",s*i);for(let d=0;d<s;d++){const h=d*a,f=t.subarray(h,h+a);let p=new Array(f.length);f.forEach((x,y)=>p[y]={value:x,index:y}),i<p.length&&(DB(p,i),p=p.slice(0,i)),r&&p.sort(ip);const m=d*i,b=l.subarray(m,m+i),g=c.subarray(m,m+i);for(let x=0;x<i;x++)b[x]=p[x].value,g[x]=p[x].index}const u=e.slice();return u[u.length-1]=i,[vt(u,n,l),vt(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LB(t,e,n,i){const r=Tt(e,n)[0],o=[1,n[0],1];for(let p=0;p<r;p++)o[0]*=n[p];o[1]=n[r];for(let p=r+1;p<n.length;p++)o[2]*=n[p];const s=new Map,a=new Int32Array(n[r]),l=new ri(o,i,t),c=[],u=o[0]===1&&o[2]===1;for(let p=0;p<n[r];p++){let m;if(u)m=t[p].toString();else{const g=[];for(let x=0;x<o[0];x++)for(let y=0;y<o[2];y++)g.push(l.get(x,p,y));m=g.join(",")}const b=s.get(m);if(b!=null)a[p]=b;else{const g=s.size;s.set(m,g),a[p]=g,c.push(p)}}const d=o.slice();d[1]=s.size;const h=new ri(d,i);c.forEach((p,m)=>{for(let b=0;b<o[0];b++)for(let g=0;g<o[2];g++)h.set(l.get(b,p,g),b,m,g)});const f=n.slice();return f[r]=d[1],{outputValues:h.values,outputShape:f,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vke=Object.freeze(Object.defineProperty({__proto__:null,addImpl:HP,bincountImpl:PI,bincountReduceImpl:WP,bitwiseAndImpl:GP,castImpl:VP,ceilImpl:qP,concatImpl:XP,equalImpl:KP,expImpl:ZP,expm1Impl:QP,floorDivImpl:tB,floorImpl:eB,gatherNdImpl:nB,gatherV2Impl:iB,greaterEqualImpl:oB,greaterImpl:rB,lessEqualImpl:aB,lessImpl:sB,linSpaceImpl:lB,logImpl:cB,maxImpl:uB,maximumImpl:dB,minimumImpl:hB,multiplyImpl:BI,negImpl:fB,notEqualImpl:pB,prodImpl:mB,raggedGatherImpl:gB,raggedRangeImpl:bB,raggedTensorToTensorImpl:xB,rangeImpl:yB,rsqrtImpl:vB,scatterImpl:Qc,sigmoidImpl:ske,simpleAbsImpl:UP,sliceImpl:kB,sparseFillEmptyRowsImpl:SB,sparseReshapeImpl:CB,sparseSegmentReductionImpl:UI,sqrtImpl:cke,squaredDifferenceImpl:EB,staticRegexReplaceImpl:TB,stridedSliceImpl:IB,stringNGramsImpl:$B,stringSplitImpl:_B,stringToHashBucketFastImpl:AB,subImpl:NB,tileImpl:OB,topKImpl:RB,transposeImpl:jI,uniqueImpl:LB},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */aL("cpu",()=>new sw,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zB=Wt(tg,t=>t>=0?t:Math.exp(t)-1),wke={kernelName:tg,backendName:"cpu",kernelFunc:zB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FB(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{alpha:o}=i;Ye([r],"leakyRelu");const s=ge(r.shape),a=n.data.get(r.dataId).values,l=Di("float32",s);for(let c=0;c<a.length;c++)l[c]=a[c]<0?o*a[c]:a[c];return n.makeTensorInfo(r.shape,"float32",l)}const kke={kernelName:Uy,backendName:"cpu",kernelFunc:FB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ske=qn((t,e)=>t<0?e*t:t);function MB(t){const{inputs:e,backend:n}=t,{x:i,alpha:r}=e;Ye([i,r],"prelu");const o=n.data.get(i.dataId).values,s=n.data.get(r.dataId).values,[a,l]=Ske(i.shape,r.shape,o,s,"float32");return n.makeTensorInfo(l,"float32",a)}const Cke={kernelName:av,backendName:"cpu",kernelFunc:MB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PB=Wt(vg,t=>Math.max(0,t)),Eke={kernelName:vg,backendName:"cpu",kernelFunc:PB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BB=Wt(wg,t=>Math.min(Math.max(0,t),6)),Tke={kernelName:wg,backendName:"cpu",kernelFunc:BB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t1(t,e,n,i,r){if(n==="linear")return oa({inputs:{x:e},backend:t});if(n==="relu")return PB({inputs:{x:e},backend:t});if(n==="elu")return zB({inputs:{x:e},backend:t});if(n==="relu6")return BB({inputs:{x:e},backend:t});if(n==="prelu")return MB({inputs:{x:e,alpha:i},backend:t});if(n==="leakyrelu")return FB({inputs:{x:e},backend:t,attrs:{alpha:r}});if(n==="sigmoid")return wB({inputs:{x:e},backend:t});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ln(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{shape:o}=i,s=ge(r.shape),a=R9(o,s),l=ge(a);P(s===l,()=>"The new shape (".concat(a,") has ").concat(l," elements and the old ")+"shape (".concat(r.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."),n.incRef(r.dataId);const c=n.data.get(r.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=a,d.shape=a}return{dataId:r.dataId,shape:a,dtype:r.dtype}}const Ike={kernelName:cv,backendName:"cpu",kernelFunc:ln};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jB(t){const{inputs:e,backend:n,attrs:i}=t,{a:r,b:o}=e,{transposeA:s,transposeB:a}=i;Ye([r,o],"matMul");const l=r.shape.length,c=o.shape.length,u=s?r.shape[l-2]:r.shape[l-1],d=a?o.shape[c-1]:o.shape[c-2],h=s?r.shape[l-1]:r.shape[l-2],f=a?o.shape[c-2]:o.shape[c-1],p=r.shape.slice(0,-2),m=o.shape.slice(0,-2),b=ge(p),g=ge(m),y=mt(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,f]);P(u===d,()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(r.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(a," must match."));const v=s?[b,u,h]:[b,h,u],w=a?[g,f,d]:[g,d,f],E=ln({inputs:{x:r},backend:n,attrs:{shape:v}}),C=ln({inputs:{x:o},backend:n,attrs:{shape:w}}),I=s?E.shape[1]:E.shape[2],T=s?E.shape[2]:E.shape[1],_=a?C.shape[1]:C.shape[2],M=Math.max(b,g),D=n.data.get(E.dataId).values,z=n.data.get(C.dataId).values,$=it(E.shape),F=it(C.shape),[j,W,V]=s?[$[0],1,$[1]]:[$[0],$[1],1],[B,K,q]=a?[1,F[1],F[0]]:[F[1],1,F[0]],G=T*_,le=vt([M,T,_],E.dtype),oe=le.values,re=n.blockSize;for(let we=0;we<M;we++){const _e=we%b,$e=we%g;for(let Oe=0;Oe<T;Oe+=re){const Ge=Math.min(Oe+re,T);for(let qe=0;qe<_;qe+=re){const ot=Math.min(qe+re,_);for(let lt=0;lt<I;lt+=re){const O=Math.min(lt+re,I);for(let me=Oe;me<Ge;me++)for(let he=qe;he<ot;he++){let Y=0;for(let X=lt;X<O;X++){const ae=D[_e*j+me*W+X*V],ye=z[X*B+he*K+$e*q];Y+=ae*ye}oe[we*G+(me*_+he)]+=Y}}}}}return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(C),n.makeTensorInfo(y,le.dtype,le.values)}const $ke={kernelName:Ty,backendName:"cpu",kernelFunc:jB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ke(t){const{inputs:e,backend:n,attrs:i}=t,{a:r,b:o,bias:s,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;let h,f,p;const m=[];h=jB({inputs:{a:r,b:o},attrs:{transposeA:l,transposeB:c},backend:n}),s&&(f=zh({inputs:{a:h,b:s},backend:n}),m.push(h),h=f),u&&(p=t1(n,h,u,a,d),m.push(h),h=p);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}const Ake={kernelName:Dx,backendName:"cpu",kernelFunc:_ke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nke=Wt(Um,t=>Math.acos(t)),Oke={kernelName:Um,backendName:"cpu",kernelFunc:Nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dke=Wt(Vm,t=>Math.acosh(t)),Rke={kernelName:Vm,backendName:"cpu",kernelFunc:Dke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lke(t){const{inputs:e,backend:n}=t,i=e;Ye(e,"addN");const r=i.map(a=>n.data.get(a.dataId).values),o=vt(i[0].shape,i[0].dtype),s=o.values;for(let a=0;a<i.length;a++){const l=r[a];for(let c=0;c<s.length;c++)s[c]+=l[c]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const zke={kernelName:wy,backendName:"cpu",kernelFunc:Lke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fke(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;Ye(r,"all");const a=Tt(o,r.shape);let l=a;const c=_n(l,r.shape.length);let u=r;c!=null&&(u=Tr({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Wn(l.length,r.shape.length)),Mi("all",l,u.shape.length);const[d,h]=wi(u.shape,l),f=ge(h),p=Yi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const x=g*f;let y=m[x];for(let v=0;v<f;++v){const w=m[x+v];y=y&&w}p[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,p);if(s){const g=Hn(d,a),x=ln({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const Mke={kernelName:HC,backendName:"cpu",kernelFunc:Fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pke(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;Ye(r,"any");const a=Tt(o,r.shape);let l=a;const c=_n(l,r.shape.length);let u=r;c!=null&&(u=Tr({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Wn(l.length,r.shape.length)),Mi("any",l,u.shape.length);const[d,h]=wi(u.shape,l),f=ge(h),p=Yi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const x=g*f;let y=m[x];for(let v=0;v<f;++v){const w=m[x+v];y=y||w}p[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,p);if(s){const g=Hn(d,a),x=ln({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const Bke={kernelName:WC,backendName:"cpu",kernelFunc:Pke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jke(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o}=i;Ye(r,"argMax");let s=Tt(o,r.shape);const a=_n(s,r.shape.length);let l=r;const c=[];a!=null&&(l=Tr({inputs:{x:r},backend:n,attrs:{perm:a}}),c.push(l),s=Wn(s.length,l.shape.length)),s=[s[0]],Mi("argMax",s,l.shape.length);const[u,d]=wi(l.shape,s),h=ge(u),f=Yi(h,"int32"),p=ge(d),m=n.data.get(l.dataId).values;for(let b=0;b<f.length;++b){const g=b*p;let x=m[g],y=0;for(let v=0;v<p;++v){const w=m[g+v];w>x&&(x=w,y=v)}f[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",f)}const Uke={kernelName:ky,backendName:"cpu",kernelFunc:jke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vke(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o}=i;Ye(r,"argMin");let s=Tt(o,r.shape);const a=_n(s,r.shape.length);let l=r;const c=[];a!=null&&(l=Tr({inputs:{x:r},backend:n,attrs:{perm:a}}),c.push(l),s=Wn(s.length,l.shape.length)),s=[s[0]],Mi("argMin",s,l.shape.length);const[u,d]=wi(l.shape,s),h=ge(u),f=Yi(h,"int32"),p=ge(d),m=n.data.get(l.dataId).values;for(let b=0;b<f.length;++b){const g=b*p;let x=m[g],y=0;for(let v=0;v<p;++v){const w=m[g+v];w<x&&(x=w,y=v)}f[b]=y}return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(u,"int32",f)}const Hke={kernelName:Sy,backendName:"cpu",kernelFunc:Vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wke=Wt(Hm,t=>Math.asin(t)),Gke={kernelName:Hm,backendName:"cpu",kernelFunc:Wke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qke=Wt(Wm,t=>Math.asinh(t)),Xke={kernelName:Wm,backendName:"cpu",kernelFunc:qke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kke=Wt(Gm,t=>Math.atan(t)),Yke={kernelName:Gm,backendName:"cpu",kernelFunc:Kke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zke=qn((t,e)=>Math.atan2(t,e)),Jke=li(Xm,Zke),Qke={kernelName:Xm,backendName:"cpu",kernelFunc:Jke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e3e=Wt(qm,t=>Math.atanh(t)),t3e={kernelName:qm,backendName:"cpu",kernelFunc:e3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HI(t,e,n,i,r,o){const s=r.strideHeight,a=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,p=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=vt(r.outShape,n),b=m.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],x=r.outShape[2]*r.outShape[3],y=r.outShape[3];for(let v=0;v<r.batchSize;++v){const w=v*g,E=v*i[0];for(let C=0;C<r.inChannels;++C)for(let I=0;I<r.outHeight;++I){const T=I*s-h,_=Math.max(0,T),M=Math.min(r.inHeight,u+T),D=w+I*x;for(let z=0;z<r.outWidth;++z){const $=z*a-f,F=Math.max(0,$),j=Math.min(r.inWidth,d+$);let W=p,V=0,B=0;for(let q=_;q<M;q+=l){const G=E+q*i[1];for(let le=F;le<j;le+=c){const oe=G+le*i[2],re=t[oe+C];o==="max"&&re>W?W=re:o==="avg"&&(V+=re,B++)}if(isNaN(W))break}const K=D+z*y+C;b[K]=o==="avg"?V/B:W}}}return m}function UB(t,e,n,i,r=!1,o=!1){const s=vt(i.outShape,"int32"),a=i.strideHeight,l=i.strideWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,h=i.effectiveFilterWidth,f=i.padInfo.top,p=i.padInfo.left,m=vt(e,n,t);for(let b=0;b<i.batchSize;++b)for(let g=0;g<i.inChannels;++g)for(let x=0;x<i.outHeight;++x){const y=x*a-f;let v=y;for(;v<0;)v+=c;const w=Math.min(i.inHeight,d+y);for(let E=0;E<i.outWidth;++E){const C=E*l-p;let I=C;for(;I<0;)I+=u;const T=Math.min(i.inWidth,h+C);let _=Number.NEGATIVE_INFINITY,M=-1;for(let D=v;D<w;D+=c){const z=D-y;for(let $=I;$<T;$+=u){const F=$-C,j=m.get(b,D,$,g);j>_&&(_=j,r?M=o?((b*i.inHeight+D)*i.inWidth+$)*i.inChannels+g:(D*i.inWidth+$)*i.inChannels+g:M=z*h+F)}}s.set(M,b,x,E,g)}}return s}function VB(t,e,n,i,r,o){const s=r.strideDepth,a=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,h=r.effectiveFilterDepth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.front,b=r.padInfo.top,g=r.padInfo.left,x=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=vt(r.outShape,n),v=y.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],E=r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[3]*r.outShape[4],I=r.outShape[4];for(let T=0;T<r.batchSize;++T){const _=T*w,M=T*i[0];for(let D=0;D<r.inChannels;++D)for(let z=0;z<r.outDepth;++z){const $=z*s-m;let F=$;for(;F<0;)F+=c;const j=Math.min(r.inDepth,h+$),W=_+z*E;for(let V=0;V<r.outHeight;++V){const B=V*a-b;let K=B;for(;K<0;)K+=u;const q=Math.min(r.inHeight,f+B),G=W+V*C;for(let le=0;le<r.outWidth;++le){const oe=le*l-g;let re=oe;for(;re<0;)re+=d;const we=Math.min(r.inWidth,p+oe),_e=G+le*I;let $e=x,Oe=0,Ge=0;for(let ot=F;ot<j;ot+=c){const lt=M+ot*i[1];for(let O=K;O<q;O+=u){const me=lt+O*i[2];for(let he=re;he<we;he+=d){const Y=me+he*i[3],X=t[Y+D];if(o==="max"&&X>$e?$e=X:o==="avg"&&(Oe+=X,Ge++),isNaN($e))break}if(isNaN($e))break}if(isNaN($e))break}const qe=_e+D;v[qe]=o==="avg"?Oe/Math.max(Ge,1):$e}}}}return y}function n3e(t,e){const n=vt(e.outShape,"int32"),i=e.strideDepth,r=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,a=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,f=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let b=0;b<e.inChannels;++b)for(let g=0;g<e.outDepth;++g){const x=g*i-h;let y=x;for(;y<0;)y+=s;const v=Math.min(e.inDepth,c+x);for(let w=0;w<e.outHeight;++w){const E=w*r-f;let C=E;for(;C<0;)C+=a;const I=Math.min(e.inHeight,u+E);for(let T=0;T<e.outWidth;++T){const _=T*o-p;let M=_;for(;M<0;)M+=l;const D=Math.min(e.inWidth,d+_);let z=Number.NEGATIVE_INFINITY,$=-1;for(let F=y;F<v;F+=s){const j=F-x;for(let W=C;W<I;W+=a){const V=W-E;for(let B=M;B<D;B+=l){const K=B-_,q=t.get(m,F,W,B,b);q>=z&&(z=q,$=j*u*d+V*u+K)}}}n.set($,m,g,w,T,b)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e;Ye(r,"avgPool");const{filterSize:o,strides:s,pad:a,dimRoundingMode:l}=i,c=1;P(Fi(s,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ls(r.shape,o,s,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))d=oa({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,f=it(r.shape),p=HI(h,r.shape,r.dtype,f,u,"avg");d=n.makeTensorInfo(u.outShape,r.dtype,p.values)}return d}const r3e={kernelName:Cy,backendName:"cpu",kernelFunc:i3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{filterSize:o,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i;Ye(r,"avgPool3d");const u=el(r.shape,o,s,1,a,l,c),d=n.data.get(r.dataId).values,h=VB(d,r.shape,r.dtype,it(r.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const s3e={kernelName:Ey,backendName:"cpu",kernelFunc:o3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,{filterSize:s,strides:a,pad:l,dimRoundingMode:c}=i;Ye([r,o],"avgPool3DGrad");const u=el(o.shape,s,a,1,l,c),d=u.strideDepth,h=u.strideHeight,f=u.strideWidth,p=u.filterDepth,m=u.filterHeight,b=u.filterWidth,g=u.dilationDepth,x=u.dilationHeight,y=u.dilationWidth,v=u.effectiveFilterDepth,w=u.effectiveFilterHeight,E=u.effectiveFilterWidth,C=v-1-u.padInfo.front,I=E-1-u.padInfo.left,T=w-1-u.padInfo.top,_=vt(o.shape,"float32"),M=1/(p*m*b),D=n.bufferSync(r);for(let z=0;z<u.batchSize;++z)for(let $=0;$<u.inChannels;++$)for(let F=0;F<u.inDepth;++F)for(let j=0;j<u.inHeight;++j)for(let W=0;W<u.inWidth;++W){const V=F-C,B=j-T,K=W-I;let q=0;for(let G=0;G<v;G+=g){const le=(V+G)/d;if(!(le<0||le>=u.outDepth||Math.floor(le)!==le))for(let oe=0;oe<w;oe+=x){const re=(B+oe)/h;if(!(re<0||re>=u.outHeight||Math.floor(re)!==re))for(let we=0;we<E;we+=y){const _e=(K+we)/f;if(_e<0||_e>=u.outWidth||Math.floor(_e)!==_e)continue;const $e=D.get(z,le,re,_e,$);q+=$e}}}_.set(q*M,z,F,j,W,$)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const l3e={kernelName:qC,backendName:"cpu",kernelFunc:a3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,s=o;Ye([r,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=ls(s.shape,a,l,1,c),d=u.strideHeight,h=u.strideWidth,f=u.filterHeight,p=u.filterWidth,m=u.dilationHeight,b=u.dilationWidth,g=u.effectiveFilterHeight,x=u.effectiveFilterWidth,y=x-1-u.padInfo.left,v=g-1-u.padInfo.top,w=vt(s.shape,"float32"),E=1/(f*p),C=n.data.get(r.dataId).values,I=vt(r.shape,"float32",C);for(let T=0;T<u.batchSize;++T)for(let _=0;_<u.inChannels;++_)for(let M=0;M<u.inHeight;++M)for(let D=0;D<u.inWidth;++D){const z=M-v,$=D-y;let F=0;for(let j=0;j<g;j+=m){const W=(z+j)/d;if(!(W<0||W>=u.outHeight||Math.floor(W)!==W))for(let V=0;V<x;V+=b){const B=($+V)/h;if(B<0||B>=u.outWidth||Math.floor(B)!==B)continue;const K=I.get(T,W,B,_);F+=K}}w.set(F*E,T,M,D,_)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const u3e={kernelName:GC,backendName:"cpu",kernelFunc:c3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,scale:o,offset:s,mean:a,variance:l}=e;P(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),P(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),P(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Ye([r,a,l,o,s],"batchNorm");let{varianceEpsilon:c}=i;c==null&&(c=.001);const u=n.data.get(r.dataId).values,d=n.data.get(a.dataId).values,h=n.data.get(l.dataId).values,f=o?n.data.get(o.dataId).values:new Float32Array([1]),p=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),b=p.length,g=f.length,x=h.length,y=d.length;let v=0,w=0,E=0,C=0;for(let I=0;I<u.length;++I)m[I]=p[v++]+(u[I]-d[w++])*f[E++]/Math.sqrt(h[C++]+c),v>=b&&(v=0),w>=y&&(w=0),E>=g&&(E=0),C>=x&&(C=0);return n.makeTensorInfo(r.shape,r.dtype,m)}const h3e={kernelName:Py,backendName:"cpu",kernelFunc:d3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockShape:o,crops:s}=i;Ye([r],"batchToSpaceND");const a=o.reduce((g,x)=>g*x),l=Wg(r.shape,o,a),c=Gg(l.length,o.length),u=qg(r.shape,o,a),d=QT(s,o.length),h=eI(u,s,o.length),f=ln({inputs:{x:r},backend:n,attrs:{shape:l}}),p=Tr({inputs:{x:f},backend:n,attrs:{perm:c}}),m=ln({inputs:{x:p},backend:n,attrs:{shape:u}}),b=Lu({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),b}const p3e={kernelName:Iy,backendName:"cpu",kernelFunc:f3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,weights:o}=e,{size:s}=i,a=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,c=PI(a,l,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,c)}const g3e={kernelName:XC,backendName:"cpu",kernelFunc:m3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b3e(t){const{inputs:e,backend:n}=t,{s0:i,s1:r}=e,o=n.data.get(i.dataId).values,s=n.data.get(r.dataId).values,a=mt(Array.from(o),Array.from(s));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const x3e={kernelName:KC,backendName:"cpu",kernelFunc:b3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y3e=Wt(Zm,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),v3e={kernelName:Zm,backendName:"cpu",kernelFunc:y3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w3e=t=>{const{x:e}=t.inputs,n=t.backend,i=new Float32Array(ge(e.shape)),r=n.data.get(e.dataId),o=r.complexTensorInfos.real,s=r.complexTensorInfos.imag,a=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values;for(let c=0;c<a.length;c++){const u=a[c],d=l[c];i[c]=Math.hypot(u,d)}return n.makeOutput(i,e.shape,"float32")},k3e={kernelName:_y,backendName:"cpu",kernelFunc:w3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fh(t){const{inputs:e,backend:n}=t,{input:i}=e,r=n.data.get(i.dataId).complexTensorInfos.imag,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const S3e={kernelName:pE,backendName:"cpu",kernelFunc:Fh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mh(t){const{inputs:e,backend:n,attrs:i}=t,{axis:r}=i,o=Tt(r,e[0].shape)[0],s=e.map(m=>m.shape);YT(s,o);let a=Js(e.map(m=>m.shape),o);if(ge(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(m=>ge(m.shape)>0);if(l.length===1)return oa({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(v=>Ru({inputs:{input:v},backend:n})),b=l.map(v=>Fh({inputs:{input:v},backend:n})),g=Mh({inputs:m,backend:n,attrs:{axis:o}}),x=Mh({inputs:b,backend:n,attrs:{axis:o}}),y=Fr({inputs:{real:g,imag:x},backend:n});return m.forEach(v=>n.disposeIntermediateTensorInfo(v)),b.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),y}const c=l.map(m=>{const g=[-1,ge(m.shape.slice(o))];return ln({inputs:{x:m},backend:n,attrs:{shape:g}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));a=Js(c.map(m=>m.shape),1);const d=c[0].shape[0]===1,h=XP(u,a,e[0].dtype,d),f=Js(l.map(m=>m.shape),o),p=n.makeTensorInfo(f,e[0].dtype,h);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const C3e={kernelName:Ay,backendName:"cpu",kernelFunc:Mh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HB(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i;Ye([r,o],"conv2d");const d=tl(l),h=vi(r.shape,o.shape,s,c,a,u,!1,d),f=h.filterHeight,p=h.filterWidth,m=h.dilationHeight,b=h.dilationWidth,g=h.padInfo.left,x=h.padInfo.top,y=h.dataFormat==="channelsLast",v=new ri(h.outShape,r.dtype),w=it(r.shape),E=it(o.shape),C=w[0],I=y?w[1]:w[2],T=y?w[2]:1,_=y?1:w[1],M=v.strides[0],D=y?v.strides[1]:v.strides[2],z=y?v.strides[2]:1,$=y?1:v.strides[1],F=n.data.get(r.dataId).values,j=n.data.get(o.dataId).values,W=v.values;for(let V=0;V<h.batchSize;++V){const B=V*C,K=V*M;for(let q=0;q<h.outHeight;++q){const G=K+q*D,le=q*h.strideHeight-x;for(let oe=0;oe<f;++oe){const re=le+oe*m;if(re<0||re>=h.inHeight)continue;const we=oe*E[0],_e=B+re*I;for(let $e=0;$e<h.outWidth;++$e){const Oe=G+$e*z,Ge=$e*h.strideWidth-g;for(let qe=0;qe<p;++qe){const ot=Ge+qe*b;if(ot<0||ot>=h.inWidth)continue;const lt=we+qe*E[1],O=_e+ot*T;let me=lt;for(let he=0;he<h.inChannels;++he){const Y=F[O+he*_];for(let X=0;X<h.outChannels;++X)W[Oe+X*$]+=Y*j[me+X];me+=h.outChannels}}}}}}return n.makeTensorInfo(v.shape,v.dtype,W)}const E3e={kernelName:Ny,backendName:"cpu",kernelFunc:HB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i;Ye([r,o],"conv2dBackpropFilter");const d=tl(l),h=vi(r.shape,u,s,1,a,c,!1,d),{strideHeight:f,strideWidth:p,filterHeight:m,filterWidth:b}=h,g=h.dataFormat==="channelsLast",x=new ri(h.filterShape,"float32"),y=h.padInfo.left,v=h.padInfo.top,w=n.data.get(r.dataId).values,E=n.data.get(o.dataId).values,C=new ri(r.shape,r.dtype,w),I=new ri(o.shape,o.dtype,E);for(let T=0;T<m;++T){const _=Math.max(0,Math.ceil((v-T)/f)),M=Math.min(h.outHeight,(h.inHeight+v-T)/f);for(let D=0;D<b;++D){const z=Math.max(0,Math.ceil((y-D)/p)),$=Math.min(h.outWidth,(h.inWidth+y-D)/p);for(let F=0;F<h.inChannels;++F)for(let j=0;j<h.outChannels;++j){let W=0;for(let V=0;V<h.batchSize;++V)for(let B=_;B<M;++B){const K=T+B*f-v;for(let q=z;q<$;++q){const G=D+q*p-y;g?W+=C.get(V,K,G,F)*I.get(V,B,q,j):W+=C.get(V,F,K,G)*I.get(V,j,B,q)}}x.set(W,T,D,F,j)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const I3e={kernelName:ZC,backendName:"cpu",kernelFunc:T3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{inputShape:s,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i;Ye([r,o],"conv2dBackpropInput");const d=it(o.shape),h=it(r.shape);let f=tl(c);const p=vi(s,o.shape,a,1,l,u,!1,f),m=new ri(p.inShape,"float32"),b=m.values,g=n.data.get(r.dataId).values,x=n.data.get(o.dataId).values,[y,v,w]=d,{batchSize:E,filterHeight:C,filterWidth:I,inChannels:T,inHeight:_,inWidth:M,outChannels:D,outHeight:z,outWidth:$,strideHeight:F,strideWidth:j}=p;f=p.dataFormat;const W=C-1-p.padInfo.top,V=I-1-p.padInfo.left,B=f==="channelsLast",K=m.strides[0],q=B?m.strides[1]:m.strides[2],G=B?m.strides[2]:1,le=B?1:m.strides[1],oe=h[0],re=B?h[1]:h[2],we=B?h[2]:1,_e=B?1:h[1];for(let $e=0;$e<E;++$e)for(let Oe=0;Oe<T;++Oe)for(let Ge=0;Ge<_;++Ge){const qe=Ge-W,ot=Math.max(0,Math.ceil(qe/F)),lt=Math.min(z,(C+qe)/F);for(let O=0;O<M;++O){const me=O-V,he=Math.max(0,Math.ceil(me/j)),Y=Math.min($,(I+me)/j);let X=0;for(let ye=ot;ye<lt;++ye){const Ce=ye*F-qe;for(let de=he;de<Y;++de){const Ie=de*j-me,Fe=oe*$e+re*ye+we*de,Ae=y*(C-1-Ce)+v*(I-1-Ie)+w*Oe;for(let We=0;We<D;++We){const bt=g[Fe+_e*We],dt=x[Ae+We];X+=bt*dt}}}const ae=K*$e+q*Ge+G*O+le*Oe;b[ae]=X}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const _3e={kernelName:Oy,backendName:"cpu",kernelFunc:$3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dilations:l}=i;Ye([r,o],"conv3d");const c=yc(r.shape,o.shape,s,l,a),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:f,dilationHeight:p,dilationWidth:m,padInfo:b}=c,g=b.front,x=b.left,y=b.top,v=new ri(c.outShape,r.dtype),w=n.data.get(r.dataId).values,E=n.data.get(o.dataId).values,C=v.values,I=it(r.shape),T=it(o.shape);for(let _=0;_<c.batchSize;++_){const M=_*I[0],D=_*v.strides[0];for(let z=0;z<c.outDepth;++z){const $=D+z*v.strides[1],F=z*c.strideDepth-g;for(let j=0;j<u;++j){const W=F+j*f;if(W<0||W>=c.inDepth)continue;const V=j*T[0],B=M+W*I[1];for(let K=0;K<c.outHeight;++K){const q=$+K*v.strides[2],G=K*c.strideHeight-y;for(let le=0;le<d;++le){const oe=G+le*p;if(oe<0||oe>=c.inHeight)continue;const re=V+le*T[1],we=B+oe*I[2];for(let _e=0;_e<c.outWidth;++_e){const $e=q+_e*c.outChannels,Oe=_e*c.strideWidth-x;for(let Ge=0;Ge<h;++Ge){const qe=Oe+Ge*m;if(qe<0||qe>=c.inWidth)continue;const ot=re+Ge*T[2],lt=we+qe*c.inChannels;let O=ot;for(let me=0;me<c.inChannels;++me){const he=w[lt+me];for(let Y=0;Y<c.outChannels;++Y)C[$e+Y]+=he*E[O+Y];O+=c.outChannels}}}}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const N3e={kernelName:Dy,backendName:"cpu",kernelFunc:A3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,pad:a,filterShape:l}=i;Ye([r,o],"conv3dBackpropFilterV2");const c=it(r.shape),u=it(o.shape),d=yc(r.shape,l,s,1,a),h=d.strideDepth,f=d.strideHeight,p=d.strideWidth,m=d.filterDepth,b=d.filterHeight,g=d.filterWidth,x=new ri(d.filterShape,"float32"),y=x.values,[v,w,E,C]=x.strides,I=n.data.get(o.dataId).values,[T,_,M,D]=u,z=n.data.get(r.dataId).values,[$,F,j,W]=c,V=d.padInfo.front,B=d.padInfo.left,K=d.padInfo.top;for(let q=0;q<m;++q){const G=Math.max(0,Math.ceil((V-q)/h)),le=Math.min(d.outDepth,(d.inDepth+V-q)/h),oe=q*v;for(let re=0;re<b;++re){const we=Math.max(0,Math.ceil((K-re)/f)),_e=Math.min(d.outHeight,(d.inHeight+K-re)/f),$e=re*w+oe;for(let Oe=0;Oe<g;++Oe){const Ge=Math.max(0,Math.ceil((B-Oe)/p)),qe=Math.min(d.outWidth,(d.inWidth+B-Oe)/p),ot=Oe*E+$e;for(let lt=0;lt<d.inChannels;++lt){const O=lt*C+ot;for(let me=0;me<d.outChannels;++me){let he=0;for(let Y=0;Y<d.batchSize;++Y){const X=Y*$,ae=Y*T;for(let ye=G;ye<le;++ye){const de=(q+ye*h-V)*F+X,Ie=ye*_+ae;for(let Fe=we;Fe<_e;++Fe){const We=(re+Fe*f-K)*j+de,bt=Fe*M+Ie;for(let dt=Ge;dt<qe;++dt){const dr=(Oe+dt*p-B)*W+We,cn=dt*D+bt;he+=z[dr+lt]*I[cn+me]}}}}y[O+me]=he}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const D3e={kernelName:JC,backendName:"cpu",kernelFunc:O3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{pad:s,strides:a,inputShape:l}=i;Ye([r],"conv3dBackpropInputV2");const c=it(r.shape),u=it(o.shape),d=yc(l,o.shape,a,1,s),h=new ri(d.inShape,"float32"),f=h.values,[p,m,b,g]=h.strides,x=n.data.get(r.dataId).values,[y,v,w,E]=c,C=n.data.get(o.dataId).values,[I,T,_,M]=u,{batchSize:D,filterDepth:z,filterHeight:$,filterWidth:F,inChannels:j,inDepth:W,inHeight:V,inWidth:B,outChannels:K,outDepth:q,outHeight:G,outWidth:le,strideDepth:oe,strideHeight:re,strideWidth:we}=d,_e=z-1-d.padInfo.front,$e=$-1-d.padInfo.top,Oe=F-1-d.padInfo.left;for(let Ge=0;Ge<D;++Ge)for(let qe=0;qe<j;++qe)for(let ot=0;ot<W;++ot){const lt=ot-_e,O=Math.max(0,Math.ceil(lt/oe)),me=Math.min(q,(z+lt)/oe);for(let he=0;he<V;++he){const Y=he-$e,X=Math.max(0,Math.ceil(Y/re)),ae=Math.min(G,($+Y)/re);for(let ye=0;ye<B;++ye){const Ce=ye-Oe,de=Math.max(0,Math.ceil(Ce/we)),Ie=Math.min(le,(F+Ce)/we);let Fe=0;for(let Ae=O;Ae<me;++Ae){const We=Ae*oe-lt;for(let bt=X;bt<ae;++bt){const dt=bt*re-Y;for(let Vt=de;Vt<Ie;++Vt){const dr=Vt*we-Ce,cn=y*Ge+v*Ae+w*bt+E*Vt,$r=I*(z-1-We)+T*($-1-dt)+_*(F-1-dr)+M*qe;for(let Pt=0;Pt<K;++Pt){const _r=x[cn+Pt],to=C[$r+Pt];Fe+=_r*to}}}}f[p*Ge+m*ot+b*he+g*ye+qe]=Fe}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const L3e={kernelName:QC,backendName:"cpu",kernelFunc:R3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z3e=Wt(Jm,t=>Math.cos(t)),F3e={kernelName:Jm,backendName:"cpu",kernelFunc:z3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M3e=Wt(Qm,t=>Math.cosh(t)),P3e={kernelName:Qm,backendName:"cpu",kernelFunc:M3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B3e(t){const{inputs:e,backend:n,attrs:i}=t,{image:r,boxes:o,boxInd:s}=e,{cropSize:a,method:l,extrapolationValue:c}=i,[u,d,h,f]=r.shape,p=o.shape[0],[m,b]=a,g=vt([p,m,b,f],"float32"),x=n.data.get(o.dataId).values,y=n.data.get(s.dataId).values,v=n.data.get(r.dataId).values,w=it(r.shape),E=it(g.shape);for(let C=0;C<p;C++){const I=C*4,T=x[I],_=x[I+1],M=x[I+2],D=x[I+3],z=y[C];if(z>=u)continue;const $=m>1?(M-T)*(d-1)/(m-1):0,F=b>1?(D-_)*(h-1)/(b-1):0;for(let j=0;j<m;j++){const W=m>1?T*(d-1)+j*$:.5*(T+M)*(d-1);if(W<0||W>d-1){for(let V=0;V<b;V++)for(let B=0;B<f;B++){const K=B+V*E[2]+j*E[1]+C*E[0];g.values[K]=c}continue}if(l==="bilinear"){const V=Math.floor(W),B=Math.ceil(W),K=W-V;for(let q=0;q<b;q++){const G=b>1?_*(h-1)+q*F:.5*(_+D)*(h-1);if(G<0||G>h-1){for(let we=0;we<f;we++){const _e=we+q*E[2]+j*E[1]+C*E[0];g.values[_e]=c}continue}const le=Math.floor(G),oe=Math.ceil(G),re=G-le;for(let we=0;we<f;we++){let _e=we+le*w[2]+V*w[1]+z*w[0];const $e=v[_e];_e=we+oe*w[2]+V*w[1]+z*w[0];const Oe=v[_e];_e=we+le*w[2]+B*w[1]+z*w[0];const Ge=v[_e];_e=we+oe*w[2]+B*w[1]+z*w[0];const qe=v[_e],ot=$e+(Oe-$e)*re,lt=Ge+(qe-Ge)*re;_e=we+q*E[2]+j*E[1]+C*E[0],g.values[_e]=ot+(lt-ot)*K}}}else for(let V=0;V<b;++V){const B=b>1?_*(h-1)+V*F:.5*(_+D)*(h-1);if(B<0||B>h-1){for(let G=0;G<f;G++){const le=G+V*E[2]+j*E[1]+C*E[0];g.values[le]=c}continue}const K=Math.round(B),q=Math.round(W);for(let G=0;G<f;G++){const le=G+K*w[2]+q*w[1]+z*w[0],oe=G+V*E[2]+j*E[1]+C*E[0];g.values[oe]=v[le]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const j3e={kernelName:tE,backendName:"cpu",kernelFunc:B3e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,exclusive:s,reverse:a}=i;Ye(r,"cumprod");const l=_n([o],r.shape.length);let c=r;l!=null&&(c=Tr({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=Wn(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=qr(c.dtype,"int32"),h=UC(ge(c.shape),d),f=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,x)=>g+p-x-1:(g,x)=>g+x;for(let g=0;g<f.length;g+=p)for(let x=0;x<p;x++){const y=m(g,x);if(x===0)h[y]=s?1:f[y];else{const v=m(g,x-1);h[y]=s?f[v]*h[v]:f[y]*h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=vc(l),x=Tr({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const V3e={kernelName:eE,backendName:"cpu",kernelFunc:U3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,exclusive:s,reverse:a}=i;Ye(r,"cumsum");const l=_n([o],r.shape.length);let c=r;l!=null&&(c=Tr({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=Wn(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=qr(c.dtype,"int32"),h=Yi(ge(c.shape),d),f=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=a?(g,x)=>g+p-x-1:(g,x)=>g+x;for(let g=0;g<f.length;g+=p)for(let x=0;x<p;x++){const y=m(g,x);if(x===0)h[y]=s?0:f[y];else{const v=m(g,x-1);h[y]=s?f[v]+h[v]:f[y]+h[v]}}const b=n.makeTensorInfo(c.shape,d,h);if(l!=null){const g=vc(l),x=Tr({inputs:{x:b},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(c),x}return b}const W3e={kernelName:Ry,backendName:"cpu",kernelFunc:H3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,weights:o}=e,{size:s,binaryOutput:a}=i;if(r.shape.length===1){const l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=PI(l,c,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,u)}else if(r.shape.length===2){const l=n.bufferSync(r),c=n.bufferSync(o),u=WP(l,c,s,a);return n.makeTensorInfo(u.shape,o.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}const q3e={kernelName:nE,backendName:"cpu",kernelFunc:G3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockSize:o,dataFormat:s}=i;P(s==="NHWC",()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s));const a=r.shape[0],l=r.shape[1],c=r.shape[2],u=r.shape[3],d=l*o,h=c*o,f=u/(o*o),p=n.data.get(r.dataId).values,m=new Float32Array(a*d*h*f);let b=0;for(let g=0;g<a;++g)for(let x=0;x<d;++x){const y=Math.floor(x/o),v=x%o;for(let w=0;w<h;++w){const E=Math.floor(w/o),C=w%o,I=(v*o+C)*f;for(let T=0;T<f;++T){const M=T+I+u*(E+c*(y+l*g));m[b++]=p[M]}}}return n.makeTensorInfo([a,d,h,f],r.dtype,m)}const K3e={kernelName:iE,backendName:"cpu",kernelFunc:X3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WB(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dilations:l,dimRoundingMode:c}=i;Ye([r,o],"depthwiseConv2DNative");const u=it(r.shape),d=it(o.shape);let h=l;h==null&&(h=[1,1]),P(Fi(s,h),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(h,"'"));const f=vi(r.shape,o.shape,s,h,a,c,!0),{filterHeight:p,filterWidth:m,dilationHeight:b,dilationWidth:g,padInfo:x}=f,y=x.left,v=x.top,w=f.outChannels/f.inChannels,E=new ri(f.outShape,r.dtype),C=n.data.get(r.dataId).values,I=n.data.get(o.dataId).values,T=E.values;for(let _=0;_<f.batchSize;++_){const M=_*u[0],D=_*E.strides[0];for(let z=0;z<f.outHeight;++z){const $=D+z*E.strides[1],F=z*f.strideHeight-v;for(let j=0;j<p;++j){const W=F+j*b;if(W<0||W>=f.inHeight)continue;const V=j*d[0],B=M+W*u[1];for(let K=0;K<f.outWidth;++K){const q=$+K*E.strides[2],G=K*f.strideWidth-y;for(let le=0;le<m;++le){const oe=G+le*g;if(oe<0||oe>=f.inWidth)continue;const re=V+le*d[1],we=B+oe*f.inChannels;let _e=q,$e=re;for(let Oe=0;Oe<f.inChannels;++Oe){const Ge=C[we+Oe];for(let qe=0;qe<w;++qe)T[_e+qe]+=Ge*I[$e+qe];_e+=w,$e+=w}}}}}}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const Y3e={kernelName:Ly,backendName:"cpu",kernelFunc:WB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i;Ye([r,o],"depthwiseConv2dNativeBackpropFilter");const d=vi(r.shape,u,s,a,l,c,!0),{strideHeight:h,strideWidth:f,filterHeight:p,filterWidth:m}=d,b=new ri(d.filterShape,"float32"),g=d.padInfo.left,x=d.padInfo.top,y=d.outChannels/d.inChannels,v=n.data.get(r.dataId).values,w=new ri(r.shape,r.dtype,v),E=n.data.get(o.dataId).values,C=new ri(o.shape,o.dtype,E);for(let I=0;I<p;++I){const T=Math.max(0,Math.ceil((x-I)/h)),_=Math.min(d.outHeight,(d.inHeight+x-I)/h);for(let M=0;M<m;++M){const D=Math.max(0,Math.ceil((g-M)/f)),z=Math.min(d.outWidth,(d.inWidth+g-M)/f);for(let $=0;$<d.outChannels;++$){const F=Math.trunc($/y),j=$%y;let W=0;for(let V=0;V<d.batchSize;++V)for(let B=T;B<_;++B){const K=I+B*h-x;for(let q=D;q<z;++q){const G=M+q*f-g;W+=w.get(V,K,G,F)*C.get(V,B,q,$)}}b.set(W,I,M,F,j)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const J3e={kernelName:rE,backendName:"cpu",kernelFunc:Z3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i;Ye([r,o],"depthwiseConv2DNativeBackpropInput");const d=it(r.shape),h=it(o.shape),f=vi(u,o.shape,s,a,l,c,!0),p=new ri(f.inShape,"float32"),m=p.values,[b,g,x]=p.strides,y=n.data.get(r.dataId).values,[v,w,E]=d,C=n.data.get(o.dataId).values,[I,T,_]=h,{batchSize:M,filterHeight:D,filterWidth:z,inChannels:$,inHeight:F,inWidth:j,outChannels:W,outHeight:V,outWidth:B,strideHeight:K,strideWidth:q}=f,G=D-1-f.padInfo.top,le=z-1-f.padInfo.left,oe=W/$;for(let re=0;re<M;++re)for(let we=0;we<$;++we)for(let _e=0;_e<F;++_e){const $e=_e-G,Oe=Math.max(0,Math.ceil($e/K)),Ge=Math.min(V,(D+$e)/K);for(let qe=0;qe<j;++qe){const ot=qe-le,lt=Math.max(0,Math.ceil(ot/q)),O=Math.min(B,(z+ot)/q);let me=0;for(let he=Oe;he<Ge;++he){const Y=he*K-$e;for(let X=lt;X<O;++X){const ae=X*q-ot,ye=v*re+w*he+E*X,Ce=I*(D-1-Y)+T*(z-1-ae)+_*we;for(let de=0;de<oe;++de){const Ie=we*oe+de,Fe=y[ye+Ie],Ae=C[Ce+de];me+=Fe*Ae}}}m[b*re+g*_e+x*qe+we]=me}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const eSe={kernelName:oE,backendName:"cpu",kernelFunc:Q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tSe(t){const{inputs:e,backend:n}=t,{x:i}=e,r=ge(i.shape),o=n.data.get(i.dataId).values,s=vt([r,r],i.dtype),a=s.values;for(let c=0;c<o.length;c++)a[c*r+c]=o[c];const l=[...i.shape,...i.shape];return n.makeTensorInfo(l,s.dtype,s.values)}const nSe={kernelName:sE,backendName:"cpu",kernelFunc:tSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iSe={kernelName:zy,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:r}=t,{strides:o,pad:s,dilations:a}=n,l=e,c=l.data.get(i.dataId).values,u=i.shape.length,d=l.data.get(r.dataId).values,h=r.shape.length,{batchSize:f,inHeight:p,inWidth:m,inChannels:b,outHeight:g,outWidth:x,padInfo:y,strideHeight:v,strideWidth:w,filterHeight:E,filterWidth:C,dilationHeight:I,dilationWidth:T,outShape:_}=Mg(i.shape,r.shape,o,s,"NHWC",a),M=ge(_),D=_.length,z=Bn(i.dtype,M);for(let F=0;F<f;++F)for(let j=0;j<g;++j){const W=j*v-y.top;for(let V=0;V<x;++V){const B=V*w-y.left;for(let K=0;K<b;++K){let q=Number.MIN_SAFE_INTEGER;for(let le=0;le<E;++le){const oe=W+le*I;if(oe>=0&&oe<p)for(let re=0;re<C;++re){const we=B+re*T;if(we>=0&&we<m){const _e=Zs([F,oe,we,K],u,it(i.shape)),$e=Zs([le,re,K],h,it(r.shape)),Oe=c[_e]+d[$e];Oe>q&&(q=Oe)}}}const G=Zs([F,j,V,K],D,it(_));z[G]=q}}}return{dataId:l.write(Ku(z,i.dtype),_,i.dtype),shape:_,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rSe={kernelName:L3,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:r,dy:o}=t,{strides:s,pad:a,dilations:l}=n,c=e,u=Zo(i.shape,c.data.get(i.dataId).values),d=Zo(r.shape,c.data.get(r.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:E,dilationHeight:C,dilationWidth:I,outShape:T}=Mg(i.shape,r.shape,s,a,"NHWC",l);P(o.rank===T.length,()=>"Error in ".concat(L3,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank));const _=Zo(T,c.data.get(o.dataId).values),M=F9(r.shape,r.dtype);for(let z=0;z<h;++z)for(let $=0;$<b;++$){const F=$*y-x.top;for(let j=0;j<g;++j){const W=j*v-x.left;for(let V=0;V<m;++V){let B=Number.MIN_SAFE_INTEGER,K=0,q=0;for(let G=0;G<w;++G){const le=F+G*C;if(le>=0&&le<f)for(let oe=0;oe<E;++oe){const re=W+oe*I;if(re>=0&&re<p){const we=u[z][le][re][V]+d[G][oe][V];we>B&&(B=we,K=G,q=oe)}}}M[K][q][V]+=_[z][$][j][V]}}}return{dataId:c.write(Ku(M,i.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oSe={kernelName:R3,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:r,dy:o}=t,{strides:s,pad:a,dilations:l}=n,c=e,u=Zo(i.shape,c.data.get(i.dataId).values),d=Zo(r.shape,c.data.get(r.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:m,outHeight:b,outWidth:g,padInfo:x,strideHeight:y,strideWidth:v,filterHeight:w,filterWidth:E,dilationHeight:C,dilationWidth:I,outShape:T}=Mg(i.shape,r.shape,s,a,"NHWC",l);P(o.rank===T.length,()=>"Error in ".concat(R3,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(o.rank));const _=Zo(T,c.data.get(o.dataId).values),M=F9(i.shape,i.dtype);for(let z=0;z<h;++z)for(let $=0;$<b;++$){const F=$*y-x.top;for(let j=0;j<g;++j){const W=j*v-x.left;for(let V=0;V<m;++V){let B=Number.MIN_SAFE_INTEGER,K=F<0?0:F,q=W<0?0:W;for(let G=0;G<w;++G){const le=F+G*C;if(le>=0&&le<f)for(let oe=0;oe<E;++oe){const re=W+oe*I;if(re>=0&&re<p){const we=u[z][le][re][V]+d[G][oe][V];we>B&&(B=we,K=le,q=re)}}}M[z][K][q][V]+=_[z][$][j][V]}}}return{dataId:c.write(Ku(M,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sSe(t){const{inputs:e,backend:n,attrs:i}=t,{image:r}=e,{canvas:o,options:s}=i,{contextOptions:a,imageOptions:l}=s||{},c=(l==null?void 0:l.alpha)||1,u=(a==null?void 0:a.contextType)||"2d";if(u!=="2d")throw new Error("Context type ".concat(a.contextType," is not supported by the CPU backend."));const d=o.getContext(u,(a==null?void 0:a.contextAttributes)||{});if(d==null)throw new Error("Could not get the context with ".concat(u," type."));const[h,f]=r.shape.slice(0,2),p=r.shape.length===2?1:r.shape[2],m=n.data.get(r.dataId).values,b=r.dtype==="float32"?255:1,g=new Uint8ClampedArray(f*h*4);for(let y=0;y<h*f;++y){const v=[0,0,0,255*c];for(let E=0;E<p;E++){const C=m[y*p+E];if(r.dtype==="float32"){if(C<0||C>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(C,"."))}else if(r.dtype==="int32"&&(C<0||C>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(C,"."));p===1?(v[0]=C*b,v[1]=C*b,v[2]=C*b):v[E]=C*b}const w=y*4;g[w+0]=Math.round(v[0]),g[w+1]=Math.round(v[1]),g[w+2]=Math.round(v[2]),g[w+3]=Math.round(v[3])}o.width=f,o.height=h;const x=new ImageData(g,f,h);return d.putImageData(x,0,0),r}const aSe={kernelName:vue,backendName:"cpu",kernelFunc:sSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;Ye(r,"sum");let a;r.dtype==="bool"?a=cc({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):a=oa({inputs:{x:r},backend:n});const l=a.shape.length,c=Tt(o,a.shape),u=_n(c,l);let d=c,h=a;u!=null&&(h=Tr({inputs:{x:a},backend:n,attrs:{perm:u}}),d=Wn(d.length,l)),Mi("sum",d,h.shape.length);const[f,p]=wi(h.shape,d),m=qr(h.dtype,"int32");let b=Qx(n,f,m);const g=ge(p),x=n.data.get(b.dataId).values,y=n.data.get(h.dataId).values;for(let v=0;v<x.length;++v){const w=v*g;let E=0;for(let C=0;C<g;++C)E+=y[w+C];x[v]=E}if(s){const v=Hn(b.shape,c),w=b;b=ln({inputs:{x:b},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(w)}return n.disposeIntermediateTensorInfo(a),u!=null&&n.disposeIntermediateTensorInfo(h),b}const lSe={kernelName:mv,backendName:"cpu",kernelFunc:n0};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cSe(t){const{inputs:e,backend:n,attrs:i}=t,{equation:r}=i,o=e,{allDims:s,summedDims:a,idDims:l}=lI(r,o.length);uI(s.length,l,o);const{path:c,steps:u}=dI(a,l),d=u.length;let h=null,f=s.length;const p=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=cI(f,l[b]);let y;hI(g)?y=o[b]:(y=Tr({inputs:{x:o[b]},backend:n,attrs:{perm:g}}),p.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);Nt(y.shape,v)||(y=ln({inputs:{x:y},backend:n,attrs:{shape:v}}),p.push(y)),h===null?h=y:(h=aw({inputs:{a:y,b:h},backend:n}),p.push(h))}m<d-1&&(c[m]>=0&&(h=n0({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-f),keepDims:!1}}),p.push(h)),f--)}for(const m of p)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const uSe={kernelName:aE,backendName:"cpu",kernelFunc:cSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dSe(t){const{inputs:e,backend:n}=t,{dy:i,y:r}=e;Ye([i,r],"eluGrad");const o=new Float32Array(ge(r.shape)),s=n.data.get(r.dataId).values,a=n.data.get(i.dataId).values;for(let l=0;l<s.length;++l){const c=s[l];c>=0?o[l]=a[l]:o[l]=a[l]*(c+1)}return n.makeTensorInfo(r.shape,"float32",o)}const hSe={kernelName:lE,backendName:"cpu",kernelFunc:dSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fSe=tI,pSe=nI,mSe=iI,gSe=rI,bSe=oI,xSe=sI,ySe=Wt(ng,t=>{const e=Math.sign(t),n=Math.abs(t),i=1/(1+fSe*n);return e*(1-((((xSe*i+bSe)*i+gSe)*i+mSe)*i+pSe)*i*Math.exp(-n*n))}),vSe={kernelName:ng,backendName:"cpu",kernelFunc:ySe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n1(t){const{inputs:e,backend:n,attrs:i}=t,{input:r}=e,{dim:o}=i,s=r.shape.length,a=r.shape.slice();let l=o;return o<0&&(P(-(s+1)<=o,()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")),l=s+o+1),a.splice(l,0,1),ln({inputs:{x:r},backend:n,attrs:{shape:a}})}const wSe={kernelName:My,backendName:"cpu",kernelFunc:n1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kSe=qn((t,e)=>t/e),WI=li(eg,kSe),SS={kernelName:eg,backendName:"cpu",kernelFunc:WI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GB(t,e,n){const i=t.shape,r=i[0],o=i[1],s=n.data.get(t.dataId),a=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,c=[r,o],u=ge(c),d=Di("float32",u),h=Di("float32",u);for(let b=0;b<r;b++){const g=Lu({inputs:{x:a},backend:n,attrs:{begin:[b,0],size:[1,o]}}),x=Lu({inputs:{x:l},backend:n,attrs:{begin:[b,0],size:[1,o]}}),y=Fr({inputs:{real:g,imag:x},backend:n}),{real:v,imag:w}=SSe(y,e,n),E=Xa(v,w);for(let C=0;C<o;C++){const I=aI(E,C);d[b*o+C]=I.real,h[b*o+C]=I.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(y)}const f=n.makeTensorInfo(c,"float32",d),p=n.makeTensorInfo(c,"float32",h),m=Fr({inputs:{real:f,imag:p},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}function SSe(t,e,n){const i=ge(t.shape),r=n.data.get(t.dataId),o=n.data.get(r.complexTensorInfos.real.dataId).values,s=n.data.get(r.complexTensorInfos.imag.dataId).values;if(CSe(i)){const a=CS(o,s,i,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",a.real),u=n.makeTensorInfo(l,"float32",a.imag),d=n.makeTensorInfo([],"float32",gc(i,"float32")),h=oa({inputs:{x:d},backend:n}),f=SS.kernelFunc({inputs:{a:c,b:d},backend:n}),p=SS.kernelFunc({inputs:{a:u,b:h},backend:n}),m=n.data.get(f.dataId).values,b=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),{real:m,imag:b}}return a}else{const a=Xa(o,s),l=ESe(a,i,e);return nF(l)}}function CSe(t){return(t&t-1)===0}function CS(t,e,n,i,r){if(n===1)return{real:t,imag:e};const o=Xa(t,e),s=n/2,a=iF(o),l=a.real,c=a.imag,u=[l.length],d=r.makeTensorInfo(u,"float32",l),h=r.makeTensorInfo(u,"float32",c),f=Fr({inputs:{real:d,imag:h},backend:r}),p=rF(o),m=p.real,b=p.imag,g=[m.length],x=r.makeTensorInfo(g,"float32",m),y=r.makeTensorInfo(g,"float32",b),v=Fr({inputs:{real:x,imag:y},backend:r}),w=CS(l,c,s,i,r),E=w.real,C=w.imag,I=[E.length],T=r.makeTensorInfo(I,"float32",E),_=r.makeTensorInfo(I,"float32",C),M=Fr({inputs:{real:T,imag:_},backend:r}),D=CS(m,b,s,i,r),z=D.real,$=D.imag,F=[z.length],j=r.makeTensorInfo(F,"float32",z),W=r.makeTensorInfo(F,"float32",$),V=Fr({inputs:{real:j,imag:W},backend:r}),B=sF(n,i),K=[B.real.length],q=r.makeTensorInfo(K,"float32",B.real),G=r.makeTensorInfo(K,"float32",B.imag),le=Fr({inputs:{real:q,imag:G},backend:r}),oe=aw({inputs:{a:le,b:V},backend:r}),re=zh({inputs:{a:M,b:oe},backend:r}),we=VI({inputs:{a:M,b:oe},backend:r}),_e=Ru({inputs:{input:re},backend:r}),$e=Ru({inputs:{input:we},backend:r}),Oe=Fh({inputs:{input:re},backend:r}),Ge=Fh({inputs:{input:we},backend:r}),qe=Mh({inputs:[_e,$e],backend:r,attrs:{axis:0}}),ot=Mh({inputs:[Oe,Ge],backend:r,attrs:{axis:0}}),lt=r.data.get(qe.dataId).values,O=r.data.get(ot.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(M),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(le),r.disposeIntermediateTensorInfo(oe),r.disposeIntermediateTensorInfo(re),r.disposeIntermediateTensorInfo(we),r.disposeIntermediateTensorInfo(_e),r.disposeIntermediateTensorInfo(Oe),r.disposeIntermediateTensorInfo($e),r.disposeIntermediateTensorInfo(Ge),r.disposeIntermediateTensorInfo(qe),r.disposeIntermediateTensorInfo(ot),{real:lt,imag:O}}function ESe(t,e,n){const i=new Float32Array(e*2);for(let r=0;r<e;r++){let o=0,s=0;for(let a=0;a<e;a++){const l=aF(r*a,e,n),c=aI(t,a);o+=c.real*l.real-c.imag*l.imag,s+=c.real*l.imag+c.imag*l.real}n&&(o/=e,s/=e),oF(i,o,s,r)}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TSe(t){const{inputs:e,backend:n}=t,{input:i}=e,r=ge(i.shape),o=i.shape[i.shape.length-1],s=r/o,a=ln({inputs:{x:i},backend:n,attrs:{shape:[s,o]}}),l=GB(a,!1,n),c=ln({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const ISe={kernelName:cE,backendName:"cpu",kernelFunc:TSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GI(t){const{backend:e,attrs:n}=t,{shape:i,value:r,dtype:o}=n,s=o||of(r),a=Bn(s,ge(i));return _Se(a,r,s),e.makeTensorInfo(i,s,a)}const $Se={kernelName:uE,backendName:"cpu",kernelFunc:GI};function _Se(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ASe={kernelName:dE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,r=n,o=Di(i.dtype,ge(i.shape)),[s,a,l,c]=i.shape,u=r.data.get(i.dataId).values;for(let h=0;h<s;h++){const f=h*l*a*c;for(let p=0;p<a;p++){const m=p*(l*c);for(let b=0;b<l;b++){const g=b*c;for(let x=0;x<c;x++){const y=Math.round(l-b-1),v=f+m+g+x;let w=u[v];if(y>=0&&y<l){const E=y*c,C=f+m+E+x;w=u[C]}o[v]=w}}}}return{dataId:r.write(o,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=i;let m=HB({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const b=m;if(u==="NCHW"&&s.shape.length===1&&s.shape[0]!==1){const g=ln({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=zh({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=zh({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(b)}if(f){const b=m;if(u==="NCHW"&&f==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=ln({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=t1(n,m,f,g,p),n.disposeIntermediateTensorInfo(g)}else m=t1(n,m,f,a,p);n.disposeIntermediateTensorInfo(b)}return m}const OSe={kernelName:Rx,backendName:"cpu",kernelFunc:NSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=i;let m=WB({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const b=m;m=zh({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(b)}if(f){const b=m;m=t1(n,m,f,a,p),n.disposeIntermediateTensorInfo(b)}return m}const RSe={kernelName:Lx,backendName:"cpu",kernelFunc:DSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LSe(t){const{inputs:e,backend:n}=t,{params:i,indices:r}=e,o=ge(i.shape),s=r.shape,a=s[s.length-1],[l,c,u,d]=HT(i,r);if(c===0)return n.makeTensorInfo(l,i.dtype,[]);const h=n.data.get(r.dataId).values,f=n.bufferSync(i),p=nB(h,f,i.dtype,c,a,u,d,i.shape,o);return n.makeTensorInfo(l,i.dtype,p.values)}const zSe={kernelName:hE,backendName:"cpu",kernelFunc:LSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FSe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,indices:o}=e,{axis:s,batchDims:a}=i;Ye([r,o],"gatherV2");const l=Tt(s,r.shape)[0],c=n.data.get(o.dataId).values,u=r.shape[l];for(let v=0;v<c.length;++v){const w=c[v];P(w<=u-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(u-1,"]"))}let d=a;a==null&&(d=0);const h=ge(o.shape),f=pI(r,o,l,d),p=ln({inputs:{x:r},backend:n,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),m=ln({inputs:{x:o},backend:n,attrs:{shape:[f.batchSize,h/f.batchSize]}}),b=[f.batchSize,f.outerSize,h/f.batchSize,f.sliceSize],g=n.bufferSync(m),x=n.bufferSync(p),y=iB(x,g,b);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(f.outputShape,y.dtype,y.values)}const MSe={kernelName:By,backendName:"cpu",kernelFunc:FSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PSe(t){const{inputs:e,backend:n}=t,{input:i}=e,r=ge(i.shape),o=i.shape[i.shape.length-1],s=r/o,a=ln({inputs:{x:i},backend:n,attrs:{shape:[s,o]}}),l=GB(a,!0,n),c=ln({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),c}const BSe={kernelName:fE,backendName:"cpu",kernelFunc:PSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jSe=Wt(cg,t=>Number.isFinite(t)?1:0,"bool"),USe={kernelName:cg,backendName:"cpu",kernelFunc:jSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VSe=Wt(ug,t=>Math.abs(t)===1/0?1:0,"bool"),HSe={kernelName:ug,backendName:"cpu",kernelFunc:VSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WSe=Wt(dg,t=>Number.isNaN(t)?1:0,"bool"),GSe={kernelName:dg,backendName:"cpu",kernelFunc:WSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qSe(t){const{backend:e,attrs:n}=t,{start:i,stop:r,num:o}=n,s=lB(i,r,o);return e.makeTensorInfo([s.length],"float32",s)}const XSe={kernelName:mE,backendName:"cpu",kernelFunc:qSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KSe=Wt(fg,t=>Math.log1p(t)),YSe={kernelName:fg,backendName:"cpu",kernelFunc:KSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZSe=qn((t,e)=>t&&e),JSe=li(Wy,ZSe,null,"bool"),QSe={kernelName:Wy,backendName:"cpu",kernelFunc:JSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e4e=Wt(Gy,t=>t?0:1,"bool"),t4e={kernelName:Gy,backendName:"cpu",kernelFunc:e4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n4e=qn((t,e)=>t||e),i4e=li(qy,n4e,null,"bool"),r4e={kernelName:qy,backendName:"cpu",kernelFunc:i4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{depthRadius:o,bias:s,alpha:a,beta:l}=i;Ye(r,"LRN");const c=r.shape[3],u=c-1,d=n.data.get(r.dataId).values,h=ge(r.shape),f=new Float32Array(h);function p(m){const b=m%c;let g=m-b+Math.max(0,b-o);const x=m-b+Math.min(b+o,u);let y=0;for(;g<=x;g++){const v=d[g];y+=v*v}return y}for(let m=0;m<h;m++){const b=p(m),g=d[m]*Math.pow(s+a*b,-l);f[m]=g}return n.makeTensorInfo(r.shape,r.dtype,f)}const s4e={kernelName:Xy,backendName:"cpu",kernelFunc:o4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,y:o,dy:s}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i;Ye(s,"LRNGrad");const d=ge(s.shape),h=s.shape[3],f=n.data.get(s.dataId).values,p=n.data.get(r.dataId).values,m=n.data.get(o.dataId).values,b=new Float32Array(d),g=d;for(let x=0;x<g;x++){const y=x%h,v=x-y+Math.max(0,y-a),w=x-y+Math.min(h,y+a+1);let E=0;for(let C=v;C<w;C++)E+=Math.pow(p[C],2);E=c*E+l;for(let C=v;C<w;C++){let I=-2*c*u*p[C]*m[x]/E;x===C&&(I+=Math.pow(E,-u)),I*=f[x],b[C]+=I}}return n.makeTensorInfo(s.shape,r.dtype,b)}const l4e={kernelName:gE,backendName:"cpu",kernelFunc:a4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qB(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{reductionIndices:o,keepDims:s}=i,a=n;let l=r.shape;const c=l.length,u=Tt(o,l);let d=u;const h=_n(d,c);let f=a.data.get(r.dataId).values;if(h!=null){const v=new Array(c);for(let w=0;w<v.length;w++)v[w]=l[h[w]];f=jI(f,l,r.dtype,h,v),d=Wn(d.length,c),l=v}Ye(r,"max"),Mi("max",d,c);const[p,m]=wi(l,d),b=ge(m),g=uB(f,b,p,r.dtype),x=a.write(g,p,r.dtype);let y=p;return s&&(y=Hn(p,u)),{dataId:x,shape:y,dtype:r.dtype}}const c4e={kernelName:Ky,backendName:"cpu",kernelFunc:qB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e;Ye(r,"maxPool");const{filterSize:o,strides:s,pad:a,dimRoundingMode:l}=i,c=1;P(Fi(s,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ls(r.shape,o,s,c,a,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))d=oa({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,f=it(r.shape),p=HI(h,r.shape,r.dtype,f,u,"max");d=n.makeTensorInfo(u.outShape,r.dtype,p.values)}return d}const d4e={kernelName:Yy,backendName:"cpu",kernelFunc:u4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{filterSize:o,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i;Ye(r,"maxPool3d");const u=el(r.shape,o,s,1,a,l,c),d=n.data.get(r.dataId).values,h=VB(d,r.shape,r.dtype,it(r.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const f4e={kernelName:Zy,backendName:"cpu",kernelFunc:h4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p4e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,{filterSize:s,strides:a,pad:l,dimRoundingMode:c}=i;Ye([r,o],"maxPool3DGrad");const u=el(o.shape,s,a,1,l,c),d=n.bufferSync(o),h=n3e(d,u),f=u.strideDepth,p=u.strideHeight,m=u.strideWidth,b=u.dilationDepth,g=u.dilationHeight,x=u.dilationWidth,y=u.effectiveFilterDepth,v=u.effectiveFilterHeight,w=u.effectiveFilterWidth,E=y-1-u.padInfo.front,C=w-1-u.padInfo.left,I=v-1-u.padInfo.top,T=vt(o.shape,"float32"),_=n.bufferSync(r);for(let M=0;M<u.batchSize;++M)for(let D=0;D<u.inChannels;++D)for(let z=0;z<u.inDepth;++z)for(let $=0;$<u.inHeight;++$)for(let F=0;F<u.inWidth;++F){const j=z-E,W=$-I,V=F-C;let B=0;for(let K=0;K<y;K+=b){const q=(j+K)/f;if(!(q<0||q>=u.outDepth||Math.floor(q)!==q))for(let G=0;G<v;G+=g){const le=(W+G)/p;if(!(le<0||le>=u.outHeight||Math.floor(le)!==le))for(let oe=0;oe<w;oe+=x){const re=(V+oe)/m;if(re<0||re>=u.outWidth||Math.floor(re)!==re)continue;const we=y*v*w-1-h.get(M,q,le,re,D),_e=K*v*w+G*w+oe,$e=we===_e?1:0;if($e===0)continue;const Oe=_.get(M,q,le,re,D);B+=Oe*$e}}}T.set(B,M,z,$,F,D)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const m4e={kernelName:xE,backendName:"cpu",kernelFunc:p4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o,output:s}=e,a=o;Ye([o,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=ls(a.shape,l,c,1,u,d),f=n.data.get(a.dataId).values,p=vt(h.outShape,a.dtype,UB(f,a.shape,a.dtype,h).values),m=h.strideHeight,b=h.strideWidth,g=h.dilationHeight,x=h.dilationWidth,y=h.effectiveFilterHeight,v=h.effectiveFilterWidth,w=v-1-h.padInfo.left,E=y-1-h.padInfo.top,C=vt(a.shape,"float32"),I=n.data.get(r.dataId).values,T=vt(r.shape,"float32",I);for(let _=0;_<h.batchSize;++_)for(let M=0;M<h.inChannels;++M)for(let D=0;D<h.inHeight;++D)for(let z=0;z<h.inWidth;++z){const $=D-E,F=z-w;let j=0;for(let W=0;W<y;W+=g){const V=($+W)/m;if(!(V<0||V>=h.outHeight||Math.floor(V)!==V))for(let B=0;B<v;B+=x){const K=(F+B)/b;if(K<0||K>=h.outWidth||Math.floor(K)!==K)continue;const q=y*v-1-p.get(_,V,K,M),G=W*v+B,le=q===G?1:0;if(le===0)continue;const oe=T.get(_,V,K,M);j+=oe*le}}C.set(j,_,D,z,M)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const b4e={kernelName:bE,backendName:"cpu",kernelFunc:g4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x4e(t,e,n,i,r){const o=it(e),s=HI(t,e,n,o,r,"max"),a=UB(t,e,n,r,!0,i);return[s.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y4e={kernelName:yE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:r,strides:o,pad:s,includeBatchInIndex:a}=e,l=n;Ye(i,"MaxPoolWithArgmax");const c=l.data.get(i.dataId).values,u=ls(i.shape,r,o,[1,1],s),[d,h]=x4e(c,i.shape,i.dtype,a,u),f=l.write(d,u.outShape,i.dtype),p=l.write(h,u.outShape,i.dtype);return[{dataId:f,shape:u.outShape,dtype:i.dtype},{dataId:p,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i,a=Tt(o,r.shape),c=wi(r.shape,a)[1],u=ge(c),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(h);const f=cc({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});d.push(f);const p=WI({inputs:{a:f,b:h},backend:n});d.push(p);const m=n0({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:s}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),m}const w4e={kernelName:Jy,backendName:"cpu",kernelFunc:v4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;Ye(r,"min");const a=Tt(o,r.shape);let l=a;const c=_n(l,r.shape.length);let u=r;c!=null&&(u=Tr({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Wn(l.length,r.shape.length)),Mi("min",l,u.shape.length);const[d,h]=wi(u.shape,l),f=ge(h),p=Yi(ge(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const x=g*f;let y=m[x];for(let v=0;v<f;++v){const w=m[x+v];(Number.isNaN(w)||w<y)&&(y=w)}p[g]=y}c!=null&&n.disposeIntermediateTensorInfo(u);const b=n.makeTensorInfo(d,u.dtype,p);if(s){const g=Hn(d,a),x=ln({inputs:{x:b},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(b),x}return b}const S4e={kernelName:Qy,backendName:"cpu",kernelFunc:k4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{paddings:o,mode:s}=i;Ye(r,"mirrorPad");const a=o.map((y,v)=>y[0]+r.shape[v]+y[1]),l=o.map(y=>y[0]),c=o.map((y,v)=>y[0]+r.shape[v]),u=s==="reflect"?0:1,d=n.data.get(r.dataId).values,h=r.shape.length,f=it(r.shape),p=ge(a),m=a.length,b=it(a),g=Di(r.dtype,p);for(let y=0;y<p;y++){let v=sf(y,m,b);for(let E=0;E<m;E++)v[E]<l[E]?v[E]=l[E]*2-v[E]-u:v[E]>=c[E]&&(v[E]=(c[E]-1)*2-v[E]+u);v=v.map((E,C)=>E-l[C]);const w=Zs(v,h,f);g[y]=d[w]}return{dataId:n.write(g,a,r.dtype),shape:a,dtype:r.dtype}}const E4e={kernelName:ev,backendName:"cpu",kernelFunc:C4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T4e=qn((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),I4e=li(gg,T4e),$4e={kernelName:gg,backendName:"cpu",kernelFunc:I4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XB(t){const{inputs:e,backend:n,attrs:i}=t,{logits:r}=e,{dim:o}=i,s=r.shape.length;let a=o;if(a===-1&&(a=s-1),a!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(a));const l=Tt([a],r.shape),c=qB({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Hn(c.shape,l),d=ln({inputs:{x:c},backend:n,attrs:{shape:u}}),h=VI({inputs:{a:r,b:d},backend:n}),f=JP({inputs:{x:h},backend:n}),p=n0({inputs:{x:f},backend:n,attrs:{axis:l,keepDims:!1}}),m=ln({inputs:{x:p},backend:n,attrs:{shape:u}}),b=WI({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),b}const _4e={kernelName:xv,backendName:"cpu",kernelFunc:XB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A4e(t){const{inputs:e,backend:n,attrs:i}=t,{logits:r}=e,{numSamples:o,seed:s,normalized:a}=i;Ye(r,"multinomial");const l=a?r:XB({inputs:{logits:r},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,o],f=Yi(ge(h),"int32");for(let p=0;p<c;++p){const m=p*u,b=new Float32Array(u-1);b[0]=d[m];for(let y=1;y<b.length;++y)b[y]=b[y-1]+d[m+y];const g=zv.alea(s.toString()),x=p*o;for(let y=0;y<o;++y){const v=g();f[x+y]=b.length;for(let w=0;w<b.length;w++)if(v<b[w]){f[x+y]=w;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",f)}const N4e={kernelName:vE,backendName:"cpu",kernelFunc:A4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O4e=FT;function D4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l}=i;Ye(r,"NonMaxSuppression");const c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,{selectedIndices:d}=O4e(c,u,s,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const R4e={kernelName:wE,backendName:"cpu",kernelFunc:D4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L4e=MT;function z4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i;Ye(r,"NonMaxSuppressionPadded");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:h,validOutputs:f}=L4e(u,d,s,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}const F4e={kernelName:kE,backendName:"cpu",kernelFunc:z4e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M4e=PT;function P4e(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i;Ye(r,"NonMaxSuppressionWithScore");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,h=s,f=a,p=l,m=c,{selectedIndices:b,selectedScores:g}=M4e(u,d,h,f,p,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const B4e={kernelName:SE,backendName:"cpu",kernelFunc:P4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(t){const{inputs:e,backend:n,attrs:i}=t,{indices:r}=e,{dtype:o,depth:s,onValue:a,offValue:l}=i;Ye(r,"oneHot");const c=ge(r.shape),u=new Float32Array(c*s);u.fill(l);const d=n.data.get(r.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<s&&(u[h*s+d[h]]=a);return n.makeTensorInfo([...r.shape,s],o,u)}const U4e={kernelName:rv,backendName:"cpu",kernelFunc:j4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i1(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(i.dtype==="complex64"){const r=Ru({inputs:{input:i},backend:n}),o=i1({inputs:{x:r},backend:n}),s=Fh({inputs:{input:i},backend:n}),a=i1({inputs:{x:s},backend:n}),l=Fr({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return GI({backend:n,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const V4e={kernelName:kv,backendName:"cpu",kernelFunc:i1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KB(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(i.dtype==="complex64"){const r=Ru({inputs:{input:i},backend:n}),o=KB({inputs:{x:r},backend:n}),s=Fh({inputs:{input:i},backend:n}),a=i1({inputs:{x:s},backend:n}),l=Fr({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return GI({backend:n,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}const H4e={kernelName:iv,backendName:"cpu",kernelFunc:KB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YB(t){const{inputs:e,backend:n,attrs:i}=t,{axis:r}=i;if(e.length===1)return n1({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const o=e[0].shape,s=e[0].dtype;e.forEach(u=>{Jr(o,u.shape,"All tensors passed to stack must have matching shapes"),P(s===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=n1({inputs:{input:u},backend:n,attrs:{dim:r}});return a.push(d),d}),c=Mh({inputs:l,backend:n,attrs:{axis:r}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const W4e={kernelName:ov,backendName:"cpu",kernelFunc:YB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{paddings:o,constantValue:s}=i;Ye(r,"pad");const a=o.map((x,y)=>x[0]+r.shape[y]+x[1]),l=o.map(x=>x[0]),c=n.data.get(r.dataId).values,u=ge(r.shape),d=r.shape.length,h=it(r.shape),f=ge(a),p=a.length,m=it(a),b=Di(r.dtype,f);s!==0&&b.fill(s);for(let x=0;x<u;x++){const v=sf(x,d,h).map((E,C)=>E+l[C]),w=Zs(v,p,m);b[w]=c[x]}return{dataId:n.write(b,a,r.dtype),shape:a,dtype:r.dtype}}const ZB={kernelName:sv,backendName:"cpu",kernelFunc:G4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q4e=qn((t,e)=>Math.pow(t,e)),X4e=li(xg,q4e),K4e={kernelName:xg,backendName:"cpu",kernelFunc:X4e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y4e(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:r,paramsDenseValues:o,indices:s}=e,{outputRaggedRank:a}=i,l=r.map(g=>n.data.get(g.dataId).values),c=r.map(g=>g.shape),u=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,[h,f,p]=gB(l,c,u,o.shape,o.dtype,d,s.shape),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(p,o.dtype,f);return m.concat([b])}const Z4e={kernelName:CE,backendName:"cpu",kernelFunc:Y4e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J4e(t){const{inputs:e,backend:n}=t,{starts:i,limits:r,deltas:o}=e,s=n.data.get(i.dataId).values,a=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=bB(s,i.shape,i.dtype,a,r.shape,l,o.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const Q4e={kernelName:EE,backendName:"cpu",kernelFunc:J4e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eCe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:r,values:o,defaultValue:s,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,h=a.map(b=>n.data.get(b.dataId).values),f=a.map(b=>b.shape),[p,m]=xB(c,r.shape,u,o.shape,o.dtype,d,s.shape,h,f,l);return n.makeTensorInfo(p,o.dtype,m)}const tCe={kernelName:TE,backendName:"cpu",kernelFunc:eCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nCe(t){const{backend:e,attrs:n}=t,{start:i,stop:r,dtype:o,step:s}=n,a=yB(i,r,s,o);return e.makeTensorInfo([a.length],o,a)}const iCe={kernelName:IE,backendName:"cpu",kernelFunc:nCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rCe=Wt(yg,t=>1/t),oCe={kernelName:yg,backendName:"cpu",kernelFunc:rCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:s,size:a}=i;Ye(r,"resizeBilinear");const l=it(r.shape),[c,u]=a,[d,h,f,p]=r.shape,m=n.data.get(r.dataId).values,b=new Float32Array(ge([d,c,u,p])),g=[o&&c>1?h-1:h,o&&u>1?f-1:f],x=[o&&c>1?c-1:c,o&&u>1?u-1:u];let y=0;const v=g[0]/x[0],w=g[1]/x[1];for(let E=0;E<d;E++)for(let C=0;C<c;C++){let I;s?I=v*(C+.5)-.5:I=v*C;const T=Math.max(0,Math.floor(I)),_=I-T,M=Math.min(h-1,Math.ceil(I)),D=E*l[0]+T*l[1],z=E*l[0]+M*l[1];for(let $=0;$<u;$++){let F;s?F=w*($+.5)-.5:F=w*$;const j=Math.max(0,Math.floor(F)),W=F-j,V=Math.min(f-1,Math.ceil(F)),B=D+j*l[2],K=z+j*l[2],q=D+V*l[2],G=z+V*l[2];for(let le=0;le<p;le++){const oe=m[B+le],re=m[K+le],we=m[q+le],_e=m[G+le],$e=oe+(we-oe)*W,Oe=re+(_e-re)*W,Ge=$e+(Oe-$e)*_;b[y++]=Ge}}}return n.makeTensorInfo([d,c,u,p],"float32",b)}const aCe={kernelName:dv,backendName:"cpu",kernelFunc:sCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r,dy:o}=e,{alignCorners:s}=i;Ye([o,r],"resizeBilinearGrad");const a=it(r.shape),[l,c,u,d]=r.shape,[,h,f]=o.shape,p=new Float32Array(l*c*u*d),m=[s&&h>1?c-1:c,s&&f>1?u-1:u],b=[s&&h>1?h-1:h,s&&f>1?f-1:f],g=m[0]/b[0],x=m[1]/b[1],y=n.data.get(o.dataId).values;let v=0;for(let w=0;w<l;w++){const E=w*a[0];for(let C=0;C<h;C++){const I=C*g,T=Math.floor(I),_=Math.min(Math.ceil(I),c-1),M=E+T*a[1],D=E+_*a[1],z=I-T,$=1-z;for(let F=0;F<f;F++){const j=F*x,W=Math.floor(j),V=Math.min(Math.ceil(j),u-1),B=j-W,K=1-B,q=M+W*a[2],G=M+V*a[2],le=D+W*a[2],oe=D+V*a[2],re=$*K,we=$*B,_e=z*K,$e=z*B;for(let Oe=0;Oe<d;Oe++){const Ge=y[v++];p[q+Oe]+=Ge*re,p[G+Oe]+=Ge*we,p[le+Oe]+=Ge*_e,p[oe+Oe]+=Ge*$e}}}}return n.makeTensorInfo([l,u,c,d],"float32",p)}const cCe={kernelName:AE,backendName:"cpu",kernelFunc:lCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:s,size:a}=i;Ye(r,"resizeNearestNeighbor");const l=it(r.shape),[c,u]=a,[d,h,f,p]=r.shape,m=n.data.get(r.dataId).values,b=new Float32Array(d*c*u*p),g=[o&&c>1?h-1:h,o&&u>1?f-1:f],x=[o&&c>1?c-1:c,o&&u>1?u-1:u],y=g[0]/x[0],v=g[1]/x[1];let w=0;for(let E=0;E<d;E++){const C=E*l[0];for(let I=0;I<c;I++){const T=s?y*(I+.5):y*I;let _=Math.min(h-1,o?Math.round(T):Math.floor(T));s&&(_=Math.max(0,_));const M=C+_*l[1];for(let D=0;D<u;D++){const z=s?v*(D+.5):v*D;let $=Math.min(f-1,o?Math.round(z):Math.floor(z));s&&($=Math.max(0,$));const F=M+$*l[2];for(let j=0;j<p;j++){const W=m[F+j];b[w++]=W}}}}return n.makeTensorInfo([d,c,u,p],r.dtype,b)}const dCe={kernelName:uv,backendName:"cpu",kernelFunc:uCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hCe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r,dy:o}=e,{alignCorners:s}=i;Ye([o,r],"resizeNearestNeighborGrad");const a=it(r.shape),l=it(o.shape),[c,u,d,h]=r.shape,[,f,p]=o.shape,m=new Float32Array(c*u*d*h),b=n.data.get(o.dataId).values,g=[s&&f>1?u-1:u,s&&p>1?d-1:d],x=[s&&f>1?f-1:f,s&&p>1?p-1:p],y=g[0]/x[0],v=g[1]/x[1],w=1/y,E=1/v,C=Math.ceil(w)*2+2,I=Math.ceil(E)*2+2;for(let T=0;T<c;T++){const _=T*a[0];for(let M=0;M<u;M++){const D=_+M*a[1],z=Math.floor(M*w),$=Math.floor(z-C/2);for(let F=0;F<d;F++){const j=D+F*a[2],W=Math.floor(F*E),V=Math.floor(W-I/2);for(let B=0;B<h;B++){let K=0;for(let q=0;q<C;q++){const G=q+$;if(G<0||G>=f)continue;const le=_+G*l[1],oe=G*y,re=Math.min(u-1,s?Math.round(oe):Math.floor(oe));if(M===re)for(let we=0;we<I;we++){const _e=we+V;if(_e<0||_e>=p)continue;const $e=le+_e*l[2],Oe=_e*v,Ge=Math.min(d-1,s?Math.round(Oe):Math.floor(Oe));F===Ge&&(K+=b[$e+B])}}m[j+B]=K}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}const fCe={kernelName:_E,backendName:"cpu",kernelFunc:hCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{dims:o}=i;Ye(r,"reverse");const s=r.shape.length,a=Tt(o,r.shape);if(s===0)return oa({inputs:{x:r},backend:n});const l=new ri(r.shape,r.dtype),c=n.bufferSync(r);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),h=d.slice();a.forEach(f=>h[f]=r.shape[f]-1-h[f]),l.set(c.get(...h),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const mCe={kernelName:hv,backendName:"cpu",kernelFunc:pCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gCe={kernelName:qE,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:r,fillValue:o,center:s}=e,a=n,l=Di(i.dtype,ge(i.shape)),[c,u,d,h]=i.shape,[f,p]=JT(s,u,d),m=255,b=Math.sin(r),g=Math.cos(r),x=a.data.get(i.dataId).values;for(let v=0;v<c;v++){const w=v*d*u*h;for(let E=0;E<u;E++){const C=E*(d*h);for(let I=0;I<d;I++){const T=I*h;for(let _=0;_<h;_++){const M=[c,E,I,_],D=M[2],z=M[1];let $=(D-f)*g-(z-p)*b,F=(D-f)*b+(z-p)*g;$=Math.round($+f),F=Math.round(F+p);let j=o;if(typeof o!="number"&&(_===3?j=m:j=o[_]),$>=0&&$<d&&F>=0&&F<u){const V=F*(d*h),B=$*h,K=w+V+B+_;j=x[K]}const W=w+C+T+_;l[W]=j}}}}return{dataId:a.write(l,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bCe=Wt(kg,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),xCe={kernelName:kg,backendName:"cpu",kernelFunc:bCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yCe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:r,updates:o}=e,{shape:s}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Qu(o,r,s),h=!0,f=n.bufferSync(r),p=n.bufferSync(o),m=Qc(f,p,s,d,c,l,a,u,0,h);return n.makeTensorInfo(s,m.dtype,m.values)}const vCe={kernelName:NE,backendName:"cpu",kernelFunc:yCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wCe(t,e){let n=0,i=t.length,r=0;for(;n<i;)r=Math.floor((n+i)/2),t[r]<e?n=r+1:i=r;return i}function kCe(t,e){let n=0,i=t.length,r=0;for(;n<i;)r=Math.floor((n+i)/2),t[r]<=e?n=r+1:i=r;return i}function SCe(t,e,n,i,r,o){const s=Bn("int32",n*r);for(let a=0;a<n;++a){const l=t.slice(a*i,(a+1)*i),c=a*r;for(let u=0;u<r;++u)s[c+u]=o==="left"?wCe(l,e[u+c]):kCe(l,e[u+c])}return s}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CCe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:r,values:o}=e,{side:s}=i,a=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,c=SCe(a,l,r.shape[0],r.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",c)}const ECe={kernelName:DE,backendName:"cpu",kernelFunc:CCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TCe(t){const{inputs:e,backend:n}=t,{condition:i,t:r,e:o}=e;Ye([i,r,o],"select");const s=i.shape.length,a=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=qr(r.dtype,o.dtype),d=Yi(ge(r.shape),u);let h=0;const f=s===0||s>1||r.shape.length===1?1:ge(r.shape.slice(1));for(let p=0;p<a.length;p++)for(let m=0;m<f;m++)a[p]===1?d[h++]=l[p]:d[h++]=c[p];return n.makeTensorInfo(r.shape,u,d)}const ICe={kernelName:fv,backendName:"cpu",kernelFunc:TCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ce=Xv,_Ce=Kv,ACe=Wt(Cg,t=>t>=0?_Ce*t:$Ce*(Math.exp(t)-1)),NCe={kernelName:Cg,backendName:"cpu",kernelFunc:ACe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OCe=Wt(Ig,t=>t<0?-1:t>0?1:0),DCe={kernelName:Ig,backendName:"cpu",kernelFunc:OCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RCe=Wt(Eg,t=>Math.sin(t)),LCe={kernelName:Eg,backendName:"cpu",kernelFunc:RCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zCe=Wt(Tg,t=>Math.sinh(t)),FCe={kernelName:Tg,backendName:"cpu",kernelFunc:zCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCe=11920928955078125e-23,rN=Math.log(MCe)+2,PCe=Wt(_g,t=>{const e=t>-rN,n=t<rN,i=Math.exp(t);let r;return n?r=i:e?r=t:r=Math.log(1+i),r}),BCe={kernelName:_g,backendName:"cpu",kernelFunc:PCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockShape:o,paddings:s}=i;Ye([r],"spaceToBatchND");const a=ge(o),l=[[0,0]];l.push(...s);for(let E=1+o.length;E<r.shape.length;++E)l.push([0,0]);const c=ZB.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),u=Wg(c.shape,o,a,!1),d=Gg(u.length,o.length,!1),h=qg(c.shape,o,a,!1),m=ln({inputs:{x:c},backend:n,attrs:{shape:u}}),x=Tr({inputs:{x:m},backend:n,attrs:{perm:d}}),w=ln({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),w}const UCe={kernelName:gv,backendName:"cpu",kernelFunc:jCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VCe(t){const{inputs:e,backend:n}=t,{indices:i,values:r,denseShape:o,defaultValue:s}=e;if(o.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n        ".concat(i.shape));if(r.shape.length!==1)throw new Error("Values must be a vector, saw:\n        ".concat(r.shape));if(s.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const a=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(s.dataId).values[0],[d,h,f,p,m]=SB(a,i.shape,i.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],r.dtype,f),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const HCe={kernelName:RE,backendName:"cpu",kernelFunc:VCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WCe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:r,newShape:o}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape\n        ".concat(i.shape));if(r.shape.length!==1)throw new Error("Input shape should be a vector but received shape\n        ".concat(r.shape));if(o.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=Array.from(n.data.get(r.dataId).values),a=n.data.get(i.dataId).values,l=Array.from(n.data.get(o.dataId).values),[c,u,d]=CB(a,i.shape,i.dtype,s,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const GCe={kernelName:LE,backendName:"cpu",kernelFunc:WCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qCe(t){const{inputs:e,backend:n}=t,{data:i,indices:r,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error("Indices should be a vector but received shape\n          ".concat(r.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(i.dataId).values,a=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=UI(s,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const XCe={kernelName:zE,backendName:"cpu",kernelFunc:qCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KCe(t){const{inputs:e,backend:n}=t,{data:i,indices:r,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error("Indices should be a vector but received shape\n         ".concat(r.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(i.dataId).values,a=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=UI(s,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const YCe={kernelName:FE,backendName:"cpu",kernelFunc:KCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZCe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:r,sparseValues:o,defaultValue:s}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=Qu(o,r,a),f=!1,p=n.bufferSync(r);let m;switch(o.dtype){case"bool":{const b=n.bufferSync(o),g=!!n.data.get(s.dataId).values[0];m=Qc(p,b,a,h,u,c,l,d,g,f);break}case"float32":{const b=n.bufferSync(o),g=n.data.get(s.dataId).values[0];m=Qc(p,b,a,h,u,c,l,d,g,f);break}case"int32":{const b=n.bufferSync(o),g=n.data.get(s.dataId).values[0];m=Qc(p,b,a,h,u,c,l,d,g,f);break}case"string":{const b=n.bufferSync(o),g=ec(n.data.get(s.dataId).values[0]);m=Qc(p,b,a,h,u,c,l,d,g,f);break}default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(a,m.dtype,m.values)}const JCe={kernelName:ME,backendName:"cpu",kernelFunc:ZCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QCe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{numOrSizeSplits:o,axis:s}=i,a=Tt(s,r.shape)[0],l=fI(r,o,a),c=new Array(r.shape.length).fill(0),u=r.shape.slice();return l.map(d=>{const h=[...u];h[a]=d;const f=Lu({inputs:{x:r},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,f})}const eEe={kernelName:bv,backendName:"cpu",kernelFunc:QCe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tEe={kernelName:PE,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,i=e;Ye(n,"square");const r=i.data.get(n.dataId).values,o=new Float32Array(r.length);for(let a=0;a<r.length;++a){const l=r[a];o[a]=l*l}return{dataId:i.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nEe=Wt(zg,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),iEe={kernelName:zg,backendName:"cpu",kernelFunc:nEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{begin:o,end:s,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i;Ye(r,"stridedSlice");const{finalShapeSparse:f,finalShape:p,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=KT(r.shape,o,s,a,l,c,u,d,h);let w;if(m)w=ln({inputs:{x:r},backend:n,attrs:{shape:p}});else if(b||g){P(r.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(r.shape.length));const E=GT(x,y,v),C=Lu({inputs:{x:r},backend:n,attrs:{begin:x,size:E}});w=ln({inputs:{x:C},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(C)}else{const E=n.bufferSync(r),C=IB(f,E,v,x);w=n.makeTensorInfo(p,C.dtype,C.values)}return w}const oEe={kernelName:BE,backendName:"cpu",kernelFunc:rEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sEe(t){const{inputs:e,backend:n,attrs:i}=t,{separator:r,nGramWidths:o,leftPad:s,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.data.get(u.dataId).values,f=n.data.get(d.dataId).values,[p,m]=$B(h,f,r,o,s,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const aEe={kernelName:jE,backendName:"cpu",kernelFunc:sEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lEe(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:r}=i,{input:o,delimiter:s}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(s.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const a=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values[0],[c,u,d]=_B(a,l,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const cEe={kernelName:UE,backendName:"cpu",kernelFunc:lEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uEe(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:r}=i,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=n.data.get(o.dataId).values,a=AB(s,r);return n.makeTensorInfo(o.shape,"int32",a)}const dEe={kernelName:VE,backendName:"cpu",kernelFunc:uEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hEe=Wt(Dg,t=>Math.tan(t)),fEe={kernelName:Dg,backendName:"cpu",kernelFunc:hEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pEe=Wt(Rg,t=>Math.tanh(t)),mEe={kernelName:Rg,backendName:"cpu",kernelFunc:pEe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gEe(t){const{inputs:e,backend:n}=t,{tensor:i,indices:r,updates:o}=e,{sliceRank:s,numUpdates:a,sliceSize:l,strides:c,outputSize:u}=Qu(o,r,i.shape),d=!1,h=n.bufferSync(r),f=n.bufferSync(o),p=n.bufferSync(i),m=Qc(h,f,i.shape,u,l,a,s,c,p,d);return n.makeTensorInfo(i.shape,m.dtype,m.values)}const bEe={kernelName:OE,backendName:"cpu",kernelFunc:gEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{reps:o}=i;Ye(r,"tile");const s=OB(n.bufferSync(r),o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const yEe={kernelName:Lg,backendName:"cpu",kernelFunc:xEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vEe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{k:o,sorted:s}=i;Ye(r,"topk");const a=n.data.get(r.dataId).values,[l,c]=RB(a,r.shape,r.dtype,o,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const wEe={kernelName:HE,backendName:"cpu",kernelFunc:vEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kEe(t){const{inputs:e,attrs:n,backend:i}=t,{image:r,transforms:o}=e,{interpolation:s,fillMode:a,fillValue:l,outputShape:c}=n,[u,d,h,f]=r.shape,[p,m]=c!=null?c:[d,h],b=[u,p,m,f],g=it(r.shape),x=g[0],y=g[1],v=g[2],w=it(b),E=w[0],C=w[1],I=w[2],T=Di(r.dtype,ge(b));T.fill(l);const _=i.data.get(r.dataId).values,M=i.data.get(o.dataId).values;for(let z=0;z<u;++z){const $=o.shape[0]===1?M:M.subarray(z*8,z*8+8);for(let F=0;F<p;++F)for(let j=0;j<m;++j)for(let W=0;W<f;++W){let V;const B=$[6]*j+$[7]*F+1;if(B===0)continue;const K=($[0]*j+$[1]*F+$[2])/B,q=($[3]*j+$[4]*F+$[5])/B,G=oN(K,h,a),le=oN(q,d,a);switch(s){case"nearest":V=$Ee(_,d,h,x,y,v,z,le,G,W,l);break;case"bilinear":V=_Ee(_,d,h,x,y,v,z,le,G,W,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}const oe=z*E+F*C+j*I+W;T[oe]=V}return i.makeTensorInfo(b,r.dtype,T)}return{dataId:i.write(T,b,r.dtype),shape:r.shape,dtype:r.dtype}}const SEe={kernelName:WE,backendName:"cpu",kernelFunc:kEe};function oN(t,e,n){switch(n){case"reflect":return CEe(t,e);case"wrap":return EEe(t,e);case"nearest":return IEe(t,e);case"constant":default:return TEe(t)}}function CEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=2*e;n<i&&(n=i*Math.trunc(-n/i)+n),n=n<-e?n+i:-n-1}else if(n>e-1)if(e<=1)n=0;else{const i=2*e;n-=i*Math.trunc(n/i),n>=e&&(n=i-n-1)}return ku(0,n,e-1)}function EEe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=e-1;n+=e*(Math.trunc(-n/i)+1)}else if(n>e-1)if(e<=1)n=0;else{const i=e-1;n-=e*Math.trunc(n/i)}return ku(0,n,e-1)}function TEe(t,e){return t}function IEe(t,e){return ku(0,t,e-1)}function rp(t,e,n,i,r,o,s,a,l,c,u){const d=s*i+a*r+l*o+c;return 0<=a&&a<e&&0<=l&&l<n?t[d]:u}function $Ee(t,e,n,i,r,o,s,a,l,c,u){const d=Math.round(a),h=Math.round(l);return rp(t,e,n,i,r,o,s,d,h,c,u)}function _Ee(t,e,n,i,r,o,s,a,l,c,u){const d=Math.floor(a),h=Math.floor(l),f=d+1,p=h+1,m=(p-l)*rp(t,e,n,i,r,o,s,d,h,c,u)+(l-h)*rp(t,e,n,i,r,o,s,d,p,c,u),b=(p-l)*rp(t,e,n,i,r,o,s,f,h,c,u)+(l-h)*rp(t,e,n,i,r,o,s,f,p,c,u);return(f-a)*m+(a-d)*b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AEe(t){const{inputs:e,attrs:n,backend:i}=t,{axis:r}=n,{x:o}=e;Ye(o,"unique");const s=i.data.get(o.dataId).values,{outputValues:a,outputShape:l,indices:c}=LB(s,r,o.shape,o.dtype);return[i.makeTensorInfo(l,o.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const NEe={kernelName:GE,backendName:"cpu",kernelFunc:AEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OEe(t){const{inputs:e,backend:n,attrs:i}=t,{value:r}=e;let{axis:o}=i;o<0&&(o+=r.shape.length);const s=r.shape.length,a=r.shape[o],l=new Array(s-1);let c=0;for(let f=0;f<s;f++)f!==o&&(l[c++]=r.shape[f]);const u=new Array(s).fill(0),d=r.shape.slice();d[o]=1;const h=new Array(a);for(let f=0;f<h.length;f++){u[o]=f;const p=Lu({inputs:{x:r},backend:n,attrs:{begin:u,size:d}});h[f]=ln({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return h}const DEe={kernelName:vv,backendName:"cpu",kernelFunc:OEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function REe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,segmentIds:o}=e,{numSegments:s}=i;Ye(r,"unsortedSegmentSum");const a=r.shape.length,l=o.shape.length,c=[],u=[],d=a-l;let h=o;for(let p=0;p<d;++p){const m=n1({inputs:{input:h},backend:n,attrs:{dim:p+1}});h=m,u.push(m)}for(let p=0;p<s;++p){const m=gc(p,"int32"),b=n.makeTensorInfo([],"int32",m),g=YP({inputs:{a:b,b:h},backend:n}),x=cc({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=aw({inputs:{a:x,b:r},backend:n}),v=n0({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});c.push(v),u.push(b),u.push(g),u.push(x),u.push(y),u.push(v)}const f=YB({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const LEe={kernelName:wv,backendName:"cpu",kernelFunc:REe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zEe=[Ake,u2e,Oke,Rke,g2e,zke,Mke,Bke,Uke,Hke,Gke,Xke,Yke,Qke,t3e,r3e,s3e,l3e,u3e,$ke,h3e,p3e,g3e,x2e,x3e,p2e,v2e,v3e,d2e,k3e,C3e,E3e,I3e,_3e,N3e,D3e,L3e,F3e,P3e,j3e,V3e,W3e,q3e,K3e,Y3e,J3e,eSe,nSe,iSe,rSe,oSe,aSe,uSe,wke,hSe,w2e,vSe,k2e,wSe,C2e,ISe,$Se,ASe,T2e,$2e,OSe,RSe,zSe,MSe,A2e,O2e,h2e,BSe,S3e,USe,HSe,GSe,kke,R2e,z2e,XSe,M2e,YSe,QSe,t4e,r4e,s4e,l4e,c4e,B2e,d4e,f4e,m4e,b4e,y4e,w4e,S4e,U2e,E4e,$4e,N4e,H2e,G2e,R4e,F4e,B4e,X2e,U4e,H4e,W4e,ZB,K4e,Cke,Z2e,Z4e,Q4e,tCe,iCe,f2e,SS,oCe,Eke,Tke,Ike,aCe,cCe,dCe,fCe,mCe,gCe,xCe,oke,vCe,ECe,ICe,NCe,ake,DCe,LCe,FCe,lke,_4e,BCe,UCe,HCe,GCe,XCe,YCe,JCe,eEe,dke,tEe,fke,mke,iEe,oEe,aEe,cEe,dEe,yke,lSe,fEe,mEe,bEe,yEe,wEe,SEe,K2e,NEe,DEe,LEe,V4e];for(const t of zEe)B9(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wc={},nb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function FEe(t,e){Wc[t]=e}function As(t,e){if(!(t in Wc)||e!=null){const i=PEe(t,e);if(i!==null)Wc[t]=i;else return console.log("Could not get context for WebGL version",t),null}const n=Wc[t];return n==null||n.isContextLost()?(delete Wc[t],As(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Wc[t])}function MEe(t){if(!fe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function PEe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e==null?MEe(t):e;return n.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete Wc[t]},!1),fe().getBool("SOFTWARE_WEBGL_ENABLED")&&(nb.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",nb)||n.getContext("experimental-webgl",nb):n.getContext("webgl2",nb)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var dm;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(dm||(dm={}));var uo;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(uo||(uo={}));var Ai;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Ai||(Ai={}));function i0(t,e){return[e,t]}function BEe(t,e){return t*e}function ib(t){const e=ge(t),n=Math.ceil(e/4);return A3(n)}function pf(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function jEe(t,e){const[n,i]=pf(t,e);return n*i*4}function qI(t,e){const n=t;let i,r,o,s,a,l,c,u,d,h;return fe().getNumber("WEBGL_VERSION")===2?(i=n.R32F,r=n.R16F,o=n.RGBA16F,s=n.RGBA32F,a=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(i=t.RGBA,r=t.RGBA,o=t.RGBA,s=n.RGBA,a=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,l=t.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:s,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function je(t,e){const n=e();return fe().getBool("DEBUG")&&UEe(t),n}function UEe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+GEe(t,e))}const VEe=596e-10,HEe=65504;function WEe(t){return!!(fe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||VEe<Math.abs(t)&&Math.abs(t)<HEe)}function GEe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(e)}}function rb(t,e){return rl(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function qEe(t,e){const n=rl(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(je(t,()=>t.shaderSource(n,e)),je(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function XEe(t,e){const n=rl(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(je(t,()=>t.shaderSource(n,e)),je(t,()=>t.compileShader(n)),fe().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw JB(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const KEe=/ERROR: [0-9]+:([0-9]+):/g;function JB(t,e){const n=KEe.exec(e);if(n==null){console.log("Couldn't parse line number in error: ".concat(e)),console.log(t);return}const i=+n[1],r=t.split("\n"),o=r.length.toString().length+2,s=r.map((d,h)=>sh((h+1).toString(),o)+d);let a=0;for(let d=0;d<s.length;d++)a=Math.max(s[d].length,a);const l=s.slice(0,i-1),c=s.slice(i-1,i),u=s.slice(i);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c ".concat(sh(c[0],a)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function YEe(t){return rl(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function ZEe(t,e){if(je(t,()=>t.linkProgram(e)),!fe().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function W2(t,e){if(je(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function JEe(t,e){const n=rl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),je(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function QEe(t,e){const n=rl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return je(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),je(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function eTe(t){return rl(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function tTe(t,e){const n=fe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const i="[".concat(t,"x").concat(e,"]");throw new Error("Requested texture size "+i+" is invalid.")}if(t>n||e>n){const i="[".concat(t,"x").concat(e,"]"),r="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+r+".")}}function nTe(t){return rl(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function sN(t,e,n,i,r,o,s){const a=t.getAttribLocation(e,n);return a===-1?!1:(je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,i)),je(t,()=>t.vertexAttribPointer(a,r,t.FLOAT,!1,o,s)),je(t,()=>t.enableVertexAttribArray(a)),!0)}function iTe(t,e,n){lTe(t,n),je(t,()=>t.activeTexture(t.TEXTURE0+n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function rTe(t,e,n){return rl(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function oTe(t,e,n){return t.getUniformLocation(e,n)}function sTe(t,e,n,i){je(t,()=>iTe(t,e,i)),je(t,()=>t.uniform1i(n,i))}function G2(t,e,n){je(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),je(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function aN(t,e){je(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),je(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function ob(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+aTe(t,e))}function aTe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(e)}}function rl(t,e,n){const i=je(t,()=>e());if(i==null)throw new Error(n);return i}function lTe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=e+t.TEXTURE0;if(i<t.TEXTURE0||i>n){const r="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(r,"."))}}function Ph(t,e=2){return ge(t.slice(0,t.length-e))}function Bh(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function sb(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Ph(t),...Bh(t)]),e}function cTe(t,e=!1){let n=fe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=fe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&fe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=n/2),e&&(n=n*2,i=i*2,t=t.map((a,l)=>l>=t.length-2?jC(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=mc(t).newShape);let r=ge(t),o=null;t.length<=1&&r<=n?o=[1,r]:t.length===2&&t[0]<=n&&t[1]<=n?o=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?o=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?o=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?o=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(o=[t[0],t[1]*t[2]*t[3]]);const s=o!=null&&Math.max(...o)>i&&Math.min(...o)<=(e?2:1)&&Math.min(...o)>0;if(o==null||s)if(e){const a=Ph(t);let l=2,c=2;t.length&&([l,c]=Bh(t)),r=a*(l/2)*(c/2),o=A3(r).map(u=>u*2)}else o=A3(r);return o}function ab(t){return t%2===0}function r1(t,e){if(t=t.slice(-2),e=e.slice(-2),Nt(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],i=e[e.length-1];if(n===i||ab(n)&&ab(i)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&ab(t[0])&&ab(e[0])}let q2,X2;function uTe(t){if(q2==null){const e=As(t);q2=e.getParameter(e.MAX_TEXTURE_SIZE)}return q2}function dTe(t){if(X2==null){const e=As(t);X2=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,X2)}function hTe(t){if(t===0)return 0;let e;const n=As(t);return Yo(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Yo(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function Yo(t,e){return t.getExtension(e)!=null}function lN(t){try{if(As(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function fTe(t){if(t===0)return!1;const e=As(t);if(t===1){if(!Yo(e,"OES_texture_float"))return!1}else if(!Yo(e,"EXT_color_buffer_float"))return!1;return ES(e)}function pTe(t){if(t===0)return!1;const e=As(t);if(t===1){if(!Yo(e,"OES_texture_float")||!Yo(e,"WEBGL_color_buffer_float"))return!1}else{if(Yo(e,"EXT_color_buffer_float"))return ES(e);const i="EXT_color_buffer_half_float";if(Yo(e,i)){const r=e.getExtension(i);return mTe(e,r)}return!1}return ES(e)}function ES(t){const e=qI(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const s=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(o),s}function mTe(t,e){const n=qI(t,e),i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(i),t.deleteFramebuffer(s),a}function gTe(t){return t!==2?!1:As(t).fenceSync!=null}function r0(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&P(n.dtype!=="complex64",()=>"".concat(e," does not support complex64 tensors ")+"in the WebGL backend.")})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ze=fe();Ze.registerFlag("HAS_WEBGL",()=>Ze.getNumber("WEBGL_VERSION")>0);Ze.registerFlag("WEBGL_VERSION",()=>lN(2)?2:lN(1)?1:0);Ze.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ze.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ze.get("WEBGL_VERSION")===2);Ze.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ze.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ze.registerFlag("WEBGL_PACK",()=>Ze.getBool("HAS_WEBGL"));Ze.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_CLIP",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_REDUCE",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_CONV_IM2COL",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Ze.getBool("WEBGL_PACK"));Ze.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>uTe(Ze.getNumber("WEBGL_VERSION")));Ze.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>dTe(Ze.getNumber("WEBGL_VERSION")));Ze.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Ze.getNumber("WEBGL_VERSION");return t===0?0:hTe(t)});Ze.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ze.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!iL());Ze.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>fTe(Ze.getNumber("WEBGL_VERSION")));Ze.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ze.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ze.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ze.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>pTe(Ze.getNumber("WEBGL_VERSION")));Ze.registerFlag("WEBGL_FENCE_API_ENABLED",()=>gTe(Ze.getNumber("WEBGL_VERSION")));Ze.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ze.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ze.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(t,"."))});Ze.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>iL()?1:-1,t=>{if(typeof t!="number")throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(t,"."));if(t<0&&t!==-1)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(t,"."))});Ze.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ze.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ze.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ze.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Ze.registerFlag("WEBGL_EXP_CONV",()=>!1);Ze.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ze.getBool("IS_TEST"));Ze.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Ze.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Ze.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Ze.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ur(){let t,e,n,i,r,o,s,a,l,c;return fe().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",i="in",r="texture",o="outputColor",s="out vec4 outputColor;",a=fe().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",i="varying",r="texture2D",o="gl_FragColor",s="",a="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:i,texture2D:r,output:o,defineOutput:s,defineSpecialNaN:a,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nd(t,e,n="index"){const i=it(e);return i.map((r,o)=>{const s="int ".concat(t[o]," = ").concat(n," / ").concat(r),a=o===i.length-1?"int ".concat(t[o+1]," = ").concat(n," - ").concat(t[o]," * ").concat(r):"index -= ".concat(t[o]," * ").concat(r);return"".concat(s,"; ").concat(a,";")}).join("")}function lw(t,e,n="index"){const i=it(e);return i.map((r,o)=>{const s="int ".concat(t[o]," = ").concat(n," / outShapeStrides[").concat(o,"]"),a=o===i.length-1?"int ".concat(t[o+1]," = ").concat(n," - ").concat(t[o]," * outShapeStrides[").concat(o,"]"):"index -= ".concat(t[o]," * outShapeStrides[").concat(o,"]");return"".concat(s,"; ").concat(a,";")}).join("")}function bTe(t,e){const n=t.length,i=t.map(o=>"".concat(e,"[").concat(o,"]")),r=new Array(n-1);r[n-2]=i[n-1];for(let o=n-3;o>=0;--o)r[o]="(".concat(r[o+1]," * ").concat(i[o+1],")");return r}function xTe(t,e,n="index"){const i=t.map((o,s)=>s),r=bTe(i,e);return r.map((o,s)=>{const a="int ".concat(t[s]," = ").concat(n," / ").concat(r[s]),l=s===r.length-1?"int ".concat(t[s+1]," = ").concat(n," - ").concat(t[s]," * ").concat(r[s]):"index -= ".concat(t[s]," * ").concat(r[s]);return"".concat(a,"; ").concat(l,";")}).join("")}function XI(t){const e=it(t).map(n=>n.toString());return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(e[0]," + coords.y * ").concat(e[1]," + coords.z;\n  }\n")}function KI(){return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n"}const QB="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:ej}=Rbe;function yTe(t,e,n){const i=[];if(t.forEach(f=>{const p=ge(f.shapeInfo.logicalShape);if(f.shapeInfo.isUniform?i.push("uniform float ".concat(f.name).concat(p>1?"[".concat(p,"]"):"",";")):(i.push("uniform sampler2D ".concat(f.name,";")),i.push("uniform int offset".concat(f.name,";"))),n.enableShapeUniforms){const{uniformShape:m}=YI(n.packedInputs,f.shapeInfo.logicalShape,f.shapeInfo.texShape);switch(m.length){case 1:i.push("uniform int ".concat(f.name,"Shape;"));break;case 2:i.push("uniform ivec2 ".concat(f.name,"Shape;"));break;case 3:i.push("uniform ivec3 ".concat(f.name,"Shape;"));break;case 4:i.push("uniform ivec4 ".concat(f.name,"Shape;"));break}i.push("uniform ivec2 ".concat(f.name,"TexShape;"))}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;");break}i.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(f=>{i.push("uniform ".concat(f.type," ").concat(f.name).concat(f.arrayIndex?"[".concat(f.arrayIndex,"]"):"",";"))});const r=i.join("\n"),o=t.map(f=>vTe(f,e,n.packedInputs,n.enableShapeUniforms)).join("\n"),s=e.texShape,a=ur(),l=STe(a);let c,u,d=TTe(a);return e.isPacked?(c=wTe(e.logicalShape,s,n.enableShapeUniforms),u=ETe(a)):(c=kTe(e.logicalShape,s,n.enableShapeUniforms),u=CTe(a)),n.packedInputs&&(d+=ATe),[d,l,u,r,c,o,n.userCode].join("\n")}function mf(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return UTe(t,e);case 1:return HTe(t,e);case 2:return GTe(t,e);case 3:return XTe(t,e);case 4:return YTe(t,e);case 5:return ZTe(t);case 6:return JTe(t);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function tj(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return jTe(t);case 1:return VTe(t,e);case 2:return WTe(t,e);case 3:return qTe(t,e);default:return KTe(t,e)}}function vTe(t,e,n=!1,i){let r="";n?r+=tj(t,i):r+=mf(t,i);const o=t.shapeInfo.logicalShape,s=e.logicalShape;return o.length<=s.length&&(n?r+=QTe(t,e):r+=eIe(t,e)),r}function wTe(t,e,n){switch(t.length){case 0:return nj();case 1:return NTe(t,e,n);case 2:return PTe(t,e,n);case 3:return DTe(t,e,n);default:return LTe(t,e,n)}}function kTe(t,e,n){switch(t.length){case 0:return nj();case 1:return OTe(t,e,n);case 2:return BTe(t,e,n);case 3:return RTe(t,e,n);case 4:return zTe(t,e,n);case 5:return FTe(t,e);case 6:return MTe(t,e);default:throw new Error("".concat(t.length,"-D output sampling is not yet supported"))}}function STe(t){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(t.texture2D,"(textureSampler, uv).r;\n    }\n  ")}function CTe(t){return"\n    void setOutput(float val) {\n      ".concat(t.output," = vec4(val, 0, 0, 0);\n    }\n  ")}function ETe(t){return"\n    void setOutput(vec4 val) {\n      ".concat(t.output," = val;\n    }\n  ")}function TTe(t){return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFs," vec2 resultUV;\n    ").concat(t.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(t.defineSpecialNaN,"\n    ").concat(t.defineSpecialInf,"\n    ").concat(t.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(ITe,"\n    ").concat($Te,"\n    ").concat(_Te,"\n  ")}const ITe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$Te="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",_Te="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ATe="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function nj(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function NTe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return i[0]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(i[1],".0);\n      }\n    "):i[1]===1?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(i[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      return 2 * (resTexRC.x * ").concat(i[1]," + resTexRC.y);\n    }\n  ")}function OTe(t,e,n){return e[0]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(e[1],".0);\n      }\n    "):e[1]===1?n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(e[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      return resTexRC.x * ").concat(e[1]," + resTexRC.y;\n    }\n  ")}function DTe(t,e,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),o=r*Math.ceil(t[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}function RTe(t,e,n){if(n){const r=lw(["r","c","d"],t);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}const i=nd(["r","c","d"],t);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}function LTe(t,e,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),o=r*Math.ceil(t[t.length-2]/2);let s=o,a="",l="b, r, c";for(let c=2;c<t.length-1;c++)s*=t[t.length-c-1],a="\n      int b".concat(c," = index / ").concat(s,";\n      index -= b").concat(c," * ").concat(s,";\n    ")+a,l="b".concat(c,", ")+l;return"\n    ivec".concat(t.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(i[0],", ").concat(i[1],"));\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n\n      ").concat(a,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec").concat(t.length,"(").concat(l,");\n    }\n  ")}function zTe(t,e,n){if(n){const r=lw(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const i=nd(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}function FTe(t,e){const n=nd(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(e[0],",\n                             ").concat(e[1],"));\n\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}function MTe(t,e){const n=nd(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}function PTe(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Nt(t,e))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(i[0],", ").concat(i[1],"));\n      }\n    ");const r=Math.ceil(t[1]/2);return n?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(i[0],", ").concat(i[1],"));\n\n      int index = resTexRC.x * ").concat(i[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}function BTe(t,e,n){return Nt(t,e)?n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(e[0],", ").concat(e[1],"));\n      }\n    "):t[1]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    "):t[0]===1?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    "):n?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      int r = index / ").concat(t[1],";\n      int c = index - r * ").concat(t[1],";\n      return ivec2(r, c);\n    }\n  ")}function id(t){return"offset".concat(t)}function jTe(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),i=ur();return"\n    vec4 ".concat(n,"() {\n      return ").concat(i.texture2D,"(").concat(e,", halfCR);\n    }\n  ")}function UTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"float ".concat(i,"() {return ").concat(n,";}");const[r,o]=t.shapeInfo.texShape;if(r===1&&o===1)return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=id(n);if(e)return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[a,l]=t.shapeInfo.texShape;return"\n    float ".concat(i,"() {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(l,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function VTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t.shapeInfo.texShape,o=ur();if(e)return"\n    vec4 ".concat(i,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return"\n    vec4 ".concat(i,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(s[0],", ").concat(s[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}function HTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int index) {\n        ").concat(gf(t),"\n      }\n    ");const r=t.shapeInfo.texShape,o=r[0],s=r[1];if(s===1&&o===1)return"\n      float ".concat(i,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const a=id(n);return s===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(a,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):o===1?e?"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(i,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(a,") + 0.5) / ").concat(s,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):e?"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(i,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(s,", index + ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function WTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape,s=o[0],a=o[1],l=ur();if(o!=null&&Nt(n,o))return e?"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    "):"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,".0, ").concat(s,".0);\n\n        return ").concat(l.texture2D,"(").concat(i,", uv);\n      }\n    ");if(e)return"\n    vec4 ".concat(r,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ");const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(i,", uv);\n    }\n  ")}function GTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape;if(o!=null&&Nt(n,o)){if(e)return"\n      float ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const h=o[0],f=o[1];return"\n    float ".concat(r,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(f,".0, ").concat(h,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}const{newShape:s,keptDims:a}=mc(n),l=s;if(l.length<n.length){const h=bf(t,l),f=["row","col"];return"\n      ".concat(mf(h,e),"\n      float ").concat(r,"(int row, int col) {\n        return ").concat(r,"(").concat(xf(f,a),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(gf(t),"\n      }\n    ");const c=o[0],u=o[1],d=id(i);return u===1?e?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(i,"TexShape[0]));\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):c===1?e?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(i,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(i,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):e?"\n      float ".concat(r,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n  float ".concat(r,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(i,", uv);\n  }\n")}function qTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),o=t.shapeInfo.texShape,s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(n[0]===1){const h=n.slice(1),f=[1,2],p=bf(t,h),m=["b","row","col"];return"\n        ".concat(tj(p,e),"\n        vec4 ").concat(r,"(int b, int row, int col) {\n          return ").concat(r,"(").concat(xf(m,f),");\n        }\n      ")}const a=ur();if(e)return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(i,"TexShape[0]) / 2.0), ceil(float(").concat(i,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(i,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(i,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ");const l=s[0],c=s[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(a.texture2D,"(").concat(i,", uv);\n    }\n  ")}function XTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[1]*n[2],s=n[2],{newShape:a,keptDims:l}=mc(n),c=a;if(c.length<n.length){const m=bf(t,c),b=["row","col","depth"];return"\n        ".concat(mf(m,e),"\n        float ").concat(r,"(int row, int col, int depth) {\n          return ").concat(r,"(").concat(xf(b,l),");\n        }\n      ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(s,", 1)));\n        ").concat(gf(t),"\n      }\n    ");const u=t.shapeInfo.texShape,d=u[0],h=u[1],f=t.shapeInfo.flatOffset;if(h===o&&f==null)return e?"\n      float ".concat(r,"(int row, int col, int depth) {\n        int stride1 = ").concat(i,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n        float ".concat(r,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(s,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(i,", uv);\n        }\n      ");if(h===s&&f==null)return e?"\n      float ".concat(r,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(i,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(i,", uv);\n    }\n  ");const p=id(i);return e?"\n    float ".concat(r,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(i,"Shape[1] * ").concat(i,"Shape[2];\n      int stride1 = ").concat(i,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(p,";\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index);\n      return sampleTexture(").concat(i,", uv);\n    }\n    "):"\n      float ".concat(r,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(s," + depth + ").concat(p,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(i,", uv);\n      }\n  ")}function KTe(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),r=ur();if(e)return"\n    vec4 ".concat(i,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=t.shapeInfo.logicalShape,s=o.length,a=t.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=l[0],u=l[1],d=Math.ceil(o[s-1]/2);let h=d*Math.ceil(o[s-2]/2),f="int b, int row, int col",p="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<s-1;m++)f="int b".concat(m,", ")+f,h*=o[s-m-1],p="b".concat(m," * ").concat(h," + ")+p;return"\n    vec4 ".concat(i,"(").concat(f,") {\n      int index = ").concat(p,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ")}function YTe(t,e){const n=t.shapeInfo.logicalShape,i=t.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[3],s=n[2]*o,a=n[1]*s,{newShape:l,keptDims:c}=mc(n);if(l.length<n.length){const x=bf(t,l),y=["row","col","depth","depth2"];return"\n      ".concat(mf(x,e),"\n      float ").concat(r,"(int row, int col, int depth, int depth2) {\n        return ").concat(r,"(").concat(xf(y,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(a,", ").concat(s,", ").concat(o,", 1)));\n        ").concat(gf(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],f=d[1],p="int stride2 = ".concat(i,"Shape[3];"),m="int stride1 = ".concat(i,"Shape[2] * stride2;"),b="int stride0 = ".concat(i,"Shape[1] * stride1;");if(f===a&&u==null)return e?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        ").concat(p,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(s,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");if(f===o&&u==null)return e?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(i,"Shape[1] * ").concat(i,"Shape[2], ").concat(i,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(i,"TexShape[1], ").concat(i,"TexShape[0]);\n        return sampleTexture(").concat(i,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(i,", uv);\n      }\n    ");const g=id(i);return e?"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(p,"\n      ").concat(m,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(i,"TexShape[0], ").concat(i,"TexShape[1], index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  "):"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(s," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(f,", index + ").concat(g,");\n      return sampleTexture(").concat(i,", uv);\n    }\n  ")}function ZTe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e[4],o=e[3]*r,s=e[2]*o,a=e[1]*s,{newShape:l,keptDims:c}=mc(e);if(l.length<e.length){const m=bf(t,l),b=["row","col","depth","depth2","depth3"];return"\n      ".concat(mf(m),"\n      float ").concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(i,"(").concat(xf(b,c),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(a,", ").concat(s,", ").concat(o,", ").concat(r,")) +\n          depth3;\n        ").concat(gf(t),"\n      }\n    ");const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],f=d[1];if(f===a&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(o,", ").concat(r,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===r&&u==null)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3],",\n               ").concat(e[2]*e[3],", ").concat(e[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const p=id(n);return"\n    float ".concat(i,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(a," + col * ").concat(s," + depth * ").concat(o," +\n          depth2 * ").concat(r," + depth3 + ").concat(p,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function JTe(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=mc(e);if(r.length<e.length){const b=bf(t,r),g=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(mf(b),"\n      float ").concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(i,"(").concat(xf(g,o),");\n      }\n    ")}const s=e[5],a=e[4]*s,l=e[3]*a,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(a,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(s,", 1)));\n        ").concat(gf(t),"\n      }\n    ");const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,f=h[0],p=h[1];if(p===u&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(a,", ").concat(s,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(f,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===s&&d==null)return"\n      float ".concat(i,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3]*e[4],",\n               ").concat(e[2]*e[3]*e[4],",\n               ").concat(e[3]*e[4],",\n               ").concat(e[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(f,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=id(n);return"\n    float ".concat(i,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(a," + depth3 * ").concat(s," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(f,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function gf(t){const e=t.name,n=ge(t.shapeInfo.logicalShape);return n<2?"return ".concat(e,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(e,"[i];\n      }\n    }\n  ")}function QTe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),r="get"+i+"AtOutCoords",o=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,a=ej(t.shapeInfo.logicalShape,e.logicalShape),l=Xt(s),c=s-o;let u;const d=["x","y","z","w","u","v"];o===0?u="":s<2&&a.length>=1?u="coords = 0;":u=a.map(x=>"coords.".concat(d[x+c]," = 0;")).join("\n");let h="";s<2&&o>0?h="coords":h=t.shapeInfo.logicalShape.map((x,y)=>"coords.".concat(d[y+c])).join(", ");let f="return outputValue;";const m=ge(t.shapeInfo.logicalShape)===1,g=ge(e.logicalShape)===1;if(o===1&&!m&&!g)f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";else if(m&&!g)s===1?f="\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":f="\n        return vec4(outputValue.x);\n      ";else if(a.length){const x=o-2,y=o-1;a.indexOf(x)>-1&&a.indexOf(y)>-1?f="return vec4(outputValue.x);":a.indexOf(x)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(y)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}return"\n    vec4 ".concat(r,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(i,"(").concat(h,");\n      ").concat(f,"\n    }\n  ")}function eIe(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),r="get"+i+"AtOutCoords",o=e.texShape,s=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===l&&t.shapeInfo.flatOffset==null&&Nt(s,o))return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=Xt(l),u=ej(t.shapeInfo.logicalShape,e.logicalShape),d=l-a;let h;const f=["x","y","z","w","u","v"];a===0?h="":l<2&&u.length>=1?h="coords = 0;":h=u.map(m=>"coords.".concat(f[m+d]," = 0;")).join("\n");let p="";return l<2&&a>0?p="coords":p=t.shapeInfo.logicalShape.map((m,b)=>"coords.".concat(f[b+d])).join(", "),"\n    float ".concat(r,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(i,"(").concat(p,");\n    }\n  ")}function Xt(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank ".concat(t," is not yet supported"))}function YI(t,e,n){const{newShape:i,keptDims:r}=mc(e),o=e.length,s=t&&o===3&&e[0]===1,a=s?e.slice(1):i,l=!t&&o>1&&!Nt(e,n)&&i.length<o||s;return{useSqueezeShape:l,uniformShape:l?a:e,keptDims:r}}function bf(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function xf(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tIe(t,e,n,i){const r=n.map((u,d)=>{const h={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(h.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),o=r.map(u=>u.shapeInfo),s={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},a=yTe(r,s,e),l=XEe(t.gl,a),c=t.createProgram(l);return fe().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:o,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(c),Object.assign({program:e,fragmentShader:l,source:a,webGLProgram:c,inShapeInfos:o,outShapeInfo:s},ij(t,e,c)))}function ij(t,e,n){const i=[],r=[];let o,s,a,l=null,c=null;c=t.getUniformLocation(n,"NAN",!1),fe().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,u),offset:t.getUniformLocation(n,"offset".concat(d),u)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,"".concat(d,"Shape"),u),h.texShape=t.getUniformLocation(n,"".concat(d,"TexShape"),u)),i.push(h)}if(e.enableShapeUniforms&&(o=t.getUniformLocation(n,"outShape",u),a=t.getUniformLocation(n,"outShapeStrides",u),s=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)r.push(t.getUniformLocation(n,d.name,u));return{variablesLocations:i,customUniformLocations:r,infLoc:l,nanLoc:c,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:s}}function cN(t,e){if(t.length!==e.length)throw Error("Binary was compiled with ".concat(t.length," inputs, but ")+"was executed with ".concat(e.length," inputs"));t.forEach((n,i)=>{const r=n.logicalShape,o=e[i],s=o.shape;if(!Nt(r,s))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(s," must match"));if(n.isUniform&&o.isUniform)return;const a=n.texShape,l=o.isUniform?null:o.texData.texShape;if(!Nt(a,l))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(a," and ").concat(l," must match"))})}function nIe(t,e,n,i,r){e.program.enableShapeUniforms||(cN(e.inShapeInfos,n),cN([e.outShapeInfo],[i]));const o=i.texData.texture,s=i.texData.texShape;i.texData.isPacked?t.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):t.setOutputMatrixTexture(o.texture,s[0],s[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),fe().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const c=n[l],{uniform:u,offset:d,shape:h,texShape:f}=e.variablesLocations[l];if(h){const{uniformShape:p}=YI(e.program.packedInputs,c.shape,c.texData.texShape);switch(p.length){case 1:t.gl.uniform1iv(h,new Int32Array(p));break;case 2:t.gl.uniform2iv(h,new Int32Array(p));break;case 3:t.gl.uniform3iv(h,new Int32Array(p));break;case 4:t.gl.uniform4iv(h,new Int32Array(p));break}}if(f&&t.gl.uniform2i(f,c.texData.texShape[0],c.texData.texShape[1]),u!=null){if(c.isUniform){if(ge(c.shape)<2)t.gl.uniform1f(u,c.uniformValues[0]);else{let p=c.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),t.gl.uniform1fv(u,p)}continue}c.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,c.texData.slice.flatOffset),t.setInputMatrixTexture(c.texData.texture.texture,u,l)}}const a=e.outShapeLocation;if(a)switch(i.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(i.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(i.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(i.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(i.shape));break}if(e.outShapeStridesLocation){const l=it(i.shape);switch(i.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),e.program.customUniforms&&r)for(let l=0;l<e.program.customUniforms.length;++l){const c=e.program.customUniforms[l],u=e.customUniformLocations[l],d=r[l];if(c.type==="float")t.gl.uniform1fv(u,d);else if(c.type==="vec2")t.gl.uniform2fv(u,d);else if(c.type==="vec3")t.gl.uniform3fv(u,d);else if(c.type==="vec4")t.gl.uniform4fv(u,d);else if(c.type==="int")t.gl.uniform1iv(u,d);else if(c.type==="ivec2")t.gl.uniform2iv(u,d);else if(c.type==="ivec3")t.gl.uniform3iv(u,d);else if(c.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error("uniform type ".concat(c.type," is not supported yet."))}t.executeProgram()}function iIe(t,e,n){let i="";e.concat(n).forEach(s=>{const a=s.texData!=null&&s.texData.slice!=null&&s.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!s.isUniform){const l=s.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=YI(t.packedInputs,s.shape,l);let h="",f="",p="";if(u.length===1&&t.packedInputs){const w=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h="".concat(w[0]>1,"_").concat(w[1]>1)}else if(u.length===2&&!t.packedInputs)f="".concat(u[0]>1,"_").concat(u[1]>1);else if(u.length>2&&!t.packedInputs){const w=it(u);p="".concat(w[0]===l[1],"_").concat(w[w.length-1]===l[1])}const m=s.shape.length,b=u.length===2&&Nt(s.shape,l),g=ge(s.shape)===1,x=Oh(s.shape,n.shape),y=!t.packedInputs&&m===n.shape.length&&Nt(l,n.texData.texShape),v=t.packedInputs||u.length>2?"":"".concat(l[0]>1,"_").concat(l[1]>1);i+="".concat(m,"_").concat(y,"_").concat(c?d:"","_").concat(u.length,"_").concat(g,"_").concat(x,"_").concat(b,"_").concat(h,"_").concat(f,"_").concat(p,"_").concat(v,"_").concat(a)}else{const l=s.isUniform?"uniform":s.texData.texShape;i+="".concat(s.shape,"_").concat(l,"_").concat(a)}});const r=t.userCode;let o=t.constructor.name;return o+="_"+i+"_"+r+"".concat(fe().getNumber("WEBGL_VERSION")),o}function Ji(t){return fe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rIe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=dm.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ur();this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?lw(["r","c","d"],e):nd(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oIe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=dm.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ur();this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?lw(["r","c","d"],e):nd(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sIe{constructor(e){this.variableNames=["A"],this.outTexUsage=uo.DOWNLOAD;const n=ur();this.outputShape=e,this.userCode="\n      ".concat(QB,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aIe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=uo.DOWNLOAD;const n=ur();this.outputShape=e,this.userCode="\n      ".concat(QB,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lIe={R:0,G:1,B:2,A:3};class uN{constructor(e,n=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ur();this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)");let s="";for(let a=0;a<i.length;a++){const l=i[a];s+="\n          if(offset == ".concat(a,") {\n            result = values[").concat(lIe[l],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?KI():XI(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(i.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(i.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(r.texture2D,"(A, uv);\n          ").concat(s,"\n        }\n        ").concat(r.output," = vec4(").concat(o,", 0., 0., 0.);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cIe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=ur();this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length);let r="",o="result";n&&(o="floor(result * 255. + 0.5)");for(let s=0;s<=1;s++)for(let a=0;a<=1;a++){const l=s*2+a;r+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(a," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(a,";\n          if (localCoords[1] + ").concat(s," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(s,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(i.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(l,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(l,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(l,"] = values[2];\n            } else {\n              result[").concat(l,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?KI():XI(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(r,"\n\n          ").concat(i.output," = ").concat(o,";\n        }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uIe(t){const e=ur(),n="".concat(e.version,"\n    precision highp float;\n    ").concat(e.attribute," vec3 clipSpacePos;\n    ").concat(e.attribute," vec2 uv;\n    ").concat(e.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }");return qEe(t,n)}function dIe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return JEe(t,e)}function hIe(t){const e=new Uint16Array([0,1,2,2,1,3]);return QEe(t,e)}function o0(t,e,n,i,r,o){tTe(e,n);const s=eTe(t),a=t.TEXTURE_2D;return je(t,()=>t.bindTexture(a,s)),je(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),je(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),je(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),je(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),fe().getNumber("WEBGL_VERSION")===1?je(t,()=>t.texImage2D(a,0,i,e,n,0,r,o,null)):je(t,()=>t.texStorage2D(a,1,i,e,n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:s,texShape:[n,e]}}function rj(t){return t.internalFormatFloat}function fIe(t,e,n,i){const[r,o]=i0(e,n);return o0(t,r,o,rj(i),i.textureFormatFloat,t.FLOAT)}function oj(t){return t.internalFormatHalfFloat}function pIe(t,e,n,i){const[r,o]=i0(e,n);return o0(t,r,o,oj(i),i.textureFormatFloat,i.textureTypeHalfFloat)}function sj(t){return t.downloadTextureFormat}function mIe(t,e,n,i){const[r,o]=i0(e,n);return o0(t,r,o,sj(i),t.RGBA,t.UNSIGNED_BYTE)}function aj(t){return t.internalFormatPackedFloat}function gIe(t,e,n,i){const[r,o]=pf(e,n);return o0(t,r,o,aj(i),t.RGBA,t.FLOAT)}function lj(t){return t.internalFormatPackedHalfFloat}function bIe(t,e,n,i){const[r,o]=pf(e,n);return o0(t,r,o,lj(i),t.RGBA,i.textureTypeHalfFloat)}function xIe(t,e,n){return je(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),sN(t,e,"clipSpacePos",n,3,20,0)&&sN(t,e,"uv",n,2,20,12)}function yIe(t,e,n,i,r,o){je(t,()=>t.bindTexture(t.TEXTURE_2D,e));let s,a,l;r instanceof Uint8Array?(s=new Uint8Array(n*i*4),a=t.UNSIGNED_BYTE,l=t.RGBA):(s=new Float32Array(n*i*4),a=t.FLOAT,l=o.internalFormatPackedFloat),s.set(r),fe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,i,t.RGBA,a,s)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,i,0,t.RGBA,a,s)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function vIe(t,e,n){je(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?fe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):fe().getNumber("WEBGL_VERSION")===2?je(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):je(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),je(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function wIe(t,e,n,i){const r=t.createBuffer();je(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,r));const a=4*4*e*n;return je(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),je(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),je(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),r}function kIe(t,e,n){const i=t,r=new Float32Array(n);return i.bindBuffer(i.PIXEL_PACK_BUFFER,e),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,r),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),r}function SIe(t,e,n,i){const[r,o]=i0(e,n),s=4,a=new Uint8Array(BEe(e*n,s));return je(t,()=>t.readPixels(0,0,r,o,i.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function CIe(t,e,n,i,r,o,s,a){const l=t,c=new Float32Array(jEe(o,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function EIe(t,e,n){const i=new Float32Array(e*n*4);return je(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,i)),i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K2{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=fe().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,FEe(n,e)):this.gl=As(n),e=this.gl,fe().getNumber("WEBGL_VERSION")===2){const o=e;this.createVertexArray=()=>je(o,()=>o.createVertexArray()),this.bindVertexArray=s=>je(o,()=>o.bindVertexArray(s)),this.deleteVertexArray=s=>je(o,()=>o.deleteVertexArray(s)),this.getVertexArray=()=>je(o,()=>o.getParameter(o.VERTEX_ARRAY_BINDING))}else if(e!=null){const o=e.getExtension("OES_vertex_array_object");if(o==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>je(e,()=>o.createVertexArrayOES()),this.bindVertexArray=s=>je(e,()=>o.bindVertexArrayOES(s)),this.deleteVertexArray=s=>je(e,()=>o.deleteVertexArrayOES(s)),this.getVertexArray=()=>je(e,()=>e.getParameter(o.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),fe().getNumber("WEBGL_VERSION")===1){const o="OES_texture_float",s="OES_texture_half_float";if(this.textureFloatExtension=rb(this.gl,o),Yo(this.gl,s))this.textureHalfFloatExtension=rb(this.gl,s);else if(fe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),Yo(this.gl,r))this.colorBufferHalfFloatExtension=rb(this.gl,r);else if(fe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",Yo(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else if(Yo(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=dIe(this.gl),this.indexBuffer=hIe(this.gl),this.framebuffer=nTe(this.gl),this.textureConfig=qI(this.gl,this.textureHalfFloatExtension)}get debug(){return fe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;je(e,()=>e.finish()),je(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),je(e,()=>e.deleteFramebuffer(this.framebuffer)),je(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),je(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),je(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),fIe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),pIe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),mIe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),vIe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,i,r){this.throwIfDisposed(),yIe(this.gl,e,n,i,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),bIe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),gIe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(aN(this.gl,this.framebuffer),this.outputTexture=null),je(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,i){return this.downloadMatrixDriver(e,()=>SIe(this.gl,n,i,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,i,r,o,s){return CIe(this.gl,e,n,i,r,o,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return kIe(this.gl,e,n)}createBufferFromTexture(e,n,i){this.bindTextureToFrameBuffer(e);const r=wIe(this.gl,n,i,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,i;if(fe().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),i=()=>{const s=r.clientWaitSync(o,0,0);return s===r.ALREADY_SIGNALED||s===r.CONDITION_SATISFIED},n=o}else fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(n,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:n,isFencePassed:i}}downloadMatrixFromPackedTexture(e,n,i){return this.downloadMatrixDriver(e,()=>EIe(this.gl,n,i))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=uIe(n));const i=YEe(n);je(n,()=>n.attachShader(i,this.vertexShader)),je(n,()=>n.attachShader(i,e)),ZEe(n,i);const r=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&W2(n,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;je(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),xIe(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(je(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&W2(this.gl,this.program),je(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,i=!0){return this.throwIfDisposed(),i?rTe(this.gl,e,n):oTe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),je(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,i){this.throwIfDisposed(),this.throwIfNoProgram(),sTe(this.gl,e,n,i)}setOutputMatrixTexture(e,n,i){this.setOutputMatrixTextureDriver(e,i,n)}setOutputPackedMatrixTexture(e,n,i){this.throwIfDisposed();const[r,o]=pf(n,i);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,n,i,r){this.setOutputMatrixWriteRegionDriver(i,e,r,n)}setOutputPackedMatrixWriteRegion(e,n,i,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&W2(this.gl,this.program),ob(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}je(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),je(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=rb(this.gl,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=i.createQuery();return i.beginQuery(r.TIME_ELAPSED_EXT,o),o}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,i=this.getQueryTimerExtensionWebGL2();n.endQuery(i.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await W_(()=>this.disposed||this.isQueryAvailable(e,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const i=this.gl;return i.getQueryParameter(e,i.QUERY_RESULT)/1e6}else{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=i.getQueryParameter(e,i.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}else{const i=this.getQueryTimerExtensionWebGL1(),r=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=TIe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:i}=this.itemsToPoll[n];i()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in fe().platform&&(i=fe().platform.setTimeoutCustom.bind(fe().platform)),W_(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,i)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),G2(this.gl,e,this.framebuffer),this.debug&&ob(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(G2(this.gl,this.outputTexture,this.framebuffer),this.debug&&ob(this.gl)):aN(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const i=n();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(e,n,i){this.throwIfDisposed();const r=this.gl;G2(r,e,this.framebuffer),this.debug&&ob(r),this.outputTexture=e,je(r,()=>r.viewport(0,0,n,i)),je(r,()=>r.scissor(0,0,n,i))}setOutputMatrixWriteRegionDriver(e,n,i,r){this.throwIfDisposed(),je(this.gl,()=>this.gl.scissor(e,n,i,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function TIe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:IIe,bincountImpl:cj,bincountReduceImpl:$Ie,bitwiseAndImpl:_Ie,castImpl:AIe,ceilImpl:NIe,concatImpl:OIe,equalImpl:DIe,expImpl:RIe,expm1Impl:LIe,floorImpl:zIe,gatherNdImpl:FIe,gatherV2Impl:MIe,greaterImpl:PIe,greaterEqualImpl:BIe,lessImpl:jIe,lessEqualImpl:UIe,linSpaceImpl:VIe,logImpl:HIe,maxImpl:WIe,maximumImpl:GIe,minimumImpl:qIe,multiplyImpl:XIe,negImpl:KIe,notEqualImpl:YIe,prodImpl:ZIe,raggedGatherImpl:JIe,raggedRangeImpl:QIe,raggedTensorToTensorImpl:e5e,rangeImpl:t5e,rsqrtImpl:n5e,scatterImpl:i5e,sigmoidImpl:r5e,simpleAbsImpl:uj,sliceImpl:o5e,sparseFillEmptyRowsImpl:s5e,sparseReshapeImpl:a5e,sparseSegmentReductionImpl:dj,sqrtImpl:l5e,staticRegexReplaceImpl:c5e,stridedSliceImpl:u5e,stringNGramsImpl:d5e,stringSplitImpl:h5e,stringToHashBucketFastImpl:f5e,subImpl:p5e,tileImpl:m5e,topKImpl:g5e,transposeImpl:ZI,uniqueImpl:b5e}=vke;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hj(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>"".concat(t,".").concat(n))}function tr(t,e){return e===1?[t]:hj(t,e)}function x5e(t,e){if(t===1)return"rc";let n="";for(let i=0;i<t;i++)n+=e[i],i<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y5e{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Ji(this.outputShape.length),this.rank===0)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const n=tr("rc",this.rank),i=Xt(this.rank),r=this.getOutOfBoundsCondition(n),o=this.getSetup(n),s=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(i," rc = getOutputCoords();\n\n          if(").concat(r,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(s,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const n=[];for(let i=0;i<=1;i++)for(let r=0;r<=1;r++){let o="".concat(i===0?"r":"rp1",", ").concat(r===0?"c":"cp1");for(let s=2;s<this.rank;s++)o="".concat(e[e.length-1-s],",")+o;n.push(o)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let n="";for(let i=this.rank-2;i<this.rank;i++)n+="".concat(e[i]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(i,"]"):this.outputShape[i]),i<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),i=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(n[0],";\n      int c = ").concat(n[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(i,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}getOutput(e){const n=this.getSourceCoordsArr(e);if(this.rank===1){const i=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(i," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(n[0],"),\n            cEdge ? 0. : getA(").concat(n[1],"),\n            rEdge ? 0. : getA(").concat(n[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(n[3],")")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fj{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length);let i="";for(let r=0;r<4;r++){let o="thisRC = rc;";r%2===1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),i+="\n        ".concat(o,"\n        ").concat(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(r>0?"}":"","\n      ")}this.userCode="\n      ".concat(v5e(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?KI():XI(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}}function v5e(t,e){const n=e?xTe(["r","c","d"],"inputShape"):nd(["r","c","d"],t);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w5e{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,i){const r=hN(n,i),o=fN(e,r,i);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const s=dN(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const l=this.freeTextures[o].pop();return this.usedTextures[o].push(l),l}let a;return r===Ai.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Ai.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Ai.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Ai.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Ai.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),a}releaseTexture(e,n,i,r){if(this.freeTextures==null)return;const o=hN(i,r),s=fN(n,o,r);s in this.freeTextures||(this.freeTextures[s]=[]);const a=dN(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),l=fe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[s],u=c&&c.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[u]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const n=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*n),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function k5e(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(e))}function dN(t,e,n,i,r){const o=S5e(e,i);let s;if(r){const[l,c]=pf(t[0],t[1]);s=l*c}else{const[l,c]=i0(t[0],t[1]);s=l*c}const a=k5e(n,o);return s*a}function S5e(t,e){switch(t){case Ai.PACKED_2X2_FLOAT32:return aj(e);case Ai.PACKED_2X2_FLOAT16:return lj(e);case Ai.UNPACKED_FLOAT32:return rj(e);case Ai.UNPACKED_FLOAT16:return oj(e);case Ai.PACKED_4X1_UNSIGNED_BYTE:return sj(e);default:throw new Error("Unknown physical texture type ".concat(t))}}function C5e(t){return fe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ai.PACKED_2X2_FLOAT32:Ai.UNPACKED_FLOAT32:t?Ai.PACKED_2X2_FLOAT16:Ai.UNPACKED_FLOAT16}function hN(t,e){if(t===uo.UPLOAD)return Ai.PACKED_2X2_FLOAT32;if(t===uo.RENDER||t==null)return C5e(e);if(t===uo.DOWNLOAD||t===uo.PIXELS)return Ai.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(t))}function fN(t,e,n){return"".concat(t[0],"_").concat(t[1],"_").concat(e,"_").concat(n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gs{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const us="if (isnan(x)) return x;",E5e="return x;",pN="return abs(x);",T5e="return (x >= 0.0) ? x : (exp(x) - 1.0);",I5e=us+"\n  return (x < 0.0) ? 0.0 : x;\n",$5e=us+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Sl="return x;",_5e="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A5e="return x;",N5e="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",O5e="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",D5e="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",R5e="return 1.0 / (1.0 + exp(-1.0 * x));";class Rl{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L5e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length);const n=e.length,i=tr("rc",n),r=Xt(n),o=x5e(n,i),s=i.slice(-2),a=n<=1?"rc":"vec2(".concat(s.join(","),")");this.userCode="\n      void main() {\n        ".concat(r," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z5e=RT,F5e=1e-7,M5e=1e-4,lb={};function P5e(t){return t in lb||(lb[t]={}),lb[t]}const B5e=fe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),j5e=600;function U5e(){return fe().global.screen==null?1024:fe().global.screen.height*fe().global.screen.width*window.devicePixelRatio*j5e/1024/1024}class cw extends BC{nextDataId(){return cw.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!fe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof K2)n=e;else{const i=As(fe().getNumber("WEBGL_VERSION"),e);n=new K2(i)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const i=As(fe().getNumber("WEBGL_VERSION"));n=new K2(i),this.binaryCache=P5e(fe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new w5e(this.gpgpu),this.numMBBeforeWarning=U5e(),this.texData=new D9(this,Bs())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,i,r,o,s){const a=this.makeTensorInfo(n,i),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[r,o]},l.texShape=[r,o];const c=sb(n),u=new uN(c,!1,s),d=this.runWebGLProgram(u,[a],i,[[r,o]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),d.dataId}write(e,n,i){if((fe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||fe().getBool("DEBUG"))&&this.checkNumericalProblems(e),i==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:n,dtype:i,values:e,usage:uo.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,i,r,o){if(fe().getBool("DEBUG")&&this.checkNumericalProblems(n),r==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:i,dtype:r,values:n,usage:uo.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:i,dtype:r,complexTensorInfos:o,slice:s,shape:a,isPacked:l}=n;if(s!=null){let h;l?h=new Rl(a,Sl):h=new Gs(a,Sl);const f=this.runWebGLProgram(h,[{dataId:e,shape:a,dtype:r}],r),p=this.readSync(f.dataId);return this.disposeIntermediateTensorInfo(f),p}if(i!=null)return this.convertAndCacheOnCPU(e);if(r==="string")return i;const c=this.activeTimers!=null;let u;c&&(u=pr());let d;if(r==="complex64"){const h=this.readSync(o.real.dataId),f=this.readSync(o.imag.dataId);d=Xa(h,f)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=pr()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:i,shape:r,slice:o,dtype:s,complexTensorInfos:a,isPacked:l}=n;if(o!=null){let p;l?p=new Rl(r,Sl):p=new Gs(r,Sl);const m=this.runWebGLProgram(p,[{dataId:e,shape:r,dtype:s}],s),b=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),b}if(i!=null)return this.convertAndCacheOnCPU(e);if(fe().getBool("DEBUG")&&!fe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&fe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(s!=="complex64"&&fe().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const p=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(p.texture.texture,...ib(r))}this.pendingRead.set(e,[]),s!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(s==="complex64"){const p=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),m=p[0],b=p[1];d=Xa(m,b)}else if(c==null)d=this.getValuesFromTexture(e);else{const p=ge(r);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,p)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const p=this.gpgpu.gl;je(p,()=>p.deleteBuffer(c))}const h=this.convertAndCacheOnCPU(e,d),f=this.pendingRead.get(e);return this.pendingRead.delete(e),f.forEach(p=>p(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Bs().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const i=this.texData.get(e),{values:r,shape:o,slice:s,dtype:a,isPacked:l,texture:c}=i;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(s!=null){let f;l?f=new Rl(o,Sl):f=new Gs(o,Sl);const p=this.runWebGLProgram(f,[{dataId:e,shape:o,dtype:a}],a),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(c==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Bs().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(r=>ec(r));return vt(e.shape,e.dtype,i)}catch(i){throw new Error("Failed to decode encoded string bytes into utf-8")}return vt(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const i=e[n];if(!WEe(i))throw fe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value ".concat(i," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value ".concat(i," cannot be represented on this device."))}}getValuesFromTexture(e){const{shape:n,dtype:i,isPacked:r}=this.texData.get(e),o=ge(n);if(fe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),f=this.texData.get(h.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(f.texture.texture,...ib(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(h),p}const s=fe().getBool("WEBGL_PACK")&&r===!0,a=s?sb(n):n,l=s?new aIe(a):new sIe(a),c=this.runWebGLProgram(l,[{shape:a,dtype:i,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,i=[];let r=!1;this.programTimersStack==null?(this.programTimersStack=i,r=!0):this.activeTimers.push(i),this.activeTimers=i,e();const o=Cu(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),s=Cu(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(o);a.kernelMs=sue(l),a.getExtraProfileInfo=()=>l.map((c,u)=>({name:s[u],ms:c})).map(c=>"".concat(c.name,": ").concat(c.ms)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:pr(),endMs:null}}endTimer(e){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=pr(),e)}async getQueryTime(e){if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:i}=this.texData.get(e);return i!=null&&(this.disposeData(i.real.dataId,n),this.disposeData(i.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:i,texShape:r,usage:o,isPacked:s,slice:a}=this.texData.get(e),l=a&&a.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(r,i),this.textureManager.releaseTexture(n,r,o,s)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=B5e){return fe().getBool("WEBGL_CPU_FORWARD")&&e.every(i=>this.texData.get(i.dataId).texture==null&&ge(i.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){lo("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return z5e(e.shape,n)}packedUnaryOp(e,n,i){const r=new Rl(e.shape,n),o=this.compileAndRun(r,[e],i);return Bs().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const r=uj(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,r)}if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,pN,e.dtype);const n=new Gs(e.shape,pN),i=this.compileAndRun(n,[e]);return Bs().makeTensorFromTensorInfo(i)}makeTensorInfo(e,n,i){let r;if(n==="string"&&i!=null&&i.length>0&&jm(i[0])){const o=i.map(s=>Wl(s));r=this.write(o,e,n)}else r=this.write(i,e,n);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:n}}makeOutput(e,n,i){return Bs().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,i),this)}unpackTensor(e){const n=new L5e(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new y5e(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const i=[Ph(e.shape),...Bh(e.shape)],r={dtype:e.dtype,shape:i,dataId:e.dataId},o=[Ph(n),...Bh(n)],s=new fj(o,i),a=!0,l=[i],c=this.runWebGLProgram(s,[r],e.dtype,l,a);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const i=this.texData.get(e),{isPacked:r,shape:o,dtype:s}=i;if(n!=null){const h=ge(o),f=n[0]*n[1]*4;P(h<=f,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=sb(o);let l;r?l=new oIe(a):l=new rIe(a);const c=!0,u=[n!=null?n:ib(a)],d=this.runWebGLProgram(l,[{shape:a,dtype:s,dataId:e}],s,u,c,n);return{dtype:s,shape:o,dataId:d.dataId}}runWebGLProgram(e,n,i,r,o=!1,s){const a=this.makeTensorInfo(e.outputShape,i),l=this.texData.get(a.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===dm.DENSE){const g=s!=null?s:ib(e.outputShape);l.texShape=g.map(x=>x*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),ge(a.shape)===0)return l.values=Di(a.dtype,0),a;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let x=this.texData.get(g.dataId);if(x.texture==null){if(!e.packedInputs&&ge(g.shape)<=fe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:x.values};e.packedInputs&&(x.isPacked=!0,x.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!x.isPacked!=!!e.packedInputs)g=x.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),x=this.texData.get(g.dataId);else if(x.isPacked&&!r1(x.shape,g.shape)){const y=g,v=g.shape;g.shape=x.shape,g=this.packedReshape(g,v),c.push(g),x=this.texData.get(g.dataId),y.shape=v}return{shape:g.shape,texData:x,isUniform:!1}});this.uploadToGPU(a.dataId);const d={shape:a.shape,texData:l,isUniform:!1},h=iIe(e,u,d),f=this.getAndSaveBinary(h,()=>tIe(this.gpgpu,e,u,d)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),fe().get("ENGINE_COMPILE_ONLY")||nIe(this.gpgpu,f,u,d,r),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const b=fe().getNumber("WEBGL_FLUSH_THRESHOLD");if(b>0){const g=pr();g-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!fe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,i,r,o=!1){return i=i||n[0].dtype,this.runWebGLProgram(e,n,i,r,o)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(fe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ce(()=>{if(!fe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=fe().getBool("DEBUG");fe().set("DEBUG",!1);const n=this.abs(rt(1e-8)).dataSync()[0];if(fe().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?F5e:M5e}uploadToGPU(e){const n=this.texData.get(e),{shape:i,dtype:r,values:o,texture:s,usage:a,isPacked:l}=n;if(s!=null)return;const c=this.activeTimers!=null;let u;c&&(u=pr());let d=n.texShape;if(d==null&&(d=cTe(i,l),n.texShape=d),o!=null){const h=sb(i);let f,p=d[1],m=d[0];const b=o instanceof Uint8Array||o instanceof Uint8ClampedArray;(l||!b)&&([p,m]=pf(d[0],d[1])),l?f=new cIe(h,b):f=new uN(h,b);const g=b?[m,p]:d,x=this.makeTensorInfo(g,r),y=this.texData.get(x.dataId);b?y.usage=uo.PIXELS:y.usage=uo.UPLOAD,y.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),p,m,o);const v=[[m,p]],E=this.runWebGLProgram(f,[x],r,v,!0),C=this.texData.get(E.dataId);n.texShape=C.texShape,n.isPacked=C.isPacked,n.usage=C.usage,fe().get("ENGINE_COMPILE_ONLY")?this.disposeData(E.dataId):(n.texture=C.texture,n.values=null,this.texData.delete(E.dataId)),this.disposeIntermediateTensorInfo(x),c&&(this.uploadWaitMs+=pr()-u)}else{const h=this.acquireTexture(d,a,r,l);n.texture=h}}convertAndCacheOnCPU(e,n){const i=this.texData.get(e),{dtype:r}=i;return n!=null&&(i.values=V5e(n,r)),i.values}acquireTexture(e,n,i,r){if(this.numBytesInGPU+=this.computeBytes(e,i),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(o," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,n,r)}computeBytes(e,n){return e[0]*e[1]*Ox(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const i=new Promise(r=>{try{this.checkCompletion_(n),r(!0)}catch(o){throw o}});e.push(i)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Zz(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(JB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:i,infLoc:r,nanLoc:o,outShapeLocation:s,outShapeStridesLocation:a,outTexShapeLocation:l}=ij(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=i,e.infLoc=r,e.nanLoc=o,e.outShapeLocation=s,e.outShapeStridesLocation=a,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,i){e.channels=e.channels||"RGBA";const{texture:r,height:o,width:s,channels:a}=e,l=Bs().backend;if(!l.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(r,n,i,o,s,a);return Bs().makeTensorFromDataId(c,n,i,l)}}cw.nextDataId=0;function V5e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let i=0;i<n.length;++i)n[i]=Math.round(t[i]);return n}else throw new Error("Unknown dtype ".concat(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rL()&&aL("webgl",()=>new cw,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JI="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class zu{constructor(e,n,i){this.variableNames=["A","B"],this.outputShape=mt(n,i),this.enableShapeUniforms=Ji(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rd="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class yf{constructor(e,n,i,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=mt(n,i);const o=this.outputShape.length;this.enableShapeUniforms=Ji(o);let s="";if(r)if(o===0||ge(this.outputShape)===1)s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const a=Xt(o);if(s="\n          ".concat(a," coords = getOutputCoords();\n        "),o===1)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const l=tr("coords",o);this.enableShapeUniforms?s+="\n            bool nextRowOutOfBounds =\n              (".concat(l[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(l[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):s+="\n            bool nextRowOutOfBounds =\n              (".concat(l[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(s,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yr(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const H5e={kernelName:lg,backendName:"webgl",kernelFunc:Yr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tc(t){const{inputs:e,backend:n}=t,{real:i,imag:r}=e,o=n.makeTensorInfo(i.shape,"complex64"),s=n.texData.get(o.dataId),a=Yr({inputs:{x:i},backend:n}),l=Yr({inputs:{x:r},backend:n});return s.complexTensorInfos={real:a,imag:l},o}const W5e={kernelName:YC,backendName:"webgl",kernelFunc:Tc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pj="return (a < 0.) ? b * a : a;",mj="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function G5e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{alpha:o}=i,s=n.makeTensorInfo([],"float32",gc(o,"float32")),a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new yf(mj,r.shape,s.shape):new zu(pj,r.shape,s.shape),l=n.runWebGLProgram(a,[r,s],"float32");return n.disposeIntermediateTensorInfo(s),l}const q5e={kernelName:Uy,backendName:"webgl",kernelFunc:G5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gj="return (a < 0.) ? b * a : a;",bj="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function X5e(t){const{inputs:e,backend:n}=t,{x:i,alpha:r}=e,o=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new yf(bj,i.shape,r.shape):new zu(gj,i.shape,r.shape);return n.runWebGLProgram(o,[i,r],"float32")}const K5e={kernelName:av,backendName:"webgl",kernelFunc:X5e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vf="if (isnan(x)) return x;";function zt({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:i}){return({inputs:r,backend:o})=>{const{x:s}=r,a=o,l=i||s.dtype;if(a.shouldExecuteOnCPU([s])&&n!=null){const d=a.texData.get(s.dataId),h=n(d.values,l);return a.makeTensorInfo(s.shape,l,h)}const c=fe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new Rl(s.shape,e):u=new Gs(s.shape,t),a.runWebGLProgram(u,[s],l)}}function Bi({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:i=!1,cpuKernelImpl:r,dtype:o}){return({inputs:s,backend:a})=>{const{a:l,b:c}=s,u=a;if(i&&l.dtype==="complex64"){const p=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[b,g]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(y=>{const[v,w]=y,E={dataId:v.dataId,dtype:v.dtype,shape:l.shape},C={dataId:w.dataId,dtype:w.dtype,shape:c.shape},I=new zu(t,l.shape,c.shape);return u.runWebGLProgram(I,[E,C],qr(v.dtype,w.dtype))}),x=Tc({inputs:{real:b,imag:g},backend:u});return u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(g),x}const d=o||qr(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&r!=null){const p=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,b=l.dtype==="string"?Ka(p):p,g=l.dtype==="string"?Ka(m):m,[x,y]=r(l.shape,c.shape,b,g,d),v=u.makeTensorInfo(y,d),w=u.texData.get(v.dataId);return w.values=x,v}const h=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let f;return h?f=new yf(e,l.shape,c.shape,n):f=new zu(t,l.shape,c.shape),u.runWebGLProgram(f,[l,c],d)}}function hm(t,e=!1){if(t==="linear")return e?A5e:E5e;if(t==="relu")return e?O5e:I5e;if(t==="elu")return e?N5e:T5e;if(t==="relu6")return e?D5e:$5e;if(t==="prelu")return e?bj:gj;if(t==="leakyrelu")return e?mj:pj;if(t==="sigmoid")return e?R5e:_5e;throw new Error("Activation ".concat(t," has not been implemented for the WebGL backend."))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xj{constructor(e,n,i,r=!1,o=!1,s=!1,a=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=Ji(this.outputShape.length);const u=r?e[1]:e[2],d=Math.ceil(u/2),h=r?"i * 2, rc.y":"rc.y, i * 2",f=o?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",g="";a&&(l?b="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(a,"\n        }"):c?b="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(a,"\n        }"):b="vec4 activation(vec4 x) {\n          ".concat(a,"\n        }"),g="result = activation(result);");const x=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<n[0]?y="imod(rc.x, ".concat(e[0],")"):n[0]<e[0]&&(v="imod(rc.x, ".concat(n[0],")")),this.userCode="\n      ".concat(b,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(y,";\n        int batchB = ").concat(v,";\n        for (int i = 0; i < ").concat(d,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(h,");\n          vec4 b = getMatrixB(batchB, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(m[0],");\n          result += (").concat(p[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(x,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mN={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class gN{constructor(e,n,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=mt(n,i),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bN="return a * b;";function QI(t){const{inputs:e,backend:n}=t,{a:i,b:r}=e,o=qr(i.dtype,r.dtype);if(i.dtype==="complex64"){const a=n.texData.get(i.dataId),l=n.texData.get(r.dataId),c=new gN(mN.REAL,i.shape,r.shape),u=new gN(mN.IMAG,i.shape,r.shape),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:r.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:r.shape}],h=n.runWebGLProgram(c,d,"float32"),f=n.runWebGLProgram(u,d,"float32"),p=Tc({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}if(n.shouldExecuteOnCPU([i,r])){const a=n.texData.get(i.dataId),l=n.texData.get(r.dataId),[c,u]=XIe(i.shape,r.shape,a.values,l.values,o),d=n.makeTensorInfo(u,o),h=n.texData.get(d.dataId);return h.values=c,d}let s;return fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?s=new yf(bN,i.shape,r.shape):s=new zu(bN,i.shape,r.shape),n.runWebGLProgram(s,[i,r],o)}const Y5e={kernelName:bg,backendName:"webgl",kernelFunc:QI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5e(t,e,n){const i=[Ph(t.shape),...Bh(t.shape)],r={dtype:t.dtype,shape:i,dataId:t.dataId},o=[Ph(e),...Bh(e)],s=new fj(o,i),a=!0,l=[i],c=n.runWebGLProgram(s,[r],t.dtype,l,a);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{shape:o}=i,s=n,a=ge(r.shape),l=R9(o,a),c=ge(l);P(a===c,()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(r.shape,") has ").concat(a," elements. The new shape and old ")+"shape must have the same number of elements.");const u=s.texData.get(r.dataId);return u.isPacked&&!r1(r.shape,l)&&!(u.texture!==null&&r1(u.shape,l))?Z5e(r,l,s):(s.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype})}const J5e={kernelName:cv,backendName:"webgl",kernelFunc:Pe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xN{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:o,outSize:s}=e;this.outputShape=[r,s];const a=Math.floor(i/4)*4,l=i%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c="sumValue += dot(values * ".concat($h(d)?d.toPrecision(2):d,", ones);")}let u="";o%i>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(a,";\n        if (").concat(l===1,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(l===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q5e{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:o,outSize:s}=e;this.outputShape=[r,s];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(i/4)*4,d=i%4;let h="\n      if (".concat(n==="sum",") {\n        sumValue += dot(values, ones);\n      } else if (").concat(n==="prod",") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(l,"(values, minMaxValue);\n        if (").concat(n==="min"," || ").concat(n==="max",") {\n          minMaxValue = ").concat(l,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),f="vec4";n==="all"?(a="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):n==="any"&&(a="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");let p="";o%i>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(a,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(i,";\n\n        vec4 minMaxValue = vec4(").concat(a,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e6e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],i=qv(n);e.push({inSize:n,windowSize:i,outSize:Math.ceil(n/i)})}return e}function od(t,e,n,i){const r=e6e(t.shape);let o=t;for(let s=0;s<r.length;s++){const{inSize:a,windowSize:l,outSize:c}=r[s];let u,d;n==="mean"?u=s===0?new xN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},a):new xN({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c}):u=new Q5e({windowSize:l,inSize:a,batchSize:t.shape[0],outSize:c},n),d=o,o=i.runWebGLProgram(u,[o],e),d.dataId!==t.dataId&&i.disposeIntermediateTensorInfo(d)}return o}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t6e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let s=0;s<i.length;s++)i[s]=e[n[s]];this.outputShape=i,this.rank=i.length;const r=Xt(this.rank),o=n6e(n);this.userCode="\n    void main() {\n      ".concat(r," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}}function n6e(t){const e=t.length;if(e>6)throw Error("Transpose for rank ".concat(e," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(e);for(let r=0;r<t.length;r++)i[t[r]]=n[r];return i.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i6e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(e.length);for(let u=0;u<i.length;u++)i[u]=e[n[u]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const r=Xt(this.rank),o=hj("rc",this.rank),s=new Array(this.rank);for(let u=0;u<n.length;u++)s[n[u]]=o[u];const a="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(i[this.rank-1]),c="getChannel(getA(".concat(s.join(),"), ").concat(a,")");this.userCode="\n    void main() {\n      ".concat(r," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(c,";\n      if(").concat(l,") {\n        result[1] = ").concat(c,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(i[this.rank-2],") {\n        result[2] = ").concat(c,";\n        if(").concat(l,") {\n          result[3] = ").concat(c,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uw(t,e,n){const i=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new i6e(t.shape,e):new t6e(t.shape,e);return n.runWebGLProgram(i,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r6e(t,e,n,i){const r=e,o=t.shape.length,s=Tt(r,t.shape);let a=s;const l=_n(a,o),c=l!=null;let u=t;c&&(u=uw(t,l,i),a=Wn(a.length,o)),Mi("sum",a,o);const[d,h]=wi(u.shape,a);let f=d;n&&(f=Hn(d,s));const p=ge(h),b=ge(t.shape)/p,g=Pe({inputs:{x:u},attrs:{shape:[b,p]},backend:i}),x=KE(t.dtype),y=od(g,x,"sum",i),v=Pe({inputs:{x:y},attrs:{shape:f},backend:i});return i.disposeIntermediateTensorInfo(g),i.disposeIntermediateTensorInfo(y),c&&i.disposeIntermediateTensorInfo(u),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dw(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i;return r6e(r,o,s,n)}const o6e={kernelName:mv,backendName:"webgl",kernelFunc:dw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lr(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{perm:o}=i,s=n,a=r.shape.length,l=new Array(a);for(let u=0;u<l.length;u++)l[u]=r.shape[o[u]];let c;if(s.shouldExecuteOnCPU([r])){const d=s.texData.get(r.dataId).values,h=ZI(d,r.shape,r.dtype,o,l);c=s.makeTensorInfo(l,r.dtype);const f=s.texData.get(c.dataId);f.values=h}else c=uw(r,o,s);return c}const s6e={kernelName:ah,backendName:"webgl",kernelFunc:lr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yj=1e3;function o1({a:t,b:e,transposeA:n,transposeB:i,backend:r,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:a=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],h=i?e.shape[u-1]:e.shape[u-2],f=n?t.shape[c-1]:t.shape[c-2],p=i?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),b=e.shape.slice(0,-2),g=ge(m),x=ge(b),v=mt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([f,p]);P(d===h,()=>"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(e.shape," and transposeA=").concat(n)+" and transposeB=".concat(i," must match."));const w=n?[g,d,f]:[g,f,d],E=i?[x,p,h]:[x,h,p],C=Pe({inputs:{x:t},backend:r,attrs:{shape:w}}),I=Pe({inputs:{x:e},backend:r,attrs:{shape:E}}),T=[C,I],_=Math.max(g,x),M=n?C.shape[1]:C.shape[2],D=o!=null,z=s!=null,$=l==="leakyrelu",F=l!=null?hm(l,!0):null,j=D||z||$||F!=null;let W;if((f===1||p===1)&&M>yj&&j===!1){let B=C,K=I;n&&(B=lr({inputs:{x:C},backend:r,attrs:{perm:[0,2,1]}}),T.push(B)),i&&(K=lr({inputs:{x:I},backend:r,attrs:{perm:[0,2,1]}}),T.push(K));const q=p!==1,G=p===1;let le=B;q&&(le=Pe({inputs:{x:B},backend:r,attrs:{shape:[_,M,1]}}),T.push(le));const oe=p===1?2:1;let re=K;G&&(re=Pe({inputs:{x:K},backend:r,attrs:{shape:[_,1,M]}}),T.push(re));const we=QI({inputs:{a:le,b:re},backend:r});W=dw({inputs:{x:we},backend:r,attrs:{axis:oe,keepDims:!0}}),T.push(we)}else{const B=qr(t.dtype,e.dtype),K=new xj(w,E,[_,f,p],n,i,D,F,z,$),q=[C,I];if(o!=null&&q.push(o),z&&q.push(s),$){const G=r.makeTensorInfo([],"float32",gc(a,"float32"));q.push(G),T.push(G)}W=r.runWebGLProgram(K,q,B)}const V=Pe({inputs:{x:W},backend:r,attrs:{shape:v}});T.push(W);for(const B of T)r.disposeIntermediateTensorInfo(B);return V}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a6e(t){const{inputs:e,backend:n,attrs:i}=t,{a:r,b:o,bias:s,preluActivationWeights:a}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;return o1({a:r,b:o,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:a,leakyreluAlpha:d,activation:u})}const l6e={kernelName:Dx,backendName:"webgl",kernelFunc:a6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yN="return abs(x);";function c6e(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])&&i.dtype!=="complex64"){const o=n.texData.get(i.dataId),s=uj(o.values);return n.makeTensorInfo(i.shape,i.dtype,s)}let r;return fe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Rl(i.shape,yN):r=new Gs(i.shape,yN),n.runWebGLProgram(r,[i],i.dtype)}const u6e={kernelName:vy,backendName:"webgl",kernelFunc:c6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d6e=us+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",h6e=zt({opSnippet:d6e}),f6e={kernelName:Um,backendName:"webgl",kernelFunc:h6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p6e=us+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",m6e=zt({opSnippet:p6e}),g6e={kernelName:Vm,backendName:"webgl",kernelFunc:m6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vN="return a + b;",b6e=Bi({opSnippet:vN,packedOpSnippet:vN,supportsComplex:!0,cpuKernelImpl:IIe}),x6e={kernelName:af,backendName:"webgl",kernelFunc:b6e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class y6e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((o,s)=>"T".concat(s));const i=[];this.variableNames.forEach(o=>{i.push("float v".concat(o," = get").concat(o,"AtOutCoords();"))});const r=this.variableNames.map(o=>"v".concat(o)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        float result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v6e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((o,s)=>"T".concat(s));const i=[];this.variableNames.forEach(o=>{i.push("vec4 v".concat(o," = get").concat(o,"AtOutCoords();"))});const r=this.variableNames.map(o=>"v".concat(o)).join(" + ");this.userCode="\n      void main() {\n        ".concat(i.join("\n        "),"\n\n        vec4 result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ob(t){const{inputs:e,backend:n}=t,i=e;if(i.length===1)return Yr({inputs:{x:i[0]},backend:n});if(i.length>fe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(i.length/2),c=Ob({inputs:i.slice(0,l),backend:n}),u=Ob({inputs:i.slice(l),backend:n});return Ob({inputs:[c,u],backend:n})}const r=i.map(l=>l.dtype).reduce((l,c)=>qr(l,c)),o=i.map(l=>l.shape),a=fe().getBool("WEBGL_PACK")?new v6e(i[0].shape,o):new y6e(i[0].shape,o);return n.runWebGLProgram(a,i,r)}const w6e={kernelName:wy,backendName:"webgl",kernelFunc:Ob};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i,a=r.shape.length,l=Tt(o,r.shape);let c=l;const u=_n(c,a);let d=r;u!=null&&(d=lr({inputs:{x:r},backend:n,attrs:{perm:u}}),c=Wn(c.length,a)),Mi("all",c,a);const[h,f]=wi(d.shape,c),p=ge(f),m=Pe({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),b=od(m,m.dtype,"all",n);let g;if(s){const x=Hn(h,l);g=Pe({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Pe({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const S6e={kernelName:HC,backendName:"webgl",kernelFunc:k6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i,a=r.shape.length,l=Tt(o,r.shape);let c=l;const u=_n(c,a);let d=r;u!=null&&(d=lr({inputs:{x:r},backend:n,attrs:{perm:u}}),c=Wn(c.length,a)),Mi("any",c,a);const[h,f]=wi(d.shape,c),p=ge(f),m=Pe({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),b=od(m,m.dtype,"any",n);let g;if(s){const x=Hn(h,l);g=Pe({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Pe({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const E6e={kernelName:WC,backendName:"webgl",kernelFunc:C6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T6e{constructor(e,n,i){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:s}=e;i||this.variableNames.push("bestIndicesA"),this.outputShape=[o,s];const a=n==="max"?">":"<",l=i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(r,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          int inIdx = ").concat(l,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(a," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class I6e{constructor(e,n,i,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,P(e.length>2,()=>"Packed arg".concat(i.charAt(0).toUpperCase()+i.slice(1)," supports only inputs with rank above 2."));const o=e[e.length-1],s=Math.ceil(o/n);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,c=Xt(l),u=tr("coords",l);let d,h;if(s===1){h=l+1;const I=Xt(h);d="\n        ".concat(I," sourceLocR = ").concat(I,"(").concat(u.join(),", 0);\n        ++").concat(u[l-1],";\n        ").concat(I," sourceLocG = ").concat(I,"(").concat(u.join(),", 0);\n        ++").concat(u[l-2],";\n        ").concat(I," sourceLocA = ").concat(I,"(").concat(u.join(),", 0);\n        --").concat(u[l-1],";\n        ").concat(I," sourceLocB = ").concat(I,"(").concat(u.join(),", 0);\n        --").concat(u[l-2],";")}else h=l,d="\n        ".concat(c," sourceLocR = coords;\n        ++").concat(u[l-1],";\n        ").concat(c," sourceLocG = coords;\n        ++").concat(u[l-2],";\n        ").concat(c," sourceLocA = coords;\n        --").concat(u[l-1],";\n        ").concat(c," sourceLocB = coords;\n        --").concat(u[l-2],";");const f=["x","y","z","w","u","v"].slice(0,h),p="."+f[h-1],m=f.map(I=>"int "+I),b=tr("sourceLocR",h-1).concat("inIdx.r"),g=tr("sourceLocG",h-1).concat("inIdx.g"),x=tr("sourceLocB",h-1).concat("inIdx.b"),y=tr("sourceLocA",h-1).concat("inIdx.a"),v=i==="max"?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),")));"),E="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(y.join(),") : 0.)"),C=r?"":"\n      float getBestIndicesAChannel(".concat(m.join(),") {\n        return getChannel(getBestIndicesA(").concat(f.join(),"),\n                                          vec2(").concat(f.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(m.join(),") {\n        return getChannel(getA(").concat(f.join(),"),\n                               vec2(").concat(f.slice(-2).join(),"));\n      }\n      ").concat(C,"\n      void main() {\n        ").concat(c," coords = getOutputCoords();\n        bool hasNextCol = ").concat(u[l-1]," < ").concat(a[l-1]-1,";\n        bool hasNextRow = ").concat(u[l-2]," < ").concat(a[l-2]-1,";\n        ").concat(d,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(p,", sourceLocG").concat(p,",\n          sourceLocB").concat(p,", sourceLocA").concat(p,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(E,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(E,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(v,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vj(t,e,n,i=null){let r=e.shape[0],o=e.shape[1];i!=null&&(r=i.shape[0],o=i.shape[1]);const s=qv(o),a={windowSize:s,inSize:o,batchSize:r,outSize:Math.ceil(o/s)},l=new T6e(a,n,i==null),c=[e];i!=null&&c.push(i);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=vj(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function wj(t,e,n,i=null){const r=i!=null?i.shape:e.shape,o=r[r.length-1],s=qv(o),a=new I6e(r,s,n,i==null),l=i==null?[e]:[e,i],c=t.runWebGLProgram(a,l,"int32");if(c.shape.length===e.shape.length){const u=wj(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function kj(t,e,n,i){const r=[n];if(Mi("arg"+i.charAt(0).toUpperCase()+i.slice(1),r,e.shape.length),!fe().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const o=[],s=t.texData.get(e.dataId),a=s!==null&&s.isPacked;let l=e;a&&(l=t.unpackTensor(e),o.push(l));const[c,u]=wi(l.shape,r),d=ge(u),h=Pe({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});o.push(h);const f=vj(t,h,i);o.push(f);const p=Pe({inputs:{x:f},backend:t,attrs:{shape:c}});return o.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return wj(t,e,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o}=i;let s=Tt(o,r.shape);const a=_n(s,r.shape.length);let l=r;const c=[];a!=null&&(l=lr({inputs:{x:r},backend:n,attrs:{perm:a}}),c.push(l),s=Wn(s.length,l.shape.length)),Mi("argMax",[s[0]],l.shape.length);const u=kj(n,l,s[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const _6e={kernelName:ky,backendName:"webgl",kernelFunc:$6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o}=i;let s=Tt(o,r.shape);const a=_n(s,r.shape.length);let l=r;const c=[];a!=null&&(l=lr({inputs:{x:r},backend:n,attrs:{perm:a}}),c.push(l),s=Wn(s.length,l.shape.length)),Mi("argMin",[s[0]],l.shape.length);const u=kj(n,l,s[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const N6e={kernelName:Sy,backendName:"webgl",kernelFunc:A6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O6e=us+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",D6e=zt({opSnippet:O6e}),R6e={kernelName:Hm,backendName:"webgl",kernelFunc:D6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L6e=us+"return log(x + sqrt(x * x + 1.0));",z6e=zt({opSnippet:L6e}),F6e={kernelName:Wm,backendName:"webgl",kernelFunc:z6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M6e=us+"\n  return atan(x);\n",P6e=zt({opSnippet:M6e}),B6e={kernelName:Gm,backendName:"webgl",kernelFunc:P6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j6e=JI+"\n  return atan(a, b);\n",U6e="\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+rd+"\n  return result;\n",V6e=Bi({opSnippet:j6e,packedOpSnippet:U6e}),H6e={kernelName:Xm,backendName:"webgl",kernelFunc:V6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W6e=us+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",G6e=zt({opSnippet:W6e}),q6e={kernelName:qm,backendName:"webgl",kernelFunc:G6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fm{constructor(e,n,i,r=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,a=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",b="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let x="0.0";if(m||(x="-1.0 / 1e-20"),i){const I=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n        const ivec2 pads = ivec2(").concat(f,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(u,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(I," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(r?o?b:g:"wR * ".concat(h," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const y="max";let v="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(v="avgValue / max(count, 1.0)");const w=Math.floor(s/4)*4,E=s%4,C="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(y,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(p,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              getValue(batch, xR, xC + 3 * ").concat(u,", d)\n            );\n\n            ").concat(C,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(E===1,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(C,"\n          } else if (").concat(E===2,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(C,"\n          } else if (").concat(E===3,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(u,", d),\n              getValue(batch, xR, xC + 2 * ").concat(u,", d),\n              initializationValue\n            );\n\n            ").concat(C,"\n          }\n        }\n        setOutput(").concat(v,");\n      }\n    ")}}class e5{constructor(e,n,i,r=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,a=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,f=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,b=e.padInfo.front,g=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;const y=n==="avg";let v="0.0";if(y||(v="-1.0 / 1e-20"),i){const _=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(f,";\n              wD += ").concat(u,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(h,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(_," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(r?o?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(p," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ");return}const w="max";let E="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(E="avgValue / max(count, 1.0)");const C=Math.floor(s/4)*4,I=s%4,T="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(a,", ").concat(l,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(b,", ").concat(g,", ").concat(x,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(u,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(C,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(h,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(C,";\n            if (").concat(I===1,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(I===2,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(I===3,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n        }\n        setOutput(").concat(E,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e;r0(r,"avgPool");const{filterSize:o,strides:s,pad:a,dimRoundingMode:l}=i,c=1;P(Fi(s,c),()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ls(r.shape,o,s,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))return Yr({inputs:{x:r},backend:n});const d=new fm(u,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}const K6e={kernelName:Cy,backendName:"webgl",kernelFunc:X6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y6e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{filterSize:o,strides:s,pad:a,dimRoundingMode:l,dataFormat:c}=i,u=[1,1,1],d=el(r.shape,o,s,u,a,l,c),h=new e5(d,"avg",!1);return n.runWebGLProgram(h,[r],"float32")}const Z6e={kernelName:Ey,backendName:"webgl",kernelFunc:Y6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class J6e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,r=e.strideHeight,o=e.strideWidth,s=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,h=1/(n*i);this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(d,");\n      const float avgMultiplier = float(").concat(h,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(l,";\n            wR += ").concat(s,") {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(a,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Q6e{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,r=e.filterWidth,o=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=h-1-e.padInfo.top,b=f-1-e.padInfo.left,g=1/(n*i*r);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(m,", ").concat(b,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(l,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(h,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e$e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,s=o,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=el(s.shape,a,l,d,c,u),f=new Q6e(h);return n.runWebGLProgram(f,[r],s.dtype)}const t$e={kernelName:qC,backendName:"webgl",kernelFunc:e$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n$e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,s=o;r0([r,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:c}=i,u=ls(s.shape,a,l,1,c),d=new J6e(u);return n.runWebGLProgram(d,[r],s.dtype)}const i$e={kernelName:GC,backendName:"webgl",kernelFunc:n$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r$e(t){const{inputs:e,backend:n,attrs:i}=t,{a:r,b:o}=e,{transposeA:s,transposeB:a}=i;return o1({a:r,b:o,transposeA:s,transposeB:a,backend:n})}const o$e={kernelName:Ty,backendName:"webgl",kernelFunc:r$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s$e{constructor(e,n,i,r,o,s){this.outputShape=[],this.variableNames=["x","mean","variance"],mt(e,n),mt(e,i);let a="0.0";r!=null&&(mt(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";o!=null&&(mt(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(a,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(s,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a$e{constructor(e,n,i,r,o,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],mt(e,n),mt(e,i);let a="vec4(0.0)";r!=null&&(mt(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";o!=null&&(mt(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(a,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(s,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l$e=({inputs:t,backend:e,attrs:n})=>{const{x:i,mean:r,variance:o,offset:s,scale:a}=t;P(r.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),P(s==null||r.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),P(a==null||r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[i,r,o];let u=null;s!=null&&(u=s.shape,c.push(s));let d=null;a!=null&&(d=a.shape,c.push(a));const h=fe().getBool("WEBGL_PACK_NORMALIZATION")?new a$e(i.shape,r.shape,o.shape,u,d,l):new s$e(i.shape,r.shape,o.shape,u,d,l);return e.runWebGLProgram(h,c,c[0].dtype)},c$e={kernelName:Py,backendName:"webgl",kernelFunc:l$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u$e{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Xt(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=d$e(this.rank);let r;const o=e.map((s,a)=>"sourceLoc.".concat(TS[a]," = start[").concat(a,"] + coords.").concat(TS[a],";"));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")}}const TS=["x","y","z","w","u","v"];function d$e(t){if(t===1)return"sourceLoc";if(t<=6)return TS.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error("Slicing for rank ".concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class h$e{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Xt(this.rank),i=tr("coords",this.rank),r=tr("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2(".concat(r.slice(-2).join(),")"),s="getChannel(getSource(".concat(r.join(),"), ").concat(o,")"),a="\n      result.x = ".concat(s,";\n      if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(r[this.rank-1],";\n        result.y = ").concat(s,";\n        --").concat(r[this.rank-1],";\n      }\n    "),l=this.rank===1?"":"\n      --".concat(i[this.rank-1],";\n      if (++").concat(i[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(r[this.rank-2],";\n        result.z = ").concat(s,";\n        if (++").concat(i[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(r[this.rank-1],";\n          result.w = ").concat(s,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(e.map((u,d)=>"start[".concat(d,"]")).join(),");"):e.map((u,d)=>"".concat(r[d]," = ").concat(i[d]," + start[").concat(d,"];")).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(a,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f$e(t,e,n,i){const r=i.texData.get(t.dataId),o=i.makeTensorInfo(n,t.dtype),s=i.texData.get(o.dataId);Object.assign(s,r),s.refCount=1,s.shape=n,s.dtype=t.dtype;let a=XT(e,it(t.shape));r.slice&&(a+=r.slice.flatOffset),s.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||t.dataId};const l=i.dataRefCount.get(s.slice.origDataId)||1;return i.dataRefCount.set(s.slice.origDataId,l+1),o}function wf(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{begin:o,size:s}=i,[a,l]=Gv(r,o,s);if(WT(r,a,l),ge(l)===0)return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||r.dtype==="string"){const d=n.texData.get(r.dataId),h=o5e(d.values,a,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,h)}const{isPacked:c}=n.texData.get(r.dataId),u=qT(r.shape,a,l);if(c||!u){const d=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new h$e(l):new u$e(l),h=[a];return n.runWebGLProgram(d,[r],r.dtype,h)}return n.uploadToGPU(r.dataId),f$e(r,a,l,n)}const p$e={kernelName:pv,backendName:"webgl",kernelFunc:wf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$e=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockShape:o,crops:s}=i;P(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((x,y)=>x*y),l=Wg(r.shape,o,a),c=Gg(l.length,o.length),u=qg(r.shape,o,a),d=QT(s,o.length),h=eI(u,s,o.length),f=[],p=Pe({inputs:{x:r},backend:n,attrs:{shape:l}}),m=lr({inputs:{x:p},backend:n,attrs:{perm:c}}),b=Pe({inputs:{x:m},backend:n,attrs:{shape:u}}),g=wf({inputs:{x:b},backend:n,attrs:{begin:d,size:h}});return f.push(p),f.push(m),f.push(b),f.forEach(x=>n.disposeIntermediateTensorInfo(x)),g},g$e={kernelName:Iy,backendName:"webgl",kernelFunc:m$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,weights:o}=e,{size:s}=i,a=n.readSync(r.dataId),l=n.readSync(o.dataId),c=cj(a,l,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,c)}const x$e={kernelName:XC,backendName:"webgl",kernelFunc:b$e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y$e="\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",v$e="\n  return float(int(a.r) & int(b.r));\n";function w$e(t){const{inputs:e,backend:n}=t,{a:i,b:r}=e,o=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=fe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([i,r])||s===1){const l=n.texData.get(i.dataId).values,c=n.texData.get(r.dataId).values,[u,d]=_Ie(i.shape,r.shape,l,c,i.dtype),h=n.makeTensorInfo(d,i.dtype),f=n.texData.get(h.dataId);return f.values=u,h}let a;return o?a=new yf(y$e,i.shape,r.shape,!1):a=new zu(v$e,i.shape,r.shape),n.runWebGLProgram(a,[i,r],i.dtype)}const k$e={kernelName:$y,backendName:"webgl",kernelFunc:w$e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S$e(t){const{inputs:e,backend:n}=t,{s0:i,s1:r}=e,o=n.readSync(i.dataId),s=n.readSync(r.dataId),a=mt(Array.from(o),Array.from(s));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const C$e={kernelName:KC,backendName:"webgl",kernelFunc:S$e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E$e="return float(a != b);",Sj=Bi({opSnippet:E$e,cpuKernelImpl:YIe,dtype:"bool"}),T$e={kernelName:nv,backendName:"webgl",kernelFunc:Sj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s0(t){const{inputs:e,backend:n}=t,{input:i}=e,r=n.texData.get(i.dataId);return Yr({inputs:{x:r.complexTensorInfos.real},backend:n})}const I$e={kernelName:$E,backendName:"webgl",kernelFunc:s0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $$e="return float(int(x));";function _$e(t,e){const n=new Gs(t.shape,$$e),i=e.runWebGLProgram(n,[t],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IS(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{dtype:o}=i;if(o==="complex64"){if(r.dtype==="complex64")return Yr({inputs:{x:r},backend:n});const s=Qn(r.shape),a=IS({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),l=Tc({inputs:{real:a,imag:s},backend:n});return s.dispose(),n.disposeIntermediateTensorInfo(a),l}if(r.dtype==="complex64"){const s=s0({inputs:{input:r},backend:n}),a=IS({inputs:{x:s},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(s),a}if(!L9(r.dtype,o)){const s=Yr({inputs:{x:r},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:o}}if(n.shouldExecuteOnCPU([r])){const s=n.texData.get(r.dataId).values,[a,l,c]=AIe(s,r.shape,r.dtype,o);return n.makeTensorInfo(a,l,c)}if(o==="int32")return _$e(r,n);if(o==="bool"){const s=n.makeTensorInfo([],"bool",Di("bool",1)),l=Sj({inputs:{a:r,b:s},backend:n});return n.disposeIntermediateTensorInfo(s),l}throw new Error("Error in Cast: failed to cast ".concat(r.dtype," to ").concat(o))}const A$e={kernelName:Km,backendName:"webgl",kernelFunc:IS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wN="return ceil(x);",N$e=zt({opSnippet:wN,packedOpSnippet:wN,cpuKernelImpl:NIe}),O$e={kernelName:Ym,backendName:"webgl",kernelFunc:N$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D$e{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R$e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{clipValueMin:o,clipValueMax:s}=i;let a;fe().getBool("WEBGL_PACK_CLIP")?a=new R$e(r.shape):a=new D$e(r.shape);const l=[[o],[s]];return n.runWebGLProgram(a,[r],r.dtype,l)}const z$e={kernelName:Zm,backendName:"webgl",kernelFunc:L$e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class F$e{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kN(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function M$e(t){const{inputs:e,backend:n}=t,{x:i}=e,r=n.texData.get(i.dataId),o=new F$e(i.shape),s=[kN(i,r.complexTensorInfos.real),kN(i,r.complexTensorInfos.imag)];return n.runWebGLProgram(o,s,s[0].dtype)}const P$e={kernelName:_y,backendName:"webgl",kernelFunc:M$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B$e{constructor(e){this.outputShape=[],this.outputShape=Js(e,1),this.variableNames=e.map((s,a)=>"T".concat(a));const n=new Array(e.length-1);n[0]=e[0][1];for(let s=1;s<n.length;s++)n[s]=n[s-1]+e[s][1];const i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")];for(let s=1;s<n.length;s++){const a=n[s-1];i.push("else if (yC < ".concat(n[s],") ")+"setOutput(getT".concat(s,"(yR, yC-").concat(a,"));"))}const r=n.length,o=n[n.length-1];i.push("else setOutput(getT".concat(r,"(yR, yC-").concat(o,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j$e{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Js(e,n);const i=this.outputShape,r=i.length,o=Xt(r),s=tr("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((m,b)=>"T".concat(b));const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=a[n],u=a.slice(-2),d=a.join();let h="if (".concat(c," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(d,"), vec2(").concat(u.join(),"));\n        }");for(let m=1;m<l.length;m++){const b=l[m-1];h+="\n        if (".concat(c," < ").concat(l[m],"  && ").concat(c," >= ").concat(l[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(cb(a,c,b),"),\n            vec2(").concat(cb(u,c,b),"));\n        }")}const f=l.length,p=l[l.length-1];h+="\n        return getChannel(\n          getT".concat(f,"(").concat(cb(a,c,p),"),\n          vec2(").concat(cb(u,c,p),"));"),this.userCode="\n      float getValue(".concat(a.map(m=>"int "+m),") {\n        ").concat(h,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(s,"), 0., 0., 0.);\n\n        ").concat(s[r-1]," = ").concat(s[r-1]," + 1;\n        if (").concat(s[r-1]," < ").concat(i[r-1],") {\n          result.g = getValue(").concat(s,");\n        }\n\n        ").concat(s[r-2]," = ").concat(s[r-2]," + 1;\n        if (").concat(s[r-2]," < ").concat(i[r-2],") {\n          result.a = getValue(").concat(s,");\n        }\n\n        ").concat(s[r-1]," = ").concat(s[r-1]," - 1;\n        if (").concat(s[r-2]," < ").concat(i[r-2]," &&\n            ").concat(s[r-1]," < ").concat(i[r-1],") {\n          result.b = getValue(").concat(s,");\n        }\n        setOutput(result);\n      }\n    ")}}function cb(t,e,n){const i=t.indexOf(e);return t.map((o,s)=>s===i?"".concat(o," - ").concat(n):o).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hw(t){const{inputs:e,backend:n}=t,{input:i}=e,r=n.texData.get(i.dataId);return Yr({inputs:{x:r.complexTensorInfos.imag},backend:n})}const U$e={kernelName:pE,backendName:"webgl",kernelFunc:hw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function op(t,e,n){const i=t[0].dtype;if(i==="complex64"){const f=t.map(x=>s0({inputs:{input:x},backend:n})),p=t.map(x=>hw({inputs:{input:x},backend:n})),m=op(f,e,n),b=op(p,e,n),g=Tc({inputs:{real:m,imag:b},backend:n});return f.forEach(x=>n.disposeIntermediateTensorInfo(x)),p.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),g}let r=n.shouldExecuteOnCPU(t);if(i==="string"&&(r=!0),r){const f=t.map(v=>{const E=[-1,ge(v.shape.slice(e))];return Pe({inputs:{x:v},backend:n,attrs:{shape:E}})}),p=f.map(v=>({vals:n.readSync(v.dataId),shape:v.shape})),m=Js(f.map(v=>v.shape),1),b=f[0].shape[0]===1,g=OIe(p,m,i,b),x=Js(t.map(v=>v.shape),e),y=n.makeTensorInfo(x,i,g);return f.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const o=t.filter(f=>ge(f.shape)>0),s=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(o.length===1){const f=s?new Gs(t[0].shape,Sl):new Rl(t[0].shape,Sl);return n.runWebGLProgram(f,t,i)}const a=fe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>a){const f=[];for(let m=0;m<o.length;m+=a){const b=o.slice(m,m+a);f.push(op(b,e,n))}const p=op(f,e,n);for(const m of f)n.disposeIntermediateTensorInfo(m);return p}if(s){const f=new j$e(o.map(p=>p.shape),e);return n.runWebGLProgram(f,o,i)}const{tensors2D:l,outShape:c}=V$e(o,e,n),u=new B$e(l.map(f=>f.shape)),d=n.runWebGLProgram(u,l,i);l.forEach(f=>n.disposeIntermediateTensorInfo(f));const h=Pe({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function V$e(t,e,n){const i=Js(t.map(o=>o.shape),e);return{tensors2D:t.map(o=>Pe({inputs:{x:o},attrs:{shape:[-1,ge(o.shape.slice(e))]},backend:n})),outShape:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cj(t){const{inputs:e,backend:n,attrs:i}=t,{axis:r}=i,o=Tt(r,e[0].shape)[0],s=e.map(c=>c.shape);YT(s,o);const a=Js(e.map(c=>c.shape),o);if(ge(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const l=e.filter(c=>ge(c.shape)>0);return l.length===1?Yr({inputs:{x:l[0]},backend:n}):op(l,o,n)}const H$e={kernelName:Ay,backendName:"webgl",kernelFunc:Cj};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ej{constructor(e,n=!1,i=null,r=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const s=e.padInfo.top,a=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,b=e.dataFormat==="channelsLast",g=b?1:2,x=b?2:3,y=b?3:1;let v="",w="";i&&(r?v="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?v="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):v="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),w="result = activation(result);");const E=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(v,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(s,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(x,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(h,"; wR++) {\n          int xR = xRCorner + wR * ").concat(u,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(f,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(b,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(m===1,") {\n\n              if (").concat(b,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(m===2,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(b,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(m===3,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(b,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(E,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}}class W$e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,i=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(s,", ").concat(a,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(i,", ").concat(r,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(l,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,"; wC++) {\n              int xC = xCCorner + wC * ").concat(u,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(m===1,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(m===2,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(m===3,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tj{constructor(e,n=!1,i=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ji(this.outputShape.length);const s=e.padInfo.left,a=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let b=0;b<u;b++)h+="\n           vec4 xTexelC".concat(b*2,";\n           int xTexelC").concat(b*2,"Ready;\n           vec4 xTexelC").concat(b*2+1,";\n           int xTexelC").concat(b*2+1,"Ready;\n           vec4 xC").concat(b,";");h+="\n     for (int r = 0; r < ".concat(c,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let b=0;b<u;b++)h+="\n           xTexelC".concat(b*2," = vec4(0.0);\n           xTexelC").concat(b*2,"Ready = 0;\n           xTexelC").concat(b*2+1," = vec4(0.0);\n           xTexelC").concat(b*2+1,"Ready = 0;\n           xC").concat(b," = vec4(0.0);");h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let b=0;b<(d+1)/2;b++){const g=b*2;if(h+="\n           xC = xCCorner + ".concat(g*l,";\n           "),a===1){if(g<u&&(s%2===1?(h+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n               "),l===1&&g>0?h+="\n                 xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                 "):h+="\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                   } else {\n                     xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                   }\n                   ")):h+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xC").concat(g," = xTexelC").concat(g,";\n                 "),g+1<u)){const x=s%2===0?jC(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(h+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                     xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(g+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(g+1,"Ready = 1;\n                   }\n                   "),l>1?h+="\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(g+1," = vec4(previous.zw, xTexelC").concat(g+1,".xy);\n                     } else {\n                      xC").concat(g+1," = vec4(0.0, 0.0, xTexelC").concat(g+1,".xy);\n                     }\n                     "):h+="\n                     xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                     ")):x===1?h+="\n                     xC".concat(g+1," = xTexelC").concat(g,";\n                     "):h+="\n                     xCOffset = xC + ".concat(x,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                       xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(g+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(g+1,"Ready = 1;\n                     }\n\n                     xC").concat(g+1," = xTexelC").concat(g+1,";\n                     ")}}else g<u&&(s%2===1?(h+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n               "),g+1<u&&(h+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                 "))):(h+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(\n                   xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n               "),g+1<u&&(h+="\n                   xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                 "))));g<u&&(h+="\n             wTexel = getW(r, ".concat(g,", d1, d2);\n             dotProd += xC").concat(g,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(g,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),g+1<u&&(h+="\n               wTexel = getW(r, ".concat(g+1,", d1, d2);\n               dotProd += xC").concat(g+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(g+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";let f="",p="";i&&(r?f="vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(i,"\n         }"):o?f="vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(i,"\n         }"):f="vec4 activation(vec4 x) {\n           ".concat(i,"\n         }"),p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(f,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(h,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(m,"\n         ").concat(p,"\n         setOutput(result);\n       }\n     ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class G$e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Ji(this.outputShape.length);const{dataFormat:i}=n,r=ur(),o=i==="channelsLast",s=o?1:2,a=o?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(u,";\n\n          ").concat(l,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(s,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(a,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(u*2+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(r.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s1(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function Ij({x:t,filter:e,convInfo:n,backend:i,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:a=null}){const l=t.shape,c=i.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],h=n.outChannels,f=n.dataFormat==="channelsLast",p=!1,m=!1;let b;const g=[];if(o!=null){const v=s1(o.shape,f);v!=null&&(o=Pe({inputs:{x:o},backend:i,attrs:{shape:v}}),g.push(o))}if(r!=null){const v=s1(r.shape,f);v!=null&&(r=Pe({inputs:{x:r},backend:i,attrs:{shape:v}}),g.push(r))}if(!((d===1||h===1)&&u>yj)&&c.isPacked&&f&&c.texture!=null&&l[2]%2!==0&&Nt(c.shape.slice(-3),l.slice(-3))){const v=l[0]*l[1]*(l[2]+1),w={dataId:t.dataId,shape:[1,v,n.inChannels],dtype:t.dtype},E=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,P(r1(c.shape,w.shape),()=>"packed reshape ".concat(c.shape," to ").concat(w.shape," isn't free"));const C=Pe({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(C);const I=o1({a:w,b:C,backend:i,transposeA:p,transposeB:m,bias:r,activation:a,preluActivationWeights:o,leakyreluAlpha:s}),T=i.texData.get(I.dataId);P(T.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=E,T.shape=n.outShape,b=Yr({inputs:{x:I},backend:i}),b.shape=n.outShape,g.push(I)}else{const v=n.outHeight*n.outWidth,w=Pe({inputs:{x:t},backend:i,attrs:{shape:f?[n.batchSize,v,n.inChannels]:[n.batchSize,n.inChannels,v]}}),E=Pe({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}}),C=o1({a:f?w:E,b:f?E:w,transposeA:!f,transposeB:m,backend:i,bias:r,activation:a,preluActivationWeights:o,leakyreluAlpha:s});b=Pe({inputs:{x:C},backend:i,attrs:{shape:n.outShape}}),g.push(w),g.push(E),g.push(C)}for(const v of g)i.disposeIntermediateTensorInfo(v);return b}function $j({x:t,filter:e,convInfo:n,backend:i,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:a=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:h,dataFormat:f}=n,p=f==="channelsLast",m=l*c*u,b=h*d,g=[n.batchSize,m,b],x=!0,y=!1,v=[];if(o!=null){const V=s1(o.shape,p);V!=null&&(o=Pe({inputs:{x:o},backend:i,attrs:{shape:V}}),v.push(o))}if(r!=null){const V=s1(r.shape,p);V!=null&&(r=Pe({inputs:{x:r},backend:i,attrs:{shape:V}}),v.push(r))}const w=Pe({inputs:{x:e},backend:i,attrs:{shape:[1,m,ge(e.shape)/m]}});v.push(w);const E=new G$e(g,n),C=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],I=i.runWebGLProgram(E,[t],"float32",C),T=Pe({inputs:{x:I},backend:i,attrs:{shape:g}});v.push(I),v.push(T);const _=r!=null,M=o!=null,D=a==="leakyrelu",z=a?hm(a,!0):null,$=new xj(p?T.shape:w.shape,p?w.shape:T.shape,p?[n.batchSize,b,n.outChannels]:[n.batchSize,n.outChannels,b],x,y,_,z,M,D),F=p?[T,w]:[w,T];if(r&&F.push(r),M&&F.push(o),D){const V=i.makeTensorInfo([],"float32",gc(s,"float32"));F.push(V),v.push(V)}const j=i.runWebGLProgram($,F,"float32"),W=Pe({inputs:{x:j},backend:i,attrs:{shape:n.outShape}});v.push(j);for(const V of v)i.disposeIntermediateTensorInfo(V);return W}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dataFormat:l,dilations:c,dimRoundingMode:u}=i,d=tl(l),h=vi(r.shape,o.shape,s,c,a,u,!1,d);let f;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))f=Ij({x:r,filter:o,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&fe().getBool("WEBGL_EXP_CONV")){const m=new Tj(h),b=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];f=n.runWebGLProgram(m,[r,o],"float32",b)}else if(fe().getBool("WEBGL_CONV_IM2COL"))f=$j({x:r,filter:o,convInfo:h,backend:n});else{const m=new Ej(h);f=n.runWebGLProgram(m,[r,o],"float32")}const p=Pe({inputs:{x:f},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(f),p}const X$e={kernelName:Ny,backendName:"webgl",kernelFunc:q$e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K$e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,s=e.dataFormat==="channelsLast";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(s?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Y$e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,r=e.strideHeight,o=e.strideWidth,s=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,l=i-1-e.padInfo.left,c=s?1:2,u=s?2:3,d=s?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(u,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(s,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Z$e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,i=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,s=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(i," - ").concat(s,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class J$e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,r=e.filterWidth,o=e.strideDepth,s=e.strideHeight,a=e.strideWidth,l=n-1-e.padInfo.front,c=i-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(l,", ").concat(c,", ").concat(u,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(i,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(s,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(i," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(r,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(r," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q$e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,pad:a,dataFormat:l,dimRoundingMode:c,filterShape:u}=i,d=tl(l),h=vi(r.shape,u,s,1,a,c,!1,d),f=new K$e(h);return n.runWebGLProgram(f,[r,o],"float32")}const e_e={kernelName:ZC,backendName:"webgl",kernelFunc:Q$e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t_e{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Ji(this.outputShape.length);const n=e.filterHeight,i=e.filterWidth,r=n-1-e.padInfo.top,o=i-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(r,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n_e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{inputShape:s,strides:a,pad:l,dataFormat:c,dimRoundingMode:u}=i,d=tl(c),h=vi(s,o.shape,a,1,l,u,!1,d);if(fe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const f=[[h.strideHeight,h.strideWidth]],p=new t_e(h);return n.runWebGLProgram(p,[r,o],"float32",f)}else{const f=new Y$e(h);return n.runWebGLProgram(f,[r,o],"float32")}}const i_e={kernelName:Oy,backendName:"webgl",kernelFunc:n_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dilations:l}=i,c=yc(r.shape,o.shape,s,l,a),u=new W$e(c);return n.runWebGLProgram(u,[r,o],"float32")}const o_e={kernelName:Dy,backendName:"webgl",kernelFunc:r_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,pad:a,filterShape:l}=i,c=yc(r.shape,l,s,1,a),u=new Z$e(c);return n.runWebGLProgram(u,[r,o],"float32")}const a_e={kernelName:JC,backendName:"webgl",kernelFunc:s_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l_e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{pad:s,strides:a,inputShape:l}=i,c=yc(l,o.shape,a,1,s),u=new J$e(c);return n.runWebGLProgram(u,[r,o],"float32")}const c_e={kernelName:QC,backendName:"webgl",kernelFunc:l_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u_e=vf+"\n  return cos(x);\n",d_e="\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(rd,"\n  return result;\n"),h_e=zt({opSnippet:u_e,packedOpSnippet:d_e}),f_e={kernelName:Jm,backendName:"webgl",kernelFunc:h_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p_e="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",m_e=zt({opSnippet:p_e}),g_e={kernelName:Qm,backendName:"webgl",kernelFunc:m_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b_e{constructor(e,n,i,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,a,l,c]=e,[u]=n,[d,h]=i;this.outputShape=[u,d,h,c];const f=r==="bilinear"?1:0,[p,m]=["".concat(a-1,".0"),"".concat(l-1,".0")],[b,g,x]=d>1?["".concat((a-1)/(d-1)),"(y2-y1) * height_ratio","y1*".concat(p," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(p)],[y,v,w]=h>1?["".concat((l-1)/(h-1)),"(x2-x1) * width_ratio","x1*".concat(m," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(m)];this.userCode="\n      const float height_ratio = float(".concat(b,");\n      const float width_ratio = float(").concat(y,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(v,";\n\n        float in_y = ").concat(x,";\n        if( in_y < 0.0 || in_y > ").concat(p," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(w,";\n        if( in_x < 0.0 || in_x > ").concat(m," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(f," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x_e=t=>{const{inputs:e,backend:n,attrs:i}=t,{image:r,boxes:o,boxInd:s}=e,{cropSize:a,method:l,extrapolationValue:c}=i,u=new b_e(r.shape,o.shape,a,l,c);return n.runWebGLProgram(u,[r,o,s],"float32")},y_e={kernelName:tE,backendName:"webgl",kernelFunc:x_e};var pm;(function(t){t.Prod="*",t.Sum="+"})(pm||(pm={}));class SN{constructor(e,n,i,r){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,s=this.op===pm.Prod?"1.0":"0.0",a=i?s:"getX(".concat(CN(o,"coords",this.op),")"),l=this.outputShape[this.outputShape.length-1];let c="",u="";i?(c=r?"end != ".concat(l-1):"end != 0",u=r?"end + 1":"end - 1"):(c=r?"end + pow2 < ".concat(l):"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Xt(o)," coords = getOutputCoords();\n        int end = ").concat(EN(o,"coords",this.op),";\n        float val = ").concat(a,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(u,";\n          ").concat(EN(o,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(CN(o,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function CN(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".x, ").concat(e,".y");if(t===3)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z");if(t===4)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z, ").concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}function EN(t,e,n){if(t===1)return"".concat(e);if(t===2)return"".concat(e,".y");if(t===3)return"".concat(e,".z");if(t===4)return"".concat(e,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(t," is not yet supported"))}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _j(t,e,n,i,r,o){const s=e.shape.length,a=_n([i],s);let l=e;a!=null&&(l=lr({inputs:{x:e},backend:n,attrs:{perm:a}}));const c=Wn(1,s)[0];if(c!==s-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(e.shape.length-1," ")+"but got axis=".concat(i));const u=l.shape[c];let d=Yr({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const f=new SN(t,l.shape,!1,o),p=[[h]],m=d;d=n.runWebGLProgram(f,[d],d.dtype,p),n.disposeIntermediateTensorInfo(m)}if(r){const h=new SN(t,l.shape,r,o),f=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(f)}if(a!=null){const h=vc(a),f=lr({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),f}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,exclusive:s,reverse:a}=i;return _j(pm.Prod,r,n,o,s,a)}const w_e={kernelName:eE,backendName:"webgl",kernelFunc:v_e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,exclusive:s,reverse:a}=i;return _j(pm.Sum,r,n,o,s,a)}const S_e={kernelName:Ry,backendName:"webgl",kernelFunc:k_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,weights:o}=e,{size:s,binaryOutput:a}=i;if(r.shape.length===1){const l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=cj(l,c,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,u)}else if(r.shape.length===2){const l=n.bufferSync(r),c=n.bufferSync(o),u=$Ie(l,c,s,a);return n.makeTensorInfo(u.shape,o.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}const E_e={kernelName:nE,backendName:"webgl",kernelFunc:C_e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T_e{constructor(e,n,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=i,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockSize:o,dataFormat:s}=i,a=r.shape[0],l=s==="NHWC"?r.shape[1]:r.shape[2],c=s==="NHWC"?r.shape[2]:r.shape[3],u=s==="NHWC"?r.shape[3]:r.shape[1],d=l*o,h=c*o,f=u/(o*o),p=s==="NHWC"?[a,d,h,f]:[a,f,d,h],m=new T_e(p,o,s);return n.runWebGLProgram(m,[r],r.dtype)}const $_e={kernelName:iE,backendName:"webgl",kernelFunc:I_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aj{constructor(e,n=!1,i=null,r=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ji(this.outputShape.length);const s=e.filterHeight,a=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";i&&(r?c="float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?c="float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):c="\n          float activation(float x) {\n            ".concat(i,"\n          }\n        "),u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(l,";\n        int q = d2 - d1 * ").concat(l,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(s,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(a,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nj{constructor(e,n=!1,i=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Ji(this.outputShape.length);const s=e.outChannels/e.inChannels,a=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,h=d;let f="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<d;g++)f+="\n          vec4 xTexelC".concat(g*2,";\n          int xTexelC").concat(g*2,"Ready;\n          vec4 xTexelC").concat(g*2+1,";\n          int xTexelC").concat(g*2+1,"Ready;\n          vec4 xC").concat(g,";");f+="\n    for (int r = 0; r < ".concat(u,"; r++) {\n      ");for(let g=0;g<d;g++)f+="\n          xTexelC".concat(g*2," = vec4(0.0);\n          xTexelC").concat(g*2,"Ready = 0;\n          xTexelC").concat(g*2+1," = vec4(0.0);\n          xTexelC").concat(g*2+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");f+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(h+1)/2;g++){const x=g*2;if(f+="\n          xC = xCCorner + ".concat(x*c,";\n          "),l===1){if(x<d&&(a%2===1?(f+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n              "),c===1&&x>0?f+="\n                xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n                "):f+="\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n                  } else {\n                    xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n                  }\n                  ")):f+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xC").concat(x," = xTexelC").concat(x,";\n                "),x+1<d)){const y=a%2===0?jC(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(f+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                    xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(x+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(x+1,"Ready = 1;\n                  }\n                  "),c>1?f+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(x+1," = vec4(previous.zw, xTexelC").concat(x+1,".xy);\n                    } else {\n                     xC").concat(x+1," = vec4(0.0, 0.0, xTexelC").concat(x+1,".xy);\n                    }\n                    "):f+="\n                    xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n                    ")):y===1?f+="\n                    xC".concat(x+1," = xTexelC").concat(x,";\n                    "):f+="\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                      xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(x+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(x+1,"Ready = 1;\n                    }\n\n                    xC").concat(x+1," = xTexelC").concat(x+1,";\n                    ")}}else x<d&&(a%2===1?(f+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n              "),x+1<d&&(f+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n                "))):(f+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(x,"Ready == 0) {\n                  xTexelC").concat(x," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(x,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(x,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n                  xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(x+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(x+1,"Ready = 1;\n                }\n\n                xC").concat(x," = vec4(\n                  xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n              "),x+1<d&&(f+="\n                  xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n                "))));x<d&&(f+="\n            wTexel = getW(r, ".concat(x,", d1, q);\n            dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n          "),x+1<d&&(f+="\n              wTexel = getW(r, ".concat(x+1,", d1, q);\n              dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}f+="\n    }\n  ",f+="\n      }\n    ";let p="",m="";i&&(r?p="vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):o?p="vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):p="vec4 activation(vec4 x) {\n          ".concat(i,"\n        }"),m="result = activation(result);");const b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(p,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(f,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(b,"\n        ").concat(m,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function __e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dilations:l,dimRoundingMode:c}=i;let u=l;u==null&&(u=[1,1]),P(Fi(s,u),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(u,"'"));const d=vi(r.shape,o.shape,s,u,a,c,!0);let h;fe().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new Nj(d):h=new Aj(d);const f=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[r,o],"float32",f)}const A_e={kernelName:Ly,backendName:"webgl",kernelFunc:__e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class N_e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(s," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(i," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class O_e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,r=e.strideHeight,o=e.strideWidth,s=n-1-e.padInfo.top,a=i-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(i," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(l,"; dm++) {\n              int d2 = d1 * ").concat(l," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,dy:o}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,filterShape:u}=i,d=vi(r.shape,u,s,a,l,c,!0),h=new N_e(d);return n.runWebGLProgram(h,[r,o],"float32")}const R_e={kernelName:rE,backendName:"webgl",kernelFunc:D_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L_e(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,filter:o}=e,{strides:s,dilations:a,pad:l,dimRoundingMode:c,inputShape:u}=i,d=vi(u,o.shape,s,a,l,c,!0),h=new O_e(d);return n.runWebGLProgram(h,[r,o],"float32")}const z_e={kernelName:oE,backendName:"webgl",kernelFunc:L_e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class F_e{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M_e(t){const{inputs:e,backend:n}=t,{x:i}=e,r=[...i.shape,...i.shape],o=ge(i.shape),s=Pe({inputs:{x:i},backend:n,attrs:{shape:[o]}}),a=new F_e(o),l=n.runWebGLProgram(a,[s],s.dtype),c=Pe({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}const P_e={kernelName:sE,backendName:"webgl",kernelFunc:M_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B_e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:i,padInfo:r,strideHeight:o,strideWidth:s,filterHeight:a,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:h}=r;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(a,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(l,"; w++) {\n              int wIn = wBeg + w * ").concat(u,";\n\n              if (wIn >= 0 && wIn < ").concat(i,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o}=e,{strides:s,pad:a,dilations:l}=i,c=Mg(r.shape,o.shape,s,a,"NHWC",l);let u;const d=new B_e(c);u=n.runWebGLProgram(d,[r,o],"float32");const h=Pe({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}const U_e={kernelName:zy,backendName:"webgl",kernelFunc:j_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V_e(t){const{inputs:e,backend:n,attrs:i}=t,{equation:r}=i,o=e,{allDims:s,summedDims:a,idDims:l}=lI(r,o.length);uI(s.length,l,o);const{path:c,steps:u}=dI(a,l),d=u.length;let h=null,f=s.length;const p=[];for(let m=0;m<d;++m){for(const b of u[m]){const{permutationIndices:g,expandDims:x}=cI(f,l[b]);let y;hI(g)?y=o[b]:(y=lr({inputs:{x:o[b]},backend:n,attrs:{perm:g}}),p.push(y));const v=y.shape.slice();for(let w=0;w<x.length;++w)v.splice(x[w],0,1);Nt(y.shape,v)||(y=Pe({inputs:{x:y},backend:n,attrs:{shape:v}}),p.push(y)),h===null?h=y:(h=QI({inputs:{a:y,b:h},backend:n}),p.push(h))}m<d-1&&(c[m]>=0&&(h=dw({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-f),keepDims:!1}}),p.push(h)),f--)}for(const m of p)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const H_e={kernelName:aE,backendName:"webgl",kernelFunc:V_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W_e="return (x >= 0.0) ? x : (exp(x) - 1.0);",G_e="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",q_e=zt({opSnippet:W_e,packedOpSnippet:G_e}),X_e={kernelName:tg,backendName:"webgl",kernelFunc:q_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K_e="return (b >= 0.0) ? a : a * (b + 1.0);",Y_e="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",Z_e=t=>{const{inputs:e,backend:n}=t,{dy:i,y:r}=e,o=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new yf(Y_e,i.shape,r.shape):new zu(K_e,i.shape,r.shape);return n.runWebGLProgram(o,[i,r],i.dtype)},J_e={kernelName:lE,backendName:"webgl",kernelFunc:Z_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q_e="\n  return vec4(equal(a, b));\n",eAe="return float(a == b);",tAe=Bi({opSnippet:eAe,packedOpSnippet:Q_e,dtype:"bool",cpuKernelImpl:DIe}),nAe={kernelName:Fy,backendName:"webgl",kernelFunc:tAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iAe='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(tI,";\n  float a1 = ").concat(nI,";\n  float a2 = ").concat(iI,";\n  float a3 = ").concat(rI,";\n  float a4 = ").concat(oI,";\n  float a5 = ").concat(sI,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),rAe=zt({opSnippet:iAe}),oAe={kernelName:ng,backendName:"webgl",kernelFunc:rAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sAe=vf+"\n  return exp(x);\n",aAe="\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Oj=zt({opSnippet:sAe,packedOpSnippet:aAe,cpuKernelImpl:RIe,dtype:"float32"}),lAe={kernelName:ig,backendName:"webgl",kernelFunc:Oj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $S(t){const{inputs:e,attrs:n,backend:i}=t,{dim:r}=n,{input:o}=e,s=o.shape.length,a=o.shape.slice();let l=r;return r<0&&(P(-(s+1)<=r,()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")),l=s+r+1),a.splice(l,0,1),Pe({inputs:{x:o},backend:i,attrs:{shape:a}})}const cAe={kernelName:My,backendName:"webgl",kernelFunc:$S};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TN="return exp(x) - 1.0;",uAe=zt({opSnippet:TN,packedOpSnippet:TN,cpuKernelImpl:LIe}),dAe={kernelName:rg,backendName:"webgl",kernelFunc:uAe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IN{constructor(e,n,i){this.variableNames=["real","imag"];const r=n[1];this.outputShape=n;const o=i?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=i?"".concat(r,".0"):"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(r,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dj(t,e,n){const i=n.texData.get(t.dataId),r=ge(t.shape),o=t.shape[t.shape.length-1],s=r/o,a=Pe({inputs:{x:t},backend:n,attrs:{shape:[s,o]}}),l=a.shape,c=new IN("real",l,e),u=new IN("imag",l,e),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:l},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:l}],h=n.runWebGLProgram(c,d,"float32"),f=n.runWebGLProgram(u,d,"float32"),p=Tc({inputs:{real:h,imag:f},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f);const m=Pe({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hAe(t){const{inputs:e,backend:n}=t,{input:i}=e;return Dj(i,!1,n)}const fAe={kernelName:cE,backendName:"webgl",kernelFunc:hAe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pAe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a0(t){const{backend:e,attrs:n}=t,{shape:i,value:r}=n;let{dtype:o}=n;if(o=o||of(r),o==="string"){const s=Bn(o,ge(i));return s.fill(r),e.makeTensorInfo(i,o,s)}else{const s=new pAe(i,r),a=[[r]];return e.runWebGLProgram(s,[],o,a)}}const mAe={kernelName:uE,backendName:"webgl",kernelFunc:a0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gAe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bAe={kernelName:dE,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,i=e,r=new gAe(n.shape);return i.runWebGLProgram(r,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $N="return floor(x);",xAe=zt({opSnippet:$N,packedOpSnippet:$N,cpuKernelImpl:zIe}),yAe={kernelName:og,backendName:"webgl",kernelFunc:xAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vAe="\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",wAe="\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",kAe=Bi({opSnippet:vAe,packedOpSnippet:wAe,dtype:"int32"}),SAe={kernelName:sg,backendName:"webgl",kernelFunc:kAe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CAe{constructor(e){this.variableNames=["A"];const n=ur(),[i,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(r,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EAe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ur(),[i,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(r,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TAe={kernelName:z3,backendName:"webgl",kernelFunc:IAe};let wd,Y2=fe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function IAe(t){const{inputs:e,backend:n,attrs:i}=t;let{pixels:r}=e;const{numChannels:o}=i,s=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[l,c]=s?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[c,l],d=[c,l,o];if(a||s){const m=fe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(wd==null||m!==Y2)&&(Y2=m,wd=document.createElement("canvas").getContext("2d",{willReadFrequently:Y2})),wd.canvas.width=l,wd.canvas.height=c,wd.drawImage(r,0,0,l,c),r=wd.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=uo.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),r);const f=fe().getBool("WEBGL_PACK")?new EAe(d):new CAe(d),p=n.runWebGLProgram(f,[h],"int32");return n.disposeData(h.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ae(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=i,m=tl(u),b=vi(r.shape,o.shape,l,d,c,h,!1,m);let g;const x=[],y=s!=null,v=a!=null,w=f==="leakyrelu",E=()=>{const I=[r,o],T=(_,M)=>{if(M==="NCHW"&&_.shape.length===1&&_.shape[0]!==1){const D=Pe({inputs:{x:_},backend:n,attrs:{shape:[_.shape[0],1,1]}});return x.push(D),D}return _};if(y&&I.push(T(s,u)),v&&I.push(T(a,u)),w){const _=n.makeTensorInfo([],"float32",gc(p,"float32"));I.push(_),x.push(_)}return I};if(b.filterHeight===1&&b.filterWidth===1&&b.dilationHeight===1&&b.dilationWidth===1&&b.strideHeight===1&&b.strideWidth===1&&(b.padInfo.type==="SAME"||b.padInfo.type==="VALID"))g=Ij({x:r,filter:o,convInfo:b,backend:n,bias:s,activation:f,preluActivationWeights:a,leakyreluAlpha:p});else if(b.strideWidth<=2&&m==="channelsLast"&&fe().getBool("WEBGL_EXP_CONV")){const I=f?hm(f,!0):null,T=new Tj(b,y,I,v,w),_=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],M=E();g=n.runWebGLProgram(T,M,"float32",_)}else if(fe().getBool("WEBGL_CONV_IM2COL"))g=$j({x:r,filter:o,convInfo:b,backend:n,bias:s,activation:f,preluActivationWeights:a,leakyreluAlpha:p});else{const I=f?hm(f,!1):null,T=new Ej(b,y,I,v,w),_=E();g=n.runWebGLProgram(T,_,"float32")}const C=Pe({inputs:{x:g},backend:n,attrs:{shape:b.outShape}});return x.push(g),x.forEach(I=>n.disposeIntermediateTensorInfo(I)),C}const _Ae={kernelName:Rx,backendName:"webgl",kernelFunc:$Ae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AAe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,filter:o,bias:s,preluActivationWeights:a}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=i,p=[];let m=u;m==null&&(m=[1,1]),P(Fi(l,m),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'"));const b=vi(r.shape,o.shape,l,m,c,d,!0),g=fe().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels===1,x=h?hm(h,g):null,y=[r,o],v=s!=null,w=a!=null,E=h==="leakyrelu";if(v&&y.push(s),w&&y.push(a),E){const _=n.makeTensorInfo([],"float32",gc(f,"float32"));y.push(_),p.push(_)}let C;g?C=new Nj(b,v,x,w,E):C=new Aj(b,v,x,w,E);const I=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],T=n.runWebGLProgram(C,y,"float32",I);return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),T}const NAe={kernelName:Lx,backendName:"webgl",kernelFunc:AAe};class OAe{constructor(e,n,i,r){this.sliceDim=e,this.strides=n,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=i;const o=Xt(i.length);let s="\n    int index;";for(let a=0;a<this.sliceDim;a++)s+="\n          index = round(getIndices(coords[0], ".concat(a,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[a],";\n          flattenIndex += index * ").concat(this.strides[a],";");this.userCode="\n         void main() {\n          ".concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(s,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DAe(t){const{inputs:e,backend:n}=t,{params:i,indices:r}=e,o=r.shape,s=o[o.length-1],a=ge(i.shape),[l,c,u,d]=HT(i,r),h=Pe({inputs:{x:r},backend:n,attrs:{shape:[c,s]}}),f=Pe({inputs:{x:i},backend:n,attrs:{shape:[ge(i.shape)/u,u]}});if(n.shouldExecuteOnCPU([i,r])||i.dtype==="string"){const g=n.readSync(r.dataId),x=n.bufferSync(i),y=FIe(g,x,i.dtype,c,s,u,d,i.shape,a);return n.makeTensorInfo(l,i.dtype,y.values)}const p=new OAe(s,d,[c,u],i.shape),m=n.runWebGLProgram(p,[f,h],f.dtype),b=Pe({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),b}const RAe={kernelName:hE,backendName:"webgl",kernelFunc:DAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LAe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const i=Xt(this.rank),r=zAe(e);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(r,"));\n      }\n    ")}}function zAe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let r=0;r<t.length;r++)r===2?i.push("index"):i.push("".concat(n[r]));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rj(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,indices:o}=e,{axis:s,batchDims:a}=i,l=Tt(s,r.shape)[0];if(fe().get("DEBUG")){const x=n.readSync(o.dataId),y=r.shape[l];for(let v=0;v<x.length;++v){const w=x[v];P(w<=y-1&&w>=0,()=>"GatherV2: the index value ".concat(w," is not in [0, ").concat(y-1,"]"))}}const c=pI(r,o,l,a),u=ge(o.shape),d=[],h=Pe({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),f=Pe({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(f);const p=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([r,o])||r.dtype==="string"){const x=n.bufferSync(f),y=n.bufferSync(h),v=MIe(y,x,p);return d.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.makeTensorInfo(c.outputShape,v.dtype,v.values)}const m=new LAe(h.shape,p),b=n.runWebGLProgram(m,[h,f],h.dtype);d.push(b);const g=Pe({inputs:{x:b},backend:n,attrs:{shape:c.outputShape}});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),g}const FAe={kernelName:By,backendName:"webgl",kernelFunc:Rj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MAe="return float(a > b);",PAe="\n  return vec4(greaterThan(a, b));\n",BAe=Bi({opSnippet:MAe,packedOpSnippet:PAe,cpuKernelImpl:PIe,dtype:"bool"}),jAe={kernelName:jy,backendName:"webgl",kernelFunc:BAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UAe="return float(a >= b);",VAe="\n  return vec4(greaterThanEqual(a, b));\n",HAe=Bi({opSnippet:UAe,packedOpSnippet:VAe,dtype:"bool",cpuKernelImpl:BIe}),WAe={kernelName:ag,backendName:"webgl",kernelFunc:HAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GAe(t){const{inputs:e,backend:n}=t,{input:i}=e;return Dj(i,!0,n)}const qAe={kernelName:fE,backendName:"webgl",kernelFunc:GAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XAe="return float(!isnan(x) && !isinf(x));",KAe=zt({opSnippet:XAe,dtype:"bool"}),YAe={kernelName:cg,backendName:"webgl",kernelFunc:KAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZAe="return float(isinf(x));",JAe=zt({opSnippet:ZAe,dtype:"bool"}),QAe={kernelName:ug,backendName:"webgl",kernelFunc:JAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eNe="return float(isnan(x));",tNe=zt({opSnippet:eNe,dtype:"bool"}),nNe={kernelName:dg,backendName:"webgl",kernelFunc:tNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iNe="return float(a < b);",rNe="\n  return vec4(lessThan(a, b));\n",oNe=Bi({opSnippet:iNe,packedOpSnippet:rNe,cpuKernelImpl:jIe,dtype:"bool"}),sNe={kernelName:Vy,backendName:"webgl",kernelFunc:oNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aNe="return float(a <= b);",lNe="\n  return vec4(lessThanEqual(a, b));\n",cNe=Bi({opSnippet:aNe,packedOpSnippet:lNe,cpuKernelImpl:UIe,dtype:"bool"}),uNe={kernelName:Hy,backendName:"webgl",kernelFunc:cNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dNe(t){const{backend:e,attrs:n}=t,{start:i,stop:r,num:o}=n,s=VIe(i,r,o);return e.makeTensorInfo([s.length],"float32",s)}const hNe={kernelName:mE,backendName:"webgl",kernelFunc:dNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fNe=vf+"\n  return x < 0.0 ? 0./0. : log(x);\n",pNe="\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",mNe=zt({opSnippet:fNe,packedOpSnippet:pNe,cpuKernelImpl:HIe}),gNe={kernelName:hg,backendName:"webgl",kernelFunc:mNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bNe=vf+"\n  return log(1.0 + x);\n",xNe=zt({opSnippet:bNe}),yNe={kernelName:fg,backendName:"webgl",kernelFunc:xNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vNe="return float(a >= 1.0 && b >= 1.0);",wNe="\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",kNe=Bi({opSnippet:vNe,packedOpSnippet:wNe,dtype:"bool"}),SNe={kernelName:Wy,backendName:"webgl",kernelFunc:kNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CNe="return float(!(x >= 1.0));",ENe=zt({opSnippet:CNe}),TNe={kernelName:Gy,backendName:"webgl",kernelFunc:ENe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const INe="return float(a >= 1.0 || b >= 1.0);",$Ne="\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",_Ne=Bi({opSnippet:INe,packedOpSnippet:$Ne,dtype:"bool"}),ANe={kernelName:qy,backendName:"webgl",kernelFunc:_Ne};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NNe{constructor(e,n,i,r,o){this.variableNames=["x"],this.outputShape=[];const s=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(r,") * sum");o===.5?l="inversesqrt(".concat(c,")"):o===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(a,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(l,";\n        setOutput(val);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ONe{constructor(e,n,i,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=n,a=e[3]-1;this.outputShape=e;let l;const c="float(".concat(i,") + float(").concat(r,") * sum");o===.5?l="inversesqrt(".concat(c,")"):o===1?l="1.0/(".concat(c,")"):l="exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(a,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(l,";\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DNe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{depthRadius:o,bias:s,alpha:a,beta:l}=i,c=fe().getBool("WEBGL_PACK_NORMALIZATION")?new ONe(r.shape,o,s,a,l):new NNe(r.shape,o,s,a,l);return n.runWebGLProgram(c,[r],r.dtype)},RNe={kernelName:Xy,backendName:"webgl",kernelFunc:DNe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LNe{constructor(e,n,i,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=i,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(r,") * norm + float(").concat(i,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(r,")\n                * float(").concat(o,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zNe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:r,y:o,dy:s}=e,{depthRadius:a,bias:l,alpha:c,beta:u}=i,d=new LNe(r.shape,a,l,c,u);return n.runWebGLProgram(d,[r,o,s],r.dtype)},FNe={kernelName:gE,backendName:"webgl",kernelFunc:zNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MNe(t,e,n,i){const r=ge(e),s=ge(t.shape)/r,a=Pe({inputs:{x:t},attrs:{shape:[s,r]},backend:i}),l=od(a,t.dtype,"max",i),c=Pe({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lj(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{reductionIndices:o,keepDims:s}=i,a=r.shape.length,l=Tt(o,r.shape);let c=l;const u=_n(c,a),d=u!=null,h=n.shouldExecuteOnCPU([r]);let f=r;if(d){if(h){const y=n.texData.get(f.dataId).values,v=new Array(a);for(let C=0;C<v.length;C++)v[C]=r.shape[u[C]];const w=ZI(y,r.shape,r.dtype,u,v);f=n.makeTensorInfo(v,r.dtype);const E=n.texData.get(f.dataId);E.values=w}else f=uw(r,u,n);c=Wn(c.length,a)}Mi("max",c,a);const[p,m]=wi(f.shape,c);let b=p;s&&(b=Hn(p,l));let g;if(h){const y=n.texData.get(f.dataId).values,v=WIe(y,ge(m),b,r.dtype);g=n.makeTensorInfo(b,r.dtype);const w=n.texData.get(g.dataId);w.values=v}else g=MNe(f,m,b,n);return d&&n.disposeIntermediateTensorInfo(f),g}const PNe={kernelName:Ky,backendName:"webgl",kernelFunc:Lj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BNe=JI+"\n  return max(a, b);\n",jNe="\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+rd+"\n  return result;\n",UNe=Bi({opSnippet:BNe,packedOpSnippet:jNe,cpuKernelImpl:GIe}),VNe={kernelName:pg,backendName:"webgl",kernelFunc:UNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e;r0(r,"maxPool");const{filterSize:o,strides:s,pad:a,dimRoundingMode:l}=i,c=1;P(Fi(s,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(c,"'"));const u=ls(r.shape,o,s,c,a,l);if(u.filterWidth===1&&u.filterHeight===1&&Nt(u.inShape,u.outShape))return Yr({inputs:{x:r},backend:n});const d=new fm(u,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}const WNe={kernelName:Yy,backendName:"webgl",kernelFunc:HNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GNe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{filterSize:o,strides:s,pad:a,dataFormat:l,dimRoundingMode:c}=i,u=[1,1,1],d=el(r.shape,o,s,u,a,c,l),h=new e5(d,"max",!1);return n.runWebGLProgram(h,[r],r.dtype)}const qNe={kernelName:Zy,backendName:"webgl",kernelFunc:GNe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XNe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,i=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,s=e.effectiveFilterWidth,a=o-1-e.padInfo.top,l=s-1-e.padInfo.left,c=o*s-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(r,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(s," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class KNe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,i=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,s=e.dilationHeight,a=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=c-1-e.padInfo.top,f=u-1-e.padInfo.left,p=l*c*u-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(h,", ").concat(f,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(l,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(s,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(u,";\n                wC += ").concat(a,") {\n              float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(u," +\n                  wR * ").concat(u," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YNe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o}=e,s=o,{filterSize:a,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],h=el(s.shape,a,l,d,c,u),f=new e5(h,"max",!0),p=n.runWebGLProgram(f,[s],s.dtype),m=new KNe(h),b=n.runWebGLProgram(m,[r,p],s.dtype);return n.disposeIntermediateTensorInfo(p),b}const ZNe={kernelName:xE,backendName:"webgl",kernelFunc:YNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JNe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:r,input:o,output:s}=e,a=o;r0([o,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,h=ls(a.shape,l,c,1,u,d),f=!0,p=new fm(h,"max",f),m=n.runWebGLProgram(p,[a],a.dtype),b=new XNe(h),g=n.runWebGLProgram(b,[r,m],a.dtype);return n.disposeIntermediateTensorInfo(m),g}const QNe={kernelName:bE,backendName:"webgl",kernelFunc:JNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e8e(t,e,n,i){let r=new fm(n,"max",!1);const o=i.runWebGLProgram(r,[t],"float32");r=new fm(n,"max",!0,!0,e);const s=i.runWebGLProgram(r,[t],"float32");return[o,s]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t8e={kernelName:yE,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:r,strides:o,pad:s,includeBatchInIndex:a}=e,l=n;P(i.shape.length===4,()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,"."));const c=[1,1];P(Fi(o,c),()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(c,"'"));const u=ls(i.shape,r,o,c,s),[d,h]=e8e(i,a,u,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n8e(t,e,n,i){const r=ge(e),s=ge(t.shape)/r,a=Pe({inputs:{x:t},attrs:{shape:[s,r]},backend:i}),l=od(a,"float32","mean",i),c=Pe({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(a),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i8e={kernelName:Jy,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{keepDims:r,axis:o}=e,s=n,a=i.shape.length,l=Tt(o,i.shape);let c=l;const u=_n(c,a),d=u!=null,h=s.shouldExecuteOnCPU([i]),f=[];let p=i;if(d){if(h){const v=s.texData.get(p.dataId).values,w=new Array(a);for(let I=0;I<w.length;I++)w[I]=i.shape[u[I]];const E=ZI(v,i.shape,i.dtype,u,w);p=s.makeTensorInfo(w,i.dtype);const C=s.texData.get(p.dataId);C.values=E}else p=uw(i,u,s);f.push(p),c=Wn(c.length,a)}Mi("sum",c,a);const[m,b]=wi(p.shape,c);let g=m;r&&(g=Hn(m,l));const x=n8e(p,b,g,s);for(const y of f)s.disposeIntermediateTensorInfo(y);return x}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r8e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i,a=r.shape.length,l=Tt(o,r.shape);let c=l;const u=_n(c,a);let d=r;u!=null&&(d=lr({inputs:{x:r},backend:n,attrs:{perm:u}}),c=Wn(c.length,r.shape.length)),Mi("min",c,a);const[h,f]=wi(d.shape,c),p=ge(f),m=Pe({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),b=od(m,m.dtype,"min",n);let g;if(s){const x=Hn(h,l);g=Pe({inputs:{x:b},backend:n,attrs:{shape:x}})}else g=Pe({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),u!=null&&n.disposeIntermediateTensorInfo(d),g}const o8e={kernelName:Qy,backendName:"webgl",kernelFunc:r8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8e=JI+"\n  return min(a, b);\n",a8e="\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+rd+"\n  return result;\n",l8e=Bi({opSnippet:s8e,packedOpSnippet:a8e,cpuKernelImpl:qIe}),c8e={kernelName:mg,backendName:"webgl",kernelFunc:l8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u8e{constructor(e,n,i){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const r=e.length,o=Xt(r),s=n.map(u=>u[0]).join(","),a=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),c=i==="reflect"?0:1;if(r===1){this.userCode="\n        int start = ".concat(s,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ");return}this.userCode="\n      ".concat(o," start = ").concat(o,"(").concat(s,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(r,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(l,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d8e{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const r=e.length,o=Xt(r),s=n.map(p=>p[0]).join(","),a=n.map((p,m)=>p[0]+e[m]).join(","),l=tr("rc",r),c=tr("source",r),u="".concat(l[r-1]," < ").concat(this.outputShape[r-1]),d=r===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=i==="reflect"?0:1;let f="";if(r===1){const p="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(h,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(h,";\n        }\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(p,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[r-1]," += 1;\n        if(").concat(u,") {\n          ").concat(p,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{const p="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(h,") +\n                gte * ((end - 1) * 2 - source + ").concat(h,");\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(p,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(l[r-1]," += 1;\n        if(").concat(u,") {\n          ").concat(p,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(l[r-2]," += 1;\n        if(").concat(l[r-2]," < ").concat(this.outputShape[r-2],") {\n          ").concat(p,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(l[r-1]," += 1;\n          if(").concat(u,") {\n            ").concat(p,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(s,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h8e=({inputs:t,backend:e,attrs:n})=>{const{x:i}=t,{paddings:r,mode:o}=n,s=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new d8e(i.shape,r,o):new u8e(i.shape,r,o);return e.runWebGLProgram(s,[i],i.dtype)},f8e={kernelName:ev,backendName:"webgl",kernelFunc:h8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8e="if (b == 0.0) return NAN;\n  return mod(a, b);",m8e="\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+rd+"\n  return result;\n",g8e=Bi({opSnippet:p8e,packedOpSnippet:m8e}),b8e={kernelName:gg,backendName:"webgl",kernelFunc:g8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x8e{constructor(e,n,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,i],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y8e="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",v8e="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",zj=Bi({opSnippet:y8e,packedOpSnippet:v8e,checkOutOfBounds:!0}),w8e={kernelName:eg,backendName:"webgl",kernelFunc:zj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _N="return a - b;",Fj=Bi({opSnippet:_N,packedOpSnippet:_N,supportsComplex:!0,cpuKernelImpl:p5e}),k8e={kernelName:Og,backendName:"webgl",kernelFunc:Fj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mj(t){const{inputs:e,backend:n,attrs:i}=t,{logits:r}=e,{dim:o}=i,s=Tt([o],r.shape),a=Lj({inputs:{x:r},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=Hn(a.shape,s),c=Pe({inputs:{x:a},backend:n,attrs:{shape:l}}),u=Fj({inputs:{a:r,b:c},backend:n}),d=Oj({inputs:{x:u},backend:n}),h=dw({inputs:{x:d},backend:n,attrs:{axis:s,keepDims:!1}}),f=Pe({inputs:{x:h},backend:n,attrs:{shape:l}}),p=zj({inputs:{a:d,b:f},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}const S8e={kernelName:xv,backendName:"webgl",kernelFunc:Mj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C8e(t){const{inputs:e,backend:n,attrs:i}=t,{logits:r}=e,{numSamples:o,seed:s,normalized:a}=i,l=a?r:Mj({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new x8e(c,u,o),h=[[s]],f=n.runWebGLProgram(d,[l],"int32",h);return a||n.disposeIntermediateTensorInfo(l),f}const E8e={kernelName:vE,backendName:"webgl",kernelFunc:C8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T8e=us+"\n  return -x;\n",I8e="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";function $8e(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])){const o=n.texData.get(i.dataId),[s,a]=KIe(o.values,i.shape,i.dtype);return n.makeTensorInfo(a,i.dtype,s)}let r;return fe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Rl(i.shape,I8e):r=new Gs(i.shape,T8e),n.runWebGLProgram(r,[i],i.dtype)}const _8e={kernelName:tv,backendName:"webgl",kernelFunc:$8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A8e=FT;function N8e(t){lo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l}=i,c=n.readSync(r.dataId),u=n.readSync(o.dataId),{selectedIndices:d}=A8e(c,u,s,a,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const O8e={kernelName:wE,backendName:"webgl",kernelFunc:N8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D8e=MT;function R8e(t){lo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:c}=i,u=n.readSync(r.dataId),d=n.readSync(o.dataId),{selectedIndices:h,validOutputs:f}=D8e(u,d,s,a,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}const L8e={kernelName:kE,backendName:"webgl",kernelFunc:R8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z8e=PT;function F8e(t){lo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:r,scores:o}=e,{maxOutputSize:s,iouThreshold:a,scoreThreshold:l,softNmsSigma:c}=i,u=n.readSync(r.dataId),d=n.readSync(o.dataId),h=s,f=a,p=l,m=c,{selectedIndices:b,selectedScores:g}=z8e(u,d,h,f,p,m);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const M8e={kernelName:SE,backendName:"webgl",kernelFunc:F8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class P8e{constructor(e,n,i,r){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(r,"), float(").concat(i,"),\n                      float(index == coords.y)));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B8e=t=>{const{inputs:e,backend:n,attrs:i}=t,{indices:r}=e,{dtype:o,depth:s,onValue:a,offValue:l}=i,c=ge(r.shape),u=new P8e(c,s,a,l),d=Pe({inputs:{x:r},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],o);n.disposeIntermediateTensorInfo(d);const f=[...r.shape,s],p=Pe({inputs:{x:h},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(h),p},j8e={kernelName:rv,backendName:"webgl",kernelFunc:B8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a1(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="complex64"){const r=s0({inputs:{input:i},backend:n}),o=a1({inputs:{x:r},backend:n}),s=hw({inputs:{input:i},backend:n}),a=a1({inputs:{x:s},backend:n}),l=Tc({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return a0({attrs:{shape:i.shape,dtype:i.dtype,value:i.dtype==="string"?"":0},backend:n})}const U8e={kernelName:kv,backendName:"webgl",kernelFunc:a1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pj(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(i.dtype==="complex64"){const r=s0({inputs:{input:i},backend:n}),o=Pj({inputs:{x:r},backend:n}),s=hw({inputs:{input:i},backend:n}),a=a1({inputs:{x:s},backend:n}),l=Tc({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),l}else return a0({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:n})}const V8e={kernelName:iv,backendName:"webgl",kernelFunc:Pj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H8e(t){const{inputs:e,backend:n,attrs:i}=t,{axis:r}=i;if(e.length===1)return $S({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const o=e[0].shape,s=e[0].dtype;e.forEach(u=>{Jr(o,u.shape,"All tensors passed to stack must have matching shapes"),P(s===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=e.map(u=>{const d=$S({inputs:{input:u},backend:n,attrs:{dim:r}});return a.push(d),d}),c=Cj({inputs:l,backend:n,attrs:{axis:r}});return a.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const W8e={kernelName:ov,backendName:"webgl",kernelFunc:H8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class G8e{constructor(e,n,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const r=e.length,o=Xt(r),s=n.map(c=>c[0]).join(","),a=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode="\n        int start = ".concat(s,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ");return}this.userCode="\n      ".concat(o," start = ").concat(o,"(").concat(s,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(l,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q8e{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,b)=>m[0]+e[b]+m[1]);const r=e.length,o=Xt(r),s=n.map(m=>m[0]).join(","),a=n.map((m,b)=>m[0]+e[b]).join(","),l=tr("rc",r),c=tr("source",r),u="".concat(l[r-1]," < ").concat(this.outputShape[r-1]),d=r===1?"source":"vec2(".concat(c.slice(-2).join(),")"),h=["".concat(o," rc = outputLoc;"),"".concat(l[r-1]," += 1;\n       if(").concat(u,") {\n      "),r===1?"":"}\n       rc = outputLoc;\n       ".concat(l[r-2]," += 1;\n       if(").concat(l[r-2]," < ").concat(this.outputShape[r-2],") {"),r===1?"":"  ".concat(l[r-1]," += 1;\n         if(").concat(u,") {")],f=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,b=r===1?2:4;m<b;m++)p+="\n        ".concat(h[m],"\n        if (").concat(f,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");p+=r===1?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(s,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bj=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{paddings:o,constantValue:s}=i;if(ge(r.shape)===0){const c=o.map((u,d)=>u[0]+r.shape[d]+u[1]);return a0({backend:n,attrs:{shape:c,value:s,dtype:r.dtype}})}const a=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new q8e(r.shape,o,s):new G8e(r.shape,o,s),l=[[s]];return n.runWebGLProgram(a,[r],r.dtype,l)},X8e={kernelName:sv,backendName:"webgl",kernelFunc:Bj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K8e="\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",Y8e="\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+rd+"\n  return result;\n",Z8e=Bi({opSnippet:K8e,packedOpSnippet:Y8e}),J8e={kernelName:xg,backendName:"webgl",kernelFunc:Z8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q8e(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{axis:o,keepDims:s}=i,a=r.shape.length,l=[],c=Tt(o,r.shape);let u=c;const d=_n(u,a);let h=r;d!=null&&(h=lr({inputs:{x:r},backend:n,attrs:{perm:d}}),u=Wn(u.length,a),l.push(h)),Mi("prod",u,a);let f;if(n.shouldExecuteOnCPU([h])){const p=n.texData.get(h.dataId).values,{outVals:m,outShape:b,outDtype:g}=ZIe(h.shape,h.dtype,p,u);f=n.makeTensorInfo(b,g,m)}else{const[p,m]=wi(h.shape,u),b=ge(m),g=Pe({inputs:{x:h},backend:n,attrs:{shape:[-1,b]}}),x=KE(r.dtype),y=od(g,x,"prod",n);f=Pe({inputs:{x:y},backend:n,attrs:{shape:p}}),l.push(g),l.push(y)}if(s){l.push(f);const p=Hn(f.shape,c);f=Pe({inputs:{x:f},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const eOe={kernelName:lv,backendName:"webgl",kernelFunc:Q8e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tOe(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:r,paramsDenseValues:o,indices:s}=e,{outputRaggedRank:a}=i,l=r.map(g=>n.readSync(g.dataId)),c=r.map(g=>g.shape),u=n.readSync(o.dataId),d=n.readSync(s.dataId),[h,f,p]=JIe(l,c,u,o.shape,o.dtype,d,s.shape,a),m=h.map(g=>n.makeTensorInfo([g.length],"int32",g)),b=n.makeTensorInfo(p,o.dtype,f);return m.concat([b])}const nOe={kernelName:CE,backendName:"webgl",kernelFunc:tOe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iOe(t){const{inputs:e,backend:n}=t,{starts:i,limits:r,deltas:o}=e,s=n.readSync(i.dataId),a=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=QIe(s,i.shape,i.dtype,a,r.shape,l,o.shape),d=n.makeTensorInfo([c.length],"int32",c),h=n.makeTensorInfo([u.length],i.dtype,u);return[d,h]}const rOe={kernelName:EE,backendName:"webgl",kernelFunc:iOe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oOe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:r,values:o,defaultValue:s,rowPartitionTensors:a}=e,{rowPartitionTypes:l}=i,c=n.readSync(r.dataId),u=n.readSync(o.dataId),d=n.readSync(s.dataId),h=a.map(b=>n.readSync(b.dataId)),f=a.map(b=>b.shape),[p,m]=e5e(c,r.shape,u,o.shape,o.dtype,d,s.shape,h,f,l);return n.makeTensorInfo(p,o.dtype,m)}const sOe={kernelName:TE,backendName:"webgl",kernelFunc:oOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jj=t=>{const{backend:e,attrs:n}=t,{start:i,stop:r,step:o,dtype:s}=n,a=t5e(i,r,o,s);return e.makeTensorInfo([a.length],s,a)},aOe={kernelName:IE,backendName:"webgl",kernelFunc:jj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lOe="return 1.0 / x;",cOe=zt({opSnippet:lOe}),uOe={kernelName:yg,backendName:"webgl",kernelFunc:cOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dOe=us+"\n  return (x < 0.0) ? 0.0 : x;\n",hOe="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",fOe=zt({opSnippet:dOe,packedOpSnippet:hOe}),pOe={kernelName:vg,backendName:"webgl",kernelFunc:fOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mOe=us+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",gOe="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",bOe=zt({opSnippet:mOe,packedOpSnippet:gOe}),xOe={kernelName:wg,backendName:"webgl",kernelFunc:bOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yOe{constructor(e,n,i,r,o){this.variableNames=["A"],this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[r&&n>1?a-1:a,r&&i>1?l-1:l],d=[r&&n>1?n-1:n,r&&i>1?i-1:i];let h;o?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vOe{constructor(e,n,i,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[r&&n>1?a-1:a,r&&i>1?l-1:l],d=[r&&n>1?n-1:n,r&&i>1?i-1:i];let h;o?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:s,size:a}=i,[l,c]=a,u=fe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new vOe(r.shape,l,c,o,s):new yOe(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],"float32")}const kOe={kernelName:dv,backendName:"webgl",kernelFunc:wOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SOe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,o]=n,[,s,a]=e,l=[i&&s>1?r-1:r,i&&a>1?o-1:o],c=[i&&s>1?s-1:s,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,f=1/d,p=Math.ceil(h)*2+2,m=Math.ceil(f)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(f,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(r-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function COe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r,dy:o}=e,{alignCorners:s}=i,a=new SOe(o.shape,r.shape,s);return n.runWebGLProgram(a,[o],o.dtype)}const EOe={kernelName:AE,backendName:"webgl",kernelFunc:COe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TOe{constructor(e,n,i,r,o){this.variableNames=["A"],this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[r&&n>1?a-1:a,r&&i>1?l-1:l],d=[r&&n>1?n-1:n,r&&i>1?i-1:i],h=r?"0.5":"0.0";let f;o?f="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IOe{constructor(e,n,i,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,a,l,c]=e;this.outputShape=[s,n,i,c];const u=[r&&n>1?a-1:a,r&&i>1?l-1:l],d=[r&&n>1?n-1:n,r&&i>1?i-1:i],h=r?"0.5":"0.0";let f;o?f="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(u[0]/d[0],",\n          ").concat(u[1]/d[1],",\n          ").concat(u[1]/d[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(i-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Oe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:s,size:a}=i,[l,c]=a,u=fe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new IOe(r.shape,l,c,o,s):new TOe(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],r.dtype)}const _Oe={kernelName:uv,backendName:"webgl",kernelFunc:$Oe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AOe{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,o]=n,[,s,a]=e,l=[i&&s>1?r-1:r,i&&a>1?o-1:o],c=[i&&s>1?s-1:s,i&&a>1?a-1:a],u=l[0]/c[0],d=l[1]/c[1],h=1/u,f=1/d,p=Math.ceil(h)*2+2,m=Math.ceil(f)*2+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(u,");\n        const float widthScale = float(").concat(d,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(f,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(m,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(l[0],") *\n                (float(dyR) / float(").concat(c[0],"));\n\n            float sourceFracCol =\n                float(").concat(l[1],") *\n                  (float(dyC) / float(").concat(c[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(i," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(i," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NOe(t){const{inputs:e,backend:n,attrs:i}=t,{images:r,dy:o}=e,{alignCorners:s}=i,a=new AOe(o.shape,r.shape,s);return n.runWebGLProgram(a,[o],o.dtype)}const OOe={kernelName:_E,backendName:"webgl",kernelFunc:NOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DOe{constructor(e,n){this.variableNames=["x"];const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));if(this.outputShape=e,i===1){this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      ");return}const r=a=>n.indexOf(a)!==-1&&e[a]!==1?"".concat(e[a]," - coords[").concat(a,"] - 1"):"coords[".concat(a,"]"),o=e.map((a,l)=>r(l)).join(","),s=Xt(i);this.userCode="\n      void main() {\n        ".concat(s," coords = getOutputCoords();\n        setOutput(getX(").concat(o,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ROe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=e.length;if(i>4)throw new Error("WebGL backend: Reverse of rank-".concat(i," tensor is not yet supported"));this.outputShape=e;const r=tr("rc",i),o="".concat(r[i-1]," + 1 < ").concat(this.outputShape[i-1]),s="".concat(r[i-2]," + 1 < ").concat(this.outputShape[i-2]),a=Xt(i);i===1?this.userCode="\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):this.userCode="\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(l(r.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(c(r.slice()),";\n          }\n          if(").concat(s,") {\n            result.b = ").concat(u(r.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(d(r.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ");function l(p){return h(p)}function c(p){return p[i-1]="("+p[i-1]+" + 1)",h(p)}function u(p){return p[i-2]="("+p[i-2]+" + 1)",h(p)}function d(p){return p[i-1]="("+p[i-1]+" + 1)",p[i-2]="("+p[i-2]+" + 1)",h(p)}function h(p){const m=e.map((x,y)=>f(y,p)),b=m.join(","),g=m.slice(-2).join(",");return"getChannel(getX(".concat(b,"), vec2(").concat(g,"))")}function f(p,m){return n.indexOf(p)!==-1&&e[p]!==1?"".concat(e[p]," - ").concat(m[p]," - 1"):"".concat(m[p])}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LOe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{dims:o}=i,s=r.shape.length,a=Tt(o,r.shape);if(s===0)return Yr({inputs:{x:r},backend:n});const l=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ROe(r.shape,a):new DOe(r.shape,a);return n.runWebGLProgram(l,[r],r.dtype)}const zOe={kernelName:hv,backendName:"webgl",kernelFunc:LOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FOe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=e[1],r=e[2];this.outputShape=e;let o="";typeof n=="number"?o="float outputValue = ".concat(n.toFixed(2),";"):o="\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(r," && coordY >= 0 && coordY < ").concat(i,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MOe={kernelName:qE,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:r,fillValue:o,center:s}=e,a=n,l=new FOe(i.shape,o),[c,u]=JT(s,i.shape[1],i.shape[2]),d=[[c,u,Math.sin(r),Math.cos(r)]];return a.runWebGLProgram(l,[i],i.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const POe="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",BOe=zt({opSnippet:POe}),jOe={kernelName:kg,backendName:"webgl",kernelFunc:BOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UOe="return inversesqrt(x);",VOe=zt({opSnippet:UOe,cpuKernelImpl:n5e}),HOe={kernelName:Sg,backendName:"webgl",kernelFunc:VOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t5{constructor(e,n,i,r,o,s,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const c=Xt(o.length),u=Xt(s.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let f="";r===1?f="i":r===2&&(f="i, coords[1]");const p="getUpdates(".concat(f,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(h,");\n              flattenedIndex += index * ").concat(g,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(b,", sum, float(found)));\n        }\n      ")}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WOe{constructor(e,n,i,r,o,s,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s;const c=Xt(o.length),u=Xt(s.length);let d="";i===1?d="i":i===2&&(d="i, j");const h="getIndices(".concat(d,")");let f="";r===1?f="i":r===2&&(f="i, coords[1]");const p="getUpdates(".concat(f,")");let m="";l&&(m="coords[0], coords[1]");const b="getDefaultValue(".concat(m,")"),g=n>1?"strides[j]":"strides",x=n>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(c," strides = ").concat(c,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(n,"; j+=2) {\n              ivec4 index = round(").concat(h,");\n              flattenedIndex += index.xz * ").concat(g,";\n              if (j + 1 < ").concat(n,") {\n                flattenedIndex += index.yw * ").concat(x,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(p,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(b,", sum, found));\n        }\n      ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GOe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:r,updates:o}=e,{shape:s}=i,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Qu(o,r,s),h=[d/c,c];if(d===0)return n.makeTensorInfo(s,r.dtype);const f=Pe({inputs:{x:r},backend:n,attrs:{shape:[l,a]}}),p=Pe({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let b;fe().getBool("WEBGL_PACK")?b=new WOe(l,a,f.shape.length,p.shape.length,u,h):b=new t5(l,a,f.shape.length,p.shape.length,u,h);const g=n.runWebGLProgram(b,[p,f,m],p.dtype),x=Pe({inputs:{x:g},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),x}const qOe={kernelName:NE,backendName:"webgl",kernelFunc:GOe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XOe{constructor(e,n,i,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,i];const o="while (left < right) {",s="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),a=fe().getNumber("WEBGL_VERSION")===2?o:s,l=r==="left"?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(a,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(l," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KOe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:r,values:o}=e,{side:s}=i,a=new XOe(r.shape[0],r.shape[1],o.shape[1],s),l=[[r.shape[1]]];return n.runWebGLProgram(a,[r,o],"int32",l)}const YOe={kernelName:DE,backendName:"webgl",kernelFunc:KOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZOe{constructor(e,n,i){this.variableNames=["c","a","b"],this.outputShape=n;let r,o;if(i>4)throw Error("Where for rank ".concat(i," is not yet supported"));if(i===1)o="resRC",r="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push("".concat(a[u])),u<e&&l.push("".concat(a[u]));r=l.join(),o=c.join()}const s=Xt(i);this.userCode="\n      void main() {\n        ".concat(s," resRC = getOutputCoords();\n        float cVal = getC(").concat(r,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JOe(t){const{inputs:e,backend:n}=t,{condition:i,t:r,e:o}=e,s=new ZOe(i.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(s,[i,r,o],qr(r.dtype,o.dtype))}const QOe={kernelName:fv,backendName:"webgl",kernelFunc:JOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eDe="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(Xv,";\n  float scale = ").concat(Kv,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),tDe=zt({opSnippet:eDe}),nDe={kernelName:Cg,backendName:"webgl",kernelFunc:tDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iDe=vf+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",rDe="\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",oDe=zt({opSnippet:iDe,packedOpSnippet:rDe,cpuKernelImpl:r5e}),sDe={kernelName:$g,backendName:"webgl",kernelFunc:oDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aDe="\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n",lDe=zt({opSnippet:aDe}),cDe={kernelName:Ig,backendName:"webgl",kernelFunc:lDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uDe=vf+"\n  return sin(x);\n",dDe="\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(rd,"\n  return result;\n"),hDe=zt({opSnippet:uDe,packedOpSnippet:dDe}),fDe={kernelName:Eg,backendName:"webgl",kernelFunc:hDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pDe="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",mDe=zt({opSnippet:pDe}),gDe={kernelName:Tg,backendName:"webgl",kernelFunc:mDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bDe="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",xDe=zt({opSnippet:bDe}),yDe={kernelName:_g,backendName:"webgl",kernelFunc:xDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vDe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{blockShape:o,paddings:s}=i;P(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((g,x)=>g*x),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<r.shape.length;++g)l.push([0,0]);const c=[],u=Bj({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),d=Wg(u.shape,o,a,!1),h=Gg(d.length,o.length,!1),f=qg(u.shape,o,a,!1),p=Pe({inputs:{x:u},backend:n,attrs:{shape:d}}),m=lr({inputs:{x:p},backend:n,attrs:{perm:h}}),b=Pe({inputs:{x:m},backend:n,attrs:{shape:f}});return c.push(u),c.push(p),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),b},wDe={kernelName:gv,backendName:"webgl",kernelFunc:vDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t){const{inputs:e,backend:n}=t,{indices:i,values:r,denseShape:o,defaultValue:s}=e;if(o.shape.length!==1)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(i.shape.length!==2)throw new Error("Indices must be a matrix, saw:\n         ".concat(i.shape));if(r.shape.length!==1)throw new Error("Values must be a vector, saw:\n         ".concat(r.shape));if(s.shape.length!==0)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const a=n.readSync(i.dataId),l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=n.readSync(s.dataId)[0],[d,h,f,p,m]=s5e(a,i.shape,i.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(h,i.dtype,d),n.makeTensorInfo([h[0]],r.dtype,f),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(b=>Number(b)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const SDe={kernelName:RE,backendName:"webgl",kernelFunc:kDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CDe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:r,newShape:o}=e;if(i.shape.length!==2)throw new Error("Input indices should be a matrix but received shape ".concat(i.shape));if(r.shape.length!==1)throw new Error("Input shape should be a vector but received shape ".concat(r.shape));if(o.shape.length!==1)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=Array.from(n.readSync(r.dataId)),a=n.readSync(i.dataId),l=Array.from(n.readSync(o.dataId)),[c,u,d]=a5e(a,i.shape,i.dtype,s,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const EDe={kernelName:LE,backendName:"webgl",kernelFunc:CDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t){const{inputs:e,backend:n}=t,{data:i,indices:r,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error("Indices should be a vector but received shape\n              ".concat(r.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));const s=n.readSync(i.dataId),a=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=dj(s,i.shape,i.dtype,a,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const IDe={kernelName:zE,backendName:"webgl",kernelFunc:TDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $De(t){const{inputs:e,backend:n}=t,{data:i,indices:r,segmentIds:o}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error("Indices should be a vector but received shape\n             ".concat(r.shape));if(o.shape.length!==1)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));const s=n.readSync(i.dataId),a=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=dj(s,i.shape,i.dtype,a,l);return n.makeTensorInfo(u,i.dtype,c)}const _De={kernelName:FE,backendName:"webgl",kernelFunc:$De};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ADe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:r,sparseValues:o,defaultValue:s}=e,{outputShape:a}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=Qu(o,r,a),f=!1;if(o.dtype==="string"){const g=n.bufferSync(r),x=n.bufferSync(o),y=ec(n.readSync(s.dataId)[0]),v=i5e(g,x,a,h,u,c,l,d,y,f);return n.makeTensorInfo(a,v.dtype,v.values)}const p=new t5(c,l,r.shape.length,o.shape.length,d,[h,1],f),m=n.runWebGLProgram(p,[o,r,s],o.dtype),b=Pe({inputs:{x:m},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(m),b}const NDe={kernelName:ME,backendName:"webgl",kernelFunc:ADe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ODe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{numOrSizeSplits:o,axis:s}=i,a=Tt(s,r.shape)[0],l=fI(r,o,a),c=r.shape.length,u=new Array(c).fill(0),d=r.shape.slice();return l.map(h=>{const f=[...d];f[a]=h;const p=wf({inputs:{x:r},backend:n,attrs:{begin:u,size:f}});return u[a]+=h,p})}const DDe={kernelName:bv,backendName:"webgl",kernelFunc:ODe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AN="return sqrt(x);",RDe=zt({opSnippet:AN,packedOpSnippet:AN,cpuKernelImpl:l5e}),LDe={kernelName:Ag,backendName:"webgl",kernelFunc:RDe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zDe="return x * x;",FDe=zt({opSnippet:zDe}),MDe={kernelName:PE,backendName:"webgl",kernelFunc:FDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NN="return (a - b) * (a - b);",PDe=Bi({opSnippet:NN,packedOpSnippet:NN}),BDe={kernelName:Ng,backendName:"webgl",kernelFunc:PDe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jDe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");const o=n.readSync(r.dataId),s=Ka(o),a=c5e(s,"string",i);return n.makeTensorInfo(r.shape,"string",a)}const UDe={kernelName:yv,backendName:"webgl",kernelFunc:jDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe({inputs:t,attrs:e,backend:n}){const{x:i}=t,r=us+"\n    return x > 0.0 ? 1.0 : float(".concat(e.alpha,");\n  "),o=new Gs(i.shape,r);return n.runWebGLProgram(o,[i],i.dtype)}const HDe={kernelName:zg,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WDe{constructor(e,n,i){this.variableNames=["x"],this.outputShape=i;const r=i.length,o=Xt(i.length),s=Xt(i.length);let a="";if(r===1)a="coords * strides + begin";else{let l=0;a=i.map((c,u)=>(l++,i.length===1?"coords * strides[".concat(u,"] + begin[").concat(u,"]"):"coords[".concat(l-1,"] * strides[").concat(u,"] + begin[").concat(u,"]"))).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(e,");\n      ").concat(o," strides = ").concat(o,"(").concat(n,");\n\n      void main() {\n        ").concat(s," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GDe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{begin:o,end:s,strides:a,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=i,{finalShapeSparse:f,finalShape:p,isIdentity:m,sliceDim0:b,isSimpleSlice:g,begin:x,end:y,strides:v}=KT(r.shape,o,s,a,l,c,u,d,h);let w;if(m)w=Pe({inputs:{x:r},backend:n,attrs:{shape:p}});else if(b||g){P(r.shape.length>=1,()=>"Input must have rank at least 1, got: ".concat(r.shape.length));const C=GT(x,y,v),I=wf({inputs:{x:r},backend:n,attrs:{begin:x,size:C}});w=Pe({inputs:{x:I},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(I)}else if(n.shouldExecuteOnCPU([r])){const I=n.readSync(r.dataId),T=vt(r.shape,r.dtype,I),_=u5e(f,T,v,x);w=n.makeTensorInfo(p,r.dtype,_.values)}else{const I=new WDe(x,v,f);w=n.runWebGLProgram(I,[r],r.dtype)}const E=Pe({inputs:{x:w},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(w),E}const qDe={kernelName:BE,backendName:"webgl",kernelFunc:GDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XDe(t){const{inputs:e,backend:n,attrs:i}=t,{separator:r,nGramWidths:o,leftPad:s,rightPad:a,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,h=n.readSync(u.dataId),f=n.readSync(d.dataId),[p,m]=d5e(h,f,r,o,s,a,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const KDe={kernelName:jE,backendName:"webgl",kernelFunc:XDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YDe(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:r}=i,{input:o,delimiter:s}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(s.shape.length!==0)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const a=n.readSync(o.dataId),l=n.readSync(s.dataId)[0],[c,u,d]=h5e(a,l,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const ZDe={kernelName:UE,backendName:"webgl",kernelFunc:YDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:r}=i,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(o.dataId),a=f5e(s,r);return n.makeTensorInfo(o.shape,"int32",a)}const QDe={kernelName:VE,backendName:"webgl",kernelFunc:JDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eRe="return tan(x);",tRe=zt({opSnippet:eRe}),nRe={kernelName:Dg,backendName:"webgl",kernelFunc:tRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iRe="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",rRe=zt({opSnippet:iRe}),oRe={kernelName:Rg,backendName:"webgl",kernelFunc:rRe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sRe(t){const{inputs:e,backend:n,attrs:i}=t,{tensor:r,indices:o,updates:s}=e,{sliceRank:a,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=Qu(s,o,r.shape),h=[d/c,c];if(d===0)return n.makeTensorInfo(r.shape,o.dtype);const f=Pe({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),p=Pe({inputs:{x:s},backend:n,attrs:{shape:[l,c]}}),m=Pe({inputs:{x:r},backend:n,attrs:{shape:h}}),b=new t5(l,a,f.shape.length,p.shape.length,u,h,!1,!0),g=n.runWebGLProgram(b,[p,f,m],m.dtype),x=Pe({inputs:{x:g},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),x}const aRe={kernelName:OE,backendName:"webgl",kernelFunc:sRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lRe{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let s=0;s<i.length;s++)i[s]=e[s]*n[s];this.outputShape=i,this.rank=i.length;const r=Xt(this.rank),o=cRe(e);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}}function cRe(t){const e=t.length;if(e>5)throw Error("Tile for rank ".concat(e," is not yet supported"));if(e===1)return"imod(resRC, ".concat(t[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let r=0;r<t.length;r++)i.push("imod(".concat(n[r],", ").concat(t[r],")"));return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uj(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{reps:o}=i;if(r.dtype==="string"||r.shape.length>5){const l=n.readSync(r.dataId),c=r.dtype==="string"?l.map(h=>ec(h)):l,u=vt(r.shape,r.dtype,c),d=m5e(u,o);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const s=new lRe(r.shape,o);return n.runWebGLProgram(s,[r],r.dtype)}const uRe={kernelName:Lg,backendName:"webgl",kernelFunc:Uj};class dRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class hRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lc(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function ON(t){let e=1;for(;e<t;)e*=2;return e}function fRe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r}=e,{k:o,sorted:s}=i,a=fe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=fe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=r.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([r])||u<a||o>l){const _=n.readSync(r.dataId),[M,D]=g5e(_,c,r.dtype,o,s);return[n.makeTensorInfo(M.shape,M.dtype,M.values),n.makeTensorInfo(D.shape,D.dtype,D.values)]}if(o===0)return c[c.length-1]=0,[n.makeTensorInfo(c,r.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[r,a0({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),h=d!==null&&d.isPacked,f=h?n.unpackTensor(r):r,m=ge(c)/u,b=Pe({inputs:{x:f},attrs:{shape:[m,u]},backend:n});h&&Lc(n,f);const g=ON(o),x=ON(u);let y=null;const v=()=>y===null?[b,b]:[b,y],w=(_,M,D)=>{const z=v(),$=new dRe(D),j=[[u],[y===null?1:0],[Number.NEGATIVE_INFINITY],[_],[M]],W=y;y=n.runWebGLProgram($,z,"int32",j),Lc(n,W)};for(let _=1;_<g;_*=2){const M=_*2;for(let D=_;D>=1;D/=2)w(M,D,[m,x])}for(let _=x;_>g;_/=2){const M=v(),D=new hRe([m,_/2]),$=[[u],[y===null?1:0],[g]],F=y;y=n.runWebGLProgram(D,M,"int32",$),Lc(n,F);const j=g/2,W=j*2;for(let V=j;V>=1;V/=2)w(W,V,y.shape)}let E=y;y=wf({inputs:{x:y},backend:n,attrs:{begin:0,size:[m,o]}}),Lc(n,E);let C=Rj({inputs:{x:b,indices:y},backend:n,attrs:{axis:1,batchDims:1}});Lc(n,b);const I=c.slice(0,-1);I.push(o),E=y,y=Pe({inputs:{x:y},attrs:{shape:I},backend:n}),Lc(n,E);const T=C;return C=Pe({inputs:{x:C},attrs:{shape:I},backend:n}),Lc(n,T),[C,y]}const pRe={kernelName:HE,backendName:"webgl",kernelFunc:fRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mRe{constructor(e,n,i,r,o,s){this.variableNames=["Image","Transforms"],this.outputShape=s;const a=i==="nearest"?1:2;let l;switch(r){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(l," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(l," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(a," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gRe(t){const{inputs:e,backend:n,attrs:i}=t,{image:r,transforms:o}=e,{interpolation:s,fillMode:a,fillValue:l,outputShape:c}=i,[u,d,h,f]=r.shape,[p,m]=c!=null?c:[d,h],b=[u,p,m,f],g=new mRe(d,h,s,a,l,b);return n.runWebGLProgram(g,[r,o],"float32")}const bRe={kernelName:WE,backendName:"webgl",kernelFunc:gRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xRe(t){const{inputs:e,attrs:n,backend:i}=t,{axis:r}=n,{x:o}=e;r0(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=i.readSync(o.dataId),{outputValues:a,outputShape:l,indices:c}=b5e(s,r,o.shape,o.dtype);return[i.makeTensorInfo(l,o.dtype,a),i.makeTensorInfo([c.length],"int32",c)]}const yRe={kernelName:GE,backendName:"webgl",kernelFunc:xRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vRe(t){const{inputs:e,backend:n,attrs:i}=t,{value:r}=e;let{axis:o}=i;o<0&&(o+=r.shape.length);const s=r,a=s.shape.length,l=r.shape[o],c=new Array(a-1);let u=0;for(let m=0;m<a;m++)m!==o&&(c[u++]=s.shape[m]);const d=[],h=new Array(a).fill(0),f=s.shape.slice();f[o]=1;const p=new Array(l);for(let m=0;m<p.length;m++){h[o]=m;const b=wf({inputs:{x:s},backend:n,attrs:{begin:h,size:f}}),g=Pe({inputs:{x:b},backend:n,attrs:{shape:c}});p[m]=g,d.push(b)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const wRe={kernelName:vv,backendName:"webgl",kernelFunc:vRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kRe{constructor(e,n){this.variableNames=["x","segmentIds"];const i=e.windowSize,r=e.batchSize,o=e.inSize,s=e.numSegments,a=s*Math.ceil(o/i);this.outputShape=[r,a];const l="0.0",c="sumValue",u=Math.floor(i/4)*4,d=i%4,h="\n        sumValue += dot(values, segFilter);\n    ";let f="";o%i>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));let p="";o%i>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(l,";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(s,")) * float(").concat(i,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(s,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(d===1,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===2,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(h,"\n        } else if (").concat(d===3,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SRe(t){const{inputs:e,backend:n,attrs:i}=t,{x:r,segmentIds:o}=e,{numSegments:s}=i,a=r.shape.length,l=[];let c=0;const u=_n([c],a);let d=r;u!=null&&(d=lr({inputs:{x:r},backend:n,attrs:{perm:u}}),l.push(d),c=Wn(1,a)[0]);const h=vF(d.shape,c,s),f=ge([d.shape[c]]),p=Pe({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});l.push(p);const m=KE(r.dtype),b=(v,w,E,C,I)=>{const T=v.shape[0],_=v.shape[1],M=yF(_,I),D={windowSize:M,inSize:_,batchSize:T,numSegments:I},z=new kRe(D,w),$=n.compileAndRun(z,[v,E],C);if(l.push($),$.shape[1]===I)return $;const F=jj({backend:n,attrs:{start:0,stop:I,step:1,dtype:"float32"}}),j=Uj({inputs:{x:F},backend:n,attrs:{reps:[_/M]}});return l.push(F),l.push(j),b($,w,j,C,I)},g=b(p,"unsortedSegmentSum",o,m,s),x=Pe({inputs:{x:g},backend:n,attrs:{shape:h}});let y=x;if(u!=null){l.push(x);const v=vc(u);y=lr({inputs:{x:y},backend:n,attrs:{perm:v}})}return l.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const CRe={kernelName:wv,backendName:"webgl",kernelFunc:SRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ERe=[l6e,u6e,f6e,g6e,x6e,w6e,S6e,E6e,_6e,N6e,R6e,F6e,B6e,H6e,q6e,K6e,Z6e,t$e,i$e,o$e,c$e,g$e,x$e,k$e,C$e,A$e,O$e,z$e,W5e,P$e,H$e,X$e,e_e,i_e,o_e,a_e,c_e,f_e,g_e,y_e,w_e,S_e,E_e,$_e,A_e,R_e,z_e,P_e,U_e,H_e,X_e,J_e,nAe,oAe,lAe,cAe,dAe,fAe,mAe,bAe,yAe,SAe,TAe,_Ae,NAe,RAe,FAe,jAe,WAe,H5e,qAe,U$e,YAe,QAe,nNe,q5e,sNe,uNe,hNe,gNe,yNe,SNe,TNe,ANe,RNe,FNe,PNe,VNe,WNe,qNe,ZNe,QNe,t8e,i8e,o8e,c8e,f8e,b8e,E8e,Y5e,_8e,O8e,L8e,M8e,T$e,j8e,V8e,W8e,X8e,J8e,K5e,eOe,nOe,rOe,sOe,aOe,I$e,w8e,uOe,pOe,xOe,J5e,kOe,EOe,_Oe,OOe,zOe,MOe,jOe,HOe,qOe,YOe,QOe,nDe,sDe,cDe,fDe,gDe,p$e,S8e,yDe,wDe,SDe,EDe,IDe,_De,NDe,DDe,LDe,MDe,BDe,UDe,HDe,qDe,KDe,ZDe,QDe,k8e,o6e,nRe,oRe,aRe,uRe,pRe,bRe,s6e,yRe,wRe,CRe,U8e];for(const t of ERe)B9(t);var TRe={};(function(){var t;function e(k){var N=0;return function(){return N<k.length?{done:!1,value:k[N++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,N,R){return k==Array.prototype||k==Object.prototype||(k[N]=R.value),k};function i(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof an=="object"&&an];for(var N=0;N<k.length;++N){var R=k[N];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=i(this);function o(k,N){if(N)e:{var R=r;k=k.split(".");for(var H=0;H<k.length-1;H++){var J=k[H];if(!(J in R))break e;R=R[J]}k=k[k.length-1],H=R[k],N=N(H),N!=H&&N!=null&&n(R,k,{configurable:!0,writable:!0,value:N})}}o("Symbol",function(k){function N(ue){if(this instanceof N)throw new TypeError("Symbol is not a constructor");return new R(H+(ue||"")+"_"+J++,ue)}function R(ue,ie){this.g=ue,n(this,"description",{configurable:!0,writable:!0,value:ie})}if(k)return k;R.prototype.toString=function(){return this.g};var H="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",J=0;return N}),o("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var N="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),R=0;R<N.length;R++){var H=r[N[R]];typeof H=="function"&&typeof H.prototype[k]!="function"&&n(H.prototype,k,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return k});function s(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function a(k){var N=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return N?N.call(k):{next:e(k)}}function l(k){if(!(k instanceof Array)){k=a(k);for(var N,R=[];!(N=k.next()).done;)R.push(N.value);k=R}return k}var c=typeof Object.create=="function"?Object.create:function(k){function N(){}return N.prototype=k,new N},u;if(typeof Object.setPrototypeOf=="function")u=Object.setPrototypeOf;else{var d;e:{var h={a:!0},f={};try{f.__proto__=h,d=f.a;break e}catch(k){}d=!1}u=d?function(k,N){if(k.__proto__=N,k.__proto__!==N)throw new TypeError(k+" is not extensible");return k}:null}var p=u;function m(k,N){if(k.prototype=c(N.prototype),k.prototype.constructor=k,p)p(k,N);else for(var R in N)if(R!="prototype")if(Object.defineProperties){var H=Object.getOwnPropertyDescriptor(N,R);H&&Object.defineProperty(k,R,H)}else k[R]=N[R];k.na=N.prototype}function b(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(k){if(k.l)throw new TypeError("Generator is already running");k.l=!0}b.prototype.s=function(k){this.h=k};function x(k,N){k.j={da:N,ea:!0},k.g=k.o||k.u}b.prototype.return=function(k){this.j={return:k},this.g=this.u};function y(k,N,R){return k.g=R,{value:N}}function v(k){this.g=new b,this.h=k}function w(k,N){g(k.g);var R=k.g.i;return R?E(k,"return"in R?R.return:function(H){return{value:H,done:!0}},N,k.g.return):(k.g.return(N),C(k))}function E(k,N,R,H){try{var J=N.call(k.g.i,R);if(!(J instanceof Object))throw new TypeError("Iterator result "+J+" is not an object");if(!J.done)return k.g.l=!1,J;var ue=J.value}catch(ie){return k.g.i=null,x(k.g,ie),C(k)}return k.g.i=null,H.call(k.g,ue),C(k)}function C(k){for(;k.g.g;)try{var N=k.h(k.g);if(N)return k.g.l=!1,{value:N.value,done:!1}}catch(R){k.g.h=void 0,x(k.g,R)}if(k.g.l=!1,k.g.j){if(N=k.g.j,k.g.j=null,N.ea)throw N.da;return{value:N.return,done:!0}}return{value:void 0,done:!0}}function I(k){this.next=function(N){return g(k.g),k.g.i?N=E(k,k.g.i.next,N,k.g.s):(k.g.s(N),N=C(k)),N},this.throw=function(N){return g(k.g),k.g.i?N=E(k,k.g.i.throw,N,k.g.s):(x(k.g,N),N=C(k)),N},this.return=function(N){return w(k,N)},this[Symbol.iterator]=function(){return this}}function T(k){function N(H){return k.next(H)}function R(H){return k.throw(H)}return new Promise(function(H,J){function ue(ie){ie.done?H(ie.value):Promise.resolve(ie.value).then(N,R).then(ue,J)}ue(k.next())})}function _(k){return T(new I(new v(k)))}o("Promise",function(k){function N(ie){this.h=0,this.i=void 0,this.g=[],this.s=!1;var pe=this.j();try{ie(pe.resolve,pe.reject)}catch(ve){pe.reject(ve)}}function R(){this.g=null}function H(ie){return ie instanceof N?ie:new N(function(pe){pe(ie)})}if(k)return k;R.prototype.h=function(ie){if(this.g==null){this.g=[];var pe=this;this.i(function(){pe.l()})}this.g.push(ie)};var J=r.setTimeout;R.prototype.i=function(ie){J(ie,0)},R.prototype.l=function(){for(;this.g&&this.g.length;){var ie=this.g;this.g=[];for(var pe=0;pe<ie.length;++pe){var ve=ie[pe];ie[pe]=null;try{ve()}catch(ze){this.j(ze)}}}this.g=null},R.prototype.j=function(ie){this.i(function(){throw ie})},N.prototype.j=function(){function ie(ze){return function(Je){ve||(ve=!0,ze.call(pe,Je))}}var pe=this,ve=!1;return{resolve:ie(this.D),reject:ie(this.l)}},N.prototype.D=function(ie){if(ie===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ie instanceof N)this.H(ie);else{e:switch(typeof ie){case"object":var pe=ie!=null;break e;case"function":pe=!0;break e;default:pe=!1}pe?this.A(ie):this.o(ie)}},N.prototype.A=function(ie){var pe=void 0;try{pe=ie.then}catch(ve){this.l(ve);return}typeof pe=="function"?this.I(pe,ie):this.o(ie)},N.prototype.l=function(ie){this.u(2,ie)},N.prototype.o=function(ie){this.u(1,ie)},N.prototype.u=function(ie,pe){if(this.h!=0)throw Error("Cannot settle("+ie+", "+pe+"): Promise already settled in state"+this.h);this.h=ie,this.i=pe,this.h===2&&this.G(),this.B()},N.prototype.G=function(){var ie=this;J(function(){if(ie.C()){var pe=r.console;typeof pe<"u"&&pe.error(ie.i)}},1)},N.prototype.C=function(){if(this.s)return!1;var ie=r.CustomEvent,pe=r.Event,ve=r.dispatchEvent;return typeof ve>"u"?!0:(typeof ie=="function"?ie=new ie("unhandledrejection",{cancelable:!0}):typeof pe=="function"?ie=new pe("unhandledrejection",{cancelable:!0}):(ie=r.document.createEvent("CustomEvent"),ie.initCustomEvent("unhandledrejection",!1,!0,ie)),ie.promise=this,ie.reason=this.i,ve(ie))},N.prototype.B=function(){if(this.g!=null){for(var ie=0;ie<this.g.length;++ie)ue.h(this.g[ie]);this.g=null}};var ue=new R;return N.prototype.H=function(ie){var pe=this.j();ie.M(pe.resolve,pe.reject)},N.prototype.I=function(ie,pe){var ve=this.j();try{ie.call(pe,ve.resolve,ve.reject)}catch(ze){ve.reject(ze)}},N.prototype.then=function(ie,pe){function ve(ft,nt){return typeof ft=="function"?function(kt){try{ze(ft(kt))}catch(Bt){Je(Bt)}}:nt}var ze,Je,ht=new N(function(ft,nt){ze=ft,Je=nt});return this.M(ve(ie,ze),ve(pe,Je)),ht},N.prototype.catch=function(ie){return this.then(void 0,ie)},N.prototype.M=function(ie,pe){function ve(){switch(ze.h){case 1:ie(ze.i);break;case 2:pe(ze.i);break;default:throw Error("Unexpected state: "+ze.h)}}var ze=this;this.g==null?ue.h(ve):this.g.push(ve),this.s=!0},N.resolve=H,N.reject=function(ie){return new N(function(pe,ve){ve(ie)})},N.race=function(ie){return new N(function(pe,ve){for(var ze=a(ie),Je=ze.next();!Je.done;Je=ze.next())H(Je.value).M(pe,ve)})},N.all=function(ie){var pe=a(ie),ve=pe.next();return ve.done?H([]):new N(function(ze,Je){function ht(kt){return function(Bt){ft[kt]=Bt,nt--,nt==0&&ze(ft)}}var ft=[],nt=0;do ft.push(void 0),nt++,H(ve.value).M(ht(ft.length-1),Je),ve=pe.next();while(!ve.done)})},N});function M(k,N){k instanceof String&&(k+="");var R=0,H=!1,J={next:function(){if(!H&&R<k.length){var ue=R++;return{value:N(ue,k[ue]),done:!1}}return H=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}var D=typeof Object.assign=="function"?Object.assign:function(k,N){for(var R=1;R<arguments.length;R++){var H=arguments[R];if(H)for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(k[J]=H[J])}return k};o("Object.assign",function(k){return k||D}),o("Object.is",function(k){return k||function(N,R){return N===R?N!==0||1/N===1/R:N!==N&&R!==R}}),o("Array.prototype.includes",function(k){return k||function(N,R){var H=this;H instanceof String&&(H=String(H));var J=H.length;for(R=R||0,0>R&&(R=Math.max(R+J,0));R<J;R++){var ue=H[R];if(ue===N||Object.is(ue,N))return!0}return!1}}),o("String.prototype.includes",function(k){return k||function(N,R){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(N instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(N,R||0)!==-1}}),o("Array.prototype.keys",function(k){return k||function(){return M(this,function(N){return N})}});var z=this||self;function $(k,N){k=k.split(".");var R=z;k[0]in R||typeof R.execScript>"u"||R.execScript("var "+k[0]);for(var H;k.length&&(H=k.shift());)k.length||N===void 0?R[H]&&R[H]!==Object.prototype[H]?R=R[H]:R=R[H]={}:R[H]=N}function F(){throw Error("Invalid UTF8")}function j(k,N){return N=String.fromCharCode.apply(null,N),k==null?N:k+N}var W,V=typeof TextDecoder<"u",B,K=typeof TextEncoder<"u",q={},G=null;function le(k){var N;N===void 0&&(N=0),we(),N=q[N];for(var R=Array(Math.floor(k.length/3)),H=N[64]||"",J=0,ue=0;J<k.length-2;J+=3){var ie=k[J],pe=k[J+1],ve=k[J+2],ze=N[ie>>2];ie=N[(ie&3)<<4|pe>>4],pe=N[(pe&15)<<2|ve>>6],ve=N[ve&63],R[ue++]=ze+ie+pe+ve}switch(ze=0,ve=H,k.length-J){case 2:ze=k[J+1],ve=N[(ze&15)<<2]||H;case 1:k=k[J],R[ue]=N[k>>2]+N[(k&3)<<4|ze>>4]+ve+H}return R.join("")}function oe(k){var N=k.length,R=3*N/4;R%3?R=Math.floor(R):"=.".indexOf(k[N-1])!=-1&&(R="=.".indexOf(k[N-2])!=-1?R-2:R-1);var H=new Uint8Array(R),J=0;return re(k,function(ue){H[J++]=ue}),J!==R?H.subarray(0,J):H}function re(k,N){function R(ve){for(;H<k.length;){var ze=k.charAt(H++),Je=G[ze];if(Je!=null)return Je;if(!/^[\s\xa0]*$/.test(ze))throw Error("Unknown base64 encoding at char: "+ze)}return ve}we();for(var H=0;;){var J=R(-1),ue=R(0),ie=R(64),pe=R(64);if(pe===64&&J===-1)break;N(J<<2|ue>>4),ie!=64&&(N(ue<<4&240|ie>>2),pe!=64&&N(ie<<6&192|pe))}}function we(){if(!G){G={};for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),N=["+/=","+/","-_=","-_.","-_"],R=0;5>R;R++){var H=k.concat(N[R].split(""));q[R]=H;for(var J=0;J<H.length;J++){var ue=H[J];G[ue]===void 0&&(G[ue]=J)}}}}var _e=typeof Uint8Array=="function";function $e(k){return _e&&k!=null&&k instanceof Uint8Array}var Oe;function Ge(k){if(this.L=k,k!==null&&k.length===0)throw Error("ByteString should be constructed with non-empty values")}var qe=typeof Uint8Array.prototype.slice=="function",ot=0,lt=0;function O(k,N){if(k.constructor===Uint8Array)return k;if(k.constructor===ArrayBuffer)return new Uint8Array(k);if(k.constructor===Array)return new Uint8Array(k);if(k.constructor===String)return oe(k);if(k.constructor===Ge)return!N&&(N=k.L)&&N.constructor===Uint8Array?N:(N=k.L,N=N==null||$e(N)?N:typeof N=="string"?oe(N):null,(k=k.L=N)?new Uint8Array(k):Oe||(Oe=new Uint8Array(0)));if(k instanceof Uint8Array)return new Uint8Array(k.buffer,k.byteOffset,k.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function me(k,N){return Error("Invalid wire type: "+k+" (at position "+N+")")}function he(){return Error("Failed to read varint, encoding is invalid.")}function Y(k,N){N=N===void 0?{}:N,N=N.v===void 0?!1:N.v,this.h=null,this.g=this.i=this.j=0,this.v=N,k&&X(this,k)}function X(k,N){k.h=O(N,k.v),k.j=0,k.i=k.h.length,k.g=k.j}Y.prototype.reset=function(){this.g=this.j};function ae(k){if(k.g>k.i)throw Error("Tried to read past the end of the data "+k.g+" > "+k.i)}function ye(k){var N=k.h,R=N[k.g],H=R&127;if(128>R)return k.g+=1,ae(k),H;if(R=N[k.g+1],H|=(R&127)<<7,128>R)return k.g+=2,ae(k),H;if(R=N[k.g+2],H|=(R&127)<<14,128>R)return k.g+=3,ae(k),H;if(R=N[k.g+3],H|=(R&127)<<21,128>R)return k.g+=4,ae(k),H;if(R=N[k.g+4],k.g+=5,H|=(R&15)<<28,128>R)return ae(k),H;if(128<=N[k.g++]&&128<=N[k.g++]&&128<=N[k.g++]&&128<=N[k.g++]&&128<=N[k.g++])throw he();return ae(k),H}var Ce=[];function de(){this.g=[]}de.prototype.length=function(){return this.g.length},de.prototype.end=function(){var k=this.g;return this.g=[],k};function Ie(k,N){for(;127<N;)k.g.push(N&127|128),N>>>=7;k.g.push(N)}function Fe(k){var N={},R=N.W===void 0?!1:N.W;this.l={v:N.v===void 0?!1:N.v},this.W=R,N=this.l,Ce.length?(R=Ce.pop(),N&&(R.v=N.v),k&&X(R,k),k=R):k=new Y(k,N),this.g=k,this.j=this.g.g,this.h=this.i=-1}Fe.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Ae(k){var N=k.g;if(N.g==N.i)return!1;k.j=k.g.g;var R=ye(k.g)>>>0;if(N=R>>>3,R&=7,!(0<=R&&5>=R))throw me(R,k.j);if(1>N)throw Error("Invalid field number: "+N+" (at position "+k.j+")");return k.i=N,k.h=R,!0}function We(k){switch(k.h){case 0:if(k.h!=0)We(k);else e:{k=k.g;for(var N=k.g,R=N+10;N<R;)if(!(k.h[N++]&128)){k.g=N,ae(k);break e}throw he()}break;case 1:k=k.g,k.g+=8,ae(k);break;case 2:k.h!=2?We(k):(N=ye(k.g)>>>0,k=k.g,k.g+=N,ae(k));break;case 5:k=k.g,k.g+=4,ae(k);break;case 3:N=k.i;do{if(!Ae(k))throw Error("Unmatched start-group tag: stream EOF");if(k.h==4){if(k.i!=N)throw Error("Unmatched end-group tag");break}We(k)}while(!0);break;default:throw me(k.h,k.j)}}var bt=[];function dt(){this.i=[],this.h=0,this.g=new de}function Vt(k,N){N.length!==0&&(k.i.push(N),k.h+=N.length)}function dr(k,N){if(N=N.ba){Vt(k,k.g.end());for(var R=0;R<N.length;R++)Vt(k,N[R])}}var cn=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function $r(k,N){Object.isFrozen(k)||(cn?k[cn]|=N:k.N!==void 0?k.N|=N:Object.defineProperties(k,{N:{value:N,configurable:!0,writable:!0,enumerable:!1}}))}function Pt(k){var N;return cn?N=k[cn]:N=k.N,N==null?0:N}function _r(k){return $r(k,1),k}function to(k){return Array.isArray(k)?!!(Pt(k)&2):!1}function hr(k){if(!Array.isArray(k))throw Error("cannot mark non-array as immutable");$r(k,2)}function Ic(k){return k!==null&&typeof k=="object"&&!Array.isArray(k)&&k.constructor===Object}var ol=Object.freeze(_r([]));function sd(k){if(to(k.m))throw Error("Cannot mutate an immutable Message")}var ad=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function $c(k){return{value:k,configurable:!1,writable:!1,enumerable:!1}}function ci(k,N,R){return N===-1?null:N>=k.i?k.g?k.g[N]:void 0:R!==void 0&&R&&k.g&&(R=k.g[N],R!=null)?R:k.m[N+k.h]}function un(k,N,R,H){H=H===void 0?!1:H,sd(k),N<k.i&&!H?k.m[N+k.h]=R:(k.g||(k.g=k.m[k.i+k.h]={}))[N]=R}function l0(k,N,R,H){R=R===void 0?!0:R,H=H===void 0?!1:H;var J=ci(k,N,H);return J==null&&(J=ol),to(k.m)?R&&(hr(J),Object.freeze(J)):(J===ol||to(J))&&(J=_r(J.slice()),un(k,N,J,H)),J}function Co(k,N,R){return k=ci(k,N),k=k==null?k:+k,k==null?R===void 0?0:R:k}function ld(k,N,R,H){k.j||(k.j={});var J=to(k.m),ue=k.j[R];if(!ue){H=l0(k,R,!0,H===void 0?!1:H),ue=[],J=J||to(H);for(var ie=0;ie<H.length;ie++)ue[ie]=new N(H[ie]),J&&hr(ue[ie].m);J&&(hr(ue),Object.freeze(ue)),k.j[R]=ue}return ue}function c0(k,N,R,H,J){var ue=ue===void 0?!1:ue;return sd(k),ue=ld(k,R,N,ue),R=H||new R,k=l0(k,N),J!=null?(ue.splice(J,0,R),k.splice(J,0,R.m)):(ue.push(R),k.push(R.m)),R}function _c(k,N){return k=ci(k,N),k==null?0:k}function u0(k,N){return k=ci(k,N),k==null?"":k}function d0(k){switch(typeof k){case"number":return isFinite(k)?k:String(k);case"object":if(k&&!Array.isArray(k)){if($e(k))return le(k);if(k instanceof Ge){var N=k.L;return N=N==null||typeof N=="string"?N:_e&&N instanceof Uint8Array?le(N):null,(k.L=N)||""}}}return k}function sl(k){var N=fw;return N=N===void 0?pw:N,fr(k,N)}function kf(k,N){if(k!=null){if(Array.isArray(k))k=fr(k,N);else if(Ic(k)){var R={},H;for(H in k)R[H]=kf(k[H],N);k=R}else k=N(k);return k}}function fr(k,N){for(var R=k.slice(),H=0;H<R.length;H++)R[H]=kf(R[H],N);return Array.isArray(k)&&Pt(k)&1&&_r(R),R}function fw(k){return k&&typeof k=="object"&&k.toJSON?k.toJSON():(k=d0(k),Array.isArray(k)?sl(k):k)}function pw(k){return $e(k)?new Uint8Array(k):k}function cd(k,N,R){k||(k=Sf),Sf=null;var H=this.constructor.h;k||(k=H?[H]:[]),this.h=(H?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=k;e:{if(H=this.m.length,k=H-1,H&&(H=this.m[k],Ic(H))){this.i=k-this.h,this.g=H;break e}N!==void 0&&-1<N?(this.i=Math.max(N,k+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(R)for(N=0;N<R.length;N++)if(k=R[N],k<this.i)k+=this.h,(H=this.m[k])?Array.isArray(H)&&_r(H):this.m[k]=ol;else{H=this.g||(this.g=this.m[this.i+this.h]={});var J=H[k];J?Array.isArray(J)&&_r(J):H[k]=ol}}cd.prototype.toJSON=function(){return sl(this.m)},cd.prototype.toString=function(){return this.m.toString()};var Sf;function ud(){cd.apply(this,arguments)}if(m(ud,cd),ad){var h0={};Object.defineProperties(ud,(h0[Symbol.hasInstance]=$c(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),h0))}function f0(k,N,R){if(R){var H={},J;for(J in R){var ue=R[J],ie=ue.ha;ie||(H.F=ue.la||ue.fa.P,ue.aa?(H.U=Xe(ue.aa),ie=function(pe){return function(ve,ze,Je){return pe.F(ve,ze,Je,pe.U)}}(H)):ue.ca?(H.T=wt(ue.X.g,ue.ca),ie=function(pe){return function(ve,ze,Je){return pe.F(ve,ze,Je,pe.T)}}(H)):ie=H.F,ue.ha=ie),ie(N,k,ue.X),H={F:H.F,U:H.U,T:H.T}}}dr(N,k)}var dd=Symbol();function Cf(k,N,R){return k[dd]||(k[dd]=function(H,J){return N(H,J,R)})}function p0(k){var N=k[dd];if(!N){var R=o5(k);N=function(H,J){return s5(H,J,R)},k[dd]=N}return N}function m0(k){var N=k.aa;if(N)return p0(N);if(N=k.ka)return Cf(k.X.g,N,k.ca)}function n5(k){var N=m0(k),R=k.X,H=k.fa.O;return N?function(J,ue){return H(J,ue,R,N)}:function(J,ue){return H(J,ue,R)}}function mw(k,N,R,H,J,ue){k=k();var ie=0;for(k.length&&typeof k[0]!="number"&&(R(N,k[0]),ie++);ie<k.length;){R=k[ie++];for(var pe=ie+1;pe<k.length&&typeof k[pe]!="number";)pe++;var ve=k[ie++];switch(pe-=ie,pe){case 0:H(N,R,ve);break;case 1:H(N,R,ve,k[ie++]);break;case 2:J(N,R,ve,k[ie++],k[ie++]);break;case 3:pe=k[ie++];var ze=k[ie++],Je=k[ie++];Array.isArray(Je)?J(N,R,ve,pe,ze,Je):ue(N,R,ve,pe,ze,Je);break;case 4:ue(N,R,ve,k[ie++],k[ie++],k[ie++],k[ie++]);break;default:throw Error("unexpected number of binary field arguments: "+pe)}}return N}var xe=Symbol();function Xe(k){var N=k[xe];if(!N){var R=i5(k);N=function(H,J){return a5(H,J,R)},k[xe]=N}return N}function wt(k,N){var R=k[xe];return R||(R=function(H,J){return f0(H,J,N)},k[xe]=R),R}var En=Symbol();function ji(k,N){k.push(N)}function Eo(k,N,R){k.push(N,R.P)}function ha(k,N,R,H,J){var ue=Xe(J),ie=R.P;k.push(N,function(pe,ve,ze){return ie(pe,ve,ze,H,ue)})}function qj(k,N,R,H,J,ue){var ie=wt(H,ue),pe=R.P;k.push(N,function(ve,ze,Je){return pe(ve,ze,Je,H,ie)})}function i5(k){var N=k[En];return N||mw(k,k[En]=[],ji,Eo,ha,qj)}var r5=Symbol();function Xj(k,N){k[0]=N}function Kj(k,N,R,H){var J=R.O;k[N]=H?function(ue,ie,pe){return J(ue,ie,pe,H)}:J}function Yj(k,N,R,H,J,ue){var ie=R.O,pe=p0(J);k[N]=function(ve,ze,Je){return ie(ve,ze,Je,H,pe,ue)}}function Zj(k,N,R,H,J,ue,ie){var pe=R.O,ve=Cf(H,J,ue);k[N]=function(ze,Je,ht){return pe(ze,Je,ht,H,ve,ie)}}function o5(k){var N=k[r5];return N||mw(k,k[r5]={},Xj,Kj,Yj,Zj)}function s5(k,N,R){for(;Ae(N)&&N.h!=4;){var H=N.i,J=R[H];if(!J){var ue=R[0];ue&&(ue=ue[H])&&(J=R[H]=n5(ue))}if((!J||!J(N,k,H))&&(J=N,H=k,ue=J.j,We(J),!J.W)){var ie=J.g.h;J=J.g.g,J=ue===J?Oe||(Oe=new Uint8Array(0)):qe?ie.slice(ue,J):new Uint8Array(ie.subarray(ue,J)),(ue=H.ba)?ue.push(J):H.ba=[J]}}return k}function gw(k,N,R){if(bt.length){var H=bt.pop();k&&(X(H.g,k),H.i=-1,H.h=-1),k=H}else k=new Fe(k);try{return s5(new N,k,o5(R))}finally{N=k.g,N.h=null,N.j=0,N.i=0,N.g=0,N.v=!1,k.i=-1,k.h=-1,100>bt.length&&bt.push(k)}}function a5(k,N,R){for(var H=R.length,J=H%2==1,ue=J?1:0;ue<H;ue+=2)(0,R[ue+1])(N,k,R[ue]);f0(k,N,J?R[0]:void 0)}function bw(k,N){var R=new dt;a5(k,R,i5(N)),Vt(R,R.g.end()),k=new Uint8Array(R.h),N=R.i;for(var H=N.length,J=0,ue=0;ue<H;ue++){var ie=N[ue];k.set(ie,J),J+=ie.length}return R.i=[k],k}function Ef(k,N){return{O:k,P:N}}var ds=Ef(function(k,N,R){if(k.h!==5)return!1;k=k.g;var H=k.h[k.g],J=k.h[k.g+1],ue=k.h[k.g+2],ie=k.h[k.g+3];return k.g+=4,ae(k),J=(H<<0|J<<8|ue<<16|ie<<24)>>>0,k=2*(J>>31)+1,H=J>>>23&255,J&=8388607,un(N,R,H==255?J?NaN:1/0*k:H==0?k*Math.pow(2,-149)*J:k*Math.pow(2,H-150)*(J+Math.pow(2,23))),!0},function(k,N,R){if(N=ci(N,R),N!=null){Ie(k.g,8*R+5),k=k.g;var H=N;H=(R=0>H?1:0)?-H:H,H===0?0<1/H?ot=lt=0:(lt=0,ot=2147483648):isNaN(H)?(lt=0,ot=2147483647):34028234663852886e22<H?(lt=0,ot=(R<<31|2139095040)>>>0):11754943508222875e-54>H?(H=Math.round(H/Math.pow(2,-149)),lt=0,ot=(R<<31|H)>>>0):(N=Math.floor(Math.log(H)/Math.LN2),H*=Math.pow(2,-N),H=Math.round(8388608*H),16777216<=H&&++N,lt=0,ot=(R<<31|N+127<<23|H&8388607)>>>0),R=ot,k.g.push(R>>>0&255),k.g.push(R>>>8&255),k.g.push(R>>>16&255),k.g.push(R>>>24&255)}}),Jj=Ef(function(k,N,R){if(k.h!==0)return!1;for(var H=k.g,J=128,ue=0,ie=k=0;4>ie&&128<=J;ie++)J=H.h[H.g++],ae(H),ue|=(J&127)<<7*ie;if(128<=J&&(J=H.h[H.g++],ae(H),ue|=(J&127)<<28,k|=(J&127)>>4),128<=J)for(ie=0;5>ie&&128<=J;ie++)J=H.h[H.g++],ae(H),k|=(J&127)<<7*ie+3;if(128>J)H=ue>>>0,J=k>>>0,(k=J&2147483648)&&(H=~H+1>>>0,J=~J>>>0,H==0&&(J=J+1>>>0)),H=4294967296*J+(H>>>0);else throw he();return un(N,R,k?-H:H),!0},function(k,N,R){if(N=ci(N,R),N!=null&&N!=null){Ie(k.g,8*R),k=k.g;var H=N;for(R=0>H,H=Math.abs(H),N=H>>>0,H=Math.floor((H-N)/4294967296),H>>>=0,R&&(H=~H>>>0,N=(~N>>>0)+1,4294967295<N&&(N=0,H++,4294967295<H&&(H=0))),ot=N,lt=H,R=ot,N=lt;0<N||127<R;)k.g.push(R&127|128),R=(R>>>7|N<<25)>>>0,N>>>=7;k.g.push(R)}}),Qj=Ef(function(k,N,R){return k.h!==0?!1:(un(N,R,ye(k.g)),!0)},function(k,N,R){if(N=ci(N,R),N!=null&&N!=null)if(Ie(k.g,8*R),k=k.g,R=N,0<=R)Ie(k,R);else{for(N=0;9>N;N++)k.g.push(R&127|128),R>>=7;k.g.push(1)}}),l5=Ef(function(k,N,R){if(k.h!==2)return!1;var H=ye(k.g)>>>0;k=k.g;var J=k.g;k.g+=H,ae(k),k=k.h;var ue;if(V)(ue=W)||(ue=W=new TextDecoder("utf-8",{fatal:!0})),ue=ue.decode(k.subarray(J,J+H));else{H=J+H;for(var ie=[],pe=null,ve,ze,Je;J<H;)ve=k[J++],128>ve?ie.push(ve):224>ve?J>=H?F():(ze=k[J++],194>ve||(ze&192)!==128?(J--,F()):ie.push((ve&31)<<6|ze&63)):240>ve?J>=H-1?F():(ze=k[J++],(ze&192)!==128||ve===224&&160>ze||ve===237&&160<=ze||((ue=k[J++])&192)!==128?(J--,F()):ie.push((ve&15)<<12|(ze&63)<<6|ue&63)):244>=ve?J>=H-2?F():(ze=k[J++],(ze&192)!==128||(ve<<28)+(ze-144)>>30||((ue=k[J++])&192)!==128||((Je=k[J++])&192)!==128?(J--,F()):(ve=(ve&7)<<18|(ze&63)<<12|(ue&63)<<6|Je&63,ve-=65536,ie.push((ve>>10&1023)+55296,(ve&1023)+56320))):F(),8192<=ie.length&&(pe=j(pe,ie),ie.length=0);ue=j(pe,ie)}return un(N,R,ue),!0},function(k,N,R){if(N=ci(N,R),N!=null){var H=!1;if(H=H===void 0?!1:H,K){if(H&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(N))throw Error("Found an unpaired surrogate");N=(B||(B=new TextEncoder)).encode(N)}else{for(var J=0,ue=new Uint8Array(3*N.length),ie=0;ie<N.length;ie++){var pe=N.charCodeAt(ie);if(128>pe)ue[J++]=pe;else{if(2048>pe)ue[J++]=pe>>6|192;else{if(55296<=pe&&57343>=pe){if(56319>=pe&&ie<N.length){var ve=N.charCodeAt(++ie);if(56320<=ve&&57343>=ve){pe=1024*(pe-55296)+ve-56320+65536,ue[J++]=pe>>18|240,ue[J++]=pe>>12&63|128,ue[J++]=pe>>6&63|128,ue[J++]=pe&63|128;continue}else ie--}if(H)throw Error("Found an unpaired surrogate");pe=65533}ue[J++]=pe>>12|224,ue[J++]=pe>>6&63|128}ue[J++]=pe&63|128}}N=ue.subarray(0,J)}Ie(k.g,8*R+2),Ie(k.g,N.length),Vt(k,k.g.end()),Vt(k,N)}}),c5=Ef(function(k,N,R,H,J){if(k.h!==2)return!1;N=c0(N,R,H),R=k.g.i,H=ye(k.g)>>>0;var ue=k.g.g+H,ie=ue-R;if(0>=ie&&(k.g.i=ue,J(N,k),ie=ue-k.g.g),ie)throw Error("Message parsing ended unexpectedly. Expected to read "+(H+" bytes, instead read "+(H-ie)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return k.g.g=ue,k.g.i=R,!0},function(k,N,R,H,J){if(N=ld(N,H,R),N!=null)for(H=0;H<N.length;H++){var ue=k;Ie(ue.g,8*R+2);var ie=ue.g.end();Vt(ue,ie),ie.push(ue.h),ue=ie,J(N[H],k),ie=k;var pe=ue.pop();for(pe=ie.h+ie.g.length()-pe;127<pe;)ue.push(pe&127|128),pe>>>=7,ie.h++;ue.push(pe),ie.h++}});function To(){ud.apply(this,arguments)}if(m(To,ud),ad){var u5={};Object.defineProperties(To,(u5[Symbol.hasInstance]=$c(Object[Symbol.hasInstance]),u5))}function Tf(k){To.call(this,k)}m(Tf,To);function d5(){return[1,Qj,2,ds,3,l5,4,l5]}function xw(k){To.call(this,k,-1,tU)}m(xw,To),xw.prototype.addClassification=function(k,N){return c0(this,1,Tf,k,N),this};function eU(){return[1,c5,Tf,d5]}var tU=[1];function g0(k){To.call(this,k)}m(g0,To);function h5(){return[1,ds,2,ds,3,ds,4,ds,5,ds]}function f5(k){To.call(this,k,-1,iU)}m(f5,To);function nU(){return[1,c5,g0,h5]}var iU=[1];function yw(k){To.call(this,k)}m(yw,To);function p5(){return[1,ds,2,ds,3,ds,4,ds,5,ds,6,Jj]}var m5=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],g5=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],b5=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],x5=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],y5=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],v5=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],rU=[].concat(l(m5),l(g5),l(b5),l(x5),l(y5),l(v5));function w5(k,N,R){if(R=k.createShader(R===0?k.VERTEX_SHADER:k.FRAGMENT_SHADER),k.shaderSource(R,N),k.compileShader(R),!k.getShaderParameter(R,k.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+k.getShaderInfoLog(R));return R}function oU(k){return ld(k,Tf,1).map(function(N){return{index:_c(N,1),ga:Co(N,2),label:ci(N,3)!=null?u0(N,3):void 0,displayName:ci(N,4)!=null?u0(N,4):void 0}})}function sU(k){return{x:Co(k,1),y:Co(k,2),z:Co(k,3),visibility:ci(k,4)!=null?Co(k,4):void 0}}function vw(k,N){this.h=k,this.g=N,this.l=0}function k5(k,N,R){return aU(k,N),typeof k.g.canvas.transferToImageBitmap=="function"?Promise.resolve(k.g.canvas.transferToImageBitmap()):R?Promise.resolve(k.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(k.g.canvas):(k.i===void 0&&(k.i=document.createElement("canvas")),new Promise(function(H){k.i.height=k.g.canvas.height,k.i.width=k.g.canvas.width,k.i.getContext("2d",{}).drawImage(k.g.canvas,0,0,k.g.canvas.width,k.g.canvas.height),H(k.i)}))}function aU(k,N){var R=k.g;if(k.o===void 0){var H=w5(R,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),J=w5(R,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),ue=R.createProgram();if(R.attachShader(ue,H),R.attachShader(ue,J),R.linkProgram(ue),!R.getProgramParameter(ue,R.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+R.getProgramInfoLog(ue));H=k.o=ue,R.useProgram(H),J=R.getUniformLocation(H,"sampler0"),k.j={K:R.getAttribLocation(H,"aVertex"),J:R.getAttribLocation(H,"aTex"),ma:J},k.u=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,k.u),R.enableVertexAttribArray(k.j.K),R.vertexAttribPointer(k.j.K,2,R.FLOAT,!1,0,0),R.bufferData(R.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),R.STATIC_DRAW),R.bindBuffer(R.ARRAY_BUFFER,null),k.s=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,k.s),R.enableVertexAttribArray(k.j.J),R.vertexAttribPointer(k.j.J,2,R.FLOAT,!1,0,0),R.bufferData(R.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),R.STATIC_DRAW),R.bindBuffer(R.ARRAY_BUFFER,null),R.uniform1i(J,0)}H=k.j,R.useProgram(k.o),R.canvas.width=N.width,R.canvas.height=N.height,R.viewport(0,0,N.width,N.height),R.activeTexture(R.TEXTURE0),k.h.bindTexture2d(N.glName),R.enableVertexAttribArray(H.K),R.bindBuffer(R.ARRAY_BUFFER,k.u),R.vertexAttribPointer(H.K,2,R.FLOAT,!1,0,0),R.enableVertexAttribArray(H.J),R.bindBuffer(R.ARRAY_BUFFER,k.s),R.vertexAttribPointer(H.J,2,R.FLOAT,!1,0,0),R.bindFramebuffer(R.DRAW_FRAMEBUFFER?R.DRAW_FRAMEBUFFER:R.FRAMEBUFFER,null),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),R.colorMask(!0,!0,!0,!0),R.drawArrays(R.TRIANGLE_FAN,0,4),R.disableVertexAttribArray(H.K),R.disableVertexAttribArray(H.J),R.bindBuffer(R.ARRAY_BUFFER,null),k.h.bindTexture2d(0)}function lU(k){this.g=k}var cU=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function uU(k,N){return N+k}function S5(k,N){window[k]=N}function dU(k){var N=document.createElement("script");return N.setAttribute("src",k),N.setAttribute("crossorigin","anonymous"),new Promise(function(R){N.addEventListener("load",function(){R()},!1),N.addEventListener("error",function(){R()},!1),document.body.appendChild(N)})}function hU(){return _(function(k){switch(k.g){case 1:return k.o=2,y(k,WebAssembly.instantiate(cU),4);case 4:k.g=3,k.o=0;break;case 2:return k.o=0,k.j=null,k.return(!1);case 3:return k.return(!0)}})}function ww(k){if(this.g=k,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=k&&k.locateFile||uU,typeof window=="object")var N=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")N=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=N,k.options){N=a(Object.keys(k.options));for(var R=N.next();!R.done;R=N.next()){R=R.value;var H=k.options[R].default;H!==void 0&&(this.j[R]=typeof H=="function"?H():H)}}}t=ww.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function fU(k){var N,R,H,J,ue,ie,pe,ve,ze,Je,ht;return _(function(ft){switch(ft.g){case 1:return k.Z?(N=k.g.files===void 0?[]:typeof k.g.files=="function"?k.g.files(k.j):k.g.files,y(ft,hU(),2)):ft.return();case 2:if(R=ft.h,typeof window=="object")return S5("createMediapipeSolutionsWasm",{locateFile:k.locateFile}),S5("createMediapipeSolutionsPackedAssets",{locateFile:k.locateFile}),ie=N.filter(function(nt){return nt.data!==void 0}),pe=N.filter(function(nt){return nt.data===void 0}),ve=Promise.all(ie.map(function(nt){var kt=b0(k,nt.url);if(nt.path!==void 0){var Bt=nt.path;kt=kt.then(function(yn){return k.overrideFile(Bt,yn),Promise.resolve(yn)})}return kt})),ze=Promise.all(pe.map(function(nt){return nt.simd===void 0||nt.simd&&R||!nt.simd&&!R?dU(k.locateFile(nt.url,k.$)):Promise.resolve()})).then(function(){var nt,kt,Bt;return _(function(yn){if(yn.g==1)return nt=window.createMediapipeSolutionsWasm,kt=window.createMediapipeSolutionsPackedAssets,Bt=k,y(yn,nt(kt),2);Bt.h=yn.h,yn.g=0})}),Je=function(){return _(function(nt){return k.g.graph&&k.g.graph.url?nt=y(nt,b0(k,k.g.graph.url),0):(nt.g=0,nt=void 0),nt})}(),y(ft,Promise.all([ze,ve,Je]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return H=N.filter(function(nt){return nt.simd===void 0||nt.simd&&R||!nt.simd&&!R}).map(function(nt){return k.locateFile(nt.url,k.$)}),importScripts.apply(null,l(H)),J=k,y(ft,createMediapipeSolutionsWasm(Module),6);case 6:J.h=ft.h,k.l=new OffscreenCanvas(1,1),k.h.canvas=k.l,ue=k.h.GL.createContext(k.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),k.h.GL.makeContextCurrent(ue),ft.g=4;break;case 7:if(k.l=document.createElement("canvas"),ht=k.l.getContext("webgl2",{}),!ht&&(ht=k.l.getContext("webgl",{}),!ht))return alert("Failed to create WebGL canvas context when passing video frame."),ft.return();k.G=ht,k.h.canvas=k.l,k.h.createContext(k.l,!0,!0,{});case 4:k.i=new k.h.SolutionWasm,k.Z=!1,ft.g=0}})}function pU(k){var N,R,H,J,ue,ie,pe,ve;return _(function(ze){if(ze.g==1){if(k.g.graph&&k.g.graph.url&&k.Y===k.g.graph.url)return ze.return();if(k.s=!0,!k.g.graph||!k.g.graph.url){ze.g=2;return}return k.Y=k.g.graph.url,y(ze,b0(k,k.g.graph.url),3)}for(ze.g!=2&&(N=ze.h,k.i.loadGraph(N)),R=a(Object.keys(k.C)),H=R.next();!H.done;H=R.next())J=H.value,k.i.overrideFile(J,k.C[J]);if(k.C={},k.g.listeners)for(ue=a(k.g.listeners),ie=ue.next();!ie.done;ie=ue.next())pe=ie.value,xU(k,pe);ve=k.j,k.j={},k.setOptions(ve),ze.g=0})}t.reset=function(){var k=this;return _(function(N){k.i&&(k.i.reset(),k.o={},k.u={}),N.g=0})},t.setOptions=function(k,N){var R=this;if(N=N||this.g.options){for(var H=[],J=[],ue={},ie=a(Object.keys(k)),pe=ie.next();!pe.done;ue={R:ue.R,S:ue.S},pe=ie.next()){var ve=pe.value;ve in this.j&&this.j[ve]===k[ve]||(this.j[ve]=k[ve],pe=N[ve],pe!==void 0&&(pe.onChange&&(ue.R=pe.onChange,ue.S=k[ve],H.push(function(ze){return function(){var Je;return _(function(ht){if(ht.g==1)return y(ht,ze.R(ze.S),2);Je=ht.h,Je===!0&&(R.s=!0),ht.g=0})}}(ue))),pe.graphOptionXref&&(ve={valueNumber:pe.type===1?k[ve]:0,valueBoolean:pe.type===0?k[ve]:!1,valueString:pe.type===2?k[ve]:""},pe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),pe.graphOptionXref),ve),J.push(pe))))}(H.length!==0||J.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(J),this.A=(this.A===void 0?[]:this.A).concat(H))}};function mU(k){var N,R,H,J,ue,ie,pe;return _(function(ve){switch(ve.g){case 1:if(!k.s)return ve.return();if(!k.A){ve.g=2;break}N=a(k.A),R=N.next();case 3:if(R.done){ve.g=5;break}return H=R.value,y(ve,H(),4);case 4:R=N.next(),ve.g=3;break;case 5:k.A=void 0;case 2:if(k.B){for(J=new k.h.GraphOptionChangeRequestList,ue=a(k.B),ie=ue.next();!ie.done;ie=ue.next())pe=ie.value,J.push_back(pe);k.i.changeOptions(J),J.delete(),k.B=void 0}k.s=!1,ve.g=0}})}t.initialize=function(){var k=this;return _(function(N){return N.g==1?y(N,fU(k),2):N.g!=3?y(N,pU(k),3):y(N,mU(k),0)})};function b0(k,N){var R,H;return _(function(J){return N in k.H?J.return(k.H[N]):(R=k.locateFile(N,""),H=fetch(R).then(function(ue){return ue.arrayBuffer()}),k.H[N]=H,J.return(H))})}t.overrideFile=function(k,N){this.i?this.i.overrideFile(k,N):this.C[k]=N},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(k,N){var R=this,H,J,ue,ie,pe,ve,ze,Je,ht;return _(function(ft){switch(ft.g){case 1:return R.g.inputs?(H=1e3*(N==null?performance.now():N),y(ft,R.D,2)):ft.return();case 2:return y(ft,R.initialize(),3);case 3:for(J=new R.h.PacketDataList,ue=a(Object.keys(k)),ie=ue.next();!ie.done;ie=ue.next())if(pe=ie.value,ve=R.g.inputs[pe]){e:{var nt=k[pe];switch(ve.type){case"video":var kt=R.o[ve.stream];if(kt||(kt=new vw(R.h,R.G),R.o[ve.stream]=kt),kt.l===0&&(kt.l=kt.h.createTexture()),typeof HTMLVideoElement<"u"&&nt instanceof HTMLVideoElement)var Bt=nt.videoWidth,yn=nt.videoHeight;else typeof HTMLImageElement<"u"&&nt instanceof HTMLImageElement?(Bt=nt.naturalWidth,yn=nt.naturalHeight):(Bt=nt.width,yn=nt.height);yn={glName:kt.l,width:Bt,height:yn},Bt=kt.g,Bt.canvas.width=yn.width,Bt.canvas.height=yn.height,Bt.activeTexture(Bt.TEXTURE0),kt.h.bindTexture2d(kt.l),Bt.texImage2D(Bt.TEXTURE_2D,0,Bt.RGBA,Bt.RGBA,Bt.UNSIGNED_BYTE,nt),kt.h.bindTexture2d(0),kt=yn;break e;case"detections":for(kt=R.o[ve.stream],kt||(kt=new lU(R.h),R.o[ve.stream]=kt),kt.data||(kt.data=new kt.g.DetectionListData),kt.data.reset(nt.length),yn=0;yn<nt.length;++yn){Bt=nt[yn];var dn=kt.data,Ui=dn.setBoundingBox,Io=yn,Ar=Bt.boundingBox,jt=new yw;if(un(jt,1,Ar.xCenter),un(jt,2,Ar.yCenter),un(jt,3,Ar.height),un(jt,4,Ar.width),un(jt,5,Ar.rotation),un(jt,6,Ar.rectId),Ar=bw(jt,p5),Ui.call(dn,Io,Ar),Bt.landmarks)for(dn=0;dn<Bt.landmarks.length;++dn){jt=Bt.landmarks[dn];var ui=!!jt.visibility;Ui=kt.data,Io=Ui.addNormalizedLandmark,Ar=yn,jt=Object.assign(Object.assign({},jt),{visibility:ui?jt.visibility:0}),ui=new g0,un(ui,1,jt.x),un(ui,2,jt.y),un(ui,3,jt.z),jt.visibility&&un(ui,4,jt.visibility),jt=bw(ui,h5),Io.call(Ui,Ar,jt)}if(Bt.V)for(dn=0;dn<Bt.V.length;++dn)Ui=kt.data,Io=Ui.addClassification,Ar=yn,jt=Bt.V[dn],ui=new Tf,un(ui,2,jt.ga),jt.index&&un(ui,1,jt.index),jt.label&&un(ui,3,jt.label),jt.displayName&&un(ui,4,jt.displayName),jt=bw(ui,d5),Io.call(Ui,Ar,jt)}kt=kt.data;break e;default:kt={}}}switch(ze=kt,Je=ve.stream,ve.type){case"video":J.pushTexture2d(Object.assign(Object.assign({},ze),{stream:Je,timestamp:H}));break;case"detections":ht=ze,ht.stream=Je,ht.timestamp=H,J.pushDetectionList(ht);break;default:throw Error("Unknown input config type: '"+ve.type+"'")}}return R.i.send(J),y(ft,R.D,4);case 4:J.delete(),ft.g=0}})};function gU(k,N,R){var H,J,ue,ie,pe,ve,ze,Je,ht,ft,nt,kt,Bt,yn;return _(function(dn){switch(dn.g){case 1:if(!R)return dn.return(N);for(H={},J=0,ue=a(Object.keys(R)),ie=ue.next();!ie.done;ie=ue.next())pe=ie.value,ve=R[pe],typeof ve!="string"&&ve.type==="texture"&&N[ve.stream]!==void 0&&++J;1<J&&(k.I=!1),ze=a(Object.keys(R)),ie=ze.next();case 2:if(ie.done){dn.g=4;break}if(Je=ie.value,ht=R[Je],typeof ht=="string")return Bt=H,yn=Je,y(dn,bU(k,Je,N[ht]),14);if(ft=N[ht.stream],ht.type==="detection_list"){if(ft){for(var Ui=ft.getRectList(),Io=ft.getLandmarksList(),Ar=ft.getClassificationsList(),jt=[],ui=0;ui<Ui.size();++ui){var al=gw(Ui.get(ui),yw,p5);al={boundingBox:{xCenter:Co(al,1),yCenter:Co(al,2),height:Co(al,3),width:Co(al,4),rotation:Co(al,5,0),rectId:_c(al,6)},landmarks:ld(gw(Io.get(ui),f5,nU),g0,1).map(sU),V:oU(gw(Ar.get(ui),xw,eU))},jt.push(al)}Ui=jt}else Ui=[];H[Je]=Ui,dn.g=7;break}if(ht.type==="proto_list"){if(ft){for(Ui=Array(ft.size()),Io=0;Io<ft.size();Io++)Ui[Io]=ft.get(Io);ft.delete()}else Ui=[];H[Je]=Ui,dn.g=7;break}if(ft===void 0){dn.g=3;break}if(ht.type==="float_list"){H[Je]=ft,dn.g=7;break}if(ht.type==="proto"){H[Je]=ft,dn.g=7;break}if(ht.type!=="texture")throw Error("Unknown output config type: '"+ht.type+"'");return nt=k.u[Je],nt||(nt=new vw(k.h,k.G),k.u[Je]=nt),y(dn,k5(nt,ft,k.I),13);case 13:kt=dn.h,H[Je]=kt;case 7:ht.transform&&H[Je]&&(H[Je]=ht.transform(H[Je])),dn.g=3;break;case 14:Bt[yn]=dn.h;case 3:ie=ze.next(),dn.g=2;break;case 4:return dn.return(H)}})}function bU(k,N,R){var H;return _(function(J){return typeof R=="number"||R instanceof Uint8Array||R instanceof k.h.Uint8BlobList?J.return(R):R instanceof k.h.Texture2dDataOut?(H=k.u[N],H||(H=new vw(k.h,k.G),k.u[N]=H),J.return(k5(H,R,k.I))):J.return(void 0)})}function xU(k,N){for(var R=N.name||"$",H=[].concat(l(N.wants)),J=new k.h.StringList,ue=a(N.wants),ie=ue.next();!ie.done;ie=ue.next())J.push_back(ie.value);ue=k.h.PacketListener.implement({onResults:function(pe){for(var ve={},ze=0;ze<N.wants.length;++ze)ve[H[ze]]=pe.get(ze);var Je=k.listeners[R];Je&&(k.D=gU(k,ve,N.outs).then(function(ht){ht=Je(ht);for(var ft=0;ft<N.wants.length;++ft){var nt=ve[H[ft]];typeof nt=="object"&&nt.hasOwnProperty&&nt.hasOwnProperty("delete")&&nt.delete()}ht&&(k.D=ht)}))}}),k.i.attachMultiListener(J,ue),J.delete()}t.onResults=function(k,N){this.listeners[N||"$"]=k},$("Solution",ww),$("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function C5(k){var N=this;k=k||{};var R={url:"face_detection_short.binarypb"},H={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new ww({locateFile:k.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:R,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(J){var ue,ie,pe,ve,ze,Je;return _(function(ht){switch(ht.g){case 1:ue=J==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],ie=a(ue),pe=ie.next();case 2:if(pe.done){ht.g=4;break}return ve=pe.value,ze="third_party/mediapipe/modules/face_detection/"+ve,y(ht,b0(N.g,ve),5);case 5:Je=ht.h,N.g.overrideFile(ze,Je),pe=ie.next(),ht.g=2;break;case 4:return R.url=J==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",H.graphOptionXref.calculatorName=J==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",ht.return(!0)}})}},minDetectionConfidence:H}})}t=C5.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(k){this.g.onResults(k)},t.initialize=function(){var k=this;return _(function(N){return y(N,k.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(k){var N=this;return _(function(R){return y(R,N.g.send(k),0)})},t.setOptions=function(k){this.g.setOptions(k)},$("FaceDetection",C5),$("FACEDETECTION_LIPS",m5),$("FACEDETECTION_LEFT_EYE",g5),$("FACEDETECTION_LEFT_EYEBROW",b5),$("FACEDETECTION_RIGHT_EYE",x5),$("FACEDETECTION_RIGHT_EYEBROW",y5),$("FACEDETECTION_FACE_OVAL",v5),$("FACEDETECTION_CONTOURS",rU),$("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),$("VERSION","0.4.1646425229")}).call(an);/**
    * @license
    * Copyright 2024 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var uc=function(){return uc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},uc.apply(this,arguments)};function Ya(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(c){try{l(i.next(c))}catch(u){o(u)}}function a(c){try{l(i.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?r(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}l((i=i.apply(t,[])).next())})}function Za(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,i=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!((r=r.length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){s.label=u[1];break}if(u[0]===6&&s.label<r[1]){s.label=r[1],r=u;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(u);break}r[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],i=0}finally{n=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}var Vj=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],Z2={modelType:"short",runtime:"mediapipe",maxFaces:1},IRe=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new TRe.FaceDetection({locateFile:function(i,r){if(e.solutionPath){var o=e.solutionPath.replace(/\/+$/,"");return"".concat(o,"/").concat(i)}return"".concat(r,"/").concat(i)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(i){if(n.height=i.image.height,n.width=i.image.width,n.faces=[],i.detections!==null)for(var r=0,o=i.detections;r<o.length;r++){var s=o[r];n.faces.push(n.normalizedToAbsolute(s.landmarks,(a=s.boundingBox,l=void 0,c=void 0,u=void 0,l=a.xCenter-a.width/2,c=l+a.width,u=a.yCenter-a.height/2,{xMin:l,xMax:c,yMin:u,yMax:u+a.height,width:a.width,height:a.height})))}var a,l,c,u})}return t.prototype.normalizedToAbsolute=function(e,n){var i=this;return{keypoints:e.map(function(r,o){return{x:r.x*i.width,y:r.y*i.height,name:Vj[o]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return Ya(this,void 0,void 0,function(){var i,r;return Za(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Qt?(r=ImageData.bind,[4,kbe(e)]):[3,2];case 1:return i=new(r.apply(ImageData,[void 0,o.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:i=e,o.label=3;case 3:return e=i,[4,this.faceDetectorSolution.send({image:e})];case 4:return o.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t}();function $Re(t){return Ya(this,void 0,void 0,function(){var e,n;return Za(this,function(i){switch(i.label){case 0:return e=function(r){if(r==null)return uc({},Z2);var o=uc({},r);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=Z2.modelType),o.maxFaces==null&&(o.maxFaces=Z2.maxFaces),o}(t),[4,(n=new IRe(e)).initialize()];case 1:return i.sent(),[2,n]}})})}function _Re(t,e,n,i){var r=t.width,o=t.height,s=1,a=Math.cos(t.rotation),l=Math.sin(t.rotation),c=t.xCenter,u=t.yCenter,d=1/e,h=1/n,f=new Array(16);return f[0]=r*a*s*d,f[1]=-o*l*d,f[2]=0,f[3]=(-.5*r*a*s+.5*o*l+c)*d,f[4]=r*l*s*h,f[5]=o*a*h,f[6]=0,f[7]=(-.5*o*a-.5*r*l*s+u)*h,f[8]=0,f[9]=0,f[10]=r*d,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,function(p){if(p.length!==16)throw new Error("Array length must be 16 but got ".concat(p.length));return[[p[0],p[1],p[2],p[3]],[p[4],p[5],p[6],p[7]],[p[8],p[9],p[10],p[11]],[p[12],p[13],p[14],p[15]]]}(f)}function Hj(t){return t instanceof Qt?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function Wj(t){return t instanceof Qt?t:Sbe(t)}function J2(t,e){P(t.width!==0,function(){return"".concat(e," width cannot be 0.")}),P(t.height!==0,function(){return"".concat(e," height cannot be 0.")})}function ARe(t,e){var n=function(i,r,o,s){var a=r-i,l=s-o,c=l/a;return{scale:c,offset:o-i*c}}(0,255,e[0],e[1]);return ce(function(){return Se(Q(t,n.scale),n.offset)})}function NRe(t,e,n){var i=e.outputTensorSize,r=e.keepAspectRatio,o=e.borderMode,s=e.outputTensorFloatRange,a=Hj(t),l=function(h,f){return{xCenter:.5*h.width,yCenter:.5*h.height,width:h.width,height:h.height,rotation:0}}(a),c=function(h,f,p){if(p===void 0&&(p=!1),!p)return{top:0,left:0,right:0,bottom:0};var m=f.height,b=f.width;J2(f,"targetSize"),J2(h,"roi");var g,x,y=m/b,v=h.height/h.width,w=0,E=0;return y>v?(g=h.width,x=h.width*y,E=(1-v/y)/2):(g=h.height/y,x=h.height,w=(1-y/v)/2),h.width=g,h.height=x,{top:E,left:w,right:w,bottom:E}}(l,i,r),u=_Re(l,a.width,a.height),d=ce(function(){var h=Wj(t),f=lu(function(b,g,x){return J2(x,"inputResolution"),[1/x.width*b[0][0]*g.width,1/x.height*b[0][1]*g.width,b[0][3]*g.width,1/x.width*b[1][0]*g.height,1/x.height*b[1][1]*g.height,b[1][3]*g.height,0,0]}(u,a,i),[1,8]),p=o==="zero"?"constant":"nearest",m=co.transform(Ii(Me(h,"float32")),f,"bilinear",p,0,[i.height,i.width]);return s!=null?ARe(m,s):m});return{imageTensor:d,padding:c,transformationMatrix:u}}function DN(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var i=[],r=[],o=[],s=[],a=n;a<t.strides.length&&t.strides[a]===t.strides[n];){var l=RN(t.minScale,t.maxScale,a,t.strides.length);if(a===0&&t.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),s.push(.1),s.push(l),s.push(l);else{for(var c=0;c<t.aspectRatios.length;++c)o.push(t.aspectRatios[c]),s.push(l);if(t.interpolatedScaleAspectRatio>0){var u=a===t.strides.length-1?1:RN(t.minScale,t.maxScale,a+1,t.strides.length);s.push(Math.sqrt(l*u)),o.push(t.interpolatedScaleAspectRatio)}}a++}for(var d=0;d<o.length;++d){var h=Math.sqrt(o[d]);i.push(s[d]/h),r.push(s[d]*h)}var f=0,p=0;if(t.featureMapHeight.length>0)f=t.featureMapHeight[n],p=t.featureMapWidth[n];else{var m=t.strides[n];f=Math.ceil(t.inputSizeHeight/m),p=Math.ceil(t.inputSizeWidth/m)}for(var b=0;b<f;++b)for(var g=0;g<p;++g)for(var x=0;x<i.length;++x){var y={xCenter:(g+t.anchorOffsetX)/p,yCenter:(b+t.anchorOffsetY)/f,width:0,height:0};t.fixedAnchorSize?(y.width=1,y.height=1):(y.width=r[x],y.height=i[x]),e.push(y)}n=a}return e}function RN(t,e,n,i){return i===1?.5*(t+e):t+(e-t)*n/(i-1)}function LN(t,e){var n=e[0],i=e[1];return[n*t[0]+i*t[1]+t[3],n*t[4]+i*t[5]+t[7]]}function ORe(t){return ce(function(){var e=function(r){return ce(function(){return[ct(r,[0,0,0],[1,-1,1]),ct(r,[0,0,1],[1,-1,-1])]})}(t),n=e[0],i=e[1];return{boxes:Fn(i),logits:Fn(n)}})}function DRe(t,e,n,i){return Ya(this,void 0,void 0,function(){var r,o,s,a,l;return Za(this,function(c){switch(c.label){case 0:return t.sort(function(u,d){return Math.max.apply(Math,d.score)-Math.max.apply(Math,u.score)}),r=lu(t.map(function(u){return[u.locationData.relativeBoundingBox.yMin,u.locationData.relativeBoundingBox.xMin,u.locationData.relativeBoundingBox.yMax,u.locationData.relativeBoundingBox.xMax]})),o=Kn(t.map(function(u){return u.score[0]})),[4,co.nonMaxSuppressionAsync(r,o,e,n)];case 1:return[4,(s=c.sent()).array()];case 2:return a=c.sent(),l=t.filter(function(u,d){return a.indexOf(d)>-1}),pt([r,o,s]),[2,l]}})})}function RRe(t,e,n){return Ya(this,void 0,void 0,function(){var i,r,o,s,a;return Za(this,function(l){switch(l.label){case 0:return i=t[0],r=t[1],o=function(c,u,d){return ce(function(){var h,f,p,m;d.reverseOutputOrder?(f=Fn(ct(c,[0,d.boxCoordOffset+0],[-1,1])),h=Fn(ct(c,[0,d.boxCoordOffset+1],[-1,1])),m=Fn(ct(c,[0,d.boxCoordOffset+2],[-1,1])),p=Fn(ct(c,[0,d.boxCoordOffset+3],[-1,1]))):(h=Fn(ct(c,[0,d.boxCoordOffset+0],[-1,1])),f=Fn(ct(c,[0,d.boxCoordOffset+1],[-1,1])),p=Fn(ct(c,[0,d.boxCoordOffset+2],[-1,1])),m=Fn(ct(c,[0,d.boxCoordOffset+3],[-1,1]))),f=Se(Q(Ue(f,d.xScale),u.w),u.x),h=Se(Q(Ue(h,d.yScale),u.h),u.y),d.applyExponentialOnBoxSize?(p=Q(ar(Ue(p,d.hScale)),u.h),m=Q(ar(Ue(m,d.wScale)),u.w)):(p=Q(Ue(p,d.hScale),u.h),m=Q(Ue(m,d.wScale),u.h));var b=Ve(h,Ue(p,2)),g=Ve(f,Ue(m,2)),x=Se(h,Ue(p,2)),y=Se(f,Ue(m,2)),v=Ln([ne(b,[d.numBoxes,1]),ne(g,[d.numBoxes,1]),ne(x,[d.numBoxes,1]),ne(y,[d.numBoxes,1])],1);if(d.numKeypoints)for(var w=0;w<d.numKeypoints;++w){var E=d.keypointCoordOffset+w*d.numValuesPerKeypoint,C=void 0,I=void 0;d.reverseOutputOrder?(C=Fn(ct(c,[0,E],[-1,1])),I=Fn(ct(c,[0,E+1],[-1,1]))):(I=Fn(ct(c,[0,E],[-1,1])),C=Fn(ct(c,[0,E+1],[-1,1])));var T=Se(Q(Ue(C,d.xScale),u.w),u.x),_=Se(Q(Ue(I,d.yScale),u.h),u.y);v=Ln([v,ne(T,[d.numBoxes,1]),ne(_,[d.numBoxes,1])],1)}return v})}(r,e,n),s=ce(function(){var c=i;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(c=Er(i,-n.scoreClippingThresh,n.scoreClippingThresh)),c=Cs(c)):c}),[4,LRe(o,s,n)];case 1:return a=l.sent(),pt([o,s]),[2,a]}})})}function LRe(t,e,n){return Ya(this,void 0,void 0,function(){var i,r,o,s,a,l,c,u,d,h,f,p;return Za(this,function(m){switch(m.label){case 0:return i=[],[4,t.data()];case 1:return r=m.sent(),[4,e.data()];case 2:for(o=m.sent(),s=0;s<n.numBoxes;++s)if(!(n.minScoreThresh!=null&&o[s]<n.minScoreThresh||(a=s*n.numCoords,l=zRe(r[a+0],r[a+1],r[a+2],r[a+3],o[s],n.flipVertically,s),(c=l.locationData.relativeBoundingBox).width<0||c.height<0))){if(n.numKeypoints>0)for((u=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,h=0;h<d;h+=n.numValuesPerKeypoint)f=a+n.keypointCoordOffset+h,p={x:r[f+0],y:n.flipVertically?1-r[f+1]:r[f+1]},u.relativeKeypoints.push(p);i.push(l)}return[2,i]}})})}function zRe(t,e,n,i,r,o,s){return{score:[r],ind:s,locationData:{relativeBoundingBox:{xMin:e,yMin:o?1-n:t,xMax:i,yMax:o?1-t:n,width:i-e,height:n-t}}}}var FRe={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},MRe={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Q2={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},PRe={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},BRe={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},jRe=.3,URe={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},VRe={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},l1,HRe=function(){function t(e,n,i){this.detectorModel=n,this.maxFaces=i,e==="full"?(this.imageToTensorConfig=VRe,this.tensorsToDetectionConfig=BRe,this.anchors=DN(MRe)):(this.imageToTensorConfig=URe,this.tensorsToDetectionConfig=PRe,this.anchors=DN(FRe));var r=Kn(this.anchors.map(function(l){return l.width})),o=Kn(this.anchors.map(function(l){return l.height})),s=Kn(this.anchors.map(function(l){return l.xCenter})),a=Kn(this.anchors.map(function(l){return l.yCenter}));this.anchorTensor={x:s,y:a,w:r,h:o}}return t.prototype.dispose=function(){this.detectorModel.dispose(),pt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),Ya(this,void 0,void 0,function(){var i,r,o,s,a,l,c,u,d,h,f;return Za(this,function(p){switch(p.label){case 0:return e==null?(this.reset(),[2,[]]):(i=ce(function(){var m=Me(Wj(e),"float32");return n&&(m=Fn(co.flipLeftRight(Ii(m,0)),[0])),m}),r=NRe(i,this.imageToTensorConfig),o=r.imageTensor,s=r.transformationMatrix,a=this.detectorModel.execute(o,"Identity:0"),l=ORe(a),c=l.boxes,[4,RRe([u=l.logits,c],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(d=p.sent()).length===0?(pt([i,o,a,u,c]),[2,d]):[4,DRe(d,this.maxFaces,jRe)];case 2:return h=p.sent(),f=function(m,b){m===void 0&&(m=[]);var g,x=(g=b,[].concat.apply([],g));return m.forEach(function(y){var v=y.locationData;v.relativeKeypoints.forEach(function(_){var M=LN(x,[_.x,_.y]),D=M[0],z=M[1];_.x=D,_.y=z});var w=v.relativeBoundingBox,E=Number.MAX_VALUE,C=Number.MAX_VALUE,I=Number.MIN_VALUE,T=Number.MIN_VALUE;[[w.xMin,w.yMin],[w.xMin+w.width,w.yMin],[w.xMin+w.width,w.yMin+w.height],[w.xMin,w.yMin+w.height]].forEach(function(_){var M=LN(x,_),D=M[0],z=M[1];E=Math.min(E,D),I=Math.max(I,D),C=Math.min(C,z),T=Math.max(T,z)}),v.relativeBoundingBox={xMin:E,xMax:I,yMin:C,yMax:T,width:I-E,height:T-C}}),m}(h,s),pt([i,o,a,u,c]),[2,f]}})})},t.prototype.estimateFaces=function(e,n){return Ya(this,void 0,void 0,function(){var i,r;return Za(this,function(o){return i=Hj(e),r=!!n&&n.flipHorizontal,[2,this.detectFaces(e,r).then(function(s){return s.map(function(a){for(var l=a.locationData.relativeKeypoints.map(function(p,m){return uc(uc({},p),{x:p.x*i.width,y:p.y*i.height,name:Vj[m]})}),c=a.locationData.relativeBoundingBox,u=0,d=["width","xMax","xMin"];u<d.length;u++)c[d[u]]*=i.width;for(var h=0,f=["height","yMax","yMin"];h<f.length;h++)c[f[h]]*=i.height;return{keypoints:l,box:c}})})]})})},t}();function WRe(t){return Ya(this,void 0,void 0,function(){var e,n,i;return Za(this,function(r){switch(r.label){case 0:return e=function(o){if(o==null)return uc({},Q2);var s=uc({},o);return s.modelType==null&&(s.modelType=Q2.modelType),s.maxFaces==null&&(s.maxFaces=Q2.maxFaces),s.detectorModelUrl==null&&(s.modelType==="full"?s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),s}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,s2e(e.detectorModelUrl,{fromTFHub:n})];case 1:return i=r.sent(),[2,new HRe(e.modelType,i,e.maxFaces)]}})})}function GRe(t,e){return Ya(this,void 0,void 0,function(){var n,i;return Za(this,function(r){if(t===l1.MediaPipeFaceDetector){if(i=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,WRe(n)];if(n.runtime==="mediapipe")return[2,$Re(n)];i=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(i))}throw new Error("".concat(t," is not a supported model name."))})})}(function(t){t.MediaPipeFaceDetector="MediaPipeFaceDetector"})(l1||(l1={}));const qRe=({initialEnabled:t=!1,onToggleChange:e,disabled:n})=>{const[i,r]=te.useState(t),[o,s]=te.useState(null),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(""),[f,p]=te.useState(!1),[m,b]=te.useState(!1),[g,x]=te.useState(!1),y=te.useRef(null),v=te.useRef(null),w=te.useRef(null),E=te.useRef(null);te.useEffect(()=>{const V=window.location.host.includes("github.io");return x(V),t&&C(),()=>j()},[]);const C=async()=>{try{const{data:{user:V}}=await De.auth.getUser();if(!V)throw new Error("No authenticated user");const{data:B}=await De.from("user_facial_enrollments").select("storage_path").eq("user_id",V.id).single();if(!(B!=null&&B.storage_path))throw new Error("No enrollment found");const{data:K}=await De.storage.from("facial-recognition").createSignedUrl(B.storage_path,3600);if(!K)throw new Error("Failed to generate signed URL");s(K.signedUrl),r(!0)}catch(V){console.error("Photo check error:",V),await F()}},I=async()=>{try{await Yue();try{await oA("webgl")}catch(B){console.warn("WebGL not available, falling back to CPU"),await oA("cpu")}const V=g?"https://cdn.jsdelivr.net/npm/@mediapipe/face_detection":"/@mediapipe/face_detection";return w.current=await GRe(l1.MediaPipeFaceDetector,{runtime:"mediapipe",solutionPath:V,modelType:"short"}),!0}catch(V){return console.error("Detector initialization failed:",V),!1}},T=async()=>{if(!y.current)return;if(!await I()){h("Automatic detection unavailable. Please capture manually."),u(!0);return}b(!0),_()},_=async()=>{if(!(!y.current||!w.current||!m))try{if((await w.current.estimateFaces(y.current)).length===1){await M();return}E.current=requestAnimationFrame(_)}catch(V){console.error("Detection error:",V),m&&(E.current=requestAnimationFrame(_))}},M=async()=>{if(!y.current||!v.current)return;const V=v.current,B=V.getContext("2d");B&&(V.width=y.current.videoWidth,V.height=y.current.videoHeight,B.drawImage(y.current,0,0,V.width,V.height),V.toBlob(async K=>{K&&await z(K),W()},"image/jpeg",.8))},D=async()=>{try{p(!0);const V=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});y.current&&(y.current.srcObject=V,await y.current.play(),g?(h('Position face and click "Capture"'),u(!0)):await T())}catch(V){console.error("Camera error:",V),h("Camera access required"),u(!0),r(!1),e(!1)}},z=async V=>{l(!0);try{const{data:{user:B}}=await De.auth.getUser();if(!B)throw new Error("Not authenticated");const K="".concat(B.id,"/enrollment_").concat(Date.now(),".jpg"),{error:q}=await De.storage.from("facial-recognition").upload(K,V,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(q)throw q;const{error:G}=await De.from("user_facial_enrollments").upsert({user_id:B.id,storage_path:K},{onConflict:"user_id"});if(G)throw G;const{data:{publicUrl:le}}=De.storage.from("facial-recognition").getPublicUrl(K);s(le),r(!0),e(!0),h("Face registered successfully!")}catch(B){console.error("Upload error:",B),h("Error: ".concat(B instanceof Error?B.message:"Failed to save")),r(!1),e(!1)}finally{l(!1)}},$=async V=>{if(!V.detail.checked){await F();return}o||await D()},F=async()=>{try{const{data:{user:V}}=await De.auth.getUser();if(V){const{data:B}=await De.from("user_facial_enrollments").select("storage_path").eq("user_id",V.id).single();await De.from("user_facial_enrollments").delete().eq("user_id",V.id),B!=null&&B.storage_path&&await De.storage.from("facial-recognition").remove([B.storage_path])}}catch(V){console.error("Cleanup error:",V)}finally{s(null),r(!1),e(!1)}},j=()=>{var V;E.current&&cancelAnimationFrame(E.current),w.current&&(w.current.dispose&&w.current.dispose(),w.current=null),(V=y.current)!=null&&V.srcObject&&y.current.srcObject.getTracks().forEach(B=>B.stop()),b(!1)},W=()=>{j(),p(!1)};return S.jsxs("div",{className:"ion-padding",children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx($i,{children:S.jsx("strong",{children:"Facial Recognition"})}),a?S.jsx(Wr,{name:"crescent"}):S.jsx(P1,{checked:i,onIonChange:$,disabled:a||n})]}),o&&S.jsx(Sr,{children:S.jsx(kr,{children:S.jsx(Ma,{children:S.jsx(Mr,{className:"ion-justify-content-center",children:S.jsxs(rr,{size:"12",className:"ion-text-center",children:[S.jsx(M1,{src:o,style:{width:"150px",height:"150px",borderRadius:"50%",margin:"0 auto",objectFit:"cover"}}),S.jsx(en,{color:"success",children:S.jsx("p",{children:"Face registered"})})]})})})})}),S.jsxs(go,{isOpen:f,onDidDismiss:W,style:{width:"100%",height:"100%",background:"#000"},children:[S.jsx(Un,{children:S.jsx(Vn,{color:"primary",children:S.jsx(ii,{children:"Register Your Face"})})}),S.jsx(qt,{className:"ion-padding",children:S.jsxs("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[S.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,muted:!0,style:{maxWidth:"100%",maxHeight:"70vh",borderRadius:"8px"}}),S.jsx("canvas",{ref:v,style:{display:"none"}}),m&&S.jsxs("div",{style:{position:"absolute",bottom:"20px",left:0,right:0,textAlign:"center",color:"white",backgroundColor:"rgba(0,0,0,0.5)",padding:"10px",borderRadius:"4px"},children:[S.jsx(Wr,{name:"crescent",color:"light"}),S.jsx("span",{style:{marginLeft:"8px"},children:"Detecting face..."})]})]})}),S.jsx(cie,{children:S.jsxs(Vn,{children:[S.jsxs(He,{expand:"block",onClick:M,color:"primary",disabled:a,style:{margin:"8px"},children:[S.jsx(at,{icon:Iae,slot:"start"}),a?"Processing...":"Capture"]}),S.jsxs(He,{expand:"block",color:"medium",onClick:W,style:{margin:"8px"},children:[S.jsx(at,{icon:Ql,slot:"start"}),"Cancel"]})]})})]}),S.jsx(Rs,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:3e3,position:"top"})]})},XRe=({initialEnabled:t,onToggleChange:e,disabled:n})=>{const[i,r]=te.useState(t),[o,s]=te.useState(""),[a,l]=te.useState(!1),[c,u]=te.useState(!1),[d,h]=te.useState(""),[f,p]=te.useState("success"),[m,b]=te.useState(!1);te.useEffect(()=>{g()},[]),te.useEffect(()=>{r(t)},[t]);const g=async()=>{try{l(!0);const{data:{user:w},error:E}=await De.auth.getUser();if(E||!w){console.log("No authenticated user");return}const{data:C,error:I}=await De.from("user_voice_passwords").select("password").eq("user_id",w.id).single();if(I||!C){console.log("No existing voice password found");return}s(C.password),b(!0),r(!0),e(!0)}catch(w){console.error("Error checking for voice password:",w)}finally{l(!1)}},x=async w=>{!w&&m?await v():(s(""),r(w),e(w))},y=async()=>{const w=o.trim().toUpperCase();if(!w){h("Please enter a voice password"),p("warning"),u(!0);return}l(!0);try{const{data:{user:E},error:C}=await De.auth.getUser();if(C||!E)throw new Error((C==null?void 0:C.message)||"Not authenticated");const{error:I}=await De.from("user_voice_passwords").upsert({user_id:E.id,password:w},{onConflict:"user_id"});if(I)throw I;h("Voice password saved successfully"),p("success"),s(w),r(!0),b(!0),e(!0)}catch(E){console.error("Error saving voice password:",E),h("Failed to save voice password"),p("danger"),r(!1),e(!1)}finally{l(!1),u(!0)}},v=async()=>{l(!0);try{const{data:{user:w}}=await De.auth.getUser();w&&await De.from("user_voice_passwords").delete().eq("user_id",w.id),s(""),r(!1),b(!1),e(!1),h("Voice password removed"),p("success"),u(!0)}catch(w){console.error("Error removing voice password:",w),h("Failed to remove voice password"),p("danger"),u(!0)}finally{l(!1)}};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[S.jsx($i,{style:{marginLeft:"1rem"},children:S.jsx("strong",{children:"Enable Voice Password"})}),a?S.jsx(Wr,{style:{marginLeft:"1rem"},name:"crescent"}):S.jsx(P1,{style:{marginLeft:"1rem"},checked:i,onIonChange:w=>x(w.detail.checked),disabled:n||a})]}),i&&S.jsx(Sr,{style:{width:"100%",maxWidth:"400px",marginLeft:"1rem"},children:S.jsx(kr,{children:m?S.jsxs(S.Fragment,{children:[S.jsx(vn,{label:"Your voice password is saved",labelPlacement:"floating",value:"********",disabled:!0,type:"password"}),S.jsx("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:S.jsx(He,{color:"danger",onClick:v,disabled:a||n,children:"Remove Voice Password"})})]}):S.jsxs(S.Fragment,{children:[S.jsx(vn,{label:"Enter voice password",labelPlacement:"floating",value:o,onIonChange:w=>s(w.detail.value.toUpperCase()),disabled:a||n,type:"password"}),S.jsxs("div",{style:{display:"flex",marginTop:"1rem",gap:"1rem"},children:[S.jsx(He,{onClick:y,disabled:a||n||!o.trim(),children:a?"Saving...":"Submit"}),S.jsx(He,{fill:"outline",color:"danger",onClick:v,disabled:a||n,children:"Cancel"})]})]})})}),S.jsx(Rs,{isOpen:c,onDidDismiss:()=>u(!1),message:d,duration:2e3,color:f,position:"top"})]})},KRe=()=>{const[t,e]=te.useState(!1),[n,i]=te.useState([]),[r,o]=te.useState(!1),[s,a]=te.useState(""),[l,c]=te.useState(!1),[u,d]=te.useState(!1),[h,f]=te.useState(!1),[p,m]=tue(),[b,g]=te.useState(null),[x,y]=te.useState(!0),[v,w]=te.useState(null);te.useEffect(()=>{(async()=>{var j;try{const{data:{user:W},error:V}=await De.auth.getUser();if(V)throw V;if(W){g(W);const{data:B,error:K}=await De.from("recovery_codes").select("code_hash, code_status").eq("user_id",W.id).eq("code_status","active");if(K)throw K;const{count:q}=await De.from("totp_codes").select("*",{count:"exact",head:!0}).eq("user_id",W.id).is("used_at",null),{data:G}=await De.storage.from("facial-recognition").list("".concat(W.id,"/")),{data:le}=await De.from("voice_passwords").select("*").eq("user_id",W.id).is("verified_at",null).single(),oe=(q!=null?q:0)>0,re=(j=G==null?void 0:G.some(_e=>_e.name==="profile.jpg"))!=null?j:!1,we=le!==null;B&&i(B),e(B&&B.length>0||oe||re||we),w(oe?"totp":re?"facial":we?"voice":null)}}catch(W){console.error("Error checking MFA status:",W),a("Failed to load MFA status"),c(!0)}finally{y(!1)}})()},[]);const E=async F=>{const j=Array.from({length:5},()=>Math.floor(1e7+Math.random()*9e7).toString()),{data:W,error:V}=await De.from("recovery_codes").insert(j.map(B=>({user_id:F,code_hash:B,code_status:"active"}))).select("code_hash, code_status");if(V)throw V;return W||[]},C=async F=>{const{error:j}=await De.from("recovery_codes").delete().eq("user_id",F);if(j)throw j},I=async F=>{if(F.detail.checked)if(n.length===0)try{f(!0);const W=await E((b==null?void 0:b.id)||"");i(W),e(!0),a("MFA enabled with recovery codes!"),c(!0)}catch(W){a("Failed to enable MFA"),c(!0)}finally{f(!1)}else e(!0);else d(!0)},T=async F=>{if(d(!1),!!b){f(!0);try{await C(b.id);const{error:j,count:W}=await De.from("user_totp").delete({count:"exact"}).eq("user_id",b.id);if(j)throw j;console.log("Deleted ".concat(W||0," TOTP records"));const{error:V}=await De.from("user_facial_enrollments").delete().eq("user_id",b.id);if(V)throw V;try{const{data:K,error:q}=await De.storage.from("facial-recognition").list(b.id);if(q)throw q;if(K&&K.length>0){const G=K.map(oe=>"".concat(b.id,"/").concat(oe.name)),{error:le}=await De.storage.from("facial-recognition").remove(G);if(le)throw le;console.log("Deleted ".concat(G.length," facial recognition files"))}}catch(K){console.error("Facial storage cleanup error:",K)}const{error:B}=await De.from("user_voice_passwords").delete().eq("user_id",b.id);if(B)throw B;i([]),e(!1),w(null),a("All MFA methods disabled successfully!"),c(!0),await De.from("audit_logs").insert({user_id:b.id,action:"mfa_disabled",details:{methods:["totp","recovery_codes","facial","voice"]}})}catch(j){console.error("Error disabling MFA:",j),a(j.message||"Failed to completely disable MFA. Some elements may remain active."),c(!0)}finally{f(!1)}}},_=async F=>{if(F){if(w("totp"),e(!0),n.length===0)try{const j=await E((b==null?void 0:b.id)||"");i(j)}catch(j){a("Failed to generate recovery codes"),c(!0)}}else v==="totp"&&w(null)},M=async F=>{if(F){if(w("facial"),e(!0),n.length===0)try{const j=await E((b==null?void 0:b.id)||"");i(j)}catch(j){a("Failed to generate recovery codes"),c(!0)}}else v==="facial"&&w(null)},D=async F=>{if(F){if(w("voice"),e(!0),n.length===0)try{const j=await E((b==null?void 0:b.id)||"");i(j)}catch(j){a("Failed to generate recovery codes"),c(!0)}}else v==="voice"&&w(null)},z=()=>{const F=n.map(j=>j.code_hash).join("\n");m(F),o(!0),setTimeout(()=>o(!1),2e3)},$=async()=>{if(b){f(!0);try{await C(b.id);const F=await E(b.id);i(F),a("Recovery codes regenerated!"),c(!0)}catch(F){console.error("Error regenerating codes:",F),a(F.message||"Failed to regenerate codes"),c(!0)}finally{f(!1)}}};return x?S.jsx(qt,{className:"ion-padding",children:S.jsx(Wr,{name:"crescent"})}):S.jsxs(qt,{className:"ion-padding",children:[S.jsx(Sr,{children:S.jsx(kr,{children:S.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1px"},children:S.jsxs("div",{style:{flexGrow:1},children:[S.jsx("h2",{style:{margin:0},children:"Multi-Factor Authentication"}),S.jsx("p",{style:{margin:0,fontSize:"0.9em",color:"#666"},children:"Add an extra layer of security to your account"}),S.jsx(P1,{checked:t,onIonChange:I,disabled:h})]})})})}),t&&S.jsxs(S.Fragment,{children:[n.length>0&&S.jsxs(Sr,{children:[S.jsxs(aC,{children:[S.jsx(Gd,{children:"Your Recovery Codes"}),S.jsxs(He,{expand:"block",onClick:$,color:"warning",disabled:h,children:[S.jsx(at,{slot:"start",icon:Kae}),"Regenerate All Codes"]})]}),S.jsxs(kr,{children:[S.jsx(en,{color:"medium",children:S.jsx("p",{children:"Save these codes in a secure place. Each code can be used only once."})}),S.jsx(a7,{lines:"full",className:"ion-margin-vertical",children:n.map((F,j)=>S.jsx(br,{children:S.jsxs($i,{children:[S.jsx("h3",{children:F.code_hash}),S.jsxs("p",{children:["Status: ",F.code_status]})]})},j))}),S.jsxs(He,{expand:"block",onClick:z,color:"primary",children:[S.jsx(at,{slot:"start",icon:r?Aae:a9}),r?"Copied!":"Copy All Codes"]})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0px",marginTop:"10px"},children:[S.jsx(nue,{userId:(b==null?void 0:b.id)||"",initialEnabled:v==="totp",onToggleChange:_,disabled:!1}),S.jsx(qRe,{initialEnabled:v==="facial",onToggleChange:M,disabled:!1}),S.jsx(XRe,{initialEnabled:v==="voice",onToggleChange:D,disabled:!1}),S.jsx("h1",{children:"................"})]})]}),S.jsx(ca,{isOpen:u,onDidDismiss:()=>d(!1),header:"Disable MFA?",message:"Are you sure you want to disable Multi-Factor Authentication? This will make your account less secure.",buttons:[{text:"Cancel",role:"cancel"},{text:"Disable",handler:()=>T()}]}),S.jsx(Rs,{isOpen:l,onDidDismiss:()=>c(!1),message:s,duration:3e3,position:"top"})]})},YRe=()=>{const[t,e]=te.useState(""),[n,i]=te.useState(""),[r,o]=te.useState(""),[s,a]=te.useState(""),[l,c]=te.useState(""),[u,d]=te.useState(""),[h,f]=te.useState(""),[p,m]=te.useState(null),[b,g]=te.useState(null),[x,y]=te.useState(!1),[v,w]=te.useState(""),[E,C]=te.useState(!1),[I,T]=te.useState(!0),_=ay();te.useEffect(()=>(console.log("EditProfile component mounted"),(async()=>{T(!0),console.log("Starting to fetch session and user data...");try{const{data:j,error:W}=await De.auth.getSession();if(console.log("Session data:",j),console.log("Session error:",W),W||!(j!=null&&j.session)){console.error("No valid session found:",W),w("You must be logged in to access this page."),y(!0),_.push("/Cephaline-Supabase/login");return}console.log("Fetching user data for email:",j.session.user.email);const{data:V,error:B}=await De.from("users").select("user_firstname, user_lastname, user_avatar_url, user_email, username").eq("user_email",j.session.user.email).single();if(console.log("User data:",V),console.log("User error:",B),B||!V){console.error("Failed to fetch user data:",B),w("Failed to load user data. Please try again."),y(!0);return}c(V.user_firstname||""),d(V.user_lastname||""),g(V.user_avatar_url),e(V.user_email||""),f(V.username||""),console.log("User data set in state")}catch(j){console.error("Error in fetchSessionAndData:",j),w("An unexpected error occurred. Please try again."),y(!0)}finally{T(!1),console.log("Finished loading user data")}})(),()=>{console.log("Component unmounting - cleaning up"),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Revoked blob URL"))}),[_]);const M=F=>{var W;console.log("Avatar input changed");const j=(W=F.target.files)==null?void 0:W[0];if(j){console.log("File selected:",j.name,j.size,j.type),b&&b.startsWith("blob:")&&(URL.revokeObjectURL(b),console.log("Previous blob URL revoked")),m(j);const V=URL.createObjectURL(j);g(V),console.log("New preview URL created:",V)}else console.log("No file selected")},D=()=>(console.log("Validating form..."),r&&r!==s?(console.log("Validation failed: Passwords dont match"),w("Passwords don't match."),!1):r&&!n?(console.log("Validation failed: Current password required"),w("Please enter your current password to change your password."),!1):!l||!u?(console.log("Validation failed: Missing name fields"),w("First name and last name are required."),!1):(console.log("Form validation passed"),!0)),z=async F=>{if(!p)return b;if(console.log("Starting avatar upload for user:",F),p.size>5*1024*1024)throw new Error("Avatar image must be less than 5MB");if(!["image/jpeg","image/png","image/gif","image/webp"].includes(p.type))throw new Error("Only JPG, PNG, GIF, or WebP images are allowed");const W=p.name.split(".").pop(),V="avatar.".concat(W),B="".concat(F,"/").concat(V);try{if(b&&b.includes("user-avatars"))try{const G=b.split("user-avatars/")[1].split("?")[0];await De.storage.from("user-avatars").remove([G])}catch(G){console.warn("Could not delete old avatar:",G)}const{error:K}=await De.storage.from("user-avatars").upload(B,p,{cacheControl:"3600",upsert:!0,contentType:p.type});if(K)throw K;const{data:{publicUrl:q}}=De.storage.from("user-avatars").getPublicUrl(B,{transform:{width:200,height:200,resize:"cover",quality:80}});return q}catch(K){throw console.error("Avatar upload failed:",K),new Error("Failed to upload avatar. Please try again.")}},$=async()=>{if(console.log("Update button clicked"),!D()){console.log("Validation failed - showing alert"),y(!0);return}C(!0),console.log("Starting update process...");try{const{data:F,error:j}=await De.auth.getSession();if(console.log("Current session:",F),console.log("Session error:",j),j||!(F!=null&&F.session)){console.error("No valid session found"),w("Session expired. Please log in again."),y(!0),_.push("/Cephaline-Supabase/login");return}const W=F.session.user;if(console.log("User ID:",W.id),console.log("User email:",W.email),!W.email||!W.id){console.error("Incomplete user information"),w("User information is incomplete. Please log in again."),y(!0);return}if(r){console.log("Password change requested - verifying current password");const{error:K}=await De.auth.signInWithPassword({email:W.email,password:n});if(console.log("Password verification result:",K),K){console.error("Current password verification failed"),w("Incorrect current password."),y(!0);return}}let V=b;try{console.log("Processing avatar upload..."),V=await z(W.id),console.log("Avatar URL after upload:",V)}catch(K){console.error("Avatar upload error:",K),w(K instanceof Error?K.message:"Failed to upload avatar"),y(!0);return}console.log("Updating user profile in database...");const{error:B}=await De.from("users").update({user_firstname:l,user_lastname:u,user_avatar_url:V,username:h}).eq("user_email",W.email);if(console.log("Profile update result:",B),B){console.error("Profile update failed:",B),w("Profile update failed: ".concat(B.message)),y(!0);return}if(r){console.log("Updating password...");const{error:K}=await De.auth.updateUser({password:r});if(console.log("Password update result:",K),K){console.error("Password update failed:",K),w("Password update failed: ".concat(K.message)),y(!0);return}}console.log("Profile update successful!"),w("Profile updated successfully!"),y(!0),setTimeout(()=>{console.log("Navigating back to app..."),_.push("/Cephaline-Supabase/app")},1500)}catch(F){console.error("Update error:",F),w("An unexpected error occurred. Please try again."),y(!0)}finally{C(!1),console.log("Update process completed")}};return S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(sr,{slot:"start",children:S.jsx(Xp,{defaultHref:"/Cephaline-Supabase/app"})})}),S.jsxs(qt,{className:"ion-padding",children:[S.jsx(Ix,{isOpen:I,message:"Loading profile..."}),S.jsx(br,{children:S.jsx(en,{color:"secondary",children:S.jsx("h1",{children:"Edit Account"})})}),S.jsx("br",{}),S.jsx(Vce,{avatarPreview:b,handleAvatarChange:M}),S.jsx(Hce,{username:h,firstName:l,lastName:u,setUsername:f,setFirstName:c,setLastName:d}),S.jsx(Wce,{password:r,confirmPassword:s,currentPassword:n,setPassword:o,setConfirmPassword:a,setCurrentPassword:i}),S.jsx(He,{expand:"full",onClick:$,shape:"round",disabled:E,children:E?"Updating...":"Update Account"}),S.jsx(KRe,{}),S.jsx(ca,{isOpen:x,onDidDismiss:()=>y(!1),message:v,buttons:["OK"]})]})]})},ZRe=({markdownContent:t,onContentChange:e})=>S.jsx(Sr,{style:{height:"400px",margin:"0 0 20px 0"},children:S.jsx(kr,{style:{height:"100%",padding:"0"},children:S.jsx(cC,{value:t,placeholder:"Write your journal entry (supports Markdown formatting)...",autoGrow:!0,rows:6,onIonChange:n=>e(n.detail.value),style:{height:"100%",fontSize:"14px",padding:"10px"}})})}),JRe=({onSave:t,disabled:e,loading:n})=>S.jsx(He,{onClick:t,disabled:e||n,expand:"block",children:n?S.jsxs(S.Fragment,{children:[S.jsx(Wr,{name:"crescent"}),"Saving..."]}):"Save Page"}),QRe=({selectedMood:t,onMoodChange:e})=>{const n=[{level:"angry",display:"Angry",min:0,max:20,color:"#F44336",icon:Cae},{level:"sad",display:"Sad",min:20,max:40,color:"#FF9800",icon:Zae},{level:"neutral",display:"Neutral",min:40,max:60,color:"#FFC107",icon:Yae},{level:"happy",display:"Happy",min:60,max:80,color:"#8BC34A",icon:Lae},{level:"love",display:"Super Happy",min:80,max:100,color:"#4CAF50",icon:Fae}],[i,r]=te.useState(t&&n.findIndex(c=>c.level===t)*20+10||50),s=n.find(u=>i>=u.min&&i<=u.max)||n[2],a=c=>{r(c);const u=n.find(d=>c>=d.min&&c<=d.max)||n[2];e(u.level)},l=c=>{const u=c*20+10;r(u),e(n[c].level)};return S.jsxs(br,{lines:"none",style:{flexDirection:"column",alignItems:"flex-start",width:"100%",margin:"30px 0 50px 0",padding:"0 16px","--inner-padding-end":"0"},children:[S.jsx($i,{children:"Mood Spectrum"}),S.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"8px 0"},children:[S.jsx(at,{icon:s.icon,style:{color:s.color,minWidth:"24px"}}),S.jsx(fie,{min:0,max:100,value:i,onIonChange:c=>a(c.detail.value),style:{flex:1,margin:"0 12px","--bar-background":"linear-gradient(to right, \n              ".concat(n.map(c=>"".concat(c.color," ").concat(c.min,"%, ").concat(c.color," ").concat(c.max,"%")).join(", "))}}),S.jsx(at,{icon:s.icon,style:{color:s.color,minWidth:"24px"}})]}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",width:"100%",gap:"8px",marginTop:"8px"},children:n.map((c,u)=>S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",flex:"1 0 calc(20% - 8px)",minWidth:"60px"},onClick:()=>l(u),children:[S.jsx(at,{icon:c.icon,style:{color:c.level===s.level?c.color:"#cccccc",fontSize:"24px",padding:"4px"}}),S.jsx("span",{style:{fontSize:"10px",marginTop:"4px",color:c.level===s.level?c.color:"#666666",textAlign:"center",wordBreak:"break-word"},children:c.display})]},c.level))}),S.jsxs($i,{style:{fontSize:"14px",marginTop:"12px",color:s.color,fontWeight:"bold",width:"100%",textAlign:"center"},children:["Current Mood: ",s.display]})]})},e7e=({onAttach:t,isUploading:e})=>{const[n,i]=te.useState(null),[r,o]=te.useState(!1),[s,a]=te.useState(!1),[l,c]=te.useState(!1),[u,d]=te.useState(""),h=te.useRef(null),[f,p]=te.useState(null),[m,b]=te.useState(null),g=[{id:"link",icon:C3,label:"Attach Link"},{id:"image",icon:S3,label:"Attach Image"},{id:"file",icon:I_,label:"Attach File"}],x=T=>{var M;if(e)return;const _=(M=T.target.files)==null?void 0:M[0];_&&(_.type.startsWith("image/")?p(_):b(_))},y=T=>{if(!e)switch(T){case"link":o(!0);break;case"image":a(!0);break;case"file":c(!0);break}},v=()=>{if(e||!u.trim())return;let T=u;/^https?:\/\//i.test(u)||(T="http://"+u),t({type:"link",content:T}),o(!1),d("")},w=()=>{e||!f||(t({type:"image",content:f}),p(null),a(!1))},E=()=>{e||!m||(t({type:"file",content:m}),b(null),c(!1))},C=()=>{o(!1),a(!1),c(!1),d(""),p(null),b(null)},I=T=>{var M;switch((M=T.split(".").pop())==null?void 0:M.toLowerCase()){case"pdf":return S.jsx(at,{icon:Pf,color:"danger"});case"doc":case"docx":return S.jsx(at,{icon:Pf,color:"primary"});case"xls":case"xlsx":return S.jsx(at,{icon:Pf,color:"success"});case"ppt":case"pptx":return S.jsx(at,{icon:Pf,color:"warning"});default:return S.jsx(at,{icon:Pf})}};return S.jsxs(S.Fragment,{children:[S.jsx(Mr,{style:{justifyContent:"flex-start",gap:"8px",padding:"8px"},children:g.map(({id:T,icon:_,label:M})=>S.jsx(rr,{size:"auto",children:S.jsxs("div",{onMouseEnter:()=>!e&&i(T),onMouseLeave:()=>i(null),style:{position:"relative",display:"inline-block",opacity:e?.6:1},children:[S.jsx(at,{icon:_,size:"large",onClick:()=>y(T),style:{cursor:e?"not-allowed":"pointer",padding:"4px"}}),n===T&&S.jsx("div",{style:{position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap",zIndex:1e3,fontSize:"14px"},children:M})]})},T))}),S.jsxs(go,{isOpen:r,onDidDismiss:C,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Attach Link"}),S.jsx(sr,{slot:"end",children:S.jsx(He,{onClick:C,children:S.jsx(at,{icon:$b})})})]})}),S.jsxs(qt,{className:"ion-padding",children:[S.jsx(vn,{value:u,placeholder:"Enter URL (e.g., example.com)",onIonChange:T=>d(T.detail.value),style:{marginBottom:"16px"},disabled:e}),S.jsx(He,{expand:"block",onClick:v,disabled:e||!u.trim(),children:e?"Uploading...":"Attach Link"})]})]}),S.jsxs(go,{isOpen:s,onDidDismiss:C,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Attach Image"}),S.jsx(sr,{slot:"end",children:S.jsx(He,{onClick:C,children:S.jsx(at,{icon:$b})})})]})}),S.jsx(qt,{className:"ion-padding",children:S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[S.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:f?S.jsx("img",{src:URL.createObjectURL(f),alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"}}):S.jsxs(S.Fragment,{children:[S.jsx(at,{icon:S3,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),S.jsx(en,{color:"medium",children:S.jsx("p",{children:"Drag and drop images here or"})}),S.jsx(He,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var T;return!e&&((T=h.current)==null?void 0:T.click())},disabled:e,children:"Select Image"}),S.jsx("input",{type:"file",accept:"image/*",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),S.jsx(He,{expand:"block",onClick:w,disabled:e||!f,children:e?"Uploading...":"Attach Image"})]})})]}),S.jsxs(go,{isOpen:l,onDidDismiss:C,children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(ii,{children:"Attach File"}),S.jsx(sr,{slot:"end",children:S.jsx(He,{onClick:C,children:S.jsx(at,{icon:$b})})})]})}),S.jsx(qt,{className:"ion-padding",children:S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[S.jsx("div",{style:{border:"2px dashed var(--ion-color-medium)",borderRadius:"8px",padding:"20px",textAlign:"center",marginBottom:"16px",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:m?S.jsxs(br,{lines:"none",style:{width:"100%"},children:[S.jsx(gie,{slot:"start",children:I(m.name)}),S.jsxs($i,{children:[S.jsx("h3",{children:m.name}),S.jsxs("p",{children:[(m.size/1024).toFixed(2)," KB"]})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(at,{icon:I_,size:"large",style:{marginBottom:"8px",color:"var(--ion-color-medium)"}}),S.jsx(en,{color:"medium",children:S.jsx("p",{children:"Drag and drop files here or"})}),S.jsx(He,{fill:"outline",style:{marginTop:"8px"},onClick:()=>{var T;return!e&&((T=h.current)==null?void 0:T.click())},disabled:e,children:"Select File"}),S.jsx("input",{type:"file",ref:h,style:{display:"none"},onChange:x,disabled:e})]})}),S.jsx(He,{expand:"block",onClick:E,disabled:e||!m,children:e?"Uploading...":"Attach File"})]})})]})]})},t7e=t=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),n7e=()=>{const t=Wa(),{journalId:e}=ly(),n=e!=null&&e.startsWith(":")?e.slice(1):e,[i,r]=te.useState(""),[o,s]=te.useState(""),[a,l]=te.useState(null),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[f,p]=te.useState(!1),[m]=B1();if(!n||!t7e(n))return S.jsx(wr,{children:S.jsx(qt,{className:"ion-padding",children:S.jsx(Sr,{color:"danger",children:S.jsx(kr,{children:"Invalid Journal ID format. Please go back and try again."})})})});const b=async E=>{h(!0);try{const{data:{user:C},error:I}=await De.auth.getUser(),T=C==null?void 0:C.id;if(I||!T)throw new Error("You must be logged in to upload files");const _=Date.now(),M=E.name.replace(/[^a-zA-Z0-9._-]/g,"_"),D="".concat(T,"/").concat(n,"/").concat(_,"_").concat(M),{data:z,error:$}=await De.storage.from("journal-contents").upload(D,E,{cacheControl:"3600",upsert:!1,contentType:E.type});if($)throw $;const{data:F}=De.storage.from("journal-contents").getPublicUrl(D);return F.publicUrl}catch(C){return m({message:"Upload failed: ".concat(C.message),duration:3e3,color:"danger"}),null}finally{h(!1)}},g=async E=>{try{let C=E.content;if(E.content instanceof File){const I=await b(E.content);if(!I)return;C=I}r(I=>I+"\n".concat(C,"\n"))}catch(C){m({message:"Failed to attach file",duration:3e3,color:"danger"})}},x=E=>{const C=[],I=E.split("\n");for(const T of I)if(T.trim())try{new URL(T.trim()),C.push({type:"link",content:T.trim()});continue}catch(_){C.push({type:"paragraph",content:T})}return C},y=()=>o.trim()?o.length>100?(m({message:"Title is too long (max 100 characters)",duration:2e3,color:"warning"}),!1):i.trim()?!0:(m({message:"Journal content cannot be empty",duration:2e3,color:"warning"}),!1):(m({message:"Page title cannot be empty",duration:2e3,color:"warning"}),!1),v=async()=>{var E;if(!(!y()||d)){u(!0);try{const{data:C,error:I}=await De.from("journal_pages").select("page_no").eq("journal_id",n).order("page_no",{ascending:!1}).limit(1);if(I)throw I;const T=(E=C==null?void 0:C[0])!=null&&E.page_no?C[0].page_no+1:1,{data:_,error:M}=await De.from("journal_pages").insert({journal_id:n,page_title:o.trim(),page_no:T,mood:a}).select().single();if(M)throw M;const z=x(i).map((F,j)=>({page_id:_.page_id,content_order:j+1,paragraph:F.type==="paragraph"?F.content:null,link:F.type==="link"?F.content:null})),{error:$}=await De.from("journal_page_contents").insert(z);if($)throw $;m({message:"Journal page saved successfully!",duration:2e3,color:"success"}),r(""),s(""),l(null)}catch(C){m({message:"Failed to save: ".concat(C.message),duration:3e3,color:"danger"})}finally{u(!1)}t.push("/Cephaline-Supabase/app","forward","replace")}},w=async()=>{try{u(!0);const{data:{user:E}}=await De.auth.getUser();if(E){const T="".concat(E.id,"/").concat(n),{error:_}=await De.storage.from("journal-contents").remove([T]);_&&console.error("Error deleting files:",_)}const{error:C}=await De.from("journal_pages").delete().eq("journal_id",n);if(C)throw C;const{error:I}=await De.from("journals").delete().eq("journal_id",n);if(I)throw I;m({message:"Journal deleted successfully",duration:2e3,color:"success"}),t.push("/Cephaline-Supabase/app","forward","replace")}catch(E){m({message:"Failed to delete journal: ".concat(E.message),duration:3e3,color:"danger"})}finally{u(!1),p(!1)}};return S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(Vn,{})}),S.jsx(ca,{isOpen:f,onDidDismiss:()=>p(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal and all its contents? This action cannot be undone.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",handler:w}]}),S.jsxs(qt,{className:"ion-padding",children:[S.jsx(Sr,{style:{marginBottom:"20px"},children:S.jsxs(kr,{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[S.jsx(sr,{slot:"start",children:S.jsx(Xp,{defaultHref:"/Cephaline-Supabase/app/home"})}),S.jsx(sr,{slot:"end",children:S.jsx(He,{color:"danger",onClick:()=>p(!0),children:S.jsx(at,{slot:"icon-only",icon:rle})})})]}),S.jsxs("p",{children:["Viewing journal entry ",S.jsx("strong",{children:n})]}),S.jsx(br,{children:S.jsx(vn,{value:o,placeholder:"Page Title",onIonChange:E=>s(E.detail.value)})})]})}),S.jsx("h2",{style:{margin:"20px 0"},children:"How are you feeling today?"}),S.jsx(QRe,{selectedMood:a,onMoodChange:l}),S.jsx(ZRe,{markdownContent:i,onContentChange:r}),S.jsx(e7e,{onAttach:g,isUploading:d}),S.jsx(JRe,{onSave:v,disabled:!o.trim()||!i.trim()||c||d,loading:c})]})]})},i7e=({journalId:t,journalTitle:e,journalDescription:n="",onUpdate:i})=>{const r=Wa(),[o,s]=te.useState(e||""),[a,l]=te.useState(n||""),[c,u]=te.useState(!1),[d,h]=te.useState(!1),[f,p]=te.useState(!1),[m,b]=te.useState(!1),[g,x]=te.useState(""),[y,v]=te.useState(!1),w=Wa();te.useEffect(()=>{s(e||""),l(n||"")},[e,n]);const E=()=>{r.push("/Cephaline-Supabase/app/JournalPage/".concat(t))},C=async()=>{s(e||""),l(n||""),u(!0)},I=async()=>{if(!(o!=null&&o.trim())){x("Title cannot be empty"),b(!0);return}p(!0);try{const{error:_}=await De.from("journals").update({title:o.trim(),description:a.trim(),updated_at:new Date().toISOString()}).eq("journal_id",t);if(_)throw _;x("Journal updated successfully"),b(!0),i&&i(),u(!1)}catch(_){console.error("Error updating journal:",_),x("Failed to update journal"),b(!0)}finally{p(!1)}},T=async()=>{try{const{data:{user:_}}=await De.auth.getUser();if(_){const{data:F,error:j}=await De.storage.from("journal-contents").list("".concat(_.id,"/").concat(t));if(j)throw j;if(F&&F.length>0){const W=F.map(B=>"".concat(_.id,"/").concat(t,"/").concat(B.name)),{error:V}=await De.storage.from("journal-contents").remove(W);if(V)throw V}await De.storage.from("journal-contents").remove(["".concat(_.id,"/").concat(t)])}const{data:M,error:D}=await De.from("journal_pages").select("page_id").eq("journal_id",t);if(D)throw D;if(M&&M.length>0){const F=M.map(W=>W.page_id),{error:j}=await De.from("journal_page_contents").delete().in("page_id",F);if(j)throw j}const{error:z}=await De.from("journal_pages").delete().eq("journal_id",t);if(z)throw z;const{error:$}=await De.from("journals").delete().eq("journal_id",t);if($)throw $;x("Journal and all contents deleted successfully"),b(!0),setTimeout(()=>{r.push("/Cephaline-Supabase/app/journals")},1e3)}catch(_){console.error("Error deleting journal:",_),x("Failed to delete journal. Please try again."),b(!0)}finally{w.push("/Cephaline-Supabase/app","forward","replace")}};return S.jsxs(S.Fragment,{children:[S.jsx(Sr,{className:"overview-main-card",children:S.jsx(kr,{children:S.jsxs("div",{className:"card-actions-container",children:[S.jsxs(He,{size:"small",onClick:E,className:"action-button",children:[S.jsx(at,{slot:"start",icon:kae}),"Add Page"]}),S.jsxs(He,{size:"small",color:"medium",onClick:C,className:"action-button",disabled:y,children:[S.jsx(at,{slot:"start",icon:Qae}),y?"Loading...":"Settings"]})]})})}),S.jsxs(go,{isOpen:c,onDidDismiss:()=>u(!1),children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(sr,{slot:"start",children:S.jsx(He,{onClick:()=>u(!1),children:S.jsx(at,{slot:"icon-only",icon:Ql})})}),S.jsx(ii,{children:"Journal Settings"}),S.jsx(sr,{slot:"end",children:S.jsx(He,{color:"danger",onClick:()=>h(!0),disabled:f,children:S.jsx(at,{slot:"icon-only",icon:ile})})})]})}),S.jsxs(qt,{className:"ion-padding",children:[S.jsxs(br,{children:[S.jsx($i,{position:"stacked",children:"Title *"}),S.jsx(vn,{value:o,onIonChange:_=>{var M;return s((M=_.detail.value)!=null?M:"")},placeholder:"Enter new journal title",clearInput:!0})]}),S.jsxs(br,{children:[S.jsx($i,{position:"stacked",children:"Description"}),S.jsx(cC,{value:a,onIonChange:_=>{var M;return l((M=_.detail.value)!=null?M:"")},placeholder:"Enter new journal description",rows:4,autoGrow:!0})]}),S.jsx("div",{className:"ion-padding-top",children:S.jsx(He,{expand:"block",onClick:I,disabled:!(o!=null&&o.trim())||f,children:f?"Updating...":"Save Changes"})})]})]}),S.jsx(ca,{isOpen:d,onDidDismiss:()=>h(!1),header:"Delete Journal",message:"Are you sure you want to delete this journal? All pages will be permanently deleted.",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:T}]}),S.jsx(Rs,{isOpen:m,onDidDismiss:()=>b(!1),message:g,duration:2e3})]})},r7e=({journalId:t})=>{const e=Wa(),[n]=B1();console.log("OverviewSideCard received journalId:",t);const i=async()=>{if(console.log("Page List button clicked with journalId:",t),!t){console.error("No journalId provided to OverviewSideCard"),await n({message:"Journal ID is missing! Cannot navigate.",duration:2e3,color:"danger",position:"top"});return}const r="/Cephaline-Supabase/app/page-list/".concat(t);console.log("Attempting to navigate to:",r),e.push(r)};return S.jsx(Sr,{className:"overview-side-card",children:S.jsxs(kr,{children:[S.jsx("h2",{children:"Journal Navigation"}),S.jsxs(He,{expand:"block",fill:"outline",onClick:i,disabled:!t,style:{zIndex:10},children:[S.jsx(at,{icon:Uae,slot:"start"}),"Page List"]})]})})},o7e=()=>{const{journalId:t}=ly(),[e,n]=te.useState(""),[i,r]=te.useState(""),[o,s]=te.useState(""),[a,l]=te.useState({titleColor:"#3880ff",descriptionColor:"#555555",cardColor:"#ffffff"}),[c,u]=te.useState(!0),[d,h]=te.useState(""),[f,p]=te.useState(!1),[m,b]=te.useState(null),g=Wa();te.useEffect(()=>{t&&(x(),y())},[t]);const x=async()=>{u(!0);try{const{data:w,error:E}=await De.from("journals").select("title, description, created_at, title_color, description_color, card_color").eq("journal_id",t).single();if(E)throw E;n(w.title),r(w.description||""),s(w.created_at),l({titleColor:w.title_color||"#3880ff",descriptionColor:w.description_color||"#555555",cardColor:w.card_color||"#ffffff"})}catch(w){console.error("Error fetching journal:",w),h("Failed to load journal"),p(!0)}finally{u(!1)}},y=async()=>{try{const{data:w,error:E}=await De.from("journal_pages").select("page_id").eq("journal_id",t).order("page_no",{ascending:!0}).limit(1).single();if(E)throw E;b((w==null?void 0:w.page_id)||null)}catch(w){console.error("Error fetching first page:",w)}},v=()=>{m?g.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat(m)):(h("This journal has no pages yet"),p(!0))};return t?S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(sr,{slot:"start",children:S.jsx(l7,{})}),S.jsx(ii,{children:"Journal Overview"})]})}),S.jsxs(qt,{fullscreen:!0,children:[S.jsxs("div",{className:"overview-container",style:{padding:"16px"},children:[c?S.jsx(Wr,{name:"crescent"}):S.jsx(S.Fragment,{children:S.jsx(i7e,{journalId:t,journalTitle:e,journalDescription:i,onUpdate:x})}),S.jsx(r7e,{journalId:t})]}),S.jsxs("div",{className:"journal-cover clickable-book",onClick:v,style:{backgroundColor:a.cardColor,padding:"16px",borderRadius:"12px",margin:"20px auto",boxShadow:"0 2px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",height:"650px",width:"500px",position:"relative",borderBottom:"4px solid #d3d3d3",borderRight:"4px solid #d3d3d3",display:"flex",flexDirection:"column",justifyContent:"space-between",cursor:"pointer"},children:[S.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",top:0,left:0}}),S.jsxs("div",{style:{paddingTop:"20px"},children:[S.jsx("h1",{style:{color:a.titleColor,marginBottom:"8px",textAlign:"center",fontSize:"2rem",fontWeight:"bold"},children:e}),S.jsx("p",{style:{color:a.descriptionColor,textAlign:"center",marginTop:"50px",fontSize:"1.2rem",padding:"0 20px"},children:i})]}),S.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:S.jsxs("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Created:"," ",new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})]})}),S.jsx("div",{style:{height:"2px",backgroundColor:"#ccc",width:"100%",position:"absolute",bottom:0,left:0}})]}),S.jsx(Rs,{isOpen:f,onDidDismiss:()=>p(!1),message:d,duration:2e3})]})]}):S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(Vn,{children:S.jsx(ii,{children:"Error: No Journal Selected"})})}),S.jsx(qt,{children:S.jsx("p",{children:"Please select a journal from the main page."})})]})},s7e=()=>{const{journalId:t}=ly(),[e,n]=te.useState([]),[i,r]=te.useState(!0);te.useEffect(()=>{t&&(async()=>{try{const{data:a,error:l}=await De.from("journal_pages").select("page_id, page_no, page_title, mood, created_at, updated_at").eq("journal_id",t).order("page_no",{ascending:!0});if(l)throw l;n(a||[])}catch(a){console.error("Error fetching pages:",a)}finally{r(!1)}})()},[t]);const o=s=>new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsx(Vn,{})}),S.jsx(qt,{children:i?S.jsx("div",{className:"ion-padding",children:"Loading pages..."}):e.length===0?S.jsx("div",{className:"ion-padding",children:"No pages found for this journal."}):S.jsxs(a7,{children:[S.jsx(sr,{slot:"start",children:S.jsx(Xp,{defaultHref:"/Cephaline-Supabase/app/Overviewing/".concat(t)})}),e.map(s=>S.jsx(br,{routerLink:"/Cephaline-Supabase/app/JournalPageView/".concat(t,"/").concat(s.page_id),detail:!0,children:S.jsxs($i,{children:[S.jsxs("h2",{children:[S.jsx(Tx,{color:"medium",style:{marginRight:"8px"},children:s.page_no}),s.page_title]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[s.mood&&S.jsx(Tx,{color:"tertiary",style:{marginRight:"8px"},children:s.mood}),S.jsxs(hie,{style:{fontSize:"0.8rem"},children:["Created: ",o(s.created_at)]})]})]})},s.page_id))]})})]})};function ub(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gj={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,r,o){function s(c,u){if(!r[c]){if(!i[c]){var d=typeof ub=="function"&&ub;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[c]={exports:{}};i[c][0].call(f.exports,function(p){var m=i[c][1][p];return s(m||p)},f,f.exports,n,i,r,o)}return r[c].exports}for(var a=typeof ub=="function"&&ub,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,i,r){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var c,u,d,h,f,p,m,b=[],g=0,x=l.length,y=x,v=o.getTypeOf(l)!=="string";g<l.length;)y=x-g,d=v?(c=l[g++],u=g<x?l[g++]:0,g<x?l[g++]:0):(c=l.charCodeAt(g++),u=g<x?l.charCodeAt(g++):0,g<x?l.charCodeAt(g++):0),h=c>>2,f=(3&c)<<4|u>>4,p=1<y?(15&u)<<2|d>>6:64,m=2<y?63&d:64,b.push(a.charAt(h)+a.charAt(f)+a.charAt(p)+a.charAt(m));return b.join("")},r.decode=function(l){var c,u,d,h,f,p,m=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,y=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&y--,l.charAt(l.length-2)===a.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|y):new Array(0|y);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(h=a.indexOf(l.charAt(m++)))>>4,u=(15&h)<<4|(f=a.indexOf(l.charAt(m++)))>>2,d=(3&f)<<6|(p=a.indexOf(l.charAt(m++))),x[b++]=c,f!==64&&(x[b++]=u),p!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,i,r){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,h,f,p){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,h){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var o=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var o=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(c,u,d,h){var f=s,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,d,h){var f=s,p=h+d;c^=-1;for(var m=h;m<p;m++)c=c>>>8^f[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var o=null;o=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}r.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},r.compressWorker=function(d){return new u("Deflate",d)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function o(f,p){var m,b="";for(m=0;m<p;m++)b+=String.fromCharCode(255&f),f>>>=8;return b}function s(f,p,m,b,g,x){var y,v,w=f.file,E=f.compression,C=x!==c.utf8encode,I=a.transformTo("string",x(w.name)),T=a.transformTo("string",c.utf8encode(w.name)),_=w.comment,M=a.transformTo("string",x(_)),D=a.transformTo("string",c.utf8encode(_)),z=T.length!==w.name.length,$=D.length!==_.length,F="",j="",W="",V=w.dir,B=w.date,K={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(K.crc32=f.crc32,K.compressedSize=f.compressedSize,K.uncompressedSize=f.uncompressedSize);var q=0;p&&(q|=8),C||!z&&!$||(q|=2048);var G=0,le=0;V&&(G|=16),g==="UNIX"?(le=798,G|=function(re,we){var _e=re;return re||(_e=we?16893:33204),(65535&_e)<<16}(w.unixPermissions,V)):(le=20,G|=function(re){return 63&(re||0)}(w.dosPermissions)),y=B.getUTCHours(),y<<=6,y|=B.getUTCMinutes(),y<<=5,y|=B.getUTCSeconds()/2,v=B.getUTCFullYear()-1980,v<<=4,v|=B.getUTCMonth()+1,v<<=5,v|=B.getUTCDate(),z&&(j=o(1,1)+o(u(I),4)+T,F+="up"+o(j.length,2)+j),$&&(W=o(1,1)+o(u(M),4)+D,F+="uc"+o(W.length,2)+W);var oe="";return oe+="\n\0",oe+=o(q,2),oe+=E.magic,oe+=o(y,2),oe+=o(v,2),oe+=o(K.crc32,4),oe+=o(K.compressedSize,4),oe+=o(K.uncompressedSize,4),oe+=o(I.length,2),oe+=o(F.length,2),{fileRecord:d.LOCAL_FILE_HEADER+oe+I+F,dirRecord:d.CENTRAL_FILE_HEADER+o(le,2)+oe+o(M.length,2)+"\0\0\0\0"+o(G,4)+o(b,4)+I+F+M}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function h(f,p,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-b-1))/m:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var m=s(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,m=s(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-f,b=function(g,x,y,v,w){var E=a.transformTo("string",w(v));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(x,4)+o(y,4)+o(E.length,2)+E}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(m){p.processChunk(m)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(m){p.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var m=0;m<p.length;m++)try{p[m].error(f)}catch(b){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},i.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var o=n("../compressions"),s=n("./ZipFileWorker");r.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(h,f){d++;var p=function(x,y){var v=x||y,w=o[v];if(!w)throw new Error(v+" is not a valid compression method !");return w}(f.options.compression,l.compression),m=f.options.compressionOptions||l.compressionOptions||{},b=f.dir,g=f.date;f._compressWorker(p,m).withStreamInfo("file",{name:h,dir:b,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(h){return new s.Promise(function(f,p){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){p(b)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(h,f){var p=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(m){var b=new l(f);return b.load(m),b}).then(function(m){var b=[s.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var x=0;x<g.length;x++)b.push(d(g[x]));return s.Promise.all(b)}).then(function(m){for(var b=m.shift(),g=b.files,x=0;x<g.length;x++){var y=g[x],v=y.fileNameStr,w=o.resolve(y.fileNameStr);p.file(w,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders}),y.dir||(p.file(w).unsafeOriginalName=v)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var o=n("readable-stream").Readable;function s(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,h){u.push(d)||u._helper.pause(),c&&c(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,r){function o(w,E,C){var I,T=a.getTypeOf(E),_=a.extend(C||{},u);_.date=_.date||new Date,_.compression!==null&&(_.compression=_.compression.toUpperCase()),typeof _.unixPermissions=="string"&&(_.unixPermissions=parseInt(_.unixPermissions,8)),_.unixPermissions&&16384&_.unixPermissions&&(_.dir=!0),_.dosPermissions&&16&_.dosPermissions&&(_.dir=!0),_.dir&&(w=g(w)),_.createFolders&&(I=b(w))&&x.call(this,I,!0);var M=T==="string"&&_.binary===!1&&_.base64===!1;C&&C.binary!==void 0||(_.binary=!M),(E instanceof d&&E.uncompressedSize===0||_.dir||!E||E.length===0)&&(_.base64=!1,_.binary=!0,E="",_.compression="STORE",T="string");var D=null;D=E instanceof d||E instanceof l?E:p.isNode&&p.isStream(E)?new m(w,E):a.prepareContent(w,E,_.binary,_.optimizedBinaryString,_.base64);var z=new h(w,D,_);this.files[w]=z}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),b=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},x=function(w,E){return E=E!==void 0?E:u.createFolders,w=g(w),this.files[w]||o.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]};function y(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,C,I;for(E in this.files)I=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(C,I)},filter:function(w){var E=[];return this.forEach(function(C,I){w(C,I)&&E.push(I)}),E},file:function(w,E,C){if(arguments.length!==1)return w=this.root+w,o.call(this,w,E,C),this;if(y(w)){var I=w;return this.filter(function(_,M){return!M.dir&&I.test(_)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(y(w))return this.filter(function(T,_){return _.dir&&w.test(T)});var E=this.root+w,C=x.call(this,E),I=this.clone();return I.root=C.name,I},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var C=this.filter(function(T,_){return _.name.slice(0,w.length)===w}),I=0;I<C.length;I++)delete this.files[C[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,C={};try{if((C=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var I=C.comment||this.comment||"";E=f.generateWorker(this,C,I)}catch(T){(E=new l("error")).error(T)}return new c(E,C.type||"string",C.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};i.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&d===h[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,r){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");i.exports=function(d){var h=o.getTypeOf(d);return o.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new c(d):s.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=o},{}],29:[function(n,i,r){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function h(p,m){return new u.Promise(function(b,g){var x=[],y=p._internalType,v=p._outputType,w=p._mimeType;p.on("data",function(E,C){x.push(E),m&&m(C)}).on("error",function(E){x=[],g(E)}).on("end",function(){try{var E=function(C,I,T){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",I),T);case"base64":return l.encode(I);default:return o.transformTo(C,I)}}(v,function(C,I){var T,_=0,M=null,D=0;for(T=0;T<I.length;T++)D+=I[T].length;switch(C){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(M=new Uint8Array(D),T=0;T<I.length;T++)M.set(I[T],_),_+=I[T].length;return M;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+C+"'")}}(y,x),w);b(E)}catch(C){g(C)}x=[]}).resume()})}function f(p,m,b){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=b,o.checkSupport(g),this._worker=p.pipe(new s(g)),p.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,m){var b=this;return p==="data"?this._worker.on(p,function(g){m.call(b,g.data,g.meta)}):this._worker.on(p,function(){o.delay(m,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=new Blob([o],{type:"application/zip"}).size===0}catch(a){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),r.blob=s.getBlob("application/zip").size===0}catch(l){r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch(a){r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}r.utf8encode=function(f){return s.nodebuffer?a.newBufferFrom(f,"utf-8"):function(p){var m,b,g,x,y,v=p.length,w=0;for(x=0;x<v;x++)(64512&(b=p.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=p.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),w+=b<128?1:b<2048?2:b<65536?3:4;for(m=s.uint8array?new Uint8Array(w):new Array(w),x=y=0;y<w;x++)(64512&(b=p.charCodeAt(x)))==55296&&x+1<v&&(64512&(g=p.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),x++),b<128?m[y++]=b:(b<2048?m[y++]=192|b>>>6:(b<65536?m[y++]=224|b>>>12:(m[y++]=240|b>>>18,m[y++]=128|b>>>12&63),m[y++]=128|b>>>6&63),m[y++]=128|63&b);return m}(f)},r.utf8decode=function(f){return s.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(p){var m,b,g,x,y=p.length,v=new Array(2*y);for(m=b=0;m<y;)if((g=p[m++])<128)v[b++]=g;else if(4<(x=c[g]))v[b++]=65533,m+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&m<y;)g=g<<6|63&p[m++],x--;1<x?v[b++]=65533:g<65536?v[b++]=g:(g-=65536,v[b++]=55296|g>>10&1023,v[b++]=56320|1023&g)}return v.length!==b&&(v.subarray?v=v.subarray(0,b):v.length=b),o.applyFromCharCode(v)}(f=o.transformTo(s.uint8array?"uint8array":"array",f))},o.inherits(d,l),d.prototype.processChunk=function(f){var p=o.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(x,y){var v;for((y=y||x.length)>x.length&&(y=x.length),v=y-1;0<=v&&(192&x[v])==128;)v--;return v<0||v===0?y:v+c[x[v]]>y?v:y}(p),g=p;b!==p.length&&(s.uint8array?(g=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(g=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:r.utf8decode(g),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=d,o.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:r.utf8encode(f.data),meta:f.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,b){for(var g=0;g<m.length;++g)b[g]=255&m.charCodeAt(g);return b}n("setimmediate"),r.newBlob=function(m,b){r.checkSupport("blob");try{return new Blob([m],{type:b})}catch(x){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(b)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,b,g){var x=[],y=0,v=m.length;if(v<=g)return String.fromCharCode.apply(null,m);for(;y<v;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,m.slice(y,Math.min(y+g,v)))):x.push(String.fromCharCode.apply(null,m.subarray(y,Math.min(y+g,v)))),y+=g;return x.join("")},stringifyByChar:function(m){for(var b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(m){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch(m){return!1}}()}};function h(m){var b=65536,g=r.getTypeOf(m),x=!0;if(g==="uint8array"?x=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(m,g,b)}catch(y){b=Math.floor(b/2)}return d.stringifyByChar(m)}function f(m,b){for(var g=0;g<m.length;g++)b[g]=m[g];return b}r.applyFromCharCode=h;var p={};p.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},p.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},p.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},p.nodebuffer={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:c},r.transformTo=function(m,b){if(b=b||"",!m)return b;r.checkSupport(m);var g=r.getTypeOf(b);return p[g][m](b)},r.resolve=function(m){for(var b=m.split("/"),g=[],x=0;x<b.length;x++){var y=b[x];y==="."||y===""&&x!==0&&x!==b.length-1||(y===".."?g.pop():g.push(y))}return g.join("/")},r.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(m){var b,g,x="";for(g=0;g<(m||"").length;g++)x+="\\x"+((b=m.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return x},r.delay=function(m,b,g){setImmediate(function(){m.apply(g||null,b||[])})},r.inherits=function(m,b){function g(){}g.prototype=b.prototype,m.prototype=new g},r.extend=function(){var m,b,g={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&g[b]===void 0&&(g[b]=arguments[m][b]);return g},r.prepareContent=function(m,b,g,x,y){return l.Promise.resolve(b).then(function(v){return o.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,E){var C=new FileReader;C.onload=function(I){w(I.target.result)},C.onerror=function(I){E(I.target.error)},C.readAsArrayBuffer(v)}):v}).then(function(v){var w=r.getTypeOf(v);return w?(w==="arraybuffer"?v=r.transformTo("uint8array",v):w==="string"&&(y?v=s.decode(v):g&&x!==!0&&(v=function(E){return u(E,o.uint8array?new Uint8Array(E.length):new Array(E.length))}(v))),v):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=s.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,m,b,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)p=f.readInt(2),m=f.readInt(2),b=f.readData(m),this.extraFields[p]={id:p,length:m,value:b};f.setIndex(g)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=o(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null}},i.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function o(p,m,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,b="string";try{if(!p)throw new Error("No output type specified.");var g=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!x&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(y){(m=new u("error")).error(y)}return new s(m,b,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,p,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)o.prototype[d[f]]=h;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(p),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var h=new o.MessageChannel;h.port1.onmessage=p,s=function(){h.port2.postMessage(0)}}var f=[];function p(){var m,b;a=!0;for(var g=f.length;g;){for(b=f,f=[],m=-1;++m<g;)b[m]();g=f.length}a=!1}i.exports=function(m){f.push(m)!==1||a||s()}}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var o=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==s&&m(this,g)}function h(g,x,y){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function f(g,x,y){o(function(){var v;try{v=x(y)}catch(w){return a.reject(g,w)}v===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,v)})}function p(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function m(g,x){var y=!1;function v(C){y||(y=!0,a.reject(g,C))}function w(C){y||(y=!0,a.resolve(g,C))}var E=b(function(){x(w,v)});E.status==="error"&&v(E.value)}function b(g,x){var y={};try{y.value=g(x),y.status="success"}catch(v){y.status="error",y.value=v}return y}(i.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(y){return x.resolve(g()).then(function(){return y})},function(y){return x.resolve(g()).then(function(){throw y})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,x){if(typeof g!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var y=new this.constructor(s);return this.state!==u?f(y,this.state===c?g:x,this.outcome):this.queue.push(new h(y,g,x)),y},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},a.resolve=function(g,x){var y=b(p,x);if(y.status==="error")return a.reject(g,y.value);var v=y.value;if(v)m(g,v);else{g.state=c,g.outcome=x;for(var w=-1,E=g.queue.length;++w<E;)g.queue[w].callFulfilled(x)}return g},a.reject=function(g,x){g.state=l,g.outcome=x;for(var y=-1,v=g.queue.length;++y<v;)g.queue[y].callRejected(x);return g},d.resolve=function(g){return g instanceof this?g:a.resolve(new this(s),g)},d.reject=function(g){var x=new this(s);return a.reject(x,g)},d.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=new Array(y),E=0,C=-1,I=new this(s);++C<y;)T(g[C],C);return I;function T(_,M){x.resolve(_).then(function(D){w[M]=D,++E!==y||v||(v=!0,a.resolve(I,w))},function(D){v||(v=!0,a.reject(I,D))})}},d.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=g.length,v=!1;if(!y)return this.resolve([]);for(var w=-1,E=new this(s);++w<y;)C=g[w],x.resolve(C).then(function(I){v||(v=!0,a.resolve(E,I))},function(I){v||(v=!0,a.reject(E,I))});var C;return E}},{immediate:36}],38:[function(n,i,r){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,f=0,p=8;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(y!==d)throw new Error(l[y]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var v;if(v=typeof x.dictionary=="string"?a.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(y=o.deflateSetDictionary(this.strm,v))!==d)throw new Error(l[y]);this._dict_set=!0}}function b(g,x){var y=new m(x);if(y.push(g,!0),y.err)throw y.msg||l[y.err];return y.result}m.prototype.push=function(g,x){var y,v,w=this.strm,E=this.options.chunkSize;if(this.ended)return!1;v=x===~~x?x:x===!0?4:0,typeof g=="string"?w.input=a.string2buf(g):u.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(E),w.next_out=0,w.avail_out=E),(y=o.deflate(w,v))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&y!==1);return v===4?(y=o.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):v!==2||(this.onEnd(d),!(w.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=m,r.deflate=b,r.deflateRaw=function(g,x){return(x=x||{}).raw=!0,b(g,x)},r.gzip=function(g,x){return(x=x||{}).gzip=!0,b(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function p(m,b){var g=new f(b);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}f.prototype.push=function(m,b){var g,x,y,v,w,E,C=this.strm,I=this.options.chunkSize,T=this.options.dictionary,_=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?C.input=a.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(I),C.next_out=0,C.avail_out=I),(g=o.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(E=typeof T=="string"?a.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=o.inflateSetDictionary(this.strm,E)),g===l.Z_BUF_ERROR&&_===!0&&(g=l.Z_OK,_=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&g!==l.Z_STREAM_END&&(C.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=a.utf8border(C.output,C.next_out),v=C.next_out-y,w=a.buf2string(C.output,y),C.next_out=v,C.avail_out=I-v,v&&s.arraySet(C.output,C.output,y,v,0),this.onData(w)):this.onData(s.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(_=!0)}while((0<C.avail_in||C.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Inflate=f,r.inflate=p,r.inflateRaw=function(m,b){return(b=b||{}).raw=!0,p(m,b)},r.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},r.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),h);else for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){var c,u,d,h,f,p;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(p=new Uint8Array(d),c=h=0,u=l.length;c<u;c++)f=l[c],p.set(f,h),h+=f.length;return p}},a={arraySet:function(l,c,u,d,h){for(var f=0;f<d;f++)l[h+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(o)},{}],42:[function(n,i,r){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(d){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(d[p]);return f}l[254]=l[254]=1,r.string2buf=function(d){var h,f,p,m,b,g=d.length,x=0;for(m=0;m<g;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),x+=f<128?1:f<2048?2:f<65536?3:4;for(h=new o.Buf8(x),m=b=0;b<x;m++)(64512&(f=d.charCodeAt(m)))==55296&&m+1<g&&(64512&(p=d.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?h[b++]=f:(f<2048?h[b++]=192|f>>>6:(f<65536?h[b++]=224|f>>>12:(h[b++]=240|f>>>18,h[b++]=128|f>>>12&63),h[b++]=128|f>>>6&63),h[b++]=128|63&f);return h},r.buf2binstring=function(d){return u(d,d.length)},r.binstring2buf=function(d){for(var h=new o.Buf8(d.length),f=0,p=h.length;f<p;f++)h[f]=d.charCodeAt(f);return h},r.buf2string=function(d,h){var f,p,m,b,g=h||d.length,x=new Array(2*g);for(f=p=0;f<g;)if((m=d[f++])<128)x[p++]=m;else if(4<(b=l[m]))x[p++]=65533,f+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&f<g;)m=m<<6|63&d[f++],b--;1<b?x[p++]=65533:m<65536?x[p++]=m:(m-=65536,x[p++]=55296|m>>10&1023,x[p++]=56320|1023&m)}return u(x,p)},r.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(n,i,r){i.exports=function(o,s,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();i.exports=function(s,a,l,c){var u=o,d=c+l;s^=-1;for(var h=c;h<d;h++)s=s>>>8^u[255&(s^a[h])];return-1^s}},{}],46:[function(n,i,r){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,h=4,f=0,p=-2,m=-1,b=4,g=2,x=8,y=9,v=286,w=30,E=19,C=2*v+1,I=15,T=3,_=258,M=_+T+1,D=42,z=113,$=1,F=2,j=3,W=4;function V(O,me){return O.msg=u[me],me}function B(O){return(O<<1)-(4<O?9:0)}function K(O){for(var me=O.length;0<=--me;)O[me]=0}function q(O){var me=O.state,he=me.pending;he>O.avail_out&&(he=O.avail_out),he!==0&&(s.arraySet(O.output,me.pending_buf,me.pending_out,he,O.next_out),O.next_out+=he,me.pending_out+=he,O.total_out+=he,O.avail_out-=he,me.pending-=he,me.pending===0&&(me.pending_out=0))}function G(O,me){a._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,me),O.block_start=O.strstart,q(O.strm)}function le(O,me){O.pending_buf[O.pending++]=me}function oe(O,me){O.pending_buf[O.pending++]=me>>>8&255,O.pending_buf[O.pending++]=255&me}function re(O,me){var he,Y,X=O.max_chain_length,ae=O.strstart,ye=O.prev_length,Ce=O.nice_match,de=O.strstart>O.w_size-M?O.strstart-(O.w_size-M):0,Ie=O.window,Fe=O.w_mask,Ae=O.prev,We=O.strstart+_,bt=Ie[ae+ye-1],dt=Ie[ae+ye];O.prev_length>=O.good_match&&(X>>=2),Ce>O.lookahead&&(Ce=O.lookahead);do if(Ie[(he=me)+ye]===dt&&Ie[he+ye-1]===bt&&Ie[he]===Ie[ae]&&Ie[++he]===Ie[ae+1]){ae+=2,he++;do;while(Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&Ie[++ae]===Ie[++he]&&ae<We);if(Y=_-(We-ae),ae=We-_,ye<Y){if(O.match_start=me,Ce<=(ye=Y))break;bt=Ie[ae+ye-1],dt=Ie[ae+ye]}}while((me=Ae[me&Fe])>de&&--X!=0);return ye<=O.lookahead?ye:O.lookahead}function we(O){var me,he,Y,X,ae,ye,Ce,de,Ie,Fe,Ae=O.w_size;do{if(X=O.window_size-O.lookahead-O.strstart,O.strstart>=Ae+(Ae-M)){for(s.arraySet(O.window,O.window,Ae,Ae,0),O.match_start-=Ae,O.strstart-=Ae,O.block_start-=Ae,me=he=O.hash_size;Y=O.head[--me],O.head[me]=Ae<=Y?Y-Ae:0,--he;);for(me=he=Ae;Y=O.prev[--me],O.prev[me]=Ae<=Y?Y-Ae:0,--he;);X+=Ae}if(O.strm.avail_in===0)break;if(ye=O.strm,Ce=O.window,de=O.strstart+O.lookahead,Ie=X,Fe=void 0,Fe=ye.avail_in,Ie<Fe&&(Fe=Ie),he=Fe===0?0:(ye.avail_in-=Fe,s.arraySet(Ce,ye.input,ye.next_in,Fe,de),ye.state.wrap===1?ye.adler=l(ye.adler,Ce,Fe,de):ye.state.wrap===2&&(ye.adler=c(ye.adler,Ce,Fe,de)),ye.next_in+=Fe,ye.total_in+=Fe,Fe),O.lookahead+=he,O.lookahead+O.insert>=T)for(ae=O.strstart-O.insert,O.ins_h=O.window[ae],O.ins_h=(O.ins_h<<O.hash_shift^O.window[ae+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[ae+T-1])&O.hash_mask,O.prev[ae&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=ae,ae++,O.insert--,!(O.lookahead+O.insert<T)););}while(O.lookahead<M&&O.strm.avail_in!==0)}function _e(O,me){for(var he,Y;;){if(O.lookahead<M){if(we(O),O.lookahead<M&&me===d)return $;if(O.lookahead===0)break}if(he=0,O.lookahead>=T&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+T-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),he!==0&&O.strstart-he<=O.w_size-M&&(O.match_length=re(O,he)),O.match_length>=T)if(Y=a._tr_tally(O,O.strstart-O.match_start,O.match_length-T),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=T){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+T-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else Y=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(Y&&(G(O,!1),O.strm.avail_out===0))return $}return O.insert=O.strstart<T-1?O.strstart:T-1,me===h?(G(O,!0),O.strm.avail_out===0?j:W):O.last_lit&&(G(O,!1),O.strm.avail_out===0)?$:F}function $e(O,me){for(var he,Y,X;;){if(O.lookahead<M){if(we(O),O.lookahead<M&&me===d)return $;if(O.lookahead===0)break}if(he=0,O.lookahead>=T&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+T-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=T-1,he!==0&&O.prev_length<O.max_lazy_match&&O.strstart-he<=O.w_size-M&&(O.match_length=re(O,he),O.match_length<=5&&(O.strategy===1||O.match_length===T&&4096<O.strstart-O.match_start)&&(O.match_length=T-1)),O.prev_length>=T&&O.match_length<=O.prev_length){for(X=O.strstart+O.lookahead-T,Y=a._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-T),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=X&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+T-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=T-1,O.strstart++,Y&&(G(O,!1),O.strm.avail_out===0))return $}else if(O.match_available){if((Y=a._tr_tally(O,0,O.window[O.strstart-1]))&&G(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return $}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(Y=a._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<T-1?O.strstart:T-1,me===h?(G(O,!0),O.strm.avail_out===0?j:W):O.last_lit&&(G(O,!1),O.strm.avail_out===0)?$:F}function Oe(O,me,he,Y,X){this.good_length=O,this.max_lazy=me,this.nice_length=he,this.max_chain=Y,this.func=X}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*C),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(I+1),this.heap=new s.Buf16(2*v+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*v+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function qe(O){var me;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=g,(me=O.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?D:z,O.adler=me.wrap===2?0:1,me.last_flush=d,a._tr_init(me),f):V(O,p)}function ot(O){var me=qe(O);return me===f&&function(he){he.window_size=2*he.w_size,K(he.head),he.max_lazy_match=o[he.level].max_lazy,he.good_match=o[he.level].good_length,he.nice_match=o[he.level].nice_length,he.max_chain_length=o[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=T-1,he.match_available=0,he.ins_h=0}(O.state),me}function lt(O,me,he,Y,X,ae){if(!O)return p;var ye=1;if(me===m&&(me=6),Y<0?(ye=0,Y=-Y):15<Y&&(ye=2,Y-=16),X<1||y<X||he!==x||Y<8||15<Y||me<0||9<me||ae<0||b<ae)return V(O,p);Y===8&&(Y=9);var Ce=new Ge;return(O.state=Ce).strm=O,Ce.wrap=ye,Ce.gzhead=null,Ce.w_bits=Y,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=X+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+T-1)/T),Ce.window=new s.Buf8(2*Ce.w_size),Ce.head=new s.Buf16(Ce.hash_size),Ce.prev=new s.Buf16(Ce.w_size),Ce.lit_bufsize=1<<X+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new s.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=me,Ce.strategy=ae,Ce.method=he,ot(O)}o=[new Oe(0,0,0,0,function(O,me){var he=65535;for(he>O.pending_buf_size-5&&(he=O.pending_buf_size-5);;){if(O.lookahead<=1){if(we(O),O.lookahead===0&&me===d)return $;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var Y=O.block_start+he;if((O.strstart===0||O.strstart>=Y)&&(O.lookahead=O.strstart-Y,O.strstart=Y,G(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-M&&(G(O,!1),O.strm.avail_out===0))return $}return O.insert=0,me===h?(G(O,!0),O.strm.avail_out===0?j:W):(O.strstart>O.block_start&&(G(O,!1),O.strm.avail_out),$)}),new Oe(4,4,8,4,_e),new Oe(4,5,16,8,_e),new Oe(4,6,32,32,_e),new Oe(4,4,16,16,$e),new Oe(8,16,32,32,$e),new Oe(8,16,128,128,$e),new Oe(8,32,128,256,$e),new Oe(32,128,258,1024,$e),new Oe(32,258,258,4096,$e)],r.deflateInit=function(O,me){return lt(O,me,x,15,8,0)},r.deflateInit2=lt,r.deflateReset=ot,r.deflateResetKeep=qe,r.deflateSetHeader=function(O,me){return O&&O.state?O.state.wrap!==2?p:(O.state.gzhead=me,f):p},r.deflate=function(O,me){var he,Y,X,ae;if(!O||!O.state||5<me||me<0)return O?V(O,p):p;if(Y=O.state,!O.output||!O.input&&O.avail_in!==0||Y.status===666&&me!==h)return V(O,O.avail_out===0?-5:p);if(Y.strm=O,he=Y.last_flush,Y.last_flush=me,Y.status===D)if(Y.wrap===2)O.adler=0,le(Y,31),le(Y,139),le(Y,8),Y.gzhead?(le(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),le(Y,255&Y.gzhead.time),le(Y,Y.gzhead.time>>8&255),le(Y,Y.gzhead.time>>16&255),le(Y,Y.gzhead.time>>24&255),le(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),le(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(le(Y,255&Y.gzhead.extra.length),le(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(O.adler=c(O.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(le(Y,0),le(Y,0),le(Y,0),le(Y,0),le(Y,0),le(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),le(Y,3),Y.status=z);else{var ye=x+(Y.w_bits-8<<4)<<8;ye|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(ye|=32),ye+=31-ye%31,Y.status=z,oe(Y,ye),Y.strstart!==0&&(oe(Y,O.adler>>>16),oe(Y,65535&O.adler)),O.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(X=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),q(O),X=Y.pending,Y.pending!==Y.pending_buf_size));)le(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){X=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),q(O),X=Y.pending,Y.pending===Y.pending_buf_size)){ae=1;break}ae=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,le(Y,ae)}while(ae!==0);Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),ae===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){X=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),q(O),X=Y.pending,Y.pending===Y.pending_buf_size)){ae=1;break}ae=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,le(Y,ae)}while(ae!==0);Y.gzhead.hcrc&&Y.pending>X&&(O.adler=c(O.adler,Y.pending_buf,Y.pending-X,X)),ae===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&q(O),Y.pending+2<=Y.pending_buf_size&&(le(Y,255&O.adler),le(Y,O.adler>>8&255),O.adler=0,Y.status=z)):Y.status=z),Y.pending!==0){if(q(O),O.avail_out===0)return Y.last_flush=-1,f}else if(O.avail_in===0&&B(me)<=B(he)&&me!==h)return V(O,-5);if(Y.status===666&&O.avail_in!==0)return V(O,-5);if(O.avail_in!==0||Y.lookahead!==0||me!==d&&Y.status!==666){var Ce=Y.strategy===2?function(de,Ie){for(var Fe;;){if(de.lookahead===0&&(we(de),de.lookahead===0)){if(Ie===d)return $;break}if(de.match_length=0,Fe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,Fe&&(G(de,!1),de.strm.avail_out===0))return $}return de.insert=0,Ie===h?(G(de,!0),de.strm.avail_out===0?j:W):de.last_lit&&(G(de,!1),de.strm.avail_out===0)?$:F}(Y,me):Y.strategy===3?function(de,Ie){for(var Fe,Ae,We,bt,dt=de.window;;){if(de.lookahead<=_){if(we(de),de.lookahead<=_&&Ie===d)return $;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=T&&0<de.strstart&&(Ae=dt[We=de.strstart-1])===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]){bt=de.strstart+_;do;while(Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&Ae===dt[++We]&&We<bt);de.match_length=_-(bt-We),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=T?(Fe=a._tr_tally(de,1,de.match_length-T),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(Fe=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),Fe&&(G(de,!1),de.strm.avail_out===0))return $}return de.insert=0,Ie===h?(G(de,!0),de.strm.avail_out===0?j:W):de.last_lit&&(G(de,!1),de.strm.avail_out===0)?$:F}(Y,me):o[Y.level].func(Y,me);if(Ce!==j&&Ce!==W||(Y.status=666),Ce===$||Ce===j)return O.avail_out===0&&(Y.last_flush=-1),f;if(Ce===F&&(me===1?a._tr_align(Y):me!==5&&(a._tr_stored_block(Y,0,0,!1),me===3&&(K(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),q(O),O.avail_out===0))return Y.last_flush=-1,f}return me!==h?f:Y.wrap<=0?1:(Y.wrap===2?(le(Y,255&O.adler),le(Y,O.adler>>8&255),le(Y,O.adler>>16&255),le(Y,O.adler>>24&255),le(Y,255&O.total_in),le(Y,O.total_in>>8&255),le(Y,O.total_in>>16&255),le(Y,O.total_in>>24&255)):(oe(Y,O.adler>>>16),oe(Y,65535&O.adler)),q(O),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?f:1)},r.deflateEnd=function(O){var me;return O&&O.state?(me=O.state.status)!==D&&me!==69&&me!==73&&me!==91&&me!==103&&me!==z&&me!==666?V(O,p):(O.state=null,me===z?V(O,-3):f):p},r.deflateSetDictionary=function(O,me){var he,Y,X,ae,ye,Ce,de,Ie,Fe=me.length;if(!O||!O.state||(ae=(he=O.state).wrap)===2||ae===1&&he.status!==D||he.lookahead)return p;for(ae===1&&(O.adler=l(O.adler,me,Fe,0)),he.wrap=0,Fe>=he.w_size&&(ae===0&&(K(he.head),he.strstart=0,he.block_start=0,he.insert=0),Ie=new s.Buf8(he.w_size),s.arraySet(Ie,me,Fe-he.w_size,he.w_size,0),me=Ie,Fe=he.w_size),ye=O.avail_in,Ce=O.next_in,de=O.input,O.avail_in=Fe,O.next_in=0,O.input=me,we(he);he.lookahead>=T;){for(Y=he.strstart,X=he.lookahead-(T-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[Y+T-1])&he.hash_mask,he.prev[Y&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Y,Y++,--X;);he.strstart=Y,he.lookahead=T-1,we(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=T-1,he.match_available=0,O.next_in=Ce,O.input=de,O.avail_in=ye,he.wrap=ae,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(o,s){var a,l,c,u,d,h,f,p,m,b,g,x,y,v,w,E,C,I,T,_,M,D,z,$,F;a=o.state,l=o.next_in,$=o.input,c=l+(o.avail_in-5),u=o.next_out,F=o.output,d=u-(s-o.avail_out),h=u+(o.avail_out-257),f=a.dmax,p=a.wsize,m=a.whave,b=a.wnext,g=a.window,x=a.hold,y=a.bits,v=a.lencode,w=a.distcode,E=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{y<15&&(x+=$[l++]<<y,y+=8,x+=$[l++]<<y,y+=8),I=v[x&E];t:for(;;){if(x>>>=T=I>>>24,y-=T,(T=I>>>16&255)===0)F[u++]=65535&I;else{if(!(16&T)){if(!(64&T)){I=v[(65535&I)+(x&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}_=65535&I,(T&=15)&&(y<T&&(x+=$[l++]<<y,y+=8),_+=x&(1<<T)-1,x>>>=T,y-=T),y<15&&(x+=$[l++]<<y,y+=8,x+=$[l++]<<y,y+=8),I=w[x&C];n:for(;;){if(x>>>=T=I>>>24,y-=T,!(16&(T=I>>>16&255))){if(!(64&T)){I=w[(65535&I)+(x&(1<<T)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(M=65535&I,y<(T&=15)&&(x+=$[l++]<<y,(y+=8)<T&&(x+=$[l++]<<y,y+=8)),f<(M+=x&(1<<T)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=T,y-=T,(T=u-d)<M){if(m<(T=M-T)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(z=g,(D=0)===b){if(D+=p-T,T<_){for(_-=T;F[u++]=g[D++],--T;);D=u-M,z=F}}else if(b<T){if(D+=p+b-T,(T-=b)<_){for(_-=T;F[u++]=g[D++],--T;);if(D=0,b<_){for(_-=T=b;F[u++]=g[D++],--T;);D=u-M,z=F}}}else if(D+=b-T,T<_){for(_-=T;F[u++]=g[D++],--T;);D=u-M,z=F}for(;2<_;)F[u++]=z[D++],F[u++]=z[D++],F[u++]=z[D++],_-=3;_&&(F[u++]=z[D++],1<_&&(F[u++]=z[D++]))}else{for(D=u-M;F[u++]=F[D++],F[u++]=F[D++],F[u++]=F[D++],2<(_-=3););_&&(F[u++]=F[D++],1<_&&(F[u++]=F[D++]))}break}}break}}while(l<c&&u<h);l-=_=y>>3,x&=(1<<(y-=_<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<h?h-u+257:257-(u-h),a.hold=x,a.bits=y}},{}],49:[function(n,i,r){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,h=0,f=-2,p=1,m=852,b=592;function g(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(D){var z;return D&&D.state?(z=D.state,D.total_in=D.total_out=z.total=0,D.msg="",z.wrap&&(D.adler=1&z.wrap),z.mode=p,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new o.Buf32(m),z.distcode=z.distdyn=new o.Buf32(b),z.sane=1,z.back=-1,h):f}function v(D){var z;return D&&D.state?((z=D.state).wsize=0,z.whave=0,z.wnext=0,y(D)):f}function w(D,z){var $,F;return D&&D.state?(F=D.state,z<0?($=0,z=-z):($=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?f:(F.window!==null&&F.wbits!==z&&(F.window=null),F.wrap=$,F.wbits=z,v(D))):f}function E(D,z){var $,F;return D?(F=new x,(D.state=F).window=null,($=w(D,z))!==h&&(D.state=null),$):f}var C,I,T=!0;function _(D){if(T){var z;for(C=new o.Buf32(512),I=new o.Buf32(32),z=0;z<144;)D.lens[z++]=8;for(;z<256;)D.lens[z++]=9;for(;z<280;)D.lens[z++]=7;for(;z<288;)D.lens[z++]=8;for(c(u,D.lens,0,288,C,0,D.work,{bits:9}),z=0;z<32;)D.lens[z++]=5;c(d,D.lens,0,32,I,0,D.work,{bits:5}),T=!1}D.lencode=C,D.lenbits=9,D.distcode=I,D.distbits=5}function M(D,z,$,F){var j,W=D.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new o.Buf8(W.wsize)),F>=W.wsize?(o.arraySet(W.window,z,$-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(F<(j=W.wsize-W.wnext)&&(j=F),o.arraySet(W.window,z,$-F,j,W.wnext),(F-=j)?(o.arraySet(W.window,z,$-F,F,0),W.wnext=F,W.whave=W.wsize):(W.wnext+=j,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=j))),0}r.inflateReset=v,r.inflateReset2=w,r.inflateResetKeep=y,r.inflateInit=function(D){return E(D,15)},r.inflateInit2=E,r.inflate=function(D,z){var $,F,j,W,V,B,K,q,G,le,oe,re,we,_e,$e,Oe,Ge,qe,ot,lt,O,me,he,Y,X=0,ae=new o.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return f;($=D.state).mode===12&&($.mode=13),V=D.next_out,j=D.output,K=D.avail_out,W=D.next_in,F=D.input,B=D.avail_in,q=$.hold,G=$.bits,le=B,oe=K,me=h;e:for(;;)switch($.mode){case p:if($.wrap===0){$.mode=13;break}for(;G<16;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(2&$.wrap&&q===35615){ae[$.check=0]=255&q,ae[1]=q>>>8&255,$.check=a($.check,ae,2,0),G=q=0,$.mode=2;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&q)<<8)+(q>>8))%31){D.msg="incorrect header check",$.mode=30;break}if((15&q)!=8){D.msg="unknown compression method",$.mode=30;break}if(G-=4,O=8+(15&(q>>>=4)),$.wbits===0)$.wbits=O;else if(O>$.wbits){D.msg="invalid window size",$.mode=30;break}$.dmax=1<<O,D.adler=$.check=1,$.mode=512&q?10:12,G=q=0;break;case 2:for(;G<16;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if($.flags=q,(255&$.flags)!=8){D.msg="unknown compression method",$.mode=30;break}if(57344&$.flags){D.msg="unknown header flags set",$.mode=30;break}$.head&&($.head.text=q>>8&1),512&$.flags&&(ae[0]=255&q,ae[1]=q>>>8&255,$.check=a($.check,ae,2,0)),G=q=0,$.mode=3;case 3:for(;G<32;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.head&&($.head.time=q),512&$.flags&&(ae[0]=255&q,ae[1]=q>>>8&255,ae[2]=q>>>16&255,ae[3]=q>>>24&255,$.check=a($.check,ae,4,0)),G=q=0,$.mode=4;case 4:for(;G<16;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.head&&($.head.xflags=255&q,$.head.os=q>>8),512&$.flags&&(ae[0]=255&q,ae[1]=q>>>8&255,$.check=a($.check,ae,2,0)),G=q=0,$.mode=5;case 5:if(1024&$.flags){for(;G<16;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.length=q,$.head&&($.head.extra_len=q),512&$.flags&&(ae[0]=255&q,ae[1]=q>>>8&255,$.check=a($.check,ae,2,0)),G=q=0}else $.head&&($.head.extra=null);$.mode=6;case 6:if(1024&$.flags&&(B<(re=$.length)&&(re=B),re&&($.head&&(O=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),o.arraySet($.head.extra,F,W,re,O)),512&$.flags&&($.check=a($.check,F,re,W)),B-=re,W+=re,$.length-=re),$.length))break e;$.length=0,$.mode=7;case 7:if(2048&$.flags){if(B===0)break e;for(re=0;O=F[W+re++],$.head&&O&&$.length<65536&&($.head.name+=String.fromCharCode(O)),O&&re<B;);if(512&$.flags&&($.check=a($.check,F,re,W)),B-=re,W+=re,O)break e}else $.head&&($.head.name=null);$.length=0,$.mode=8;case 8:if(4096&$.flags){if(B===0)break e;for(re=0;O=F[W+re++],$.head&&O&&$.length<65536&&($.head.comment+=String.fromCharCode(O)),O&&re<B;);if(512&$.flags&&($.check=a($.check,F,re,W)),B-=re,W+=re,O)break e}else $.head&&($.head.comment=null);$.mode=9;case 9:if(512&$.flags){for(;G<16;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(q!==(65535&$.check)){D.msg="header crc mismatch",$.mode=30;break}G=q=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),D.adler=$.check=0,$.mode=12;break;case 10:for(;G<32;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}D.adler=$.check=g(q),G=q=0,$.mode=11;case 11:if($.havedict===0)return D.next_out=V,D.avail_out=K,D.next_in=W,D.avail_in=B,$.hold=q,$.bits=G,2;D.adler=$.check=1,$.mode=12;case 12:if(z===5||z===6)break e;case 13:if($.last){q>>>=7&G,G-=7&G,$.mode=27;break}for(;G<3;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}switch($.last=1&q,G-=1,3&(q>>>=1)){case 0:$.mode=14;break;case 1:if(_($),$.mode=20,z!==6)break;q>>>=2,G-=2;break e;case 2:$.mode=17;break;case 3:D.msg="invalid block type",$.mode=30}q>>>=2,G-=2;break;case 14:for(q>>>=7&G,G-=7&G;G<32;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if((65535&q)!=(q>>>16^65535)){D.msg="invalid stored block lengths",$.mode=30;break}if($.length=65535&q,G=q=0,$.mode=15,z===6)break e;case 15:$.mode=16;case 16:if(re=$.length){if(B<re&&(re=B),K<re&&(re=K),re===0)break e;o.arraySet(j,F,W,re,V),B-=re,W+=re,K-=re,V+=re,$.length-=re;break}$.mode=12;break;case 17:for(;G<14;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if($.nlen=257+(31&q),q>>>=5,G-=5,$.ndist=1+(31&q),q>>>=5,G-=5,$.ncode=4+(15&q),q>>>=4,G-=4,286<$.nlen||30<$.ndist){D.msg="too many length or distance symbols",$.mode=30;break}$.have=0,$.mode=18;case 18:for(;$.have<$.ncode;){for(;G<3;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.lens[ye[$.have++]]=7&q,q>>>=3,G-=3}for(;$.have<19;)$.lens[ye[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,he={bits:$.lenbits},me=c(0,$.lens,0,19,$.lencode,0,$.work,he),$.lenbits=he.bits,me){D.msg="invalid code lengths set",$.mode=30;break}$.have=0,$.mode=19;case 19:for(;$.have<$.nlen+$.ndist;){for(;Oe=(X=$.lencode[q&(1<<$.lenbits)-1])>>>16&255,Ge=65535&X,!(($e=X>>>24)<=G);){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(Ge<16)q>>>=$e,G-=$e,$.lens[$.have++]=Ge;else{if(Ge===16){for(Y=$e+2;G<Y;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(q>>>=$e,G-=$e,$.have===0){D.msg="invalid bit length repeat",$.mode=30;break}O=$.lens[$.have-1],re=3+(3&q),q>>>=2,G-=2}else if(Ge===17){for(Y=$e+3;G<Y;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}G-=$e,O=0,re=3+(7&(q>>>=$e)),q>>>=3,G-=3}else{for(Y=$e+7;G<Y;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}G-=$e,O=0,re=11+(127&(q>>>=$e)),q>>>=7,G-=7}if($.have+re>$.nlen+$.ndist){D.msg="invalid bit length repeat",$.mode=30;break}for(;re--;)$.lens[$.have++]=O}}if($.mode===30)break;if($.lens[256]===0){D.msg="invalid code -- missing end-of-block",$.mode=30;break}if($.lenbits=9,he={bits:$.lenbits},me=c(u,$.lens,0,$.nlen,$.lencode,0,$.work,he),$.lenbits=he.bits,me){D.msg="invalid literal/lengths set",$.mode=30;break}if($.distbits=6,$.distcode=$.distdyn,he={bits:$.distbits},me=c(d,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,he),$.distbits=he.bits,me){D.msg="invalid distances set",$.mode=30;break}if($.mode=20,z===6)break e;case 20:$.mode=21;case 21:if(6<=B&&258<=K){D.next_out=V,D.avail_out=K,D.next_in=W,D.avail_in=B,$.hold=q,$.bits=G,l(D,oe),V=D.next_out,j=D.output,K=D.avail_out,W=D.next_in,F=D.input,B=D.avail_in,q=$.hold,G=$.bits,$.mode===12&&($.back=-1);break}for($.back=0;Oe=(X=$.lencode[q&(1<<$.lenbits)-1])>>>16&255,Ge=65535&X,!(($e=X>>>24)<=G);){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(Oe&&!(240&Oe)){for(qe=$e,ot=Oe,lt=Ge;Oe=(X=$.lencode[lt+((q&(1<<qe+ot)-1)>>qe)])>>>16&255,Ge=65535&X,!(qe+($e=X>>>24)<=G);){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}q>>>=qe,G-=qe,$.back+=qe}if(q>>>=$e,G-=$e,$.back+=$e,$.length=Ge,Oe===0){$.mode=26;break}if(32&Oe){$.back=-1,$.mode=12;break}if(64&Oe){D.msg="invalid literal/length code",$.mode=30;break}$.extra=15&Oe,$.mode=22;case 22:if($.extra){for(Y=$.extra;G<Y;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.length+=q&(1<<$.extra)-1,q>>>=$.extra,G-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=23;case 23:for(;Oe=(X=$.distcode[q&(1<<$.distbits)-1])>>>16&255,Ge=65535&X,!(($e=X>>>24)<=G);){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(!(240&Oe)){for(qe=$e,ot=Oe,lt=Ge;Oe=(X=$.distcode[lt+((q&(1<<qe+ot)-1)>>qe)])>>>16&255,Ge=65535&X,!(qe+($e=X>>>24)<=G);){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}q>>>=qe,G-=qe,$.back+=qe}if(q>>>=$e,G-=$e,$.back+=$e,64&Oe){D.msg="invalid distance code",$.mode=30;break}$.offset=Ge,$.extra=15&Oe,$.mode=24;case 24:if($.extra){for(Y=$.extra;G<Y;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}$.offset+=q&(1<<$.extra)-1,q>>>=$.extra,G-=$.extra,$.back+=$.extra}if($.offset>$.dmax){D.msg="invalid distance too far back",$.mode=30;break}$.mode=25;case 25:if(K===0)break e;if(re=oe-K,$.offset>re){if((re=$.offset-re)>$.whave&&$.sane){D.msg="invalid distance too far back",$.mode=30;break}we=re>$.wnext?(re-=$.wnext,$.wsize-re):$.wnext-re,re>$.length&&(re=$.length),_e=$.window}else _e=j,we=V-$.offset,re=$.length;for(K<re&&(re=K),K-=re,$.length-=re;j[V++]=_e[we++],--re;);$.length===0&&($.mode=21);break;case 26:if(K===0)break e;j[V++]=$.length,K--,$.mode=21;break;case 27:if($.wrap){for(;G<32;){if(B===0)break e;B--,q|=F[W++]<<G,G+=8}if(oe-=K,D.total_out+=oe,$.total+=oe,oe&&(D.adler=$.check=$.flags?a($.check,j,oe,V-oe):s($.check,j,oe,V-oe)),oe=K,($.flags?q:g(q))!==$.check){D.msg="incorrect data check",$.mode=30;break}G=q=0}$.mode=28;case 28:if($.wrap&&$.flags){for(;G<32;){if(B===0)break e;B--,q+=F[W++]<<G,G+=8}if(q!==(4294967295&$.total)){D.msg="incorrect length check",$.mode=30;break}G=q=0}$.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return f}return D.next_out=V,D.avail_out=K,D.next_in=W,D.avail_in=B,$.hold=q,$.bits=G,($.wsize||oe!==D.avail_out&&$.mode<30&&($.mode<27||z!==4))&&M(D,D.output,D.next_out,oe-D.avail_out)?($.mode=31,-4):(le-=D.avail_in,oe-=D.avail_out,D.total_in+=le,D.total_out+=oe,$.total+=oe,$.wrap&&oe&&(D.adler=$.check=$.flags?a($.check,j,oe,D.next_out-oe):s($.check,j,oe,D.next_out-oe)),D.data_type=$.bits+($.last?64:0)+($.mode===12?128:0)+($.mode===20||$.mode===15?256:0),(le==0&&oe===0||z===4)&&me===h&&(me=-5),me)},r.inflateEnd=function(D){if(!D||!D.state)return f;var z=D.state;return z.window&&(z.window=null),D.state=null,h},r.inflateGetHeader=function(D,z){var $;return D&&D.state&&2&($=D.state).wrap?(($.head=z).done=!1,h):f},r.inflateSetDictionary=function(D,z){var $,F=z.length;return D&&D.state?($=D.state).wrap!==0&&$.mode!==11?f:$.mode===11&&s(1,z,F,0)!==$.check?-3:M(D,z,F,F)?($.mode=31,-4):($.havedict=1,h):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,d,h,f,p,m,b,g){var x,y,v,w,E,C,I,T,_,M=g.bits,D=0,z=0,$=0,F=0,j=0,W=0,V=0,B=0,K=0,q=0,G=null,le=0,oe=new o.Buf16(16),re=new o.Buf16(16),we=null,_e=0;for(D=0;D<=15;D++)oe[D]=0;for(z=0;z<f;z++)oe[d[h+z]]++;for(j=M,F=15;1<=F&&oe[F]===0;F--);if(F<j&&(j=F),F===0)return p[m++]=20971520,p[m++]=20971520,g.bits=1,0;for($=1;$<F&&oe[$]===0;$++);for(j<$&&(j=$),D=B=1;D<=15;D++)if(B<<=1,(B-=oe[D])<0)return-1;if(0<B&&(u===0||F!==1))return-1;for(re[1]=0,D=1;D<15;D++)re[D+1]=re[D]+oe[D];for(z=0;z<f;z++)d[h+z]!==0&&(b[re[d[h+z]]++]=z);if(C=u===0?(G=we=b,19):u===1?(G=s,le-=257,we=a,_e-=257,256):(G=l,we=c,-1),D=$,E=m,V=z=q=0,v=-1,w=(K=1<<(W=j))-1,u===1&&852<K||u===2&&592<K)return 1;for(;;){for(I=D-V,_=b[z]<C?(T=0,b[z]):b[z]>C?(T=we[_e+b[z]],G[le+b[z]]):(T=96,0),x=1<<D-V,$=y=1<<W;p[E+(q>>V)+(y-=x)]=I<<24|T<<16|_|0,y!==0;);for(x=1<<D-1;q&x;)x>>=1;if(x!==0?(q&=x-1,q+=x):q=0,z++,--oe[D]==0){if(D===F)break;D=d[h+b[z]]}if(j<D&&(q&w)!==v){for(V===0&&(V=j),E+=$,B=1<<(W=D-V);W+V<F&&!((B-=oe[W+V])<=0);)W++,B<<=1;if(K+=1<<W,u===1&&852<K||u===2&&592<K)return 1;p[v=q&w]=j<<24|W<<16|E-m|0}}return q!==0&&(p[E+q]=D-V<<24|64<<16|0),g.bits=j,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var o=n("../utils/common"),s=0,a=1;function l(X){for(var ae=X.length;0<=--ae;)X[ae]=0}var c=0,u=29,d=256,h=d+1+u,f=30,p=19,m=2*h+1,b=15,g=16,x=7,y=256,v=16,w=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(h+2));l(M);var D=new Array(2*f);l(D);var z=new Array(512);l(z);var $=new Array(256);l($);var F=new Array(u);l(F);var j,W,V,B=new Array(f);function K(X,ae,ye,Ce,de){this.static_tree=X,this.extra_bits=ae,this.extra_base=ye,this.elems=Ce,this.max_length=de,this.has_stree=X&&X.length}function q(X,ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=ae}function G(X){return X<256?z[X]:z[256+(X>>>7)]}function le(X,ae){X.pending_buf[X.pending++]=255&ae,X.pending_buf[X.pending++]=ae>>>8&255}function oe(X,ae,ye){X.bi_valid>g-ye?(X.bi_buf|=ae<<X.bi_valid&65535,le(X,X.bi_buf),X.bi_buf=ae>>g-X.bi_valid,X.bi_valid+=ye-g):(X.bi_buf|=ae<<X.bi_valid&65535,X.bi_valid+=ye)}function re(X,ae,ye){oe(X,ye[2*ae],ye[2*ae+1])}function we(X,ae){for(var ye=0;ye|=1&X,X>>>=1,ye<<=1,0<--ae;);return ye>>>1}function _e(X,ae,ye){var Ce,de,Ie=new Array(b+1),Fe=0;for(Ce=1;Ce<=b;Ce++)Ie[Ce]=Fe=Fe+ye[Ce-1]<<1;for(de=0;de<=ae;de++){var Ae=X[2*de+1];Ae!==0&&(X[2*de]=we(Ie[Ae]++,Ae))}}function $e(X){var ae;for(ae=0;ae<h;ae++)X.dyn_ltree[2*ae]=0;for(ae=0;ae<f;ae++)X.dyn_dtree[2*ae]=0;for(ae=0;ae<p;ae++)X.bl_tree[2*ae]=0;X.dyn_ltree[2*y]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function Oe(X){8<X.bi_valid?le(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function Ge(X,ae,ye,Ce){var de=2*ae,Ie=2*ye;return X[de]<X[Ie]||X[de]===X[Ie]&&Ce[ae]<=Ce[ye]}function qe(X,ae,ye){for(var Ce=X.heap[ye],de=ye<<1;de<=X.heap_len&&(de<X.heap_len&&Ge(ae,X.heap[de+1],X.heap[de],X.depth)&&de++,!Ge(ae,Ce,X.heap[de],X.depth));)X.heap[ye]=X.heap[de],ye=de,de<<=1;X.heap[ye]=Ce}function ot(X,ae,ye){var Ce,de,Ie,Fe,Ae=0;if(X.last_lit!==0)for(;Ce=X.pending_buf[X.d_buf+2*Ae]<<8|X.pending_buf[X.d_buf+2*Ae+1],de=X.pending_buf[X.l_buf+Ae],Ae++,Ce===0?re(X,de,ae):(re(X,(Ie=$[de])+d+1,ae),(Fe=C[Ie])!==0&&oe(X,de-=F[Ie],Fe),re(X,Ie=G(--Ce),ye),(Fe=I[Ie])!==0&&oe(X,Ce-=B[Ie],Fe)),Ae<X.last_lit;);re(X,y,ae)}function lt(X,ae){var ye,Ce,de,Ie=ae.dyn_tree,Fe=ae.stat_desc.static_tree,Ae=ae.stat_desc.has_stree,We=ae.stat_desc.elems,bt=-1;for(X.heap_len=0,X.heap_max=m,ye=0;ye<We;ye++)Ie[2*ye]!==0?(X.heap[++X.heap_len]=bt=ye,X.depth[ye]=0):Ie[2*ye+1]=0;for(;X.heap_len<2;)Ie[2*(de=X.heap[++X.heap_len]=bt<2?++bt:0)]=1,X.depth[de]=0,X.opt_len--,Ae&&(X.static_len-=Fe[2*de+1]);for(ae.max_code=bt,ye=X.heap_len>>1;1<=ye;ye--)qe(X,Ie,ye);for(de=We;ye=X.heap[1],X.heap[1]=X.heap[X.heap_len--],qe(X,Ie,1),Ce=X.heap[1],X.heap[--X.heap_max]=ye,X.heap[--X.heap_max]=Ce,Ie[2*de]=Ie[2*ye]+Ie[2*Ce],X.depth[de]=(X.depth[ye]>=X.depth[Ce]?X.depth[ye]:X.depth[Ce])+1,Ie[2*ye+1]=Ie[2*Ce+1]=de,X.heap[1]=de++,qe(X,Ie,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(dt,Vt){var dr,cn,$r,Pt,_r,to,hr=Vt.dyn_tree,Ic=Vt.max_code,ol=Vt.stat_desc.static_tree,sd=Vt.stat_desc.has_stree,ad=Vt.stat_desc.extra_bits,$c=Vt.stat_desc.extra_base,ci=Vt.stat_desc.max_length,un=0;for(Pt=0;Pt<=b;Pt++)dt.bl_count[Pt]=0;for(hr[2*dt.heap[dt.heap_max]+1]=0,dr=dt.heap_max+1;dr<m;dr++)ci<(Pt=hr[2*hr[2*(cn=dt.heap[dr])+1]+1]+1)&&(Pt=ci,un++),hr[2*cn+1]=Pt,Ic<cn||(dt.bl_count[Pt]++,_r=0,$c<=cn&&(_r=ad[cn-$c]),to=hr[2*cn],dt.opt_len+=to*(Pt+_r),sd&&(dt.static_len+=to*(ol[2*cn+1]+_r)));if(un!==0){do{for(Pt=ci-1;dt.bl_count[Pt]===0;)Pt--;dt.bl_count[Pt]--,dt.bl_count[Pt+1]+=2,dt.bl_count[ci]--,un-=2}while(0<un);for(Pt=ci;Pt!==0;Pt--)for(cn=dt.bl_count[Pt];cn!==0;)Ic<($r=dt.heap[--dr])||(hr[2*$r+1]!==Pt&&(dt.opt_len+=(Pt-hr[2*$r+1])*hr[2*$r],hr[2*$r+1]=Pt),cn--)}}(X,ae),_e(Ie,bt,X.bl_count)}function O(X,ae,ye){var Ce,de,Ie=-1,Fe=ae[1],Ae=0,We=7,bt=4;for(Fe===0&&(We=138,bt=3),ae[2*(ye+1)+1]=65535,Ce=0;Ce<=ye;Ce++)de=Fe,Fe=ae[2*(Ce+1)+1],++Ae<We&&de===Fe||(Ae<bt?X.bl_tree[2*de]+=Ae:de!==0?(de!==Ie&&X.bl_tree[2*de]++,X.bl_tree[2*v]++):Ae<=10?X.bl_tree[2*w]++:X.bl_tree[2*E]++,Ie=de,bt=(Ae=0)===Fe?(We=138,3):de===Fe?(We=6,3):(We=7,4))}function me(X,ae,ye){var Ce,de,Ie=-1,Fe=ae[1],Ae=0,We=7,bt=4;for(Fe===0&&(We=138,bt=3),Ce=0;Ce<=ye;Ce++)if(de=Fe,Fe=ae[2*(Ce+1)+1],!(++Ae<We&&de===Fe)){if(Ae<bt)for(;re(X,de,X.bl_tree),--Ae!=0;);else de!==0?(de!==Ie&&(re(X,de,X.bl_tree),Ae--),re(X,v,X.bl_tree),oe(X,Ae-3,2)):Ae<=10?(re(X,w,X.bl_tree),oe(X,Ae-3,3)):(re(X,E,X.bl_tree),oe(X,Ae-11,7));Ie=de,bt=(Ae=0)===Fe?(We=138,3):de===Fe?(We=6,3):(We=7,4)}}l(B);var he=!1;function Y(X,ae,ye,Ce){oe(X,(c<<1)+(Ce?1:0),3),function(de,Ie,Fe,Ae){Oe(de),le(de,Fe),le(de,~Fe),o.arraySet(de.pending_buf,de.window,Ie,Fe,de.pending),de.pending+=Fe}(X,ae,ye)}r._tr_init=function(X){he||(function(){var ae,ye,Ce,de,Ie,Fe=new Array(b+1);for(de=Ce=0;de<u-1;de++)for(F[de]=Ce,ae=0;ae<1<<C[de];ae++)$[Ce++]=de;for($[Ce-1]=de,de=Ie=0;de<16;de++)for(B[de]=Ie,ae=0;ae<1<<I[de];ae++)z[Ie++]=de;for(Ie>>=7;de<f;de++)for(B[de]=Ie<<7,ae=0;ae<1<<I[de]-7;ae++)z[256+Ie++]=de;for(ye=0;ye<=b;ye++)Fe[ye]=0;for(ae=0;ae<=143;)M[2*ae+1]=8,ae++,Fe[8]++;for(;ae<=255;)M[2*ae+1]=9,ae++,Fe[9]++;for(;ae<=279;)M[2*ae+1]=7,ae++,Fe[7]++;for(;ae<=287;)M[2*ae+1]=8,ae++,Fe[8]++;for(_e(M,h+1,Fe),ae=0;ae<f;ae++)D[2*ae+1]=5,D[2*ae]=we(ae,5);j=new K(M,C,d+1,h,b),W=new K(D,I,0,f,b),V=new K(new Array(0),T,0,p,x)}(),he=!0),X.l_desc=new q(X.dyn_ltree,j),X.d_desc=new q(X.dyn_dtree,W),X.bl_desc=new q(X.bl_tree,V),X.bi_buf=0,X.bi_valid=0,$e(X)},r._tr_stored_block=Y,r._tr_flush_block=function(X,ae,ye,Ce){var de,Ie,Fe=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(Ae){var We,bt=4093624447;for(We=0;We<=31;We++,bt>>>=1)if(1&bt&&Ae.dyn_ltree[2*We]!==0)return s;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return a;for(We=32;We<d;We++)if(Ae.dyn_ltree[2*We]!==0)return a;return s}(X)),lt(X,X.l_desc),lt(X,X.d_desc),Fe=function(Ae){var We;for(O(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),O(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),lt(Ae,Ae.bl_desc),We=p-1;3<=We&&Ae.bl_tree[2*_[We]+1]===0;We--);return Ae.opt_len+=3*(We+1)+5+5+4,We}(X),de=X.opt_len+3+7>>>3,(Ie=X.static_len+3+7>>>3)<=de&&(de=Ie)):de=Ie=ye+5,ye+4<=de&&ae!==-1?Y(X,ae,ye,Ce):X.strategy===4||Ie===de?(oe(X,2+(Ce?1:0),3),ot(X,M,D)):(oe(X,4+(Ce?1:0),3),function(Ae,We,bt,dt){var Vt;for(oe(Ae,We-257,5),oe(Ae,bt-1,5),oe(Ae,dt-4,4),Vt=0;Vt<dt;Vt++)oe(Ae,Ae.bl_tree[2*_[Vt]+1],3);me(Ae,Ae.dyn_ltree,We-1),me(Ae,Ae.dyn_dtree,bt-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,Fe+1),ot(X,X.dyn_ltree,X.dyn_dtree)),$e(X),Ce&&Oe(X)},r._tr_tally=function(X,ae,ye){return X.pending_buf[X.d_buf+2*X.last_lit]=ae>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ae,X.pending_buf[X.l_buf+X.last_lit]=255&ye,X.last_lit++,ae===0?X.dyn_ltree[2*ye]++:(X.matches++,ae--,X.dyn_ltree[2*($[ye]+d+1)]++,X.dyn_dtree[2*G(ae)]++),X.last_lit===X.lit_bufsize-1},r._tr_align=function(X){oe(X,2,3),re(X,y,M),function(ae){ae.bi_valid===16?(le(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(o){(function(s,a){if(!s.setImmediate){var l,c,u,d,h=1,f={},p=!1,m=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(v){process.nextTick(function(){x(v)})}:function(){if(s.postMessage&&!s.importScripts){var v=!0,w=s.onmessage;return s.onmessage=function(){v=!1},s.postMessage("","*"),s.onmessage=w,v}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(v){s.postMessage(d+v,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(v){x(v.data)},function(v){u.port2.postMessage(v)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(v){var w=m.createElement("script");w.onreadystatechange=function(){x(v),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(v){setTimeout(x,0,v)},b.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var C={callback:v,args:w};return f[h]=C,l(h),h++},b.clearImmediate=g}function g(v){delete f[v]}function x(v){if(p)setTimeout(x,0,v);else{var w=f[v];if(w){p=!0;try{(function(E){var C=E.callback,I=E.args;switch(I.length){case 0:C();break;case 1:C(I[0]);break;case 2:C(I[0],I[1]);break;case 3:C(I[0],I[1],I[2]);break;default:C.apply(a,I)}})(w)}finally{g(v),p=!1}}}}function y(v){v.source===s&&typeof v.data=="string"&&v.data.indexOf(d)===0&&x(+v.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Gj);var a7e=Gj.exports;const l7e=Ja(a7e),zN={happy:zae,sad:Jae,love:Mae,angry:Eae,like:tle,dislike:ele,default:Pae},c7e=()=>{const{journalId:t,pageId:e}=ly(),[n,i]=te.useState(null),[r,o]=te.useState([]),[s,a]=te.useState(!0),[l,c]=te.useState({prev:null,next:null}),[u,d]=te.useState(null),[h,f]=te.useState(!1),[p,m]=te.useState(!1),[b,g]=te.useState(!1),[x]=B1(),y=ay();te.useEffect(()=>{t&&e&&(async()=>{try{a(!0);const{data:$,error:F}=await De.from("journal_pages").select("*").eq("page_id",e).single();if(F)throw F;i($);const{data:j,error:W}=await De.from("journal_page_contents").select("*").eq("page_id",e).order("content_order",{ascending:!0});if(W)throw W;o(j||[]);const{data:V,error:B}=await De.from("journal_pages").select("page_id, page_no").eq("journal_id",t).order("page_no",{ascending:!0});if(B)throw B;const K=V.findIndex(q=>q.page_id===e);c({prev:K>0?V[K-1].page_id:null,next:K<V.length-1?V[K+1].page_id:null})}catch($){console.error("Error fetching page:",$),x({message:"Failed to load page data",duration:3e3,color:"danger"})}finally{a(!1)}})()},[t,e,x]);const v=z=>new Date(z).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=z=>{const $=z.toLowerCase();return zN[$]||zN.default},E=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e))},C=()=>{y.push("/Cephaline-Supabase/app/JournalPage/".concat(t,"/").concat(e,"/content"))},I=async()=>{if(!n)throw new Error("Page data not loaded");const z=new l7e,F=(V=>V.replace(/[^a-zA-Z0-9\-_]/g,"_"))(n.page_title||"page_".concat(n.page_no)),j=z.folder(F);let W="Title: ".concat(n.page_title||"Untitled Page","\n");W+="Page Number: ".concat(n.page_no,"\n"),W+="Mood: ".concat(n.mood||"Not specified","\n"),W+="Created: ".concat(new Date(n.created_at).toLocaleString(),"\n"),n.updated_at!==n.created_at&&(W+="Updated: ".concat(new Date(n.updated_at).toLocaleString(),"\n")),W+="\n==== Contents ====\n\n";for(const V of r)if(W+="[Item ".concat(V.content_order,"]\n"),W+="Type: ".concat(V.paragraph?"Text":V.link?"Link":V.image_url?"Image":V.file_url?"File":V.folder_name?"Folder":"Unknown","\n"),V.paragraph)W+="".concat(V.paragraph,"\n\n"),j==null||j.file("content_".concat(V.content_order,".txt"),V.paragraph);else if(V.link)W+="URL: ".concat(V.link,"\n\n"),j==null||j.file("link_".concat(V.content_order,".url"),"[InternetShortcut]\nURL=".concat(V.link));else if(V.image_url||V.file_url){const B=V.image_url||V.file_url||"",K=B.split("/").pop()||"file_".concat(V.content_order);W+="Filename: ".concat(K,"\n");try{const q=await fetch(B);if(!q.ok)throw new Error("HTTP ".concat(q.status));const G=await q.blob();j==null||j.file(K,G),W+="Status: Downloaded successfully\n\n"}catch(q){const G=q;W+="Status: Download failed (".concat(G.message,")\n\n")}}else V.folder_name&&(W+="Folder: ".concat(V.folder_name,"\n\n"));return j==null||j.file("page_contents.txt",W),await z.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})},T=async()=>{try{a(!0);const z=await I(),$=document.createElement("a");$.href=URL.createObjectURL(z),$.download="".concat(n.page_title||"journal-page",".zip"),document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL($.href),x({message:"Download started successfully",duration:3e3,color:"success"})}catch(z){console.error("Error creating zip:",z),x({message:"Failed to prepare download. Please try again.",duration:3e3,color:"danger"})}finally{a(!1)}},_=async()=>{try{g(!0);const z=await I();await new Promise($=>setTimeout($,2e3)),x({message:'File "'.concat(n.page_title||"journal-page",'.zip" would be uploaded to Google Drive in a real implementation.'),duration:3e3,color:"success"})}catch(z){console.error("Error uploading to Google Drive:",z),x({message:"Failed to upload to Google Drive. Please try again.",duration:3e3,color:"danger"})}finally{g(!1)}},M=z=>{if(h)return;const $=z==="prev"?l.prev:l.next;$&&(f(!0),d(z==="prev"?"right":"left"),setTimeout(()=>{y.push("/cephaline-supabase/app/JournalPageView/".concat(t,"/").concat($)),f(!1),d(null)},300))},D=z=>{const $=()=>z.paragraph?$_:z.image_url?S3:z.link?C3:z.file_url||z.folder_name?A_:$_;return S.jsx(Sr,{className:"content-item",children:S.jsxs(kr,{children:[S.jsxs(br,{lines:"none",children:[S.jsx(at,{icon:$(),slot:"start"}),S.jsxs($i,{children:["Item #",z.content_order]})]}),z.paragraph&&S.jsx("div",{className:"content-paragraph",children:S.jsx(en,{children:z.paragraph})}),z.image_url&&S.jsx("div",{className:"content-image",children:S.jsx(M1,{src:z.image_url,alt:"Content ".concat(z.content_order),style:{maxHeight:"300px",objectFit:"contain"}})}),z.link&&S.jsxs(He,{fill:"clear",href:z.link,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(at,{icon:C3,slot:"start"}),"Open Link"]}),z.file_url&&S.jsxs(He,{fill:"clear",href:z.file_url,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(at,{icon:A_,slot:"start"}),"View File"]}),z.folder_name&&S.jsx(en,{color:"medium",children:S.jsxs("p",{children:["Folder: ",z.folder_name]})})]})},z.content_id)};return s?S.jsx(wr,{children:S.jsx(Ix,{isOpen:s,message:"Loading page..."})}):n?S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsxs(ii,{children:["Page ",n.page_no]}),S.jsxs(sr,{slot:"end",children:[S.jsx(He,{onClick:C,children:S.jsx(at,{slot:"icon-only",icon:Sae})}),S.jsx(He,{onClick:E,children:S.jsx(at,{slot:"icon-only",icon:Rae})})]})]})}),S.jsx(qt,{className:"journal-page-content",children:S.jsx("div",{className:"slide-container ".concat(u?"slide-"+u:""),children:S.jsxs("div",{className:"journal-page-container",children:[S.jsx(sr,{slot:"start",children:S.jsx(Xp,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t),style:{color:"skyblue"}})}),S.jsxs("div",{className:"journal-page-header",children:[S.jsxs("div",{className:"page-title-with-download",children:[S.jsx("h1",{style:{marginRight:"12px"},children:n.page_title}),S.jsxs(He,{fill:"clear",size:"small",onClick:()=>m(!0),children:[S.jsx(at,{icon:__,slot:"start"}),"Export"]})]}),n.mood&&S.jsxs("div",{className:"mood-display",children:[S.jsx(at,{icon:w(n.mood),style:{marginRight:"6px",color:"var(--ion-color-primary)"}}),S.jsx(Tx,{color:"tertiary",children:n.mood.charAt(0).toUpperCase()+n.mood.slice(1)})]}),S.jsx("div",{className:"page-metadata",children:S.jsxs(en,{color:"medium",children:[S.jsxs("small",{children:["Created: ",v(n.created_at)]}),n.updated_at!==n.created_at&&S.jsxs("small",{children:[" • Updated: ",v(n.updated_at)]})]})})]}),S.jsxs("div",{className:"contents-section",children:[S.jsxs("h2",{className:"contents-title",children:["Page Contents",S.jsx(Tx,{color:"primary",style:{marginLeft:"8px"},children:r.length})]}),r.length===0?S.jsxs("div",{className:"empty-contents",children:[S.jsx(en,{color:"medium",children:"No content items yet."}),S.jsx(He,{fill:"clear",onClick:C,children:"Add Content"})]}):S.jsx("div",{className:"contents-list",children:r.map(D)})]}),S.jsxs("div",{className:"page-navigation",children:[S.jsxs(He,{fill:"clear",disabled:!l.prev||h,onClick:()=>M("prev"),children:[S.jsx(at,{slot:"start",icon:Nae}),"Previous"]}),S.jsxs(He,{fill:"clear",disabled:!l.next||h,onClick:()=>M("next"),children:["Next",S.jsx(at,{slot:"end",icon:Oae})]})]})]})})}),S.jsx(c7,{isOpen:p,onDidDismiss:()=>m(!1),buttons:[{text:"Download to Device",icon:__,handler:()=>{T()}},{text:"Upload to Google Drive",icon:Dae,handler:()=>{_()}},{text:"Cancel",icon:$b,role:"cancel"}]}),S.jsx(Ix,{isOpen:b,message:"Uploading to Google Drive..."})]}):S.jsxs(wr,{children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(sr,{slot:"start",children:S.jsx(Xp,{defaultHref:"/cephaline-supabase/app/Overviewing/".concat(t)})}),S.jsx(ii,{children:"Page Not Found"})]})}),S.jsx(qt,{children:S.jsx("div",{className:"ion-padding",children:"The requested page could not be found."})})]})},u7e=()=>{const t=ay(),e=[{name:"Home",url:"/Cephaline-Supabase/app/home",icon:Bae},{name:"Profile",url:"/Cephaline-Supabase/app/editProfile",icon:qae}],i={...{animation:"blink 2s infinite",filter:"drop-shadow(0 0 8px white)"},animationDelay:"0.1s",color:"black"},r={display:"flex",color:"black",margin:"3%"},o={display:"flex",color:"white"},s=async()=>{try{const{error:a}=await De.auth.signOut();if(a)throw a;t.push("/Cephaline-Supabase")}catch(a){console.error("Error logging out:",a)}};return S.jsxs(S.Fragment,{children:[S.jsxs(uie,{contentId:"main-content",children:[S.jsx(Un,{children:S.jsx(Vn,{children:S.jsx(ii,{style:i,children:"Menu Content"})})}),S.jsxs(qt,{className:"ion-padding",children:[e.map((a,l)=>S.jsx(die,{children:S.jsxs(br,{style:r,routerLink:a.url,routerDirection:"forward",children:[S.jsx(at,{style:i,icon:a.icon,slot:"start"}),a.name]})},l)),S.jsxs(He,{onClick:s,expand:"full",style:{marginTop:"10%",width:"90vw",maxWidth:"250px",height:"auto",padding:"1rem"},children:[S.jsx(at,{icon:Vae,slot:"start"}),"Logout"]})]})]}),S.jsxs(wr,{id:"main-content",children:[S.jsx(Un,{children:S.jsxs(Vn,{children:[S.jsx(sr,{slot:"start",children:S.jsx(l7,{style:i})}),S.jsx(ii,{style:o,children:"Menu"})]})}),S.jsxs(qd,{id:"main",children:[S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/home",component:Uce}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/editProfile",component:YRe}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/JournalPage/:journalId?",component:n7e}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/page-list/:journalId",component:s7e}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/JournalPageView/:journalId/:pageId",component:c7e}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app/Overviewing/:journalId",component:o7e}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/app",children:S.jsx(Xre,{to:"/Cephaline-Supabase/app/home"})})]})]})]})};Pie();const d7e=()=>S.jsx(u7,{children:S.jsx(loe,{children:S.jsxs(qd,{children:[S.jsx(so,{exact:!0,path:"/Cephaline-Supabase",component:bce}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/registration",component:Rce}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/forgotpassword",component:Lce}),S.jsx(so,{exact:!0,path:"/Cephaline-Supabase/changepassword",component:zce}),S.jsx(so,{path:"/Cephaline-Supabase/app",component:u7e})]})})}),h7e=document.getElementById("root"),f7e=xW.createRoot(h7e);f7e.render(S.jsx(Ne.StrictMode,{children:S.jsx(d7e,{})}));export{RR as K,m7e as __vite_legacy_guard,Wi as a,Ts as b,Am as c,mo as d,O4 as e,yx as f,XD as g,a3 as h,za as i,Gt as j,yi as k,r3 as l,R7e as m,Le as n,b7e as o,g7e as p,Ja as q,gu as r,D7e as s,Hr as w};
